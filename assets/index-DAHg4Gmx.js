(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function jf(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function Vw(){if(M_)return Bl;M_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=t,Bl.jsx=n,Bl.jsxs=n,Bl}var V_;function kw(){return V_||(V_=1,lm.exports=Vw()),lm.exports}var R=kw(),um={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function Pw(){if(k_)return Dt;k_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),_=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,W={};function H(M,$,et){this.props=M,this.context=$,this.refs=W,this.updater=et||L}H.prototype.isReactComponent={},H.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},H.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ot(){}ot.prototype=H.prototype;function ht(M,$,et){this.props=M,this.context=$,this.refs=W,this.updater=et||L}var nt=ht.prototype=new ot;nt.constructor=ht,q(nt,H.prototype),nt.isPureReactComponent=!0;var dt=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},rt=Object.prototype.hasOwnProperty;function O(M,$,et,Q,ut,_t){return et=_t.ref,{$$typeof:i,type:M,key:$,ref:et!==void 0?et:null,props:_t}}function A(M,$){return O(M.type,$,void 0,void 0,void 0,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function V(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return $[et]})}var D=/\/+/g;function k(M,$){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):$.toString(36)}function I(){}function Gt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Mt(M,$,et,Q,ut){var _t=typeof M;(_t==="undefined"||_t==="boolean")&&(M=null);var mt=!1;if(M===null)mt=!0;else switch(_t){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(M.$$typeof){case i:case t:mt=!0;break;case T:return mt=M._init,Mt(mt(M._payload),$,et,Q,ut)}}if(mt)return ut=ut(M),mt=Q===""?"."+k(M,0):Q,dt(ut)?(et="",mt!=null&&(et=mt.replace(D,"$&/")+"/"),Mt(ut,$,et,"",function(_e){return _e})):ut!=null&&(N(ut)&&(ut=A(ut,et+(ut.key==null||M&&M.key===ut.key?"":(""+ut.key).replace(D,"$&/")+"/")+mt)),$.push(ut)),1;mt=0;var ne=Q===""?".":Q+":";if(dt(M))for(var jt=0;jt<M.length;jt++)Q=M[jt],_t=ne+k(Q,jt),mt+=Mt(Q,$,et,_t,ut);else if(jt=w(M),typeof jt=="function")for(M=jt.call(M),jt=0;!(Q=M.next()).done;)Q=Q.value,_t=ne+k(Q,jt++),mt+=Mt(Q,$,et,_t,ut);else if(_t==="object"){if(typeof M.then=="function")return Mt(Gt(M),$,et,Q,ut);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return mt}function j(M,$,et){if(M==null)return M;var Q=[],ut=0;return Mt(M,Q,"","",function(_t){return $.call(et,_t,ut++)}),Q}function it(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var ct=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function At(){}return Dt.Children={map:j,forEach:function(M,$,et){j(M,function(){$.apply(this,arguments)},et)},count:function(M){var $=0;return j(M,function(){$++}),$},toArray:function(M){return j(M,function($){return $})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Dt.Component=H,Dt.Fragment=n,Dt.Profiler=o,Dt.PureComponent=ht,Dt.StrictMode=s,Dt.Suspense=p,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return lt.H.useMemoCache(M)}},Dt.cache=function(M){return function(){return M.apply(null,arguments)}},Dt.cloneElement=function(M,$,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Q=q({},M.props),ut=M.key,_t=void 0;if($!=null)for(mt in $.ref!==void 0&&(_t=void 0),$.key!==void 0&&(ut=""+$.key),$)!rt.call($,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&$.ref===void 0||(Q[mt]=$[mt]);var mt=arguments.length-2;if(mt===1)Q.children=et;else if(1<mt){for(var ne=Array(mt),jt=0;jt<mt;jt++)ne[jt]=arguments[jt+2];Q.children=ne}return O(M.type,ut,void 0,void 0,_t,Q)},Dt.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Dt.createElement=function(M,$,et){var Q,ut={},_t=null;if($!=null)for(Q in $.key!==void 0&&(_t=""+$.key),$)rt.call($,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ut[Q]=$[Q]);var mt=arguments.length-2;if(mt===1)ut.children=et;else if(1<mt){for(var ne=Array(mt),jt=0;jt<mt;jt++)ne[jt]=arguments[jt+2];ut.children=ne}if(M&&M.defaultProps)for(Q in mt=M.defaultProps,mt)ut[Q]===void 0&&(ut[Q]=mt[Q]);return O(M,_t,void 0,void 0,null,ut)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(M){return{$$typeof:m,render:M}},Dt.isValidElement=N,Dt.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:it}},Dt.memo=function(M,$){return{$$typeof:g,type:M,compare:$===void 0?null:$}},Dt.startTransition=function(M){var $=lt.T,et={};lt.T=et;try{var Q=M(),ut=lt.S;ut!==null&&ut(et,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(At,ct)}catch(_t){ct(_t)}finally{lt.T=$}},Dt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Dt.use=function(M){return lt.H.use(M)},Dt.useActionState=function(M,$,et){return lt.H.useActionState(M,$,et)},Dt.useCallback=function(M,$){return lt.H.useCallback(M,$)},Dt.useContext=function(M){return lt.H.useContext(M)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(M,$){return lt.H.useDeferredValue(M,$)},Dt.useEffect=function(M,$,et){var Q=lt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(M,$)},Dt.useId=function(){return lt.H.useId()},Dt.useImperativeHandle=function(M,$,et){return lt.H.useImperativeHandle(M,$,et)},Dt.useInsertionEffect=function(M,$){return lt.H.useInsertionEffect(M,$)},Dt.useLayoutEffect=function(M,$){return lt.H.useLayoutEffect(M,$)},Dt.useMemo=function(M,$){return lt.H.useMemo(M,$)},Dt.useOptimistic=function(M,$){return lt.H.useOptimistic(M,$)},Dt.useReducer=function(M,$,et){return lt.H.useReducer(M,$,et)},Dt.useRef=function(M){return lt.H.useRef(M)},Dt.useState=function(M){return lt.H.useState(M)},Dt.useSyncExternalStore=function(M,$,et){return lt.H.useSyncExternalStore(M,$,et)},Dt.useTransition=function(){return lt.H.useTransition()},Dt.version="19.1.0",Dt}var P_;function dp(){return P_||(P_=1,um.exports=Pw()),um.exports}var C=dp();const st=jf(C);var cm={exports:{}},zl={},fm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function Lw(){return L_||(L_=1,function(i){function t(j,it){var ct=j.length;j.push(it);t:for(;0<ct;){var At=ct-1>>>1,M=j[At];if(0<o(M,it))j[At]=it,j[ct]=M,ct=At;else break t}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var it=j[0],ct=j.pop();if(ct!==it){j[0]=ct;t:for(var At=0,M=j.length,$=M>>>1;At<$;){var et=2*(At+1)-1,Q=j[et],ut=et+1,_t=j[ut];if(0>o(Q,ct))ut<M&&0>o(_t,Q)?(j[At]=_t,j[ut]=ct,At=ut):(j[At]=Q,j[et]=ct,At=et);else if(ut<M&&0>o(_t,ct))j[At]=_t,j[ut]=ct,At=ut;else break t}}return it}function o(j,it){var ct=j.sortIndex-it.sortIndex;return ct!==0?ct:j.id-it.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],T=1,_=null,w=3,L=!1,q=!1,W=!1,H=!1,ot=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function dt(j){for(var it=n(g);it!==null;){if(it.callback===null)s(g);else if(it.startTime<=j)s(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(g)}}function lt(j){if(W=!1,dt(j),!q)if(n(p)!==null)q=!0,rt||(rt=!0,k());else{var it=n(g);it!==null&&Mt(lt,it.startTime-j)}}var rt=!1,O=-1,A=5,N=-1;function V(){return H?!0:!(i.unstable_now()-N<A)}function D(){if(H=!1,rt){var j=i.unstable_now();N=j;var it=!0;try{t:{q=!1,W&&(W=!1,ht(O),O=-1),L=!0;var ct=w;try{e:{for(dt(j),_=n(p);_!==null&&!(_.expirationTime>j&&V());){var At=_.callback;if(typeof At=="function"){_.callback=null,w=_.priorityLevel;var M=At(_.expirationTime<=j);if(j=i.unstable_now(),typeof M=="function"){_.callback=M,dt(j),it=!0;break e}_===n(p)&&s(p),dt(j)}else s(p);_=n(p)}if(_!==null)it=!0;else{var $=n(g);$!==null&&Mt(lt,$.startTime-j),it=!1}}break t}finally{_=null,w=ct,L=!1}it=void 0}}finally{it?k():rt=!1}}}var k;if(typeof nt=="function")k=function(){nt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Gt=I.port2;I.port1.onmessage=D,k=function(){Gt.postMessage(null)}}else k=function(){ot(D,0)};function Mt(j,it){O=ot(function(){j(i.unstable_now())},it)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(j){j.callback=null},i.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(j){switch(w){case 1:case 2:case 3:var it=3;break;default:it=w}var ct=w;w=it;try{return j()}finally{w=ct}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(j,it){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ct=w;w=j;try{return it()}finally{w=ct}},i.unstable_scheduleCallback=function(j,it,ct){var At=i.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?At+ct:At):ct=At,j){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ct+M,j={id:T++,callback:it,priorityLevel:j,startTime:ct,expirationTime:M,sortIndex:-1},ct>At?(j.sortIndex=ct,t(g,j),n(p)===null&&j===n(g)&&(W?(ht(O),O=-1):W=!0,Mt(lt,ct-At))):(j.sortIndex=M,t(p,j),q||L||(q=!0,rt||(rt=!0,k()))),j},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(j){var it=w;return function(){var ct=w;w=it;try{return j.apply(this,arguments)}finally{w=ct}}}}(hm)),hm}var U_;function Uw(){return U_||(U_=1,fm.exports=Lw()),fm.exports}var dm={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function jw(){if(j_)return fn;j_=1;var i=dp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:g,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,T)},fn.flushSync=function(p){var g=h.T,T=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=T,s.d.f()}},fn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},fn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},fn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,_=m(T,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:L}):T==="script"&&s.d.X(p,{crossOrigin:_,integrity:w,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},fn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,_=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},fn.requestFormReset=function(p){s.d.r(p)},fn.unstable_batchedUpdates=function(p,g){return p(g)},fn.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},fn.useFormStatus=function(){return h.H.useHostTransitionStatus()},fn.version="19.1.0",fn}var B_;function LE(){if(B_)return dm.exports;B_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),dm.exports=jw(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function Bw(){if(z_)return zl;z_=1;var i=Uw(),t=dp(),n=LE();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),e;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=d;break}if(b===l){E=!0,l=f,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=f;break}if(b===l){E=!0,l=d,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ot=Symbol.for("react.provider"),ht=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case H:return"Profiler";case W:return"StrictMode";case lt:return"Suspense";case rt:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case nt:return(e.displayName||"Context")+".Provider";case ht:return(e._context.displayName||"Context")+".Consumer";case dt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return r=e.displayName||null,r!==null?r:Gt(e.type)||"Memo";case A:r=e._payload,e=e._init;try{return Gt(e(r))}catch{}}return null}var Mt=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},At=[],M=-1;function $(e){return{current:e}}function et(e){0>M||(e.current=At[M],At[M]=null,M--)}function Q(e,r){M++,At[M]=e.current,e.current=r}var ut=$(null),_t=$(null),mt=$(null),ne=$(null);function jt(e,r){switch(Q(mt,r),Q(_t,e),Q(ut,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?o_(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=o_(r),e=l_(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ut),Q(ut,e)}function _e(){et(ut),et(_t),et(mt)}function we(e){e.memoizedState!==null&&Q(ne,e);var r=ut.current,a=l_(r,e.type);r!==a&&(Q(_t,e),Q(ut,a))}function un(e){_t.current===e&&(et(ut),et(_t)),ne.current===e&&(et(ne),kl._currentValue=ct)}var Ze=Object.prototype.hasOwnProperty,gn=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Xt=i.unstable_shouldYield,zn=i.unstable_requestPaint,he=i.unstable_now,Mr=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,yi=i.unstable_UserBlockingPriority,ii=i.unstable_NormalPriority,Pe=i.unstable_LowPriority,yn=i.unstable_IdlePriority,vi=i.log,Vr=i.unstable_setDisableYieldValue,yt=null,Lt=null;function Le(e){if(typeof vi=="function"&&Vr(e),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(yt,e)}catch{}}var Ne=Math.clz32?Math.clz32:wn,ri=Math.log,Ta=Math.LN2;function wn(e){return e>>>=0,e===0?32:31-(ri(e)/Ta|0)|0}var Hi=256,qi=4194304;function An(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fi(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=An(l):(E&=b,E!==0?f=An(E):a||(a=b&~e,a!==0&&(f=An(a))))):(b=l&~d,b!==0?f=An(b):E!==0?f=An(E):a||(a=l&~e,a!==0&&(f=An(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Gi(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Ki(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(){var e=Hi;return Hi<<=1,(Hi&4194048)===0&&(Hi=256),e}function Ns(){var e=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),e}function si(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Hn(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kr(e,r,a,l,f,d){var E=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,x=e.expirationTimes,F=e.hiddenUpdates;for(a=E&~a;0<a;){var X=31-Ne(a),J=1<<X;b[X]=0,x[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&Et(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~r))}function Et(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-Ne(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function de(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-Ne(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Dn(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function Ee(e,r){var a=it.p;try{return it.p=e,r()}finally{it.p=a}}var Bt=Math.random().toString(36).slice(2),me="__reactFiber$"+Bt,Wt="__reactProps$"+Bt,pe="__reactContainer$"+Bt,Pr="__reactEvents$"+Bt,ai="__reactListeners$"+Bt,$i="__reactHandles$"+Bt,Au="__reactResources$"+Bt,xs="__reactMarker$"+Bt;function Lr(e){delete e[me],delete e[Wt],delete e[Pr],delete e[ai],delete e[$i]}function Yi(e){var r=e[me];if(r)return r;for(var a=e.parentNode;a;){if(r=a[pe]||a[me]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=h_(e);e!==null;){if(a=e[me])return a;e=h_(e)}return r}e=a,a=e.parentNode}return null}function _i(e){if(e=e[me]||e[pe]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function Ei(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function vn(e){var r=e[Au];return r||(r=e[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ae(e){e[xs]=!0}var zo=new Set,ba={};function oi(e,r){Qi(e,r),Qi(e+"Capture",r)}function Qi(e,r){for(ba[e]=r,e=0;e<r.length;e++)zo.add(r[e])}var Ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cu={},Os={};function Iu(e){return Ze.call(Os,e)?!0:Ze.call(Cu,e)?!1:Ru.test(e)?Os[e]=!0:(Cu[e]=!0,!1)}function Ur(e,r,a){if(Iu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Ti(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function tn(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}var Ds,Nu;function Xi(e){if(Ds===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ds=r&&r[1]||"",Nu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+e+Nu}var Sa=!1;function wa(e,r){if(!e||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var G=K}Reflect.construct(e,[],J)}else{try{J.call()}catch(K){G=K}e.call(J.prototype)}}else{try{throw Error()}catch(K){G=K}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var x=E.split(`
`),F=b.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===F.length)for(l=x.length-1,f=F.length-1;1<=l&&0<=f&&x[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==F[f]){var X=`
`+x[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=f);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Xi(a):""}function Ho(e){switch(e.tag){case 26:case 27:case 5:return Xi(e.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return wa(e.type,!1);case 11:return wa(e.type.render,!1);case 1:return wa(e.type,!0);case 31:return Xi("Activity");default:return""}}function Aa(e){try{var r="";do r+=Ho(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qo(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hh(e){var r=qo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Ra(e){e._valueTracker||(e._valueTracker=hh(e))}function Fo(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=qo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dh=/[\n"\\]/g;function Oe(e){return e.replace(dh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Mn(e,r,a,l,f,d,E,b){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),r!=null?E==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+_n(r)):e.value!==""+_n(r)&&(e.value=""+_n(r)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),r!=null?jr(e,E,_n(r)):a!=null?jr(e,E,_n(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+_n(b):e.removeAttribute("name")}function Vs(e,r,a,l,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+_n(a):"",r=r!=null?""+_n(r):a,b||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function jr(e,r,a){r==="number"&&Ms(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Wi(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+_n(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function se(e,r,a){if(r!=null&&(r=""+_n(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+_n(a):""}function ks(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=_n(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function qn(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Ps.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Go(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&xu(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&xu(e,d,r[d])}function Ko(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(e){return ph.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Zi=null;function Fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ji=null,tr=null;function $o(e){var r=_i(e);if(r&&(e=r.stateNode)){var a=e[Wt]||null;t:switch(e=r.stateNode,r.type){case"input":if(Mn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Oe(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[Wt]||null;if(!f)throw Error(s(90));Mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Fo(l)}break t;case"textarea":se(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Wi(e,!!a.multiple,r,!1)}}}var bi=!1;function Ou(e,r,a){if(bi)return e(r,a);bi=!0;try{var l=e(r);return l}finally{if(bi=!1,(Ji!==null||tr!==null)&&(wc(),Ji&&(r=Ji,e=tr,tr=Ji=null,$o(r),e)))for(r=0;r<e.length;r++)$o(e[r])}}function Ls(e,r){var a=e.stateNode;if(a===null)return null;var l=a[Wt]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(li)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Gn=!1}var Si=null,Br=null,er=null;function Yo(){if(er)return er;var e,r=Br,a=r.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var E=a-e;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return er=f.slice(e,1<l?1-l:void 0)}function wi(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Qo(){return!1}function Ke(e){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ai:Qo,this.isPropagationStopped=Qo,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),r}var te={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Ke(te),js=T({},te,{view:0,detail:0}),Du=Ke(js),Na,xa,Ri,Bs=T({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(Na=e.screenX-Ri.screenX,xa=e.screenY-Ri.screenY):xa=Na=0,Ri=e),Na)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),Kn=Ke(Bs),Mu=T({},Bs,{dataTransfer:0}),gh=Ke(Mu),zs=T({},js,{relatedTarget:0}),Oa=Ke(zs),Xo=T({},te,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=Ke(Xo),Vu=T({},te,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ma=Ke(Vu),yh=T({},te,{data:0}),Wo=Ke(yh),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Pu[e])?!!r[e]:!1}function qs(){return Zo}var Lu=T({},js,{key:function(e){if(e.key){var r=Hs[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=wi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ku[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(e){return e.type==="keypress"?wi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Va=Ke(Lu),Uu=T({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=Ke(Uu),nr=T({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),ju=Ke(nr),Bu=T({},te,{propertyName:0,elapsedTime:0,pseudoElement:0}),zu=Ke(Bu),Hu=T({},Bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=Ke(Hu),En=T({},te,{newState:0,oldState:0}),qu=Ke(En),Fu=[9,13,27,32],Ci=li&&"CompositionEvent"in window,c=null;li&&"documentMode"in document&&(c=document.documentMode);var y=li&&"TextEvent"in window&&!c,v=li&&(!Ci||c&&8<c&&11>=c),S=" ",B=!1;function Y(e,r){switch(e){case"keyup":return Fu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kt=!1;function Ue(e,r){switch(e){case"compositionend":return ft(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return e=r.data,e===S&&B?null:e;default:return null}}function $t(e,r){if(Kt)return e==="compositionend"||!Ci&&Y(e,r)?(e=Yo(),er=Br=Si=null,Kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var $e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function je(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!$e[e.type]:r==="textarea"}function ir(e,r,a,l){Ji?tr?tr.push(l):tr=[l]:Ji=l,r=xc(r,"onChange"),0<r.length&&(a=new Ia("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var en=null,Ii=null;function tl(e){n_(e,0)}function Gu(e){var r=Ei(e);if(Fo(r))return e}function Sg(e,r){if(e==="change")return r}var wg=!1;if(li){var vh;if(li){var _h="oninput"in document;if(!_h){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),_h=typeof Ag.oninput=="function"}vh=_h}else vh=!1;wg=vh&&(!document.documentMode||9<document.documentMode)}function Rg(){en&&(en.detachEvent("onpropertychange",Cg),Ii=en=null)}function Cg(e){if(e.propertyName==="value"&&Gu(Ii)){var r=[];ir(r,Ii,e,Fn(e)),Ou(tl,r)}}function cS(e,r,a){e==="focusin"?(Rg(),en=r,Ii=a,en.attachEvent("onpropertychange",Cg)):e==="focusout"&&Rg()}function fS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gu(Ii)}function hS(e,r){if(e==="click")return Gu(r)}function dS(e,r){if(e==="input"||e==="change")return Gu(r)}function mS(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Vn=typeof Object.is=="function"?Object.is:mS;function el(e,r){if(Vn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ze.call(r,f)||!Vn(e[f],r[f]))return!1}return!0}function Ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ng(e,r){var a=Ig(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ig(a)}}function xg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?xg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Ms(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Ms(e.document)}return r}function Eh(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var pS=li&&"documentMode"in document&&11>=document.documentMode,Pa=null,Th=null,nl=null,bh=!1;function Dg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bh||Pa==null||Pa!==Ms(l)||(l=Pa,"selectionStart"in l&&Eh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=xc(Th,"onSelect"),0<l.length&&(r=new Ia("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Pa)))}function Fs(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var La={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Sh={},Mg={};li&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Gs(e){if(Sh[e])return Sh[e];if(!La[e])return e;var r=La[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Mg)return Sh[e]=r[a];return e}var Vg=Gs("animationend"),kg=Gs("animationiteration"),Pg=Gs("animationstart"),gS=Gs("transitionrun"),yS=Gs("transitionstart"),vS=Gs("transitioncancel"),Lg=Gs("transitionend"),Ug=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function ui(e,r){Ug.set(e,r),oi(r,[e])}var jg=new WeakMap;function $n(e,r){if(typeof e=="object"&&e!==null){var a=jg.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Aa(r)},jg.set(e,r),r)}return{value:e,source:r,stack:Aa(r)}}var Yn=[],Ua=0,Ah=0;function Ku(){for(var e=Ua,r=Ah=Ua=0;r<e;){var a=Yn[r];Yn[r++]=null;var l=Yn[r];Yn[r++]=null;var f=Yn[r];Yn[r++]=null;var d=Yn[r];if(Yn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Bg(a,f,d)}}function $u(e,r,a,l){Yn[Ua++]=e,Yn[Ua++]=r,Yn[Ua++]=a,Yn[Ua++]=l,Ah|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Rh(e,r,a,l){return $u(e,r,a,l),Yu(e)}function ja(e,r){return $u(e,null,null,r),Yu(e)}function Bg(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-Ne(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Yu(e){if(50<Cl)throw Cl=0,Dd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Ba={};function _S(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,r,a,l){return new _S(e,r,a,l)}function Ch(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rr(e,r){var a=e.alternate;return a===null?(a=kn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function zg(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Qu(e,r,a,l,f,d){var E=0;if(l=e,typeof e=="function")Ch(e)&&(E=1);else if(typeof e=="string")E=Tw(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=kn(31,a,r,f),e.elementType=N,e.lanes=d,e;case q:return Ks(a.children,f,d,r);case W:E=8,f|=24;break;case H:return e=kn(12,a,r,f|2),e.elementType=H,e.lanes=d,e;case lt:return e=kn(13,a,r,f),e.elementType=lt,e.lanes=d,e;case rt:return e=kn(19,a,r,f),e.elementType=rt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:case nt:E=10;break t;case ht:E=9;break t;case dt:E=11;break t;case O:E=14;break t;case A:E=16,l=null;break t}E=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=kn(E,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function Ks(e,r,a,l){return e=kn(7,e,l,r),e.lanes=a,e}function Ih(e,r,a){return e=kn(6,e,null,r),e.lanes=a,e}function Nh(e,r,a){return r=kn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var za=[],Ha=0,Xu=null,Wu=0,Qn=[],Xn=0,$s=null,sr=1,ar="";function Ys(e,r){za[Ha++]=Wu,za[Ha++]=Xu,Xu=e,Wu=r}function Hg(e,r,a){Qn[Xn++]=sr,Qn[Xn++]=ar,Qn[Xn++]=$s,$s=e;var l=sr;e=ar;var f=32-Ne(l)-1;l&=~(1<<f),a+=1;var d=32-Ne(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,sr=1<<32-Ne(r)+f|a<<f|l,ar=d+e}else sr=1<<d|a<<f|l,ar=e}function xh(e){e.return!==null&&(Ys(e,1),Hg(e,1,0))}function Oh(e){for(;e===Xu;)Xu=za[--Ha],za[Ha]=null,Wu=za[--Ha],za[Ha]=null;for(;e===$s;)$s=Qn[--Xn],Qn[Xn]=null,ar=Qn[--Xn],Qn[Xn]=null,sr=Qn[--Xn],Qn[Xn]=null}var Tn=null,Te=null,Jt=!1,Qs=null,Ni=!1,Dh=Error(s(519));function Xs(e){var r=Error(s(418,""));throw sl($n(r,e)),Dh}function qg(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[me]=e,r[Wt]=l,a){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ht(Nl[a],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":Ht("invalid",r),Vs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(r);break;case"select":Ht("invalid",r);break;case"textarea":Ht("invalid",r),ks(r,l.value,l.defaultValue,l.children),Ra(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||a_(r.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",r),Ht("toggle",r)),l.onScroll!=null&&Ht("scroll",r),l.onScrollEnd!=null&&Ht("scrollend",r),l.onClick!=null&&(r.onclick=Oc),r=!0):r=!1,r||Xs(e)}function Fg(e){for(Tn=e.return;Tn;)switch(Tn.tag){case 5:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:Tn=Tn.return}}function il(e){if(e!==Tn)return!1;if(!Jt)return Fg(e),Jt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Yd(e.type,e.memoizedProps)),a=!a),a&&Te&&Xs(e),Fg(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){Te=fi(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}Te=null}}else r===27?(r=Te,ns(e.type)?(e=Zd,Zd=null,Te=e):Te=r):Te=Tn?fi(e.stateNode.nextSibling):null;return!0}function rl(){Te=Tn=null,Jt=!1}function Gg(){var e=Qs;return e!==null&&(Nn===null?Nn=e:Nn.push.apply(Nn,e),Qs=null),e}function sl(e){Qs===null?Qs=[e]:Qs.push(e)}var Mh=$(null),Ws=null,or=null;function zr(e,r,a){Q(Mh,r._currentValue),r._currentValue=a}function lr(e){e._currentValue=Mh.current,et(Mh)}function Vh(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function kh(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=f;for(var x=0;x<r.length;x++)if(b.context===r[x]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Vh(d.return,a,e),l||(E=null);break t}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Vh(E,a,e),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===e){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function al(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;Vn(f.pendingProps.value,E.value)||(e!==null?e.push(b):e=[b])}}else if(f===ne.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(kl):e=[kl])}f=f.return}e!==null&&kh(r,e,a,l),r.flags|=262144}function Zu(e){for(e=e.firstContext;e!==null;){if(!Vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zs(e){Ws=e,or=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function cn(e){return Kg(Ws,e)}function Ju(e,r){return Ws===null&&Zs(e),Kg(e,r)}function Kg(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},or===null){if(e===null)throw Error(s(308));or=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else or=or.next=r;return a}var ES=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},TS=i.unstable_scheduleCallback,bS=i.unstable_NormalPriority,Be={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new ES,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&TS(bS,function(){e.controller.abort()})}var ll=null,Lh=0,qa=0,Fa=null;function SS(e,r){if(ll===null){var a=ll=[];Lh=0,qa=jd(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lh++,r.then($g,$g),r}function $g(){if(--Lh===0&&ll!==null){Fa!==null&&(Fa.status="fulfilled");var e=ll;ll=null,qa=0,Fa=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function wS(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Yg=j.S;j.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&SS(e,r),Yg!==null&&Yg(e,r)};var Js=$(null);function Uh(){var e=Js.current;return e!==null?e:ce.pooledCache}function tc(e,r){r===null?Q(Js,Js.current):Q(Js,r.pool)}function Qg(){var e=Uh();return e===null?null:{parent:Be._currentValue,pool:e}}var ul=Error(s(460)),Xg=Error(s(474)),ec=Error(s(542)),jh={then:function(){}};function Wg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nc(){}function Zg(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(nc,nc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ty(e),e;default:if(typeof r.status=="string")r.then(nc,nc);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ty(e),e}throw cl=r,ul}}var cl=null;function Jg(){if(cl===null)throw Error(s(459));var e=cl;return cl=null,e}function ty(e){if(e===ul||e===ec)throw Error(s(483))}var Hr=!1;function Bh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ie&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Yu(e),Bg(e,null,a),r}return $u(e,l,r,a),Yu(e)}function fl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,de(e,a)}}function Hh(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var qh=!1;function hl(){if(qh){var e=Fa;if(e!==null)throw e}}function dl(e,r,a,l){qh=!1;var f=e.updateQueue;Hr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var x=b,F=x.next;x.next=null,E===null?d=F:E.next=F,E=x;var X=e.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==E&&(b===null?X.firstBaseUpdate=F:b.next=F,X.lastBaseUpdate=x))}if(d!==null){var J=f.baseState;E=0,X=F=x=null,b=d;do{var G=b.lane&-536870913,K=G!==b.lane;if(K?(Yt&G)===G:(l&G)===G){G!==0&&G===qa&&(qh=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var Ct=e,Tt=b;G=r;var le=a;switch(Tt.tag){case 1:if(Ct=Tt.payload,typeof Ct=="function"){J=Ct.call(le,J,G);break t}J=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Tt.payload,G=typeof Ct=="function"?Ct.call(le,J,G):Ct,G==null)break t;J=T({},J,G);break t;case 2:Hr=!0}}G=b.callback,G!==null&&(e.flags|=64,K&&(e.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(F=X=K,x=J):X=X.next=K,E|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);X===null&&(x=J),f.baseState=x,f.firstBaseUpdate=F,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Zr|=E,e.lanes=E,e.memoizedState=J}}function ey(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function ny(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ey(a[e],r)}var Ga=$(null),ic=$(0);function iy(e,r){e=pr,Q(ic,e),Q(Ga,r),pr=e|r.baseLanes}function Fh(){Q(ic,pr),Q(Ga,Ga.current)}function Gh(){pr=ic.current,et(Ga),et(ic)}var Gr=0,Vt=null,ae=null,De=null,rc=!1,Ka=!1,ta=!1,sc=0,ml=0,$a=null,AS=0;function Re(){throw Error(s(321))}function Kh(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Vn(e[a],r[a]))return!1;return!0}function $h(e,r,a,l,f,d){return Gr=d,Vt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,j.H=e===null||e.memoizedState===null?By:zy,ta=!1,d=a(l,f),ta=!1,Ka&&(d=sy(r,a,l,f)),ry(e),d}function ry(e){j.H=fc;var r=ae!==null&&ae.next!==null;if(Gr=0,De=ae=Vt=null,rc=!1,ml=0,$a=null,r)throw Error(s(300));e===null||Ye||(e=e.dependencies,e!==null&&Zu(e)&&(Ye=!0))}function sy(e,r,a,l){Vt=e;var f=0;do{if(Ka&&($a=null),ml=0,Ka=!1,25<=f)throw Error(s(301));if(f+=1,De=ae=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}j.H=DS,d=r(a,l)}while(Ka);return d}function RS(){var e=j.H,r=e.useState()[0];return r=typeof r.then=="function"?pl(r):r,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(Vt.flags|=1024),r}function Yh(){var e=sc!==0;return sc=0,e}function Qh(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Xh(e){if(rc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}rc=!1}Gr=0,De=ae=Vt=null,Ka=!1,ml=sc=0,$a=null}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Vt.memoizedState=De=e:De=De.next=e,De}function Me(){if(ae===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var r=De===null?Vt.memoizedState:De.next;if(r!==null)De=r,ae=e;else{if(e===null)throw Vt.alternate===null?Error(s(467)):Error(s(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},De===null?Vt.memoizedState=De=e:De=De.next=e}return De}function Wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(e){var r=ml;return ml+=1,$a===null&&($a=[]),e=Zg($a,e,r),r=Vt,(De===null?r.memoizedState:De.next)===null&&(r=r.alternate,j.H=r===null||r.memoizedState===null?By:zy),e}function ac(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pl(e);if(e.$$typeof===nt)return cn(e)}throw Error(s(438,String(e)))}function Zh(e){var r=null,a=Vt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Wh(),Vt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=V;return r.index++,a}function ur(e,r){return typeof r=="function"?r(e):r}function oc(e){var r=Me();return Jh(r,ae,e)}function Jh(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var b=E=null,x=null,F=r,X=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Yt&J)===J:(Gr&J)===J){var G=F.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===qa&&(X=!0);else if((Gr&G)===G){F=F.next,G===qa&&(X=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(b=x=J,E=d):x=x.next=J,Vt.lanes|=G,Zr|=G;J=F.action,ta&&a(d,J),d=F.hasEagerState?F.eagerState:a(d,J)}else G={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(b=x=G,E=d):x=x.next=G,Vt.lanes|=J,Zr|=J;F=F.next}while(F!==null&&F!==r);if(x===null?E=d:x.next=b,!Vn(d,e.memoizedState)&&(Ye=!0,X&&(a=Fa,a!==null)))throw a;e.memoizedState=d,e.baseState=E,e.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function td(e){var r=Me(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=e(d,E.action),E=E.next;while(E!==f);Vn(d,r.memoizedState)||(Ye=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ay(e,r,a){var l=Vt,f=Me(),d=Jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!Vn((ae||f).memoizedState,a);E&&(f.memoizedState=a,Ye=!0),f=f.queue;var b=uy.bind(null,l,f,e);if(gl(2048,8,b,[e]),f.getSnapshot!==r||E||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,Ya(9,lc(),ly.bind(null,l,f,a,r),null),ce===null)throw Error(s(349));d||(Gr&124)!==0||oy(l,r,a)}return a}function oy(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Vt.updateQueue,r===null?(r=Wh(),Vt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function ly(e,r,a,l){r.value=a,r.getSnapshot=l,cy(r)&&fy(e)}function uy(e,r,a){return a(function(){cy(r)&&fy(e)})}function cy(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Vn(e,a)}catch{return!0}}function fy(e){var r=ja(e,2);r!==null&&Bn(r,e,2)}function ed(e){var r=Cn();if(typeof e=="function"){var a=e;if(e=a(),ta){Le(!0);try{a()}finally{Le(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:e},r}function hy(e,r,a,l){return e.baseState=a,Jh(e,ae,typeof l=="function"?l:ur)}function CS(e,r,a,l,f){if(cc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};j.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,dy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function dy(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=j.T,E={};j.T=E;try{var b=a(f,l),x=j.S;x!==null&&x(E,b),my(e,r,b)}catch(F){nd(e,r,F)}finally{j.T=d}}else try{d=a(f,l),my(e,r,d)}catch(F){nd(e,r,F)}}function my(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){py(e,r,l)},function(l){return nd(e,r,l)}):py(e,r,a)}function py(e,r,a){r.status="fulfilled",r.value=a,gy(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,dy(e,a)))}function nd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,gy(r),r=r.next;while(r!==l)}e.action=null}function gy(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function yy(e,r){return r}function vy(e,r){if(Jt){var a=ce.formState;if(a!==null){t:{var l=Vt;if(Jt){if(Te){e:{for(var f=Te,d=Ni;f.nodeType!==8;){if(!d){f=null;break e}if(f=fi(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Te=fi(f.nextSibling),l=f.data==="F!";break t}}Xs(l)}l=!1}l&&(r=a[0])}}return a=Cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:r},a.queue=l,a=Ly.bind(null,Vt,l),l.dispatch=a,l=ed(!1),d=od.bind(null,Vt,!1,l.queue),l=Cn(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=CS.bind(null,Vt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function _y(e){var r=Me();return Ey(r,ae,e)}function Ey(e,r,a){if(r=Jh(e,r,yy)[0],e=oc(ur)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(E){throw E===ul?ec:E}else l=r;r=Me();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Vt.flags|=2048,Ya(9,lc(),IS.bind(null,f,a),null)),[l,d,e]}function IS(e,r){e.action=r}function Ty(e){var r=Me(),a=ae;if(a!==null)return Ey(r,a,e);Me(),r=r.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Ya(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Vt.updateQueue,r===null&&(r=Wh(),Vt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function lc(){return{destroy:void 0,resource:void 0}}function by(){return Me().memoizedState}function uc(e,r,a,l){var f=Cn();l=l===void 0?null:l,Vt.flags|=e,f.memoizedState=Ya(1|r,lc(),a,l)}function gl(e,r,a,l){var f=Me();l=l===void 0?null:l;var d=f.memoizedState.inst;ae!==null&&l!==null&&Kh(l,ae.memoizedState.deps)?f.memoizedState=Ya(r,d,a,l):(Vt.flags|=e,f.memoizedState=Ya(1|r,d,a,l))}function Sy(e,r){uc(8390656,8,e,r)}function wy(e,r){gl(2048,8,e,r)}function Ay(e,r){return gl(4,2,e,r)}function Ry(e,r){return gl(4,4,e,r)}function Cy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Iy(e,r,a){a=a!=null?a.concat([e]):null,gl(4,4,Cy.bind(null,r,e),a)}function id(){}function Ny(e,r){var a=Me();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Kh(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function xy(e,r){var a=Me();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Kh(r,l[1]))return l[0];if(l=e(),ta){Le(!0);try{e()}finally{Le(!1)}}return a.memoizedState=[l,r],l}function rd(e,r,a){return a===void 0||(Gr&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=Mv(),Vt.lanes|=e,Zr|=e,a)}function Oy(e,r,a,l){return Vn(a,r)?a:Ga.current!==null?(e=rd(e,a,l),Vn(e,r)||(Ye=!0),e):(Gr&42)===0?(Ye=!0,e.memoizedState=a):(e=Mv(),Vt.lanes|=e,Zr|=e,r)}function Dy(e,r,a,l,f){var d=it.p;it.p=d!==0&&8>d?d:8;var E=j.T,b={};j.T=b,od(e,!1,r,a);try{var x=f(),F=j.S;if(F!==null&&F(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=wS(x,l);yl(e,r,X,jn(e))}else yl(e,r,l,jn(e))}catch(J){yl(e,r,{then:function(){},status:"rejected",reason:J},jn())}finally{it.p=d,j.T=E}}function NS(){}function sd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=My(e).queue;Dy(e,f,r,ct,a===null?NS:function(){return Vy(e),a(l)})}function My(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:ct},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function Vy(e){var r=My(e).next.queue;yl(e,r,{},jn())}function ad(){return cn(kl)}function ky(){return Me().memoizedState}function Py(){return Me().memoizedState}function xS(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=jn();e=qr(a);var l=Fr(r,e,a);l!==null&&(Bn(l,r,a),fl(l,r,a)),r={cache:Ph()},e.payload=r;return}r=r.return}}function OS(e,r,a){var l=jn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},cc(e)?Uy(r,a):(a=Rh(e,r,a,l),a!==null&&(Bn(a,e,l),jy(a,r,l)))}function Ly(e,r,a){var l=jn();yl(e,r,a,l)}function yl(e,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(e))Uy(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,b=d(E,a);if(f.hasEagerState=!0,f.eagerState=b,Vn(b,E))return $u(e,r,f,0),ce===null&&Ku(),!1}catch{}finally{}if(a=Rh(e,r,f,l),a!==null)return Bn(a,e,l),jy(a,r,l),!0}return!1}function od(e,r,a,l){if(l={lane:2,revertLane:jd(),action:l,hasEagerState:!1,eagerState:null,next:null},cc(e)){if(r)throw Error(s(479))}else r=Rh(e,a,l,2),r!==null&&Bn(r,e,2)}function cc(e){var r=e.alternate;return e===Vt||r!==null&&r===Vt}function Uy(e,r){Ka=rc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function jy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,de(e,a)}}var fc={readContext:cn,use:ac,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re},By={readContext:cn,use:ac,useCallback:function(e,r){return Cn().memoizedState=[e,r===void 0?null:r],e},useContext:cn,useEffect:Sy,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,uc(4194308,4,Cy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return uc(4194308,4,e,r)},useInsertionEffect:function(e,r){uc(4,2,e,r)},useMemo:function(e,r){var a=Cn();r=r===void 0?null:r;var l=e();if(ta){Le(!0);try{e()}finally{Le(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=Cn();if(a!==void 0){var f=a(r);if(ta){Le(!0);try{a(r)}finally{Le(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=OS.bind(null,Vt,e),[l.memoizedState,e]},useRef:function(e){var r=Cn();return e={current:e},r.memoizedState=e},useState:function(e){e=ed(e);var r=e.queue,a=Ly.bind(null,Vt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:id,useDeferredValue:function(e,r){var a=Cn();return rd(a,e,r)},useTransition:function(){var e=ed(!1);return e=Dy.bind(null,Vt,e.queue,!0,!1),Cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Vt,f=Cn();if(Jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ce===null)throw Error(s(349));(Yt&124)!==0||oy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Sy(uy.bind(null,l,d,e),[e]),l.flags|=2048,Ya(9,lc(),ly.bind(null,l,d,a,r),null),a},useId:function(){var e=Cn(),r=ce.identifierPrefix;if(Jt){var a=ar,l=sr;a=(l&~(1<<32-Ne(l)-1)).toString(32)+a,r=""+r+"R"+a,a=sc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=AS++,r=""+r+"r"+a.toString(32)+"";return e.memoizedState=r},useHostTransitionStatus:ad,useFormState:vy,useActionState:vy,useOptimistic:function(e){var r=Cn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=od.bind(null,Vt,!0,a),a.dispatch=r,[e,r]},useMemoCache:Zh,useCacheRefresh:function(){return Cn().memoizedState=xS.bind(null,Vt)}},zy={readContext:cn,use:ac,useCallback:Ny,useContext:cn,useEffect:wy,useImperativeHandle:Iy,useInsertionEffect:Ay,useLayoutEffect:Ry,useMemo:xy,useReducer:oc,useRef:by,useState:function(){return oc(ur)},useDebugValue:id,useDeferredValue:function(e,r){var a=Me();return Oy(a,ae.memoizedState,e,r)},useTransition:function(){var e=oc(ur)[0],r=Me().memoizedState;return[typeof e=="boolean"?e:pl(e),r]},useSyncExternalStore:ay,useId:ky,useHostTransitionStatus:ad,useFormState:_y,useActionState:_y,useOptimistic:function(e,r){var a=Me();return hy(a,ae,e,r)},useMemoCache:Zh,useCacheRefresh:Py},DS={readContext:cn,use:ac,useCallback:Ny,useContext:cn,useEffect:wy,useImperativeHandle:Iy,useInsertionEffect:Ay,useLayoutEffect:Ry,useMemo:xy,useReducer:td,useRef:by,useState:function(){return td(ur)},useDebugValue:id,useDeferredValue:function(e,r){var a=Me();return ae===null?rd(a,e,r):Oy(a,ae.memoizedState,e,r)},useTransition:function(){var e=td(ur)[0],r=Me().memoizedState;return[typeof e=="boolean"?e:pl(e),r]},useSyncExternalStore:ay,useId:ky,useHostTransitionStatus:ad,useFormState:Ty,useActionState:Ty,useOptimistic:function(e,r){var a=Me();return ae!==null?hy(a,ae,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Zh,useCacheRefresh:Py},Qa=null,vl=0;function hc(e){var r=vl;return vl+=1,Qa===null&&(Qa=[]),Zg(Qa,e,r)}function _l(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function dc(e,r){throw r.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Hy(e){var r=e._init;return r(e._payload)}function qy(e){function r(U,P){if(e){var z=U.deletions;z===null?(U.deletions=[P],U.flags|=16):z.push(P)}}function a(U,P){if(!e)return null;for(;P!==null;)r(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function f(U,P){return U=rr(U,P),U.index=0,U.sibling=null,U}function d(U,P,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<P?(U.flags|=67108866,P):z):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function E(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function b(U,P,z,Z){return P===null||P.tag!==6?(P=Ih(z,U.mode,Z),P.return=U,P):(P=f(P,z),P.return=U,P)}function x(U,P,z,Z){var gt=z.type;return gt===q?X(U,P,z.props.children,Z,z.key):P!==null&&(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&Hy(gt)===P.type)?(P=f(P,z.props),_l(P,z),P.return=U,P):(P=Qu(z.type,z.key,z.props,null,U.mode,Z),_l(P,z),P.return=U,P)}function F(U,P,z,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Nh(z,U.mode,Z),P.return=U,P):(P=f(P,z.children||[]),P.return=U,P)}function X(U,P,z,Z,gt){return P===null||P.tag!==7?(P=Ks(z,U.mode,Z,gt),P.return=U,P):(P=f(P,z),P.return=U,P)}function J(U,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ih(""+P,U.mode,z),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return z=Qu(P.type,P.key,P.props,null,U.mode,z),_l(z,P),z.return=U,z;case L:return P=Nh(P,U.mode,z),P.return=U,P;case A:var Z=P._init;return P=Z(P._payload),J(U,P,z)}if(Mt(P)||k(P))return P=Ks(P,U.mode,z,null),P.return=U,P;if(typeof P.then=="function")return J(U,hc(P),z);if(P.$$typeof===nt)return J(U,Ju(U,P),z);dc(U,P)}return null}function G(U,P,z,Z){var gt=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:b(U,P,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===gt?x(U,P,z,Z):null;case L:return z.key===gt?F(U,P,z,Z):null;case A:return gt=z._init,z=gt(z._payload),G(U,P,z,Z)}if(Mt(z)||k(z))return gt!==null?null:X(U,P,z,Z,null);if(typeof z.then=="function")return G(U,P,hc(z),Z);if(z.$$typeof===nt)return G(U,P,Ju(U,z),Z);dc(U,z)}return null}function K(U,P,z,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(z)||null,b(P,U,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return U=U.get(Z.key===null?z:Z.key)||null,x(P,U,Z,gt);case L:return U=U.get(Z.key===null?z:Z.key)||null,F(P,U,Z,gt);case A:var Ut=Z._init;return Z=Ut(Z._payload),K(U,P,z,Z,gt)}if(Mt(Z)||k(Z))return U=U.get(z)||null,X(P,U,Z,gt,null);if(typeof Z.then=="function")return K(U,P,z,hc(Z),gt);if(Z.$$typeof===nt)return K(U,P,z,Ju(P,Z),gt);dc(P,Z)}return null}function Ct(U,P,z,Z){for(var gt=null,Ut=null,vt=P,wt=P=0,Xe=null;vt!==null&&wt<z.length;wt++){vt.index>wt?(Xe=vt,vt=null):Xe=vt.sibling;var Zt=G(U,vt,z[wt],Z);if(Zt===null){vt===null&&(vt=Xe);break}e&&vt&&Zt.alternate===null&&r(U,vt),P=d(Zt,P,wt),Ut===null?gt=Zt:Ut.sibling=Zt,Ut=Zt,vt=Xe}if(wt===z.length)return a(U,vt),Jt&&Ys(U,wt),gt;if(vt===null){for(;wt<z.length;wt++)vt=J(U,z[wt],Z),vt!==null&&(P=d(vt,P,wt),Ut===null?gt=vt:Ut.sibling=vt,Ut=vt);return Jt&&Ys(U,wt),gt}for(vt=l(vt);wt<z.length;wt++)Xe=K(vt,U,wt,z[wt],Z),Xe!==null&&(e&&Xe.alternate!==null&&vt.delete(Xe.key===null?wt:Xe.key),P=d(Xe,P,wt),Ut===null?gt=Xe:Ut.sibling=Xe,Ut=Xe);return e&&vt.forEach(function(os){return r(U,os)}),Jt&&Ys(U,wt),gt}function Tt(U,P,z,Z){if(z==null)throw Error(s(151));for(var gt=null,Ut=null,vt=P,wt=P=0,Xe=null,Zt=z.next();vt!==null&&!Zt.done;wt++,Zt=z.next()){vt.index>wt?(Xe=vt,vt=null):Xe=vt.sibling;var os=G(U,vt,Zt.value,Z);if(os===null){vt===null&&(vt=Xe);break}e&&vt&&os.alternate===null&&r(U,vt),P=d(os,P,wt),Ut===null?gt=os:Ut.sibling=os,Ut=os,vt=Xe}if(Zt.done)return a(U,vt),Jt&&Ys(U,wt),gt;if(vt===null){for(;!Zt.done;wt++,Zt=z.next())Zt=J(U,Zt.value,Z),Zt!==null&&(P=d(Zt,P,wt),Ut===null?gt=Zt:Ut.sibling=Zt,Ut=Zt);return Jt&&Ys(U,wt),gt}for(vt=l(vt);!Zt.done;wt++,Zt=z.next())Zt=K(vt,U,wt,Zt.value,Z),Zt!==null&&(e&&Zt.alternate!==null&&vt.delete(Zt.key===null?wt:Zt.key),P=d(Zt,P,wt),Ut===null?gt=Zt:Ut.sibling=Zt,Ut=Zt);return e&&vt.forEach(function(Mw){return r(U,Mw)}),Jt&&Ys(U,wt),gt}function le(U,P,z,Z){if(typeof z=="object"&&z!==null&&z.type===q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:t:{for(var gt=z.key;P!==null;){if(P.key===gt){if(gt=z.type,gt===q){if(P.tag===7){a(U,P.sibling),Z=f(P,z.props.children),Z.return=U,U=Z;break t}}else if(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&Hy(gt)===P.type){a(U,P.sibling),Z=f(P,z.props),_l(Z,z),Z.return=U,U=Z;break t}a(U,P);break}else r(U,P);P=P.sibling}z.type===q?(Z=Ks(z.props.children,U.mode,Z,z.key),Z.return=U,U=Z):(Z=Qu(z.type,z.key,z.props,null,U.mode,Z),_l(Z,z),Z.return=U,U=Z)}return E(U);case L:t:{for(gt=z.key;P!==null;){if(P.key===gt)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(U,P.sibling),Z=f(P,z.children||[]),Z.return=U,U=Z;break t}else{a(U,P);break}else r(U,P);P=P.sibling}Z=Nh(z,U.mode,Z),Z.return=U,U=Z}return E(U);case A:return gt=z._init,z=gt(z._payload),le(U,P,z,Z)}if(Mt(z))return Ct(U,P,z,Z);if(k(z)){if(gt=k(z),typeof gt!="function")throw Error(s(150));return z=gt.call(z),Tt(U,P,z,Z)}if(typeof z.then=="function")return le(U,P,hc(z),Z);if(z.$$typeof===nt)return le(U,P,Ju(U,z),Z);dc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(U,P.sibling),Z=f(P,z),Z.return=U,U=Z):(a(U,P),Z=Ih(z,U.mode,Z),Z.return=U,U=Z),E(U)):a(U,P)}return function(U,P,z,Z){try{vl=0;var gt=le(U,P,z,Z);return Qa=null,gt}catch(vt){if(vt===ul||vt===ec)throw vt;var Ut=kn(29,vt,null,U.mode);return Ut.lanes=Z,Ut.return=U,Ut}finally{}}}var Xa=qy(!0),Fy=qy(!1),Wn=$(null),xi=null;function Kr(e){var r=e.alternate;Q(ze,ze.current&1),Q(Wn,e),xi===null&&(r===null||Ga.current!==null||r.memoizedState!==null)&&(xi=e)}function Gy(e){if(e.tag===22){if(Q(ze,ze.current),Q(Wn,e),xi===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(xi=e)}}else $r()}function $r(){Q(ze,ze.current),Q(Wn,Wn.current)}function cr(e){et(Wn),xi===e&&(xi=null),et(ze)}var ze=$(0);function mc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Wd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ld(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ud={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=jn(),f=qr(l);f.payload=r,a!=null&&(f.callback=a),r=Fr(e,f,l),r!==null&&(Bn(r,e,l),fl(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=jn(),f=qr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Fr(e,f,l),r!==null&&(Bn(r,e,l),fl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=jn(),l=qr(a);l.tag=2,r!=null&&(l.callback=r),r=Fr(e,l,a),r!==null&&(Bn(r,e,a),fl(r,e,a))}};function Ky(e,r,a,l,f,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!el(a,l)||!el(f,d):!0}function $y(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&ud.enqueueReplaceState(r,r.state,null)}function ea(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var pc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Yy(e){pc(e)}function Qy(e){console.error(e)}function Xy(e){pc(e)}function gc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Wy(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cd(e,r,a){return a=qr(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(e,r)},a}function Zy(e){return e=qr(e),e.tag=3,e}function Jy(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){Wy(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Wy(r,a,l),typeof f!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function MS(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&al(r,a,f,!0),a=Wn.current,a!==null){switch(a.tag){case 13:return xi===null?Vd():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===jh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Pd(e,l,f)),!1;case 22:return a.flags|=65536,l===jh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Pd(e,l,f)),!1}throw Error(s(435,a.tag))}return Pd(e,l,f),Vd(),!1}if(Jt)return r=Wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Dh&&(e=Error(s(422),{cause:l}),sl($n(e,a)))):(l!==Dh&&(r=Error(s(423),{cause:l}),sl($n(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=$n(l,a),f=cd(e.stateNode,l,f),Hh(e,f),be!==4&&(be=2)),!1;var d=Error(s(520),{cause:l});if(d=$n(d,a),Rl===null?Rl=[d]:Rl.push(d),be!==4&&(be=2),r===null)return!0;l=$n(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=cd(a.stateNode,l,e),Hh(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Jr===null||!Jr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zy(f),Jy(f,e,a,l),Hh(a,f),!1}a=a.return}while(a!==null);return!1}var tv=Error(s(461)),Ye=!1;function nn(e,r,a,l){r.child=e===null?Fy(r,null,a,l):Xa(r,e.child,a,l)}function ev(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return Zs(r),l=$h(e,r,a,E,d,f),b=Yh(),e!==null&&!Ye?(Qh(e,r,f),fr(e,r,f)):(Jt&&b&&xh(r),r.flags|=1,nn(e,r,l,f),r.child)}function nv(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Ch(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,iv(e,r,d,l,f)):(e=Qu(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!vd(e,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(E,l)&&e.ref===r.ref)return fr(e,r,f)}return r.flags|=1,e=rr(d,l),e.ref=r.ref,e.return=r,r.child=e}function iv(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(el(d,l)&&e.ref===r.ref)if(Ye=!1,r.pendingProps=l=d,vd(e,f))(e.flags&131072)!==0&&(Ye=!0);else return r.lanes=e.lanes,fr(e,r,f)}return fd(e,r,a,l,f)}function rv(e,r,a){var l=r.pendingProps,f=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(f=r.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return sv(e,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&tc(r,d!==null?d.cachePool:null),d!==null?iy(r,d):Fh(),Gy(r);else return r.lanes=r.childLanes=536870912,sv(e,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(tc(r,d.cachePool),iy(r,d),$r(),r.memoizedState=null):(e!==null&&tc(r,null),Fh(),$r());return nn(e,r,f,a),r.child}function sv(e,r,a,l){var f=Uh();return f=f===null?null:{parent:Be._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},e!==null&&tc(r,null),Fh(),Gy(r),e!==null&&al(e,r,l,!0),null}function yc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function fd(e,r,a,l,f){return Zs(r),a=$h(e,r,a,l,void 0,f),l=Yh(),e!==null&&!Ye?(Qh(e,r,f),fr(e,r,f)):(Jt&&l&&xh(r),r.flags|=1,nn(e,r,a,f),r.child)}function av(e,r,a,l,f,d){return Zs(r),r.updateQueue=null,a=sy(r,l,a,f),ry(e),l=Yh(),e!==null&&!Ye?(Qh(e,r,d),fr(e,r,d)):(Jt&&l&&xh(r),r.flags|=1,nn(e,r,a,d),r.child)}function ov(e,r,a,l,f){if(Zs(r),r.stateNode===null){var d=Ba,E=a.contextType;typeof E=="object"&&E!==null&&(d=cn(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ud,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Bh(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?cn(E):Ba,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(ld(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&ud.enqueueReplaceState(d,d.state,null),dl(r,l,d,f),hl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var b=r.memoizedProps,x=ea(a,b);d.props=x;var F=d.context,X=a.contextType;E=Ba,typeof X=="object"&&X!==null&&(E=cn(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==E)&&$y(r,d,l,E),Hr=!1;var G=r.memoizedState;d.state=G,dl(r,l,d,f),hl(),F=r.memoizedState,b||G!==F||Hr?(typeof J=="function"&&(ld(r,a,J,l),F=r.memoizedState),(x=Hr||Ky(r,a,x,l,G,F,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=E,l=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,zh(e,r),E=r.memoizedProps,X=ea(a,E),d.props=X,J=r.pendingProps,G=d.context,F=a.contextType,x=Ba,typeof F=="object"&&F!==null&&(x=cn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||G!==x)&&$y(r,d,l,x),Hr=!1,G=r.memoizedState,d.state=G,dl(r,l,d,f),hl();var K=r.memoizedState;E!==J||G!==K||Hr||e!==null&&e.dependencies!==null&&Zu(e.dependencies)?(typeof b=="function"&&(ld(r,a,b,l),K=r.memoizedState),(X=Hr||Ky(r,a,X,l,G,K,x)||e!==null&&e.dependencies!==null&&Zu(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=x,l=X):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,yc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Xa(r,e.child,null,f),r.child=Xa(r,null,a,f)):nn(e,r,a,f),r.memoizedState=d.state,e=r.child):e=fr(e,r,f),e}function lv(e,r,a,l){return rl(),r.flags|=256,nn(e,r,a,l),r.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(e){return{baseLanes:e,cachePool:Qg()}}function md(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Zn),e}function uv(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,e===null){if(Jt){if(f?Kr(r):$r(),Jt){var b=Te,x;if(x=b){t:{for(x=b,b=Ni;x.nodeType!==8;){if(!b){b=null;break t}if(x=fi(x.nextSibling),x===null){b=null;break t}}b=x}b!==null?(r.memoizedState={dehydrated:b,treeContext:$s!==null?{id:sr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},x=kn(18,null,null,0),x.stateNode=b,x.return=r,r.child=x,Tn=r,Te=null,x=!0):x=!1}x||Xs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Wd(b)?r.lanes=32:r.lanes=536870912,null;cr(r)}return b=l.children,l=l.fallback,f?($r(),f=r.mode,b=vc({mode:"hidden",children:b},f),l=Ks(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=dd(a),f.childLanes=md(e,E,a),r.memoizedState=hd,l):(Kr(r),pd(r,b))}if(x=e.memoizedState,x!==null&&(b=x.dehydrated,b!==null)){if(d)r.flags&256?(Kr(r),r.flags&=-257,r=gd(e,r,a)):r.memoizedState!==null?($r(),r.child=e.child,r.flags|=128,r=null):($r(),f=l.fallback,b=r.mode,l=vc({mode:"visible",children:l.children},b),f=Ks(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Xa(r,e.child,null,a),l=r.child,l.memoizedState=dd(a),l.childLanes=md(e,E,a),r.memoizedState=hd,r=f);else if(Kr(r),Wd(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,sl({value:l,source:null,stack:null}),r=gd(e,r,a)}else if(Ye||al(e,r,a,!1),E=(a&e.childLanes)!==0,Ye||E){if(E=ce,E!==null&&(l=a&-a,l=(l&42)!==0?1:fe(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,ja(e,l),Bn(E,e,l),tv;b.data==="$?"||Vd(),r=gd(e,r,a)}else b.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=x.treeContext,Te=fi(b.nextSibling),Tn=r,Jt=!0,Qs=null,Ni=!1,e!==null&&(Qn[Xn++]=sr,Qn[Xn++]=ar,Qn[Xn++]=$s,sr=e.id,ar=e.overflow,$s=r),r=pd(r,l.children),r.flags|=4096);return r}return f?($r(),f=l.fallback,b=r.mode,x=e.child,F=x.sibling,l=rr(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?f=rr(F,f):(f=Ks(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=e.child.memoizedState,b===null?b=dd(a):(x=b.cachePool,x!==null?(F=Be._currentValue,x=x.parent!==F?{parent:F,pool:F}:x):x=Qg(),b={baseLanes:b.baseLanes|a,cachePool:x}),f.memoizedState=b,f.childLanes=md(e,E,a),r.memoizedState=hd,l):(Kr(r),a=e.child,e=a.sibling,a=rr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(E=r.deletions,E===null?(r.deletions=[e],r.flags|=16):E.push(e)),r.child=a,r.memoizedState=null,a)}function pd(e,r){return r=vc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function vc(e,r){return e=kn(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function gd(e,r,a){return Xa(r,e.child,null,a),e=pd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function cv(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Vh(e.return,r,a)}function yd(e,r,a,l,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function fv(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(nn(e,r,l.children,a),l=ze.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cv(e,a,r);else if(e.tag===19)cv(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Q(ze,l),f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&mc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),yd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&mc(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}yd(r,!0,a,null,d);break;case"together":yd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function fr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Zr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(al(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=rr(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=rr(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function vd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Zu(e)))}function VS(e,r,a){switch(r.tag){case 3:jt(r,r.stateNode.containerInfo),zr(r,Be,e.memoizedState.cache),rl();break;case 27:case 5:we(r);break;case 4:jt(r,r.stateNode.containerInfo);break;case 10:zr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?uv(e,r,a):(Kr(r),e=fr(e,r,a),e!==null?e.sibling:null);Kr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(al(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return fv(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(ze,ze.current),l)break;return null;case 22:case 23:return r.lanes=0,rv(e,r,a);case 24:zr(r,Be,e.memoizedState.cache)}return fr(e,r,a)}function hv(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ye=!0;else{if(!vd(e,a)&&(r.flags&128)===0)return Ye=!1,VS(e,r,a);Ye=(e.flags&131072)!==0}else Ye=!1,Jt&&(r.flags&1048576)!==0&&Hg(r,Wu,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Ch(l)?(e=ea(l,e),r.tag=1,r=ov(null,r,l,e,a)):(r.tag=0,r=fd(null,r,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===dt){r.tag=11,r=ev(null,r,l,e,a);break t}else if(f===O){r.tag=14,r=nv(null,r,l,e,a);break t}}throw r=Gt(l)||l,Error(s(306,r,""))}}return r;case 0:return fd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ea(l,r.pendingProps),ov(e,r,l,f,a);case 3:t:{if(jt(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,zh(e,r),dl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,zr(r,Be,l),l!==d.cache&&kh(r,[Be],a,!0),hl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=lv(e,r,l,a);break t}else if(l!==f){f=$n(Error(s(424)),r),sl(f),r=lv(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Te=fi(e.firstChild),Tn=r,Jt=!0,Qs=null,Ni=!0,a=Fy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===f){r=fr(e,r,a);break t}nn(e,r,l,a)}r=r.child}return r;case 26:return yc(e,r),e===null?(a=g_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Jt||(a=r.type,e=r.pendingProps,l=Dc(mt.current).createElement(a),l[me]=r,l[Wt]=e,sn(l,a,e),Ae(l),r.stateNode=l):r.memoizedState=g_(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return we(r),e===null&&Jt&&(l=r.stateNode=d_(r.type,r.pendingProps,mt.current),Tn=r,Ni=!0,f=Te,ns(r.type)?(Zd=f,Te=fi(l.firstChild)):Te=f),nn(e,r,r.pendingProps.children,a),yc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Jt&&((f=l=Te)&&(l=lw(l,r.type,r.pendingProps,Ni),l!==null?(r.stateNode=l,Tn=r,Te=fi(l.firstChild),Ni=!1,f=!0):f=!1),f||Xs(r)),we(r),f=r.type,d=r.pendingProps,E=e!==null?e.memoizedProps:null,l=d.children,Yd(f,d)?l=null:E!==null&&Yd(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=$h(e,r,RS,null,null,a),kl._currentValue=f),yc(e,r),nn(e,r,l,a),r.child;case 6:return e===null&&Jt&&((e=a=Te)&&(a=uw(a,r.pendingProps,Ni),a!==null?(r.stateNode=a,Tn=r,Te=null,e=!0):e=!1),e||Xs(r)),null;case 13:return uv(e,r,a);case 4:return jt(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Xa(r,null,l,a):nn(e,r,l,a),r.child;case 11:return ev(e,r,r.type,r.pendingProps,a);case 7:return nn(e,r,r.pendingProps,a),r.child;case 8:return nn(e,r,r.pendingProps.children,a),r.child;case 12:return nn(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,zr(r,r.type,l.value),nn(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Zs(r),f=cn(f),l=l(f),r.flags|=1,nn(e,r,l,a),r.child;case 14:return nv(e,r,r.type,r.pendingProps,a);case 15:return iv(e,r,r.type,r.pendingProps,a);case 19:return fv(e,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},e===null?(a=vc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=rr(e.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return rv(e,r,a);case 24:return Zs(r),l=cn(Be),e===null?(f=Uh(),f===null&&(f=ce,d=Ph(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Bh(r),zr(r,Be,f)):((e.lanes&a)!==0&&(zh(e,r),dl(r,null,null,a),hl()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),zr(r,Be,l)):(l=d.cache,zr(r,Be,l),l!==f.cache&&kh(r,[Be],a,!0))),nn(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function hr(e){e.flags|=4}function dv(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(r)){if(r=Wn.current,r!==null&&((Yt&4194048)===Yt?xi!==null:(Yt&62914560)!==Yt&&(Yt&536870912)===0||r!==xi))throw cl=jh,Xg;e.flags|=8192}}function _c(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Ns():536870912,e.lanes|=r,to|=r)}function El(e,r){if(!Jt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ye(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function kS(e,r,a){var l=r.pendingProps;switch(Oh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(r),null;case 1:return ye(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),lr(Be),_e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(il(r)?hr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Gg())),ye(r),null;case 26:return a=r.memoizedState,e===null?(hr(r),a!==null?(ye(r),dv(r,a)):(ye(r),r.flags&=-16777217)):a?a!==e.memoizedState?(hr(r),ye(r),dv(r,a)):(ye(r),r.flags&=-16777217):(e.memoizedProps!==l&&hr(r),ye(r),r.flags&=-16777217),null;case 27:un(r),a=mt.current;var f=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ye(r),null}e=ut.current,il(r)?qg(r):(e=d_(f,l,a),r.stateNode=e,hr(r))}return ye(r),null;case 5:if(un(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ye(r),null}if(e=ut.current,il(r))qg(r);else{switch(f=Dc(mt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[me]=r,e[Wt]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=e;t:switch(sn(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&hr(r)}}return ye(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&hr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=mt.current,il(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=Tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[me]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||a_(e.nodeValue,a)),e||Xs(r)}else e=Dc(e).createTextNode(l),e[me]=r,r.stateNode=e}return ye(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=il(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[me]=r}else rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ye(r),f=!1}else f=Gg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(cr(r),r):(cr(r),null)}if(cr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),_c(r,r.updateQueue),ye(r),null;case 4:return _e(),e===null&&qd(r.stateNode.containerInfo),ye(r),null;case 10:return lr(r.type),ye(r),null;case 19:if(et(ze),f=r.memoizedState,f===null)return ye(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)El(f,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=mc(e),d!==null){for(r.flags|=128,El(f,!1),e=d.updateQueue,r.updateQueue=e,_c(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)zg(a,e),a=a.sibling;return Q(ze,ze.current&1|2),r.child}e=e.sibling}f.tail!==null&&he()>bc&&(r.flags|=128,l=!0,El(f,!1),r.lanes=4194304)}else{if(!l)if(e=mc(d),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,_c(r,e),El(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Jt)return ye(r),null}else 2*he()-f.renderingStartTime>bc&&a!==536870912&&(r.flags|=128,l=!0,El(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(e=f.last,e!==null?e.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=he(),r.sibling=null,e=ze.current,Q(ze,l?e&1|2:e&1),r):(ye(r),null);case 22:case 23:return cr(r),Gh(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ye(r),r.subtreeFlags&6&&(r.flags|=8192)):ye(r),a=r.updateQueue,a!==null&&_c(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&et(Js),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),lr(Be),ye(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function PS(e,r){switch(Oh(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return lr(Be),_e(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return un(r),null;case 13:if(cr(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));rl()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return et(ze),null;case 4:return _e(),null;case 10:return lr(r.type),null;case 22:case 23:return cr(r),Gh(),e!==null&&et(Js),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return lr(Be),null;case 25:return null;default:return null}}function mv(e,r){switch(Oh(r),r.tag){case 3:lr(Be),_e();break;case 26:case 27:case 5:un(r);break;case 4:_e();break;case 13:cr(r);break;case 19:et(ze);break;case 10:lr(r.type);break;case 22:case 23:cr(r),Gh(),e!==null&&et(Js);break;case 24:lr(Be)}}function Tl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){ue(r,r.return,b)}}function Yr(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var x=a,F=b;try{F()}catch(X){ue(f,x,X)}}}l=l.next}while(l!==d)}}catch(X){ue(r,r.return,X)}}function pv(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{ny(r,a)}catch(l){ue(e,e.return,l)}}}function gv(e,r,a){a.props=ea(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ue(e,r,l)}}function bl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){ue(e,r,f)}}function Oi(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ue(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ue(e,r,f)}else a.current=null}function yv(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ue(e,e.return,f)}}function _d(e,r,a){try{var l=e.stateNode;iw(l,e.type,a,r),l[Wt]=r}catch(f){ue(e,e.return,f)}}function vv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ns(e.type)||e.tag===4}function Ed(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Td(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Oc));else if(l!==4&&(l===27&&ns(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Td(e,r,a),e=e.sibling;e!==null;)Td(e,r,a),e=e.sibling}function Ec(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&ns(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ec(e,r,a),e=e.sibling;e!==null;)Ec(e,r,a),e=e.sibling}function _v(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);sn(r,l,a),r[me]=e,r[Wt]=a}catch(d){ue(e,e.return,d)}}var dr=!1,Ce=!1,bd=!1,Ev=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function LS(e,r){if(e=e.containerInfo,Kd=Uc,e=Og(e),Eh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var E=0,b=-1,x=-1,F=0,X=0,J=e,G=null;e:for(;;){for(var K;J!==a||f!==0&&J.nodeType!==3||(b=E+f),J!==d||l!==0&&J.nodeType!==3||(x=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(K=J.firstChild)!==null;)G=J,J=K;for(;;){if(J===e)break e;if(G===a&&++F===f&&(b=E),G===d&&++X===l&&(x=E),(K=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=K}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:e,selectionRange:a},Uc=!1,Qe=r;Qe!==null;)if(r=Qe,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,Qe=e;else for(;Qe!==null;){switch(r=Qe,d=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ct=ea(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){ue(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Xd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Qe=e;break}Qe=r.return}}function Tv(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qr(e,a),l&4&&Tl(5,a);break;case 1:if(Qr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(E){ue(a,a.return,E)}else{var f=ea(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(E){ue(a,a.return,E)}}l&64&&pv(a),l&512&&bl(a,a.return);break;case 3:if(Qr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ny(e,r)}catch(E){ue(a,a.return,E)}}break;case 27:r===null&&l&4&&_v(a);case 26:case 5:Qr(e,a),r===null&&l&4&&yv(a),l&512&&bl(a,a.return);break;case 12:Qr(e,a);break;case 13:Qr(e,a),l&4&&wv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=KS.bind(null,a),cw(e,a))));break;case 22:if(l=a.memoizedState!==null||dr,!l){r=r!==null&&r.memoizedState!==null||Ce,f=dr;var d=Ce;dr=l,(Ce=r)&&!d?Xr(e,a,(a.subtreeFlags&8772)!==0):Qr(e,a),dr=f,Ce=d}break;case 30:break;default:Qr(e,a)}}function bv(e){var r=e.alternate;r!==null&&(e.alternate=null,bv(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Lr(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,In=!1;function mr(e,r,a){for(a=a.child;a!==null;)Sv(e,r,a),a=a.sibling}function Sv(e,r,a){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(yt,a)}catch{}switch(a.tag){case 26:Ce||Oi(a,r),mr(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Oi(a,r);var l=ge,f=In;ns(a.type)&&(ge=a.stateNode,In=!1),mr(e,r,a),Ol(a.stateNode),ge=l,In=f;break;case 5:Ce||Oi(a,r);case 6:if(l=ge,f=In,ge=null,mr(e,r,a),ge=l,In=f,ge!==null)if(In)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(a.stateNode)}catch(d){ue(a,r,d)}else try{ge.removeChild(a.stateNode)}catch(d){ue(a,r,d)}break;case 18:ge!==null&&(In?(e=ge,f_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),jl(e)):f_(ge,a.stateNode));break;case 4:l=ge,f=In,ge=a.stateNode.containerInfo,In=!0,mr(e,r,a),ge=l,In=f;break;case 0:case 11:case 14:case 15:Ce||Yr(2,a,r),Ce||Yr(4,a,r),mr(e,r,a);break;case 1:Ce||(Oi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gv(a,r,l)),mr(e,r,a);break;case 21:mr(e,r,a);break;case 22:Ce=(l=Ce)||a.memoizedState!==null,mr(e,r,a),Ce=l;break;default:mr(e,r,a)}}function wv(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jl(e)}catch(a){ue(r,r.return,a)}}function US(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Ev),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Ev),r;default:throw Error(s(435,e.tag))}}function Sd(e,r){var a=US(e);r.forEach(function(l){var f=$S.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function Pn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,E=r,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(ns(b.type)){ge=b.stateNode,In=!1;break t}break;case 5:ge=b.stateNode,In=!1;break t;case 3:case 4:ge=b.stateNode.containerInfo,In=!0;break t}b=b.return}if(ge===null)throw Error(s(160));Sv(d,E,f),ge=null,In=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Av(r,e),r=r.sibling}var ci=null;function Av(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pn(r,e),Ln(e),l&4&&(Yr(3,e,e.return),Tl(3,e),Yr(5,e,e.return));break;case 1:Pn(r,e),Ln(e),l&512&&(Ce||a===null||Oi(a,a.return)),l&64&&dr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ci;if(Pn(r,e),Ln(e),l&512&&(Ce||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[xs]||d[me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),sn(d,l,a),d[me]=e,Ae(d),l=d;break t;case"link":var E=__("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break e}}d=f.createElement(l),sn(d,l,a),f.head.appendChild(d);break;case"meta":if(E=__("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break e}}d=f.createElement(l),sn(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[me]=e,Ae(d),l=d}e.stateNode=l}else E_(f,e.type,e.stateNode);else e.stateNode=v_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?E_(f,e.type,e.stateNode):v_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&_d(e,e.memoizedProps,a.memoizedProps)}break;case 27:Pn(r,e),Ln(e),l&512&&(Ce||a===null||Oi(a,a.return)),a!==null&&l&4&&_d(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Pn(r,e),Ln(e),l&512&&(Ce||a===null||Oi(a,a.return)),e.flags&32){f=e.stateNode;try{qn(f,"")}catch(K){ue(e,e.return,K)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,_d(e,f,a!==null?a.memoizedProps:f)),l&1024&&(bd=!0);break;case 6:if(Pn(r,e),Ln(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(K){ue(e,e.return,K)}}break;case 3:if(kc=null,f=ci,ci=Mc(r.containerInfo),Pn(r,e),ci=f,Ln(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(r.containerInfo)}catch(K){ue(e,e.return,K)}bd&&(bd=!1,Rv(e));break;case 4:l=ci,ci=Mc(e.stateNode.containerInfo),Pn(r,e),Ln(e),ci=l;break;case 12:Pn(r,e),Ln(e);break;case 13:Pn(r,e),Ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nd=he()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Sd(e,l)));break;case 22:f=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,F=dr,X=Ce;if(dr=F||f,Ce=X||x,Pn(r,e),Ce=X,dr=F,Ln(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||x||dr||Ce||na(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(d=x.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=x.stateNode;var J=x.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){ue(x,x.return,K)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(K){ue(x,x.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sd(e,a))));break;case 19:Pn(r,e),Ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Sd(e,l)));break;case 30:break;case 21:break;default:Pn(r,e),Ln(e)}}function Ln(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(vv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ed(e);Ec(e,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(qn(E,""),a.flags&=-33);var b=Ed(e);Ec(e,b,E);break;case 3:case 4:var x=a.stateNode.containerInfo,F=Ed(e);Td(e,F,x);break;default:throw Error(s(161))}}catch(X){ue(e,e.return,X)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Rv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Rv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Qr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Tv(e,r.alternate,r),r=r.sibling}function na(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),na(r);break;case 1:Oi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&gv(r,r.return,a),na(r);break;case 27:Ol(r.stateNode);case 26:case 5:Oi(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}e=e.sibling}}function Xr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Xr(f,d,a),Tl(4,d);break;case 1:if(Xr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){ue(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)ey(x[f],b)}catch(F){ue(l,l.return,F)}}a&&E&64&&pv(d),bl(d,d.return);break;case 27:_v(d);case 26:case 5:Xr(f,d,a),a&&l===null&&E&4&&yv(d),bl(d,d.return);break;case 12:Xr(f,d,a);break;case 13:Xr(f,d,a),a&&E&4&&wv(f,d);break;case 22:d.memoizedState===null&&Xr(f,d,a),bl(d,d.return);break;case 30:break;default:Xr(f,d,a)}r=r.sibling}}function wd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ol(a))}function Ad(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ol(e))}function Di(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Cv(e,r,a,l),r=r.sibling}function Cv(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Di(e,r,a,l),f&2048&&Tl(9,r);break;case 1:Di(e,r,a,l);break;case 3:Di(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ol(e)));break;case 12:if(f&2048){Di(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){ue(r,r.return,x)}}else Di(e,r,a,l);break;case 13:Di(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?Di(e,r,a,l):Sl(e,r):d._visibility&2?Di(e,r,a,l):(d._visibility|=2,Wa(e,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&wd(E,r);break;case 24:Di(e,r,a,l),f&2048&&Ad(r.alternate,r);break;default:Di(e,r,a,l)}}function Wa(e,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=e,E=r,b=a,x=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Wa(d,E,b,x,f),Tl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?Wa(d,E,b,x,f):Sl(d,E):(X._visibility|=2,Wa(d,E,b,x,f)),f&&F&2048&&wd(E.alternate,E);break;case 24:Wa(d,E,b,x,f),f&&F&2048&&Ad(E.alternate,E);break;default:Wa(d,E,b,x,f)}r=r.sibling}}function Sl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:Sl(a,l),f&2048&&wd(l.alternate,l);break;case 24:Sl(a,l),f&2048&&Ad(l.alternate,l);break;default:Sl(a,l)}r=r.sibling}}var wl=8192;function Za(e){if(e.subtreeFlags&wl)for(e=e.child;e!==null;)Iv(e),e=e.sibling}function Iv(e){switch(e.tag){case 26:Za(e),e.flags&wl&&e.memoizedState!==null&&Sw(ci,e.memoizedState,e.memoizedProps);break;case 5:Za(e);break;case 3:case 4:var r=ci;ci=Mc(e.stateNode.containerInfo),Za(e),ci=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,Za(e),wl=r):Za(e));break;default:Za(e)}}function Nv(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Al(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qe=l,Ov(l,e)}Nv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xv(e),e=e.sibling}function xv(e){switch(e.tag){case 0:case 11:case 15:Al(e),e.flags&2048&&Yr(9,e,e.return);break;case 3:Al(e);break;case 12:Al(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Tc(e)):Al(e);break;default:Al(e)}}function Tc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qe=l,Ov(l,e)}Nv(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),Tc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(r));break;default:Tc(r)}e=e.sibling}}function Ov(e,r){for(;Qe!==null;){var a=Qe;switch(a.tag){case 0:case 11:case 15:Yr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qe=l;else t:for(a=e;Qe!==null;){l=Qe;var f=l.sibling,d=l.return;if(bv(l),l===a){Qe=null;break t}if(f!==null){f.return=d,Qe=f;break t}Qe=d}}}var jS={getCacheForType:function(e){var r=cn(Be),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},BS=typeof WeakMap=="function"?WeakMap:Map,ie=0,ce=null,zt=null,Yt=0,re=0,Un=null,Wr=!1,Ja=!1,Rd=!1,pr=0,be=0,Zr=0,ia=0,Cd=0,Zn=0,to=0,Rl=null,Nn=null,Id=!1,Nd=0,bc=1/0,Sc=null,Jr=null,rn=0,ts=null,eo=null,no=0,xd=0,Od=null,Dv=null,Cl=0,Dd=null;function jn(){if((ie&2)!==0&&Yt!==0)return Yt&-Yt;if(j.T!==null){var e=qa;return e!==0?e:jd()}return Dn()}function Mv(){Zn===0&&(Zn=(Yt&536870912)===0||Jt?Rn():536870912);var e=Wn.current;return e!==null&&(e.flags|=32),Zn}function Bn(e,r,a){(e===ce&&(re===2||re===9)||e.cancelPendingCommit!==null)&&(io(e,0),es(e,Yt,Zn,!1)),Hn(e,a),((ie&2)===0||e!==ce)&&(e===ce&&((ie&2)===0&&(ia|=a),be===4&&es(e,Yt,Zn,!1)),Mi(e))}function Vv(e,r,a){if((ie&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&e.expiredLanes)===0||Gi(e,r),f=l?qS(e,r):kd(e,r,!0),d=l;do{if(f===0){Ja&&!l&&es(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!zS(a)){f=kd(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var b=e;f=Rl;var x=b.current.memoizedState.isDehydrated;if(x&&(io(b,E).flags|=256),E=kd(b,E,!1),E!==2){if(Rd&&!x){b.errorRecoveryDisabledLanes|=d,ia|=d,f=4;break t}d=Nn,Nn=f,d!==null&&(Nn===null?Nn=d:Nn.push.apply(Nn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){io(e,0),es(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:es(l,r,Zn,!Wr);break t;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Nd+300-he(),10<f)){if(es(l,r,Zn,!Wr),Fi(l,0,!0)!==0)break t;l.timeoutHandle=u_(kv.bind(null,l,a,Nn,Sc,Id,r,Zn,ia,to,Wr,d,2,-0,0),f);break t}kv(l,a,Nn,Sc,Id,r,Zn,ia,to,Wr,d,0,-0,0)}}break}while(!0);Mi(e)}function kv(e,r,a,l,f,d,E,b,x,F,X,J,G,K){if(e.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:bw},Iv(r),J=ww(),J!==null)){e.cancelPendingCommit=J(Hv.bind(null,e,r,d,a,l,f,E,b,x,X,1,G,K)),es(e,d,E,!F);return}Hv(e,r,d,a,l,f,E,b,x)}function zS(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Vn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function es(e,r,a,l){r&=~Cd,r&=~ia,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-Ne(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Et(e,a,r)}function wc(){return(ie&6)===0?(Il(0),!1):!0}function Md(){if(zt!==null){if(re===0)var e=zt.return;else e=zt,or=Ws=null,Xh(e),Qa=null,vl=0,e=zt;for(;e!==null;)mv(e.alternate,e),e=e.return;zt=null}}function io(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,sw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Md(),ce=e,zt=a=rr(e.current,null),Yt=r,re=0,Un=null,Wr=!1,Ja=Gi(e,r),Rd=!1,to=Zn=Cd=ia=Zr=be=0,Nn=Rl=null,Id=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-Ne(l),d=1<<f;r|=e[f],l&=~d}return pr=r,Ku(),a}function Pv(e,r){Vt=null,j.H=fc,r===ul||r===ec?(r=Jg(),re=3):r===Xg?(r=Jg(),re=4):re=r===tv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Un=r,zt===null&&(be=1,gc(e,$n(r,e.current)))}function Lv(){var e=j.H;return j.H=fc,e===null?fc:e}function Uv(){var e=j.A;return j.A=jS,e}function Vd(){be=4,Wr||(Yt&4194048)!==Yt&&Wn.current!==null||(Ja=!0),(Zr&134217727)===0&&(ia&134217727)===0||ce===null||es(ce,Yt,Zn,!1)}function kd(e,r,a){var l=ie;ie|=2;var f=Lv(),d=Uv();(ce!==e||Yt!==r)&&(Sc=null,io(e,r)),r=!1;var E=be;t:do try{if(re!==0&&zt!==null){var b=zt,x=Un;switch(re){case 8:Md(),E=6;break t;case 3:case 2:case 9:case 6:Wn.current===null&&(r=!0);var F=re;if(re=0,Un=null,ro(e,b,x,F),a&&Ja){E=0;break t}break;default:F=re,re=0,Un=null,ro(e,b,x,F)}}HS(),E=be;break}catch(X){Pv(e,X)}while(!0);return r&&e.shellSuspendCounter++,or=Ws=null,ie=l,j.H=f,j.A=d,zt===null&&(ce=null,Yt=0,Ku()),E}function HS(){for(;zt!==null;)jv(zt)}function qS(e,r){var a=ie;ie|=2;var l=Lv(),f=Uv();ce!==e||Yt!==r?(Sc=null,bc=he()+500,io(e,r)):Ja=Gi(e,r);t:do try{if(re!==0&&zt!==null){r=zt;var d=Un;e:switch(re){case 1:re=0,Un=null,ro(e,r,d,1);break;case 2:case 9:if(Wg(d)){re=0,Un=null,Bv(r);break}r=function(){re!==2&&re!==9||ce!==e||(re=7),Mi(e)},d.then(r,r);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:Wg(d)?(re=0,Un=null,Bv(r)):(re=0,Un=null,ro(e,r,d,7));break;case 5:var E=null;switch(zt.tag){case 26:E=zt.memoizedState;case 5:case 27:var b=zt;if(!E||T_(E)){re=0,Un=null;var x=b.sibling;if(x!==null)zt=x;else{var F=b.return;F!==null?(zt=F,Ac(F)):zt=null}break e}}re=0,Un=null,ro(e,r,d,5);break;case 6:re=0,Un=null,ro(e,r,d,6);break;case 8:Md(),be=6;break t;default:throw Error(s(462))}}FS();break}catch(X){Pv(e,X)}while(!0);return or=Ws=null,j.H=l,j.A=f,ie=a,zt!==null?0:(ce=null,Yt=0,Ku(),be)}function FS(){for(;zt!==null&&!Xt();)jv(zt)}function jv(e){var r=hv(e.alternate,e,pr);e.memoizedProps=e.pendingProps,r===null?Ac(e):zt=r}function Bv(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=av(a,r,r.pendingProps,r.type,void 0,Yt);break;case 11:r=av(a,r,r.pendingProps,r.type.render,r.ref,Yt);break;case 5:Xh(r);default:mv(a,r),r=zt=zg(r,pr),r=hv(a,r,pr)}e.memoizedProps=e.pendingProps,r===null?Ac(e):zt=r}function ro(e,r,a,l){or=Ws=null,Xh(r),Qa=null,vl=0;var f=r.return;try{if(MS(e,f,r,a,Yt)){be=1,gc(e,$n(a,e.current)),zt=null;return}}catch(d){if(f!==null)throw zt=f,d;be=1,gc(e,$n(a,e.current)),zt=null;return}r.flags&32768?(Jt||l===1?e=!0:Ja||(Yt&536870912)!==0?e=!1:(Wr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),zv(r,e)):Ac(r)}function Ac(e){var r=e;do{if((r.flags&32768)!==0){zv(r,Wr);return}e=r.return;var a=kS(r.alternate,r,pr);if(a!==null){zt=a;return}if(r=r.sibling,r!==null){zt=r;return}zt=r=e}while(r!==null);be===0&&(be=5)}function zv(e,r){do{var a=PS(e.alternate,e);if(a!==null){a.flags&=32767,zt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){zt=e;return}zt=e=a}while(e!==null);be=6,zt=null}function Hv(e,r,a,l,f,d,E,b,x){e.cancelPendingCommit=null;do Rc();while(rn!==0);if((ie&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Ah,kr(e,a,d,E,b,x),e===ce&&(zt=ce=null,Yt=0),eo=r,ts=e,no=a,xd=d,Od=f,Dv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YS(ii,function(){return $v(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,f=it.p,it.p=2,E=ie,ie|=4;try{LS(e,r,a)}finally{ie=E,it.p=f,j.T=l}}rn=1,qv(),Fv(),Gv()}}function qv(){if(rn===1){rn=0;var e=ts,r=eo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var l=it.p;it.p=2;var f=ie;ie|=4;try{Av(r,e);var d=$d,E=Og(e.containerInfo),b=d.focusedElem,x=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&xg(b.ownerDocument.documentElement,b)){if(x!==null&&Eh(b)){var F=x.start,X=x.end;if(X===void 0&&(X=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(X,b.value.length);else{var J=b.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var K=G.getSelection(),Ct=b.textContent.length,Tt=Math.min(x.start,Ct),le=x.end===void 0?Tt:Math.min(x.end,Ct);!K.extend&&Tt>le&&(E=le,le=Tt,Tt=E);var U=Ng(b,Tt),P=Ng(b,le);if(U&&P&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var z=J.createRange();z.setStart(U.node,U.offset),K.removeAllRanges(),Tt>le?(K.addRange(z),K.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),K.addRange(z))}}}}for(J=[],K=b;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var Z=J[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Uc=!!Kd,$d=Kd=null}finally{ie=f,it.p=l,j.T=a}}e.current=r,rn=2}}function Fv(){if(rn===2){rn=0;var e=ts,r=eo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var l=it.p;it.p=2;var f=ie;ie|=4;try{Tv(e,r.alternate,r)}finally{ie=f,it.p=l,j.T=a}}rn=3}}function Gv(){if(rn===4||rn===3){rn=0,zn();var e=ts,r=eo,a=no,l=Dv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?rn=5:(rn=0,eo=ts=null,Kv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Jr=null),xe(a),r=r.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(yt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=j.T,f=it.p,it.p=2,j.T=null;try{for(var d=e.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{j.T=r,it.p=f}}(no&3)!==0&&Rc(),Mi(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===Dd?Cl++:(Cl=0,Dd=e):Cl=0,Il(0)}}function Kv(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,ol(r)))}function Rc(e){return qv(),Fv(),Gv(),$v()}function $v(){if(rn!==5)return!1;var e=ts,r=xd;xd=0;var a=xe(no),l=j.T,f=it.p;try{it.p=32>a?32:a,j.T=null,a=Od,Od=null;var d=ts,E=no;if(rn=0,eo=ts=null,no=0,(ie&6)!==0)throw Error(s(331));var b=ie;if(ie|=4,xv(d.current),Cv(d,d.current,E,a),ie=b,Il(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(yt,d)}catch{}return!0}finally{it.p=f,j.T=l,Kv(e,r)}}function Yv(e,r,a){r=$n(a,r),r=cd(e.stateNode,r,2),e=Fr(e,r,2),e!==null&&(Hn(e,2),Mi(e))}function ue(e,r,a){if(e.tag===3)Yv(e,e,a);else for(;r!==null;){if(r.tag===3){Yv(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jr===null||!Jr.has(l))){e=$n(a,e),a=Zy(2),l=Fr(r,a,2),l!==null&&(Jy(a,l,r,e),Hn(l,2),Mi(l));break}}r=r.return}}function Pd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new BS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Rd=!0,f.add(a),e=GS.bind(null,e,r,a),r.then(e,e))}function GS(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ce===e&&(Yt&a)===a&&(be===4||be===3&&(Yt&62914560)===Yt&&300>he()-Nd?(ie&2)===0&&io(e,0):Cd|=a,to===Yt&&(to=0)),Mi(e)}function Qv(e,r){r===0&&(r=Ns()),e=ja(e,r),e!==null&&(Hn(e,r),Mi(e))}function KS(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Qv(e,a)}function $S(e,r){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Qv(e,a)}function YS(e,r){return gn(e,r)}var Cc=null,so=null,Ld=!1,Ic=!1,Ud=!1,ra=0;function Mi(e){e!==so&&e.next===null&&(so===null?Cc=so=e:so=so.next=e),Ic=!0,Ld||(Ld=!0,XS())}function Il(e,r){if(!Ud&&Ic){Ud=!0;do for(var a=!1,l=Cc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Ne(42|e)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Jv(l,d))}else d=Yt,d=Fi(l,l===ce?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gi(l,d)||(a=!0,Jv(l,d));l=l.next}while(a);Ud=!1}}function QS(){Xv()}function Xv(){Ic=Ld=!1;var e=0;ra!==0&&(rw()&&(e=ra),ra=0);for(var r=he(),a=null,l=Cc;l!==null;){var f=l.next,d=Wv(l,r);d===0?(l.next=null,a===null?Cc=f:a.next=f,f===null&&(so=a)):(a=l,(e!==0||(d&3)!==0)&&(Ic=!0)),l=f}Il(e)}function Wv(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-Ne(d),b=1<<E,x=f[E];x===-1?((b&a)===0||(b&l)!==0)&&(f[E]=Ki(b,r)):x<=r&&(e.expiredLanes|=b),d&=~b}if(r=ce,a=Yt,a=Fi(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(re===2||re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ge(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gi(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&Ge(l),xe(a)){case 2:case 8:a=yi;break;case 32:a=ii;break;case 268435456:a=yn;break;default:a=ii}return l=Zv.bind(null,e),a=gn(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&Ge(l),e.callbackPriority=2,e.callbackNode=null,2}function Zv(e,r){if(rn!==0&&rn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Rc()&&e.callbackNode!==a)return null;var l=Yt;return l=Fi(e,e===ce?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Vv(e,l,r),Wv(e,he()),e.callbackNode!=null&&e.callbackNode===a?Zv.bind(null,e):null)}function Jv(e,r){if(Rc())return null;Vv(e,r,!0)}function XS(){aw(function(){(ie&6)!==0?gn(Je,QS):Xv()})}function jd(){return ra===0&&(ra=Rn()),ra}function t_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ca(""+e)}function e_(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function WS(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=t_((f[Wt]||null).action),E=l.submitter;E&&(r=(r=E[Wt]||null)?t_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var b=new Ia("action","action",null,l,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var x=E?e_(f,E):new FormData(f);sd(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=E?e_(f,E):new FormData(f),sd(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var Bd=0;Bd<wh.length;Bd++){var zd=wh[Bd],ZS=zd.toLowerCase(),JS=zd[0].toUpperCase()+zd.slice(1);ui(ZS,"on"+JS)}ui(Vg,"onAnimationEnd"),ui(kg,"onAnimationIteration"),ui(Pg,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(gS,"onTransitionRun"),ui(yS,"onTransitionStart"),ui(vS,"onTransitionCancel"),ui(Lg,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function n_(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],x=b.instance,F=b.currentTarget;if(b=b.listener,x!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=F;try{d(f)}catch(X){pc(X)}f.currentTarget=null,d=x}else for(E=0;E<l.length;E++){if(b=l[E],x=b.instance,F=b.currentTarget,b=b.listener,x!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=F;try{d(f)}catch(X){pc(X)}f.currentTarget=null,d=x}}}}function Ht(e,r){var a=r[Pr];a===void 0&&(a=r[Pr]=new Set);var l=e+"__bubble";a.has(l)||(i_(r,e,2,!1),a.add(l))}function Hd(e,r,a){var l=0;r&&(l|=4),i_(a,e,l,r)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[Nc]){e[Nc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(tw.has(a)||Hd(a,!1,e),Hd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Nc]||(r[Nc]=!0,Hd("selectionchange",!1,r))}}function i_(e,r,a,l){switch(C_(r)){case 2:var f=Cw;break;case 8:f=Iw;break;default:f=im}a=f.bind(null,r,a,e),f=void 0,!Gn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function Fd(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Yi(b),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){l=d=E;continue t}b=b.parentNode}}l=l.return}Ou(function(){var F=d,X=Fn(a),J=[];t:{var G=Ug.get(e);if(G!==void 0){var K=Ia,Ct=e;switch(e){case"keypress":if(wi(a)===0)break t;case"keydown":case"keyup":K=Va;break;case"focusin":Ct="focus",K=Oa;break;case"focusout":Ct="blur",K=Oa;break;case"beforeblur":case"afterblur":K=Oa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ju;break;case Vg:case kg:case Pg:K=Da;break;case Lg:K=zu;break;case"scroll":case"scrollend":K=Du;break;case"wheel":K=ka;break;case"copy":case"cut":case"paste":K=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Jo;break;case"toggle":case"beforetoggle":K=qu}var Tt=(r&4)!==0,le=!Tt&&(e==="scroll"||e==="scrollend"),U=Tt?G!==null?G+"Capture":null:G;Tt=[];for(var P=F,z;P!==null;){var Z=P;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||U===null||(Z=Ls(P,U),Z!=null&&Tt.push(xl(P,Z,z))),le)break;P=P.return}0<Tt.length&&(G=new K(G,Ct,null,a,X),J.push({event:G,listeners:Tt}))}}if((r&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",G&&a!==Zi&&(Ct=a.relatedTarget||a.fromElement)&&(Yi(Ct)||Ct[pe]))break t;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(Ct=a.relatedTarget||a.toElement,K=F,Ct=Ct?Yi(Ct):null,Ct!==null&&(le=u(Ct),Tt=Ct.tag,Ct!==le||Tt!==5&&Tt!==27&&Tt!==6)&&(Ct=null)):(K=null,Ct=F),K!==Ct)){if(Tt=Kn,Z="onMouseLeave",U="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Jo,Z="onPointerLeave",U="onPointerEnter",P="pointer"),le=K==null?G:Ei(K),z=Ct==null?G:Ei(Ct),G=new Tt(Z,P+"leave",K,a,X),G.target=le,G.relatedTarget=z,Z=null,Yi(X)===F&&(Tt=new Tt(U,P+"enter",Ct,a,X),Tt.target=z,Tt.relatedTarget=le,Z=Tt),le=Z,K&&Ct)e:{for(Tt=K,U=Ct,P=0,z=Tt;z;z=ao(z))P++;for(z=0,Z=U;Z;Z=ao(Z))z++;for(;0<P-z;)Tt=ao(Tt),P--;for(;0<z-P;)U=ao(U),z--;for(;P--;){if(Tt===U||U!==null&&Tt===U.alternate)break e;Tt=ao(Tt),U=ao(U)}Tt=null}else Tt=null;K!==null&&r_(J,G,K,Tt,!1),Ct!==null&&le!==null&&r_(J,le,Ct,Tt,!0)}}t:{if(G=F?Ei(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var gt=Sg;else if(je(G))if(wg)gt=dS;else{gt=fS;var Ut=cS}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ko(F.elementType)&&(gt=Sg):gt=hS;if(gt&&(gt=gt(e,F))){ir(J,gt,a,X);break t}Ut&&Ut(e,G,F),e==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&jr(G,"number",G.value)}switch(Ut=F?Ei(F):window,e){case"focusin":(je(Ut)||Ut.contentEditable==="true")&&(Pa=Ut,Th=F,nl=null);break;case"focusout":nl=Th=Pa=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,Dg(J,a,X);break;case"selectionchange":if(pS)break;case"keydown":case"keyup":Dg(J,a,X)}var vt;if(Ci)t:{switch(e){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else Kt?Y(e,a)&&(wt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(v&&a.locale!=="ko"&&(Kt||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Kt&&(vt=Yo()):(Si=X,Br="value"in Si?Si.value:Si.textContent,Kt=!0)),Ut=xc(F,wt),0<Ut.length&&(wt=new Wo(wt,e,null,a,X),J.push({event:wt,listeners:Ut}),vt?wt.data=vt:(vt=ft(a),vt!==null&&(wt.data=vt)))),(vt=y?Ue(e,a):$t(e,a))&&(wt=xc(F,"onBeforeInput"),0<wt.length&&(Ut=new Wo("onBeforeInput","beforeinput",null,a,X),J.push({event:Ut,listeners:wt}),Ut.data=vt)),WS(J,e,F,a,X)}n_(J,r)})}function xl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function xc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ls(e,a),f!=null&&l.unshift(xl(e,f,d)),f=Ls(e,r),f!=null&&l.push(xl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function r_(e,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var b=a,x=b.alternate,F=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||F===null||(x=F,f?(F=Ls(a,d),F!=null&&E.unshift(xl(a,F,x))):f||(F=Ls(a,d),F!=null&&E.push(xl(a,F,x)))),a=a.return}E.length!==0&&e.push({event:r,listeners:E})}var ew=/\r\n?/g,nw=/\u0000|\uFFFD/g;function s_(e){return(typeof e=="string"?e:""+e).replace(ew,`
`).replace(nw,"")}function a_(e,r){return r=s_(r),s_(e)===r}function Oc(){}function oe(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||qn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&qn(e,""+l);break;case"className":Ti(e,"class",l);break;case"tabIndex":Ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(e,a,l);break;case"style":Go(e,l,d);break;case"data":if(r!=="object"){Ti(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ca(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&oe(e,r,"name",f.name,f,null),oe(e,r,"formEncType",f.formEncType,f,null),oe(e,r,"formMethod",f.formMethod,f,null),oe(e,r,"formTarget",f.formTarget,f,null)):(oe(e,r,"encType",f.encType,f,null),oe(e,r,"method",f.method,f,null),oe(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ca(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Oc);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ca(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),Ur(e,"popover",l);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mh.get(a)||a,Ur(e,a,l))}}function Gd(e,r,a,l,f,d){switch(a){case"style":Go(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?qn(e,l):(typeof l=="number"||typeof l=="bigint")&&qn(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[Wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ur(e,a,l)}}}function sn(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:oe(e,r,d,E,a,null)}}f&&oe(e,r,"srcSet",a.srcSet,a,null),l&&oe(e,r,"src",a.src,a,null);return;case"input":Ht("invalid",e);var b=d=E=f=null,x=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":E=X;break;case"checked":x=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:oe(e,r,l,X,a,null)}}Vs(e,d,b,x,F,E,f,!1),Ra(e);return;case"select":Ht("invalid",e),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:oe(e,r,f,b,a,null)}r=d,a=E,e.multiple=!!l,r!=null?Wi(e,!!l,r,!1):a!=null&&Wi(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:oe(e,r,E,b,a,null)}ks(e,l,f,d),Ra(e);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:oe(e,r,x,l,a,null)}return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ht(Nl[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:oe(e,r,F,l,a,null)}return;default:if(Ko(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Gd(e,r,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&oe(e,r,b,l,a,null))}function iw(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,x=null,F=null,X=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":x=J;default:l.hasOwnProperty(K)||oe(e,r,K,null,l,J)}}for(var G in l){var K=l[G];if(J=a[G],l.hasOwnProperty(G)&&(K!=null||J!=null))switch(G){case"type":d=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":X=K;break;case"value":E=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==J&&oe(e,r,G,K,l,J)}}Mn(e,E,b,x,F,X,d,f);return;case"select":K=E=b=G=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":K=x;default:l.hasOwnProperty(d)||oe(e,r,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==x&&oe(e,r,f,d,l,x)}r=b,a=E,l=K,G!=null?Wi(e,!!a,G,!1):!!l!=!!a&&(r!=null?Wi(e,!!a,r,!0):Wi(e,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:oe(e,r,b,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&oe(e,r,E,f,l,d)}se(e,G,K);return;case"option":for(var Ct in a)if(G=a[Ct],a.hasOwnProperty(Ct)&&G!=null&&!l.hasOwnProperty(Ct))switch(Ct){case"selected":e.selected=!1;break;default:oe(e,r,Ct,null,l,G)}for(x in l)if(G=l[x],K=a[x],l.hasOwnProperty(x)&&G!==K&&(G!=null||K!=null))switch(x){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:oe(e,r,x,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)G=a[Tt],a.hasOwnProperty(Tt)&&G!=null&&!l.hasOwnProperty(Tt)&&oe(e,r,Tt,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:oe(e,r,F,G,l,K)}return;default:if(Ko(r)){for(var le in a)G=a[le],a.hasOwnProperty(le)&&G!==void 0&&!l.hasOwnProperty(le)&&Gd(e,r,le,void 0,l,G);for(X in l)G=l[X],K=a[X],!l.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||Gd(e,r,X,G,l,K);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&oe(e,r,U,null,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G==null&&K==null||oe(e,r,J,G,l,K)}var Kd=null,$d=null;function Dc(e){return e.nodeType===9?e:e.ownerDocument}function o_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Yd(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qd=null;function rw(){var e=window.event;return e&&e.type==="popstate"?e===Qd?!1:(Qd=e,!0):(Qd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,sw=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,aw=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(e){return c_.resolve(null).then(e).catch(ow)}:u_;function ow(e){setTimeout(function(){throw e})}function ns(e){return e==="head"}function f_(e,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=e.ownerDocument;if(a&1&&Ol(E.documentElement),a&2&&Ol(E.body),a&4)for(a=E.head,Ol(a),E=a.firstChild;E;){var b=E.nextSibling,x=E.nodeName;E[xs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(f===0){e.removeChild(d),jl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);jl(r)}function Xd(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xd(a),Lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function lw(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[xs])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=fi(e.nextSibling),e===null)break}return null}function uw(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=fi(e.nextSibling),e===null))return null;return e}function Wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function cw(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function fi(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var Zd=null;function h_(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function d_(e,r,a){switch(r=Dc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ol(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Lr(e)}var Jn=new Map,m_=new Set;function Mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gr=it.d;it.d={f:fw,r:hw,D:dw,C:mw,L:pw,m:gw,X:vw,S:yw,M:_w};function fw(){var e=gr.f(),r=wc();return e||r}function hw(e){var r=_i(e);r!==null&&r.tag===5&&r.type==="form"?Vy(r):gr.r(e)}var oo=typeof document>"u"?null:document;function p_(e,r,a){var l=oo;if(l&&typeof r=="string"&&r){var f=Oe(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),m_.has(f)||(m_.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),sn(r,"link",e),Ae(r),l.head.appendChild(r)))}}function dw(e){gr.D(e),p_("dns-prefetch",e,null)}function mw(e,r){gr.C(e,r),p_("preconnect",e,r)}function pw(e,r,a){gr.L(e,r,a);var l=oo;if(l&&e&&r){var f='link[rel="preload"][as="'+Oe(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Oe(a.imageSizes)+'"]')):f+='[href="'+Oe(e)+'"]';var d=f;switch(r){case"style":d=lo(e);break;case"script":d=uo(e)}Jn.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Jn.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Ml(d))||(r=l.createElement("link"),sn(r,"link",e),Ae(r),l.head.appendChild(r)))}}function gw(e,r){gr.m(e,r);var a=oo;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Oe(l)+'"][href="'+Oe(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(e)}if(!Jn.has(d)&&(e=T({rel:"modulepreload",href:e},r),Jn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),sn(l,"link",e),Ae(l),a.head.appendChild(l)}}}function yw(e,r,a){gr.S(e,r,a);var l=oo;if(l&&e){var f=vn(l).hoistableStyles,d=lo(e);r=r||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Dl(d)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Jn.get(d))&&Jd(e,a);var x=E=l.createElement("link");Ae(x),sn(x,"link",e),x._p=new Promise(function(F,X){x.onload=F,x.onerror=X}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Vc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function vw(e,r){gr.X(e,r);var a=oo;if(a&&e){var l=vn(a).hoistableScripts,f=uo(e),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(e=T({src:e,async:!0},r),(r=Jn.get(f))&&tm(e,r),d=a.createElement("script"),Ae(d),sn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function _w(e,r){gr.M(e,r);var a=oo;if(a&&e){var l=vn(a).hoistableScripts,f=uo(e),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=Jn.get(f))&&tm(e,r),d=a.createElement("script"),Ae(d),sn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function g_(e,r,a,l){var f=(f=mt.current)?Mc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=vn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=lo(a.href);var d=vn(f).hoistableStyles,E=d.get(e);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=f.querySelector(Dl(e)))&&!d._p&&(E.instance=d,E.state.loading=5),Jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(e,a),d||Ew(f,e,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=vn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function lo(e){return'href="'+Oe(e)+'"'}function Dl(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Ew(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),sn(r,"link",a),Ae(r),e.head.appendChild(r))}function uo(e){return'[src="'+Oe(e)+'"]'}function Ml(e){return"script[async]"+e}function v_(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+Oe(a.href)+'"]');if(l)return r.instance=l,Ae(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ae(l),sn(l,"style",f),Vc(l,a.precedence,e),r.instance=l;case"stylesheet":f=lo(a.href);var d=e.querySelector(Dl(f));if(d)return r.state.loading|=4,r.instance=d,Ae(d),d;l=y_(a),(f=Jn.get(f))&&Jd(l,f),d=(e.ownerDocument||e).createElement("link"),Ae(d);var E=d;return E._p=new Promise(function(b,x){E.onload=b,E.onerror=x}),sn(d,"link",l),r.state.loading|=4,Vc(d,a.precedence,e),r.instance=d;case"script":return d=uo(a.src),(f=e.querySelector(Ml(d)))?(r.instance=f,Ae(f),f):(l=a,(f=Jn.get(d))&&(l=T({},a),tm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ae(f),sn(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Vc(l,a.precedence,e));return r.instance}function Vc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function Jd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function tm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var kc=null;function __(e,r,a){if(kc===null){var l=new Map,f=kc=new Map;f.set(a,l)}else f=kc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[xs]||d[me]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=e+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function E_(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function Tw(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Vl=null;function bw(){}function Sw(e,r,a){if(Vl===null)throw Error(s(475));var l=Vl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=lo(a.href),d=e.querySelector(Dl(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Pc.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=d,Ae(d);return}d=e.ownerDocument||e,a=y_(a),(f=Jn.get(f))&&Jd(a,f),d=d.createElement("link"),Ae(d);var E=d;E._p=new Promise(function(b,x){E.onload=b,E.onerror=x}),sn(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Pc.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function ww(){if(Vl===null)throw Error(s(475));var e=Vl;return e.stylesheets&&e.count===0&&em(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&em(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lc=null;function em(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lc=new Map,r.forEach(Aw,e),Lc=null,Pc.call(e))}function Aw(e,r){if(!(r.state.loading&4)){var a=Lc.get(e);if(a)var l=a.get(null);else{a=new Map,Lc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Pc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var kl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function Rw(e,r,a,l,f,d,E,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function b_(e,r,a,l,f,d,E,b,x,F,X,J){return e=new Rw(e,r,a,E,b,x,F,J),r=1,d===!0&&(r|=24),d=kn(3,null,null,r),e.current=d,d.stateNode=e,r=Ph(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Bh(d),e}function S_(e){return e?(e=Ba,e):Ba}function w_(e,r,a,l,f,d){f=S_(f),l.context===null?l.context=f:l.pendingContext=f,l=qr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Fr(e,l,r),a!==null&&(Bn(a,e,r),fl(a,e,r))}function A_(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function nm(e,r){A_(e,r),(e=e.alternate)&&A_(e,r)}function R_(e){if(e.tag===13){var r=ja(e,67108864);r!==null&&Bn(r,e,67108864),nm(e,67108864)}}var Uc=!0;function Cw(e,r,a,l){var f=j.T;j.T=null;var d=it.p;try{it.p=2,im(e,r,a,l)}finally{it.p=d,j.T=f}}function Iw(e,r,a,l){var f=j.T;j.T=null;var d=it.p;try{it.p=8,im(e,r,a,l)}finally{it.p=d,j.T=f}}function im(e,r,a,l){if(Uc){var f=rm(l);if(f===null)Fd(e,r,l,jc,a),I_(e,l);else if(xw(f,e,r,a,l))l.stopPropagation();else if(I_(e,l),r&4&&-1<Nw.indexOf(e)){for(;f!==null;){var d=_i(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=An(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var x=1<<31-Ne(E);b.entanglements[1]|=x,E&=~x}Mi(d),(ie&6)===0&&(bc=he()+500,Il(0))}}break;case 13:b=ja(d,2),b!==null&&Bn(b,d,2),wc(),nm(d,2)}if(d=rm(l),d===null&&Fd(e,r,l,jc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Fd(e,r,l,null,a)}}function rm(e){return e=Fn(e),sm(e)}var jc=null;function sm(e){if(jc=null,e=Yi(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return jc=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mr()){case Je:return 2;case yi:return 8;case ii:case Pe:return 32;case yn:return 268435456;default:return 32}default:return 32}}var am=!1,is=null,rs=null,ss=null,Pl=new Map,Ll=new Map,as=[],Nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,r){switch(e){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Pl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(r.pointerId)}}function Ul(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=_i(r),r!==null&&R_(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function xw(e,r,a,l,f){switch(r){case"focusin":return is=Ul(is,e,r,a,l,f),!0;case"dragenter":return rs=Ul(rs,e,r,a,l,f),!0;case"mouseover":return ss=Ul(ss,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Pl.set(d,Ul(Pl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ll.set(d,Ul(Ll.get(d)||null,e,r,a,l,f)),!0}return!1}function N_(e){var r=Yi(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,Ee(e.priority,function(){if(a.tag===13){var l=jn();l=fe(l);var f=ja(a,l);f!==null&&Bn(f,a,l),nm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=rm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Zi=l,a.target.dispatchEvent(l),Zi=null}else return r=_i(a),r!==null&&R_(r),e.blockedOn=a,!1;r.shift()}return!0}function x_(e,r,a){Bc(e)&&a.delete(r)}function Ow(){am=!1,is!==null&&Bc(is)&&(is=null),rs!==null&&Bc(rs)&&(rs=null),ss!==null&&Bc(ss)&&(ss=null),Pl.forEach(x_),Ll.forEach(x_)}function zc(e,r){e.blockedOn===r&&(e.blockedOn=null,am||(am=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ow)))}var Hc=null;function O_(e){Hc!==e&&(Hc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hc===e&&(Hc=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(sm(l||a)===null)continue;break}var d=_i(a);d!==null&&(e.splice(r,3),r-=3,sd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function jl(e){function r(x){return zc(x,e)}is!==null&&zc(is,e),rs!==null&&zc(rs,e),ss!==null&&zc(ss,e),Pl.forEach(r),Ll.forEach(r);for(var a=0;a<as.length;a++){var l=as[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)N_(a),a.blockedOn===null&&as.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Wt]||null;if(typeof d=="function")E||O_(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Wt]||null)b=E.formAction;else if(sm(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),O_(a)}}}function om(e){this._internalRoot=e}qc.prototype.render=om.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=jn();w_(a,l,e,r,null,null)},qc.prototype.unmount=om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;w_(e.current,2,null,e,null,null),wc(),r[pe]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var r=Dn();e={blockedOn:null,target:e,priority:r};for(var a=0;a<as.length&&r!==0&&r<as[a].priority;a++);as.splice(a,0,e),a===0&&N_(e)}};var D_=t.version;if(D_!=="19.1.0")throw Error(s(527,D_,"19.1.0"));it.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Dw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{yt=Fc.inject(Dw),Lt=Fc}catch{}}return zl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=Yy,d=Qy,E=Xy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=b_(e,1,!1,null,null,a,l,f,d,E,b,null),e[pe]=r.current,qd(e),new om(r)},zl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=Yy,E=Qy,b=Xy,x=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=b_(e,1,!0,r,a??null,l,f,d,E,b,x,F),r.context=S_(null),a=r.current,l=jn(),l=fe(l),f=qr(l),f.callback=null,Fr(a,f,l),a=l,r.current.lanes=a,Hn(r,a),Mi(r),e[pe]=r.current,qd(e),new qc(r)},zl.version="19.1.0",zl}var H_;function zw(){if(H_)return cm.exports;H_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),cm.exports=Bw(),cm.exports}var Hw=zw();const Bf=C.createContext({handleKeyClick:()=>console.warn("KeyBoardContext: No handleKeyClick provider found!")});var UE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},q_=st.createContext&&st.createContext(UE),qw=["attr","size","title"];function Fw(i,t){if(i==null)return{};var n=Gw(i,t),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function Gw(i,t){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function hf(){return hf=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},hf.apply(this,arguments)}function F_(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function df(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(n),!0).forEach(function(s){Kw(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function Kw(i,t,n){return t=$w(t),t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function $w(i){var t=Yw(i,"string");return typeof t=="symbol"?t:t+""}function Yw(i,t){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function jE(i){return i&&i.map((t,n)=>st.createElement(t.tag,df({key:n},t.attr),jE(t.child)))}function zf(i){return t=>st.createElement(Qw,hf({attr:df({},i.attr)},t),jE(i.child))}function Qw(i){var t=n=>{var{attr:s,size:o,title:u}=i,h=Fw(i,qw),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),st.createElement("svg",hf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:p,style:df(df({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&st.createElement("title",null,u),i.children)};return q_!==void 0?st.createElement(q_.Consumer,null,n=>t(n)):t(UE)}function Xw(i){return zf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M135.19 390.14a28.79 28.79 0 0 0 21.68 9.86h246.26A29 29 0 0 0 432 371.13V140.87A29 29 0 0 0 403.13 112H156.87a28.84 28.84 0 0 0-21.67 9.84L46.33 256l88.86 134.11z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336.67 192.33 206.66 322.34m130.01 0L206.66 192.33m130.01 0L206.66 322.34m130.01 0L206.66 192.33"},child:[]}]})(i)}function Ww(i){return zf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"28",d:"M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296"},child:[]},{tag:"circle",attr:{cx:"250",cy:"348",r:"20"},child:[]}]})(i)}function Zw(i){return zf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 496H72a24 24 0 0 1-24-24V328a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v144a24 24 0 0 1-24 24zm224 0h-32a24 24 0 0 1-24-24V232a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v240a24 24 0 0 1-24 24zm112 0h-32a24 24 0 0 1-24-24V120a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v352a24 24 0 0 1-24 24zm-224 0h-32a24 24 0 0 1-24-24V40a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v432a24 24 0 0 1-24 24z"},child:[]}]})(i)}const Jw=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["ENTER","Z","X","C","V","B","N","M","BACKSPACE"]];function tA({className:i},t){const{handleKeyClick:n}=C.useContext(Bf),[s,o]=C.useState(new Map),u=(h,m)=>{setTimeout(()=>{s.get(h)!=="green"&&o(p=>{const g=new Map(p);return g.set(h,m),g})},1700)};return C.useImperativeHandle(t,()=>({udpateKeyColor:u})),R.jsx("div",{className:`keyboard ${i}`,children:Jw.map((h,m)=>R.jsx(nA,{keyboardRow:h,index:m,handleKeyClick:n,keyColors:s},m))})}const eA=C.forwardRef(tA);function nA({keyboardRow:i,index:t,keyColors:n}){const{handleKeyClick:s}=C.useContext(Bf),o=`keyboard-row ${t+1}`;return R.jsx("div",{className:o,children:i.map((u,h)=>R.jsx(iA,{keyboardKey:u,keyColors:n},h))})}function iA({keyboardKey:i,keyColors:t}){const{handleKeyClick:n}=C.useContext(Bf),o=`keyboard-key ${i.length>1?i.toLowerCase():"key-letter"} ${t.get(i)}`,u=i==="BACKSPACE"?null:i;return R.jsxs("button",{className:o,onClick:n,id:i,children:[i==="BACKSPACE"&&R.jsx(Xw,{className:"backspace-img"}),u]})}var rA=LE();const oa=jf(rA);function sA(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}const aA=i=>{switch(i){case"success":return uA;case"info":return fA;case"warning":return cA;case"error":return hA;default:return null}},oA=Array(12).fill(0),lA=({visible:i,className:t})=>st.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},st.createElement("div",{className:"sonner-spinner"},oA.map((n,s)=>st.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),uA=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cA=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fA=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hA=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dA=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},st.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),st.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mA=()=>{const[i,t]=st.useState(document.hidden);return st.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),i};let km=1;class pA{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...o}=t,u=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:km++,h=this.toasts.find(p=>p.id===u),m=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),h?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...t,id:u,title:s}),{...p,...t,id:u,dismissible:m,title:s}):p):this.addToast({title:s,...o,dismissible:m,id:u}),u},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let u=s!==void 0,h;const m=o.then(async g=>{if(h=["resolve",g],st.isValidElement(g))u=!1,this.create({id:s,type:"default",message:g});else if(yA(g)&&!g.ok){u=!1;const _=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,q=typeof _=="object"&&!st.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:w,...q})}else if(g instanceof Error){u=!1;const _=typeof n.error=="function"?await n.error(g):n.error,w=typeof n.description=="function"?await n.description(g):n.description,q=typeof _=="object"&&!st.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:w,...q})}else if(n.success!==void 0){u=!1;const _=typeof n.success=="function"?await n.success(g):n.success,w=typeof n.description=="function"?await n.description(g):n.description,q=typeof _=="object"&&!st.isValidElement(_)?_:{message:_};this.create({id:s,type:"success",description:w,...q})}}).catch(async g=>{if(h=["reject",g],n.error!==void 0){u=!1;const T=typeof n.error=="function"?await n.error(g):n.error,_=typeof n.description=="function"?await n.description(g):n.description,L=typeof T=="object"&&!st.isValidElement(T)?T:{message:T};this.create({id:s,type:"error",description:_,...L})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((g,T)=>m.then(()=>h[0]==="reject"?T(h[1]):g(h[1])).catch(T));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||km++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xn=new pA,gA=(i,t)=>{const n=(t==null?void 0:t.id)||km++;return xn.addToast({title:i,...t,id:n}),n},yA=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",vA=gA,_A=()=>xn.toasts,EA=()=>xn.getActiveToasts(),ms=Object.assign(vA,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:_A,getToasts:EA});sA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Gc(i){return i.label!==void 0}const TA=3,bA="24px",SA="16px",G_=4e3,wA=356,AA=14,RA=45,CA=200;function Vi(...i){return i.filter(Boolean).join(" ")}function IA(i){const[t,n]=i.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const NA=i=>{var t,n,s,o,u,h,m,p,g;const{invert:T,toast:_,unstyled:w,interacting:L,setHeights:q,visibleToasts:W,heights:H,index:ot,toasts:ht,expanded:nt,removeToast:dt,defaultRichColors:lt,closeButton:rt,style:O,cancelButtonStyle:A,actionButtonStyle:N,className:V="",descriptionClassName:D="",duration:k,position:I,gap:Gt,expandByDefault:Mt,classNames:j,icons:it,closeButtonAriaLabel:ct="Close toast"}=i,[At,M]=st.useState(null),[$,et]=st.useState(null),[Q,ut]=st.useState(!1),[_t,mt]=st.useState(!1),[ne,jt]=st.useState(!1),[_e,we]=st.useState(!1),[un,Ze]=st.useState(!1),[gn,Ge]=st.useState(0),[Xt,zn]=st.useState(0),he=st.useRef(_.duration||k||G_),Mr=st.useRef(null),Je=st.useRef(null),yi=ot===0,ii=ot+1<=W,Pe=_.type,yn=_.dismissible!==!1,vi=_.className||"",Vr=_.descriptionClassName||"",yt=st.useMemo(()=>H.findIndex(Et=>Et.toastId===_.id)||0,[H,_.id]),Lt=st.useMemo(()=>{var Et;return(Et=_.closeButton)!=null?Et:rt},[_.closeButton,rt]),Le=st.useMemo(()=>_.duration||k||G_,[_.duration,k]),Ne=st.useRef(0),ri=st.useRef(0),Ta=st.useRef(0),wn=st.useRef(null),[Hi,qi]=I.split("-"),An=st.useMemo(()=>H.reduce((Et,de,fe)=>fe>=yt?Et:Et+de.height,0),[H,yt]),Fi=mA(),Gi=_.invert||T,Ki=Pe==="loading";ri.current=st.useMemo(()=>yt*Gt+An,[yt,An]),st.useEffect(()=>{he.current=Le},[Le]),st.useEffect(()=>{ut(!0)},[]),st.useEffect(()=>{const Et=Je.current;if(Et){const de=Et.getBoundingClientRect().height;return zn(de),q(fe=>[{toastId:_.id,height:de,position:_.position},...fe]),()=>q(fe=>fe.filter(xe=>xe.toastId!==_.id))}},[q,_.id]),st.useLayoutEffect(()=>{if(!Q)return;const Et=Je.current,de=Et.style.height;Et.style.height="auto";const fe=Et.getBoundingClientRect().height;Et.style.height=de,zn(fe),q(xe=>xe.find(Ee=>Ee.toastId===_.id)?xe.map(Ee=>Ee.toastId===_.id?{...Ee,height:fe}:Ee):[{toastId:_.id,height:fe,position:_.position},...xe])},[Q,_.title,_.description,q,_.id,_.jsx,_.action,_.cancel]);const Rn=st.useCallback(()=>{mt(!0),Ge(ri.current),q(Et=>Et.filter(de=>de.toastId!==_.id)),setTimeout(()=>{dt(_)},CA)},[_,dt,q,ri]);st.useEffect(()=>{if(_.promise&&Pe==="loading"||_.duration===1/0||_.type==="loading")return;let Et;return nt||L||Fi?(()=>{if(Ta.current<Ne.current){const xe=new Date().getTime()-Ne.current;he.current=he.current-xe}Ta.current=new Date().getTime()})():(()=>{he.current!==1/0&&(Ne.current=new Date().getTime(),Et=setTimeout(()=>{_.onAutoClose==null||_.onAutoClose.call(_,_),Rn()},he.current))})(),()=>clearTimeout(Et)},[nt,L,_,Pe,Fi,Rn]),st.useEffect(()=>{_.delete&&(Rn(),_.onDismiss==null||_.onDismiss.call(_,_))},[Rn,_.delete]);function Ns(){var Et;if(it!=null&&it.loading){var de;return st.createElement("div",{className:Vi(j==null?void 0:j.loader,_==null||(de=_.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":Pe==="loading"},it.loading)}return st.createElement(lA,{className:Vi(j==null?void 0:j.loader,_==null||(Et=_.classNames)==null?void 0:Et.loader),visible:Pe==="loading"})}const si=_.icon||(it==null?void 0:it[Pe])||aA(Pe);var Hn,kr;return st.createElement("li",{tabIndex:0,ref:Je,className:Vi(V,vi,j==null?void 0:j.toast,_==null||(t=_.classNames)==null?void 0:t.toast,j==null?void 0:j.default,j==null?void 0:j[Pe],_==null||(n=_.classNames)==null?void 0:n[Pe]),"data-sonner-toast":"","data-rich-colors":(Hn=_.richColors)!=null?Hn:lt,"data-styled":!(_.jsx||_.unstyled||w),"data-mounted":Q,"data-promise":!!_.promise,"data-swiped":un,"data-removed":_t,"data-visible":ii,"data-y-position":Hi,"data-x-position":qi,"data-index":ot,"data-front":yi,"data-swiping":ne,"data-dismissible":yn,"data-type":Pe,"data-invert":Gi,"data-swipe-out":_e,"data-swipe-direction":$,"data-expanded":!!(nt||Mt&&Q),style:{"--index":ot,"--toasts-before":ot,"--z-index":ht.length-ot,"--offset":`${_t?gn:ri.current}px`,"--initial-height":Mt?"auto":`${Xt}px`,...O,..._.style},onDragEnd:()=>{jt(!1),M(null),wn.current=null},onPointerDown:Et=>{Ki||!yn||(Mr.current=new Date,Ge(ri.current),Et.target.setPointerCapture(Et.pointerId),Et.target.tagName!=="BUTTON"&&(jt(!0),wn.current={x:Et.clientX,y:Et.clientY}))},onPointerUp:()=>{var Et,de,fe;if(_e||!yn)return;wn.current=null;const xe=Number(((Et=Je.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Dn=Number(((de=Je.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ee=new Date().getTime()-((fe=Mr.current)==null?void 0:fe.getTime()),Bt=At==="x"?xe:Dn,me=Math.abs(Bt)/Ee;if(Math.abs(Bt)>=RA||me>.11){Ge(ri.current),_.onDismiss==null||_.onDismiss.call(_,_),et(At==="x"?xe>0?"right":"left":Dn>0?"down":"up"),Rn(),we(!0);return}else{var Wt,pe;(Wt=Je.current)==null||Wt.style.setProperty("--swipe-amount-x","0px"),(pe=Je.current)==null||pe.style.setProperty("--swipe-amount-y","0px")}Ze(!1),jt(!1),M(null)},onPointerMove:Et=>{var de,fe,xe;if(!wn.current||!yn||((de=window.getSelection())==null?void 0:de.toString().length)>0)return;const Ee=Et.clientY-wn.current.y,Bt=Et.clientX-wn.current.x;var me;const Wt=(me=i.swipeDirections)!=null?me:IA(I);!At&&(Math.abs(Bt)>1||Math.abs(Ee)>1)&&M(Math.abs(Bt)>Math.abs(Ee)?"x":"y");let pe={x:0,y:0};const Pr=ai=>1/(1.5+Math.abs(ai)/20);if(At==="y"){if(Wt.includes("top")||Wt.includes("bottom"))if(Wt.includes("top")&&Ee<0||Wt.includes("bottom")&&Ee>0)pe.y=Ee;else{const ai=Ee*Pr(Ee);pe.y=Math.abs(ai)<Math.abs(Ee)?ai:Ee}}else if(At==="x"&&(Wt.includes("left")||Wt.includes("right")))if(Wt.includes("left")&&Bt<0||Wt.includes("right")&&Bt>0)pe.x=Bt;else{const ai=Bt*Pr(Bt);pe.x=Math.abs(ai)<Math.abs(Bt)?ai:Bt}(Math.abs(pe.x)>0||Math.abs(pe.y)>0)&&Ze(!0),(fe=Je.current)==null||fe.style.setProperty("--swipe-amount-x",`${pe.x}px`),(xe=Je.current)==null||xe.style.setProperty("--swipe-amount-y",`${pe.y}px`)}},Lt&&!_.jsx&&Pe!=="loading"?st.createElement("button",{"aria-label":ct,"data-disabled":Ki,"data-close-button":!0,onClick:Ki||!yn?()=>{}:()=>{Rn(),_.onDismiss==null||_.onDismiss.call(_,_)},className:Vi(j==null?void 0:j.closeButton,_==null||(s=_.classNames)==null?void 0:s.closeButton)},(kr=it==null?void 0:it.close)!=null?kr:dA):null,(Pe||_.icon||_.promise)&&_.icon!==null&&((it==null?void 0:it[Pe])!==null||_.icon)?st.createElement("div",{"data-icon":"",className:Vi(j==null?void 0:j.icon,_==null||(o=_.classNames)==null?void 0:o.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||Ns():null,_.type!=="loading"?si:null):null,st.createElement("div",{"data-content":"",className:Vi(j==null?void 0:j.content,_==null||(u=_.classNames)==null?void 0:u.content)},st.createElement("div",{"data-title":"",className:Vi(j==null?void 0:j.title,_==null||(h=_.classNames)==null?void 0:h.title)},_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title),_.description?st.createElement("div",{"data-description":"",className:Vi(D,Vr,j==null?void 0:j.description,_==null||(m=_.classNames)==null?void 0:m.description)},typeof _.description=="function"?_.description():_.description):null),st.isValidElement(_.cancel)?_.cancel:_.cancel&&Gc(_.cancel)?st.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||A,onClick:Et=>{Gc(_.cancel)&&yn&&(_.cancel.onClick==null||_.cancel.onClick.call(_.cancel,Et),Rn())},className:Vi(j==null?void 0:j.cancelButton,_==null||(p=_.classNames)==null?void 0:p.cancelButton)},_.cancel.label):null,st.isValidElement(_.action)?_.action:_.action&&Gc(_.action)?st.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||N,onClick:Et=>{Gc(_.action)&&(_.action.onClick==null||_.action.onClick.call(_.action,Et),!Et.defaultPrevented&&Rn())},className:Vi(j==null?void 0:j.actionButton,_==null||(g=_.classNames)==null?void 0:g.actionButton)},_.action.label):null)};function K_(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function xA(i,t){const n={};return[i,t].forEach((s,o)=>{const u=o===1,h=u?"--mobile-offset":"--offset",m=u?SA:bA;function p(g){["top","right","bottom","left"].forEach(T=>{n[`${h}-${T}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?n[`${h}-${g}`]=m:n[`${h}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):p(m)}),n}const Hf=st.forwardRef(function(t,n){const{invert:s,position:o="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:m,className:p,offset:g,mobileOffset:T,theme:_="light",richColors:w,duration:L,style:q,visibleToasts:W=TA,toastOptions:H,dir:ot=K_(),gap:ht=AA,icons:nt,containerAriaLabel:dt="Notifications"}=t,[lt,rt]=st.useState([]),O=st.useMemo(()=>Array.from(new Set([o].concat(lt.filter($=>$.position).map($=>$.position)))),[lt,o]),[A,N]=st.useState([]),[V,D]=st.useState(!1),[k,I]=st.useState(!1),[Gt,Mt]=st.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=st.useRef(null),it=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ct=st.useRef(null),At=st.useRef(!1),M=st.useCallback($=>{rt(et=>{var Q;return(Q=et.find(ut=>ut.id===$.id))!=null&&Q.delete||xn.dismiss($.id),et.filter(({id:ut})=>ut!==$.id)})},[]);return st.useEffect(()=>xn.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{rt(et=>et.map(Q=>Q.id===$.id?{...Q,delete:!0}:Q))});return}setTimeout(()=>{oa.flushSync(()=>{rt(et=>{const Q=et.findIndex(ut=>ut.id===$.id);return Q!==-1?[...et.slice(0,Q),{...et[Q],...$},...et.slice(Q+1)]:[$,...et]})})})}),[lt]),st.useEffect(()=>{if(_!=="system"){Mt(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Mt("dark"):Mt("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:et})=>{Mt(et?"dark":"light")})}catch{$.addListener(({matches:Q})=>{try{Mt(Q?"dark":"light")}catch(ut){console.error(ut)}})}},[_]),st.useEffect(()=>{lt.length<=1&&D(!1)},[lt]),st.useEffect(()=>{const $=et=>{var Q;if(u.every(mt=>et[mt]||et.code===mt)){var _t;D(!0),(_t=j.current)==null||_t.focus()}et.code==="Escape"&&(document.activeElement===j.current||(Q=j.current)!=null&&Q.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[u]),st.useEffect(()=>{if(j.current)return()=>{ct.current&&(ct.current.focus({preventScroll:!0}),ct.current=null,At.current=!1)}},[j.current]),st.createElement("section",{ref:n,"aria-label":`${dt} ${it}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map(($,et)=>{var Q;const[ut,_t]=$.split("-");return lt.length?st.createElement("ol",{key:$,dir:ot==="auto"?K_():ot,tabIndex:-1,ref:j,className:p,"data-sonner-toaster":!0,"data-sonner-theme":Gt,"data-y-position":ut,"data-x-position":_t,style:{"--front-toast-height":`${((Q=A[0])==null?void 0:Q.height)||0}px`,"--width":`${wA}px`,"--gap":`${ht}px`,...q,...xA(g,T)},onBlur:mt=>{At.current&&!mt.currentTarget.contains(mt.relatedTarget)&&(At.current=!1,ct.current&&(ct.current.focus({preventScroll:!0}),ct.current=null))},onFocus:mt=>{mt.target instanceof HTMLElement&&mt.target.dataset.dismissible==="false"||At.current||(At.current=!0,ct.current=mt.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{k||D(!1)},onDragEnd:()=>D(!1),onPointerDown:mt=>{mt.target instanceof HTMLElement&&mt.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},lt.filter(mt=>!mt.position&&et===0||mt.position===$).map((mt,ne)=>{var jt,_e;return st.createElement(NA,{key:mt.id,icons:nt,index:ne,toast:mt,defaultRichColors:w,duration:(jt=H==null?void 0:H.duration)!=null?jt:L,className:H==null?void 0:H.className,descriptionClassName:H==null?void 0:H.descriptionClassName,invert:s,visibleToasts:W,closeButton:(_e=H==null?void 0:H.closeButton)!=null?_e:m,interacting:k,position:$,style:H==null?void 0:H.style,unstyled:H==null?void 0:H.unstyled,classNames:H==null?void 0:H.classNames,cancelButtonStyle:H==null?void 0:H.cancelButtonStyle,actionButtonStyle:H==null?void 0:H.actionButtonStyle,closeButtonAriaLabel:H==null?void 0:H.closeButtonAriaLabel,removeToast:M,toasts:lt.filter(we=>we.position==mt.position),heights:A.filter(we=>we.position==mt.position),setHeights:N,expandByDefault:h,gap:ht,expanded:V,swipeDirections:t.swipeDirections})})):null}))});var mm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var $_;function OA(){return $_||($_=1,function(i){(function(){var t={}.hasOwnProperty;function n(){for(var u="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(u=o(u,s(m)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var m in u)t.call(u,m)&&u[m]&&(h=o(h,m));return h}function o(u,h){return h?u?u+" "+h:u+h:u}i.exports?(n.default=n,i.exports=n):window.classNames=n})()}(mm)),mm.exports}var DA=OA();const Nt=jf(DA);function Pm(){return Pm=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Pm.apply(null,arguments)}function BE(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)!==-1)continue;n[s]=i[s]}return n}function Y_(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function MA(i){var t=VA(i,"string");return typeof t=="symbol"?t:String(t)}function VA(i,t){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function kA(i,t,n){var s=C.useRef(i!==void 0),o=C.useState(t),u=o[0],h=o[1],m=i!==void 0,p=s.current;return s.current=m,!m&&p&&u!==t&&h(t),[m?i:u,C.useCallback(function(g){for(var T=arguments.length,_=new Array(T>1?T-1:0),w=1;w<T;w++)_[w-1]=arguments[w];n&&n.apply(void 0,[g].concat(_)),h(g)},[n])]}function mp(i,t){return Object.keys(t).reduce(function(n,s){var o,u=n,h=u[Y_(s)],m=u[s],p=BE(u,[Y_(s),s].map(MA)),g=t[s],T=kA(m,h,i[g]),_=T[0],w=T[1];return Pm({},p,(o={},o[s]=_,o[g]=w,o))},i)}function Lm(i,t){return Lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Lm(i,t)}function PA(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,Lm(i,t)}const LA=["xxl","xl","lg","md","sm","xs"],UA="xs",du=C.createContext({prefixes:{},breakpoints:LA,minBreakpoint:UA}),{Consumer:fM,Provider:hM}=du;function Pt(i,t){const{prefixes:n}=C.useContext(du);return i||n[t]||t}function jA(){const{breakpoints:i}=C.useContext(du);return i}function BA(){const{minBreakpoint:i}=C.useContext(du);return i}function zA(){const{dir:i}=C.useContext(du);return i==="rtl"}function qf(i){return i&&i.ownerDocument||document}function HA(i){var t=qf(i);return t&&t.defaultView||window}function qA(i,t){return HA(i).getComputedStyle(i,t)}var FA=/([A-Z])/g;function GA(i){return i.replace(FA,"-$1").toLowerCase()}var KA=/^ms-/;function Kc(i){return GA(i).replace(KA,"-ms-")}var $A=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function YA(i){return!!(i&&$A.test(i))}function Tr(i,t){var n="",s="";if(typeof t=="string")return i.style.getPropertyValue(Kc(t))||qA(i).getPropertyValue(Kc(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?i.style.removeProperty(Kc(o)):YA(o)?s+=o+"("+u+") ":n+=Kc(o)+": "+u+";"}),s&&(n+="transform: "+s+";"),i.style.cssText+=";"+n}var pm={exports:{}},gm,Q_;function QA(){if(Q_)return gm;Q_=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gm=i,gm}var ym,X_;function XA(){if(X_)return ym;X_=1;var i=QA();function t(){}function n(){}return n.resetWarningCache=t,ym=function(){function s(h,m,p,g,T,_){if(_!==i){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return u.PropTypes=u,u},ym}var W_;function WA(){return W_||(W_=1,pm.exports=XA()()),pm.exports}var ZA=WA();const br=jf(ZA),Z_={disabled:!1},zE=st.createContext(null);var JA=function(t){return t.scrollTop},ql="unmounted",us="exited",hi="entering",yr="entered",eu="exiting",Or=function(i){PA(t,i);function t(s,o){var u;u=i.call(this,s,o)||this;var h=o,m=h&&!h.isMounting?s.enter:s.appear,p;return u.appearStatus=null,s.in?m?(p=us,u.appearStatus=hi):p=yr:s.unmountOnExit||s.mountOnEnter?p=ql:p=us,u.state={status:p},u.nextCallback=null,u}t.getDerivedStateFromProps=function(o,u){var h=o.in;return h&&u.status===ql?{status:us}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var u=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==hi&&h!==yr&&(u=hi):(h===hi||h===yr)&&(u=eu)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,u,h,m;return u=h=m=o,o!=null&&typeof o!="number"&&(u=o.exit,h=o.enter,m=o.appear!==void 0?o.appear:h),{exit:u,enter:h,appear:m}},n.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===hi){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:oa.findDOMNode(this);h&&JA(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===us&&this.setState({status:ql})},n.performEnter=function(o){var u=this,h=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[oa.findDOMNode(this),m],g=p[0],T=p[1],_=this.getTimeouts(),w=m?_.appear:_.enter;if(!o&&!h||Z_.disabled){this.safeSetState({status:yr},function(){u.props.onEntered(g)});return}this.props.onEnter(g,T),this.safeSetState({status:hi},function(){u.props.onEntering(g,T),u.onTransitionEnd(w,function(){u.safeSetState({status:yr},function(){u.props.onEntered(g,T)})})})},n.performExit=function(){var o=this,u=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:oa.findDOMNode(this);if(!u||Z_.disabled){this.safeSetState({status:us},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:eu},function(){o.props.onExiting(m),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:us},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},n.setNextCallback=function(o){var u=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,u.nextCallback=null,o(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},n.onTransitionEnd=function(o,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:oa.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],T=p[1];this.props.addEndListener(g,T)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===ql)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=BE(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return st.createElement(zE.Provider,{value:null},typeof h=="function"?h(o,m):st.cloneElement(st.Children.only(h),m))},t}(st.Component);Or.contextType=zE;Or.propTypes={};function co(){}Or.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:co,onEntering:co,onEntered:co,onExit:co,onExiting:co,onExited:co};Or.UNMOUNTED=ql;Or.EXITED=us;Or.ENTERING=hi;Or.ENTERED=yr;Or.EXITING=eu;function tR(i){return i.code==="Escape"||i.keyCode===27}function eR(){const i=C.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Oo(i){if(!i||typeof i=="function")return null;const{major:t}=eR();return t>=19?i.props.ref:i.ref}const Do=!!(typeof window<"u"&&window.document&&window.document.createElement);var Um=!1,jm=!1;try{var vm={get passive(){return Um=!0},get once(){return jm=Um=!0}};Do&&(window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,!0))}catch{}function HE(i,t,n,s){if(s&&typeof s!="boolean"&&!jm){var o=s.once,u=s.capture,h=n;!jm&&o&&(h=n.__once||function m(p){this.removeEventListener(t,m,u),n.call(this,p)},n.__once=h),i.addEventListener(t,h,Um?s:u)}i.addEventListener(t,n,s)}function Bm(i,t,n,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(t,n,o),n.__once&&i.removeEventListener(t,n.__once,o)}function mf(i,t,n,s){return HE(i,t,n,s),function(){Bm(i,t,n,s)}}function nR(i,t,n,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,s),i.dispatchEvent(o)}}function iR(i){var t=Tr(i,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function rR(i,t,n){n===void 0&&(n=5);var s=!1,o=setTimeout(function(){s||nR(i,"transitionend",!0)},t+n),u=mf(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function qE(i,t,n,s){n==null&&(n=iR(i)||0);var o=rR(i,n,s),u=mf(i,"transitionend",t);return function(){o(),u()}}function J_(i,t){const n=Tr(i,t)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function pp(i,t){const n=J_(i,"transitionDuration"),s=J_(i,"transitionDelay"),o=qE(i,u=>{u.target===i&&(o(),t(u))},n+s)}function Hl(...i){return i.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...o){t.apply(this,o),n.apply(this,o)}},null)}function FE(i){i.offsetHeight}const t0=i=>!i||typeof i=="function"?i:t=>{i.current=t};function sR(i,t){const n=t0(i),s=t0(t);return o=>{n&&n(o),s&&s(o)}}function GE(i,t){return C.useMemo(()=>sR(i,t),[i,t])}function aR(i){return i&&"setState"in i?oa.findDOMNode(i):i??null}const Ff=st.forwardRef(({onEnter:i,onEntering:t,onEntered:n,onExit:s,onExiting:o,onExited:u,addEndListener:h,children:m,childRef:p,...g},T)=>{const _=C.useRef(null),w=GE(_,p),L=rt=>{w(aR(rt))},q=rt=>O=>{rt&&_.current&&rt(_.current,O)},W=C.useCallback(q(i),[i]),H=C.useCallback(q(t),[t]),ot=C.useCallback(q(n),[n]),ht=C.useCallback(q(s),[s]),nt=C.useCallback(q(o),[o]),dt=C.useCallback(q(u),[u]),lt=C.useCallback(q(h),[h]);return R.jsx(Or,{ref:T,...g,onEnter:W,onEntered:ot,onEntering:H,onExit:ht,onExited:dt,onExiting:nt,addEndListener:lt,nodeRef:_,children:typeof m=="function"?(rt,O)=>m(rt,{...O,ref:L}):st.cloneElement(m,{ref:L})})});Ff.displayName="TransitionWrapper";const oR={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function lR(i,t){const n=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=t[n],o=oR[i];return s+parseInt(Tr(t,o[0]),10)+parseInt(Tr(t,o[1]),10)}const uR={[us]:"collapse",[eu]:"collapsing",[hi]:"collapsing",[yr]:"collapse show"},gp=st.forwardRef(({onEnter:i,onEntering:t,onEntered:n,onExit:s,onExiting:o,className:u,children:h,dimension:m="height",in:p=!1,timeout:g=300,mountOnEnter:T=!1,unmountOnExit:_=!1,appear:w=!1,getDimensionValue:L=lR,...q},W)=>{const H=typeof m=="function"?m():m,ot=C.useMemo(()=>Hl(rt=>{rt.style[H]="0"},i),[H,i]),ht=C.useMemo(()=>Hl(rt=>{const O=`scroll${H[0].toUpperCase()}${H.slice(1)}`;rt.style[H]=`${rt[O]}px`},t),[H,t]),nt=C.useMemo(()=>Hl(rt=>{rt.style[H]=null},n),[H,n]),dt=C.useMemo(()=>Hl(rt=>{rt.style[H]=`${L(H,rt)}px`,FE(rt)},s),[s,L,H]),lt=C.useMemo(()=>Hl(rt=>{rt.style[H]=null},o),[H,o]);return R.jsx(Ff,{ref:W,addEndListener:pp,...q,"aria-expanded":q.role?p:null,onEnter:ot,onEntering:ht,onEntered:nt,onExit:dt,onExiting:lt,childRef:Oo(h),in:p,timeout:g,mountOnEnter:T,unmountOnExit:_,appear:w,children:(rt,O)=>st.cloneElement(h,{...O,className:Nt(u,h.props.className,uR[rt],H==="width"&&"collapse-horizontal")})})});gp.displayName="Collapse";function KE(i,t){return Array.isArray(i)?i.includes(t):i===t}const mu=C.createContext({});mu.displayName="AccordionContext";const yp=C.forwardRef(({as:i="div",bsPrefix:t,className:n,children:s,eventKey:o,...u},h)=>{const{activeEventKey:m}=C.useContext(mu);return t=Pt(t,"accordion-collapse"),R.jsx(gp,{ref:h,in:KE(m,o),...u,className:Nt(n,t),children:R.jsx(i,{children:C.Children.only(s)})})});yp.displayName="AccordionCollapse";const Gf=C.createContext({eventKey:""});Gf.displayName="AccordionItemContext";const $E=C.forwardRef(({as:i="div",bsPrefix:t,className:n,onEnter:s,onEntering:o,onEntered:u,onExit:h,onExiting:m,onExited:p,...g},T)=>{t=Pt(t,"accordion-body");const{eventKey:_}=C.useContext(Gf);return R.jsx(yp,{eventKey:_,onEnter:s,onEntering:o,onEntered:u,onExit:h,onExiting:m,onExited:p,children:R.jsx(i,{ref:T,...g,className:Nt(n,t)})})});$E.displayName="AccordionBody";function cR(i,t){const{activeEventKey:n,onSelect:s,alwaysOpen:o}=C.useContext(mu);return u=>{let h=i===n?null:i;o&&(Array.isArray(n)?n.includes(i)?h=n.filter(m=>m!==i):h=[...n,i]:h=[i]),s==null||s(h,u),t==null||t(u)}}const vp=C.forwardRef(({as:i="button",bsPrefix:t,className:n,onClick:s,...o},u)=>{t=Pt(t,"accordion-button");const{eventKey:h}=C.useContext(Gf),m=cR(h,s),{activeEventKey:p}=C.useContext(mu);return i==="button"&&(o.type="button"),R.jsx(i,{ref:u,onClick:m,...o,"aria-expanded":Array.isArray(p)?p.includes(h):h===p,className:Nt(n,t,!KE(p,h)&&"collapsed")})});vp.displayName="AccordionButton";const YE=C.forwardRef(({as:i="h2","aria-controls":t,bsPrefix:n,className:s,children:o,onClick:u,...h},m)=>(n=Pt(n,"accordion-header"),R.jsx(i,{ref:m,...h,className:Nt(s,n),children:R.jsx(vp,{onClick:u,"aria-controls":t,children:o})})));YE.displayName="AccordionHeader";const QE=C.forwardRef(({as:i="div",bsPrefix:t,className:n,eventKey:s,...o},u)=>{t=Pt(t,"accordion-item");const h=C.useMemo(()=>({eventKey:s}),[s]);return R.jsx(Gf.Provider,{value:h,children:R.jsx(i,{ref:u,...o,className:Nt(n,t)})})});QE.displayName="AccordionItem";const XE=C.forwardRef((i,t)=>{const{as:n="div",activeKey:s,bsPrefix:o,className:u,onSelect:h,flush:m,alwaysOpen:p,...g}=mp(i,{activeKey:"onSelect"}),T=Pt(o,"accordion"),_=C.useMemo(()=>({activeEventKey:s,onSelect:h,alwaysOpen:p}),[s,h,p]);return R.jsx(mu.Provider,{value:_,children:R.jsx(n,{ref:t,...g,className:Nt(u,T,m&&`${T}-flush`)})})});XE.displayName="Accordion";const $c=Object.assign(XE,{Button:vp,Collapse:yp,Item:QE,Header:YE,Body:$E});function fR(i){const t=C.useRef(i);return C.useEffect(()=>{t.current=i},[i]),t}function bo(i){const t=fR(i);return C.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const WE=i=>C.forwardRef((t,n)=>R.jsx("div",{...t,ref:n,className:Nt(t.className,i)}));function hR(i){const t=C.useRef(i);return C.useEffect(()=>{t.current=i},[i]),t}function vr(i){const t=hR(i);return C.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function dR(){const i=C.useRef(!0),t=C.useRef(()=>i.current);return C.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function mR(i){const t=C.useRef(null);return C.useEffect(()=>{t.current=i}),t.current}const pR=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",gR=typeof document<"u",e0=gR||pR?C.useLayoutEffect:C.useEffect,yR=["as","disabled"];function vR(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function _R(i){return!i||i.trim()==="#"}function _p({tagName:i,disabled:t,href:n,target:s,rel:o,role:u,onClick:h,tabIndex:m=0,type:p}){i||(n!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:t},g];const T=w=>{if((t||i==="a"&&_R(n))&&w.preventDefault(),t){w.stopPropagation();return}h==null||h(w)},_=w=>{w.key===" "&&(w.preventDefault(),T(w))};return i==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:t?void 0:m,href:n,target:i==="a"?s:void 0,"aria-disabled":t||void 0,rel:i==="a"?o:void 0,onClick:T,onKeyDown:_},g]}const ZE=C.forwardRef((i,t)=>{let{as:n,disabled:s}=i,o=vR(i,yR);const[u,{tagName:h}]=_p(Object.assign({tagName:n,disabled:s},o));return R.jsx(h,Object.assign({},o,u,{ref:t}))});ZE.displayName="Button";const ER=["onKeyDown"];function TR(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function bR(i){return!i||i.trim()==="#"}const JE=C.forwardRef((i,t)=>{let{onKeyDown:n}=i,s=TR(i,ER);const[o]=_p(Object.assign({tagName:"a"},s)),u=vr(h=>{o.onKeyDown(h),n==null||n(h)});return bR(s.href)||s.role==="button"?R.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:u})):R.jsx("a",Object.assign({ref:t},s,{onKeyDown:n}))});JE.displayName="Anchor";const SR={[hi]:"show",[yr]:"show"},Kf=C.forwardRef(({className:i,children:t,transitionClasses:n={},onEnter:s,...o},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=C.useCallback((p,g)=>{FE(p),s==null||s(p,g)},[s]);return R.jsx(Ff,{ref:u,addEndListener:pp,...h,onEnter:m,childRef:Oo(t),children:(p,g)=>C.cloneElement(t,{...g,className:Nt("fade",i,t.props.className,SR[p],n[p])})})});Kf.displayName="Fade";const wR={"aria-label":br.string,onClick:br.func,variant:br.oneOf(["white"])},Ep=C.forwardRef(({className:i,variant:t,"aria-label":n="Close",...s},o)=>R.jsx("button",{ref:o,type:"button",className:Nt("btn-close",t&&`btn-close-${t}`,i),"aria-label":n,...s}));Ep.displayName="CloseButton";Ep.propTypes=wR;const Ar=C.forwardRef(({as:i,bsPrefix:t,variant:n="primary",size:s,active:o=!1,disabled:u=!1,className:h,...m},p)=>{const g=Pt(t,"btn"),[T,{tagName:_}]=_p({tagName:i,disabled:u,...m}),w=_;return R.jsx(w,{...T,...m,ref:p,disabled:u,className:Nt(h,g,o&&"active",n&&`${g}-${n}`,s&&`${g}-${s}`,m.href&&u&&"disabled")})});Ar.displayName="Button";const tT=C.createContext(null);tT.displayName="CardHeaderContext";function AR(i){const t=C.useRef(i);return t.current=i,t}function RR(i){const t=AR(i);C.useEffect(()=>()=>t.current(),[])}function CR(i,t){return C.Children.toArray(i).some(n=>C.isValidElement(n)&&n.type===t)}function IR({as:i,bsPrefix:t,className:n,...s}){t=Pt(t,"col");const o=jA(),u=BA(),h=[],m=[];return o.forEach(p=>{const g=s[p];delete s[p];let T,_,w;typeof g=="object"&&g!=null?{span:T,offset:_,order:w}=g:T=g;const L=p!==u?`-${p}`:"";T&&h.push(T===!0?`${t}${L}`:`${t}${L}-${T}`),w!=null&&m.push(`order${L}-${w}`),_!=null&&m.push(`offset${L}-${_}`)}),[{...s,className:Nt(n,...h,...m)},{as:i,bsPrefix:t,spans:h}]}const eT=C.forwardRef((i,t)=>{const[{className:n,...s},{as:o="div",bsPrefix:u,spans:h}]=IR(i);return R.jsx(o,{...s,ref:t,className:Nt(n,!h.length&&u)})});eT.displayName="Col";const bn=C.forwardRef(({bsPrefix:i,fluid:t=!1,as:n="div",className:s,...o},u)=>{const h=Pt(i,"container"),m=typeof t=="string"?`-${t}`:"-fluid";return R.jsx(n,{ref:u,...o,className:Nt(s,t?`${h}${m}`:h)})});bn.displayName="Container";var NR=Function.prototype.bind.call(Function.prototype.call,[].slice);function sa(i,t){return NR(i.querySelectorAll(t))}function xR(){const[,i]=C.useReducer(t=>t+1,0);return i}function n0(i,t){if(i.contains)return i.contains(t);if(i.compareDocumentPosition)return i===t||!!(i.compareDocumentPosition(t)&16)}const pf=C.createContext(null),Tp=(i,t=null)=>i!=null?String(i):t||null,bp=C.createContext(null);bp.displayName="NavContext";const OR="data-rr-ui-",DR="rrUi";function $f(i){return`${OR}${i}`}function MR(i){return`${DR}${i}`}const nT=C.createContext(Do?window:void 0);nT.Provider;function Sp(){return C.useContext(nT)}const VR=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",kR=typeof document<"u",PR=kR||VR?C.useLayoutEffect:C.useEffect,Mo=C.createContext(null);Mo.displayName="NavbarContext";const LR={type:br.string,tooltip:br.bool,as:br.elementType},Yf=C.forwardRef(({as:i="div",className:t,type:n="valid",tooltip:s=!1,...o},u)=>R.jsx(i,{...o,ref:u,className:Nt(t,`${n}-${s?"tooltip":"feedback"}`)}));Yf.displayName="Feedback";Yf.propTypes=LR;const Rr=C.createContext({}),wp=C.forwardRef(({id:i,bsPrefix:t,className:n,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:h="input",...m},p)=>{const{controlId:g}=C.useContext(Rr);return t=Pt(t,"form-check-input"),R.jsx(h,{...m,ref:p,type:s,id:i||g,className:Nt(n,t,o&&"is-valid",u&&"is-invalid")})});wp.displayName="FormCheckInput";const gf=C.forwardRef(({bsPrefix:i,className:t,htmlFor:n,...s},o)=>{const{controlId:u}=C.useContext(Rr);return i=Pt(i,"form-check-label"),R.jsx("label",{...s,ref:o,htmlFor:n||u,className:Nt(t,i)})});gf.displayName="FormCheckLabel";const iT=C.forwardRef(({id:i,bsPrefix:t,bsSwitchPrefix:n,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:h=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:T,className:_,style:w,title:L="",type:q="checkbox",label:W,children:H,as:ot="input",...ht},nt)=>{t=Pt(t,"form-check"),n=Pt(n,"form-switch");const{controlId:dt}=C.useContext(Rr),lt=C.useMemo(()=>({controlId:i||dt}),[dt,i]),rt=!H&&W!=null&&W!==!1||CR(H,gf),O=R.jsx(wp,{...ht,type:q==="switch"?"checkbox":q,ref:nt,isValid:h,isInvalid:m,disabled:u,as:ot});return R.jsx(Rr.Provider,{value:lt,children:R.jsx("div",{style:w,className:Nt(_,rt&&t,s&&`${t}-inline`,o&&`${t}-reverse`,q==="switch"&&n),children:H||R.jsxs(R.Fragment,{children:[O,rt&&R.jsx(gf,{title:L,children:W}),g&&R.jsx(Yf,{type:T,tooltip:p,children:g})]})})})});iT.displayName="FormCheck";const yf=Object.assign(iT,{Input:wp,Label:gf}),rT=C.forwardRef(({bsPrefix:i,type:t,size:n,htmlSize:s,id:o,className:u,isValid:h=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:T="input",..._},w)=>{const{controlId:L}=C.useContext(Rr);return i=Pt(i,"form-control"),R.jsx(T,{..._,type:t,size:s,ref:w,readOnly:g,id:o||L,className:Nt(u,p?`${i}-plaintext`:i,n&&`${i}-${n}`,t==="color"&&`${i}-color`,h&&"is-valid",m&&"is-invalid")})});rT.displayName="FormControl";const UR=Object.assign(rT,{Feedback:Yf}),sT=C.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=Pt(t,"form-floating"),R.jsx(n,{ref:o,className:Nt(i,t),...s})));sT.displayName="FormFloating";const Ap=C.forwardRef(({controlId:i,as:t="div",...n},s)=>{const o=C.useMemo(()=>({controlId:i}),[i]);return R.jsx(Rr.Provider,{value:o,children:R.jsx(t,{...n,ref:s})})});Ap.displayName="FormGroup";const aT=C.forwardRef(({as:i="label",bsPrefix:t,column:n=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...h},m)=>{const{controlId:p}=C.useContext(Rr);t=Pt(t,"form-label");let g="col-form-label";typeof n=="string"&&(g=`${g} ${g}-${n}`);const T=Nt(o,t,s&&"visually-hidden",n&&g);return u=u||p,n?R.jsx(eT,{ref:m,as:"label",className:T,htmlFor:u,...h}):R.jsx(i,{ref:m,className:T,htmlFor:u,...h})});aT.displayName="FormLabel";const oT=C.forwardRef(({bsPrefix:i,className:t,id:n,...s},o)=>{const{controlId:u}=C.useContext(Rr);return i=Pt(i,"form-range"),R.jsx("input",{...s,type:"range",ref:o,className:Nt(t,i),id:n||u})});oT.displayName="FormRange";const lT=C.forwardRef(({bsPrefix:i,size:t,htmlSize:n,className:s,isValid:o=!1,isInvalid:u=!1,id:h,...m},p)=>{const{controlId:g}=C.useContext(Rr);return i=Pt(i,"form-select"),R.jsx("select",{...m,size:n,ref:p,className:Nt(s,i,t&&`${i}-${t}`,o&&"is-valid",u&&"is-invalid"),id:h||g})});lT.displayName="FormSelect";const uT=C.forwardRef(({bsPrefix:i,className:t,as:n="small",muted:s,...o},u)=>(i=Pt(i,"form-text"),R.jsx(n,{...o,ref:u,className:Nt(t,i,s&&"text-muted")})));uT.displayName="FormText";const cT=C.forwardRef((i,t)=>R.jsx(yf,{...i,ref:t,type:"switch"}));cT.displayName="Switch";const jR=Object.assign(cT,{Input:yf.Input,Label:yf.Label}),fT=C.forwardRef(({bsPrefix:i,className:t,children:n,controlId:s,label:o,...u},h)=>(i=Pt(i,"form-floating"),R.jsxs(Ap,{ref:h,className:Nt(t,i),controlId:s,...u,children:[n,R.jsx("label",{htmlFor:s,children:o})]})));fT.displayName="FloatingLabel";const BR={_ref:br.any,validated:br.bool,as:br.elementType},Rp=C.forwardRef(({className:i,validated:t,as:n="form",...s},o)=>R.jsx(n,{...s,ref:o,className:Nt(i,t&&"was-validated")}));Rp.displayName="Form";Rp.propTypes=BR;const ke=Object.assign(Rp,{Group:Ap,Control:UR,Floating:sT,Check:yf,Switch:jR,Label:aT,Text:uT,Range:oT,Select:lT,FloatingLabel:fT}),i0=i=>!i||typeof i=="function"?i:t=>{i.current=t};function zR(i,t){const n=i0(i),s=i0(t);return o=>{n&&n(o),s&&s(o)}}function Qf(i,t){return C.useMemo(()=>zR(i,t),[i,t])}const hT=C.createContext(null),HR=["as","active","eventKey"];function qR(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function dT({key:i,onClick:t,active:n,id:s,role:o,disabled:u}){const h=C.useContext(pf),m=C.useContext(bp),p=C.useContext(hT);let g=n;const T={role:o};if(m){!o&&m.role==="tablist"&&(T.role="tab");const _=m.getControllerId(i??null),w=m.getControlledId(i??null);T[$f("event-key")]=i,T.id=_||s,g=n==null&&i!=null?m.activeKey===i:n,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(T["aria-controls"]=w)}return T.role==="tab"&&(T["aria-selected"]=g,g||(T.tabIndex=-1),u&&(T.tabIndex=-1,T["aria-disabled"]=!0)),T.onClick=vr(_=>{u||(t==null||t(_),i!=null&&h&&!_.isPropagationStopped()&&h(i,_))}),[T,{isActive:g}]}const mT=C.forwardRef((i,t)=>{let{as:n=ZE,active:s,eventKey:o}=i,u=qR(i,HR);const[h,m]=dT(Object.assign({key:Tp(o,u.href),active:s},u));return h[$f("active")]=m.isActive,R.jsx(n,Object.assign({},u,h,{ref:t}))});mT.displayName="NavItem";const FR=["as","onSelect","activeKey","role","onKeyDown"];function GR(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}const r0=()=>{},s0=$f("event-key"),pT=C.forwardRef((i,t)=>{let{as:n="div",onSelect:s,activeKey:o,role:u,onKeyDown:h}=i,m=GR(i,FR);const p=xR(),g=C.useRef(!1),T=C.useContext(pf),_=C.useContext(hT);let w,L;_&&(u=u||"tablist",o=_.activeKey,w=_.getControlledId,L=_.getControllerId);const q=C.useRef(null),W=nt=>{const dt=q.current;if(!dt)return null;const lt=sa(dt,`[${s0}]:not([aria-disabled=true])`),rt=dt.querySelector("[aria-selected=true]");if(!rt||rt!==document.activeElement)return null;const O=lt.indexOf(rt);if(O===-1)return null;let A=O+nt;return A>=lt.length&&(A=0),A<0&&(A=lt.length-1),lt[A]},H=(nt,dt)=>{nt!=null&&(s==null||s(nt,dt),T==null||T(nt,dt))},ot=nt=>{if(h==null||h(nt),!_)return;let dt;switch(nt.key){case"ArrowLeft":case"ArrowUp":dt=W(-1);break;case"ArrowRight":case"ArrowDown":dt=W(1);break;default:return}dt&&(nt.preventDefault(),H(dt.dataset[MR("EventKey")]||null,nt),g.current=!0,p())};C.useEffect(()=>{if(q.current&&g.current){const nt=q.current.querySelector(`[${s0}][aria-selected=true]`);nt==null||nt.focus()}g.current=!1});const ht=Qf(t,q);return R.jsx(pf.Provider,{value:H,children:R.jsx(bp.Provider,{value:{role:u,activeKey:Tp(o),getControlledId:w||r0,getControllerId:L||r0},children:R.jsx(n,Object.assign({},m,{onKeyDown:ot,ref:ht,role:u}))})})});pT.displayName="Nav";const KR=Object.assign(pT,{Item:mT});var Yc;function a0(i){if((!Yc&&Yc!==0||i)&&Do){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Yc=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Yc}function $R(){return C.useState(null)}function _m(i){i===void 0&&(i=qf());try{var t=i.activeElement;return!t||!t.nodeName?null:t}catch{return i.body}}function YR(i){const t=C.useRef(i);return t.current=i,t}function QR(i){const t=YR(i);C.useEffect(()=>()=>t.current(),[])}function XR(i=document){const t=i.defaultView;return Math.abs(t.innerWidth-i.documentElement.clientWidth)}const o0=$f("modal-open");class Cp{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return XR(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(n[s]=`${parseInt(Tr(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(o0,""),Tr(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(o0),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Em=(i,t)=>Do?i==null?(t||qf()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function WR(i,t){const n=Sp(),[s,o]=C.useState(()=>Em(i,n==null?void 0:n.document));if(!s){const u=Em(i);u&&o(u)}return C.useEffect(()=>{},[t,s]),C.useEffect(()=>{const u=Em(i);u!==s&&o(u)},[i,s]),s}function ZR({children:i,in:t,onExited:n,mountOnEnter:s,unmountOnExit:o}){const u=C.useRef(null),h=C.useRef(t),m=vr(n);C.useEffect(()=>{t?h.current=!0:m(u.current)},[t,m]);const p=Qf(u,Oo(i)),g=C.cloneElement(i,{ref:p});return t?g:o||!h.current&&s?null:g}const JR=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function tC(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function eC(i){let{onEnter:t,onEntering:n,onEntered:s,onExit:o,onExiting:u,onExited:h,addEndListener:m,children:p}=i,g=tC(i,JR);const T=C.useRef(null),_=Qf(T,Oo(p)),w=dt=>lt=>{dt&&T.current&&dt(T.current,lt)},L=C.useCallback(w(t),[t]),q=C.useCallback(w(n),[n]),W=C.useCallback(w(s),[s]),H=C.useCallback(w(o),[o]),ot=C.useCallback(w(u),[u]),ht=C.useCallback(w(h),[h]),nt=C.useCallback(w(m),[m]);return Object.assign({},g,{nodeRef:T},t&&{onEnter:L},n&&{onEntering:q},s&&{onEntered:W},o&&{onExit:H},u&&{onExiting:ot},h&&{onExited:ht},m&&{addEndListener:nt},{children:typeof p=="function"?(dt,lt)=>p(dt,Object.assign({},lt,{ref:_})):C.cloneElement(p,{ref:_})})}const nC=["component"];function iC(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}const rC=C.forwardRef((i,t)=>{let{component:n}=i,s=iC(i,nC);const o=eC(s);return R.jsx(n,Object.assign({ref:t},o))});function sC({in:i,onTransition:t}){const n=C.useRef(null),s=C.useRef(!0),o=vr(t);return e0(()=>{if(!n.current)return;let u=!1;return o({in:i,element:n.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[i,o]),e0(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function aC({children:i,in:t,onExited:n,onEntered:s,transition:o}){const[u,h]=C.useState(!t);t&&u&&h(!1);const m=sC({in:!!t,onTransition:g=>{const T=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),n==null||n(g.element)))};Promise.resolve(o(g)).then(T,_=>{throw g.in||h(!0),_})}}),p=Qf(m,Oo(i));return u&&!t?null:C.cloneElement(i,{ref:p})}function l0(i,t,n){return i?R.jsx(rC,Object.assign({},n,{component:i})):t?R.jsx(aC,Object.assign({},n,{transition:t})):R.jsx(ZR,Object.assign({},n))}const oC=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function lC(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}let Tm;function uC(i){return Tm||(Tm=new Cp({ownerDocument:i==null?void 0:i.document})),Tm}function cC(i){const t=Sp(),n=i||uC(t),s=C.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:C.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:C.useCallback(o=>{s.current.backdrop=o},[])})}const gT=C.forwardRef((i,t)=>{let{show:n=!1,role:s="dialog",className:o,style:u,children:h,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:T,transition:_,runTransition:w,backdropTransition:L,runBackdropTransition:q,autoFocus:W=!0,enforceFocus:H=!0,restoreFocus:ot=!0,restoreFocusOptions:ht,renderDialog:nt,renderBackdrop:dt=Xt=>R.jsx("div",Object.assign({},Xt)),manager:lt,container:rt,onShow:O,onHide:A=()=>{},onExit:N,onExited:V,onExiting:D,onEnter:k,onEntering:I,onEntered:Gt}=i,Mt=lC(i,oC);const j=Sp(),it=WR(rt),ct=cC(lt),At=dR(),M=mR(n),[$,et]=C.useState(!n),Q=C.useRef(null);C.useImperativeHandle(t,()=>ct,[ct]),Do&&!M&&n&&(Q.current=_m(j==null?void 0:j.document)),n&&$&&et(!1);const ut=vr(()=>{if(ct.add(),we.current=mf(document,"keydown",jt),_e.current=mf(document,"focus",()=>setTimeout(mt),!0),O&&O(),W){var Xt,zn;const he=_m((Xt=(zn=ct.dialog)==null?void 0:zn.ownerDocument)!=null?Xt:j==null?void 0:j.document);ct.dialog&&he&&!n0(ct.dialog,he)&&(Q.current=he,ct.dialog.focus())}}),_t=vr(()=>{if(ct.remove(),we.current==null||we.current(),_e.current==null||_e.current(),ot){var Xt;(Xt=Q.current)==null||Xt.focus==null||Xt.focus(ht),Q.current=null}});C.useEffect(()=>{!n||!it||ut()},[n,it,ut]),C.useEffect(()=>{$&&_t()},[$,_t]),QR(()=>{_t()});const mt=vr(()=>{if(!H||!At()||!ct.isTopModal())return;const Xt=_m(j==null?void 0:j.document);ct.dialog&&Xt&&!n0(ct.dialog,Xt)&&ct.dialog.focus()}),ne=vr(Xt=>{Xt.target===Xt.currentTarget&&(g==null||g(Xt),m===!0&&A())}),jt=vr(Xt=>{p&&tR(Xt)&&ct.isTopModal()&&(T==null||T(Xt),Xt.defaultPrevented||A())}),_e=C.useRef(),we=C.useRef(),un=(...Xt)=>{et(!0),V==null||V(...Xt)};if(!it)return null;const Ze=Object.assign({role:s,ref:ct.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Mt,{style:u,className:o,tabIndex:-1});let gn=nt?nt(Ze):R.jsx("div",Object.assign({},Ze,{children:C.cloneElement(h,{role:"document"})}));gn=l0(_,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:N,onExiting:D,onExited:un,onEnter:k,onEntering:I,onEntered:Gt,children:gn});let Ge=null;return m&&(Ge=dt({ref:ct.setBackdropRef,onClick:ne}),Ge=l0(L,q,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ge})),R.jsx(R.Fragment,{children:oa.createPortal(R.jsxs(R.Fragment,{children:[Ge,gn]}),it)})});gT.displayName="Modal";const yT=Object.assign(gT,{Manager:Cp});function fC(i,t){return i.classList?i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function hC(i,t){i.classList?i.classList.add(t):fC(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}function u0(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function dC(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=u0(i.className,t):i.setAttribute("class",u0(i.className&&i.className.baseVal||"",t))}const fo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class vT extends Cp{adjustAndStore(t,n,s){const o=n.style[t];n.dataset[t]=o,Tr(n,{[t]:`${parseFloat(Tr(n,t))+s}px`})}restore(t,n){const s=n.dataset[t];s!==void 0&&(delete n.dataset[t],Tr(n,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(hC(n,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";sa(n,fo.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,t.scrollBarWidth)),sa(n,fo.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-t.scrollBarWidth)),sa(n,fo.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();dC(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";sa(n,fo.FIXED_CONTENT).forEach(u=>this.restore(s,u)),sa(n,fo.STICKY_CONTENT).forEach(u=>this.restore(o,u)),sa(n,fo.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let bm;function _T(i){return bm||(bm=new vT(i)),bm}const ET=C.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=Pt(t,"modal-body"),R.jsx(n,{ref:o,className:Nt(i,t),...s})));ET.displayName="ModalBody";const Ip=C.createContext({onHide(){}}),Np=C.forwardRef(({bsPrefix:i,className:t,contentClassName:n,centered:s,size:o,fullscreen:u,children:h,scrollable:m,...p},g)=>{i=Pt(i,"modal");const T=`${i}-dialog`,_=typeof u=="string"?`${i}-fullscreen-${u}`:`${i}-fullscreen`;return R.jsx("div",{...p,ref:g,className:Nt(T,t,o&&`${i}-${o}`,s&&`${T}-centered`,m&&`${T}-scrollable`,u&&_),children:R.jsx("div",{className:Nt(`${i}-content`,n),children:h})})});Np.displayName="ModalDialog";const TT=C.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=Pt(t,"modal-footer"),R.jsx(n,{ref:o,className:Nt(i,t),...s})));TT.displayName="ModalFooter";const xp=C.forwardRef(({closeLabel:i="Close",closeVariant:t,closeButton:n=!1,onHide:s,children:o,...u},h)=>{const m=C.useContext(Ip),p=bo(()=>{m==null||m.onHide(),s==null||s()});return R.jsxs("div",{ref:h,...u,children:[o,n&&R.jsx(Ep,{"aria-label":i,variant:t,onClick:p})]})});xp.displayName="AbstractModalHeader";const bT=C.forwardRef(({bsPrefix:i,className:t,closeLabel:n="Close",closeButton:s=!1,...o},u)=>(i=Pt(i,"modal-header"),R.jsx(xp,{ref:u,...o,className:Nt(t,i),closeLabel:n,closeButton:s})));bT.displayName="ModalHeader";const mC=WE("h4"),ST=C.forwardRef(({className:i,bsPrefix:t,as:n=mC,...s},o)=>(t=Pt(t,"modal-title"),R.jsx(n,{ref:o,className:Nt(i,t),...s})));ST.displayName="ModalTitle";function pC(i){return R.jsx(Kf,{...i,timeout:null})}function gC(i){return R.jsx(Kf,{...i,timeout:null})}const wT=C.forwardRef(({bsPrefix:i,className:t,style:n,dialogClassName:s,contentClassName:o,children:u,dialogAs:h=Np,"data-bs-theme":m,"aria-labelledby":p,"aria-describedby":g,"aria-label":T,show:_=!1,animation:w=!0,backdrop:L=!0,keyboard:q=!0,onEscapeKeyDown:W,onShow:H,onHide:ot,container:ht,autoFocus:nt=!0,enforceFocus:dt=!0,restoreFocus:lt=!0,restoreFocusOptions:rt,onEntered:O,onExit:A,onExiting:N,onEnter:V,onEntering:D,onExited:k,backdropClassName:I,manager:Gt,...Mt},j)=>{const[it,ct]=C.useState({}),[At,M]=C.useState(!1),$=C.useRef(!1),et=C.useRef(!1),Q=C.useRef(null),[ut,_t]=$R(),mt=GE(j,_t),ne=bo(ot),jt=zA();i=Pt(i,"modal");const _e=C.useMemo(()=>({onHide:ne}),[ne]);function we(){return Gt||_T({isRTL:jt})}function un(yt){if(!Do)return;const Lt=we().getScrollbarWidth()>0,Le=yt.scrollHeight>qf(yt).documentElement.clientHeight;ct({paddingRight:Lt&&!Le?a0():void 0,paddingLeft:!Lt&&Le?a0():void 0})}const Ze=bo(()=>{ut&&un(ut.dialog)});RR(()=>{Bm(window,"resize",Ze),Q.current==null||Q.current()});const gn=()=>{$.current=!0},Ge=yt=>{$.current&&ut&&yt.target===ut.dialog&&(et.current=!0),$.current=!1},Xt=()=>{M(!0),Q.current=qE(ut.dialog,()=>{M(!1)})},zn=yt=>{yt.target===yt.currentTarget&&Xt()},he=yt=>{if(L==="static"){zn(yt);return}if(et.current||yt.target!==yt.currentTarget){et.current=!1;return}ot==null||ot()},Mr=yt=>{q?W==null||W(yt):(yt.preventDefault(),L==="static"&&Xt())},Je=(yt,Lt)=>{yt&&un(yt),V==null||V(yt,Lt)},yi=yt=>{Q.current==null||Q.current(),A==null||A(yt)},ii=(yt,Lt)=>{D==null||D(yt,Lt),HE(window,"resize",Ze)},Pe=yt=>{yt&&(yt.style.display=""),k==null||k(yt),Bm(window,"resize",Ze)},yn=C.useCallback(yt=>R.jsx("div",{...yt,className:Nt(`${i}-backdrop`,I,!w&&"show")}),[w,I,i]),vi={...n,...it};vi.display="block";const Vr=yt=>R.jsx("div",{role:"dialog",...yt,style:vi,className:Nt(t,i,At&&`${i}-static`,!w&&"show"),onClick:L?he:void 0,onMouseUp:Ge,"data-bs-theme":m,"aria-label":T,"aria-labelledby":p,"aria-describedby":g,children:R.jsx(h,{...Mt,onMouseDown:gn,className:s,contentClassName:o,children:u})});return R.jsx(Ip.Provider,{value:_e,children:R.jsx(yT,{show:_,ref:mt,backdrop:L,container:ht,keyboard:!0,autoFocus:nt,enforceFocus:dt,restoreFocus:lt,restoreFocusOptions:rt,onEscapeKeyDown:Mr,onShow:H,onHide:ot,onEnter:Je,onEntering:ii,onEntered:O,onExit:yi,onExiting:N,onExited:Pe,manager:we(),transition:w?pC:void 0,backdropTransition:w?gC:void 0,renderBackdrop:yn,renderDialog:Vr})})});wT.displayName="Modal";const Sn=Object.assign(wT,{Body:ET,Header:bT,Title:ST,Footer:TT,Dialog:Np,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),AT=C.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=Pt(t,"nav-item"),R.jsx(n,{ref:o,className:Nt(i,t),...s})));AT.displayName="NavItem";const RT=C.forwardRef(({bsPrefix:i,className:t,as:n=JE,active:s,eventKey:o,disabled:u=!1,...h},m)=>{i=Pt(i,"nav-link");const[p,g]=dT({key:Tp(o,h.href),active:s,disabled:u,...h});return R.jsx(n,{...h,...p,ref:m,disabled:u,className:Nt(t,i,u&&"disabled",g.isActive&&"active")})});RT.displayName="NavLink";const CT=C.forwardRef((i,t)=>{const{as:n="div",bsPrefix:s,variant:o,fill:u=!1,justify:h=!1,navbar:m,navbarScroll:p,className:g,activeKey:T,..._}=mp(i,{activeKey:"onSelect"}),w=Pt(s,"nav");let L,q,W=!1;const H=C.useContext(Mo),ot=C.useContext(tT);return H?(L=H.bsPrefix,W=m??!0):ot&&({cardHeaderBsPrefix:q}=ot),R.jsx(KR,{as:n,ref:t,activeKey:T,className:Nt(g,{[w]:!W,[`${L}-nav`]:W,[`${L}-nav-scroll`]:W&&p,[`${q}-${o}`]:!!q,[`${w}-${o}`]:!!o,[`${w}-fill`]:u,[`${w}-justified`]:h}),..._})});CT.displayName="Nav";const yC=Object.assign(CT,{Item:AT,Link:RT}),IT=C.forwardRef(({bsPrefix:i,className:t,as:n,...s},o)=>{i=Pt(i,"navbar-brand");const u=n||(s.href?"a":"span");return R.jsx(u,{...s,ref:o,className:Nt(t,i)})});IT.displayName="NavbarBrand";const NT=C.forwardRef(({children:i,bsPrefix:t,...n},s)=>{t=Pt(t,"navbar-collapse");const o=C.useContext(Mo);return R.jsx(gp,{in:!!(o&&o.expanded),...n,children:R.jsx("div",{ref:s,className:t,children:i})})});NT.displayName="NavbarCollapse";const xT=C.forwardRef(({bsPrefix:i,className:t,children:n,label:s="Toggle navigation",as:o="button",onClick:u,...h},m)=>{i=Pt(i,"navbar-toggler");const{onToggle:p,expanded:g}=C.useContext(Mo)||{},T=bo(_=>{u&&u(_),p&&p()});return o==="button"&&(h.type="button"),R.jsx(o,{...h,ref:m,onClick:T,"aria-label":s,className:Nt(t,i,!g&&"collapsed"),children:n||R.jsx("span",{className:`${i}-icon`})})});xT.displayName="NavbarToggle";const zm=new WeakMap,c0=(i,t)=>{if(!i||!t)return;const n=zm.get(t)||new Map;zm.set(t,n);let s=n.get(i);return s||(s=t.matchMedia(i),s.refCount=0,n.set(s.media,s)),s};function vC(i,t=typeof window>"u"?void 0:window){const n=c0(i,t),[s,o]=C.useState(()=>n?n.matches:!1);return PR(()=>{let u=c0(i,t);if(!u)return o(!1);let h=zm.get(t);const m=()=>{o(u.matches)};return u.refCount++,u.addListener(m),m(),()=>{u.removeListener(m),u.refCount--,u.refCount<=0&&(h==null||h.delete(u.media)),u=void 0}},[i]),s}function _C(i){const t=Object.keys(i);function n(m,p){return m===p?p:m?`${m} and ${p}`:p}function s(m){return t[Math.min(t.indexOf(m)+1,t.length-1)]}function o(m){const p=s(m);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function u(m){let p=i[m];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(m,p,g){let T;typeof m=="object"?(T=m,g=p,p=!0):(p=p||!0,T={[m]:p});let _=C.useMemo(()=>Object.entries(T).reduce((w,[L,q])=>((q==="up"||q===!0)&&(w=n(w,u(L))),(q==="down"||q===!0)&&(w=n(w,o(L))),w),""),[JSON.stringify(T)]);return vC(_,g)}return h}const EC=_C({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),OT=C.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=Pt(t,"offcanvas-body"),R.jsx(n,{ref:o,className:Nt(i,t),...s})));OT.displayName="OffcanvasBody";const TC={[hi]:"show",[yr]:"show"},DT=C.forwardRef(({bsPrefix:i,className:t,children:n,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:h=!1,...m},p)=>(i=Pt(i,"offcanvas"),R.jsx(Ff,{ref:p,addEndListener:pp,in:s,mountOnEnter:o,unmountOnExit:u,appear:h,...m,childRef:Oo(n),children:(g,T)=>C.cloneElement(n,{...T,className:Nt(t,n.props.className,(g===hi||g===eu)&&`${i}-toggling`,TC[g])})})));DT.displayName="OffcanvasToggling";const MT=C.forwardRef(({bsPrefix:i,className:t,closeLabel:n="Close",closeButton:s=!1,...o},u)=>(i=Pt(i,"offcanvas-header"),R.jsx(xp,{ref:u,...o,className:Nt(t,i),closeLabel:n,closeButton:s})));MT.displayName="OffcanvasHeader";const bC=WE("h5"),VT=C.forwardRef(({className:i,bsPrefix:t,as:n=bC,...s},o)=>(t=Pt(t,"offcanvas-title"),R.jsx(n,{ref:o,className:Nt(i,t),...s})));VT.displayName="OffcanvasTitle";function SC(i){return R.jsx(DT,{...i})}function wC(i){return R.jsx(Kf,{...i})}const kT=C.forwardRef(({bsPrefix:i,className:t,children:n,"aria-labelledby":s,placement:o="start",responsive:u,show:h=!1,backdrop:m=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:T,onShow:_,onHide:w,container:L,autoFocus:q=!0,enforceFocus:W=!0,restoreFocus:H=!0,restoreFocusOptions:ot,onEntered:ht,onExit:nt,onExiting:dt,onEnter:lt,onEntering:rt,onExited:O,backdropClassName:A,manager:N,renderStaticNode:V=!1,...D},k)=>{const I=C.useRef();i=Pt(i,"offcanvas");const[Gt,Mt]=C.useState(!1),j=bo(w),it=EC(u||"xs","up");C.useEffect(()=>{Mt(u?h&&!it:h)},[h,u,it]);const ct=C.useMemo(()=>({onHide:j}),[j]);function At(){return N||(g?(I.current||(I.current=new vT({handleContainerOverflow:!1})),I.current):_T())}const M=(ut,..._t)=>{ut&&(ut.style.visibility="visible"),lt==null||lt(ut,..._t)},$=(ut,..._t)=>{ut&&(ut.style.visibility=""),O==null||O(..._t)},et=C.useCallback(ut=>R.jsx("div",{...ut,className:Nt(`${i}-backdrop`,A)}),[A,i]),Q=ut=>R.jsx("div",{...ut,...D,className:Nt(t,u?`${i}-${u}`:i,`${i}-${o}`),"aria-labelledby":s,children:n});return R.jsxs(R.Fragment,{children:[!Gt&&(u||V)&&Q({}),R.jsx(Ip.Provider,{value:ct,children:R.jsx(yT,{show:Gt,ref:k,backdrop:m,container:L,keyboard:p,autoFocus:q,enforceFocus:W&&!g,restoreFocus:H,restoreFocusOptions:ot,onEscapeKeyDown:T,onShow:_,onHide:j,onEnter:M,onEntering:rt,onEntered:ht,onExit:nt,onExiting:dt,onExited:$,manager:At(),transition:SC,backdropTransition:wC,renderBackdrop:et,renderDialog:Q})})]})});kT.displayName="Offcanvas";const AC=Object.assign(kT,{Body:OT,Header:MT,Title:VT}),PT=C.forwardRef(({onHide:i,...t},n)=>{const s=C.useContext(Mo),o=bo(()=>{s==null||s.onToggle==null||s.onToggle(),i==null||i()});return R.jsx(AC,{ref:n,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});PT.displayName="NavbarOffcanvas";const LT=C.forwardRef(({className:i,bsPrefix:t,as:n="span",...s},o)=>(t=Pt(t,"navbar-text"),R.jsx(n,{ref:o,className:Nt(i,t),...s})));LT.displayName="NavbarText";const UT=C.forwardRef((i,t)=>{const{bsPrefix:n,expand:s=!0,variant:o="light",bg:u,fixed:h,sticky:m,className:p,as:g="nav",expanded:T,onToggle:_,onSelect:w,collapseOnSelect:L=!1,...q}=mp(i,{expanded:"onToggle"}),W=Pt(n,"navbar"),H=C.useCallback((...nt)=>{w==null||w(...nt),L&&T&&(_==null||_(!1))},[w,L,T,_]);q.role===void 0&&g!=="nav"&&(q.role="navigation");let ot=`${W}-expand`;typeof s=="string"&&(ot=`${ot}-${s}`);const ht=C.useMemo(()=>({onToggle:()=>_==null?void 0:_(!T),bsPrefix:W,expanded:!!T,expand:s}),[W,T,s,_]);return R.jsx(Mo.Provider,{value:ht,children:R.jsx(pf.Provider,{value:H,children:R.jsx(g,{ref:t,...q,className:Nt(p,W,s&&ot,o&&`${W}-${o}`,u&&`bg-${u}`,m&&`sticky-${m}`,h&&`fixed-${h}`)})})})});UT.displayName="Navbar";const Qc=Object.assign(UT,{Brand:IT,Collapse:NT,Offcanvas:PT,Text:LT,Toggle:xT});function RC({guesses:i,className:t,wordLength:n,highLight:s}){return R.jsx("div",{className:`wordle-board ${t}`,children:i.map((o,u)=>R.jsx(CC,{guess:o,wordLength:n,highLight:u===s-1?"highlight":""},u))})}function CC({guess:i,wordLength:t,highLight:n}){const s=[];for(let o=0;o<t;o++){let u=i[0][o],h=`tile ${i[1][o]}`,m=`letter ${i[1][o]}`;s.push(R.jsx("div",{className:h+" "+n,style:{"--index":o},children:R.jsxs("div",{className:"tile-inner",style:{"--index":o},children:[R.jsx("div",{className:"letter black",style:{"--index":o},children:R.jsx("span",{children:u})}),R.jsx("div",{className:m,style:{"--index":o},children:R.jsx("span",{children:u})})]})},o))}return R.jsx(R.Fragment,{children:s})}function la(i=!1){const[t,n]=C.useState(i),s=C.useCallback(()=>{n(o=>!o)},[]);return[t,s]}const Sm=["black","black","black","black","black"];function Op({darkMode:i,userData:t,setUserData:n,gameMode:s,solution:o,wordSet:u,gameResult:h,setGameResult:m,rowIndex:p,numOfGuesses:g,wordLength:T,highLight:_}){const w=C.useRef(["",Sm]),[L,q]=C.useState(new Array(g).fill(["",Sm])),W=C.useRef(!0),H=C.useRef(null),ot=rt=>new Promise(O=>setTimeout(O,rt)),ht=rt=>{const O=[...L];O[p.current]=rt,q(O)},nt=async()=>{const rt=new Array(T).fill(void 0),O=new Map,A=[];let N=0;const V=new Map;o.forEach(D=>V.has(D)?V.set(D,V.get(D)+1):V.set(D,1)),w.current[0].split("").forEach((D,k)=>{D===o[k]?(rt[k]="green",O.set(D,"green"),N++,V.set(D,V.get(D)-1)):A.push(k)}),A.forEach(D=>{const k=w.current[0][D];V.get(k)&&o.includes(k)?(rt[D]="orange",V.set(k,V.get(k)-1),!O.has(k)&&O.set(k,"orange")):(rt[D]="grey",!O.has(k)&&O.set(k,"grey"))}),O.forEach((D,k)=>{var I;(I=H.current)==null||I.udpateKeyColor(k,D)}),w.current=[w.current[0],rt],ht(w.current),await ot(1700),N===T&&(await ot(1e3),m("guessed"))},dt=rt=>{lt(rt.target.id)},lt=async rt=>{!h&&W.current&&(rt==="ENTER"&&w.current[0].length===T?u.current.has(w.current[0])?(W.current=!1,await nt(),p.current++,w.current=["",Sm],W.current=!0,!h&&p.current>=g&&(m("failed"),p.current++)):ms.warning("Not in the word bank."):p.current<g&&(rt==="BACKSPACE"&&w.current[0].length>0?(w.current[0]=w.current[0].slice(0,-1),ht(w.current)):/[A-Z]/.test(rt)&&rt.length===1&&w.current[0].length<T&&(w.current[0]=w.current[0]+rt,ht(w.current))))};return C.useEffect(()=>{const rt=O=>{lt(O.key.toUpperCase())};return window.addEventListener("keydown",rt),()=>window.removeEventListener("keydown",rt)},[L]),R.jsxs(R.Fragment,{children:[R.jsx(Hf,{richColors:!0,position:"top-center"}),t&&R.jsx("h1",{className:`nickname-paragraph ${i}`,children:t.get("nickname")}),t&&R.jsx("p",{className:`paragraph ${i}`,children:"is playing"}),R.jsx("h3",{className:`game-mode ${i}`,children:s}),R.jsx(RC,{guesses:L,className:i,wordLength:T,highLight:_}),R.jsx(Bf.Provider,{value:{handleKeyClick:dt},children:R.jsx(eA,{className:i,ref:H})})]})}const IC=(i=!0)=>{const t=C.useRef(i),[n,s]=C.useState(t.current?"dark":"light"),o=C.useCallback(()=>{t.current=!t.current,s(t.current?"dark":"light")},[]);return[n,o]};function NC(i){return zf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(i)}const xC=["practice","classic","royale"];function OC({togglePlayWordle:i,gameMode:t,setGameMode:n,className:s="",userData:o}){const[u,h]=C.useState(xC),[m,p]=C.useState(t),g=C.useRef(null),[T,_]=C.useState(!1);return C.useEffect(()=>{const w=L=>{g.current&&!g.current.contains(L.target)&&_(!1)};return document.addEventListener("mousedown",L=>w(L)),()=>document.addEventListener("mousedown",L=>w(L))},[]),R.jsxs(R.Fragment,{children:[R.jsx(Hf,{richColors:!0,position:"top-center"}),R.jsxs("div",{className:`game-mode-selector ${s}`,children:[R.jsx("div",{className:"play-btn flex-center",onClick:i,children:R.jsx(NC,{})}),R.jsx($c,{activeKey:"true",className:"game-mode",ref:g,children:R.jsxs($c.Item,{eventKey:String(T),style:{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},children:[R.jsx($c.Header,{onClick:()=>{_(!T)},children:R.jsx("span",{className:"current-mode",children:m.toUpperCase()})}),R.jsx($c.Body,{onExited:()=>n(m),children:R.jsx("ol",{children:u.map((w,L)=>w===t?null:R.jsx("li",{className:`selector-list ${L+1===u.length&&"last"}`,onClick:()=>{o||w==="practice"?(_(!1),p(w)):ms.warning("Log in to play.")},children:R.jsx("span",{className:"mode",children:w.toUpperCase()})},L))})})]})})]})]})}function DC({togglePlayWordle:i,gameMode:t,setGameMode:n,darkMode:s,userData:o}){return R.jsx("div",{className:"homepage flex-center",children:R.jsx(OC,{togglePlayWordle:i,gameMode:t,setGameMode:n,className:s,userData:o})})}const MC=()=>{};var f0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},VC=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},BT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,_=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,L=g&63;p||(L=64,h||(w=64)),s.push(n[T],n[_],n[w],n[L])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(jT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):VC(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const _=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||_==null)throw new kC;const w=u<<2|m>>4;if(s.push(w),g!==64){const L=m<<4&240|g>>2;if(s.push(L),_!==64){const q=g<<6&192|_;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PC=function(i){const t=jT(i);return BT.encodeByteArray(t,!0)},vf=function(i){return PC(i).replace(/\./g,"")},zT=function(i){try{return BT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=()=>LC().__FIREBASE_DEFAULTS__,jC=()=>{if(typeof process>"u"||typeof f0>"u")return;const i=f0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},BC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&zT(i[1]);return t&&JSON.parse(t)},Xf=()=>{try{return MC()||UC()||jC()||BC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},HT=i=>{var t,n;return(n=(t=Xf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},zC=i=>{const t=HT(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},qT=()=>{var i;return(i=Xf())===null||i===void 0?void 0:i.config},FT=i=>{var t;return(t=Xf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(i){return i.endsWith(".cloudworkstations.dev")}async function GT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[vf(JSON.stringify(n)),vf(JSON.stringify(h)),""].join(".")}const Ql={};function FC(){const i={prod:[],emulator:[]};for(const t of Object.keys(Ql))Ql[t]?i.emulator.push(t):i.prod.push(t);return i}function GC(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let h0=!1;function KT(i,t){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||Ql[i]===t||Ql[i]||h0)return;Ql[i]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=FC().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{h0=!0,h()},w}function T(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=GC(s),L=n("text"),q=document.getElementById(L)||document.createElement("span"),W=n("learnmore"),H=document.getElementById(W)||document.createElement("a"),ot=n("preprendIcon"),ht=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const nt=w.element;m(nt),T(H,W);const dt=g();p(ht,ot),nt.append(ht,q,H,dt),document.body.appendChild(nt)}u?(q.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function $C(){var i;const t=(i=Xf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function XC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WC(){const i=pn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ZC(){return!$C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JC(){try{return typeof indexedDB=="object"}catch{return!1}}function tI(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="FirebaseError";class Dr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=eI,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?nI(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Dr(o,m,s)}}function nI(i,t){return i.replace(iI,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const iI=/\{\$([^}]+)}/g;function rI(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ca(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(d0(u)&&d0(h)){if(!ca(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function d0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Fl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Gl(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function sI(i,t){const n=new aI(i,t);return n.subscribe.bind(n)}class aI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oI(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oI(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(i){return i&&i._delegate?i._delegate:i}class fa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new HC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cI(t))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=aa){return this.instances.has(t)}getOptions(t=aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uI(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=aa){return this.component?this.component.multipleInstances?t:aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(i){return i===aa?void 0:i}function cI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(qt||(qt={}));const hI={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},dI=qt.INFO,mI={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},pI=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=mI[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dp{constructor(t){this.name=t,this._logLevel=dI,this._logHandler=pI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const gI=(i,t)=>t.some(n=>i instanceof n);let m0,p0;function yI(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vI(){return p0||(p0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $T=new WeakMap,Hm=new WeakMap,YT=new WeakMap,Am=new WeakMap,Mp=new WeakMap;function _I(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(gs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&$T.set(n,i)}).catch(()=>{}),Mp.set(t,i),t}function EI(i){if(Hm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Hm.set(i,t)}let qm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Hm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||YT.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function TI(i){qm=i(qm)}function bI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Rm(this),t,...n);return YT.set(s,t.sort?t.sort():[t]),gs(s)}:vI().includes(i)?function(...t){return i.apply(Rm(this),t),gs($T.get(this))}:function(...t){return gs(i.apply(Rm(this),t))}}function SI(i){return typeof i=="function"?bI(i):(i instanceof IDBTransaction&&EI(i),gI(i,yI())?new Proxy(i,qm):i)}function gs(i){if(i instanceof IDBRequest)return _I(i);if(Am.has(i))return Am.get(i);const t=SI(i);return t!==i&&(Am.set(i,t),Mp.set(t,i)),t}const Rm=i=>Mp.get(i);function wI(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=gs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(gs(h.result),p.oldVersion,p.newVersion,gs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const AI=["get","getKey","getAll","getAllKeys","count"],RI=["put","add","delete","clear"],Cm=new Map;function g0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Cm.get(t))return Cm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=RI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AI.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(t,u),u}TI(i=>({...i,get:(t,n,s)=>g0(t,n)||i.get(t,n,s),has:(t,n)=>!!g0(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(II(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function II(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fm="@firebase/app",y0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new Dp("@firebase/app"),NI="@firebase/app-compat",xI="@firebase/analytics-compat",OI="@firebase/analytics",DI="@firebase/app-check-compat",MI="@firebase/app-check",VI="@firebase/auth",kI="@firebase/auth-compat",PI="@firebase/database",LI="@firebase/data-connect",UI="@firebase/database-compat",jI="@firebase/functions",BI="@firebase/functions-compat",zI="@firebase/installations",HI="@firebase/installations-compat",qI="@firebase/messaging",FI="@firebase/messaging-compat",GI="@firebase/performance",KI="@firebase/performance-compat",$I="@firebase/remote-config",YI="@firebase/remote-config-compat",QI="@firebase/storage",XI="@firebase/storage-compat",WI="@firebase/firestore",ZI="@firebase/ai",JI="@firebase/firestore-compat",t2="firebase",e2="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",n2={[Fm]:"fire-core",[NI]:"fire-core-compat",[OI]:"fire-analytics",[xI]:"fire-analytics-compat",[MI]:"fire-app-check",[DI]:"fire-app-check-compat",[VI]:"fire-auth",[kI]:"fire-auth-compat",[PI]:"fire-rtdb",[LI]:"fire-data-connect",[UI]:"fire-rtdb-compat",[jI]:"fire-fn",[BI]:"fire-fn-compat",[zI]:"fire-iid",[HI]:"fire-iid-compat",[qI]:"fire-fcm",[FI]:"fire-fcm-compat",[GI]:"fire-perf",[KI]:"fire-perf-compat",[$I]:"fire-rc",[YI]:"fire-rc-compat",[QI]:"fire-gcs",[XI]:"fire-gcs-compat",[WI]:"fire-fst",[JI]:"fire-fst-compat",[ZI]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new Map,i2=new Map,Km=new Map;function v0(i,t){try{i.container.addComponent(t)}catch(n){Cr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function So(i){const t=i.name;if(Km.has(t))return Cr.debug(`There were multiple attempts to register component ${t}.`),!1;Km.set(t,i);for(const n of _f.values())v0(n,i);for(const n of i2.values())v0(n,i);return!0}function Vp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function ti(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new pu("app","Firebase",r2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=e2;function QT(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Gm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw ys.create("bad-app-name",{appName:String(o)});if(n||(n=qT()),!n)throw ys.create("no-options");const u=_f.get(o);if(u){if(ca(n,u.options)&&ca(s,u.config))return u;throw ys.create("duplicate-app",{appName:o})}const h=new fI(o);for(const p of Km.values())h.addComponent(p);const m=new s2(n,s,h);return _f.set(o,m),m}function XT(i=Gm){const t=_f.get(i);if(!t&&i===Gm&&qT())return QT();if(!t)throw ys.create("no-app",{appName:i});return t}function vs(i,t,n){var s;let o=(s=n2[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cr.warn(m.join(" "));return}So(new fa(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firebase-heartbeat-database",o2=1,nu="firebase-heartbeat-store";let Im=null;function WT(){return Im||(Im=wI(a2,o2,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ys.create("idb-open",{originalErrorMessage:i.message})})),Im}async function l2(i){try{const n=(await WT()).transaction(nu),s=await n.objectStore(nu).get(ZT(i));return await n.done,s}catch(t){if(t instanceof Dr)Cr.warn(t.message);else{const n=ys.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Cr.warn(n.message)}}}async function _0(i,t){try{const s=(await WT()).transaction(nu,"readwrite");await s.objectStore(nu).put(t,ZT(i)),await s.done}catch(n){if(n instanceof Dr)Cr.warn(n.message);else{const s=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cr.warn(s.message)}}}function ZT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=1024,c2=30;class f2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=E0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>c2){const h=m2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Cr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E0(),{heartbeatsToSend:s,unsentEntries:o}=h2(this._heartbeatsCache.heartbeats),u=vf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Cr.warn(n),""}}}function E0(){return new Date().toISOString().substring(0,10)}function h2(i,t=u2){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),T0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),T0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class d2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JC()?tI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function T0(i){return vf(JSON.stringify({version:2,heartbeats:i})).length}function m2(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(i){So(new fa("platform-logger",t=>new CI(t),"PRIVATE")),So(new fa("heartbeat",t=>new f2(t),"PRIVATE")),vs(Fm,y0,i),vs(Fm,y0,"esm2017"),vs("fire-js","")}p2("");function kp(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g2=JT,tb=new pu("auth","Firebase",JT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new Dp("@firebase/auth");function y2(i,...t){Ef.logLevel<=qt.WARN&&Ef.warn(`Auth (${ko}): ${i}`,...t)}function nf(i,...t){Ef.logLevel<=qt.ERROR&&Ef.error(`Auth (${ko}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(i,...t){throw Pp(i,...t)}function Pi(i,...t){return Pp(i,...t)}function eb(i,t,n){const s=Object.assign(Object.assign({},g2()),{[t]:n});return new pu("auth","Firebase",s).create(t,{appName:i.name})}function Sr(i){return eb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return tb.create(i,...t)}function Rt(i,t,...n){if(!i)throw Pp(t,...n)}function _r(i){const t="INTERNAL ASSERTION FAILED: "+i;throw nf(t),new Error(t)}function Ir(i,t){i||_r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function v2(){return b0()==="http:"||b0()==="https:"}function b0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v2()||QC()||"connection"in navigator)?navigator.onLine:!0}function E2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ir(n>t,"Short delay should be less than long delay!"),this.isMobile=KC()||XC()}get(){return _2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(i,t){Ir(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S2=new yu(3e4,6e4);function Cs(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function Is(i,t,n,s,o={}){return ib(i,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=gu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return YC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(g.credentials="include"),nb.fetch()(await rb(i,i.config.apiHost,n,m),g)})}async function ib(i,t,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},T2),t);try{const o=new A2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Xc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Xc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Xc(i,"user-disabled",h);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eb(i,T,g);gi(i,T)}}catch(o){if(o instanceof Dr)throw o;gi(i,"network-request-failed",{message:String(o)})}}async function vu(i,t,n,s,o={}){const u=await Is(i,t,n,s,o);return"mfaPendingCredential"in u&&gi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function rb(i,t,n,s){const o=`${t}${n}?${s}`,u=i,h=u.config.emulator?Lp(i.config,o):`${i.config.apiScheme}://${o}`;return b2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function w2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),S2.get())})}}function Xc(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pi(i,t,s);return o.customData._tokenResponse=n,o}function S0(i){return i!==void 0&&i.enterprise!==void 0}class R2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return w2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function C2(i,t){return Is(i,"GET","/v2/recaptchaConfig",Cs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(i,t){return Is(i,"POST","/v1/accounts:delete",t)}async function Tf(i,t){return Is(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function N2(i,t=!1){const n=pi(i),s=await n.getIdToken(t),o=Up(s);Rt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Xl(Nm(o.auth_time)),issuedAtTime:Xl(Nm(o.iat)),expirationTime:Xl(Nm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Nm(i){return Number(i)*1e3}function Up(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const o=zT(n);return o?JSON.parse(o):(nf("Failed to decode base64 JWT payload"),null)}catch(o){return nf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function w0(i){const t=Up(i);return Rt(t,"internal-error"),Rt(typeof t.exp<"u","internal-error"),Rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Dr&&x2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function x2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(i){var t;const n=i.auth,s=await i.getIdToken(),o=await iu(i,Tf(n,{idToken:s}));Rt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?sb(u.providerUserInfo):[],m=M2(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,_={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Ym(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(i,_)}async function D2(i){const t=pi(i);await bf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function M2(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function sb(i){return i.map(t=>{var{providerId:n}=t,s=kp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(i,t){const n=await ib(i,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await rb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(p.credentials="include"),nb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k2(i,t){return Is(i,"POST","/v2/accounts:revokeToken",Cs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Rt(t.idToken,"internal-error"),Rt(typeof t.idToken<"u","internal-error"),Rt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):w0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Rt(t.length!==0,"internal-error");const n=w0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await V2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new vo;return s&&(Rt(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(Rt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Rt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(i,t){Rt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class di{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=kp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ym(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await iu(this,this.stsTokenManager.getToken(this.auth,t));return Rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return N2(this,t)}reload(){return D2(this)}_assign(t){this!==t&&(Rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new di(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await bf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Sr(this.auth));const t=await this.getIdToken();return await iu(this,I2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,h,m,p,g,T;const _=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,q=(h=n.photoURL)!==null&&h!==void 0?h:void 0,W=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ot=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ht=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:nt,emailVerified:dt,isAnonymous:lt,providerData:rt,stsTokenManager:O}=n;Rt(nt&&O,t,"internal-error");const A=vo.fromJSON(this.name,O);Rt(typeof nt=="string",t,"internal-error"),ls(_,t.name),ls(w,t.name),Rt(typeof dt=="boolean",t,"internal-error"),Rt(typeof lt=="boolean",t,"internal-error"),ls(L,t.name),ls(q,t.name),ls(W,t.name),ls(H,t.name),ls(ot,t.name),ls(ht,t.name);const N=new di({uid:nt,auth:t,email:w,emailVerified:dt,displayName:_,isAnonymous:lt,photoURL:q,phoneNumber:L,tenantId:W,stsTokenManager:A,createdAt:ot,lastLoginAt:ht});return rt&&Array.isArray(rt)&&(N.providerData=rt.map(V=>Object.assign({},V))),H&&(N._redirectEventId=H),N}static async _fromIdTokenResponse(t,n,s=!1){const o=new vo;o.updateFromServerResponse(n);const u=new di({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await bf(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Rt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new vo;m.updateFromIdToken(s);const p=new di({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Map;function Er(i){Ir(i instanceof Function,"Expected a class definition");let t=A0.get(i);return t?(Ir(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,A0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ab.type="NONE";const R0=ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(i,t,n){return`firebase:${i}:${t}:${n}`}class _o{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=rf(this.userKey,o.apiKey,u),this.fullPersistenceKey=rf("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Tf(this.auth,{idToken:t}).catch(()=>{});return n?di._fromGetAccountInfoResponse(this.auth,n,t):null}return di._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new _o(Er(R0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Er(R0);const h=rf(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const T=await g._get(h);if(T){let _;if(typeof T=="string"){const w=await Tf(t,{idToken:T}).catch(()=>{});if(!w)break;_=await di._fromGetAccountInfoResponse(t,w,T)}else _=di._fromJSON(t,T);g!==u&&(m=_),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new _o(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new _o(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ob(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hb(t))return"Blackberry";if(db(t))return"Webos";if(lb(t))return"Safari";if((t.includes("chrome/")||ub(t))&&!t.includes("edge/"))return"Chrome";if(fb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ob(i=pn()){return/firefox\//i.test(i)}function lb(i=pn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ub(i=pn()){return/crios\//i.test(i)}function cb(i=pn()){return/iemobile/i.test(i)}function fb(i=pn()){return/android/i.test(i)}function hb(i=pn()){return/blackberry/i.test(i)}function db(i=pn()){return/webos/i.test(i)}function jp(i=pn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function P2(i=pn()){var t;return jp(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function L2(){return WC()&&document.documentMode===10}function mb(i=pn()){return jp(i)||fb(i)||db(i)||hb(i)||/windows phone/i.test(i)||cb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(i,t=[]){let n;switch(i){case"Browser":n=C0(pn());break;case"Worker":n=`${C0(pn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(i,t={}){return Is(i,"GET","/v2/passwordPolicy",Cs(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=6;class z2{constructor(t){var n,s,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:B2,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I0(this),this.idTokenSubscription=new I0(this),this.beforeStateQueue=new U2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Er(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await _o.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Tf(this,{idToken:t}),s=await di._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ti(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await bf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=E2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(Sr(this));const n=t?pi(t):null;return n&&Rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(Sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await j2(this),n=new z2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new pu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await k2(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Er(t)||this._popupRedirectResolver;Rt(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[Er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=pb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&y2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ga(i){return pi(i)}class I0{constructor(t){this.auth=t,this.observer=null,this.addObserver=sI(n=>this.observer=n)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q2(i){Wf=i}function gb(i){return Wf.loadJS(i)}function F2(){return Wf.recaptchaEnterpriseScript}function G2(){return Wf.gapiScript}function K2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class $2{constructor(){this.enterprise=new Y2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Y2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Q2="recaptcha-enterprise",yb="NO_RECAPTCHA";class X2{constructor(t){this.type=Q2,this.auth=ga(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{C2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new R2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;S0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{h(g)}).catch(()=>{h(yb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&S0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=F2();p.length!==0&&(p+=m),gb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function N0(i,t,n,s=!1,o=!1){const u=new X2(i);let h;if(o)h=yb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Qm(i,t,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await N0(i,t,n,n==="getOobCode");return s(i,h)}else return s(i,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await N0(i,t,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(i,t){const n=Vp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ca(u,t??{}))return o;gi(o,"already-initialized")}return n.initialize({options:t})}function Z2(i,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Er);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function J2(i,t,n){const s=ga(i);Rt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=vb(t),{host:h,port:m}=tN(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Rt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Rt(ca(g,s.config.emulator)&&ca(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Vo(h)?(GT(`${u}//${h}${p}`),KT("Auth",!0)):eN()}function vb(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function tN(i){const t=vb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:x0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:x0(h)}}}function x0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function eN(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(t){return _r("not implemented")}_linkToIdToken(t,n){return _r("not implemented")}_getReauthenticationResolver(t){return _r("not implemented")}}async function nN(i,t){return Is(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(i,t){return vu(i,"POST","/v1/accounts:signInWithPassword",Cs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(i,t){return vu(i,"POST","/v1/accounts:signInWithEmailLink",Cs(i,t))}async function sN(i,t){return vu(i,"POST","/v1/accounts:signInWithEmailLink",Cs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Bp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new ru(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new ru(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(t,n,"signInWithPassword",iN);case"emailLink":return rN(t,{email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(t,s,"signUpPassword",nN);case"emailLink":return sN(t,{idToken:n,email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i,t){return vu(i,"POST","/v1/accounts:signInWithIdp",Cs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="http://localhost";class ha extends Bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ha(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=kp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ha(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return Eo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Eo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Eo(t,n)}buildRequest(){const t={requestUri:aN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=gu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lN(i){const t=Fl(Gl(i)).link,n=t?Fl(Gl(t)).deep_link_id:null,s=Fl(Gl(i)).deep_link_id;return(s?Fl(Gl(s)).link:null)||s||n||t||i}class zp{constructor(t){var n,s,o,u,h,m;const p=Fl(Gl(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,_=oN((o=p.mode)!==null&&o!==void 0?o:null);Rt(g&&T&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=lN(t);try{return new zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(t,n){return ru._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=zp.parseLink(n);return Rt(s,"argument-error"),ru._fromEmailAndCode(t,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends _b{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends _u{constructor(){super("facebook.com")}static credential(t){return ha._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ha._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends _u{constructor(){super("github.com")}static credential(t){return ha._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hs.credential(t.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends _u{constructor(){super("twitter.com")}static credential(t,n){return ha._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(i,t){return vu(i,"POST","/v1/accounts:signUp",Cs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await di._fromIdTokenResponse(t,s,o),h=O0(s);return new da({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=O0(s);return new da({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function O0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends Dr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sf.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Sf(t,n,s,o)}}function Eb(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sf._fromErrorAndOperation(i,u,t,s):u})}async function cN(i,t,n=!1){const s=await iu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return da._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(i,t,n=!1){const{auth:s}=i;if(ti(s.app))return Promise.reject(Sr(s));const o="reauthenticate";try{const u=await iu(i,Eb(s,o,t,i),n);Rt(u.idToken,s,"internal-error");const h=Up(u.idToken);Rt(h,s,"internal-error");const{sub:m}=h;return Rt(i.uid===m,s,"user-mismatch"),da._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&gi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(i,t,n=!1){if(ti(i.app))return Promise.reject(Sr(i));const s="signIn",o=await Eb(i,s,t),u=await da._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function hN(i,t){return Tb(ga(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(i){const t=ga(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function dN(i,t,n){if(ti(i.app))return Promise.reject(Sr(i));const s=ga(i),h=await Qm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&bb(i),p}),m=await da._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function mN(i,t,n){return ti(i.app)?Promise.reject(Sr(i)):hN(pi(i),Po.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bb(i),s})}function pN(i,t,n,s){return pi(i).onIdTokenChanged(t,n,s)}function gN(i,t,n){return pi(i).beforeAuthStateChanged(t,n)}const wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=1e3,vN=10;class wb extends Sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);L2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,vN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},yN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}wb.type="LOCAL";const _N=wb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends Sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Ab.type="SESSION";const Rb=Ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Zf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await EN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Hp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(_){const w=_;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function bN(i){Li().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function SN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function AN(){return Cb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firebaseLocalStorageDb",RN=1,Af="firebaseLocalStorage",Nb="fbase_key";class Eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jf(i,t){return i.transaction([Af],t?"readwrite":"readonly").objectStore(Af)}function CN(){const i=indexedDB.deleteDatabase(Ib);return new Eu(i).toPromise()}function Xm(){const i=indexedDB.open(Ib,RN);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Af,{keyPath:Nb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Af)?t(s):(s.close(),await CN(),t(await Xm()))})})}async function D0(i,t,n){const s=Jf(i,!0).put({[Nb]:t,value:n});return new Eu(s).toPromise()}async function IN(i,t){const n=Jf(i,!1).get(t),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function M0(i,t){const n=Jf(i,!0).delete(t);return new Eu(n).toPromise()}const NN=800,xN=3;class xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>xN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(AN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await SN(),!this.activeServiceWorker)return;this.sender=new TN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||wN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xm();return await D0(t,wf,"1"),await M0(t,wf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>D0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>IN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>M0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Jf(o,!1).getAll();return new Eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xb.type="LOCAL";const ON=xb;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(i,t){return t?Er(t):(Rt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends Bp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Eo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Eo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function MN(i){return Tb(i.auth,new qp(i),i.bypassAuthState)}function VN(i){const{auth:t,user:n}=i;return Rt(n,t,"internal-error"),fN(n,new qp(i),i.bypassAuthState)}async function kN(i){const{auth:t,user:n}=i;return Rt(n,t,"internal-error"),cN(n,new qp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return MN;case"linkViaPopup":case"linkViaRedirect":return kN;case"reauthViaPopup":case"reauthViaRedirect":return VN;default:gi(this.auth,"internal-error")}}resolve(t){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new yu(2e3,1e4);class yo extends Ob{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Rt(t,this.auth,"internal-error"),t}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const t=Hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,PN.get())};t()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="pendingRedirect",sf=new Map;class UN extends Ob{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=sf.get(this.auth._key());if(!t){try{const s=await jN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}sf.set(this.auth._key(),t)}return this.bypassAuthState||sf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jN(i,t){const n=HN(t),s=zN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function BN(i,t){sf.set(i._key(),t)}function zN(i){return Er(i._redirectPersistence)}function HN(i){return rf(LN,i.config.apiKey,i.name)}async function qN(i,t,n=!1){if(ti(i.app))return Promise.reject(Sr(i));const s=ga(i),o=DN(s,t),h=await new UN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=10*60*1e3;class GN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!KN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!Db(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FN&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(t))}saveEventToCache(t){this.cachedEventUids.add(V0(t)),this.lastProcessedEventTime=Date.now()}}function V0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function Db({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function KN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Db(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(i,t={}){return Is(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QN=/^https?/;async function XN(i){if(i.config.emulator)return;const{authorizedDomains:t}=await $N(i);for(const n of t)try{if(WN(n))return}catch{}gi(i,"unauthorized-domain")}function WN(i){const t=$m(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!QN.test(n))return!1;if(YN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new yu(3e4,6e4);function k0(){const i=Li().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function JN(i){return new Promise((t,n)=>{var s,o,u;function h(){k0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{k0(),n(Pi(i,"network-request-failed"))},timeout:ZN.get()})}if(!((o=(s=Li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Li().gapi)===null||u===void 0)&&u.load)h();else{const m=K2("iframefcb");return Li()[m]=()=>{gapi.load?h():n(Pi(i,"network-request-failed"))},gb(`${G2()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw af=null,t})}let af=null;function tx(i){return af=af||JN(i),af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new yu(5e3,15e3),nx="__/auth/iframe",ix="emulator/auth/iframe",rx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ax(i){const t=i.config;Rt(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Lp(t,ix):`https://${i.config.authDomain}/${nx}`,s={apiKey:t.apiKey,appName:i.name,v:ko},o=sx.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function ox(i){const t=await tx(i),n=Li().gapi;return Rt(n,i,"internal-error"),t.open({where:document.body,url:ax(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Pi(i,"network-request-failed"),m=Li().setTimeout(()=>{u(h)},ex.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ux=500,cx=600,fx="_blank",hx="http://localhost";class P0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dx(i,t,n,s=ux,o=cx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},lx),{width:s.toString(),height:o.toString(),top:u,left:h}),g=pn().toLowerCase();n&&(m=ub(g)?fx:n),ob(g)&&(t=t||hx,p.scrollbars="yes");const T=Object.entries(p).reduce((w,[L,q])=>`${w}${L}=${q},`,"");if(P2(g)&&m!=="_self")return mx(t||"",m),new P0(null);const _=window.open(t||"",m,T);Rt(_,i,"popup-blocked");try{_.focus()}catch{}return new P0(_)}function mx(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="__/auth/handler",gx="emulator/auth/handler",yx=encodeURIComponent("fac");async function L0(i,t,n,s,o,u){Rt(i.config.authDomain,i,"auth-domain-config-required"),Rt(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ko,eventId:o};if(t instanceof _b){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",rI(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,_]of Object.entries({}))h[T]=_}if(t instanceof _u){const T=t.getScopes().filter(_=>_!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${yx}=${encodeURIComponent(p)}`:"";return`${vx(i)}?${gu(m).slice(1)}${g}`}function vx({config:i}){return i.emulator?Lp(i,gx):`https://${i.authDomain}/${px}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="webStorageSupport";class _x{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rb,this._completeRedirectFn=qN,this._overrideRedirectResult=BN}async _openPopup(t,n,s,o){var u;Ir((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await L0(t,n,s,$m(),o);return dx(t,h,Hp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await L0(t,n,s,$m(),o);return bN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await ox(t),s=new GN(t);return n.register("authEvent",o=>(Rt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(xm,{type:xm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[xm];h!==void 0&&n(!!h),gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return mb()||lb()||jp()}}const Ex=_x;var U0="@firebase/auth",j0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sx(i){So(new fa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Rt(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pb(i)},g=new H2(s,o,u,p);return Z2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),So(new fa("auth-internal",t=>{const n=ga(t.getProvider("auth").getImmediate());return(s=>new Tx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(U0,j0,bx(i)),vs(U0,j0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=5*60,Ax=FT("authIdTokenMaxAge")||wx;let B0=null;const Rx=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Ax)return;const o=n==null?void 0:n.token;B0!==o&&(B0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Cx(i=XT()){const t=Vp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=W2(i,{popupRedirectResolver:Ex,persistence:[ON,_N,Rb]}),s=FT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Rx(u.toString());gN(n,h,()=>h(n.currentUser)),pN(n,m=>h(m))}}const o=HT("auth");return o&&J2(n,`http://${o}`),n}function Ix(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}q2({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Ix().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sx("Browser");var Nx="firebase",xx="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(Nx,xx,"app");var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,Mb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,A){function N(){}N.prototype=A.prototype,O.D=A.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(V,D,k){for(var I=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)I[Gt-2]=arguments[Gt];return A.prototype[D].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,N){N||(N=0);var V=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)V[D]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(D=0;16>D;++D)V[D]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=O.g[0],N=O.g[1],D=O.g[2];var k=O.g[3],I=A+(k^N&(D^k))+V[0]+3614090360&4294967295;A=N+(I<<7&4294967295|I>>>25),I=k+(D^A&(N^D))+V[1]+3905402710&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(N^k&(A^N))+V[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=N+(A^D&(k^A))+V[3]+3250441966&4294967295,N=D+(I<<22&4294967295|I>>>10),I=A+(k^N&(D^k))+V[4]+4118548399&4294967295,A=N+(I<<7&4294967295|I>>>25),I=k+(D^A&(N^D))+V[5]+1200080426&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(N^k&(A^N))+V[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=N+(A^D&(k^A))+V[7]+4249261313&4294967295,N=D+(I<<22&4294967295|I>>>10),I=A+(k^N&(D^k))+V[8]+1770035416&4294967295,A=N+(I<<7&4294967295|I>>>25),I=k+(D^A&(N^D))+V[9]+2336552879&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(N^k&(A^N))+V[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=N+(A^D&(k^A))+V[11]+2304563134&4294967295,N=D+(I<<22&4294967295|I>>>10),I=A+(k^N&(D^k))+V[12]+1804603682&4294967295,A=N+(I<<7&4294967295|I>>>25),I=k+(D^A&(N^D))+V[13]+4254626195&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(N^k&(A^N))+V[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=N+(A^D&(k^A))+V[15]+1236535329&4294967295,N=D+(I<<22&4294967295|I>>>10),I=A+(D^k&(N^D))+V[1]+4129170786&4294967295,A=N+(I<<5&4294967295|I>>>27),I=k+(N^D&(A^N))+V[6]+3225465664&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^N&(k^A))+V[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=N+(k^A&(D^k))+V[0]+3921069994&4294967295,N=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(N^D))+V[5]+3593408605&4294967295,A=N+(I<<5&4294967295|I>>>27),I=k+(N^D&(A^N))+V[10]+38016083&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^N&(k^A))+V[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=N+(k^A&(D^k))+V[4]+3889429448&4294967295,N=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(N^D))+V[9]+568446438&4294967295,A=N+(I<<5&4294967295|I>>>27),I=k+(N^D&(A^N))+V[14]+3275163606&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^N&(k^A))+V[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=N+(k^A&(D^k))+V[8]+1163531501&4294967295,N=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(N^D))+V[13]+2850285829&4294967295,A=N+(I<<5&4294967295|I>>>27),I=k+(N^D&(A^N))+V[2]+4243563512&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^N&(k^A))+V[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=N+(k^A&(D^k))+V[12]+2368359562&4294967295,N=D+(I<<20&4294967295|I>>>12),I=A+(N^D^k)+V[5]+4294588738&4294967295,A=N+(I<<4&4294967295|I>>>28),I=k+(A^N^D)+V[8]+2272392833&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^N)+V[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=N+(D^k^A)+V[14]+4259657740&4294967295,N=D+(I<<23&4294967295|I>>>9),I=A+(N^D^k)+V[1]+2763975236&4294967295,A=N+(I<<4&4294967295|I>>>28),I=k+(A^N^D)+V[4]+1272893353&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^N)+V[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=N+(D^k^A)+V[10]+3200236656&4294967295,N=D+(I<<23&4294967295|I>>>9),I=A+(N^D^k)+V[13]+681279174&4294967295,A=N+(I<<4&4294967295|I>>>28),I=k+(A^N^D)+V[0]+3936430074&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^N)+V[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=N+(D^k^A)+V[6]+76029189&4294967295,N=D+(I<<23&4294967295|I>>>9),I=A+(N^D^k)+V[9]+3654602809&4294967295,A=N+(I<<4&4294967295|I>>>28),I=k+(A^N^D)+V[12]+3873151461&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^N)+V[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=N+(D^k^A)+V[2]+3299628645&4294967295,N=D+(I<<23&4294967295|I>>>9),I=A+(D^(N|~k))+V[0]+4096336452&4294967295,A=N+(I<<6&4294967295|I>>>26),I=k+(N^(A|~D))+V[7]+1126891415&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~N))+V[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=N+(k^(D|~A))+V[5]+4237533241&4294967295,N=D+(I<<21&4294967295|I>>>11),I=A+(D^(N|~k))+V[12]+1700485571&4294967295,A=N+(I<<6&4294967295|I>>>26),I=k+(N^(A|~D))+V[3]+2399980690&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~N))+V[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=N+(k^(D|~A))+V[1]+2240044497&4294967295,N=D+(I<<21&4294967295|I>>>11),I=A+(D^(N|~k))+V[8]+1873313359&4294967295,A=N+(I<<6&4294967295|I>>>26),I=k+(N^(A|~D))+V[15]+4264355552&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~N))+V[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=N+(k^(D|~A))+V[13]+1309151649&4294967295,N=D+(I<<21&4294967295|I>>>11),I=A+(D^(N|~k))+V[4]+4149444226&4294967295,A=N+(I<<6&4294967295|I>>>26),I=k+(N^(A|~D))+V[11]+3174756917&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~N))+V[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=N+(k^(D|~A))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var N=A-this.blockSize,V=this.B,D=this.h,k=0;k<A;){if(D==0)for(;k<=N;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<A;)if(V[D++]=O.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<A;)if(V[D++]=O[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=A},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var N=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=N&255,N/=256;for(this.u(O),O=Array(16),A=N=0;4>A;++A)for(var V=0;32>V;V+=8)O[N++]=this.g[A]>>>V&255;return O};function u(O,A){var N=m;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=A(O)}function h(O,A){this.h=A;for(var N=[],V=!0,D=O.length-1;0<=D;D--){var k=O[D]|0;V&&k==A||(N[D]=k,V=!1)}this.g=N}var m={};function p(O){return-128<=O&&128>O?u(O,function(A){return new h([A|0],0>A?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return H(g(-O));for(var A=[],N=1,V=0;O>=N;V++)A[V]=O/N|0,N*=4294967296;return new h(A,0)}function T(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return H(T(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(A,8)),V=_,D=0;D<O.length;D+=8){var k=Math.min(8,O.length-D),I=parseInt(O.substring(D,D+k),A);8>k?(k=g(Math.pow(A,k)),V=V.j(k).add(g(I))):(V=V.j(N),V=V.add(g(I)))}return V}var _=p(0),w=p(1),L=p(16777216);i=h.prototype,i.m=function(){if(W(this))return-H(this).m();for(var O=0,A=1,N=0;N<this.g.length;N++){var V=this.i(N);O+=(0<=V?V:4294967296+V)*A,A*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(q(this))return"0";if(W(this))return"-"+H(this).toString(O);for(var A=g(Math.pow(O,6)),N=this,V="";;){var D=dt(N,A).g;N=ot(N,D.j(A));var k=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=D,q(N))return k+V;for(;6>k.length;)k="0"+k;V=k+V}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function q(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function W(O){return O.h==-1}i.l=function(O){return O=ot(this,O),W(O)?-1:q(O)?0:1};function H(O){for(var A=O.g.length,N=[],V=0;V<A;V++)N[V]=~O.g[V];return new h(N,~O.h).add(w)}i.abs=function(){return W(this)?H(this):this},i.add=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],V=0,D=0;D<=A;D++){var k=V+(this.i(D)&65535)+(O.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);V=I>>>16,k&=65535,I&=65535,N[D]=I<<16|k}return new h(N,N[N.length-1]&-2147483648?-1:0)};function ot(O,A){return O.add(H(A))}i.j=function(O){if(q(this)||q(O))return _;if(W(this))return W(O)?H(this).j(H(O)):H(H(this).j(O));if(W(O))return H(this.j(H(O)));if(0>this.l(L)&&0>O.l(L))return g(this.m()*O.m());for(var A=this.g.length+O.g.length,N=[],V=0;V<2*A;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(var D=0;D<O.g.length;D++){var k=this.i(V)>>>16,I=this.i(V)&65535,Gt=O.i(D)>>>16,Mt=O.i(D)&65535;N[2*V+2*D]+=I*Mt,ht(N,2*V+2*D),N[2*V+2*D+1]+=k*Mt,ht(N,2*V+2*D+1),N[2*V+2*D+1]+=I*Gt,ht(N,2*V+2*D+1),N[2*V+2*D+2]+=k*Gt,ht(N,2*V+2*D+2)}for(V=0;V<A;V++)N[V]=N[2*V+1]<<16|N[2*V];for(V=A;V<2*A;V++)N[V]=0;return new h(N,0)};function ht(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function nt(O,A){this.g=O,this.h=A}function dt(O,A){if(q(A))throw Error("division by zero");if(q(O))return new nt(_,_);if(W(O))return A=dt(H(O),A),new nt(H(A.g),H(A.h));if(W(A))return A=dt(O,H(A)),new nt(H(A.g),A.h);if(30<O.g.length){if(W(O)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var N=w,V=A;0>=V.l(O);)N=lt(N),V=lt(V);var D=rt(N,1),k=rt(V,1);for(V=rt(V,2),N=rt(N,2);!q(V);){var I=k.add(V);0>=I.l(O)&&(D=D.add(N),k=I),V=rt(V,1),N=rt(N,1)}return A=ot(O,D.j(A)),new nt(D,A)}for(D=_;0<=O.l(A);){for(N=Math.max(1,Math.floor(O.m()/A.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),k=g(N),I=k.j(A);W(I)||0<I.l(O);)N-=V,k=g(N),I=k.j(A);q(k)&&(k=w),D=D.add(k),O=ot(O,I)}return new nt(D,O)}i.A=function(O){return dt(this,O).h},i.and=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],V=0;V<A;V++)N[V]=this.i(V)&O.i(V);return new h(N,this.h&O.h)},i.or=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],V=0;V<A;V++)N[V]=this.i(V)|O.i(V);return new h(N,this.h|O.h)},i.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),N=[],V=0;V<A;V++)N[V]=this.i(V)^O.i(V);return new h(N,this.h^O.h)};function lt(O){for(var A=O.g.length+1,N=[],V=0;V<A;V++)N[V]=O.i(V)<<1|O.i(V-1)>>>31;return new h(N,O.h)}function rt(O,A){var N=A>>5;A%=32;for(var V=O.g.length-N,D=[],k=0;k<V;k++)D[k]=0<A?O.i(k+N)>>>A|O.i(k+N+1)<<32-A:O.i(k+N);return new h(D,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Mb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,_s=h}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vb,Kl,kb,of,Wm,Pb,Lb,Ub;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break t;v=v[B]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,v){return c.call.apply(c.bind,arguments)}function _(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:_,w.apply(null,arguments)}function L(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function q(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,Y){for(var ft=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)ft[Kt-2]=arguments[Kt];return y.prototype[B].apply(S,ft)}}function W(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function H(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const B=c.length||0,Y=S.length||0;c.length=B+Y;for(let ft=0;ft<Y;ft++)c[B+ft]=S[ft]}else c.push(S)}}class ot{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ht(c){return/^[\s\xa0]*$/.test(c)}function nt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function dt(c){return dt[" "](c),c}dt[" "]=function(){};var lt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function rt(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let Y=0;Y<N.length;Y++)v=N[Y],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function D(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function k(c){m.setTimeout(()=>{throw c},0)}function I(){var c=At;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Gt{constructor(){this.h=this.g=null}add(y,v){const S=Mt.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Mt=new ot(()=>new j,c=>c.reset());class j{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ct=!1,At=new Gt,M=()=>{const c=m.Promise.resolve(void 0);it=()=>{c.then($)}};var $=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){k(v)}var y=Mt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ct=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function _t(c,y){if(Q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(lt){t:{try{dt(y.nodeName);var B=!0;break t}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:mt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_t.aa.h.call(this)}}q(_t,Q);var mt={2:"touch",3:"pen",4:"mouse"};_t.prototype.h=function(){_t.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),jt=0;function _e(c,y,v,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++jt,this.da=this.fa=!1}function we(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function un(c){this.src=c,this.g={},this.h=0}un.prototype.add=function(c,y,v,S,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ft=gn(c,y,S,B);return-1<ft?(y=c[ft],v||(y.fa=!1)):(y=new _e(y,this.src,Y,!!S,B),y.fa=v,c.push(y)),y};function Ze(c,y){var v=y.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(S,B,1),Y&&(we(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function gn(c,y,v,S){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==S)return B}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),Xt={};function zn(c,y,v,S,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)zn(c,y[Y],v,S,B);return null}return v=Vr(v),c&&c[ne]?c.K(y,v,g(S)?!!S.capture:!1,B):he(c,y,v,!1,S,B)}function he(c,y,v,S,B,Y){if(!y)throw Error("Invalid event type");var ft=g(B)?!!B.capture:!!B,Kt=yn(c);if(Kt||(c[Ge]=Kt=new un(c)),v=Kt.add(y,v,S,ft,Y),v.proxy)return v;if(S=Mr(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ut||(B=ft),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(ii(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Mr(){function c(v){return y.call(c.src,c.listener,v)}const y=Pe;return c}function Je(c,y,v,S,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Je(c,y[Y],v,S,B);else S=g(S)?!!S.capture:!!S,v=Vr(v),c&&c[ne]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=gn(Y,v,S,B),-1<v&&(we(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=yn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=gn(y,v,S,B)),(v=-1<c?y[c]:null)&&yi(v))}function yi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ne])Ze(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ii(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=yn(y))?(Ze(v,c),v.h==0&&(v.src=null,y[Ge]=null)):we(c)}}}function ii(c){return c in Xt?Xt[c]:Xt[c]="on"+c}function Pe(c,y){if(c.da)c=!0;else{y=new _t(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&yi(c),c=v.call(S,y)}return c}function yn(c){return c=c[Ge],c instanceof un?c:null}var vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vr(c){return typeof c=="function"?c:(c[vi]||(c[vi]=function(y){return c.handleEvent(y)}),c[vi])}function yt(){et.call(this),this.i=new un(this),this.M=this,this.F=null}q(yt,et),yt.prototype[ne]=!0,yt.prototype.removeEventListener=function(c,y,v,S){Je(this,c,y,v,S)};function Lt(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new Q(y,c);else if(y instanceof Q)y.target=y.target||c;else{var B=y;y=new Q(S,c),V(y,B)}if(B=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ft=y.g=v[Y];B=Le(ft,S,!0,y)&&B}if(ft=y.g=c,B=Le(ft,S,!0,y)&&B,B=Le(ft,S,!1,y)&&B,v)for(Y=0;Y<v.length;Y++)ft=y.g=v[Y],B=Le(ft,S,!1,y)&&B}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)we(v[S]);delete c.g[y],c.h--}}this.F=null},yt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},yt.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Le(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var ft=y[Y];if(ft&&!ft.da&&ft.capture==v){var Kt=ft.listener,Ue=ft.ha||ft.src;ft.fa&&Ze(c.i,ft),B=Kt.call(Ue,S)!==!1&&B}}return B&&!S.defaultPrevented}function Ne(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function ri(c){c.g=Ne(()=>{c.g=null,c.i&&(c.i=!1,ri(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ta extends et{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wn(c){et.call(this),this.h=c,this.g={}}q(wn,et);var Hi=[];function qi(c){rt(c.g,function(y,v){this.g.hasOwnProperty(v)&&yi(y)},c),c.g={}}wn.prototype.N=function(){wn.aa.N.call(this),qi(this)},wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=m.JSON.stringify,Fi=m.JSON.parse,Gi=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ki(){}Ki.prototype.h=null;function Rn(c){return c.h||(c.h=c.i())}function Ns(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hn(){Q.call(this,"d")}q(Hn,Q);function kr(){Q.call(this,"c")}q(kr,Q);var Et={},de=null;function fe(){return de=de||new yt}Et.La="serverreachability";function xe(c){Q.call(this,Et.La,c)}q(xe,Q);function Dn(c){const y=fe();Lt(y,new xe(y))}Et.STAT_EVENT="statevent";function Ee(c,y){Q.call(this,Et.STAT_EVENT,c),this.stat=y}q(Ee,Q);function Bt(c){const y=fe();Lt(y,new Ee(y,c))}Et.Ma="timingevent";function me(c,y){Q.call(this,Et.Ma,c),this.size=y}q(me,Q);function Wt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function pe(){this.g=!0}pe.prototype.xa=function(){this.g=!1};function Pr(c,y,v,S,B,Y){c.info(function(){if(c.g)if(Y)for(var ft="",Kt=Y.split("&"),Ue=0;Ue<Kt.length;Ue++){var $t=Kt[Ue].split("=");if(1<$t.length){var $e=$t[0];$t=$t[1];var je=$e.split("_");ft=2<=je.length&&je[1]=="type"?ft+($e+"="+$t+"&"):ft+($e+"=redacted&")}}else ft=null;else ft=Y;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+ft})}function ai(c,y,v,S,B,Y,ft){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+Y+" "+ft})}function $i(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+xs(c,v)+(S?" "+S:"")})}function Au(c,y){c.info(function(){return"TIMEOUT: "+y})}pe.prototype.info=function(){};function xs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ft=1;ft<B.length;ft++)B[ft]=""}}}}return An(v)}catch{return y}}var Lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function Ei(){}q(Ei,Ki),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},_i=new Ei;function vn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new wn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}var zo={},ba={};function oi(c,y,v){c.L=1,c.v=ks(Mn(y)),c.m=v,c.P=!0,Qi(c,null)}function Qi(c,y){c.F=Date.now(),Os(c),c.A=Mn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),$o(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Ae,c.g=zu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Ta(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Hi[0]=B.toString()),B=Hi);for(var Y=0;Y<B.length;Y++){var ft=zn(v,B[Y],S||y.handleEvent,!1,y.h||y);if(!ft)break;y.g[ft.key]=ft}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Dn(),Pr(c.i,c.u,c.A,c.l,c.R,c.m)}vn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Kn(c)==3?y.j():this.Y(c)},vn.prototype.Y=function(c){try{if(c==this.g)t:{const je=Kn(this.g);var y=this.g.Ba();const ir=this.g.Z();if(!(3>je)&&(je!=3||this.g&&(this.h.h||this.g.oa()||Mu(this.g)))){this.J||je!=4||y==7||(y==8||0>=ir?Dn(3):Dn(2)),Ur(this);var v=this.g.Z();this.X=v;e:if(Ru(this)){var S=Mu(this.g);c="";var B=S.length,Y=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),Ti(this);var ft="";break e}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Y&&y==B-1)});S.length=0,this.h.g+=c,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=v==200,ai(this.i,this.u,this.A,this.l,this.R,je,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Kt,Ue=this.g;if((Kt=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ht(Kt)){var $t=Kt;break e}}$t=null}if(v=$t)$i(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ds(this,v);else{this.o=!1,this.s=3,Bt(12),tn(this),Ti(this);break t}}if(this.P){v=!0;let en;for(;!this.J&&this.C<ft.length;)if(en=Cu(this,ft),en==ba){je==4&&(this.s=4,Bt(14),v=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(en==zo){this.s=4,Bt(15),$i(this.i,this.l,ft,"[Invalid Chunk]"),v=!1;break}else $i(this.i,this.l,en,null),Ds(this,en);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||ft.length!=0||this.h.h||(this.s=1,Bt(16),v=!1),this.o=this.o&&v,!v)$i(this.i,this.l,ft,"[Invalid Chunked Response]"),tn(this),Ti(this);else if(0<ft.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),qs($e),$e.M=!0,Bt(11))}}else $i(this.i,this.l,ft,null),Ds(this,ft);je==4&&tn(this),this.o&&!this.J&&(je==4?Uu(this.j,this):(this.o=!1,Os(this)))}else gh(this.g),v==400&&0<ft.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),tn(this),Ti(this)}}}catch{}finally{}};function Ru(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?ba:(v=Number(y.substring(v,S)),isNaN(v)?zo:(S+=1,S+v>y.length?ba:(y=y.slice(S,S+v),c.C=S+v,y)))}vn.prototype.cancel=function(){this.J=!0,tn(this)};function Os(c){c.S=Date.now()+c.I,Iu(c,c.I)}function Iu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Wt(w(c.ba,c),y)}function Ur(c){c.B&&(m.clearTimeout(c.B),c.B=null)}vn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Au(this.i,this.A),this.L!=2&&(Dn(),Bt(17)),tn(this),this.s=2,Ti(this)):Iu(this,this.S-c)};function Ti(c){c.j.G==0||c.J||Uu(c.j,c)}function tn(c){Ur(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,qi(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ds(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Ho(v.h,c))){if(!c.K&&Ho(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Va(v),Da(v);else break t;Zo(v),Bt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Wt(w(v.Za,v),6e3));if(1>=wa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else nr(v,11)}else if((c.K||v.g==c)&&Va(v),!ht(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let $t=B[y];if(v.T=$t[0],$t=$t[1],v.G==2)if($t[0]=="c"){v.K=$t[1],v.ia=$t[2];const $e=$t[3];$e!=null&&(v.la=$e,v.j.info("VER="+v.la));const je=$t[4];je!=null&&(v.Aa=je,v.j.info("SVER="+v.Aa));const ir=$t[5];ir!=null&&typeof ir=="number"&&0<ir&&(S=1.5*ir,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const en=c.g;if(en){const Ii=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var Y=S.h;Y.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Aa(Y,Y.h),Y.h=null))}if(S.D){const tl=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(S.ya=tl,se(S.I,S.D,tl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ft=c;if(S.qa=Bu(S,S.J?S.ia:null,S.W),ft.K){_n(S.h,ft);var Kt=ft,Ue=S.L;Ue&&(Kt.I=Ue),Kt.B&&(Ur(Kt),Os(Kt)),S.g=ft}else Pu(S);0<v.i.length&&Ma(v)}else $t[0]!="stop"&&$t[0]!="close"||nr(v,7);else v.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?nr(v,7):Xo(v):$t[0]!="noop"&&v.l&&v.l.ta($t),v.v=0)}}Dn(4)}catch{}}var Nu=class{constructor(c,y){this.g=c,this.map=y}};function Xi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wa(c){return c.h?1:c.g?c.g.size:0}function Ho(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Aa(c,y){c.g?c.g.add(y):c.h=y}function _n(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Xi.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return W(c.i)}function hh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Ra(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Fo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ra(c),S=hh(c),B=S.length,Y=0;Y<B;Y++)y.call(void 0,S[Y],v&&v[Y],c)}var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dh(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var Y=c[v].substring(0,S);B=c[v].substring(S+1)}else Y=c[v];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Oe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Oe){this.h=c.h,Vs(this,c.j),this.o=c.o,this.g=c.g,jr(this,c.s),this.l=c.l;var y=c.i,v=new Zi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Wi(this,v),this.m=c.m}else c&&(y=String(c).match(Ms))?(this.h=!1,Vs(this,y[1]||"",!0),this.o=qn(y[2]||""),this.g=qn(y[3]||"",!0),jr(this,y[4]),this.l=qn(y[5]||"",!0),Wi(this,y[6]||"",!0),this.m=qn(y[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}Oe.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ps(y,Go,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ps(y,Go,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ps(v,v.charAt(0)=="/"?mh:Ko,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ps(v,Ca)),c.join("")};function Mn(c){return new Oe(c)}function Vs(c,y,v){c.j=v?qn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function jr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Wi(c,y,v){y instanceof Zi?(c.i=y,Ou(c.i,c.h)):(v||(y=Ps(y,ph)),c.i=new Zi(y,c.h))}function se(c,y,v){c.i.set(y,v)}function ks(c){return se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ps(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,xu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Ko=/[#\?:]/g,mh=/[#\?]/g,ph=/[#\?@]/g,Ca=/#/g;function Zi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Fn(c){c.g||(c.g=new Map,c.h=0,c.i&&dh(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Zi.prototype,i.add=function(c,y){Fn(this),this.i=null,c=bi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ji(c,y){Fn(c),y=bi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function tr(c,y){return Fn(c),y=bi(c,y),c.g.has(y)}i.forEach=function(c,y){Fn(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(y,B,S,this)},this)},this)},i.na=function(){Fn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const B=c[S];for(let Y=0;Y<B.length;Y++)v.push(y[S])}return v},i.V=function(c){Fn(this);let y=[];if(typeof c=="string")tr(this,c)&&(y=y.concat(this.g.get(bi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Fn(this),this.i=null,c=bi(this,c),tr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function $o(c,y,v){Ji(c,y),0<v.length&&(c.i=null,c.g.set(bi(c,y),W(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const Y=encodeURIComponent(String(S)),ft=this.V(S);for(S=0;S<ft.length;S++){var B=Y;ft[S]!==""&&(B+="="+encodeURIComponent(String(ft[S]))),c.push(B)}}return this.i=c.join("&")};function bi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ou(c,y){y&&!c.j&&(Fn(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Ji(this,S),$o(this,B,v))},c)),c.j=y}function Ls(c,y){const v=new pe;if(m.Image){const S=new Image;S.onload=L(Gn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=L(Gn,v,"TestLoadImage: error",!1,y,S),S.onabort=L(Gn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=L(Gn,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function li(c,y){const v=new pe,S=new AbortController,B=setTimeout(()=>{S.abort(),Gn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(B),Y.ok?Gn(v,"TestPingServer: ok",!0,y):Gn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Gn(v,"TestPingServer: error",!1,y)})}function Gn(c,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function Us(){this.g=new Gi}function Si(c,y,v){const S=v||"";try{Fo(c,function(B,Y){let ft=B;g(B)&&(ft=An(B)),y.push(S+Y+"="+encodeURIComponent(ft))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function Br(c){this.l=c.Ub||null,this.j=c.eb||!1}q(Br,Ki),Br.prototype.g=function(){return new er(this.l,this.j)},Br.prototype.i=function(c){return function(){return c}}({});function er(c,y){yt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(er,yt),i=er.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wi(this):Ai(this),this.readyState==3&&Yo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,wi(this))},i.Qa=function(c){this.g&&(this.response=c,wi(this))},i.ga=function(){this.g&&wi(this)};function wi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ai(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let y="";return rt(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ke(c,y,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Qo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):se(c,y,v))}function te(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(te,yt);var Ia=/^https?$/i,js=["POST","PUT"];i=te.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?Rn(this.o):Rn(_i),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Du(this,Y);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())v.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(js,y,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ft]of v)this.g.setRequestHeader(Y,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Du(this,Y)}};function Du(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Na(c),Ri(c)}function Na(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),Ri(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),te.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},i.bb=function(){xa(this)};function xa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Kn(c)!=4||c.Z()!=2)){if(c.u&&Kn(c)==4)Ne(c.Ea,0,c);else if(Lt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const ft=c.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var S;if(S=ft===0){var B=String(c.D).match(Ms)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!Ia.test(B?B.toLowerCase():"")}v=S}if(v)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var Y=2<Kn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Na(c)}}finally{Ri(c)}}}}function Ri(c,y){if(c.g){Bs(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Lt(c,"ready");try{v.onreadystatechange=S}catch{}}}function Bs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Fi(y)}};function Mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gh(c){const y={};c=(c.g&&2<=Kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ht(c[S]))continue;var v=D(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[B]||[];y[B]=Y,Y.push(v)}O(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Oa(c){this.Aa=0,this.i=[],this.j=new pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,c),this.cb=zs("retryDelaySeedMs",1e4,c),this.Wa=zs("forwardChannelMaxRetries",2,c),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(c&&c.concurrentRequestLimit),this.Da=new Us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Oa.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,S){Bt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Bu(this,null,this.W),Ma(this)};function Xo(c){if(Vu(c),c.G==3){var y=c.U++,v=Mn(c.I);if(se(v,"SID",c.K),se(v,"RID",y),se(v,"TYPE","terminate"),Hs(c,v),y=new vn(c,c.j,y),y.L=2,y.v=ks(Mn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Os(y)}ju(c)}function Da(c){c.g&&(qs(c),c.g.cancel(),c.g=null)}function Vu(c){Da(c),c.u&&(m.clearTimeout(c.u),c.u=null),Va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ma(c){if(!Sa(c.h)&&!c.s){c.s=!0;var y=c.Ga;it||M(),ct||(it(),ct=!0),At.add(y,c),c.B=0}}function yh(c,y){return wa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Wt(w(c.Ga,c,y),Jo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new vn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=A(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=ku(this,B,y),v=Mn(this.I),se(v,"RID",c),se(v,"CVER",22),this.D&&se(v,"X-HTTP-Session-Id",this.D),Hs(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Qo(Y)))+"&"+y:this.m&&Ke(v,this.m,Y)),Aa(this.h,B),this.Ua&&se(v,"TYPE","init"),this.P?(se(v,"$req",y),se(v,"SID","null"),B.T=!0,oi(B,v,null)):oi(B,v,y),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||Sa(this.h)||Wo(this))};function Wo(c,y){var v;y?v=y.l:v=c.U++;const S=Mn(c.I);se(S,"SID",c.K),se(S,"RID",v),se(S,"AID",c.T),Hs(c,S),c.m&&c.o&&Ke(S,c.m,c.o),v=new vn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ku(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Aa(c.h,v),oi(v,S,y)}function Hs(c,y){c.H&&rt(c.H,function(v,S){se(y,S,v)}),c.l&&Fo({},function(v,S){se(y,S,v)})}function ku(c,y,v){v=Math.min(c.i.length,v);var S=c.l?w(c.l.Na,c.l,c):null;t:{var B=c.i;let Y=-1;for(;;){const ft=["count="+v];Y==-1?0<v?(Y=B[0].g,ft.push("ofs="+Y)):Y=0:ft.push("ofs="+Y);let Kt=!0;for(let Ue=0;Ue<v;Ue++){let $t=B[Ue].g;const $e=B[Ue].map;if($t-=Y,0>$t)Y=Math.max(0,B[Ue].g-100),Kt=!1;else try{Si($e,ft,"req"+$t+"_")}catch{S&&S($e)}}if(Kt){S=ft.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,S}function Pu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;it||M(),ct||(it(),ct=!0),At.add(y,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Wt(w(c.Fa,c),Jo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Wt(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Da(this),Lu(this))};function qs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Lu(c){c.g=new vn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Mn(c.qa);se(y,"RID","rpc"),se(y,"SID",c.K),se(y,"AID",c.T),se(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&se(y,"TO",c.ja),se(y,"TYPE","xmlhttp"),Hs(c,y),c.m&&c.o&&Ke(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ks(Mn(y)),v.m=null,v.P=!0,Qi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Da(this),Zo(this),Bt(19))};function Va(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Uu(c,y){var v=null;if(c.g==y){Va(c),qs(c),c.g=null;var S=2}else if(Ho(c.h,y))v=y.D,_n(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;S=fe(),Lt(S,new me(S,v)),Ma(c)}else Pu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&yh(c,y)||S==2&&Zo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:nr(c,5);break;case 4:nr(c,10);break;case 3:nr(c,6);break;default:nr(c,2)}}}function Jo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function nr(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),S=c.Xa;const B=!S;S=new Oe(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Vs(S,"https"),ks(S),B?Ls(S.toString(),v):li(S.toString(),v)}else Bt(2);c.G=0,c.l&&c.l.sa(y),ju(c),Vu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function ju(c){if(c.G=0,c.ka=[],c.l){const y=qo(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ka,y),H(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function Bu(c,y,v){var S=v instanceof Oe?Mn(v):new Oe(v);if(S.g!="")y&&(S.g=y+"."+S.g),jr(S,S.s);else{var B=m.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new Oe(null);S&&Vs(Y,S),y&&(Y.g=y),B&&jr(Y,B),v&&(Y.l=v),S=Y}return v=c.D,y=c.ya,v&&y&&se(S,v,y),se(S,"VER",c.la),Hs(c,S),S}function zu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new te(new Br({eb:v})):new te(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}i=Hu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ka(){}ka.prototype.g=function(c,y){return new En(c,y)};function En(c,y){yt.call(this),this.g=new Oa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ht(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ht(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ci(this)}q(En,yt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Xo(this.g)},En.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=An(c),c=v);y.i.push(new Nu(y.Ya++,c)),y.G==3&&Ma(y)},En.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,En.aa.N.call(this)};function qu(c){Hn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}q(qu,Hn);function Fu(){kr.call(this),this.status=1}q(Fu,kr);function Ci(c){this.g=c}q(Ci,Hu),Ci.prototype.ua=function(){Lt(this.g,"a")},Ci.prototype.ta=function(c){Lt(this.g,new qu(c))},Ci.prototype.sa=function(c){Lt(this.g,new Fu)},Ci.prototype.ra=function(){Lt(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,Ub=function(){return new ka},Lb=function(){return fe()},Pb=Et,Wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,of=Lr,Yi.COMPLETE="complete",kb=Yi,Ns.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Kl=Ns,te.prototype.listenOnce=te.prototype.L,te.prototype.getLastError=te.prototype.Ka,te.prototype.getLastErrorCode=te.prototype.Ba,te.prototype.getStatus=te.prototype.Z,te.prototype.getResponseJson=te.prototype.Oa,te.prototype.getResponseText=te.prototype.oa,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Ha,Vb=te}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const H0="@firebase/firestore",q0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Dp("@firebase/firestore");function ho(){return ma.logLevel}function pt(i,...t){if(ma.logLevel<=qt.DEBUG){const n=t.map(Fp);ma.debug(`Firestore (${Lo}): ${i}`,...n)}}function Nr(i,...t){if(ma.logLevel<=qt.ERROR){const n=t.map(Fp);ma.error(`Firestore (${Lo}): ${i}`,...n)}}function wo(i,...t){if(ma.logLevel<=qt.WARN){const n=t.map(Fp);ma.warn(`Firestore (${Lo}): ${i}`,...n)}}function Fp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,jb(i,s,n)}function jb(i,t,n){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Nr(s),new Error(s)}function ee(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||jb(t,o,s)}function Ot(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends Dr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ox{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class Dx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mx{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ee(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Es,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Es)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ee(typeof s.accessToken=="string",31837,{l:s}),new Bb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ee(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class Vx{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kx{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Vx(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Px{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ee(this.o===void 0,3512);const s=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new F0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Lx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function kt(i,t){return i<t?-1:i>t?1:0}function Zm(i,t){let n=0;for(;n<i.length&&n<t.length;){const s=i.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return kt(s,o);{const u=zb(),h=Ux(u.encode(G0(i,n)),u.encode(G0(t,n)));return h!==0?h:kt(s,o)}}n+=s>65535?2:1}return kt(i.length,t.length)}function G0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function Ux(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return kt(i[n],t[n]);return kt(i.length,t.length)}function Ao(i,t,n){return i.length===t.length&&i.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-62135596800,$0=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(t){return qe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*$0);return new qe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new bt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<K0)throw new bt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-K0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new qe(0,0))}static max(){return new xt(new qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__name__";class ki{constructor(t,n,s){n===void 0?n=0:n>t.length&&It(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&It(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ki.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const s=ki.isNumericId(t),o=ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ki.extractNumericId(t).compare(ki.extractNumericId(n)):Zm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _s.fromString(t.substring(4,t.length-2))}}class Se extends ki{construct(t,n,s){return new Se(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new bt(at.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const jx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ki{construct(t,n,s){return new on(t,n,s)}static isValidIdentifier(t){return jx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new on([Y0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new bt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new bt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new bt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new bt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.path=t}static fromPath(t){return new St(Se.fromString(t))}static fromName(t){return new St(Se.fromString(t).popFirst(5))}static empty(){return new St(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new Se(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function Bx(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=xt.fromTimestamp(s===1e9?new qe(n+1,0):new qe(n,s));return new Ts(o,St.empty(),t)}function zx(i){return new Ts(i.readTime,i.key,su)}class Ts{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ts(xt.min(),St.empty(),su)}static max(){return new Ts(xt.max(),St.empty(),su)}}function Hx(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=St.comparator(i.documentKey,t.documentKey),n!==0?n:kt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(i){if(i.code!==at.FAILED_PRECONDITION||i.message!==qx)throw i;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&It(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,s)=>{n(t)})}static reject(t){return new tt((n,s)=>{s(t)})}static waitFor(t){return new tt((n,s)=>{let o=0,u=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next(o=>o?tt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new tt((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(T=>{h[g]=T,++m,m===u&&s(h)},T=>o(T))}})}static doWhile(t,n){return new tt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function Gx(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}th.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function eh(i){return i==null}function Rf(i){return i===0&&1/i==-1/0}function Kx(i){return typeof i=="number"&&Number.isInteger(i)&&!Rf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="";function $x(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=Q0(t)),t=Yx(i.get(n),t);return Q0(t)}function Yx(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case qb:n+="";break;default:n+=u}}return n}function Q0(i){return i+qb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function ya(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function Fb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n){this.comparator=t,this.root=n||an.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zc(this.root,t,this.comparator,!0)}}class Zc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??an.RED,this.left=o??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new an(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return an.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw It(43730,{key:this.key,value:this.value});if(this.right.isRed())throw It(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw It(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw It(57766)}get value(){throw It(16141)}get color(){throw It(16727)}get left(){throw It(29726)}get right(){throw It(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new an(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(t){return new W0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class W0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this.fields=t,t.sort(on.comparator)}static empty(){return new mi([])}unionWith(t){let n=new Fe(on.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new mi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ao(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Gb("Invalid base64 string: "+u):u}}(t);return new ln(n)}static fromUint8Array(t){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new ln(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const Qx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(i){if(ee(!!i,39018),typeof i=="string"){let t=0;const n=Qx.exec(i);if(ee(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ie(i.seconds),nanos:Ie(i.nanos)}}function Ie(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ss(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="server_timestamp",$b="__type__",Yb="__previous_value__",Qb="__local_write_time__";function Kp(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[$b])===null||n===void 0?void 0:n.stringValue)===Kb}function nh(i){const t=i.mapValue.fields[Yb];return Kp(t)?nh(t):t}function au(i){const t=bs(i.mapValue.fields[Qb].timestampValue);return new qe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,n,s,o,u,h,m,p,g,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const Cf="(default)";class ou{constructor(t,n){this.projectId=t,this.database=n||Cf}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(t){return t instanceof ou&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="__type__",Wx="__max__",Jc={mapValue:{}},Wb="__vector__",If="value";function ws(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Kp(i)?4:Jx(i)?9007199254740991:Zx(i)?10:11:It(28295,{value:i})}function Bi(i,t){if(i===t)return!0;const n=ws(i);if(n!==ws(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return au(i).isEqual(au(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=bs(o.timestampValue),m=bs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return Ss(o.bytesValue).isEqual(Ss(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return Ie(o.geoPointValue.latitude)===Ie(u.geoPointValue.latitude)&&Ie(o.geoPointValue.longitude)===Ie(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ie(o.integerValue)===Ie(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ie(o.doubleValue),m=Ie(u.doubleValue);return h===m?Rf(h)===Rf(m):isNaN(h)&&isNaN(m)}return!1}(i,t);case 9:return Ao(i.arrayValue.values||[],t.arrayValue.values||[],Bi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(X0(h)!==X0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Bi(h[p],m[p])))return!1;return!0}(i,t);default:return It(52216,{left:i})}}function lu(i,t){return(i.values||[]).find(n=>Bi(n,t))!==void 0}function Ro(i,t){if(i===t)return 0;const n=ws(i),s=ws(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(i.booleanValue,t.booleanValue);case 2:return function(u,h){const m=Ie(u.integerValue||u.doubleValue),p=Ie(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return Z0(i.timestampValue,t.timestampValue);case 4:return Z0(au(i),au(t));case 5:return Zm(i.stringValue,t.stringValue);case 6:return function(u,h){const m=Ss(u),p=Ss(h);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=kt(m[g],p[g]);if(T!==0)return T}return kt(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,h){const m=kt(Ie(u.latitude),Ie(h.latitude));return m!==0?m:kt(Ie(u.longitude),Ie(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return J0(i.arrayValue,t.arrayValue);case 10:return function(u,h){var m,p,g,T;const _=u.fields||{},w=h.fields||{},L=(m=_[If])===null||m===void 0?void 0:m.arrayValue,q=(p=w[If])===null||p===void 0?void 0:p.arrayValue,W=kt(((g=L==null?void 0:L.values)===null||g===void 0?void 0:g.length)||0,((T=q==null?void 0:q.values)===null||T===void 0?void 0:T.length)||0);return W!==0?W:J0(L,q)}(i.mapValue,t.mapValue);case 11:return function(u,h){if(u===Jc.mapValue&&h===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(h===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let _=0;_<p.length&&_<T.length;++_){const w=Zm(p[_],T[_]);if(w!==0)return w;const L=Ro(m[p[_]],g[T[_]]);if(L!==0)return L}return kt(p.length,T.length)}(i.mapValue,t.mapValue);default:throw It(23264,{Pe:n})}}function Z0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return kt(i,t);const n=bs(i),s=bs(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function J0(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ro(n[o],s[o]);if(u)return u}return kt(n.length,s.length)}function Co(i){return Jm(i)}function Jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=bs(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Ss(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return St.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Jm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Jm(n.fields[h])}`;return o+"}"}(i.mapValue):It(61005,{value:i})}function lf(i){switch(ws(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nh(i);return t?16+lf(t):16;case 5:return 2*i.stringValue.length;case 6:return Ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+lf(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ya(s.fields,(u,h)=>{o+=u.length+lf(h)}),o}(i.mapValue);default:throw It(13486,{value:i})}}function tp(i){return!!i&&"integerValue"in i}function $p(i){return!!i&&"arrayValue"in i}function tE(i){return!!i&&"nullValue"in i}function eE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uf(i){return!!i&&"mapValue"in i}function Zx(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Xb])===null||n===void 0?void 0:n.stringValue)===Wb}function Wl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return ya(i.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Wl(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wl(i.arrayValue.values[n]);return t}return Object.assign({},i)}function Jx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Wx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.value=t}static empty(){return new ei({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!uf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wl(n)}setAll(t){let n=on.emptyPath(),s={},o=[];t.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Wl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Bi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];uf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ya(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new ei(Wl(this.value))}}function Zb(i){const t=[];return ya(i.fields,(n,s)=>{const o=new on([n]);if(uf(s)){const u=Zb(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new mi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new mn(t,0,xt.min(),xt.min(),xt.min(),ei.empty(),0)}static newFoundDocument(t,n,s,o){return new mn(t,1,n,xt.min(),s,o,0)}static newNoDocument(t,n){return new mn(t,2,n,xt.min(),xt.min(),ei.empty(),0)}static newUnknownDocument(t,n){return new mn(t,3,n,xt.min(),xt.min(),ei.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,n){this.position=t,this.inclusive=n}}function nE(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=St.comparator(St.fromName(h.referenceValue),n.key):s=Ro(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Bi(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(t,n="asc"){this.field=t,this.dir=n}}function tO(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{}class He extends Jb{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new nO(t,n,s):n==="array-contains"?new sO(t,s):n==="in"?new aO(t,s):n==="not-in"?new oO(t,s):n==="array-contains-any"?new lO(t,s):new He(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new iO(t,s):new rO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return It(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends Jb{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new zi(t,n)}matches(t){return t1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function t1(i){return i.op==="and"}function e1(i){return eO(i)&&t1(i)}function eO(i){for(const t of i.filters)if(t instanceof zi)return!1;return!0}function ep(i){if(i instanceof He)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(e1(i))return i.filters.map(t=>ep(t)).join(",");{const t=i.filters.map(n=>ep(n)).join(",");return`${i.op}(${t})`}}function n1(i,t){return i instanceof He?function(s,o){return o instanceof He&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)}(i,t):i instanceof zi?function(s,o){return o instanceof zi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&n1(h,o.filters[m]),!0):!1}(i,t):void It(19439)}function i1(i){return i instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(i):i instanceof zi?function(n){return n.op.toString()+" {"+n.getFilters().map(i1).join(" ,")+"}"}(i):"Filter"}class nO extends He{constructor(t,n,s){super(t,n,s),this.key=St.fromName(s.referenceValue)}matches(t){const n=St.comparator(t.key,this.key);return this.matchesComparison(n)}}class iO extends He{constructor(t,n){super(t,"in",n),this.keys=r1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class rO extends He{constructor(t,n){super(t,"not-in",n),this.keys=r1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function r1(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>St.fromName(s.referenceValue))}class sO extends He{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return $p(n)&&lu(n.arrayValue,this.value)}}class aO extends He{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class oO extends He{constructor(t,n){super(t,"not-in",n)}matches(t){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class lO extends He{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!$p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>lu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function rE(i,t=null,n=[],s=[],o=null,u=null,h=null){return new uO(i,t,n,s,o,u,h)}function Yp(i){const t=Ot(i);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>ep(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Co(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Co(s)).join(",")),t.Ie=n}return t.Ie}function Qp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!tO(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!n1(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!iE(i.startAt,t.startAt)&&iE(i.endAt,t.endAt)}function np(i){return St.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function cO(i,t,n,s,o,u,h,m){return new ih(i,t,n,s,o,u,h,m)}function Xp(i){return new ih(i)}function sE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fO(i){return i.collectionGroup!==null}function Zl(i){const t=Ot(i);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Fe(on.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new xf(u,s))}),n.has(on.keyField().canonicalString())||t.Ee.push(new xf(on.keyField(),s))}return t.Ee}function Ui(i){const t=Ot(i);return t.de||(t.de=hO(t,Zl(i))),t.de}function hO(i,t){if(i.limitType==="F")return rE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new xf(o.field,u)});const n=i.endAt?new Nf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Nf(i.startAt.position,i.startAt.inclusive):null;return rE(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function ip(i,t,n){return new ih(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function rh(i,t){return Qp(Ui(i),Ui(t))&&i.limitType===t.limitType}function s1(i){return`${Yp(Ui(i))}|lt:${i.limitType}`}function mo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>i1(o)).join(", ")}]`),eh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Co(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Co(o)).join(",")),`Target(${s})`}(Ui(i))}; limitType=${i.limitType})`}function sh(i,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):St.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,t)&&function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=nE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Zl(s),o)||s.endAt&&!function(h,m,p){const g=nE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Zl(s),o))}(i,t)}function dO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function a1(i){return(t,n)=>{let s=!1;for(const o of Zl(i)){const u=mO(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mO(i,t,n){const s=i.field.isKeyField()?St.comparator(t.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ro(p,g):It(42886)}(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return It(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ya(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return Fb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new ve(St.comparator);function xr(){return pO}const o1=new ve(St.comparator);function $l(...i){let t=o1;for(const n of i)t=t.insert(n.key,n);return t}function l1(i){let t=o1;return i.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ua(){return Jl()}function u1(){return Jl()}function Jl(){return new va(i=>i.toString(),(i,t)=>i.isEqual(t))}const gO=new ve(St.comparator),yO=new Fe(St.comparator);function Ft(...i){let t=yO;for(const n of i)t=t.add(n);return t}const vO=new Fe(kt);function _O(){return vO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(t)?"-0":t}}function c1(i){return{integerValue:""+i}}function EO(i,t){return Kx(t)?c1(t):Wp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function TO(i,t,n){return i instanceof Of?function(o,u){const h={fields:{[$b]:{stringValue:Kb},[Qb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Kp(u)&&(u=nh(u)),u&&(h.fields[Yb]=u),{mapValue:h}}(n,t):i instanceof uu?h1(i,t):i instanceof cu?d1(i,t):function(o,u){const h=f1(o,u),m=aE(h)+aE(o.Re);return tp(h)&&tp(o.Re)?c1(m):Wp(o.serializer,m)}(i,t)}function bO(i,t,n){return i instanceof uu?h1(i,t):i instanceof cu?d1(i,t):n}function f1(i,t){return i instanceof Df?function(s){return tp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Of extends ah{}class uu extends ah{constructor(t){super(),this.elements=t}}function h1(i,t){const n=m1(t);for(const s of i.elements)n.some(o=>Bi(o,s))||n.push(s);return{arrayValue:{values:n}}}class cu extends ah{constructor(t){super(),this.elements=t}}function d1(i,t){let n=m1(t);for(const s of i.elements)n=n.filter(o=>!Bi(o,s));return{arrayValue:{values:n}}}class Df extends ah{constructor(t,n){super(),this.serializer=t,this.Re=n}}function aE(i){return Ie(i.integerValue||i.doubleValue)}function m1(i){return $p(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function SO(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof uu&&o instanceof uu||s instanceof cu&&o instanceof cu?Ao(s.elements,o.elements,Bi):s instanceof Df&&o instanceof Df?Bi(s.Re,o.Re):s instanceof Of&&o instanceof Of}(i.transform,t.transform)}class wO{constructor(t,n){this.version=t,this.transformResults=n}}class wr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new wr}static exists(t){return new wr(void 0,t)}static updateTime(t){return new wr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class oh{}function p1(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new y1(i.key,wr.none()):new Tu(i.key,i.data,wr.none());{const n=i.data,s=ei.empty();let o=new Fe(on.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new _a(i.key,s,new mi(o.toArray()),wr.none())}}function AO(i,t,n){i instanceof Tu?function(o,u,h){const m=o.value.clone(),p=lE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,n):i instanceof _a?function(o,u,h){if(!cf(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=lE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(g1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,t,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,n)}function tu(i,t,n,s){return i instanceof Tu?function(u,h,m,p){if(!cf(u.precondition,h))return m;const g=u.value.clone(),T=uE(u.fieldTransforms,p,h);return g.setAll(T),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,n,s):i instanceof _a?function(u,h,m,p){if(!cf(u.precondition,h))return m;const g=uE(u.fieldTransforms,p,h),T=h.data;return T.setAll(g1(u)),T.setAll(g),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(_=>_.field))}(i,t,n,s):function(u,h,m){return cf(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,t,n)}function RO(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=f1(s.transform,o||null);u!=null&&(n===null&&(n=ei.empty()),n.set(s.field,u))}return n||null}function oE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,(u,h)=>SO(u,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Tu extends oh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _a extends oh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function g1(i){const t=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}}),t}function lE(i,t,n){const s=new Map;ee(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,bO(h,m,n[o]))}return s}function uE(i,t,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,TO(u,h,t))}return s}class y1 extends oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CO extends oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&AO(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=tu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=tu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=u1();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=p1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(xt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ft())}isEqual(t){return this.batchId===t.batchId&&Ao(this.mutations,t.mutations,(n,s)=>oE(n,s))&&Ao(this.baseMutations,t.baseMutations,(n,s)=>oE(n,s))}}class Zp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){ee(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return gO}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Zp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Qt;function OO(i){switch(i){case at.OK:return It(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return It(15467,{code:i})}}function v1(i){if(i===void 0)return Nr("GRPC error has no .code"),at.UNKNOWN;switch(i){case Ve.OK:return at.OK;case Ve.CANCELLED:return at.CANCELLED;case Ve.UNKNOWN:return at.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return at.INTERNAL;case Ve.UNAVAILABLE:return at.UNAVAILABLE;case Ve.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Ve.NOT_FOUND:return at.NOT_FOUND;case Ve.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Ve.ABORTED:return at.ABORTED;case Ve.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Ve.DATA_LOSS:return at.DATA_LOSS;default:return It(39323,{code:i})}}(Qt=Ve||(Ve={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new _s([4294967295,4294967295],0);function cE(i){const t=zb().encode(i),n=new Mb;return n.update(t),new Uint8Array(n.digest())}function fE(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new _s([n,s],0),new _s([o,u],0)]}class Jp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=_s.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(_s.fromNumber(s)));return o.compare(DO)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=cE(t),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.be(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Jp(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.pe===0)return;const n=cE(t),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.Se(h)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,bu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new lh(xt.min(),o,new ve(kt),xr(),Ft())}}class bu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new bu(s,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class _1{constructor(t,n){this.targetId=t,this.Ce=n}}class E1{constructor(t,n,s=ln.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class hE{constructor(){this.Fe=0,this.Me=dE(),this.xe=ln.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ft(),n=Ft(),s=Ft();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:It(38017,{changeType:u})}}),new bu(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=dE()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,ee(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class MO{constructor(t){this.ze=t,this.je=new Map,this.He=xr(),this.Je=tf(),this.Ye=tf(),this.Ze=new ve(kt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:It(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(np(u))if(s===0){const h=new St(u.path);this.tt(n,h,mn.newNoDocument(h,xt.min()))}else ee(s===1,20013,{expectedCount:s});else{const h=this.ut(n);if(h!==s){const m=this.ct(t),p=m?this.lt(m,t,h):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ss(s).toUint8Array()}catch(p){if(p instanceof Gb)return wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jp(h,o,u)}catch(p){return wo(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&np(m.target)){const p=new St(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,mn.newNoDocument(p,t))}u.Le&&(n.set(h,u.qe()),u.Qe())}});let s=Ft();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(t));const o=new lh(t,n,this.Ze,this.He,s);return this.He=xr(),this.Je=tf(),this.Ye=tf(),this.Ze=new ve(kt),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new hE,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Fe(kt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Fe(kt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new hE),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function tf(){return new ve(St.comparator)}function dE(){return new ve(St.comparator)}const VO={asc:"ASCENDING",desc:"DESCENDING"},kO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PO={and:"AND",or:"OR"};class LO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function rp(i,t){return i.useProto3Json||eh(t)?t:{value:t}}function Mf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function T1(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function UO(i,t){return Mf(i,t.toTimestamp())}function ji(i){return ee(!!i,49232),xt.fromTimestamp(function(n){const s=bs(n);return new qe(s.seconds,s.nanos)}(i))}function tg(i,t){return sp(i,t).canonicalString()}function sp(i,t){const n=function(o){return new Se(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?n:n.child(t)}function b1(i){const t=Se.fromString(i);return ee(C1(t),10190,{key:t.toString()}),t}function ap(i,t){return tg(i.databaseId,t.path)}function Om(i,t){const n=b1(t);if(n.get(1)!==i.databaseId.projectId)throw new bt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new bt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new St(w1(n))}function S1(i,t){return tg(i.databaseId,t)}function jO(i){const t=b1(i);return t.length===4?Se.emptyPath():w1(t)}function op(i){return new Se(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function w1(i){return ee(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mE(i,t,n){return{name:ap(i,t),fields:n.value.mapValue.fields}}function BO(i,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:It(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(ee(T===void 0||typeof T=="string",58123),ln.fromBase64String(T||"")):(ee(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),ln.fromUint8Array(T||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const T=g.code===void 0?at.UNKNOWN:v1(g.code);return new bt(T,g.message||"")}(h);n=new E1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(i,s.document.name),u=ji(s.document.updateTime),h=s.document.createTime?ji(s.document.createTime):xt.min(),m=new ei({mapValue:{fields:s.document.fields}}),p=mn.newFoundDocument(o,u,h,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new ff(g,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Om(i,s.document),u=s.readTime?ji(s.readTime):xt.min(),h=mn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ff([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Om(i,s.document),u=s.removedTargetIds||[];n=new ff([],u,o,null)}else{if(!("filter"in t))return It(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new xO(o,u),m=s.targetId;n=new _1(m,h)}}return n}function zO(i,t){let n;if(t instanceof Tu)n={update:mE(i,t.key,t.value)};else if(t instanceof y1)n={delete:ap(i,t.key)};else if(t instanceof _a)n={update:mE(i,t.key,t.data),updateMask:XO(t.fieldMask)};else{if(!(t instanceof CO))return It(16599,{ft:t.type});n={verify:ap(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Of)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Df)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw It(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:UO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:It(27497)}(i,t.precondition)),n}function HO(i,t){return i&&i.length>0?(ee(t!==void 0,14353),i.map(n=>function(o,u){let h=o.updateTime?ji(o.updateTime):ji(u);return h.isEqual(xt.min())&&(h=ji(u)),new wO(h,o.transformResults||[])}(n,t))):[]}function qO(i,t){return{documents:[S1(i,t.path)]}}function FO(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=S1(i,o);const u=function(g){if(g.length!==0)return R1(zi.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(T=>function(w){return{field:po(w.field),direction:$O(w.dir)}}(T))}(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=rp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:n,parent:o}}function GO(i){let t=jO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ee(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(_){const w=A1(_);return w instanceof zi&&e1(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(_){return _.map(w=>function(q){return new xf(go(q.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(_){let w;return w=typeof _=="object"?_.value:_,eh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(_){const w=!!_.before,L=_.values||[];return new Nf(L,w)}(n.startAt));let g=null;return n.endAt&&(g=function(_){const w=!_.before,L=_.values||[];return new Nf(L,w)}(n.endAt)),cO(t,o,h,u,m,"F",p,g)}function KO(i,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function A1(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=go(n.unaryFilter.field);return He.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(n.unaryFilter.field);return He.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(n.unaryFilter.field);return He.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=go(n.unaryFilter.field);return He.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return It(61313);default:return It(60726)}}(i):i.fieldFilter!==void 0?function(n){return He.create(go(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return It(58110);default:return It(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return zi.create(n.compositeFilter.filters.map(s=>A1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return It(1026)}}(n.compositeFilter.op))}(i):It(30097,{filter:i})}function $O(i){return VO[i]}function YO(i){return kO[i]}function QO(i){return PO[i]}function po(i){return{fieldPath:i.canonicalString()}}function go(i){return on.fromServerFormat(i.fieldPath)}function R1(i){return i instanceof He?function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:YO(n.op),value:n.value}}}(i):i instanceof zi?function(n){const s=n.getFilters().map(o=>R1(o));return s.length===1?s[0]:{compositeFilter:{op:QO(n.op),filters:s}}}(i):It(54877,{filter:i})}function XO(i){const t=[];return i.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function C1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,n,s,o,u=xt.min(),h=xt.min(),m=ln.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ps(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t){this.wt=t}}function ZO(i){const t=GO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ip(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.Cn=new tD}addToCollectionParentIndex(t,n){return this.Cn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(Ts.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(Ts.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class tD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Fe(Se.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Fe(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I1=41943040;class On{static withCacheSize(t){return new On(t,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(I1,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Io(0)}static lr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="LruGarbageCollector",eD=1048576;function yE([i,t],[n,s]){const o=kt(i,n);return o===0?kt(t,s):o}class nD{constructor(t){this.Er=t,this.buffer=new Fe(yE),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();yE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){pt(gE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?pt(gE,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.mr(3e5)})}}class rD{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(th.le);const s=new nD(n);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(pE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,o,u,h,m,p,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,h=Date.now(),this.nthSequenceNumber(t,o))).next(_=>(s=_,m=Date.now(),this.removeTargets(t,s,n))).next(_=>(u=_,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(_=>(g=Date.now(),ho()<=qt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:_})))}}function sD(i,t){return new rD(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.changes=new va(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,mn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&tu(s.mutation,o,mi.empty(),qe.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ft()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ft()){const o=ua();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let h=$l();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const s=ua();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ft()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(t,n,s,o){let u=xr();const h=Jl(),m=function(){return Jl()}();return n.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof _a)?u=u.insert(g.key,g):T!==void 0?(h.set(g.key,T.mutation.getFieldMask()),tu(T.mutation,g,T.mutation.getFieldMask(),qe.now())):h.set(g.key,mi.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,T)=>h.set(g,T)),n.forEach((g,T)=>{var _;return m.set(g,new oD(T,(_=h.get(g))!==null&&_!==void 0?_:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Jl();let o=new ve((h,m)=>h-m),u=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||mi.empty();T=m.applyToLocalView(g,T),s.set(p,T);const _=(o.get(m.batchId)||Ft()).add(p);o=o.insert(m.batchId,_)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,_=u1();T.forEach(w=>{if(!u.has(w)){const L=p1(n.get(w),s.get(w));L!==null&&_.set(w,L),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,_))}return tt.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(h){return St.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):fO(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(ua());let m=su,p=u;return h.next(g=>tt.forEach(g,(T,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),u.get(T)?tt.resolve():this.remoteDocumentCache.getEntry(t,T).next(w=>{p=p.insert(T,w)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Ft())).next(T=>({batchId:m,changes:l1(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new St(n)).next(s=>{let o=$l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=$l();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,p=>{const g=function(_,w){return new ih(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(T=>{T.forEach((_,w)=>{h=h.insert(_,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const T=g.getKey();h.get(T)===null&&(h=h.insert(T,mn.newInvalidDocument(T)))});let m=$l();return h.forEach((p,g)=>{const T=u.get(p);T!==void 0&&tu(T.mutation,g,mi.empty(),qe.now()),sh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return tt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:ZO(o.bundledQuery),readTime:ji(o.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.overlays=new ve(St.comparator),this.Qr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ua();return tt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=ua(),u=n.length+1,h=new St(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ve((g,T)=>g-T);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=ua(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=ua(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return tt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new NO(n,s));let u=this.Qr.get(n);u===void 0&&(u=Ft(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.$r=new Fe(We.Ur),this.Kr=new Fe(We.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new We(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new We(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new St(new Se([])),s=new We(n,t),o=new We(n,t+1),u=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new St(new Se([])),s=new We(n,t),o=new We(n,t+1);let u=Ft();return this.Kr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(t){const n=new We(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class We{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return St.comparator(t.key,n.key)||kt(t.Zr,n.Zr)}static Wr(t,n){return kt(t.Zr,n.Zr)||St.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Fe(We.Ur)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new IO(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Xr=this.Xr.add(new We(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(h)}lookupMutationBatch(t,n){return tt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Gp:this.nr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new We(n,0),o=new We(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],h=>{const m=this.ei(h.Zr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(kt);return n.forEach(o=>{const u=new We(o,0),h=new We(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{s=s.add(m.Zr)})}),tt.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;St.isDocumentKey(u)||(u=u.child(""));const h=new We(new St(u),0);let m=new Fe(kt);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},h),tt.resolve(this.ni(m))}ni(t){const n=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){ee(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return tt.forEach(n.mutations,o=>{const u=new We(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new We(n,0),o=this.Xr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t){this.ii=t,this.docs=function(){return new ve(St.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(t,n){let s=xr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=xr();const h=n.path,m=new St(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||Hx(zx(T),s)<=0||(o.has(T.key)||sh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){It(9500)}si(t,n){return tt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new mD(this)}getSize(t){return tt.resolve(this.size)}}class mD extends aD{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),tt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t){this.persistence=t,this.oi=new va(n=>Yp(n),Qp),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this._i=0,this.ai=new eg,this.targetCount=0,this.ui=Io.cr()}forEachTarget(t,n){return this.oi.forEach((s,o)=>n(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),tt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Io(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.Tr(n),tt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,n){this.ci={},this.overlays={},this.li=new th(0),this.hi=!1,this.hi=!0,this.Pi=new fD,this.referenceDelegate=t(this),this.Ti=new pD(this),this.indexManager=new JO,this.remoteDocumentCache=function(o){return new dD(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new WO(n),this.Ei=new uD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new cD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new hD(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){pt("MemoryPersistence","Starting transaction:",t);const o=new gD(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return tt.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class gD extends Fx{constructor(t){super(),this.currentSequenceNumber=t}}class ng{constructor(t){this.persistence=t,this.Vi=new eg,this.mi=null}static fi(t){return new ng(t)}get gi(){if(this.mi)return this.mi;throw It(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.gi,s=>{const o=St.fromPath(s);return this.pi(t,o).next(u=>{u||n.removeEntry(o,xt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return tt.or([()=>tt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Vf{constructor(t,n){this.persistence=t,this.yi=new va(s=>$x(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=sD(this,n)}static fi(t,n){return new Vf(t,n)}di(){}Ai(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return tt.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(u=>u?tt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,h=>this.Dr(t,h,n).next(m=>{m||(s++,u.removeEntry(h,xt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),tt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=lf(t.data.value)),n}Dr(t,n,s){return tt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ds=s,this.As=o}static Rs(t,n){let s=Ft(),o=Ft();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ig(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ZC()?8:Gx(pn())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ws(t,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(t,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new yD;return this.Ss(t,n,h).next(m=>{if(u.result=m,this.fs)return this.Ds(t,n,h,m.size)})}).next(()=>u.result)}Ds(t,n,s,o){return s.documentReadCount<this.gs?(ho()<=qt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),tt.resolve()):(ho()<=qt.DEBUG&&pt("QueryEngine","Query:",mo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(ho()<=qt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(n))):tt.resolve())}ws(t,n){if(sE(n))return tt.resolve(null);let s=Ui(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ip(n,null,"F"),s=Ui(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const h=Ft(...u);return this.ys.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,h,p.readTime)?this.ws(t,ip(n,null,"F")):this.Fs(t,g,n,p)}))})))}bs(t,n,s,o){return sE(n)||o.isEqual(xt.min())?tt.resolve(null):this.ys.getDocuments(t,s).next(u=>{const h=this.vs(n,u);return this.Cs(n,h,s,o)?tt.resolve(null):(ho()<=qt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(n)),this.Fs(t,h,n,Bx(o,su)).next(m=>m))})}vs(t,n){let s=new Fe(a1(t));return n.forEach((o,u)=>{sh(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return ho()<=qt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",mo(n)),this.ys.getDocumentsMatchingQuery(t,n,Ts.min(),s)}Fs(t,n,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="LocalStore",_D=3e8;class ED{constructor(t,n,s,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new ve(kt),this.Os=new va(u=>Yp(u),Qp),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function TD(i,t,n,s){return new ED(i,t,n,s)}async function x1(i,t){const n=Ot(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Ft();for(const g of o){h.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:m}))})})}function bD(i,t){const n=Ot(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const _=g.batch,w=_.keys();let L=tt.resolve();return w.forEach(q=>{L=L.next(()=>T.getEntry(p,q)).next(W=>{const H=g.docVersions.get(q);ee(H!==null,48541),W.version.compareTo(H)<0&&(_.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),T.addEntry(W)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(p,_))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ft();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function O1(i){const t=Ot(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function SD(i,t){const n=Ot(i),s=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];t.targetChanges.forEach((T,_)=>{const w=o.get(_);if(!w)return;m.push(n.Ti.removeMatchingKeys(u,T.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(u,T.addedDocuments,_)));let L=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(_)!==null?L=L.withResumeToken(ln.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,s)),o=o.insert(_,L),function(W,H,ot){return W.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=_D?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0}(w,L,T)&&m.push(n.Ti.updateTargetData(u,L))});let p=xr(),g=Ft();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(wD(u,h,t.documentUpdates).next(T=>{p=T.qs,g=T.Qs})),!s.isEqual(xt.min())){const T=n.Ti.getLastRemoteSnapshotVersion(u).next(_=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return tt.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function wD(i,t,n){let s=Ft(),o=Ft();return n.forEach(u=>s=s.add(u)),t.getEntries(i,s).next(u=>{let h=xr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xt.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):pt(rg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function AD(i,t){const n=Ot(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function RD(i,t){const n=Ot(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,t).next(u=>u?(o=u,tt.resolve(o)):n.Ti.allocateTargetId(s).next(h=>(o=new ps(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function lp(i,t,n){const s=Ot(i),o=s.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!jo(h))throw h;pt(rg,`Failed to update sequence numbers for target ${t}: ${h}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function vE(i,t,n){const s=Ot(i);let o=xt.min(),u=Ft();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,T){const _=Ot(p),w=_.Os.get(T);return w!==void 0?tt.resolve(_.xs.get(w)):_.Ti.getTargetData(g,T)}(s,h,Ui(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,t,n?o:xt.min(),n?u:Ft())).next(m=>(CD(s,dO(t),m),{documents:m,$s:u})))}function CD(i,t,n){let s=i.Ns.get(t)||xt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(t,s)}class _E{constructor(){this.activeTargetIds=_O()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ID{constructor(){this.xo=new _E,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new _E,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class TE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pt(EE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){pt(EE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef=null;function up(){return ef===null?ef=function(){return 268435456+Math.round(2147483648*Math.random())}():ef++,"0x"+ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RestConnection",xD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OD{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Cf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,n,s,o,u){const h=up(),m=this.jo(t,n.toUriEncodedString());pt(Dm,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),T=Vo(g);return this.Jo(t,m,p,s,T).then(_=>(pt(Dm,`Received RPC '${t}' ${h}: `,_),_),_=>{throw wo(Dm,`RPC '${t}' ${h} failed with error: `,_,"url: ",m,"request:",s),_})}Yo(t,n,s,o,u,h){return this.zo(t,n,s,o,u)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const s=xD[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class MD extends OD{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const h=up();return new Promise((m,p)=>{const g=new Vb;g.setWithCredentials(!0),g.listenOnce(kb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case of.NO_ERROR:const _=g.getResponseJson();pt(hn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(_)),m(_);break;case of.TIMEOUT:pt(hn,`RPC '${t}' ${h} timed out`),p(new bt(at.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const w=g.getStatus();if(pt(hn,`RPC '${t}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const q=L==null?void 0:L.error;if(q&&q.status&&q.message){const W=function(ot){const ht=ot.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(ht)>=0?ht:at.UNKNOWN}(q.status);p(new bt(W,q.message))}else p(new bt(at.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new bt(at.UNAVAILABLE,"Connection failed."));break;default:It(9055,{h_:t,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{pt(hn,`RPC '${t}' ${h} completed.`)}});const T=JSON.stringify(o);pt(hn,`RPC '${t}' ${h} sending request:`,o),g.send(n,"POST",T,s,15)})}I_(t,n,s){const o=up(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=Ub(),m=Lb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");pt(hn,`Creating RPC '${t}' stream ${o}: ${T}`,p);const _=h.createWebChannel(T,p);this.E_(_);let w=!1,L=!1;const q=new DD({Zo:H=>{L?pt(hn,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(w||(pt(hn,`Opening RPC '${t}' stream ${o} transport.`),_.open(),w=!0),pt(hn,`RPC '${t}' stream ${o} sending:`,H),_.send(H))},Xo:()=>_.close()}),W=(H,ot,ht)=>{H.listen(ot,nt=>{try{ht(nt)}catch(dt){setTimeout(()=>{throw dt},0)}})};return W(_,Kl.EventType.OPEN,()=>{L||(pt(hn,`RPC '${t}' stream ${o} transport opened.`),q.__())}),W(_,Kl.EventType.CLOSE,()=>{L||(L=!0,pt(hn,`RPC '${t}' stream ${o} transport closed`),q.u_(),this.d_(_))}),W(_,Kl.EventType.ERROR,H=>{L||(L=!0,wo(hn,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),q.u_(new bt(at.UNAVAILABLE,"The operation could not be completed")))}),W(_,Kl.EventType.MESSAGE,H=>{var ot;if(!L){const ht=H.data[0];ee(!!ht,16349);const nt=ht,dt=(nt==null?void 0:nt.error)||((ot=nt[0])===null||ot===void 0?void 0:ot.error);if(dt){pt(hn,`RPC '${t}' stream ${o} received error:`,dt);const lt=dt.status;let rt=function(N){const V=Ve[N];if(V!==void 0)return v1(V)}(lt),O=dt.message;rt===void 0&&(rt=at.INTERNAL,O="Unknown error status: "+lt+" with message "+dt.message),L=!0,q.u_(new bt(rt,O)),_.close()}else pt(hn,`RPC '${t}' stream ${o} received:`,ht),q.c_(ht)}}),W(m,Pb.STAT_EVENT,H=>{H.stat===Wm.PROXY?pt(hn,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Wm.NOPROXY&&pt(hn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.a_()},0),q}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(i){return new LO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="PersistentStream";class M1{constructor(t,n,s,o,u,h,m,p){this.xi=t,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new D1(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===at.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{t(()=>{const o=new bt(at.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return pt(bE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(pt(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VD extends M1{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=BO(this.serializer,t),s=function(u){if(!("targetChange"in u))return xt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?xt.min():h.readTime?ji(h.readTime):xt.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=op(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=np(p)?{documents:qO(u,p)}:{query:FO(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=T1(u,h.resumeToken);const g=rp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(xt.min())>0){m.readTime=Mf(u,h.snapshotVersion.toTimestamp());const g=rp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=KO(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=op(this.serializer),n.removeTarget=t,this.Q_(n)}}class kD extends M1{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return ee(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ee(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){ee(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=HO(t.writeResults,t.commitTime),s=ji(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=op(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>zO(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{}class LD extends PD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new bt(at.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(t,sp(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new bt(at.UNKNOWN,u.toString())})}Yo(t,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(t,sp(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new bt(at.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class UD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Nr(n),this.ua=!1):pt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class jD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{s.enqueueAndForget(async()=>{Ea(this)&&(pt(pa,"Restarting streams for network reachability change."),await async function(p){const g=Ot(p);g.da.add(4),await Su(g),g.Va.set("Unknown"),g.da.delete(4),await ch(g)}(this))})}),this.Va=new UD(s,o)}}async function ch(i){if(Ea(i))for(const t of i.Aa)await t(!0)}async function Su(i){for(const t of i.Aa)await t(!1)}function V1(i,t){const n=Ot(i);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),lg(n)?og(n):Bo(n).N_()&&ag(n,t))}function sg(i,t){const n=Ot(i),s=Bo(n);n.Ea.delete(t),s.N_()&&k1(n,t),n.Ea.size===0&&(s.N_()?s.k_():Ea(n)&&n.Va.set("Unknown"))}function ag(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bo(i).Z_(t)}function k1(i,t){i.ma.Ke(t),Bo(i).X_(t)}function og(i){i.ma=new MO({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),Bo(i).start(),i.Va.ca()}function lg(i){return Ea(i)&&!Bo(i).O_()&&i.Ea.size>0}function Ea(i){return Ot(i).da.size===0}function P1(i){i.ma=void 0}async function BD(i){i.Va.set("Online")}async function zD(i){i.Ea.forEach((t,n)=>{ag(i,t)})}async function HD(i,t){P1(i),lg(i)?(i.Va.Pa(t),og(i)):i.Va.set("Unknown")}async function qD(i,t,n){if(i.Va.set("Online"),t instanceof E1&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ea.delete(m),o.ma.removeTarget(m))}(i,t)}catch(s){pt(pa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await kf(i,s)}else if(t instanceof ff?i.ma.Xe(t):t instanceof _1?i.ma.ot(t):i.ma.nt(t),!n.isEqual(xt.min()))try{const s=await O1(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.ma.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ea.get(g);T&&u.Ea.set(g,T.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const T=u.Ea.get(p);if(!T)return;u.Ea.set(p,T.withResumeToken(ln.EMPTY_BYTE_STRING,T.snapshotVersion)),k1(u,p);const _=new ps(T.target,p,g,T.sequenceNumber);ag(u,_)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){pt(pa,"Failed to raise snapshot:",s),await kf(i,s)}}async function kf(i,t,n){if(!jo(t))throw t;i.da.add(1),await Su(i),i.Va.set("Offline"),n||(n=()=>O1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pt(pa,"Retrying IndexedDB access"),await n(),i.da.delete(1),await ch(i)})}function L1(i,t){return t().catch(n=>kf(i,n,t))}async function fh(i){const t=Ot(i),n=As(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Gp;for(;FD(t);)try{const o=await AD(t.localStore,s);if(o===null){t.Ia.length===0&&n.k_();break}s=o.batchId,GD(t,o)}catch(o){await kf(t,o)}U1(t)&&j1(t)}function FD(i){return Ea(i)&&i.Ia.length<10}function GD(i,t){i.Ia.push(t);const n=As(i);n.N_()&&n.ea&&n.ta(t.mutations)}function U1(i){return Ea(i)&&!As(i).O_()&&i.Ia.length>0}function j1(i){As(i).start()}async function KD(i){As(i).ia()}async function $D(i){const t=As(i);for(const n of i.Ia)t.ta(n.mutations)}async function YD(i,t,n){const s=i.Ia.shift(),o=Zp.from(s,t,n);await L1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await fh(i)}async function QD(i,t){t&&As(i).ea&&await async function(s,o){if(function(h){return OO(h)&&h!==at.ABORTED}(o.code)){const u=s.Ia.shift();As(s).L_(),await L1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await fh(s)}}(i,t),U1(i)&&j1(i)}async function SE(i,t){const n=Ot(i);n.asyncQueue.verifyOperationInProgress(),pt(pa,"RemoteStore received new credentials");const s=Ea(n);n.da.add(3),await Su(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await ch(n)}async function XD(i,t){const n=Ot(i);t?(n.da.delete(2),await ch(n)):t||(n.da.add(2),await Su(n),n.Va.set("Unknown"))}function Bo(i){return i.fa||(i.fa=function(n,s,o){const u=Ot(n);return u.oa(),new VD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:BD.bind(null,i),n_:zD.bind(null,i),i_:HD.bind(null,i),Y_:qD.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),lg(i)?og(i):i.Va.set("Unknown")):(await i.fa.stop(),P1(i))})),i.fa}function As(i){return i.ga||(i.ga=function(n,s,o){const u=Ot(n);return u.oa(),new kD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:KD.bind(null,i),i_:QD.bind(null,i),na:$D.bind(null,i),ra:YD.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await fh(i)):(await i.ga.stop(),i.Ia.length>0&&(pt(pa,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new ug(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(i,t){if(Nr("AsyncQueue",`${t}: ${i}`),jo(i))return new bt(at.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(t){return new To(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||St.comparator(n.key,s.key):(n,s)=>St.comparator(n.key,s.key),this.keyedMap=$l(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof To)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new To;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.pa=new ve(St.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):It(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class No{constructor(t,n,s,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new No(t,n,To.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class ZD{constructor(){this.queries=AE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ot(n),u=o.queries;o.queries=AE(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new bt(at.ABORTED,"Firestore shutting down"))}}function AE(){return new va(i=>s1(i),rh)}async function JD(i,t){const n=Ot(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Da()&&t.va()&&(s=2):(u=new WD,s=t.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=cg(h,`Initialization of query '${mo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.Fa(n.onlineState),u.ba&&t.Ma(u.ba)&&fg(n)}async function t4(i,t){const n=Ot(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function e4(i,t){const n=Ot(i);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Ma(o)&&(s=!0);h.ba=o}}s&&fg(n)}function n4(i,t,n){const s=Ot(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function fg(i){i.Ca.forEach(t=>{t.next()})}var cp,RE;(RE=cp||(cp={})).xa="default",RE.Cache="cache";class i4{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new No(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=No.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t){this.key=t}}class z1{constructor(t){this.key=t}}class r4{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ft(),this.mutatedKeys=Ft(),this.Za=a1(t),this.Xa=new To(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new wE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,_)=>{const w=o.get(T),L=sh(this.query,_)?_:null,q=!!w&&this.mutatedKeys.has(w.key),W=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;w&&L?w.data.isEqual(L.data)?q!==W&&(s.track({type:3,doc:L}),H=!0):this.ru(w,L)||(s.track({type:2,doc:L}),H=!0,(p&&this.Za(L,p)>0||g&&this.Za(L,g)<0)&&(m=!0)):!w&&L?(s.track({type:0,doc:L}),H=!0):w&&!L&&(s.track({type:1,doc:w}),H=!0,(p||g)&&(m=!0)),H&&(L?(h=h.add(L),u=W?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Xa:h,nu:s,Cs:m,mutatedKeys:u}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const h=t.nu.wa();h.sort((T,_)=>function(L,q){const W=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It(20277,{Vt:H})}};return W(L)-W(q)}(T.type,_.type)||this.Za(T.doc,_.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new No(this.query,t.Xa,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new wE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Ft(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new z1(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new B1(s))}),n}au(t){this.Ha=t.$s,this.Ya=Ft();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return No.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const hg="SyncEngine";class s4{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class a4{constructor(t){this.key=t,this.cu=!1}}class o4{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new va(m=>s1(m),rh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ve(St.comparator),this.Eu=new Map,this.du=new eg,this.Au={},this.Ru=new Map,this.Vu=Io.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function l4(i,t,n=!0){const s=$1(i);let o;const u=s.hu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await H1(s,t,n,!0),o}async function u4(i,t){const n=$1(i);await H1(n,t,!0,!1)}async function H1(i,t,n,s){const o=await RD(i.localStore,Ui(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await c4(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&V1(i.remoteStore,o),m}async function c4(i,t,n,s,o){i.fu=(_,w,L)=>async function(W,H,ot,ht){let nt=H.view.tu(ot);nt.Cs&&(nt=await vE(W.localStore,H.query,!1).then(({documents:O})=>H.view.tu(O,nt)));const dt=ht&&ht.targetChanges.get(H.targetId),lt=ht&&ht.targetMismatches.get(H.targetId)!=null,rt=H.view.applyChanges(nt,W.isPrimaryClient,dt,lt);return IE(W,H.targetId,rt.ou),rt.snapshot}(i,_,w,L);const u=await vE(i.localStore,t,!0),h=new r4(t,u.$s),m=h.tu(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);IE(i,n,g.ou);const T=new s4(t,n,h);return i.hu.set(t,T),i.Pu.has(n)?i.Pu.get(n).push(t):i.Pu.set(n,[t]),g.snapshot}async function f4(i,t,n){const s=Ot(i),o=s.hu.get(t),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(h=>!rh(h,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&sg(s.remoteStore,o.targetId),fp(s,o.targetId)}).catch(Uo)):(fp(s,o.targetId),await lp(s.localStore,o.targetId,!0))}async function h4(i,t){const n=Ot(i),s=n.hu.get(t),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),sg(n.remoteStore,s.targetId))}async function d4(i,t,n){const s=E4(i);try{const o=await function(h,m){const p=Ot(h),g=qe.now(),T=m.reduce((L,q)=>L.add(q.key),Ft());let _,w;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let q=xr(),W=Ft();return p.Bs.getEntries(L,T).next(H=>{q=H,q.forEach((ot,ht)=>{ht.isValidDocument()||(W=W.add(ot))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,q)).next(H=>{_=H;const ot=[];for(const ht of m){const nt=RO(ht,_.get(ht.key).overlayedDocument);nt!=null&&ot.push(new _a(ht.key,nt,Zb(nt.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,g,ot,m)}).next(H=>{w=H;const ot=H.applyToLocalDocumentSet(_,W);return p.documentOverlayCache.saveOverlays(L,H.batchId,ot)})}).then(()=>({batchId:w.batchId,changes:l1(_)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Au[h.currentUser.toKey()];g||(g=new ve(kt)),g=g.insert(m,p),h.Au[h.currentUser.toKey()]=g}(s,o.batchId,n),await wu(s,o.changes),await fh(s.remoteStore)}catch(o){const u=cg(o,"Failed to persist write");n.reject(u)}}async function q1(i,t){const n=Ot(i);try{const s=await SD(n.localStore,t);t.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(ee(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?ee(h.cu,14607):o.removedDocuments.size>0&&(ee(h.cu,42227),h.cu=!1))}),await wu(n,s,t)}catch(s){await Uo(s)}}function CE(i,t,n){const s=Ot(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,h)=>{const m=h.view.Fa(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ot(h);p.onlineState=m;let g=!1;p.queries.forEach((T,_)=>{for(const w of _.Sa)w.Fa(m)&&(g=!0)}),g&&fg(p)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function m4(i,t,n){const s=Ot(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let h=new ve(St.comparator);h=h.insert(u,mn.newNoDocument(u,xt.min()));const m=Ft().add(u),p=new lh(xt.min(),new Map,new ve(kt),h,m);await q1(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(t),dg(s)}else await lp(s.localStore,t,!1).then(()=>fp(s,t,n)).catch(Uo)}async function p4(i,t){const n=Ot(i),s=t.batch.batchId;try{const o=await bD(n.localStore,t);G1(n,s,null),F1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wu(n,o)}catch(o){await Uo(o)}}async function g4(i,t,n){const s=Ot(i);try{const o=await function(h,m){const p=Ot(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(_=>(ee(_!==null,37113),T=_.keys(),p.mutationQueue.removeMutationBatch(g,_))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,t);G1(s,t,n),F1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await wu(s,o)}catch(o){await Uo(o)}}function F1(i,t){(i.Ru.get(t)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(t)}function G1(i,t,n){const s=Ot(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function fp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Pu.get(t))i.hu.delete(s),n&&i.lu.gu(s,n);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(s=>{i.du.containsKey(s)||K1(i,s)})}function K1(i,t){i.Tu.delete(t.path.canonicalString());const n=i.Iu.get(t);n!==null&&(sg(i.remoteStore,n),i.Iu=i.Iu.remove(t),i.Eu.delete(n),dg(i))}function IE(i,t,n){for(const s of n)s instanceof B1?(i.du.addReference(s.key,t),y4(i,s)):s instanceof z1?(pt(hg,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,t),i.du.containsKey(s.key)||K1(i,s.key)):It(19791,{pu:s})}function y4(i,t){const n=t.key,s=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(s)||(pt(hg,"New document in limbo: "+n),i.Tu.add(s),dg(i))}function dg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const n=new St(Se.fromString(t)),s=i.Vu.next();i.Eu.set(s,new a4(n)),i.Iu=i.Iu.insert(n,s),V1(i.remoteStore,new ps(Ui(Xp(n.path)),s,"TargetPurposeLimboResolution",th.le))}}async function wu(i,t,n){const s=Ot(i),o=[],u=[],h=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{h.push(s.fu(p,t,n).then(g=>{var T;if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=ig.Rs(p.targetId,g);u.push(_)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(p,g){const T=Ot(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>tt.forEach(g,w=>tt.forEach(w.ds,L=>T.persistence.referenceDelegate.addReference(_,w.targetId,L)).next(()=>tt.forEach(w.As,L=>T.persistence.referenceDelegate.removeReference(_,w.targetId,L)))))}catch(_){if(!jo(_))throw _;pt(rg,"Failed to update sequence numbers: "+_)}for(const _ of g){const w=_.targetId;if(!_.fromCache){const L=T.xs.get(w),q=L.snapshotVersion,W=L.withLastLimboFreeSnapshotVersion(q);T.xs=T.xs.insert(w,W)}}}(s.localStore,u))}async function v4(i,t){const n=Ot(i);if(!n.currentUser.isEqual(t)){pt(hg,"User change. New user:",t.toKey());const s=await x1(n.localStore,t);n.currentUser=t,function(u,h){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new bt(at.CANCELLED,h))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await wu(n,s.ks)}}function _4(i,t){const n=Ot(i),s=n.Eu.get(t);if(s&&s.cu)return Ft().add(s.key);{let o=Ft();const u=n.Pu.get(t);if(!u)return o;for(const h of u){const m=n.hu.get(h);o=o.unionWith(m.view.eu)}return o}}function $1(i){const t=Ot(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=q1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=m4.bind(null,t),t.lu.Y_=e4.bind(null,t.eventManager),t.lu.gu=n4.bind(null,t.eventManager),t}function E4(i){const t=Ot(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=p4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=g4.bind(null,t),t}class Pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return TD(this.persistence,new vD,t.initialUser,this.serializer)}Su(t){return new N1(ng.fi,this.serializer)}bu(t){return new ID}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pf.provider={build:()=>new Pf};class T4 extends Pf{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){ee(this.persistence.referenceDelegate instanceof Vf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iD(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new N1(s=>Vf.fi(s,n),this.serializer)}}class hp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>CE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=v4.bind(null,this.syncEngine),await XD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new ZD}()}createDatastore(t){const n=uh(t.databaseInfo.databaseId),s=function(u){return new MD(u)}(t.databaseInfo);return function(u,h,m,p){return new LD(u,h,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,h,m){return new jD(s,o,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,n=>CE(this.syncEngine,n,0),function(){return TE.C()?new TE:new ND}())}createSyncEngine(t,n){return function(o,u,h,m,p,g,T){const _=new o4(o,u,h,m,p,g);return T&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Ot(o);pt(pa,"RemoteStore shutting down."),u.da.add(5),await Su(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Nr("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class S4{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=Hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{pt(Rs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(pt(Rs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=cg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Vm(i,t){i.asyncQueue.verifyOperationInProgress(),pt(Rs,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await x1(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function NE(i,t){i.asyncQueue.verifyOperationInProgress();const n=await w4(i);pt(Rs,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener(s=>SE(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>SE(t.remoteStore,o)),i._onlineComponents=t}async function w4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pt(Rs,"Using user provided OfflineComponentProvider");try{await Vm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await Vm(i,new Pf)}}else pt(Rs,"Using default OfflineComponentProvider"),await Vm(i,new T4(void 0));return i._offlineComponents}async function Y1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pt(Rs,"Using user provided OnlineComponentProvider"),await NE(i,i._uninitializedComponentsProvider._online)):(pt(Rs,"Using default OnlineComponentProvider"),await NE(i,new hp))),i._onlineComponents}function A4(i){return Y1(i).then(t=>t.syncEngine)}async function R4(i){const t=await Y1(i),n=t.eventManager;return n.onListen=l4.bind(null,t.syncEngine),n.onUnlisten=f4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=u4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=h4.bind(null,t.syncEngine),n}function C4(i,t,n={}){const s=new Es;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const T=new b4({next:w=>{T.xu(),h.enqueueAndForget(()=>t4(u,_));const L=w.docs.has(m);!L&&w.fromCache?g.reject(new bt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&w.fromCache&&p&&p.source==="server"?g.reject(new bt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new i4(Xp(m.path),T,{includeMetadataChanges:!0,Qa:!0});return JD(u,_)}(await R4(i),i.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(i,t,n){if(!n)throw new bt(at.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function N4(i,t,n,s){if(t===!0&&s===!0)throw new bt(at.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function OE(i){if(!St.isDocumentKey(i))throw new bt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function mg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":It(12329,{type:typeof i})}function fu(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new bt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mg(i);throw new bt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firestore.googleapis.com",DE=!0;class ME{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new bt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=X1,this.ssl=DE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:DE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=I1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eD)throw new bt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}N4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q1((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new bt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new bt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new bt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new bt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Ox;switch(s.type){case"firstParty":return new kx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new bt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=xE.get(n);s&&(pt("ComponentProvider","Removing Datastore"),xE.delete(n),s.terminate())}(this),Promise.resolve()}}function x4(i,t,n,s={}){var o;i=fu(i,pg);const u=Vo(t),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${n}`;u&&(GT(`https://${p}`),KT("Firestore",!0)),h.host!==X1&&h.host!==p&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!ca(g,m)&&(i._setSettings(g),s.mockUserToken)){let T,_;if(typeof s.mockUserToken=="string")T=s.mockUserToken,_=dn.MOCK_USER;else{T=qC(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new bt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(w)}i._authCredentials=new Dx(new Bb(T,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new gg(this.firestore,t,this._query)}}class ni{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ni(this.firestore,t,this._key)}}class hu extends gg{constructor(t,n,s){super(t,n,Xp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ni(this.firestore,null,new St(t))}withConverter(t){return new hu(this.firestore,t,this._path)}}function W1(i,t,...n){if(i=pi(i),arguments.length===1&&(t=Hb.newId()),I4("doc","path",t),i instanceof pg){const s=Se.fromString(t,...n);return OE(s),new ni(i,null,new St(s))}{if(!(i instanceof ni||i instanceof hu))throw new bt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Se.fromString(t,...n));return OE(s),new ni(i.firestore,i instanceof hu?i.converter:null,new St(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class kE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new D1(this,"async_queue_retry"),this.rc=()=>{const s=Mm();s&&pt(VE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Es;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!jo(t))throw t;pt(VE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Nr("INTERNAL UNHANDLED ERROR: ",PE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const o=ug.createAndSchedule(this,t,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&It(47125,{cc:PE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function PE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class yg extends pg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new kE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kE(t),this._firestoreClient=void 0,await t}}}function O4(i,t){const n=typeof i=="object"?i:XT(),s=typeof i=="string"?i:Cf,o=Vp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=zC("firestore");u&&x4(o,...u)}return o}function Z1(i){if(i._terminated)throw new bt(at.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||D4(i),i._firestoreClient}function D4(i){var t,n,s;const o=i._freezeSettings(),u=function(m,p,g,T){return new Xx(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Q1(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new S4(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xo(ln.fromBase64String(t))}catch(n){throw new bt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xo(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new bt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new bt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new bt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=/^__.*__$/;class V4{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new _a(t,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(t,this.data,n,this.fieldTransforms)}}function tS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It(40011,{Ic:i})}}class Tg{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Tg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Lf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(tS(this.Ic)&&M4.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class k4{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||uh(t)}bc(t,n,s,o=!1){return new Tg({Ic:t,methodName:n,wc:s,path:on.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P4(i){const t=i._freezeSettings(),n=uh(i._databaseId);return new k4(i._databaseId,!!t.ignoreUndefinedProperties,n)}function L4(i,t,n,s,o,u={}){const h=i.bc(u.merge||u.mergeFields?2:0,t,n,o);rS("Data must be an object, but it was:",h,s);const m=nS(s,h);let p,g;if(u.merge)p=new mi(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const _ of u.mergeFields){const w=U4(t,_,n);if(!h.contains(w))throw new bt(at.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);B4(T,w)||T.push(w)}p=new mi(T),g=h.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,g=h.fieldTransforms;return new V4(new ei(m),p,g)}function eS(i,t){if(iS(i=pi(i)))return rS("Unsupported field value:",t,i),nS(i,t);if(i instanceof J1)return function(s,o){if(!tS(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=eS(m,o.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,t)}return function(s,o){if((s=pi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return EO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=qe.fromDate(s);return{timestampValue:Mf(o.serializer,u)}}if(s instanceof qe){const u=new qe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mf(o.serializer,u)}}if(s instanceof _g)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xo)return{bytesValue:T1(o.serializer,s._byteString)};if(s instanceof ni){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Eg)return function(h,m){return{mapValue:{fields:{[Xb]:{stringValue:Wb},[If]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Wp(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${mg(s)}`)}(i,t)}function nS(i,t){const n={};return Fb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ya(i,(s,o)=>{const u=eS(o,t.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function iS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof qe||i instanceof _g||i instanceof xo||i instanceof ni||i instanceof J1||i instanceof Eg)}function rS(i,t,n){if(!iS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=mg(n);throw s==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+s)}}function U4(i,t,n){if((t=pi(t))instanceof vg)return t._internalPath;if(typeof t=="string")return sS(i,t);throw Lf("Field path arguments must be of type string or ",i,!1,void 0,n)}const j4=new RegExp("[~\\*/\\[\\]]");function sS(i,t,n){if(t.search(j4)>=0)throw Lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new vg(...t.split("."))._internalPath}catch{throw Lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Lf(i,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new bt(at.INVALID_ARGUMENT,m+i+p)}function B4(i,t){return i.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new z4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(oS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z4 extends aS{data(){return super.data()}}function oS(i,t){return typeof t=="string"?sS(i,t):t instanceof vg?t._internalPath:t._delegate._internalPath}class H4{convertValue(t,n="none"){switch(ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw It(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ya(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[If].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Ie(h.doubleValue));return new Eg(u)}convertGeoPoint(t){return new _g(Ie(t.latitude),Ie(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=nh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(au(t));default:return null}}convertTimestamp(t){const n=bs(t);return new qe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Se.fromString(t);ee(C1(s),9688,{name:t});const o=new ou(s.get(1),s.get(3)),u=new St(s.popFirst(5));return o.isEqual(n)||Nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(i,t,n){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lS extends aS{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new G4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(oS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class G4 extends lS{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(i){i=fu(i,ni);const t=fu(i.firestore,yg);return C4(Z1(t),i._key).then(n=>X4(t,i,n))}class $4 extends H4{constructor(t){super(),this.firestore=t}convertBytes(t){return new xo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ni(this.firestore,null,n)}}function Y4(i,t,n){i=fu(i,ni);const s=fu(i.firestore,yg),o=q4(i.converter,t);return Q4(s,[L4(P4(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,wr.none())])}function Q4(i,t){return function(s,o){const u=new Es;return s.asyncQueue.enqueueAndForget(async()=>d4(await A4(s),o,u)),u.promise}(Z1(i),t)}function X4(i,t,n){const s=n.docs.get(t._key),o=new $4(i);return new lS(i,o,t._key,s,new F4(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Lo=o})(ko),So(new fa("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new yg(new Mx(s.getProvider("auth-internal")),new Px(h,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new bt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(g.options.projectId,T)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),vs(H0,q0,t),vs(H0,q0,"esm2017")})();const W4={apiKey:"AIzaSyBozVVinEK5nlXi4xR7_ZE_2tQeSMwN8Us",authDomain:"login-auth-366ba.firebaseapp.com",projectId:"login-auth-366ba",storageBucket:"login-auth-366ba.firebasestorage.app",messagingSenderId:"559443453077",appId:"1:559443453077:web:c5689dced0e72da81ce79c"},Z4=QT(W4),Uf=Cx(),uS=O4(Z4);function J4({logInOpen:i,toggleLogIn:t,toggleSignUp:n,setUserData:s}){const[o,u]=C.useState(""),[h,m]=C.useState(""),p=async g=>{g.preventDefault();try{await mN(Uf,o,h);const T=Uf.currentUser,_=await K4(W1(uS,"Users",T.uid));s(_),console.log("User logged in."),ms.success("Logged in."),t()}catch(T){console.log(T.message),ms.warning(T.message)}};return R.jsxs(R.Fragment,{children:[R.jsx(Hf,{richColors:!0,position:"top-center"}),R.jsxs(Sn,{show:i,onHide:t,children:[R.jsx(Sn.Header,{closeButton:!0,children:R.jsx(bn,{className:"flex-center",children:R.jsx(Sn.Title,{children:"Log in"})})}),R.jsx(Sn.Body,{children:R.jsxs(ke,{onSubmit:g=>p(g),children:[R.jsxs(ke.Group,{className:"mb-3",controlId:"email-input",children:[R.jsx(ke.Label,{children:"Email"}),R.jsx(ke.Control,{autoFocus:!0,required:!0,type:"text",value:o,onChange:g=>u(g.target.value)})]}),R.jsxs(ke.Group,{className:"mb-3",controlId:"password-input",children:[R.jsx(ke.Label,{children:"Password"}),R.jsx(ke.Control,{required:!0,type:"password",value:h,onChange:g=>m(g.target.value)})]}),R.jsx(Ar,{variant:"primary",type:"submit",children:"Log in"})]})}),R.jsxs(Sn.Footer,{className:"flex-center",children:[R.jsx(bn,{className:"flex-center",children:R.jsx("h5",{children:"OR"})}),R.jsx(bn,{className:"flex-center",children:R.jsx(Ar,{variant:"primary",onClick:()=>{t(),n()},children:"Sign up"})})]})]})]})}function tM({signUpOpen:i,toggleSignUp:t}){const[n,s]=C.useState(""),[o,u]=C.useState(""),[h,m]=C.useState(""),[p,g]=C.useState(""),T=async _=>{if(_.preventDefault(),h!==p){console.log("Passwords dont match!"),ms.warning("Passwords don't match!");return}else if(h.length<6){console.log("Password needs to be at least 6 characters long!"),ms.warning("Password is too short - at least 6 characters.");return}else try{await dN(Uf,o,h);const w=Uf.currentUser;console.log(w),w&&await Y4(W1(uS,"Users",w.uid),{email:w.email,nickname:n,practicePlayed:0,pracitceGuessed:0,classicPlayed:0,classicGuessed:0,royalePlayed:0,royaleScore:0,achievements:[]}),ms.success("Signed up."),console.log("User registered successfully."),t()}catch(w){console.log(w.message),ms(w.message)}};return R.jsxs(R.Fragment,{children:[R.jsx(Hf,{richColors:!0,position:"top-center"}),R.jsxs(Sn,{show:i,onHide:t,backdrop:"static",children:[R.jsx(Sn.Header,{closeButton:!0,children:R.jsx(bn,{className:"flex-center",children:R.jsx(Sn.Title,{children:"Sign up"})})}),R.jsx(Sn.Body,{children:R.jsxs(ke,{onSubmit:T,children:[R.jsxs(ke.Group,{className:"mb-3",controlId:"nickname-input",children:[R.jsx(ke.Label,{children:"Nickname"}),R.jsx(ke.Control,{required:!0,type:"text",autoFocus:!0,value:n,onChange:_=>s(_.target.value),placeholder:"example123"})]}),R.jsxs(ke.Group,{required:!0,className:"mb-3",controlId:"email-input",children:[R.jsx(ke.Label,{children:"Email address"}),R.jsx(ke.Control,{required:!0,type:"email",value:o,onChange:_=>u(_.target.value),placeholder:"name@example.com"})]}),R.jsxs(ke.Group,{className:"mb-3",controlId:"password-input",children:[R.jsx(ke.Label,{children:"Password"}),R.jsx(ke.Control,{required:!0,type:"password",value:h,onChange:_=>m(_.target.value),placeholder:"PasswordExample123?!"})]}),R.jsxs(ke.Group,{className:"mb-3",controlId:"repeat-password-input",children:[R.jsx(ke.Label,{children:"Repeat password"}),R.jsx(ke.Control,{required:!0,type:"password",value:p,onChange:_=>g(_.target.value),placeholder:"PasswordExample123?!"})]}),R.jsx(Ar,{variant:"primary",type:"submit",children:"Sign up"})]})}),R.jsxs(Sn.Footer,{className:"flex-center",children:[R.jsx(bn,{className:"flex-center",children:R.jsx("h5",{children:"OR"})}),R.jsx(bn,{className:"flex-center",children:R.jsx(Ar,{variant:"primary",onClick:()=>{console.log("Hello"),t()},children:"Continue with Google"})})]})]})]})}function eM({darkMode:i,toggleDarkMode:t}){return R.jsx(R.Fragment,{children:R.jsxs("div",{className:"dark-mode-button flex-center",children:[R.jsx("input",{type:"checkbox",id:"dark-mode-input",className:"dark-mode-input",onClick:t}),R.jsxs("label",{htmlFor:"dark-mode-input",className:`dark-mode-label ${i}`,children:[R.jsx("div",{className:"night",children:"night"}),R.jsx("div",{className:"day",children:"day"})]})]})})}function nM({darkMode:i,toggleDarkMode:t,toggleLogIn:n,userData:s,setUserData:o,playWordle:u,togglePlayWordle:h}){return R.jsx(Qc,{className:i,children:R.jsxs(bn,{children:[R.jsx(Qc.Brand,{className:"nav-brand",onClick:()=>u&&h(),children:"Wordle"}),R.jsx(Qc.Toggle,{"aria-controls":"basic-navbar-nav"}),R.jsx(Qc.Collapse,{id:"basic-navbar-nav",children:R.jsxs(yC,{className:"me-auto",children:[R.jsx(bn,{className:"stats flex-center",children:R.jsx(Zw,{size:"50%",className:"stats-icon"})}),R.jsx(bn,{className:"info flex-center",children:R.jsx(Ww,{size:"60%",className:"info-icon"})}),s?R.jsx(bn,{className:"button flex-center",children:R.jsx(Ar,{variant:"primary",onClick:()=>o(null),style:{fontSize:"12px",width:"60px"},children:"Log out"})}):R.jsx(bn,{className:"button flex-center",children:R.jsx(Ar,{variant:"primary",onClick:n,style:{fontSize:"12px",width:"60px"},children:"Log in"})}),R.jsx(eM,{toggleDarkMode:t})]})})]})})}function bg({gameMode:i,showDialog:t,setGameResult:n,toggleRestart:s,togglePlayWordle:o}){return R.jsx(R.Fragment,{children:R.jsxs(Sn,{show:t,onHide:()=>n(""),backdrop:"static",children:[R.jsx(Sn.Header,{closeButton:!0,children:R.jsx(bn,{className:"flex-center",children:R.jsx(Sn.Title,{children:"Game over"})})}),R.jsx(Sn.Body,{children:R.jsx(bn,{children:R.jsx("h1",{children:"Hello"})})}),R.jsx(Sn.Footer,{className:"flex-center",children:R.jsxs(bn,{children:[R.jsx(Ar,{onClick:()=>{n(""),o()},children:"Go home"}),i==="practice"&&R.jsx(Ar,{onClick:()=>{n(""),s()},children:"Play again"})]})})]})})}const iM="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function rM({darkMode:i,userData:t,setUserData:n,gameMode:s,togglePlayWordle:o,wordLength:u,numOfGuesses:h}){const[m,p]=C.useState([]),g=C.useRef([]),[T,_]=la(!1),w=C.useRef(new Set),L=C.useRef(0),[q,W]=C.useState("");return C.useEffect(()=>{(async()=>{try{L.current=0;const nt=[...(await(await fetch(iM)).json()).words];nt.forEach(lt=>w.current.add(lt.toUpperCase()));const dt=nt[Math.floor(Math.random()*(nt.length-1))];p(dt.toUpperCase().split("")),g.current=dt.toUpperCase().split(""),console.log(g.current.join(""))}catch(ot){console.error(ot)}})()},[T]),R.jsxs(R.Fragment,{children:[R.jsx(Op,{darkMode:i,userData:t,setUserData:n,gameMode:s,solution:m,wordSet:w,rowIndex:L,gameResult:q,setGameResult:W,wordLength:u,numOfGuesses:h},T),R.jsx(bg,{gameMode:s,showDialog:q,setGameResult:W,toggleRestart:_,togglePlayWordle:o})]})}const sM="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function aM({darkMode:i,userData:t,setUserData:n,gameMode:s,togglePlayWordle:o,wordLength:u,numOfGuesses:h}){const m=C.useRef([]),[p,g]=C.useState([]),[T,_]=C.useState(0),w=C.useRef(1),[L,q]=la(!1),W=C.useRef(new Set),H=C.useRef(0),[ot,ht]=C.useState(""),[nt,dt]=C.useState(!1),[lt,rt]=C.useState([]),[O,A]=C.useState([]);C.useEffect(()=>{(async()=>{try{const I=[...(await(await fetch(sM)).json()).words];for(I.forEach(Gt=>W.current.add(Gt.toUpperCase()));m.current.length<5;){const Gt=I[Math.floor(Math.random()*(I.length-1))];m.current.push(Gt.toUpperCase().split(""))}g(m.current[0]),_(1),m.current.forEach(Gt=>console.log(Gt.join("")))}catch(D){console.error(D)}})()},[]),C.useEffect(()=>{ot&&(ot!=="failed"&&T<h-1?N()?dt(!0):(_(T+1),w.current++,g(m.current[T]),ht(""),H.current=0,q()):dt(!0))},[ot]);const N=()=>T+H.current>h;return R.jsxs(R.Fragment,{children:[R.jsx("div",{style:{color:"white"},children:"Round: "+T}),R.jsx(Op,{darkMode:i,userData:t,setUserData:n,gameMode:s,solution:p,wordSet:W,rowIndex:H,gameResult:ot,setGameResult:ht,wordLength:u,numOfGuesses:h,highLight:h-w.current},L),R.jsx(bg,{gameMode:s,showDialog:nt,setGameResult:ht,toggleRestart:q,togglePlayWordle:o})]})}const oM="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function lM({darkMode:i,userData:t,setUserData:n,gameMode:s,togglePlayWordle:o,wordLength:u,numOfGuesses:h}){const[m,p]=C.useState([]),g=C.useRef([]),[T,_]=la(!1),w=C.useRef(new Set),L=C.useRef(0),[q,W]=C.useState("");return C.useEffect(()=>{(async()=>{try{L.current=0;const nt=[...(await(await fetch(oM)).json()).words];nt.forEach(lt=>w.current.add(lt.toUpperCase()));const dt=nt[Math.floor(Math.random()*(nt.length-1))];p(dt.toUpperCase().split("")),g.current=dt.toUpperCase().split(""),console.log(g.current.join(""))}catch(ot){console.error(ot)}})()},[T]),R.jsxs(R.Fragment,{children:[R.jsx(Op,{darkMode:i,userData:t,setUserData:n,gameMode:s,solution:m,wordSet:w,rowIndex:L,gameResult:q,setGameResult:W,wordLength:u,numOfGuesses:h},T),R.jsx(bg,{gameMode:s,showDialog:q,setGameResult:W,toggleRestart:_,togglePlayWordle:o})]})}function uM(i){return R.jsxs(R.Fragment,{children:[i.gameMode==="classic"&&R.jsx(rM,{...i}),i.gameMode==="royale"&&R.jsx(aM,{...i}),i.gameMode==="practice"&&R.jsx(lM,{...i})]})}function cM(){const[i,t]=IC(!0),[n,s]=la(!1),[o,u]=la(!1),[h,m]=la(!1);la(!1);const[p,g]=C.useState(null),[T,_]=C.useState("practice");return document.querySelector("body").classList=`${i}`,R.jsxs(R.Fragment,{children:[R.jsx(nM,{darkMode:i,toggleDarkMode:t,toggleLogIn:u,userData:p,setUserData:g,playWordle:n,togglePlayWordle:s}),R.jsx("main",{className:`flex-center ${i}`,children:n?R.jsx(uM,{darkMode:i,userData:p,setUserData:g,gameMode:T,togglePlayWordle:s,wordLength:5,numOfGuesses:6}):R.jsx(DC,{togglePlayWordle:s,gameMode:T,setGameMode:_,darkMode:i,userData:p})}),R.jsx(J4,{logInOpen:o,toggleLogIn:u,toggleSignUp:m,setUserData:g}),R.jsx(tM,{signUpOpen:h,toggleSignUp:m,setUserData:g})]})}Hw.createRoot(document.getElementById("root")).render(R.jsx(C.StrictMode,{children:R.jsx(cM,{})}));
