var IE=i=>{throw TypeError(i)};var Vp=(i,t,e)=>t.has(i)||IE("Cannot "+e);var L=(i,t,e)=>(Vp(i,t,"read from private field"),e?e.call(i):t.get(i)),bt=(i,t,e)=>t.has(i)?IE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),gt=(i,t,e,s)=>(Vp(i,t,"write to private field"),s?s.call(i,e):t.set(i,e),e),Ut=(i,t,e)=>(Vp(i,t,"access private method"),e);var ff=(i,t,e,s)=>({set _(o){gt(i,t,o,e)},get _(){return L(i,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function cd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pp={exports:{}},Wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function cC(){if(xE)return Wu;xE=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Wu.Fragment=t,Wu.jsx=e,Wu.jsxs=e,Wu}var OE;function hC(){return OE||(OE=1,Pp.exports=cC()),Pp.exports}var R=hC(),Lp={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function fC(){if(NE)return Lt;NE=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),v=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,q={};function k(V,Y,rt){this.props=V,this.context=Y,this.refs=q,this.updater=rt||O}k.prototype.isReactComponent={},k.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function et(){}et.prototype=k.prototype;function ot(V,Y,rt){this.props=V,this.context=Y,this.refs=q,this.updater=rt||O}var Z=ot.prototype=new et;Z.constructor=ot,U(Z,k.prototype),Z.isPureReactComponent=!0;var lt=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},st=Object.prototype.hasOwnProperty;function D(V,Y,rt,W,ft,Tt){return rt=Tt.ref,{$$typeof:i,type:V,key:Y,ref:rt!==void 0?rt:null,props:Tt}}function A(V,Y){return D(V.type,Y,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function M(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(rt){return Y[rt]})}var P=/\/+/g;function j(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):Y.toString(36)}function x(){}function wt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(x,x):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Pt(V,Y,rt,W,ft){var Tt=typeof V;(Tt==="undefined"||Tt==="boolean")&&(V=null);var pt=!1;if(V===null)pt=!0;else switch(Tt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(V.$$typeof){case i:case t:pt=!0;break;case E:return pt=V._init,Pt(pt(V._payload),Y,rt,W,ft)}}if(pt)return ft=ft(V),pt=W===""?"."+j(V,0):W,lt(ft)?(rt="",pt!=null&&(rt=pt.replace(P,"$&/")+"/"),Pt(ft,Y,rt,"",function(Ae){return Ae})):ft!=null&&(C(ft)&&(ft=A(ft,rt+(ft.key==null||V&&V.key===ft.key?"":(""+ft.key).replace(P,"$&/")+"/")+pt)),Y.push(ft)),1;pt=0;var le=W===""?".":W+":";if(lt(V))for(var qt=0;qt<V.length;qt++)W=V[qt],Tt=le+j(W,qt),pt+=Pt(W,Y,rt,Tt,ft);else if(qt=b(V),typeof qt=="function")for(V=qt.call(V),qt=0;!(W=V.next()).done;)W=W.value,Tt=le+j(W,qt++),pt+=Pt(W,Y,rt,Tt,ft);else if(Tt==="object"){if(typeof V.then=="function")return Pt(wt(V),Y,rt,W,ft);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(V,Y,rt){if(V==null)return V;var W=[],ft=0;return Pt(V,W,"","",function(Tt){return Y.call(rt,Tt,ft++)}),W}function ut(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(rt){(V._status===0||V._status===-1)&&(V._status=1,V._result=rt)},function(rt){(V._status===0||V._status===-1)&&(V._status=2,V._result=rt)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function xt(){}return Lt.Children={map:H,forEach:function(V,Y,rt){H(V,function(){Y.apply(this,arguments)},rt)},count:function(V){var Y=0;return H(V,function(){Y++}),Y},toArray:function(V){return H(V,function(Y){return Y})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Lt.Component=k,Lt.Fragment=e,Lt.Profiler=o,Lt.PureComponent=ot,Lt.StrictMode=s,Lt.Suspense=p,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return at.H.useMemoCache(V)}},Lt.cache=function(V){return function(){return V.apply(null,arguments)}},Lt.cloneElement=function(V,Y,rt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var W=U({},V.props),ft=V.key,Tt=void 0;if(Y!=null)for(pt in Y.ref!==void 0&&(Tt=void 0),Y.key!==void 0&&(ft=""+Y.key),Y)!st.call(Y,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Y.ref===void 0||(W[pt]=Y[pt]);var pt=arguments.length-2;if(pt===1)W.children=rt;else if(1<pt){for(var le=Array(pt),qt=0;qt<pt;qt++)le[qt]=arguments[qt+2];W.children=le}return D(V.type,ft,void 0,void 0,Tt,W)},Lt.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Lt.createElement=function(V,Y,rt){var W,ft={},Tt=null;if(Y!=null)for(W in Y.key!==void 0&&(Tt=""+Y.key),Y)st.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ft[W]=Y[W]);var pt=arguments.length-2;if(pt===1)ft.children=rt;else if(1<pt){for(var le=Array(pt),qt=0;qt<pt;qt++)le[qt]=arguments[qt+2];ft.children=le}if(V&&V.defaultProps)for(W in pt=V.defaultProps,pt)ft[W]===void 0&&(ft[W]=pt[W]);return D(V,Tt,void 0,void 0,null,ft)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(V){return{$$typeof:m,render:V}},Lt.isValidElement=C,Lt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ut}},Lt.memo=function(V,Y){return{$$typeof:g,type:V,compare:Y===void 0?null:Y}},Lt.startTransition=function(V){var Y=at.T,rt={};at.T=rt;try{var W=V(),ft=at.S;ft!==null&&ft(rt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(xt,dt)}catch(Tt){dt(Tt)}finally{at.T=Y}},Lt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Lt.use=function(V){return at.H.use(V)},Lt.useActionState=function(V,Y,rt){return at.H.useActionState(V,Y,rt)},Lt.useCallback=function(V,Y){return at.H.useCallback(V,Y)},Lt.useContext=function(V){return at.H.useContext(V)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(V,Y){return at.H.useDeferredValue(V,Y)},Lt.useEffect=function(V,Y,rt){var W=at.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(V,Y)},Lt.useId=function(){return at.H.useId()},Lt.useImperativeHandle=function(V,Y,rt){return at.H.useImperativeHandle(V,Y,rt)},Lt.useInsertionEffect=function(V,Y){return at.H.useInsertionEffect(V,Y)},Lt.useLayoutEffect=function(V,Y){return at.H.useLayoutEffect(V,Y)},Lt.useMemo=function(V,Y){return at.H.useMemo(V,Y)},Lt.useOptimistic=function(V,Y){return at.H.useOptimistic(V,Y)},Lt.useReducer=function(V,Y,rt){return at.H.useReducer(V,Y,rt)},Lt.useRef=function(V){return at.H.useRef(V)},Lt.useState=function(V){return at.H.useState(V)},Lt.useSyncExternalStore=function(V,Y,rt){return at.H.useSyncExternalStore(V,Y,rt)},Lt.useTransition=function(){return at.H.useTransition()},Lt.version="19.1.0",Lt}var DE;function ny(){return DE||(DE=1,Lp.exports=fC()),Lp.exports}var I=ny();const ct=cd(I);var Up={exports:{}},Zu={},jp={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function dC(){return ME||(ME=1,function(i){function t(H,ut){var dt=H.length;H.push(ut);t:for(;0<dt;){var xt=dt-1>>>1,V=H[xt];if(0<o(V,ut))H[xt]=ut,H[dt]=V,dt=xt;else break t}}function e(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ut=H[0],dt=H.pop();if(dt!==ut){H[0]=dt;t:for(var xt=0,V=H.length,Y=V>>>1;xt<Y;){var rt=2*(xt+1)-1,W=H[rt],ft=rt+1,Tt=H[ft];if(0>o(W,dt))ft<V&&0>o(Tt,W)?(H[xt]=Tt,H[ft]=dt,xt=ft):(H[xt]=W,H[rt]=dt,xt=rt);else if(ft<V&&0>o(Tt,dt))H[xt]=Tt,H[ft]=dt,xt=ft;else break t}}return ut}function o(H,ut){var dt=H.sortIndex-ut.sortIndex;return dt!==0?dt:H.id-ut.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,v=null,b=3,O=!1,U=!1,q=!1,k=!1,et=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function lt(H){for(var ut=e(g);ut!==null;){if(ut.callback===null)s(g);else if(ut.startTime<=H)s(g),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=e(g)}}function at(H){if(q=!1,lt(H),!U)if(e(p)!==null)U=!0,st||(st=!0,j());else{var ut=e(g);ut!==null&&Pt(at,ut.startTime-H)}}var st=!1,D=-1,A=5,C=-1;function M(){return k?!0:!(i.unstable_now()-C<A)}function P(){if(k=!1,st){var H=i.unstable_now();C=H;var ut=!0;try{t:{U=!1,q&&(q=!1,ot(D),D=-1),O=!0;var dt=b;try{e:{for(lt(H),v=e(p);v!==null&&!(v.expirationTime>H&&M());){var xt=v.callback;if(typeof xt=="function"){v.callback=null,b=v.priorityLevel;var V=xt(v.expirationTime<=H);if(H=i.unstable_now(),typeof V=="function"){v.callback=V,lt(H),ut=!0;break e}v===e(p)&&s(p),lt(H)}else s(p);v=e(p)}if(v!==null)ut=!0;else{var Y=e(g);Y!==null&&Pt(at,Y.startTime-H),ut=!1}}break t}finally{v=null,b=dt,O=!1}ut=void 0}}finally{ut?j():st=!1}}}var j;if(typeof Z=="function")j=function(){Z(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,wt=x.port2;x.port1.onmessage=P,j=function(){wt.postMessage(null)}}else j=function(){et(P,0)};function Pt(H,ut){D=et(function(){H(i.unstable_now())},ut)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(H){switch(b){case 1:case 2:case 3:var ut=3;break;default:ut=b}var dt=b;b=ut;try{return H()}finally{b=dt}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(H,ut){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var dt=b;b=H;try{return ut()}finally{b=dt}},i.unstable_scheduleCallback=function(H,ut,dt){var xt=i.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?xt+dt:xt):dt=xt,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,H={id:E++,callback:ut,priorityLevel:H,startTime:dt,expirationTime:V,sortIndex:-1},dt>xt?(H.sortIndex=dt,t(g,H),e(p)===null&&H===e(g)&&(q?(ot(D),D=-1):q=!0,Pt(at,dt-xt))):(H.sortIndex=V,t(p,H),U||O||(U=!0,st||(st=!0,j()))),H},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(H){var ut=b;return function(){var dt=b;b=ut;try{return H.apply(this,arguments)}finally{b=dt}}}}(Bp)),Bp}var kE;function mC(){return kE||(kE=1,jp.exports=dC()),jp.exports}var zp={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function pC(){if(VE)return En;VE=1;var i=ny();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,E){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,En.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,E)},En.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},En.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},En.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},En.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,v=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},En.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},En.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,v=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},En.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},En.requestFormReset=function(p){s.d.r(p)},En.unstable_batchedUpdates=function(p,g){return p(g)},En.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},En.useFormStatus=function(){return h.H.useHostTransitionStatus()},En.version="19.1.0",En}var PE;function Zb(){if(PE)return zp.exports;PE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),zp.exports=pC(),zp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function gC(){if(LE)return Zu;LE=1;var i=mC(),t=ny(),e=Zb();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===u)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=d;else{for(var T=!1,w=f.child;w;){if(w===a){T=!0,a=f,u=d;break}if(w===u){T=!0,u=f,a=d;break}w=w.sibling}if(!T){for(w=d.child;w;){if(w===a){T=!0,a=d,u=f;break}if(w===u){T=!0,u=d,a=f;break}w=w.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function wt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case k:return"Profiler";case q:return"StrictMode";case at:return"Suspense";case st:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case O:return"Portal";case Z:return(n.displayName||"Context")+".Provider";case ot:return(n._context.displayName||"Context")+".Consumer";case lt:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return r=n.displayName||null,r!==null?r:wt(n.type)||"Memo";case A:r=n._payload,n=n._init;try{return wt(n(r))}catch{}}return null}var Pt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},xt=[],V=-1;function Y(n){return{current:n}}function rt(n){0>V||(n.current=xt[V],xt[V]=null,V--)}function W(n,r){V++,xt[V]=n.current,n.current=r}var ft=Y(null),Tt=Y(null),pt=Y(null),le=Y(null);function qt(n,r){switch(W(pt,r),W(Tt,n),W(ft,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?nE(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=nE(r),n=iE(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}rt(ft),W(ft,n)}function Ae(){rt(ft),rt(Tt),rt(pt)}function Ne(n){n.memoizedState!==null&&W(le,n);var r=ft.current,a=iE(r,n.type);r!==a&&(W(Tt,n),W(ft,a))}function vn(n){Tt.current===n&&(rt(ft),rt(Tt)),le.current===n&&(rt(le),Ku._currentValue=dt)}var ln=Object.prototype.hasOwnProperty,In=i.unstable_scheduleCallback,tn=i.unstable_cancelCallback,ee=i.unstable_shouldYield,si=i.unstable_requestPaint,ve=i.unstable_now,os=i.unstable_getCurrentPriorityLevel,un=i.unstable_ImmediatePriority,Ui=i.unstable_UserBlockingPriority,Ti=i.unstable_NormalPriority,qe=i.unstable_LowPriority,xn=i.unstable_IdlePriority,ji=i.log,ls=i.unstable_setDisableYieldValue,_t=null,Ht=null;function Ge(n){if(typeof ji=="function"&&ls(n),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(_t,n)}catch{}}var Pe=Math.clz32?Math.clz32:Ln,bi=Math.log,_o=Math.LN2;function Ln(n){return n>>>=0,n===0?32:31-(bi(n)/_o|0)|0}var mr=256,pr=4194304;function Un(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gr(n,r,a){var u=n.pendingLanes;if(u===0)return 0;var f=0,d=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var w=u&134217727;return w!==0?(u=w&~d,u!==0?f=Un(u):(T&=w,T!==0?f=Un(T):a||(a=w&~n,a!==0&&(f=Un(a))))):(w=u&~d,w!==0?f=Un(w):T!==0?f=Un(T):a||(a=u&~n,a!==0&&(f=Un(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function yr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function vr(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(){var n=mr;return mr<<=1,(mr&4194048)===0&&(mr=256),n}function ga(){var n=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),n}function wi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ai(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function us(n,r,a,u,f,d){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,K=n.hiddenUpdates;for(a=T&~a;0<a;){var J=31-Pe(a),nt=1<<J;w[J]=0,N[J]=-1;var Q=K[J];if(Q!==null)for(K[J]=null,J=0;J<Q.length;J++){var $=Q[J];$!==null&&($.lane&=-536870913)}a&=~nt}u!==0&&At(n,u,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(T&~r))}function At(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Pe(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194090}function _e(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-Pe(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function ye(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Le(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function $n(){var n=ut.p;return n!==0?n:(n=window.event,n===void 0?32:bE(n.type))}function Re(n,r){var a=ut.p;try{return ut.p=n,r()}finally{ut.p=a}}var Gt=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Gt,ne="__reactProps$"+Gt,Te="__reactContainer$"+Gt,cs="__reactEvents$"+Gt,Si="__reactListeners$"+Gt,_r="__reactHandles$"+Gt,Gc="__reactResources$"+Gt,ya="__reactMarker$"+Gt;function hs(n){delete n[Ee],delete n[ne],delete n[cs],delete n[Si],delete n[_r]}function Er(n){var r=n[Ee];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Te]||a[Ee]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=oE(n);n!==null;){if(a=n[Ee])return a;n=oE(n)}return r}n=a,a=n.parentNode}return null}function Bi(n){if(n=n[Ee]||n[Te]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function zi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function On(n){var r=n[Gc];return r||(r=n[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function De(n){n[ya]=!0}var Zl=new Set,Eo={};function Ai(n,r){Tr(n,r),Tr(n+"Capture",r)}function Tr(n,r){for(Eo[n]=r,n=0;n<r.length;n++)Zl.add(r[n])}var Kc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qc={},va={};function $c(n){return ln.call(va,n)?!0:ln.call(Qc,n)?!1:Kc.test(n)?va[n]=!0:(Qc[n]=!0,!1)}function fs(n,r,a){if($c(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Hi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function cn(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}var _a,Yc;function br(n){if(_a===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);_a=r&&r[1]||"",Yc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+n+Yc}var To=!1;function bo(n,r){if(!n||To)return"";To=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var Q=$}Reflect.construct(n,[],nt)}else{try{nt.call()}catch($){Q=$}n.call(nt.prototype)}}else{try{throw Error()}catch($){Q=$}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&Q&&typeof $.stack=="string")return[$.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),T=d[0],w=d[1];if(T&&w){var N=T.split(`
`),K=w.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===K.length)for(u=N.length-1,f=K.length-1;1<=u&&0<=f&&N[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==K[f]){var J=`
`+N[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=f);break}}}finally{To=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?br(a):""}function Jl(n){switch(n.tag){case 26:case 27:case 5:return br(n.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 15:return bo(n.type,!1);case 11:return bo(n.type.render,!1);case 1:return bo(n.type,!0);case 31:return br("Activity");default:return""}}function wo(n){try{var r="";do r+=Jl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function tu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jd(n){var r=tu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,d.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function So(n){n._valueTracker||(n._valueTracker=jd(n))}function eu(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=tu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function Ea(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Bd=/[\n"\\]/g;function Ue(n){return n.replace(Bd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Yn(n,r,a,u,f,d,T,w){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Nn(r)):n.value!==""+Nn(r)&&(n.value=""+Nn(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?ds(n,T,Nn(r)):a!=null?ds(n,T,Nn(a)):u!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+Nn(w):n.removeAttribute("name")}function Ta(n,r,a,u,f,d,T,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Nn(a):"",r=r!=null?""+Nn(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function ds(n,r,a){r==="number"&&Ea(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function wr(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Nn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function he(n,r,a){if(r!=null&&(r=""+Nn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Nn(a):""}function ba(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(Pt(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Nn(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function oi(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xc(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||wa.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function nu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&Xc(n,f,u)}else for(var d in r)r.hasOwnProperty(d)&&Xc(n,d,r[d])}function iu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(n){return Hd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Sr=null;function li(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ar=null,Rr=null;function ru(n){var r=Bi(n);if(r&&(n=r.stateNode)){var a=n[ne]||null;t:switch(n=r.stateNode,r.type){case"input":if(Yn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ue(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[ne]||null;if(!f)throw Error(s(90));Yn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&eu(u)}break t;case"textarea":he(n,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&wr(n,!!a.multiple,r,!1)}}}var Fi=!1;function Wc(n,r,a){if(Fi)return n(r,a);Fi=!0;try{var u=n(r);return u}finally{if(Fi=!1,(Ar!==null||Rr!==null)&&(qh(),Ar&&(r=Ar,n=Rr,Rr=Ar=null,ru(r),n)))for(r=0;r<n.length;r++)ru(n[r])}}function Sa(n,r){var a=n.stateNode;if(a===null)return null;var u=a[ne]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=!1;if(Ri)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){ui=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{ui=!1}var qi=null,ms=null,Cr=null;function su(){if(Cr)return Cr;var n,r=ms,a=r.length,u,f="value"in qi?qi.value:qi.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(u=1;u<=T&&r[a-u]===f[d-u];u++);return Cr=f.slice(n,1<u?1-u:void 0)}function Gi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ki(){return!0}function au(){return!1}function en(n){function r(a,u,f,d,T){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:au,this.isPropagationStopped=au,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),r}var se={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=en(se),Ra=E({},se,{view:0,detail:0}),Zc=en(Ra),Co,Io,Qi,Ca=E({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qi&&(Qi&&n.type==="mousemove"?(Co=n.screenX-Qi.screenX,Io=n.screenY-Qi.screenY):Io=Co=0,Qi=n),Co)},movementY:function(n){return"movementY"in n?n.movementY:Io}}),ci=en(Ca),Jc=E({},Ca,{dataTransfer:0}),Fd=en(Jc),Ia=E({},Ra,{relatedTarget:0}),xo=en(Ia),ou=E({},se,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=en(ou),th=E({},se,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),No=en(th),qd=E({},se,{data:0}),lu=en(qd),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=nh[n])?!!r[n]:!1}function Oa(){return uu}var ih=E({},Ra,{key:function(n){if(n.key){var r=xa[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Gi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?eh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(n){return n.type==="keypress"?Gi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Do=en(ih),rh=E({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=en(rh),Ir=E({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),sh=en(Ir),ah=E({},se,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=en(ah),lh=E({},Ca,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Mo=en(lh),Dn=E({},se,{newState:0,oldState:0}),uh=en(Dn),ch=[9,13,27,32],$i=Ri&&"CompositionEvent"in window,c=null;Ri&&"documentMode"in document&&(c=document.documentMode);var y=Ri&&"TextEvent"in window&&!c,_=Ri&&(!$i||c&&8<c&&11>=c),S=" ",F=!1;function X(n,r){switch(n){case"keyup":return ch.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wt=!1;function Ke(n,r){switch(n){case"compositionend":return mt(r);case"keypress":return r.which!==32?null:(F=!0,S);case"textInput":return n=r.data,n===S&&F?null:n;default:return null}}function Zt(n,r){if(Wt)return n==="compositionend"||!$i&&X(n,r)?(n=su(),Cr=ms=qi=null,Wt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qe(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!nn[n.type]:r==="textarea"}function xr(n,r,a,u){Ar?Rr?Rr.push(u):Rr=[u]:Ar=u,r=Xh(r,"onChange"),0<r.length&&(a=new Ro("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var hn=null,Yi=null;function hu(n){W0(n,0)}function hh(n){var r=zi(n);if(eu(r))return n}function vv(n,r){if(n==="change")return r}var _v=!1;if(Ri){var Gd;if(Ri){var Kd="oninput"in document;if(!Kd){var Ev=document.createElement("div");Ev.setAttribute("oninput","return;"),Kd=typeof Ev.oninput=="function"}Gd=Kd}else Gd=!1;_v=Gd&&(!document.documentMode||9<document.documentMode)}function Tv(){hn&&(hn.detachEvent("onpropertychange",bv),Yi=hn=null)}function bv(n){if(n.propertyName==="value"&&hh(Yi)){var r=[];xr(r,Yi,n,li(n)),Wc(hu,r)}}function BA(n,r,a){n==="focusin"?(Tv(),hn=r,Yi=a,hn.attachEvent("onpropertychange",bv)):n==="focusout"&&Tv()}function zA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hh(Yi)}function HA(n,r){if(n==="click")return hh(r)}function FA(n,r){if(n==="input"||n==="change")return hh(r)}function qA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Xn=typeof Object.is=="function"?Object.is:qA;function fu(n,r){if(Xn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!ln.call(r,f)||!Xn(n[f],r[f]))return!1}return!0}function wv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sv(n,r){var a=wv(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=wv(a)}}function Av(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Av(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Rv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ea(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ea(n.document)}return r}function Qd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var GA=Ri&&"documentMode"in document&&11>=document.documentMode,ko=null,$d=null,du=null,Yd=!1;function Cv(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yd||ko==null||ko!==Ea(u)||(u=ko,"selectionStart"in u&&Qd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),du&&fu(du,u)||(du=u,u=Xh($d,"onSelect"),0<u.length&&(r=new Ro("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=ko)))}function Na(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Vo={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Xd={},Iv={};Ri&&(Iv=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Da(n){if(Xd[n])return Xd[n];if(!Vo[n])return n;var r=Vo[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Iv)return Xd[n]=r[a];return n}var xv=Da("animationend"),Ov=Da("animationiteration"),Nv=Da("animationstart"),KA=Da("transitionrun"),QA=Da("transitionstart"),$A=Da("transitioncancel"),Dv=Da("transitionend"),Mv=new Map,Wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wd.push("scrollEnd");function Ci(n,r){Mv.set(n,r),Ai(r,[n])}var kv=new WeakMap;function hi(n,r){if(typeof n=="object"&&n!==null){var a=kv.get(n);return a!==void 0?a:(r={value:n,source:r,stack:wo(r)},kv.set(n,r),r)}return{value:n,source:r,stack:wo(r)}}var fi=[],Po=0,Zd=0;function fh(){for(var n=Po,r=Zd=Po=0;r<n;){var a=fi[r];fi[r++]=null;var u=fi[r];fi[r++]=null;var f=fi[r];fi[r++]=null;var d=fi[r];if(fi[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}d!==0&&Vv(a,f,d)}}function dh(n,r,a,u){fi[Po++]=n,fi[Po++]=r,fi[Po++]=a,fi[Po++]=u,Zd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Jd(n,r,a,u){return dh(n,r,a,u),mh(n)}function Lo(n,r){return dh(n,null,null,r),mh(n)}function Vv(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Pe(a),n=d.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=a|536870912),d):null}function mh(n){if(50<Uu)throw Uu=0,sp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Uo={};function YA(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(n,r,a,u){return new YA(n,r,a,u)}function tm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Or(n,r){var a=n.alternate;return a===null?(a=Wn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Pv(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function ph(n,r,a,u,f,d){var T=0;if(u=n,typeof n=="function")tm(n)&&(T=1);else if(typeof n=="string")T=WR(n,a,ft.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case C:return n=Wn(31,a,r,f),n.elementType=C,n.lanes=d,n;case U:return Ma(a.children,f,d,r);case q:T=8,f|=24;break;case k:return n=Wn(12,a,r,f|2),n.elementType=k,n.lanes=d,n;case at:return n=Wn(13,a,r,f),n.elementType=at,n.lanes=d,n;case st:return n=Wn(19,a,r,f),n.elementType=st,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case et:case Z:T=10;break t;case ot:T=9;break t;case lt:T=11;break t;case D:T=14;break t;case A:T=16,u=null;break t}T=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Wn(T,a,r,f),r.elementType=n,r.type=u,r.lanes=d,r}function Ma(n,r,a,u){return n=Wn(7,n,u,r),n.lanes=a,n}function em(n,r,a){return n=Wn(6,n,null,r),n.lanes=a,n}function nm(n,r,a){return r=Wn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var jo=[],Bo=0,gh=null,yh=0,di=[],mi=0,ka=null,Nr=1,Dr="";function Va(n,r){jo[Bo++]=yh,jo[Bo++]=gh,gh=n,yh=r}function Lv(n,r,a){di[mi++]=Nr,di[mi++]=Dr,di[mi++]=ka,ka=n;var u=Nr;n=Dr;var f=32-Pe(u)-1;u&=~(1<<f),a+=1;var d=32-Pe(r)+f;if(30<d){var T=f-f%5;d=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Nr=1<<32-Pe(r)+f|a<<f|u,Dr=d+n}else Nr=1<<d|a<<f|u,Dr=n}function im(n){n.return!==null&&(Va(n,1),Lv(n,1,0))}function rm(n){for(;n===gh;)gh=jo[--Bo],jo[Bo]=null,yh=jo[--Bo],jo[Bo]=null;for(;n===ka;)ka=di[--mi],di[mi]=null,Dr=di[--mi],di[mi]=null,Nr=di[--mi],di[mi]=null}var Mn=null,Ce=null,re=!1,Pa=null,Xi=!1,sm=Error(s(519));function La(n){var r=Error(s(418,""));throw gu(hi(r,n)),sm}function Uv(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Ee]=n,r[ne]=u,a){case"dialog":Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(a=0;a<Bu.length;a++)Qt(Bu[a],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"input":Qt("invalid",r),Ta(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),So(r);break;case"select":Qt("invalid",r);break;case"textarea":Qt("invalid",r),ba(r,u.value,u.defaultValue,u.children),So(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||eE(r.textContent,a)?(u.popover!=null&&(Qt("beforetoggle",r),Qt("toggle",r)),u.onScroll!=null&&Qt("scroll",r),u.onScrollEnd!=null&&Qt("scrollend",r),u.onClick!=null&&(r.onclick=Wh),r=!0):r=!1,r||La(n)}function jv(n){for(Mn=n.return;Mn;)switch(Mn.tag){case 5:case 13:Xi=!1;return;case 27:case 3:Xi=!0;return;default:Mn=Mn.return}}function mu(n){if(n!==Mn)return!1;if(!re)return jv(n),re=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Tp(n.type,n.memoizedProps)),a=!a),a&&Ce&&La(n),jv(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Ce=xi(n.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Ce=null}}else r===27?(r=Ce,Os(n.type)?(n=Ap,Ap=null,Ce=n):Ce=r):Ce=Mn?xi(n.stateNode.nextSibling):null;return!0}function pu(){Ce=Mn=null,re=!1}function Bv(){var n=Pa;return n!==null&&(Hn===null?Hn=n:Hn.push.apply(Hn,n),Pa=null),n}function gu(n){Pa===null?Pa=[n]:Pa.push(n)}var am=Y(null),Ua=null,Mr=null;function ps(n,r,a){W(am,r._currentValue),r._currentValue=a}function kr(n){n._currentValue=am.current,rt(am)}function om(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function lm(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=f;for(var N=0;N<r.length;N++)if(w.context===r[N]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),om(d.return,a,n),u||(T=null);break t}d=w.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),om(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function yu(n,r,a,u){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=f.type;Xn(f.pendingProps.value,T.value)||(n!==null?n.push(w):n=[w])}}else if(f===le.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ku):n=[Ku])}f=f.return}n!==null&&lm(r,n,a,u),r.flags|=262144}function vh(n){for(n=n.firstContext;n!==null;){if(!Xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ja(n){Ua=n,Mr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function _n(n){return zv(Ua,n)}function _h(n,r){return Ua===null&&ja(n),zv(n,r)}function zv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Mr===null){if(n===null)throw Error(s(308));Mr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Mr=Mr.next=r;return a}var XA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},WA=i.unstable_scheduleCallback,ZA=i.unstable_NormalPriority,$e={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function um(){return{controller:new XA,data:new Map,refCount:0}}function vu(n){n.refCount--,n.refCount===0&&WA(ZA,function(){n.controller.abort()})}var _u=null,cm=0,zo=0,Ho=null;function JA(n,r){if(_u===null){var a=_u=[];cm=0,zo=fp(),Ho={status:"pending",value:void 0,then:function(u){a.push(u)}}}return cm++,r.then(Hv,Hv),r}function Hv(){if(--cm===0&&_u!==null){Ho!==null&&(Ho.status="fulfilled");var n=_u;_u=null,zo=0,Ho=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function tR(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Fv=H.S;H.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&JA(n,r),Fv!==null&&Fv(n,r)};var Ba=Y(null);function hm(){var n=Ba.current;return n!==null?n:ge.pooledCache}function Eh(n,r){r===null?W(Ba,Ba.current):W(Ba,r.pool)}function qv(){var n=hm();return n===null?null:{parent:$e._currentValue,pool:n}}var Eu=Error(s(460)),Gv=Error(s(474)),Th=Error(s(542)),fm={then:function(){}};function Kv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bh(){}function Qv(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(bh,bh),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Yv(n),n;default:if(typeof r.status=="string")r.then(bh,bh);else{if(n=ge,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Yv(n),n}throw Tu=r,Eu}}var Tu=null;function $v(){if(Tu===null)throw Error(s(459));var n=Tu;return Tu=null,n}function Yv(n){if(n===Eu||n===Th)throw Error(s(483))}var gs=!1;function dm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mm(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ys(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function vs(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ue&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=mh(n),Vv(n,null,a),r}return dh(n,u,r,a),mh(n)}function bu(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,_e(n,a)}}function pm(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var gm=!1;function wu(){if(gm){var n=Ho;if(n!==null)throw n}}function Su(n,r,a,u){gm=!1;var f=n.updateQueue;gs=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,K=N.next;N.next=null,T===null?d=K:T.next=K,T=N;var J=n.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==T&&(w===null?J.firstBaseUpdate=K:w.next=K,J.lastBaseUpdate=N))}if(d!==null){var nt=f.baseState;T=0,J=K=N=null,w=d;do{var Q=w.lane&-536870913,$=Q!==w.lane;if($?(Jt&Q)===Q:(u&Q)===Q){Q!==0&&Q===zo&&(gm=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Nt=n,Rt=w;Q=r;var me=a;switch(Rt.tag){case 1:if(Nt=Rt.payload,typeof Nt=="function"){nt=Nt.call(me,nt,Q);break t}nt=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Rt.payload,Q=typeof Nt=="function"?Nt.call(me,nt,Q):Nt,Q==null)break t;nt=E({},nt,Q);break t;case 2:gs=!0}}Q=w.callback,Q!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[Q]:$.push(Q))}else $={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(K=J=$,N=nt):J=J.next=$,T|=Q;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;$=w,w=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);J===null&&(N=nt),f.baseState=N,f.firstBaseUpdate=K,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Rs|=T,n.lanes=T,n.memoizedState=nt}}function Xv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Wv(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Xv(a[n],r)}var Fo=Y(null),wh=Y(0);function Zv(n,r){n=zr,W(wh,n),W(Fo,r),zr=n|r.baseLanes}function ym(){W(wh,zr),W(Fo,Fo.current)}function vm(){zr=wh.current,rt(Fo),rt(wh)}var _s=0,Bt=null,fe=null,je=null,Sh=!1,qo=!1,za=!1,Ah=0,Au=0,Go=null,eR=0;function Me(){throw Error(s(321))}function _m(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Xn(n[a],r[a]))return!1;return!0}function Em(n,r,a,u,f,d){return _s=d,Bt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=n===null||n.memoizedState===null?V_:P_,za=!1,d=a(u,f),za=!1,qo&&(d=t_(r,a,u,f)),Jv(n),d}function Jv(n){H.H=Nh;var r=fe!==null&&fe.next!==null;if(_s=0,je=fe=Bt=null,Sh=!1,Au=0,Go=null,r)throw Error(s(300));n===null||rn||(n=n.dependencies,n!==null&&vh(n)&&(rn=!0))}function t_(n,r,a,u){Bt=n;var f=0;do{if(qo&&(Go=null),Au=0,qo=!1,25<=f)throw Error(s(301));if(f+=1,je=fe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=lR,d=r(a,u)}while(qo);return d}function nR(){var n=H.H,r=n.useState()[0];return r=typeof r.then=="function"?Ru(r):r,n=n.useState()[0],(fe!==null?fe.memoizedState:null)!==n&&(Bt.flags|=1024),r}function Tm(){var n=Ah!==0;return Ah=0,n}function bm(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function wm(n){if(Sh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Sh=!1}_s=0,je=fe=Bt=null,qo=!1,Au=Ah=0,Go=null}function Bn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Bt.memoizedState=je=n:je=je.next=n,je}function Be(){if(fe===null){var n=Bt.alternate;n=n!==null?n.memoizedState:null}else n=fe.next;var r=je===null?Bt.memoizedState:je.next;if(r!==null)je=r,fe=n;else{if(n===null)throw Bt.alternate===null?Error(s(467)):Error(s(310));fe=n,n={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},je===null?Bt.memoizedState=je=n:je=je.next=n}return je}function Sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ru(n){var r=Au;return Au+=1,Go===null&&(Go=[]),n=Qv(Go,n,r),r=Bt,(je===null?r.memoizedState:je.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?V_:P_),n}function Rh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ru(n);if(n.$$typeof===Z)return _n(n)}throw Error(s(438,String(n)))}function Am(n){var r=null,a=Bt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Bt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Sm(),Bt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=M;return r.index++,a}function Vr(n,r){return typeof r=="function"?r(n):r}function Ch(n){var r=Be();return Rm(r,fe,n)}function Rm(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,d=u.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}r.baseQueue=f=d,u.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var w=T=null,N=null,K=r,J=!1;do{var nt=K.lane&-536870913;if(nt!==K.lane?(Jt&nt)===nt:(_s&nt)===nt){var Q=K.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),nt===zo&&(J=!0);else if((_s&Q)===Q){K=K.next,Q===zo&&(J=!0);continue}else nt={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(w=N=nt,T=d):N=N.next=nt,Bt.lanes|=Q,Rs|=Q;nt=K.action,za&&a(d,nt),d=K.hasEagerState?K.eagerState:a(d,nt)}else Q={lane:nt,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(w=N=Q,T=d):N=N.next=Q,Bt.lanes|=nt,Rs|=nt;K=K.next}while(K!==null&&K!==r);if(N===null?T=d:N.next=w,!Xn(d,n.memoizedState)&&(rn=!0,J&&(a=Ho,a!==null)))throw a;n.memoizedState=d,n.baseState=T,n.baseQueue=N,u.lastRenderedState=d}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Cm(n){var r=Be(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do d=n(d,T.action),T=T.next;while(T!==f);Xn(d,r.memoizedState)||(rn=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function e_(n,r,a){var u=Bt,f=Be(),d=re;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!Xn((fe||f).memoizedState,a);T&&(f.memoizedState=a,rn=!0),f=f.queue;var w=r_.bind(null,u,f,n);if(Cu(2048,8,w,[n]),f.getSnapshot!==r||T||je!==null&&je.memoizedState.tag&1){if(u.flags|=2048,Ko(9,Ih(),i_.bind(null,u,f,a,r),null),ge===null)throw Error(s(349));d||(_s&124)!==0||n_(u,r,a)}return a}function n_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Bt.updateQueue,r===null?(r=Sm(),Bt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function i_(n,r,a,u){r.value=a,r.getSnapshot=u,s_(r)&&a_(n)}function r_(n,r,a){return a(function(){s_(r)&&a_(n)})}function s_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Xn(n,a)}catch{return!0}}function a_(n){var r=Lo(n,2);r!==null&&ni(r,n,2)}function Im(n){var r=Bn();if(typeof n=="function"){var a=n;if(n=a(),za){Ge(!0);try{a()}finally{Ge(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:n},r}function o_(n,r,a,u){return n.baseState=a,Rm(n,fe,typeof u=="function"?u:Vr)}function iR(n,r,a,u,f){if(Oh(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};H.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,l_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function l_(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var d=H.T,T={};H.T=T;try{var w=a(f,u),N=H.S;N!==null&&N(T,w),u_(n,r,w)}catch(K){xm(n,r,K)}finally{H.T=d}}else try{d=a(f,u),u_(n,r,d)}catch(K){xm(n,r,K)}}function u_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){c_(n,r,u)},function(u){return xm(n,r,u)}):c_(n,r,a)}function c_(n,r,a){r.status="fulfilled",r.value=a,h_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,l_(n,a)))}function xm(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,h_(r),r=r.next;while(r!==u)}n.action=null}function h_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function f_(n,r){return r}function d_(n,r){if(re){var a=ge.formState;if(a!==null){t:{var u=Bt;if(re){if(Ce){e:{for(var f=Ce,d=Xi;f.nodeType!==8;){if(!d){f=null;break e}if(f=xi(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ce=xi(f.nextSibling),u=f.data==="F!";break t}}La(u)}u=!1}u&&(r=a[0])}}return a=Bn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f_,lastRenderedState:r},a.queue=u,a=D_.bind(null,Bt,u),u.dispatch=a,u=Im(!1),d=km.bind(null,Bt,!1,u.queue),u=Bn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=iR.bind(null,Bt,f,d,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function m_(n){var r=Be();return p_(r,fe,n)}function p_(n,r,a){if(r=Rm(n,r,f_)[0],n=Ch(Vr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ru(r)}catch(T){throw T===Eu?Th:T}else u=r;r=Be();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Bt.flags|=2048,Ko(9,Ih(),rR.bind(null,f,a),null)),[u,d,n]}function rR(n,r){n.action=r}function g_(n){var r=Be(),a=fe;if(a!==null)return p_(r,a,n);Be(),r=r.memoizedState,a=Be();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Ko(n,r,a,u){return n={tag:n,create:a,deps:u,inst:r,next:null},r=Bt.updateQueue,r===null&&(r=Sm(),Bt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function Ih(){return{destroy:void 0,resource:void 0}}function y_(){return Be().memoizedState}function xh(n,r,a,u){var f=Bn();u=u===void 0?null:u,Bt.flags|=n,f.memoizedState=Ko(1|r,Ih(),a,u)}function Cu(n,r,a,u){var f=Be();u=u===void 0?null:u;var d=f.memoizedState.inst;fe!==null&&u!==null&&_m(u,fe.memoizedState.deps)?f.memoizedState=Ko(r,d,a,u):(Bt.flags|=n,f.memoizedState=Ko(1|r,d,a,u))}function v_(n,r){xh(8390656,8,n,r)}function __(n,r){Cu(2048,8,n,r)}function E_(n,r){return Cu(4,2,n,r)}function T_(n,r){return Cu(4,4,n,r)}function b_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function w_(n,r,a){a=a!=null?a.concat([n]):null,Cu(4,4,b_.bind(null,r,n),a)}function Om(){}function S_(n,r){var a=Be();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&_m(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function A_(n,r){var a=Be();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&_m(r,u[1]))return u[0];if(u=n(),za){Ge(!0);try{n()}finally{Ge(!1)}}return a.memoizedState=[u,r],u}function Nm(n,r,a){return a===void 0||(_s&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=I0(),Bt.lanes|=n,Rs|=n,a)}function R_(n,r,a,u){return Xn(a,r)?a:Fo.current!==null?(n=Nm(n,a,u),Xn(n,r)||(rn=!0),n):(_s&42)===0?(rn=!0,n.memoizedState=a):(n=I0(),Bt.lanes|=n,Rs|=n,r)}function C_(n,r,a,u,f){var d=ut.p;ut.p=d!==0&&8>d?d:8;var T=H.T,w={};H.T=w,km(n,!1,r,a);try{var N=f(),K=H.S;if(K!==null&&K(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=tR(N,u);Iu(n,r,J,ei(n))}else Iu(n,r,u,ei(n))}catch(nt){Iu(n,r,{then:function(){},status:"rejected",reason:nt},ei())}finally{ut.p=d,H.T=T}}function sR(){}function Dm(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=I_(n).queue;C_(n,f,r,dt,a===null?sR:function(){return x_(n),a(u)})}function I_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:dt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function x_(n){var r=I_(n).next.queue;Iu(n,r,{},ei())}function Mm(){return _n(Ku)}function O_(){return Be().memoizedState}function N_(){return Be().memoizedState}function aR(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=ei();n=ys(a);var u=vs(r,n,a);u!==null&&(ni(u,r,a),bu(u,r,a)),r={cache:um()},n.payload=r;return}r=r.return}}function oR(n,r,a){var u=ei();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Oh(n)?M_(r,a):(a=Jd(n,r,a,u),a!==null&&(ni(a,n,u),k_(a,r,u)))}function D_(n,r,a){var u=ei();Iu(n,r,a,u)}function Iu(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oh(n))M_(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var T=r.lastRenderedState,w=d(T,a);if(f.hasEagerState=!0,f.eagerState=w,Xn(w,T))return dh(n,r,f,0),ge===null&&fh(),!1}catch{}finally{}if(a=Jd(n,r,f,u),a!==null)return ni(a,n,u),k_(a,r,u),!0}return!1}function km(n,r,a,u){if(u={lane:2,revertLane:fp(),action:u,hasEagerState:!1,eagerState:null,next:null},Oh(n)){if(r)throw Error(s(479))}else r=Jd(n,a,u,2),r!==null&&ni(r,n,2)}function Oh(n){var r=n.alternate;return n===Bt||r!==null&&r===Bt}function M_(n,r){qo=Sh=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function k_(n,r,a){if((a&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,_e(n,a)}}var Nh={readContext:_n,use:Rh,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},V_={readContext:_n,use:Rh,useCallback:function(n,r){return Bn().memoizedState=[n,r===void 0?null:r],n},useContext:_n,useEffect:v_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,xh(4194308,4,b_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return xh(4194308,4,n,r)},useInsertionEffect:function(n,r){xh(4,2,n,r)},useMemo:function(n,r){var a=Bn();r=r===void 0?null:r;var u=n();if(za){Ge(!0);try{n()}finally{Ge(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=Bn();if(a!==void 0){var f=a(r);if(za){Ge(!0);try{a(r)}finally{Ge(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=oR.bind(null,Bt,n),[u.memoizedState,n]},useRef:function(n){var r=Bn();return n={current:n},r.memoizedState=n},useState:function(n){n=Im(n);var r=n.queue,a=D_.bind(null,Bt,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Om,useDeferredValue:function(n,r){var a=Bn();return Nm(a,n,r)},useTransition:function(){var n=Im(!1);return n=C_.bind(null,Bt,n.queue,!0,!1),Bn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Bt,f=Bn();if(re){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ge===null)throw Error(s(349));(Jt&124)!==0||n_(u,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,v_(r_.bind(null,u,d,n),[n]),u.flags|=2048,Ko(9,Ih(),i_.bind(null,u,d,a,r),null),a},useId:function(){var n=Bn(),r=ge.identifierPrefix;if(re){var a=Dr,u=Nr;a=(u&~(1<<32-Pe(u)-1)).toString(32)+a,r=""+r+"R"+a,a=Ah++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=eR++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Mm,useFormState:d_,useActionState:d_,useOptimistic:function(n){var r=Bn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=km.bind(null,Bt,!0,a),a.dispatch=r,[n,r]},useMemoCache:Am,useCacheRefresh:function(){return Bn().memoizedState=aR.bind(null,Bt)}},P_={readContext:_n,use:Rh,useCallback:S_,useContext:_n,useEffect:__,useImperativeHandle:w_,useInsertionEffect:E_,useLayoutEffect:T_,useMemo:A_,useReducer:Ch,useRef:y_,useState:function(){return Ch(Vr)},useDebugValue:Om,useDeferredValue:function(n,r){var a=Be();return R_(a,fe.memoizedState,n,r)},useTransition:function(){var n=Ch(Vr)[0],r=Be().memoizedState;return[typeof n=="boolean"?n:Ru(n),r]},useSyncExternalStore:e_,useId:O_,useHostTransitionStatus:Mm,useFormState:m_,useActionState:m_,useOptimistic:function(n,r){var a=Be();return o_(a,fe,n,r)},useMemoCache:Am,useCacheRefresh:N_},lR={readContext:_n,use:Rh,useCallback:S_,useContext:_n,useEffect:__,useImperativeHandle:w_,useInsertionEffect:E_,useLayoutEffect:T_,useMemo:A_,useReducer:Cm,useRef:y_,useState:function(){return Cm(Vr)},useDebugValue:Om,useDeferredValue:function(n,r){var a=Be();return fe===null?Nm(a,n,r):R_(a,fe.memoizedState,n,r)},useTransition:function(){var n=Cm(Vr)[0],r=Be().memoizedState;return[typeof n=="boolean"?n:Ru(n),r]},useSyncExternalStore:e_,useId:O_,useHostTransitionStatus:Mm,useFormState:g_,useActionState:g_,useOptimistic:function(n,r){var a=Be();return fe!==null?o_(a,fe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Am,useCacheRefresh:N_},Qo=null,xu=0;function Dh(n){var r=xu;return xu+=1,Qo===null&&(Qo=[]),Qv(Qo,n,r)}function Ou(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Mh(n,r){throw r.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function L_(n){var r=n._init;return r(n._payload)}function U_(n){function r(z,B){if(n){var G=z.deletions;G===null?(z.deletions=[B],z.flags|=16):G.push(B)}}function a(z,B){if(!n)return null;for(;B!==null;)r(z,B),B=B.sibling;return null}function u(z){for(var B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function f(z,B){return z=Or(z,B),z.index=0,z.sibling=null,z}function d(z,B,G){return z.index=G,n?(G=z.alternate,G!==null?(G=G.index,G<B?(z.flags|=67108866,B):G):(z.flags|=67108866,B)):(z.flags|=1048576,B)}function T(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function w(z,B,G,tt){return B===null||B.tag!==6?(B=em(G,z.mode,tt),B.return=z,B):(B=f(B,G),B.return=z,B)}function N(z,B,G,tt){var vt=G.type;return vt===U?J(z,B,G.props.children,tt,G.key):B!==null&&(B.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&L_(vt)===B.type)?(B=f(B,G.props),Ou(B,G),B.return=z,B):(B=ph(G.type,G.key,G.props,null,z.mode,tt),Ou(B,G),B.return=z,B)}function K(z,B,G,tt){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=nm(G,z.mode,tt),B.return=z,B):(B=f(B,G.children||[]),B.return=z,B)}function J(z,B,G,tt,vt){return B===null||B.tag!==7?(B=Ma(G,z.mode,tt,vt),B.return=z,B):(B=f(B,G),B.return=z,B)}function nt(z,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=em(""+B,z.mode,G),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return G=ph(B.type,B.key,B.props,null,z.mode,G),Ou(G,B),G.return=z,G;case O:return B=nm(B,z.mode,G),B.return=z,B;case A:var tt=B._init;return B=tt(B._payload),nt(z,B,G)}if(Pt(B)||j(B))return B=Ma(B,z.mode,G,null),B.return=z,B;if(typeof B.then=="function")return nt(z,Dh(B),G);if(B.$$typeof===Z)return nt(z,_h(z,B),G);Mh(z,B)}return null}function Q(z,B,G,tt){var vt=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return vt!==null?null:w(z,B,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===vt?N(z,B,G,tt):null;case O:return G.key===vt?K(z,B,G,tt):null;case A:return vt=G._init,G=vt(G._payload),Q(z,B,G,tt)}if(Pt(G)||j(G))return vt!==null?null:J(z,B,G,tt,null);if(typeof G.then=="function")return Q(z,B,Dh(G),tt);if(G.$$typeof===Z)return Q(z,B,_h(z,G),tt);Mh(z,G)}return null}function $(z,B,G,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(G)||null,w(B,z,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return z=z.get(tt.key===null?G:tt.key)||null,N(B,z,tt,vt);case O:return z=z.get(tt.key===null?G:tt.key)||null,K(B,z,tt,vt);case A:var Ft=tt._init;return tt=Ft(tt._payload),$(z,B,G,tt,vt)}if(Pt(tt)||j(tt))return z=z.get(G)||null,J(B,z,tt,vt,null);if(typeof tt.then=="function")return $(z,B,G,Dh(tt),vt);if(tt.$$typeof===Z)return $(z,B,G,_h(B,tt),vt);Mh(B,tt)}return null}function Nt(z,B,G,tt){for(var vt=null,Ft=null,Et=B,It=B=0,an=null;Et!==null&&It<G.length;It++){Et.index>It?(an=Et,Et=null):an=Et.sibling;var ie=Q(z,Et,G[It],tt);if(ie===null){Et===null&&(Et=an);break}n&&Et&&ie.alternate===null&&r(z,Et),B=d(ie,B,It),Ft===null?vt=ie:Ft.sibling=ie,Ft=ie,Et=an}if(It===G.length)return a(z,Et),re&&Va(z,It),vt;if(Et===null){for(;It<G.length;It++)Et=nt(z,G[It],tt),Et!==null&&(B=d(Et,B,It),Ft===null?vt=Et:Ft.sibling=Et,Ft=Et);return re&&Va(z,It),vt}for(Et=u(Et);It<G.length;It++)an=$(Et,z,It,G[It],tt),an!==null&&(n&&an.alternate!==null&&Et.delete(an.key===null?It:an.key),B=d(an,B,It),Ft===null?vt=an:Ft.sibling=an,Ft=an);return n&&Et.forEach(function(Vs){return r(z,Vs)}),re&&Va(z,It),vt}function Rt(z,B,G,tt){if(G==null)throw Error(s(151));for(var vt=null,Ft=null,Et=B,It=B=0,an=null,ie=G.next();Et!==null&&!ie.done;It++,ie=G.next()){Et.index>It?(an=Et,Et=null):an=Et.sibling;var Vs=Q(z,Et,ie.value,tt);if(Vs===null){Et===null&&(Et=an);break}n&&Et&&Vs.alternate===null&&r(z,Et),B=d(Vs,B,It),Ft===null?vt=Vs:Ft.sibling=Vs,Ft=Vs,Et=an}if(ie.done)return a(z,Et),re&&Va(z,It),vt;if(Et===null){for(;!ie.done;It++,ie=G.next())ie=nt(z,ie.value,tt),ie!==null&&(B=d(ie,B,It),Ft===null?vt=ie:Ft.sibling=ie,Ft=ie);return re&&Va(z,It),vt}for(Et=u(Et);!ie.done;It++,ie=G.next())ie=$(Et,z,It,ie.value,tt),ie!==null&&(n&&ie.alternate!==null&&Et.delete(ie.key===null?It:ie.key),B=d(ie,B,It),Ft===null?vt=ie:Ft.sibling=ie,Ft=ie);return n&&Et.forEach(function(uC){return r(z,uC)}),re&&Va(z,It),vt}function me(z,B,G,tt){if(typeof G=="object"&&G!==null&&G.type===U&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var vt=G.key;B!==null;){if(B.key===vt){if(vt=G.type,vt===U){if(B.tag===7){a(z,B.sibling),tt=f(B,G.props.children),tt.return=z,z=tt;break t}}else if(B.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&L_(vt)===B.type){a(z,B.sibling),tt=f(B,G.props),Ou(tt,G),tt.return=z,z=tt;break t}a(z,B);break}else r(z,B);B=B.sibling}G.type===U?(tt=Ma(G.props.children,z.mode,tt,G.key),tt.return=z,z=tt):(tt=ph(G.type,G.key,G.props,null,z.mode,tt),Ou(tt,G),tt.return=z,z=tt)}return T(z);case O:t:{for(vt=G.key;B!==null;){if(B.key===vt)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){a(z,B.sibling),tt=f(B,G.children||[]),tt.return=z,z=tt;break t}else{a(z,B);break}else r(z,B);B=B.sibling}tt=nm(G,z.mode,tt),tt.return=z,z=tt}return T(z);case A:return vt=G._init,G=vt(G._payload),me(z,B,G,tt)}if(Pt(G))return Nt(z,B,G,tt);if(j(G)){if(vt=j(G),typeof vt!="function")throw Error(s(150));return G=vt.call(G),Rt(z,B,G,tt)}if(typeof G.then=="function")return me(z,B,Dh(G),tt);if(G.$$typeof===Z)return me(z,B,_h(z,G),tt);Mh(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(a(z,B.sibling),tt=f(B,G),tt.return=z,z=tt):(a(z,B),tt=em(G,z.mode,tt),tt.return=z,z=tt),T(z)):a(z,B)}return function(z,B,G,tt){try{xu=0;var vt=me(z,B,G,tt);return Qo=null,vt}catch(Et){if(Et===Eu||Et===Th)throw Et;var Ft=Wn(29,Et,null,z.mode);return Ft.lanes=tt,Ft.return=z,Ft}finally{}}}var $o=U_(!0),j_=U_(!1),pi=Y(null),Wi=null;function Es(n){var r=n.alternate;W(Ye,Ye.current&1),W(pi,n),Wi===null&&(r===null||Fo.current!==null||r.memoizedState!==null)&&(Wi=n)}function B_(n){if(n.tag===22){if(W(Ye,Ye.current),W(pi,n),Wi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Wi=n)}}else Ts()}function Ts(){W(Ye,Ye.current),W(pi,pi.current)}function Pr(n){rt(pi),Wi===n&&(Wi=null),rt(Ye)}var Ye=Y(0);function kh(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Sp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Vm(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:E({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Pm={enqueueSetState:function(n,r,a){n=n._reactInternals;var u=ei(),f=ys(u);f.payload=r,a!=null&&(f.callback=a),r=vs(n,f,u),r!==null&&(ni(r,n,u),bu(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=ei(),f=ys(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=vs(n,f,u),r!==null&&(ni(r,n,u),bu(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=ei(),u=ys(a);u.tag=2,r!=null&&(u.callback=r),r=vs(n,u,a),r!==null&&(ni(r,n,a),bu(r,n,a))}};function z_(n,r,a,u,f,d,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,T):r.prototype&&r.prototype.isPureReactComponent?!fu(a,u)||!fu(f,d):!0}function H_(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&Pm.enqueueReplaceState(r,r.state,null)}function Ha(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Vh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function F_(n){Vh(n)}function q_(n){console.error(n)}function G_(n){Vh(n)}function Ph(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function K_(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Lm(n,r,a){return a=ys(a),a.tag=3,a.payload={element:null},a.callback=function(){Ph(n,r)},a}function Q_(n){return n=ys(n),n.tag=3,n}function $_(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;n.payload=function(){return f(d)},n.callback=function(){K_(r,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){K_(r,a,u),typeof f!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function uR(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&yu(r,a,f,!0),a=pi.current,a!==null){switch(a.tag){case 13:return Wi===null?op():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===fm?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),up(n,u,f)),!1;case 22:return a.flags|=65536,u===fm?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),up(n,u,f)),!1}throw Error(s(435,a.tag))}return up(n,u,f),op(),!1}if(re)return r=pi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==sm&&(n=Error(s(422),{cause:u}),gu(hi(n,a)))):(u!==sm&&(r=Error(s(423),{cause:u}),gu(hi(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=hi(u,a),f=Lm(n.stateNode,u,f),pm(n,f),Ie!==4&&(Ie=2)),!1;var d=Error(s(520),{cause:u});if(d=hi(d,a),Lu===null?Lu=[d]:Lu.push(d),Ie!==4&&(Ie=2),r===null)return!0;u=hi(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Lm(a.stateNode,u,n),pm(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cs===null||!Cs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Q_(f),$_(f,n,a,u),pm(a,f),!1}a=a.return}while(a!==null);return!1}var Y_=Error(s(461)),rn=!1;function fn(n,r,a,u){r.child=n===null?j_(r,null,a,u):$o(r,n.child,a,u)}function X_(n,r,a,u,f){a=a.render;var d=r.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ja(r),u=Em(n,r,a,T,d,f),w=Tm(),n!==null&&!rn?(bm(n,r,f),Lr(n,r,f)):(re&&w&&im(r),r.flags|=1,fn(n,r,u,f),r.child)}function W_(n,r,a,u,f){if(n===null){var d=a.type;return typeof d=="function"&&!tm(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Z_(n,r,d,u,f)):(n=ph(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Gm(n,f)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:fu,a(T,u)&&n.ref===r.ref)return Lr(n,r,f)}return r.flags|=1,n=Or(d,u),n.ref=r.ref,n.return=r,r.child=n}function Z_(n,r,a,u,f){if(n!==null){var d=n.memoizedProps;if(fu(d,u)&&n.ref===r.ref)if(rn=!1,r.pendingProps=u=d,Gm(n,f))(n.flags&131072)!==0&&(rn=!0);else return r.lanes=n.lanes,Lr(n,r,f)}return Um(n,r,a,u,f)}function J_(n,r,a){var u=r.pendingProps,f=u.children,d=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~u}else r.childLanes=0,r.child=null;return t0(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Eh(r,d!==null?d.cachePool:null),d!==null?Zv(r,d):ym(),B_(r);else return r.lanes=r.childLanes=536870912,t0(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Eh(r,d.cachePool),Zv(r,d),Ts(),r.memoizedState=null):(n!==null&&Eh(r,null),ym(),Ts());return fn(n,r,f,a),r.child}function t0(n,r,a,u){var f=hm();return f=f===null?null:{parent:$e._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Eh(r,null),ym(),B_(r),n!==null&&yu(n,r,u,!0),null}function Lh(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Um(n,r,a,u,f){return ja(r),a=Em(n,r,a,u,void 0,f),u=Tm(),n!==null&&!rn?(bm(n,r,f),Lr(n,r,f)):(re&&u&&im(r),r.flags|=1,fn(n,r,a,f),r.child)}function e0(n,r,a,u,f,d){return ja(r),r.updateQueue=null,a=t_(r,u,a,f),Jv(n),u=Tm(),n!==null&&!rn?(bm(n,r,d),Lr(n,r,d)):(re&&u&&im(r),r.flags|=1,fn(n,r,a,d),r.child)}function n0(n,r,a,u,f){if(ja(r),r.stateNode===null){var d=Uo,T=a.contextType;typeof T=="object"&&T!==null&&(d=_n(T)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pm,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},dm(r),T=a.contextType,d.context=typeof T=="object"&&T!==null?_n(T):Uo,d.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Vm(r,a,T,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&Pm.enqueueReplaceState(d,d.state,null),Su(r,u,d,f),wu(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){d=r.stateNode;var w=r.memoizedProps,N=Ha(a,w);d.props=N;var K=d.context,J=a.contextType;T=Uo,typeof J=="object"&&J!==null&&(T=_n(J));var nt=a.getDerivedStateFromProps;J=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||K!==T)&&H_(r,d,u,T),gs=!1;var Q=r.memoizedState;d.state=Q,Su(r,u,d,f),wu(),K=r.memoizedState,w||Q!==K||gs?(typeof nt=="function"&&(Vm(r,a,nt,u),K=r.memoizedState),(N=gs||z_(r,a,N,u,Q,K,T))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),d.props=u,d.state=K,d.context=T,u=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,mm(n,r),T=r.memoizedProps,J=Ha(a,T),d.props=J,nt=r.pendingProps,Q=d.context,K=a.contextType,N=Uo,typeof K=="object"&&K!==null&&(N=_n(K)),w=a.getDerivedStateFromProps,(K=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==nt||Q!==N)&&H_(r,d,u,N),gs=!1,Q=r.memoizedState,d.state=Q,Su(r,u,d,f),wu();var $=r.memoizedState;T!==nt||Q!==$||gs||n!==null&&n.dependencies!==null&&vh(n.dependencies)?(typeof w=="function"&&(Vm(r,a,w,u),$=r.memoizedState),(J=gs||z_(r,a,J,u,Q,$,N)||n!==null&&n.dependencies!==null&&vh(n.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,$,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,$,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),d.props=u,d.state=$,d.context=N,u=J):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),u=!1)}return d=u,Lh(n,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&u?(r.child=$o(r,n.child,null,f),r.child=$o(r,null,a,f)):fn(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Lr(n,r,f),n}function i0(n,r,a,u){return pu(),r.flags|=256,fn(n,r,a,u),r.child}var jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bm(n){return{baseLanes:n,cachePool:qv()}}function zm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=gi),n}function r0(n,r,a){var u=r.pendingProps,f=!1,d=(r.flags&128)!==0,T;if((T=d)||(T=n!==null&&n.memoizedState===null?!1:(Ye.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(re){if(f?Es(r):Ts(),re){var w=Ce,N;if(N=w){t:{for(N=w,w=Xi;N.nodeType!==8;){if(!w){w=null;break t}if(N=xi(N.nextSibling),N===null){w=null;break t}}w=N}w!==null?(r.memoizedState={dehydrated:w,treeContext:ka!==null?{id:Nr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},N=Wn(18,null,null,0),N.stateNode=w,N.return=r,r.child=N,Mn=r,Ce=null,N=!0):N=!1}N||La(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Sp(w)?r.lanes=32:r.lanes=536870912,null;Pr(r)}return w=u.children,u=u.fallback,f?(Ts(),f=r.mode,w=Uh({mode:"hidden",children:w},f),u=Ma(u,f,a,null),w.return=r,u.return=r,w.sibling=u,r.child=w,f=r.child,f.memoizedState=Bm(a),f.childLanes=zm(n,T,a),r.memoizedState=jm,u):(Es(r),Hm(r,w))}if(N=n.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(d)r.flags&256?(Es(r),r.flags&=-257,r=Fm(n,r,a)):r.memoizedState!==null?(Ts(),r.child=n.child,r.flags|=128,r=null):(Ts(),f=u.fallback,w=r.mode,u=Uh({mode:"visible",children:u.children},w),f=Ma(f,w,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,$o(r,n.child,null,a),u=r.child,u.memoizedState=Bm(a),u.childLanes=zm(n,T,a),r.memoizedState=jm,r=f);else if(Es(r),Sp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(s(419)),u.stack="",u.digest=T,gu({value:u,source:null,stack:null}),r=Fm(n,r,a)}else if(rn||yu(n,r,a,!1),T=(a&n.childLanes)!==0,rn||T){if(T=ge,T!==null&&(u=a&-a,u=(u&42)!==0?1:ye(u),u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,Lo(n,u),ni(T,n,u),Y_;w.data==="$?"||op(),r=Fm(n,r,a)}else w.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=N.treeContext,Ce=xi(w.nextSibling),Mn=r,re=!0,Pa=null,Xi=!1,n!==null&&(di[mi++]=Nr,di[mi++]=Dr,di[mi++]=ka,Nr=n.id,Dr=n.overflow,ka=r),r=Hm(r,u.children),r.flags|=4096);return r}return f?(Ts(),f=u.fallback,w=r.mode,N=n.child,K=N.sibling,u=Or(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,K!==null?f=Or(K,f):(f=Ma(f,w,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,w=n.child.memoizedState,w===null?w=Bm(a):(N=w.cachePool,N!==null?(K=$e._currentValue,N=N.parent!==K?{parent:K,pool:K}:N):N=qv(),w={baseLanes:w.baseLanes|a,cachePool:N}),f.memoizedState=w,f.childLanes=zm(n,T,a),r.memoizedState=jm,u):(Es(r),a=n.child,n=a.sibling,a=Or(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function Hm(n,r){return r=Uh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Uh(n,r){return n=Wn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Fm(n,r,a){return $o(r,n.child,null,a),n=Hm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function s0(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),om(n.return,r,a)}function qm(n,r,a,u,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=a,d.tailMode=f)}function a0(n,r,a){var u=r.pendingProps,f=u.revealOrder,d=u.tail;if(fn(n,r,u.children,a),u=Ye.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&s0(n,a,r);else if(n.tag===19)s0(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(W(Ye,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&kh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),qm(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&kh(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}qm(r,!0,a,null,d);break;case"together":qm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Lr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Rs|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(yu(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Or(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Or(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Gm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&vh(n)))}function cR(n,r,a){switch(r.tag){case 3:qt(r,r.stateNode.containerInfo),ps(r,$e,n.memoizedState.cache),pu();break;case 27:case 5:Ne(r);break;case 4:qt(r,r.stateNode.containerInfo);break;case 10:ps(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Es(r),r.flags|=128,null):(a&r.child.childLanes)!==0?r0(n,r,a):(Es(r),n=Lr(n,r,a),n!==null?n.sibling:null);Es(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(yu(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return a0(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(Ye,Ye.current),u)break;return null;case 22:case 23:return r.lanes=0,J_(n,r,a);case 24:ps(r,$e,n.memoizedState.cache)}return Lr(n,r,a)}function o0(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)rn=!0;else{if(!Gm(n,a)&&(r.flags&128)===0)return rn=!1,cR(n,r,a);rn=(n.flags&131072)!==0}else rn=!1,re&&(r.flags&1048576)!==0&&Lv(r,yh,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")tm(u)?(n=Ha(u,n),r.tag=1,r=n0(null,r,u,n,a)):(r.tag=0,r=Um(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===lt){r.tag=11,r=X_(null,r,u,n,a);break t}else if(f===D){r.tag=14,r=W_(null,r,u,n,a);break t}}throw r=wt(u)||u,Error(s(306,r,""))}}return r;case 0:return Um(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=Ha(u,r.pendingProps),n0(n,r,u,f,a);case 3:t:{if(qt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var d=r.memoizedState;f=d.element,mm(n,r),Su(r,u,null,a);var T=r.memoizedState;if(u=T.cache,ps(r,$e,u),u!==d.cache&&lm(r,[$e],a,!0),wu(),u=T.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=i0(n,r,u,a);break t}else if(u!==f){f=hi(Error(s(424)),r),gu(f),r=i0(n,r,u,a);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ce=xi(n.firstChild),Mn=r,re=!0,Pa=null,Xi=!0,a=j_(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pu(),u===f){r=Lr(n,r,a);break t}fn(n,r,u,a)}r=r.child}return r;case 26:return Lh(n,r),n===null?(a=hE(r.type,null,r.pendingProps,null))?r.memoizedState=a:re||(a=r.type,n=r.pendingProps,u=Zh(pt.current).createElement(a),u[Ee]=r,u[ne]=n,mn(u,a,n),De(u),r.stateNode=u):r.memoizedState=hE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ne(r),n===null&&re&&(u=r.stateNode=lE(r.type,r.pendingProps,pt.current),Mn=r,Xi=!0,f=Ce,Os(r.type)?(Ap=f,Ce=xi(u.firstChild)):Ce=f),fn(n,r,r.pendingProps.children,a),Lh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&re&&((f=u=Ce)&&(u=UR(u,r.type,r.pendingProps,Xi),u!==null?(r.stateNode=u,Mn=r,Ce=xi(u.firstChild),Xi=!1,f=!0):f=!1),f||La(r)),Ne(r),f=r.type,d=r.pendingProps,T=n!==null?n.memoizedProps:null,u=d.children,Tp(f,d)?u=null:T!==null&&Tp(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Em(n,r,nR,null,null,a),Ku._currentValue=f),Lh(n,r),fn(n,r,u,a),r.child;case 6:return n===null&&re&&((n=a=Ce)&&(a=jR(a,r.pendingProps,Xi),a!==null?(r.stateNode=a,Mn=r,Ce=null,n=!0):n=!1),n||La(r)),null;case 13:return r0(n,r,a);case 4:return qt(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=$o(r,null,u,a):fn(n,r,u,a),r.child;case 11:return X_(n,r,r.type,r.pendingProps,a);case 7:return fn(n,r,r.pendingProps,a),r.child;case 8:return fn(n,r,r.pendingProps.children,a),r.child;case 12:return fn(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,ps(r,r.type,u.value),fn(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ja(r),f=_n(f),u=u(f),r.flags|=1,fn(n,r,u,a),r.child;case 14:return W_(n,r,r.type,r.pendingProps,a);case 15:return Z_(n,r,r.type,r.pendingProps,a);case 19:return a0(n,r,a);case 31:return u=r.pendingProps,a=r.mode,u={mode:u.mode,children:u.children},n===null?(a=Uh(u,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Or(n.child,u),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return J_(n,r,a);case 24:return ja(r),u=_n($e),n===null?(f=hm(),f===null&&(f=ge,d=um(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:u,cache:f},dm(r),ps(r,$e,f)):((n.lanes&a)!==0&&(mm(n,r),Su(r,null,null,a),wu()),f=n.memoizedState,d=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ps(r,$e,u)):(u=d.cache,ps(r,$e,u),u!==f.cache&&lm(r,[$e],a,!0))),fn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ur(n){n.flags|=4}function l0(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!gE(r)){if(r=pi.current,r!==null&&((Jt&4194048)===Jt?Wi!==null:(Jt&62914560)!==Jt&&(Jt&536870912)===0||r!==Wi))throw Tu=fm,Gv;n.flags|=8192}}function jh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?ga():536870912,n.lanes|=r,Zo|=r)}function Nu(n,r){if(!re)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function we(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function hR(n,r,a){var u=r.pendingProps;switch(rm(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(r),null;case 1:return we(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),kr($e),Ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(mu(r)?Ur(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bv())),we(r),null;case 26:return a=r.memoizedState,n===null?(Ur(r),a!==null?(we(r),l0(r,a)):(we(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Ur(r),we(r),l0(r,a)):(we(r),r.flags&=-16777217):(n.memoizedProps!==u&&Ur(r),we(r),r.flags&=-16777217),null;case 27:vn(r),a=pt.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ur(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return we(r),null}n=ft.current,mu(r)?Uv(r):(n=lE(f,u,a),r.stateNode=n,Ur(r))}return we(r),null;case 5:if(vn(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ur(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return we(r),null}if(n=ft.current,mu(r))Uv(r);else{switch(f=Zh(pt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Ee]=r,n[ne]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;t:switch(mn(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Ur(r)}}return we(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Ur(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=pt.current,mu(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Ee]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||eE(n.nodeValue,a)),n||La(r)}else n=Zh(n).createTextNode(u),n[Ee]=r,r.stateNode=n}return we(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=mu(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ee]=r}else pu(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;we(r),f=!1}else f=Bv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Pr(r),r):(Pr(r),null)}if(Pr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var d=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),jh(r,r.updateQueue),we(r),null;case 4:return Ae(),n===null&&gp(r.stateNode.containerInfo),we(r),null;case 10:return kr(r.type),we(r),null;case 19:if(rt(Ye),f=r.memoizedState,f===null)return we(r),null;if(u=(r.flags&128)!==0,d=f.rendering,d===null)if(u)Nu(f,!1);else{if(Ie!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=kh(n),d!==null){for(r.flags|=128,Nu(f,!1),n=d.updateQueue,r.updateQueue=n,jh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Pv(a,n),a=a.sibling;return W(Ye,Ye.current&1|2),r.child}n=n.sibling}f.tail!==null&&ve()>Hh&&(r.flags|=128,u=!0,Nu(f,!1),r.lanes=4194304)}else{if(!u)if(n=kh(d),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,jh(r,n),Nu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!re)return we(r),null}else 2*ve()-f.renderingStartTime>Hh&&a!==536870912&&(r.flags|=128,u=!0,Nu(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=ve(),r.sibling=null,n=Ye.current,W(Ye,u?n&1|2:n&1),r):(we(r),null);case 22:case 23:return Pr(r),vm(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(we(r),r.subtreeFlags&6&&(r.flags|=8192)):we(r),a=r.updateQueue,a!==null&&jh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&rt(Ba),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),kr($e),we(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function fR(n,r){switch(rm(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return kr($e),Ae(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return vn(r),null;case 13:if(Pr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));pu()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return rt(Ye),null;case 4:return Ae(),null;case 10:return kr(r.type),null;case 22:case 23:return Pr(r),vm(),n!==null&&rt(Ba),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return kr($e),null;case 25:return null;default:return null}}function u0(n,r){switch(rm(r),r.tag){case 3:kr($e),Ae();break;case 26:case 27:case 5:vn(r);break;case 4:Ae();break;case 13:Pr(r);break;case 19:rt(Ye);break;case 10:kr(r.type);break;case 22:case 23:Pr(r),vm(),n!==null&&rt(Ba);break;case 24:kr($e)}}function Du(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var d=a.create,T=a.inst;u=d(),T.destroy=u}a=a.next}while(a!==f)}}catch(w){pe(r,r.return,w)}}function bs(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&n)===n){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,f=r;var N=a,K=w;try{K()}catch(J){pe(f,N,J)}}}u=u.next}while(u!==d)}}catch(J){pe(r,r.return,J)}}function c0(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Wv(r,a)}catch(u){pe(n,n.return,u)}}}function h0(n,r,a){a.props=Ha(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){pe(n,r,u)}}function Mu(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(f){pe(n,r,f)}}function Zi(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){pe(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){pe(n,r,f)}else a.current=null}function f0(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){pe(n,n.return,f)}}function Km(n,r,a){try{var u=n.stateNode;MR(u,n.type,a,r),u[ne]=r}catch(f){pe(n,n.return,f)}}function d0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Os(n.type)||n.tag===4}function Qm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||d0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Os(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $m(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Wh));else if(u!==4&&(u===27&&Os(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for($m(n,r,a),n=n.sibling;n!==null;)$m(n,r,a),n=n.sibling}function Bh(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&(u===27&&Os(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Bh(n,r,a),n=n.sibling;n!==null;)Bh(n,r,a),n=n.sibling}function m0(n){var r=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);mn(r,u,a),r[Ee]=n,r[ne]=a}catch(d){pe(n,n.return,d)}}var jr=!1,ke=!1,Ym=!1,p0=typeof WeakSet=="function"?WeakSet:Set,sn=null;function dR(n,r){if(n=n.containerInfo,_p=sf,n=Rv(n),Qd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var T=0,w=-1,N=-1,K=0,J=0,nt=n,Q=null;e:for(;;){for(var $;nt!==a||f!==0&&nt.nodeType!==3||(w=T+f),nt!==d||u!==0&&nt.nodeType!==3||(N=T+u),nt.nodeType===3&&(T+=nt.nodeValue.length),($=nt.firstChild)!==null;)Q=nt,nt=$;for(;;){if(nt===n)break e;if(Q===a&&++K===f&&(w=T),Q===d&&++J===u&&(N=T),($=nt.nextSibling)!==null)break;nt=Q,Q=nt.parentNode}nt=$}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ep={focusedElem:n,selectionRange:a},sf=!1,sn=r;sn!==null;)if(r=sn,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,sn=n;else for(;sn!==null;){switch(r=sn,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var Nt=Ha(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(Nt,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(Rt){pe(a,a.return,Rt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)wp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":wp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,sn=n;break}sn=r.return}}function g0(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ws(n,a),u&4&&Du(5,a);break;case 1:if(ws(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){pe(a,a.return,T)}else{var f=Ha(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){pe(a,a.return,T)}}u&64&&c0(a),u&512&&Mu(a,a.return);break;case 3:if(ws(n,a),u&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Wv(n,r)}catch(T){pe(a,a.return,T)}}break;case 27:r===null&&u&4&&m0(a);case 26:case 5:ws(n,a),r===null&&u&4&&f0(a),u&512&&Mu(a,a.return);break;case 12:ws(n,a);break;case 13:ws(n,a),u&4&&_0(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=bR.bind(null,a),BR(n,a))));break;case 22:if(u=a.memoizedState!==null||jr,!u){r=r!==null&&r.memoizedState!==null||ke,f=jr;var d=ke;jr=u,(ke=r)&&!d?Ss(n,a,(a.subtreeFlags&8772)!==0):ws(n,a),jr=f,ke=d}break;case 30:break;default:ws(n,a)}}function y0(n){var r=n.alternate;r!==null&&(n.alternate=null,y0(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&hs(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var be=null,zn=!1;function Br(n,r,a){for(a=a.child;a!==null;)v0(n,r,a),a=a.sibling}function v0(n,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(_t,a)}catch{}switch(a.tag){case 26:ke||Zi(a,r),Br(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ke||Zi(a,r);var u=be,f=zn;Os(a.type)&&(be=a.stateNode,zn=!1),Br(n,r,a),Hu(a.stateNode),be=u,zn=f;break;case 5:ke||Zi(a,r);case 6:if(u=be,f=zn,be=null,Br(n,r,a),be=u,zn=f,be!==null)if(zn)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(a.stateNode)}catch(d){pe(a,r,d)}else try{be.removeChild(a.stateNode)}catch(d){pe(a,r,d)}break;case 18:be!==null&&(zn?(n=be,aE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Xu(n)):aE(be,a.stateNode));break;case 4:u=be,f=zn,be=a.stateNode.containerInfo,zn=!0,Br(n,r,a),be=u,zn=f;break;case 0:case 11:case 14:case 15:ke||bs(2,a,r),ke||bs(4,a,r),Br(n,r,a);break;case 1:ke||(Zi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&h0(a,r,u)),Br(n,r,a);break;case 21:Br(n,r,a);break;case 22:ke=(u=ke)||a.memoizedState!==null,Br(n,r,a),ke=u;break;default:Br(n,r,a)}}function _0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Xu(n)}catch(a){pe(r,r.return,a)}}function mR(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new p0),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new p0),r;default:throw Error(s(435,n.tag))}}function Xm(n,r){var a=mR(n);r.forEach(function(u){var f=wR.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Zn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],d=n,T=r,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(Os(w.type)){be=w.stateNode,zn=!1;break t}break;case 5:be=w.stateNode,zn=!1;break t;case 3:case 4:be=w.stateNode.containerInfo,zn=!0;break t}w=w.return}if(be===null)throw Error(s(160));v0(d,T,f),be=null,zn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)E0(r,n),r=r.sibling}var Ii=null;function E0(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Zn(r,n),Jn(n),u&4&&(bs(3,n,n.return),Du(3,n),bs(5,n,n.return));break;case 1:Zn(r,n),Jn(n),u&512&&(ke||a===null||Zi(a,a.return)),u&64&&jr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Ii;if(Zn(r,n),Jn(n),u&512&&(ke||a===null||Zi(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){t:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ya]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),mn(d,u,a),d[Ee]=n,De(d),u=d;break t;case"link":var T=mE("link","href",f).get(u+(a.href||""));if(T){for(var w=0;w<T.length;w++)if(d=T[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(w,1);break e}}d=f.createElement(u),mn(d,u,a),f.head.appendChild(d);break;case"meta":if(T=mE("meta","content",f).get(u+(a.content||""))){for(w=0;w<T.length;w++)if(d=T[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(w,1);break e}}d=f.createElement(u),mn(d,u,a),f.head.appendChild(d);break;default:throw Error(s(468,u))}d[Ee]=n,De(d),u=d}n.stateNode=u}else pE(f,n.type,n.stateNode);else n.stateNode=dE(f,u,n.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?pE(f,n.type,n.stateNode):dE(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Km(n,n.memoizedProps,a.memoizedProps)}break;case 27:Zn(r,n),Jn(n),u&512&&(ke||a===null||Zi(a,a.return)),a!==null&&u&4&&Km(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Zn(r,n),Jn(n),u&512&&(ke||a===null||Zi(a,a.return)),n.flags&32){f=n.stateNode;try{oi(f,"")}catch($){pe(n,n.return,$)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Km(n,f,a!==null?a.memoizedProps:f)),u&1024&&(Ym=!0);break;case 6:if(Zn(r,n),Jn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch($){pe(n,n.return,$)}}break;case 3:if(ef=null,f=Ii,Ii=Jh(r.containerInfo),Zn(r,n),Ii=f,Jn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Xu(r.containerInfo)}catch($){pe(n,n.return,$)}Ym&&(Ym=!1,T0(n));break;case 4:u=Ii,Ii=Jh(n.stateNode.containerInfo),Zn(r,n),Jn(n),Ii=u;break;case 12:Zn(r,n),Jn(n);break;case 13:Zn(r,n),Jn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(np=ve()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Xm(n,u)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,K=jr,J=ke;if(jr=K||f,ke=J||N,Zn(r,n),ke=J,jr=K,Jn(n),u&8192)t:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||jr||ke||Fa(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=N.stateNode;var nt=N.memoizedProps.style,Q=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch($){pe(N,N.return,$)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch($){pe(N,N.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Xm(n,a))));break;case 19:Zn(r,n),Jn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Xm(n,u)));break;case 30:break;case 21:break;default:Zn(r,n),Jn(n)}}function Jn(n){var r=n.flags;if(r&2){try{for(var a,u=n.return;u!==null;){if(d0(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Qm(n);Bh(n,d,f);break;case 5:var T=a.stateNode;a.flags&32&&(oi(T,""),a.flags&=-33);var w=Qm(n);Bh(n,w,T);break;case 3:case 4:var N=a.stateNode.containerInfo,K=Qm(n);$m(n,K,N);break;default:throw Error(s(161))}}catch(J){pe(n,n.return,J)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function T0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;T0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function ws(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)g0(n,r.alternate,r),r=r.sibling}function Fa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:bs(4,r,r.return),Fa(r);break;case 1:Zi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&h0(r,r.return,a),Fa(r);break;case 27:Hu(r.stateNode);case 26:case 5:Zi(r,r.return),Fa(r);break;case 22:r.memoizedState===null&&Fa(r);break;case 30:Fa(r);break;default:Fa(r)}n=n.sibling}}function Ss(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,d=r,T=d.flags;switch(d.tag){case 0:case 11:case 15:Ss(f,d,a),Du(4,d);break;case 1:if(Ss(f,d,a),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){pe(u,u.return,K)}if(u=d,f=u.updateQueue,f!==null){var w=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Xv(N[f],w)}catch(K){pe(u,u.return,K)}}a&&T&64&&c0(d),Mu(d,d.return);break;case 27:m0(d);case 26:case 5:Ss(f,d,a),a&&u===null&&T&4&&f0(d),Mu(d,d.return);break;case 12:Ss(f,d,a);break;case 13:Ss(f,d,a),a&&T&4&&_0(f,d);break;case 22:d.memoizedState===null&&Ss(f,d,a),Mu(d,d.return);break;case 30:break;default:Ss(f,d,a)}r=r.sibling}}function Wm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&vu(a))}function Zm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&vu(n))}function Ji(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b0(n,r,a,u),r=r.sibling}function b0(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(n,r,a,u),f&2048&&Du(9,r);break;case 1:Ji(n,r,a,u);break;case 3:Ji(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&vu(n)));break;case 12:if(f&2048){Ji(n,r,a,u),n=r.stateNode;try{var d=r.memoizedProps,T=d.id,w=d.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){pe(r,r.return,N)}}else Ji(n,r,a,u);break;case 13:Ji(n,r,a,u);break;case 23:break;case 22:d=r.stateNode,T=r.alternate,r.memoizedState!==null?d._visibility&2?Ji(n,r,a,u):ku(n,r):d._visibility&2?Ji(n,r,a,u):(d._visibility|=2,Yo(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&Wm(T,r);break;case 24:Ji(n,r,a,u),f&2048&&Zm(r.alternate,r);break;default:Ji(n,r,a,u)}}function Yo(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,T=r,w=a,N=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Yo(d,T,w,N,f),Du(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?Yo(d,T,w,N,f):ku(d,T):(J._visibility|=2,Yo(d,T,w,N,f)),f&&K&2048&&Wm(T.alternate,T);break;case 24:Yo(d,T,w,N,f),f&&K&2048&&Zm(T.alternate,T);break;default:Yo(d,T,w,N,f)}r=r.sibling}}function ku(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:ku(a,u),f&2048&&Wm(u.alternate,u);break;case 24:ku(a,u),f&2048&&Zm(u.alternate,u);break;default:ku(a,u)}r=r.sibling}}var Vu=8192;function Xo(n){if(n.subtreeFlags&Vu)for(n=n.child;n!==null;)w0(n),n=n.sibling}function w0(n){switch(n.tag){case 26:Xo(n),n.flags&Vu&&n.memoizedState!==null&&JR(Ii,n.memoizedState,n.memoizedProps);break;case 5:Xo(n);break;case 3:case 4:var r=Ii;Ii=Jh(n.stateNode.containerInfo),Xo(n),Ii=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Vu,Vu=16777216,Xo(n),Vu=r):Xo(n));break;default:Xo(n)}}function S0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Pu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];sn=u,R0(u,n)}S0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)A0(n),n=n.sibling}function A0(n){switch(n.tag){case 0:case 11:case 15:Pu(n),n.flags&2048&&bs(9,n,n.return);break;case 3:Pu(n);break;case 12:Pu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,zh(n)):Pu(n);break;default:Pu(n)}}function zh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];sn=u,R0(u,n)}S0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:bs(8,r,r.return),zh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,zh(r));break;default:zh(r)}n=n.sibling}}function R0(n,r){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:bs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vu(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,sn=u;else t:for(a=n;sn!==null;){u=sn;var f=u.sibling,d=u.return;if(y0(u),u===a){sn=null;break t}if(f!==null){f.return=d,sn=f;break t}sn=d}}}var pR={getCacheForType:function(n){var r=_n($e),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},gR=typeof WeakMap=="function"?WeakMap:Map,ue=0,ge=null,Kt=null,Jt=0,ce=0,ti=null,As=!1,Wo=!1,Jm=!1,zr=0,Ie=0,Rs=0,qa=0,tp=0,gi=0,Zo=0,Lu=null,Hn=null,ep=!1,np=0,Hh=1/0,Fh=null,Cs=null,dn=0,Is=null,Jo=null,tl=0,ip=0,rp=null,C0=null,Uu=0,sp=null;function ei(){if((ue&2)!==0&&Jt!==0)return Jt&-Jt;if(H.T!==null){var n=zo;return n!==0?n:fp()}return $n()}function I0(){gi===0&&(gi=(Jt&536870912)===0||re?jn():536870912);var n=pi.current;return n!==null&&(n.flags|=32),gi}function ni(n,r,a){(n===ge&&(ce===2||ce===9)||n.cancelPendingCommit!==null)&&(el(n,0),xs(n,Jt,gi,!1)),ai(n,a),((ue&2)===0||n!==ge)&&(n===ge&&((ue&2)===0&&(qa|=a),Ie===4&&xs(n,Jt,gi,!1)),tr(n))}function x0(n,r,a){if((ue&6)!==0)throw Error(s(327));var u=!a&&(r&124)===0&&(r&n.expiredLanes)===0||yr(n,r),f=u?_R(n,r):lp(n,r,!0),d=u;do{if(f===0){Wo&&!u&&xs(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!yR(a)){f=lp(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var w=n;f=Lu;var N=w.current.memoizedState.isDehydrated;if(N&&(el(w,T).flags|=256),T=lp(w,T,!1),T!==2){if(Jm&&!N){w.errorRecoveryDisabledLanes|=d,qa|=d,f=4;break t}d=Hn,Hn=f,d!==null&&(Hn===null?Hn=d:Hn.push.apply(Hn,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){el(n,0),xs(n,r,0,!0);break}t:{switch(u=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:xs(u,r,gi,!As);break t;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=np+300-ve(),10<f)){if(xs(u,r,gi,!As),gr(u,0,!0)!==0)break t;u.timeoutHandle=rE(O0.bind(null,u,a,Hn,Fh,ep,r,gi,qa,Zo,As,d,2,-0,0),f);break t}O0(u,a,Hn,Fh,ep,r,gi,qa,Zo,As,d,0,-0,0)}}break}while(!0);tr(n)}function O0(n,r,a,u,f,d,T,w,N,K,J,nt,Q,$){if(n.timeoutHandle=-1,nt=r.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Gu={stylesheets:null,count:0,unsuspend:ZR},w0(r),nt=tC(),nt!==null)){n.cancelPendingCommit=nt(L0.bind(null,n,r,d,a,u,f,T,w,N,J,1,Q,$)),xs(n,d,T,!K);return}L0(n,r,d,a,u,f,T,w,N)}function yR(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],d=f.getSnapshot;f=f.value;try{if(!Xn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xs(n,r,a,u){r&=~tp,r&=~qa,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var d=31-Pe(f),T=1<<d;u[d]=-1,f&=~T}a!==0&&At(n,a,r)}function qh(){return(ue&6)===0?(ju(0),!1):!0}function ap(){if(Kt!==null){if(ce===0)var n=Kt.return;else n=Kt,Mr=Ua=null,wm(n),Qo=null,xu=0,n=Kt;for(;n!==null;)u0(n.alternate,n),n=n.return;Kt=null}}function el(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,VR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),ap(),ge=n,Kt=a=Or(n.current,null),Jt=r,ce=0,ti=null,As=!1,Wo=yr(n,r),Jm=!1,Zo=gi=tp=qa=Rs=Ie=0,Hn=Lu=null,ep=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-Pe(u),d=1<<f;r|=n[f],u&=~d}return zr=r,fh(),a}function N0(n,r){Bt=null,H.H=Nh,r===Eu||r===Th?(r=$v(),ce=3):r===Gv?(r=$v(),ce=4):ce=r===Y_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ti=r,Kt===null&&(Ie=1,Ph(n,hi(r,n.current)))}function D0(){var n=H.H;return H.H=Nh,n===null?Nh:n}function M0(){var n=H.A;return H.A=pR,n}function op(){Ie=4,As||(Jt&4194048)!==Jt&&pi.current!==null||(Wo=!0),(Rs&134217727)===0&&(qa&134217727)===0||ge===null||xs(ge,Jt,gi,!1)}function lp(n,r,a){var u=ue;ue|=2;var f=D0(),d=M0();(ge!==n||Jt!==r)&&(Fh=null,el(n,r)),r=!1;var T=Ie;t:do try{if(ce!==0&&Kt!==null){var w=Kt,N=ti;switch(ce){case 8:ap(),T=6;break t;case 3:case 2:case 9:case 6:pi.current===null&&(r=!0);var K=ce;if(ce=0,ti=null,nl(n,w,N,K),a&&Wo){T=0;break t}break;default:K=ce,ce=0,ti=null,nl(n,w,N,K)}}vR(),T=Ie;break}catch(J){N0(n,J)}while(!0);return r&&n.shellSuspendCounter++,Mr=Ua=null,ue=u,H.H=f,H.A=d,Kt===null&&(ge=null,Jt=0,fh()),T}function vR(){for(;Kt!==null;)k0(Kt)}function _R(n,r){var a=ue;ue|=2;var u=D0(),f=M0();ge!==n||Jt!==r?(Fh=null,Hh=ve()+500,el(n,r)):Wo=yr(n,r);t:do try{if(ce!==0&&Kt!==null){r=Kt;var d=ti;e:switch(ce){case 1:ce=0,ti=null,nl(n,r,d,1);break;case 2:case 9:if(Kv(d)){ce=0,ti=null,V0(r);break}r=function(){ce!==2&&ce!==9||ge!==n||(ce=7),tr(n)},d.then(r,r);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:Kv(d)?(ce=0,ti=null,V0(r)):(ce=0,ti=null,nl(n,r,d,7));break;case 5:var T=null;switch(Kt.tag){case 26:T=Kt.memoizedState;case 5:case 27:var w=Kt;if(!T||gE(T)){ce=0,ti=null;var N=w.sibling;if(N!==null)Kt=N;else{var K=w.return;K!==null?(Kt=K,Gh(K)):Kt=null}break e}}ce=0,ti=null,nl(n,r,d,5);break;case 6:ce=0,ti=null,nl(n,r,d,6);break;case 8:ap(),Ie=6;break t;default:throw Error(s(462))}}ER();break}catch(J){N0(n,J)}while(!0);return Mr=Ua=null,H.H=u,H.A=f,ue=a,Kt!==null?0:(ge=null,Jt=0,fh(),Ie)}function ER(){for(;Kt!==null&&!ee();)k0(Kt)}function k0(n){var r=o0(n.alternate,n,zr);n.memoizedProps=n.pendingProps,r===null?Gh(n):Kt=r}function V0(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=e0(a,r,r.pendingProps,r.type,void 0,Jt);break;case 11:r=e0(a,r,r.pendingProps,r.type.render,r.ref,Jt);break;case 5:wm(r);default:u0(a,r),r=Kt=Pv(r,zr),r=o0(a,r,zr)}n.memoizedProps=n.pendingProps,r===null?Gh(n):Kt=r}function nl(n,r,a,u){Mr=Ua=null,wm(r),Qo=null,xu=0;var f=r.return;try{if(uR(n,f,r,a,Jt)){Ie=1,Ph(n,hi(a,n.current)),Kt=null;return}}catch(d){if(f!==null)throw Kt=f,d;Ie=1,Ph(n,hi(a,n.current)),Kt=null;return}r.flags&32768?(re||u===1?n=!0:Wo||(Jt&536870912)!==0?n=!1:(As=n=!0,(u===2||u===9||u===3||u===6)&&(u=pi.current,u!==null&&u.tag===13&&(u.flags|=16384))),P0(r,n)):Gh(r)}function Gh(n){var r=n;do{if((r.flags&32768)!==0){P0(r,As);return}n=r.return;var a=hR(r.alternate,r,zr);if(a!==null){Kt=a;return}if(r=r.sibling,r!==null){Kt=r;return}Kt=r=n}while(r!==null);Ie===0&&(Ie=5)}function P0(n,r){do{var a=fR(n.alternate,n);if(a!==null){a.flags&=32767,Kt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Kt=n;return}Kt=n=a}while(n!==null);Ie=6,Kt=null}function L0(n,r,a,u,f,d,T,w,N){n.cancelPendingCommit=null;do Kh();while(dn!==0);if((ue&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Zd,us(n,a,d,T,w,N),n===ge&&(Kt=ge=null,Jt=0),Jo=r,Is=n,tl=a,ip=d,rp=f,C0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,SR(Ti,function(){return H0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,f=ut.p,ut.p=2,T=ue,ue|=4;try{dR(n,r,a)}finally{ue=T,ut.p=f,H.T=u}}dn=1,U0(),j0(),B0()}}function U0(){if(dn===1){dn=0;var n=Is,r=Jo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var u=ut.p;ut.p=2;var f=ue;ue|=4;try{E0(r,n);var d=Ep,T=Rv(n.containerInfo),w=d.focusedElem,N=d.selectionRange;if(T!==w&&w&&w.ownerDocument&&Av(w.ownerDocument.documentElement,w)){if(N!==null&&Qd(w)){var K=N.start,J=N.end;if(J===void 0&&(J=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(J,w.value.length);else{var nt=w.ownerDocument||document,Q=nt&&nt.defaultView||window;if(Q.getSelection){var $=Q.getSelection(),Nt=w.textContent.length,Rt=Math.min(N.start,Nt),me=N.end===void 0?Rt:Math.min(N.end,Nt);!$.extend&&Rt>me&&(T=me,me=Rt,Rt=T);var z=Sv(w,Rt),B=Sv(w,me);if(z&&B&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==B.node||$.focusOffset!==B.offset)){var G=nt.createRange();G.setStart(z.node,z.offset),$.removeAllRanges(),Rt>me?($.addRange(G),$.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),$.addRange(G))}}}}for(nt=[],$=w;$=$.parentNode;)$.nodeType===1&&nt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var tt=nt[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}sf=!!_p,Ep=_p=null}finally{ue=f,ut.p=u,H.T=a}}n.current=r,dn=2}}function j0(){if(dn===2){dn=0;var n=Is,r=Jo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var u=ut.p;ut.p=2;var f=ue;ue|=4;try{g0(n,r.alternate,r)}finally{ue=f,ut.p=u,H.T=a}}dn=3}}function B0(){if(dn===4||dn===3){dn=0,si();var n=Is,r=Jo,a=tl,u=C0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?dn=5:(dn=0,Jo=Is=null,z0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Cs=null),Le(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(_t,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=H.T,f=ut.p,ut.p=2,H.T=null;try{for(var d=n.onRecoverableError,T=0;T<u.length;T++){var w=u[T];d(w.value,{componentStack:w.stack})}}finally{H.T=r,ut.p=f}}(tl&3)!==0&&Kh(),tr(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===sp?Uu++:(Uu=0,sp=n):Uu=0,ju(0)}}function z0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,vu(r)))}function Kh(n){return U0(),j0(),B0(),H0()}function H0(){if(dn!==5)return!1;var n=Is,r=ip;ip=0;var a=Le(tl),u=H.T,f=ut.p;try{ut.p=32>a?32:a,H.T=null,a=rp,rp=null;var d=Is,T=tl;if(dn=0,Jo=Is=null,tl=0,(ue&6)!==0)throw Error(s(331));var w=ue;if(ue|=4,A0(d.current),b0(d,d.current,T,a),ue=w,ju(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(_t,d)}catch{}return!0}finally{ut.p=f,H.T=u,z0(n,r)}}function F0(n,r,a){r=hi(a,r),r=Lm(n.stateNode,r,2),n=vs(n,r,2),n!==null&&(ai(n,2),tr(n))}function pe(n,r,a){if(n.tag===3)F0(n,n,a);else for(;r!==null;){if(r.tag===3){F0(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Cs===null||!Cs.has(u))){n=hi(a,n),a=Q_(2),u=vs(r,a,2),u!==null&&($_(a,u,r,n),ai(u,2),tr(u));break}}r=r.return}}function up(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new gR;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Jm=!0,f.add(a),n=TR.bind(null,n,r,a),r.then(n,n))}function TR(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ge===n&&(Jt&a)===a&&(Ie===4||Ie===3&&(Jt&62914560)===Jt&&300>ve()-np?(ue&2)===0&&el(n,0):tp|=a,Zo===Jt&&(Zo=0)),tr(n)}function q0(n,r){r===0&&(r=ga()),n=Lo(n,r),n!==null&&(ai(n,r),tr(n))}function bR(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),q0(n,a)}function wR(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),q0(n,a)}function SR(n,r){return In(n,r)}var Qh=null,il=null,cp=!1,$h=!1,hp=!1,Ga=0;function tr(n){n!==il&&n.next===null&&(il===null?Qh=il=n:il=il.next=n),$h=!0,cp||(cp=!0,RR())}function ju(n,r){if(!hp&&$h){hp=!0;do for(var a=!1,u=Qh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var T=u.suspendedLanes,w=u.pingedLanes;d=(1<<31-Pe(42|n)+1)-1,d&=f&~(T&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,$0(u,d))}else d=Jt,d=gr(u,u===ge?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||yr(u,d)||(a=!0,$0(u,d));u=u.next}while(a);hp=!1}}function AR(){G0()}function G0(){$h=cp=!1;var n=0;Ga!==0&&(kR()&&(n=Ga),Ga=0);for(var r=ve(),a=null,u=Qh;u!==null;){var f=u.next,d=K0(u,r);d===0?(u.next=null,a===null?Qh=f:a.next=f,f===null&&(il=a)):(a=u,(n!==0||(d&3)!==0)&&($h=!0)),u=f}ju(n)}function K0(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var T=31-Pe(d),w=1<<T,N=f[T];N===-1?((w&a)===0||(w&u)!==0)&&(f[T]=vr(w,r)):N<=r&&(n.expiredLanes|=w),d&=~w}if(r=ge,a=Jt,a=gr(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===r&&(ce===2||ce===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&tn(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||yr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&tn(u),Le(a)){case 2:case 8:a=Ui;break;case 32:a=Ti;break;case 268435456:a=xn;break;default:a=Ti}return u=Q0.bind(null,n),a=In(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&tn(u),n.callbackPriority=2,n.callbackNode=null,2}function Q0(n,r){if(dn!==0&&dn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Kh()&&n.callbackNode!==a)return null;var u=Jt;return u=gr(n,n===ge?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(x0(n,u,r),K0(n,ve()),n.callbackNode!=null&&n.callbackNode===a?Q0.bind(null,n):null)}function $0(n,r){if(Kh())return null;x0(n,r,!0)}function RR(){PR(function(){(ue&6)!==0?In(un,AR):G0()})}function fp(){return Ga===0&&(Ga=jn()),Ga}function Y0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ao(""+n)}function X0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function CR(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var d=Y0((f[ne]||null).action),T=u.submitter;T&&(r=(r=T[ne]||null)?Y0(r.formAction):T.getAttribute("formAction"),r!==null&&(d=r,T=null));var w=new Ro("action","action",null,u,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ga!==0){var N=T?X0(f,T):new FormData(f);Dm(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=T?X0(f,T):new FormData(f),Dm(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var dp=0;dp<Wd.length;dp++){var mp=Wd[dp],IR=mp.toLowerCase(),xR=mp[0].toUpperCase()+mp.slice(1);Ci(IR,"on"+xR)}Ci(xv,"onAnimationEnd"),Ci(Ov,"onAnimationIteration"),Ci(Nv,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(KA,"onTransitionRun"),Ci(QA,"onTransitionStart"),Ci($A,"onTransitionCancel"),Ci(Dv,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function W0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;t:{var d=void 0;if(r)for(var T=u.length-1;0<=T;T--){var w=u[T],N=w.instance,K=w.currentTarget;if(w=w.listener,N!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=K;try{d(f)}catch(J){Vh(J)}f.currentTarget=null,d=N}else for(T=0;T<u.length;T++){if(w=u[T],N=w.instance,K=w.currentTarget,w=w.listener,N!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=K;try{d(f)}catch(J){Vh(J)}f.currentTarget=null,d=N}}}}function Qt(n,r){var a=r[cs];a===void 0&&(a=r[cs]=new Set);var u=n+"__bubble";a.has(u)||(Z0(r,n,2,!1),a.add(u))}function pp(n,r,a){var u=0;r&&(u|=4),Z0(a,n,u,r)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function gp(n){if(!n[Yh]){n[Yh]=!0,Zl.forEach(function(a){a!=="selectionchange"&&(OR.has(a)||pp(a,!1,n),pp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Yh]||(r[Yh]=!0,pp("selectionchange",!1,r))}}function Z0(n,r,a,u){switch(bE(r)){case 2:var f=iC;break;case 8:f=rC;break;default:f=Op}a=f.bind(null,r,a,n),f=void 0,!ui||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function yp(n,r,a,u,f){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===f)break;if(T===4)for(T=u.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;w!==null;){if(T=Er(w),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){u=d=T;continue t}w=w.parentNode}}u=u.return}Wc(function(){var K=d,J=li(a),nt=[];t:{var Q=Mv.get(n);if(Q!==void 0){var $=Ro,Nt=n;switch(n){case"keypress":if(Gi(a)===0)break t;case"keydown":case"keyup":$=Do;break;case"focusin":Nt="focus",$=xo;break;case"focusout":Nt="blur",$=xo;break;case"beforeblur":case"afterblur":$=xo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ci;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=sh;break;case xv:case Ov:case Nv:$=Oo;break;case Dv:$=oh;break;case"scroll":case"scrollend":$=Zc;break;case"wheel":$=Mo;break;case"copy":case"cut":case"paste":$=No;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=cu;break;case"toggle":case"beforetoggle":$=uh}var Rt=(r&4)!==0,me=!Rt&&(n==="scroll"||n==="scrollend"),z=Rt?Q!==null?Q+"Capture":null:Q;Rt=[];for(var B=K,G;B!==null;){var tt=B;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||z===null||(tt=Sa(B,z),tt!=null&&Rt.push(zu(B,tt,G))),me)break;B=B.return}0<Rt.length&&(Q=new $(Q,Nt,null,a,J),nt.push({event:Q,listeners:Rt}))}}if((r&7)===0){t:{if(Q=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",Q&&a!==Sr&&(Nt=a.relatedTarget||a.fromElement)&&(Er(Nt)||Nt[Te]))break t;if(($||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,$?(Nt=a.relatedTarget||a.toElement,$=K,Nt=Nt?Er(Nt):null,Nt!==null&&(me=l(Nt),Rt=Nt.tag,Nt!==me||Rt!==5&&Rt!==27&&Rt!==6)&&(Nt=null)):($=null,Nt=K),$!==Nt)){if(Rt=ci,tt="onMouseLeave",z="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Rt=cu,tt="onPointerLeave",z="onPointerEnter",B="pointer"),me=$==null?Q:zi($),G=Nt==null?Q:zi(Nt),Q=new Rt(tt,B+"leave",$,a,J),Q.target=me,Q.relatedTarget=G,tt=null,Er(J)===K&&(Rt=new Rt(z,B+"enter",Nt,a,J),Rt.target=G,Rt.relatedTarget=me,tt=Rt),me=tt,$&&Nt)e:{for(Rt=$,z=Nt,B=0,G=Rt;G;G=rl(G))B++;for(G=0,tt=z;tt;tt=rl(tt))G++;for(;0<B-G;)Rt=rl(Rt),B--;for(;0<G-B;)z=rl(z),G--;for(;B--;){if(Rt===z||z!==null&&Rt===z.alternate)break e;Rt=rl(Rt),z=rl(z)}Rt=null}else Rt=null;$!==null&&J0(nt,Q,$,Rt,!1),Nt!==null&&me!==null&&J0(nt,me,Nt,Rt,!0)}}t:{if(Q=K?zi(K):window,$=Q.nodeName&&Q.nodeName.toLowerCase(),$==="select"||$==="input"&&Q.type==="file")var vt=vv;else if(Qe(Q))if(_v)vt=FA;else{vt=zA;var Ft=BA}else $=Q.nodeName,!$||$.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&iu(K.elementType)&&(vt=vv):vt=HA;if(vt&&(vt=vt(n,K))){xr(nt,vt,a,J);break t}Ft&&Ft(n,Q,K),n==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&ds(Q,"number",Q.value)}switch(Ft=K?zi(K):window,n){case"focusin":(Qe(Ft)||Ft.contentEditable==="true")&&(ko=Ft,$d=K,du=null);break;case"focusout":du=$d=ko=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,Cv(nt,a,J);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":Cv(nt,a,J)}var Et;if($i)t:{switch(n){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else Wt?X(n,a)&&(It="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(It="onCompositionStart");It&&(_&&a.locale!=="ko"&&(Wt||It!=="onCompositionStart"?It==="onCompositionEnd"&&Wt&&(Et=su()):(qi=J,ms="value"in qi?qi.value:qi.textContent,Wt=!0)),Ft=Xh(K,It),0<Ft.length&&(It=new lu(It,n,null,a,J),nt.push({event:It,listeners:Ft}),Et?It.data=Et:(Et=mt(a),Et!==null&&(It.data=Et)))),(Et=y?Ke(n,a):Zt(n,a))&&(It=Xh(K,"onBeforeInput"),0<It.length&&(Ft=new lu("onBeforeInput","beforeinput",null,a,J),nt.push({event:Ft,listeners:It}),Ft.data=Et)),CR(nt,n,K,a,J)}W0(nt,r)})}function zu(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Xh(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Sa(n,a),f!=null&&u.unshift(zu(n,f,d)),f=Sa(n,r),f!=null&&u.push(zu(n,f,d))),n.tag===3)return u;n=n.return}return[]}function rl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function J0(n,r,a,u,f){for(var d=r._reactName,T=[];a!==null&&a!==u;){var w=a,N=w.alternate,K=w.stateNode;if(w=w.tag,N!==null&&N===u)break;w!==5&&w!==26&&w!==27||K===null||(N=K,f?(K=Sa(a,d),K!=null&&T.unshift(zu(a,K,N))):f||(K=Sa(a,d),K!=null&&T.push(zu(a,K,N)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var NR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function tE(n){return(typeof n=="string"?n:""+n).replace(NR,`
`).replace(DR,"")}function eE(n,r){return r=tE(r),tE(n)===r}function Wh(){}function de(n,r,a,u,f,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||oi(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&oi(n,""+u);break;case"className":Hi(n,"class",u);break;case"tabIndex":Hi(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(n,a,u);break;case"style":nu(n,u,d);break;case"data":if(r!=="object"){Hi(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ao(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&de(n,r,"name",f.name,f,null),de(n,r,"formEncType",f.formEncType,f,null),de(n,r,"formMethod",f.formMethod,f,null),de(n,r,"formTarget",f.formTarget,f,null)):(de(n,r,"encType",f.encType,f,null),de(n,r,"method",f.method,f,null),de(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ao(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Wh);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Ao(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Qt("beforetoggle",n),Qt("toggle",n),fs(n,"popover",u);break;case"xlinkActuate":cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":cn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":cn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":cn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":cn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":fs(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zd.get(a)||a,fs(n,a,u))}}function vp(n,r,a,u,f,d){switch(a){case"style":nu(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?oi(n,u):(typeof u=="number"||typeof u=="bigint")&&oi(n,""+u);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Wh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[ne]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break t}a in n?n[a]=u:u===!0?n.setAttribute(a,""):fs(n,a,u)}}}function mn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",n),Qt("load",n);var u=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:de(n,r,d,T,a,null)}}f&&de(n,r,"srcSet",a.srcSet,a,null),u&&de(n,r,"src",a.src,a,null);return;case"input":Qt("invalid",n);var w=d=T=f=null,N=null,K=null;for(u in a)if(a.hasOwnProperty(u)){var J=a[u];if(J!=null)switch(u){case"name":f=J;break;case"type":T=J;break;case"checked":N=J;break;case"defaultChecked":K=J;break;case"value":d=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:de(n,r,u,J,a,null)}}Ta(n,d,w,N,K,T,f,!1),So(n);return;case"select":Qt("invalid",n),u=T=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:de(n,r,f,w,a,null)}r=d,a=T,n.multiple=!!u,r!=null?wr(n,!!u,r,!1):a!=null&&wr(n,!!u,a,!0);return;case"textarea":Qt("invalid",n),d=f=u=null;for(T in a)if(a.hasOwnProperty(T)&&(w=a[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:de(n,r,T,w,a,null)}ba(n,u,f,d),So(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:de(n,r,N,u,a,null)}return;case"dialog":Qt("beforetoggle",n),Qt("toggle",n),Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":Qt("load",n);break;case"video":case"audio":for(u=0;u<Bu.length;u++)Qt(Bu[u],n);break;case"image":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"embed":case"source":case"link":Qt("error",n),Qt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(u=a[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:de(n,r,K,u,a,null)}return;default:if(iu(r)){for(J in a)a.hasOwnProperty(J)&&(u=a[J],u!==void 0&&vp(n,r,J,u,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(u=a[w],u!=null&&de(n,r,w,u,a,null))}function MR(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,w=null,N=null,K=null,J=null;for($ in a){var nt=a[$];if(a.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=nt;default:u.hasOwnProperty($)||de(n,r,$,null,u,nt)}}for(var Q in u){var $=u[Q];if(nt=a[Q],u.hasOwnProperty(Q)&&($!=null||nt!=null))switch(Q){case"type":d=$;break;case"name":f=$;break;case"checked":K=$;break;case"defaultChecked":J=$;break;case"value":T=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==nt&&de(n,r,Q,$,u,nt)}}Yn(n,T,w,N,K,J,d,f);return;case"select":$=T=w=Q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":$=N;default:u.hasOwnProperty(d)||de(n,r,d,null,u,N)}for(f in u)if(d=u[f],N=a[f],u.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":Q=d;break;case"defaultValue":w=d;break;case"multiple":T=d;default:d!==N&&de(n,r,f,d,u,N)}r=w,a=T,u=$,Q!=null?wr(n,!!a,Q,!1):!!u!=!!a&&(r!=null?wr(n,!!a,r,!0):wr(n,!!a,a?[]:"",!1));return;case"textarea":$=Q=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:de(n,r,w,null,u,f)}for(T in u)if(f=u[T],d=a[T],u.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":Q=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&de(n,r,T,f,u,d)}he(n,Q,$);return;case"option":for(var Nt in a)if(Q=a[Nt],a.hasOwnProperty(Nt)&&Q!=null&&!u.hasOwnProperty(Nt))switch(Nt){case"selected":n.selected=!1;break;default:de(n,r,Nt,null,u,Q)}for(N in u)if(Q=u[N],$=a[N],u.hasOwnProperty(N)&&Q!==$&&(Q!=null||$!=null))switch(N){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:de(n,r,N,Q,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in a)Q=a[Rt],a.hasOwnProperty(Rt)&&Q!=null&&!u.hasOwnProperty(Rt)&&de(n,r,Rt,null,u,Q);for(K in u)if(Q=u[K],$=a[K],u.hasOwnProperty(K)&&Q!==$&&(Q!=null||$!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:de(n,r,K,Q,u,$)}return;default:if(iu(r)){for(var me in a)Q=a[me],a.hasOwnProperty(me)&&Q!==void 0&&!u.hasOwnProperty(me)&&vp(n,r,me,void 0,u,Q);for(J in u)Q=u[J],$=a[J],!u.hasOwnProperty(J)||Q===$||Q===void 0&&$===void 0||vp(n,r,J,Q,u,$);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!u.hasOwnProperty(z)&&de(n,r,z,null,u,Q);for(nt in u)Q=u[nt],$=a[nt],!u.hasOwnProperty(nt)||Q===$||Q==null&&$==null||de(n,r,nt,Q,u,$)}var _p=null,Ep=null;function Zh(n){return n.nodeType===9?n:n.ownerDocument}function nE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iE(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Tp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bp=null;function kR(){var n=window.event;return n&&n.type==="popstate"?n===bp?!1:(bp=n,!0):(bp=null,!1)}var rE=typeof setTimeout=="function"?setTimeout:void 0,VR=typeof clearTimeout=="function"?clearTimeout:void 0,sE=typeof Promise=="function"?Promise:void 0,PR=typeof queueMicrotask=="function"?queueMicrotask:typeof sE<"u"?function(n){return sE.resolve(null).then(n).catch(LR)}:rE;function LR(n){setTimeout(function(){throw n})}function Os(n){return n==="head"}function aE(n,r){var a=r,u=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<u&&8>u){a=u;var T=n.ownerDocument;if(a&1&&Hu(T.documentElement),a&2&&Hu(T.body),a&4)for(a=T.head,Hu(a),T=a.firstChild;T;){var w=T.nextSibling,N=T.nodeName;T[ya]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=w}}if(f===0){n.removeChild(d),Xu(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=d}while(a);Xu(r)}function wp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wp(a),hs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function UR(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ya])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=xi(n.nextSibling),n===null)break}return null}function jR(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=xi(n.nextSibling),n===null))return null;return n}function Sp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function BR(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function xi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Ap=null;function oE(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function lE(n,r,a){switch(r=Zh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Hu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);hs(n)}var yi=new Map,uE=new Set;function Jh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Hr=ut.d;ut.d={f:zR,r:HR,D:FR,C:qR,L:GR,m:KR,X:$R,S:QR,M:YR};function zR(){var n=Hr.f(),r=qh();return n||r}function HR(n){var r=Bi(n);r!==null&&r.tag===5&&r.type==="form"?x_(r):Hr.r(n)}var sl=typeof document>"u"?null:document;function cE(n,r,a){var u=sl;if(u&&typeof r=="string"&&r){var f=Ue(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),uE.has(f)||(uE.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),mn(r,"link",n),De(r),u.head.appendChild(r)))}}function FR(n){Hr.D(n),cE("dns-prefetch",n,null)}function qR(n,r){Hr.C(n,r),cE("preconnect",n,r)}function GR(n,r,a){Hr.L(n,r,a);var u=sl;if(u&&n&&r){var f='link[rel="preload"][as="'+Ue(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ue(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ue(a.imageSizes)+'"]')):f+='[href="'+Ue(n)+'"]';var d=f;switch(r){case"style":d=al(n);break;case"script":d=ol(n)}yi.has(d)||(n=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),yi.set(d,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Fu(d))||r==="script"&&u.querySelector(qu(d))||(r=u.createElement("link"),mn(r,"link",n),De(r),u.head.appendChild(r)))}}function KR(n,r){Hr.m(n,r);var a=sl;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ue(u)+'"][href="'+Ue(n)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ol(n)}if(!yi.has(d)&&(n=E({rel:"modulepreload",href:n},r),yi.set(d,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(qu(d)))return}u=a.createElement("link"),mn(u,"link",n),De(u),a.head.appendChild(u)}}}function QR(n,r,a){Hr.S(n,r,a);var u=sl;if(u&&n){var f=On(u).hoistableStyles,d=al(n);r=r||"default";var T=f.get(d);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(Fu(d)))w.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},a),(a=yi.get(d))&&Rp(n,a);var N=T=u.createElement("link");De(N),mn(N,"link",n),N._p=new Promise(function(K,J){N.onload=K,N.onerror=J}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,tf(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:w},f.set(d,T)}}}function $R(n,r){Hr.X(n,r);var a=sl;if(a&&n){var u=On(a).hoistableScripts,f=ol(n),d=u.get(f);d||(d=a.querySelector(qu(f)),d||(n=E({src:n,async:!0},r),(r=yi.get(f))&&Cp(n,r),d=a.createElement("script"),De(d),mn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function YR(n,r){Hr.M(n,r);var a=sl;if(a&&n){var u=On(a).hoistableScripts,f=ol(n),d=u.get(f);d||(d=a.querySelector(qu(f)),d||(n=E({src:n,async:!0,type:"module"},r),(r=yi.get(f))&&Cp(n,r),d=a.createElement("script"),De(d),mn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function hE(n,r,a,u){var f=(f=pt.current)?Jh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=al(a.href),a=On(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=al(a.href);var d=On(f).hoistableStyles,T=d.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,T),(d=f.querySelector(Fu(n)))&&!d._p&&(T.instance=d,T.state.loading=5),yi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yi.set(n,a),d||XR(f,n,a,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ol(a),a=On(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function al(n){return'href="'+Ue(n)+'"'}function Fu(n){return'link[rel="stylesheet"]['+n+"]"}function fE(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function XR(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),mn(r,"link",a),De(r),n.head.appendChild(r))}function ol(n){return'[src="'+Ue(n)+'"]'}function qu(n){return"script[async]"+n}function dE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Ue(a.href)+'"]');if(u)return r.instance=u,De(u),u;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),De(u),mn(u,"style",f),tf(u,a.precedence,n),r.instance=u;case"stylesheet":f=al(a.href);var d=n.querySelector(Fu(f));if(d)return r.state.loading|=4,r.instance=d,De(d),d;u=fE(a),(f=yi.get(f))&&Rp(u,f),d=(n.ownerDocument||n).createElement("link"),De(d);var T=d;return T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),mn(d,"link",u),r.state.loading|=4,tf(d,a.precedence,n),r.instance=d;case"script":return d=ol(a.src),(f=n.querySelector(qu(d)))?(r.instance=f,De(f),f):(u=a,(f=yi.get(d))&&(u=E({},a),Cp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),De(f),mn(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,tf(u,a.precedence,n));return r.instance}function tf(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Rp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Cp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var ef=null;function mE(n,r,a){if(ef===null){var u=new Map,f=ef=new Map;f.set(a,u)}else f=ef,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ya]||d[Ee]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(r)||"";T=n+T;var w=u.get(T);w?w.push(d):u.set(T,[d])}}return u}function pE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function WR(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function gE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Gu=null;function ZR(){}function JR(n,r,a){if(Gu===null)throw Error(s(475));var u=Gu;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=al(a.href),d=n.querySelector(Fu(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=nf.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=d,De(d);return}d=n.ownerDocument||n,a=fE(a),(f=yi.get(f))&&Rp(a,f),d=d.createElement("link"),De(d);var T=d;T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),mn(d,"link",a),r.instance=d}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=nf.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function tC(){if(Gu===null)throw Error(s(475));var n=Gu;return n.stylesheets&&n.count===0&&Ip(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Ip(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function nf(){if(this.count--,this.count===0){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rf=null;function Ip(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rf=new Map,r.forEach(eC,n),rf=null,nf.call(n))}function eC(n,r){if(!(r.state.loading&4)){var a=rf.get(n);if(a)var u=a.get(null);else{a=new Map,rf.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),d=a.get(T)||u,d===u&&a.set(null,f),a.set(T,f),this.count++,u=nf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Ku={$$typeof:Z,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function nC(n,r,a,u,f,d,T,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function yE(n,r,a,u,f,d,T,w,N,K,J,nt){return n=new nC(n,r,a,T,w,N,K,nt),r=1,d===!0&&(r|=24),d=Wn(3,null,null,r),n.current=d,d.stateNode=n,r=um(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},dm(d),n}function vE(n){return n?(n=Uo,n):Uo}function _E(n,r,a,u,f,d){f=vE(f),u.context===null?u.context=f:u.pendingContext=f,u=ys(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=vs(n,u,r),a!==null&&(ni(a,n,r),bu(a,n,r))}function EE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function xp(n,r){EE(n,r),(n=n.alternate)&&EE(n,r)}function TE(n){if(n.tag===13){var r=Lo(n,67108864);r!==null&&ni(r,n,67108864),xp(n,67108864)}}var sf=!0;function iC(n,r,a,u){var f=H.T;H.T=null;var d=ut.p;try{ut.p=2,Op(n,r,a,u)}finally{ut.p=d,H.T=f}}function rC(n,r,a,u){var f=H.T;H.T=null;var d=ut.p;try{ut.p=8,Op(n,r,a,u)}finally{ut.p=d,H.T=f}}function Op(n,r,a,u){if(sf){var f=Np(u);if(f===null)yp(n,r,u,af,a),wE(n,u);else if(aC(f,n,r,a,u))u.stopPropagation();else if(wE(n,u),r&4&&-1<sC.indexOf(n)){for(;f!==null;){var d=Bi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Un(d.pendingLanes);if(T!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var N=1<<31-Pe(T);w.entanglements[1]|=N,T&=~N}tr(d),(ue&6)===0&&(Hh=ve()+500,ju(0))}}break;case 13:w=Lo(d,2),w!==null&&ni(w,d,2),qh(),xp(d,2)}if(d=Np(u),d===null&&yp(n,r,u,af,a),d===f)break;f=d}f!==null&&u.stopPropagation()}else yp(n,r,u,null,a)}}function Np(n){return n=li(n),Dp(n)}var af=null;function Dp(n){if(af=null,n=Er(n),n!==null){var r=l(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return af=n,null}function bE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case un:return 2;case Ui:return 8;case Ti:case qe:return 32;case xn:return 268435456;default:return 32}default:return 32}}var Mp=!1,Ns=null,Ds=null,Ms=null,Qu=new Map,$u=new Map,ks=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wE(n,r){switch(n){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Qu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(r.pointerId)}}function Yu(n,r,a,u,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Bi(r),r!==null&&TE(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function aC(n,r,a,u,f){switch(r){case"focusin":return Ns=Yu(Ns,n,r,a,u,f),!0;case"dragenter":return Ds=Yu(Ds,n,r,a,u,f),!0;case"mouseover":return Ms=Yu(Ms,n,r,a,u,f),!0;case"pointerover":var d=f.pointerId;return Qu.set(d,Yu(Qu.get(d)||null,n,r,a,u,f)),!0;case"gotpointercapture":return d=f.pointerId,$u.set(d,Yu($u.get(d)||null,n,r,a,u,f)),!0}return!1}function SE(n){var r=Er(n.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Re(n.priority,function(){if(a.tag===13){var u=ei();u=ye(u);var f=Lo(a,u);f!==null&&ni(f,a,u),xp(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function of(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Np(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Sr=u,a.target.dispatchEvent(u),Sr=null}else return r=Bi(a),r!==null&&TE(r),n.blockedOn=a,!1;r.shift()}return!0}function AE(n,r,a){of(n)&&a.delete(r)}function oC(){Mp=!1,Ns!==null&&of(Ns)&&(Ns=null),Ds!==null&&of(Ds)&&(Ds=null),Ms!==null&&of(Ms)&&(Ms=null),Qu.forEach(AE),$u.forEach(AE)}function lf(n,r){n.blockedOn===r&&(n.blockedOn=null,Mp||(Mp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,oC)))}var uf=null;function RE(n){uf!==n&&(uf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){uf===n&&(uf=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Dp(u||a)===null)continue;break}var d=Bi(a);d!==null&&(n.splice(r,3),r-=3,Dm(d,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Xu(n){function r(N){return lf(N,n)}Ns!==null&&lf(Ns,n),Ds!==null&&lf(Ds,n),Ms!==null&&lf(Ms,n),Qu.forEach(r),$u.forEach(r);for(var a=0;a<ks.length;a++){var u=ks[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ks.length&&(a=ks[0],a.blockedOn===null);)SE(a),a.blockedOn===null&&ks.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],d=a[u+1],T=f[ne]||null;if(typeof d=="function")T||RE(a);else if(T){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[ne]||null)w=T.formAction;else if(Dp(f)!==null)continue}else w=T.action;typeof w=="function"?a[u+1]=w:(a.splice(u,3),u-=3),RE(a)}}}function kp(n){this._internalRoot=n}cf.prototype.render=kp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=ei();_E(a,u,n,r,null,null)},cf.prototype.unmount=kp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;_E(n.current,2,null,n,null,null),qh(),r[Te]=null}};function cf(n){this._internalRoot=n}cf.prototype.unstable_scheduleHydration=function(n){if(n){var r=$n();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ks.length&&r!==0&&r<ks[a].priority;a++);ks.splice(a,0,n),a===0&&SE(n)}};var CE=t.version;if(CE!=="19.1.0")throw Error(s(527,CE,"19.1.0"));ut.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var lC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{_t=hf.inject(lC),Ht=hf}catch{}}return Zu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=F_,d=q_,T=G_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=yE(n,1,!1,null,null,a,u,f,d,T,w,null),n[Te]=r.current,gp(n),new kp(r)},Zu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",d=F_,T=q_,w=G_,N=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),r=yE(n,1,!0,r,a??null,u,f,d,T,w,N,K),r.context=vE(null),a=r.current,u=ei(),u=ye(u),f=ys(u),f.callback=null,vs(a,f,u),a=u,r.current.lanes=a,ai(r,a),tr(r),n[Te]=r.current,gp(n),new cf(r)},Zu.version="19.1.0",Zu}var UE;function yC(){if(UE)return Up.exports;UE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Up.exports=gC(),Up.exports}var vC=yC();const iy=I.createContext({handleKeyClick:()=>console.warn("KeyBoardContext: No handleKeyClick provider found!")});var Jb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jE=ct.createContext&&ct.createContext(Jb),_C=["attr","size","title"];function EC(i,t){if(i==null)return{};var e=TC(i,t),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)s=l[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(e[s]=i[s])}return e}function TC(i,t){if(i==null)return{};var e={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function Pf(){return Pf=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},Pf.apply(this,arguments)}function BE(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),e.push.apply(e,s)}return e}function Lf(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(e),!0).forEach(function(s){bC(i,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):BE(Object(e)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(e,s))})}return i}function bC(i,t,e){return t=wC(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function wC(i){var t=SC(i,"string");return typeof t=="symbol"?t:t+""}function SC(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var s=e.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function tw(i){return i&&i.map((t,e)=>ct.createElement(t.tag,Lf({key:e},t.attr),tw(t.child)))}function Nc(i){return t=>ct.createElement(AC,Pf({attr:Lf({},i.attr)},t),tw(i.child))}function AC(i){var t=e=>{var{attr:s,size:o,title:l}=i,h=EC(i,_C),m=o||e.size||"1em",p;return e.className&&(p=e.className),i.className&&(p=(p?p+" ":"")+i.className),ct.createElement("svg",Pf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,h,{className:p,style:Lf(Lf({color:i.color||e.color},e.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&ct.createElement("title",null,l),i.children)};return jE!==void 0?ct.createElement(jE.Consumer,null,e=>t(e)):t(Jb)}function RC(i){return Nc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M135.19 390.14a28.79 28.79 0 0 0 21.68 9.86h246.26A29 29 0 0 0 432 371.13V140.87A29 29 0 0 0 403.13 112H156.87a28.84 28.84 0 0 0-21.67 9.84L46.33 256l88.86 134.11z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336.67 192.33 206.66 322.34m130.01 0L206.66 192.33m130.01 0L206.66 322.34m130.01 0L206.66 192.33"},child:[]}]})(i)}function CC(i){return Nc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"28",d:"M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296"},child:[]},{tag:"circle",attr:{cx:"250",cy:"348",r:"20"},child:[]}]})(i)}function IC(i){return Nc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 496H72a24 24 0 0 1-24-24V328a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v144a24 24 0 0 1-24 24zm224 0h-32a24 24 0 0 1-24-24V232a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v240a24 24 0 0 1-24 24zm112 0h-32a24 24 0 0 1-24-24V120a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v352a24 24 0 0 1-24 24zm-224 0h-32a24 24 0 0 1-24-24V40a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v432a24 24 0 0 1-24 24z"},child:[]}]})(i)}const xC=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["ENTER","Z","X","C","V","B","N","M","BACKSPACE"]];function OC({className:i,keyColors:t}){const{handleKeyClick:e}=I.useContext(iy);return R.jsx("div",{className:`keyboard ${i}`,children:xC.map((s,o)=>R.jsx(NC,{keyboardRow:s,index:o,handleKeyClick:e,keyColors:t},o))})}function NC({keyboardRow:i,index:t,keyColors:e}){const s=`keyboard-row ${t+1}`;return R.jsx("div",{className:s,children:i.map((o,l)=>R.jsx(DC,{keyboardKey:o,keyColors:e},l))})}function DC({keyboardKey:i,keyColors:t}){const{handleKeyClick:e}=I.useContext(iy),o=`keyboard-key ${i.length>1?i.toLowerCase():"key-letter"} ${t.get(i)}`,l=i==="BACKSPACE"?null:i;return R.jsxs("button",{className:o,onClick:e,id:i,children:[i==="BACKSPACE"&&R.jsx(RC,{className:"backspace-img"}),l]})}var MC=Zb();const Ya=cd(MC);function kC(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}const VC=i=>{switch(i){case"success":return UC;case"info":return BC;case"warning":return jC;case"error":return zC;default:return null}},PC=Array(12).fill(0),LC=({visible:i,className:t})=>ct.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},ct.createElement("div",{className:"sonner-spinner"},PC.map((e,s)=>ct.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),UC=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jC=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BC=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zC=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),HC=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ct.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ct.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),FC=()=>{const[i,t]=ct.useState(document.hidden);return ct.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),i};let cg=1;class qC{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:s,...o}=t,l=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:cg++,h=this.toasts.find(p=>p.id===l),m=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),h?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...t,id:l,title:s}),{...p,...t,id:l,dismissible:m,title:s}):p):this.addToast({title:s,...o,dismissible:m,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let l=s!==void 0,h;const m=o.then(async g=>{if(h=["resolve",g],ct.isValidElement(g))l=!1,this.create({id:s,type:"default",message:g});else if(KC(g)&&!g.ok){l=!1;const v=typeof e.error=="function"?await e.error(`HTTP error! status: ${g.status}`):e.error,b=typeof e.description=="function"?await e.description(`HTTP error! status: ${g.status}`):e.description,U=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:b,...U})}else if(g instanceof Error){l=!1;const v=typeof e.error=="function"?await e.error(g):e.error,b=typeof e.description=="function"?await e.description(g):e.description,U=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:b,...U})}else if(e.success!==void 0){l=!1;const v=typeof e.success=="function"?await e.success(g):e.success,b=typeof e.description=="function"?await e.description(g):e.description,U=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:s,type:"success",description:b,...U})}}).catch(async g=>{if(h=["reject",g],e.error!==void 0){l=!1;const E=typeof e.error=="function"?await e.error(g):e.error,v=typeof e.description=="function"?await e.description(g):e.description,O=typeof E=="object"&&!ct.isValidElement(E)?E:{message:E};this.create({id:s,type:"error",description:v,...O})}}).finally(()=>{l&&(this.dismiss(s),s=void 0),e.finally==null||e.finally.call(e)}),p=()=>new Promise((g,E)=>m.then(()=>h[0]==="reject"?E(h[1]):g(h[1])).catch(E));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(t,e)=>{const s=(e==null?void 0:e.id)||cg++;return this.create({jsx:t(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Gn=new qC,GC=(i,t)=>{const e=(t==null?void 0:t.id)||cg++;return Gn.addToast({title:i,...t,id:e}),e},KC=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",QC=GC,$C=()=>Gn.toasts,YC=()=>Gn.getActiveToasts(),ar=Object.assign(QC,{success:Gn.success,info:Gn.info,warning:Gn.warning,error:Gn.error,custom:Gn.custom,message:Gn.message,promise:Gn.promise,dismiss:Gn.dismiss,loading:Gn.loading},{getHistory:$C,getToasts:YC});kC("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function df(i){return i.label!==void 0}const XC=3,WC="24px",ZC="16px",zE=4e3,JC=356,tI=14,eI=45,nI=200;function er(...i){return i.filter(Boolean).join(" ")}function iI(i){const[t,e]=i.split("-"),s=[];return t&&s.push(t),e&&s.push(e),s}const rI=i=>{var t,e,s,o,l,h,m,p,g;const{invert:E,toast:v,unstyled:b,interacting:O,setHeights:U,visibleToasts:q,heights:k,index:et,toasts:ot,expanded:Z,removeToast:lt,defaultRichColors:at,closeButton:st,style:D,cancelButtonStyle:A,actionButtonStyle:C,className:M="",descriptionClassName:P="",duration:j,position:x,gap:wt,expandByDefault:Pt,classNames:H,icons:ut,closeButtonAriaLabel:dt="Close toast"}=i,[xt,V]=ct.useState(null),[Y,rt]=ct.useState(null),[W,ft]=ct.useState(!1),[Tt,pt]=ct.useState(!1),[le,qt]=ct.useState(!1),[Ae,Ne]=ct.useState(!1),[vn,ln]=ct.useState(!1),[In,tn]=ct.useState(0),[ee,si]=ct.useState(0),ve=ct.useRef(v.duration||j||zE),os=ct.useRef(null),un=ct.useRef(null),Ui=et===0,Ti=et+1<=q,qe=v.type,xn=v.dismissible!==!1,ji=v.className||"",ls=v.descriptionClassName||"",_t=ct.useMemo(()=>k.findIndex(At=>At.toastId===v.id)||0,[k,v.id]),Ht=ct.useMemo(()=>{var At;return(At=v.closeButton)!=null?At:st},[v.closeButton,st]),Ge=ct.useMemo(()=>v.duration||j||zE,[v.duration,j]),Pe=ct.useRef(0),bi=ct.useRef(0),_o=ct.useRef(0),Ln=ct.useRef(null),[mr,pr]=x.split("-"),Un=ct.useMemo(()=>k.reduce((At,_e,ye)=>ye>=_t?At:At+_e.height,0),[k,_t]),gr=FC(),yr=v.invert||E,vr=qe==="loading";bi.current=ct.useMemo(()=>_t*wt+Un,[_t,Un]),ct.useEffect(()=>{ve.current=Ge},[Ge]),ct.useEffect(()=>{ft(!0)},[]),ct.useEffect(()=>{const At=un.current;if(At){const _e=At.getBoundingClientRect().height;return si(_e),U(ye=>[{toastId:v.id,height:_e,position:v.position},...ye]),()=>U(ye=>ye.filter(Le=>Le.toastId!==v.id))}},[U,v.id]),ct.useLayoutEffect(()=>{if(!W)return;const At=un.current,_e=At.style.height;At.style.height="auto";const ye=At.getBoundingClientRect().height;At.style.height=_e,si(ye),U(Le=>Le.find(Re=>Re.toastId===v.id)?Le.map(Re=>Re.toastId===v.id?{...Re,height:ye}:Re):[{toastId:v.id,height:ye,position:v.position},...Le])},[W,v.title,v.description,U,v.id,v.jsx,v.action,v.cancel]);const jn=ct.useCallback(()=>{pt(!0),tn(bi.current),U(At=>At.filter(_e=>_e.toastId!==v.id)),setTimeout(()=>{lt(v)},nI)},[v,lt,U,bi]);ct.useEffect(()=>{if(v.promise&&qe==="loading"||v.duration===1/0||v.type==="loading")return;let At;return Z||O||gr?(()=>{if(_o.current<Pe.current){const Le=new Date().getTime()-Pe.current;ve.current=ve.current-Le}_o.current=new Date().getTime()})():(()=>{ve.current!==1/0&&(Pe.current=new Date().getTime(),At=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),jn()},ve.current))})(),()=>clearTimeout(At)},[Z,O,v,qe,gr,jn]),ct.useEffect(()=>{v.delete&&(jn(),v.onDismiss==null||v.onDismiss.call(v,v))},[jn,v.delete]);function ga(){var At;if(ut!=null&&ut.loading){var _e;return ct.createElement("div",{className:er(H==null?void 0:H.loader,v==null||(_e=v.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":qe==="loading"},ut.loading)}return ct.createElement(LC,{className:er(H==null?void 0:H.loader,v==null||(At=v.classNames)==null?void 0:At.loader),visible:qe==="loading"})}const wi=v.icon||(ut==null?void 0:ut[qe])||VC(qe);var ai,us;return ct.createElement("li",{tabIndex:0,ref:un,className:er(M,ji,H==null?void 0:H.toast,v==null||(t=v.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[qe],v==null||(e=v.classNames)==null?void 0:e[qe]),"data-sonner-toast":"","data-rich-colors":(ai=v.richColors)!=null?ai:at,"data-styled":!(v.jsx||v.unstyled||b),"data-mounted":W,"data-promise":!!v.promise,"data-swiped":vn,"data-removed":Tt,"data-visible":Ti,"data-y-position":mr,"data-x-position":pr,"data-index":et,"data-front":Ui,"data-swiping":le,"data-dismissible":xn,"data-type":qe,"data-invert":yr,"data-swipe-out":Ae,"data-swipe-direction":Y,"data-expanded":!!(Z||Pt&&W),style:{"--index":et,"--toasts-before":et,"--z-index":ot.length-et,"--offset":`${Tt?In:bi.current}px`,"--initial-height":Pt?"auto":`${ee}px`,...D,...v.style},onDragEnd:()=>{qt(!1),V(null),Ln.current=null},onPointerDown:At=>{vr||!xn||(os.current=new Date,tn(bi.current),At.target.setPointerCapture(At.pointerId),At.target.tagName!=="BUTTON"&&(qt(!0),Ln.current={x:At.clientX,y:At.clientY}))},onPointerUp:()=>{var At,_e,ye;if(Ae||!xn)return;Ln.current=null;const Le=Number(((At=un.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$n=Number(((_e=un.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Re=new Date().getTime()-((ye=os.current)==null?void 0:ye.getTime()),Gt=xt==="x"?Le:$n,Ee=Math.abs(Gt)/Re;if(Math.abs(Gt)>=eI||Ee>.11){tn(bi.current),v.onDismiss==null||v.onDismiss.call(v,v),rt(xt==="x"?Le>0?"right":"left":$n>0?"down":"up"),jn(),Ne(!0);return}else{var ne,Te;(ne=un.current)==null||ne.style.setProperty("--swipe-amount-x","0px"),(Te=un.current)==null||Te.style.setProperty("--swipe-amount-y","0px")}ln(!1),qt(!1),V(null)},onPointerMove:At=>{var _e,ye,Le;if(!Ln.current||!xn||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;const Re=At.clientY-Ln.current.y,Gt=At.clientX-Ln.current.x;var Ee;const ne=(Ee=i.swipeDirections)!=null?Ee:iI(x);!xt&&(Math.abs(Gt)>1||Math.abs(Re)>1)&&V(Math.abs(Gt)>Math.abs(Re)?"x":"y");let Te={x:0,y:0};const cs=Si=>1/(1.5+Math.abs(Si)/20);if(xt==="y"){if(ne.includes("top")||ne.includes("bottom"))if(ne.includes("top")&&Re<0||ne.includes("bottom")&&Re>0)Te.y=Re;else{const Si=Re*cs(Re);Te.y=Math.abs(Si)<Math.abs(Re)?Si:Re}}else if(xt==="x"&&(ne.includes("left")||ne.includes("right")))if(ne.includes("left")&&Gt<0||ne.includes("right")&&Gt>0)Te.x=Gt;else{const Si=Gt*cs(Gt);Te.x=Math.abs(Si)<Math.abs(Gt)?Si:Gt}(Math.abs(Te.x)>0||Math.abs(Te.y)>0)&&ln(!0),(ye=un.current)==null||ye.style.setProperty("--swipe-amount-x",`${Te.x}px`),(Le=un.current)==null||Le.style.setProperty("--swipe-amount-y",`${Te.y}px`)}},Ht&&!v.jsx&&qe!=="loading"?ct.createElement("button",{"aria-label":dt,"data-disabled":vr,"data-close-button":!0,onClick:vr||!xn?()=>{}:()=>{jn(),v.onDismiss==null||v.onDismiss.call(v,v)},className:er(H==null?void 0:H.closeButton,v==null||(s=v.classNames)==null?void 0:s.closeButton)},(us=ut==null?void 0:ut.close)!=null?us:HC):null,(qe||v.icon||v.promise)&&v.icon!==null&&((ut==null?void 0:ut[qe])!==null||v.icon)?ct.createElement("div",{"data-icon":"",className:er(H==null?void 0:H.icon,v==null||(o=v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||ga():null,v.type!=="loading"?wi:null):null,ct.createElement("div",{"data-content":"",className:er(H==null?void 0:H.content,v==null||(l=v.classNames)==null?void 0:l.content)},ct.createElement("div",{"data-title":"",className:er(H==null?void 0:H.title,v==null||(h=v.classNames)==null?void 0:h.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?ct.createElement("div",{"data-description":"",className:er(P,ls,H==null?void 0:H.description,v==null||(m=v.classNames)==null?void 0:m.description)},typeof v.description=="function"?v.description():v.description):null),ct.isValidElement(v.cancel)?v.cancel:v.cancel&&df(v.cancel)?ct.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||A,onClick:At=>{df(v.cancel)&&xn&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,At),jn())},className:er(H==null?void 0:H.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,ct.isValidElement(v.action)?v.action:v.action&&df(v.action)?ct.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||C,onClick:At=>{df(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,At),!At.defaultPrevented&&jn())},className:er(H==null?void 0:H.actionButton,v==null||(g=v.classNames)==null?void 0:g.actionButton)},v.action.label):null)};function HE(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function sI(i,t){const e={};return[i,t].forEach((s,o)=>{const l=o===1,h=l?"--mobile-offset":"--offset",m=l?ZC:WC;function p(g){["top","right","bottom","left"].forEach(E=>{e[`${h}-${E}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?e[`${h}-${g}`]=m:e[`${h}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):p(m)}),e}const Dc=ct.forwardRef(function(t,e){const{invert:s,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:h,closeButton:m,className:p,offset:g,mobileOffset:E,theme:v="light",richColors:b,duration:O,style:U,visibleToasts:q=XC,toastOptions:k,dir:et=HE(),gap:ot=tI,icons:Z,containerAriaLabel:lt="Notifications"}=t,[at,st]=ct.useState([]),D=ct.useMemo(()=>Array.from(new Set([o].concat(at.filter(Y=>Y.position).map(Y=>Y.position)))),[at,o]),[A,C]=ct.useState([]),[M,P]=ct.useState(!1),[j,x]=ct.useState(!1),[wt,Pt]=ct.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=ct.useRef(null),ut=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),dt=ct.useRef(null),xt=ct.useRef(!1),V=ct.useCallback(Y=>{st(rt=>{var W;return(W=rt.find(ft=>ft.id===Y.id))!=null&&W.delete||Gn.dismiss(Y.id),rt.filter(({id:ft})=>ft!==Y.id)})},[]);return ct.useEffect(()=>Gn.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{st(rt=>rt.map(W=>W.id===Y.id?{...W,delete:!0}:W))});return}setTimeout(()=>{Ya.flushSync(()=>{st(rt=>{const W=rt.findIndex(ft=>ft.id===Y.id);return W!==-1?[...rt.slice(0,W),{...rt[W],...Y},...rt.slice(W+1)]:[Y,...rt]})})})}),[at]),ct.useEffect(()=>{if(v!=="system"){Pt(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Pt("dark"):Pt("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:rt})=>{Pt(rt?"dark":"light")})}catch{Y.addListener(({matches:W})=>{try{Pt(W?"dark":"light")}catch(ft){console.error(ft)}})}},[v]),ct.useEffect(()=>{at.length<=1&&P(!1)},[at]),ct.useEffect(()=>{const Y=rt=>{var W;if(l.every(pt=>rt[pt]||rt.code===pt)){var Tt;P(!0),(Tt=H.current)==null||Tt.focus()}rt.code==="Escape"&&(document.activeElement===H.current||(W=H.current)!=null&&W.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[l]),ct.useEffect(()=>{if(H.current)return()=>{dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null,xt.current=!1)}},[H.current]),ct.createElement("section",{ref:e,"aria-label":`${lt} ${ut}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((Y,rt)=>{var W;const[ft,Tt]=Y.split("-");return at.length?ct.createElement("ol",{key:Y,dir:et==="auto"?HE():et,tabIndex:-1,ref:H,className:p,"data-sonner-toaster":!0,"data-sonner-theme":wt,"data-y-position":ft,"data-x-position":Tt,style:{"--front-toast-height":`${((W=A[0])==null?void 0:W.height)||0}px`,"--width":`${JC}px`,"--gap":`${ot}px`,...U,...sI(g,E)},onBlur:pt=>{xt.current&&!pt.currentTarget.contains(pt.relatedTarget)&&(xt.current=!1,dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null))},onFocus:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||xt.current||(xt.current=!0,dt.current=pt.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{j||P(!1)},onDragEnd:()=>P(!1),onPointerDown:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||x(!0)},onPointerUp:()=>x(!1)},at.filter(pt=>!pt.position&&rt===0||pt.position===Y).map((pt,le)=>{var qt,Ae;return ct.createElement(rI,{key:pt.id,icons:Z,index:le,toast:pt,defaultRichColors:b,duration:(qt=k==null?void 0:k.duration)!=null?qt:O,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:s,visibleToasts:q,closeButton:(Ae=k==null?void 0:k.closeButton)!=null?Ae:m,interacting:j,position:Y,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,closeButtonAriaLabel:k==null?void 0:k.closeButtonAriaLabel,removeToast:V,toasts:at.filter(Ne=>Ne.position==pt.position),heights:A.filter(Ne=>Ne.position==pt.position),setHeights:C,expandByDefault:h,gap:ot,expanded:M,swipeDirections:t.swipeDirections})})):null}))});function aI({guesses:i,className:t,wordLength:e,highLight:s}){return R.jsx("div",{className:`wordle-board ${t}`,children:i.map((o,l)=>R.jsx(oI,{guess:o,wordLength:e,highLight:l===s-1?"highlight":""},l))})}function oI({guess:i,wordLength:t,highLight:e}){const s=[];for(let o=0;o<t;o++){let l=i.word[o],h=`tile ${i.colors[o]}`,m=`letter ${i.colors[o]}`;s.push(R.jsx("div",{className:h+" "+e,style:{"--index":o},children:R.jsxs("div",{className:"tile-inner",style:{"--index":o},children:[R.jsx("div",{className:"letter black",style:{"--index":o},children:R.jsx("span",{children:l})}),R.jsx("div",{className:m,style:{"--index":o},children:R.jsx("span",{children:l})})]})},o))}return R.jsx(R.Fragment,{children:s})}function ry({darkMode:i,gameMode:t,solution:e,wordSet:s,gameResult:o,setGameResult:l,rowIndex:h,numOfGuesses:m,wordLength:p,highLight:g,guesses:E,setGuesses:v,keyColors:b,setKeyColors:O,baseColors:U,userData:q}){const k=I.useRef({word:"",colors:U}),et=I.useRef(!0),ot=A=>new Promise(C=>setTimeout(C,A)),Z=(A,C)=>{setTimeout(()=>{b.get(A)!=="green"&&O(M=>{const P=new Map(M);return P.set(A,C),P})},1700)},lt=A=>{const C=[...E];C[h.current]={...A},v(C)},at=async()=>{const A=new Array(p).fill(void 0),C=new Map,M=[];let P=0;const j=new Map;e.forEach(x=>j.has(x)?j.set(x,j.get(x)+1):j.set(x,1)),k.current.word.split("").forEach((x,wt)=>{x===e[wt]?(A[wt]="green",C.set(x,"green"),P++,j.set(x,j.get(x)-1)):M.push(wt)}),M.forEach(x=>{const wt=k.current.word[x];j.get(wt)&&e.includes(wt)?(A[x]="orange",j.set(wt,j.get(wt)-1),!C.has(wt)&&C.set(wt,"orange")):(A[x]="grey",!C.has(wt)&&C.set(wt,"grey"))}),C.forEach((x,wt)=>{Z(wt,x)}),k.current={word:k.current.word,colors:A},lt(k.current),await ot(1700),P===p&&(await ot(1e3),l("guessed"))},st=A=>{D(A.target.id)},D=async A=>{var C;(t==="practice"||t!=="practice"&&!((C=q.current)!=null&&C.statistics.gameModes[t].finishedToday))&&!o&&et.current&&(A==="ENTER"?k.current.word.length===p?s.current.has(k.current.word.toLowerCase())?(et.current=!1,await at(),h.current++,k.current={word:"",colors:U},et.current=!0,!o&&h.current>=m&&(l("failed"),h.current++)):ar.warning("Not in the word bank."):ar.warning("Too short."):h.current<m&&(A==="BACKSPACE"&&k.current.word.length>0?(k.current.word=k.current.word.slice(0,-1),lt(k.current)):/[A-Z]/.test(A)&&A.length===1&&k.current.word.length<p&&(k.current.word=k.current.word+A,lt(k.current))))};return I.useEffect(()=>{const A=C=>{D(C.key.toUpperCase())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[E]),R.jsxs(R.Fragment,{children:[R.jsx(Dc,{richColors:!0,position:"top-center"}),R.jsx("h3",{className:`game-mode ${i}`,children:t}),R.jsx(aI,{guesses:E,className:i,wordLength:p,highLight:g}),R.jsx(iy.Provider,{value:{handleKeyClick:st},children:R.jsx(OC,{className:i,keyColors:b})})]})}const lI=(i=!0)=>{const t=I.useRef(i),[e,s]=I.useState(t.current?"dark":"light"),o=I.useCallback(()=>{t.current=!t.current,s(t.current?"dark":"light")},[]);return[e,o]};var Hp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var FE;function uI(){return FE||(FE=1,function(i){(function(){var t={}.hasOwnProperty;function e(){for(var l="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(l=o(l,s(m)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return e.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var m in l)t.call(l,m)&&l[m]&&(h=o(h,m));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(e.default=e,i.exports=e):window.classNames=e})()}(Hp)),Hp.exports}var cI=uI();const Mt=cd(cI);function hg(){return hg=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},hg.apply(null,arguments)}function ew(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)!==-1)continue;e[s]=i[s]}return e}function qE(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function hI(i){var t=fI(i,"string");return typeof t=="symbol"?t:String(t)}function fI(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var s=e.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function dI(i,t,e){var s=I.useRef(i!==void 0),o=I.useState(t),l=o[0],h=o[1],m=i!==void 0,p=s.current;return s.current=m,!m&&p&&l!==t&&h(t),[m?i:l,I.useCallback(function(g){for(var E=arguments.length,v=new Array(E>1?E-1:0),b=1;b<E;b++)v[b-1]=arguments[b];e&&e.apply(void 0,[g].concat(v)),h(g)},[e])]}function sy(i,t){return Object.keys(t).reduce(function(e,s){var o,l=e,h=l[qE(s)],m=l[s],p=ew(l,[qE(s),s].map(hI)),g=t[s],E=dI(m,h,i[g]),v=E[0],b=E[1];return hg({},p,(o={},o[s]=v,o[g]=b,o))},i)}function fg(i,t){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},fg(i,t)}function mI(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,fg(i,t)}const pI=["xxl","xl","lg","md","sm","xs"],gI="xs",Mc=I.createContext({prefixes:{},breakpoints:pI,minBreakpoint:gI}),{Consumer:OP,Provider:NP}=Mc;function jt(i,t){const{prefixes:e}=I.useContext(Mc);return i||e[t]||t}function yI(){const{breakpoints:i}=I.useContext(Mc);return i}function vI(){const{minBreakpoint:i}=I.useContext(Mc);return i}function _I(){const{dir:i}=I.useContext(Mc);return i==="rtl"}function hd(i){return i&&i.ownerDocument||document}function EI(i){var t=hd(i);return t&&t.defaultView||window}function TI(i,t){return EI(i).getComputedStyle(i,t)}var bI=/([A-Z])/g;function wI(i){return i.replace(bI,"-$1").toLowerCase()}var SI=/^ms-/;function mf(i){return wI(i).replace(SI,"-ms-")}var AI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function RI(i){return!!(i&&AI.test(i))}function Xr(i,t){var e="",s="";if(typeof t=="string")return i.style.getPropertyValue(mf(t))||TI(i).getPropertyValue(mf(t));Object.keys(t).forEach(function(o){var l=t[o];!l&&l!==0?i.style.removeProperty(mf(o)):RI(o)?s+=o+"("+l+") ":e+=mf(o)+": "+l+";"}),s&&(e+="transform: "+s+";"),i.style.cssText+=";"+e}var Fp={exports:{}},qp,GE;function CI(){if(GE)return qp;GE=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qp=i,qp}var Gp,KE;function II(){if(KE)return Gp;KE=1;var i=CI();function t(){}function e(){}return e.resetWarningCache=t,Gp=function(){function s(h,m,p,g,E,v){if(v!==i){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},Gp}var QE;function xI(){return QE||(QE=1,Fp.exports=II()()),Fp.exports}var OI=xI();const Wr=cd(OI),$E={disabled:!1},nw=ct.createContext(null);var NI=function(t){return t.scrollTop},tc="unmounted",Us="exited",Di="entering",Kr="entered",mc="exiting",ss=function(i){mI(t,i);function t(s,o){var l;l=i.call(this,s,o)||this;var h=o,m=h&&!h.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?m?(p=Us,l.appearStatus=Di):p=Kr:s.unmountOnExit||s.mountOnEnter?p=tc:p=Us,l.state={status:p},l.nextCallback=null,l}t.getDerivedStateFromProps=function(o,l){var h=o.in;return h&&l.status===tc?{status:Us}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(o){var l=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==Di&&h!==Kr&&(l=Di):(h===Di||h===Kr)&&(l=mc)}this.updateStatus(!1,l)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o=this.props.timeout,l,h,m;return l=h=m=o,o!=null&&typeof o!="number"&&(l=o.exit,h=o.enter,m=o.appear!==void 0?o.appear:h),{exit:l,enter:h,appear:m}},e.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===Di){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:Ya.findDOMNode(this);h&&NI(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Us&&this.setState({status:tc})},e.performEnter=function(o){var l=this,h=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[Ya.findDOMNode(this),m],g=p[0],E=p[1],v=this.getTimeouts(),b=m?v.appear:v.enter;if(!o&&!h||$E.disabled){this.safeSetState({status:Kr},function(){l.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:Di},function(){l.props.onEntering(g,E),l.onTransitionEnd(b,function(){l.safeSetState({status:Kr},function(){l.props.onEntered(g,E)})})})},e.performExit=function(){var o=this,l=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:Ya.findDOMNode(this);if(!l||$E.disabled){this.safeSetState({status:Us},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:mc},function(){o.props.onExiting(m),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:Us},function(){o.props.onExited(m)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},e.setNextCallback=function(o){var l=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,l.nextCallback=null,o(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},e.onTransitionEnd=function(o,l){this.setNextCallback(l);var h=this.props.nodeRef?this.props.nodeRef.current:Ya.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}o!=null&&setTimeout(this.nextCallback,o)},e.render=function(){var o=this.state.status;if(o===tc)return null;var l=this.props,h=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var m=ew(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ct.createElement(nw.Provider,{value:null},typeof h=="function"?h(o,m):ct.cloneElement(ct.Children.only(h),m))},t}(ct.Component);ss.contextType=nw;ss.propTypes={};function ll(){}ss.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ll,onEntering:ll,onEntered:ll,onExit:ll,onExiting:ll,onExited:ll};ss.UNMOUNTED=tc;ss.EXITED=Us;ss.ENTERING=Di;ss.ENTERED=Kr;ss.EXITING=mc;function DI(i){return i.code==="Escape"||i.keyCode===27}function MI(){const i=I.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function zl(i){if(!i||typeof i=="function")return null;const{major:t}=MI();return t>=19?i.props.ref:i.ref}const Hl=!!(typeof window<"u"&&window.document&&window.document.createElement);var dg=!1,mg=!1;try{var Kp={get passive(){return dg=!0},get once(){return mg=dg=!0}};Hl&&(window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,!0))}catch{}function iw(i,t,e,s){if(s&&typeof s!="boolean"&&!mg){var o=s.once,l=s.capture,h=e;!mg&&o&&(h=e.__once||function m(p){this.removeEventListener(t,m,l),e.call(this,p)},e.__once=h),i.addEventListener(t,h,dg?s:l)}i.addEventListener(t,e,s)}function pg(i,t,e,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(t,e,o),e.__once&&i.removeEventListener(t,e.__once,o)}function Uf(i,t,e,s){return iw(i,t,e,s),function(){pg(i,t,e,s)}}function kI(i,t,e,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(t,e,s),i.dispatchEvent(o)}}function VI(i){var t=Xr(i,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function PI(i,t,e){e===void 0&&(e=5);var s=!1,o=setTimeout(function(){s||kI(i,"transitionend",!0)},t+e),l=Uf(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function rw(i,t,e,s){e==null&&(e=VI(i)||0);var o=PI(i,e,s),l=Uf(i,"transitionend",t);return function(){o(),l()}}function YE(i,t){const e=Xr(i,t)||"",s=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*s}function ay(i,t){const e=YE(i,"transitionDuration"),s=YE(i,"transitionDelay"),o=rw(i,l=>{l.target===i&&(o(),t(l))},e+s)}function Ju(...i){return i.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...o){t.apply(this,o),e.apply(this,o)}},null)}function sw(i){i.offsetHeight}const XE=i=>!i||typeof i=="function"?i:t=>{i.current=t};function LI(i,t){const e=XE(i),s=XE(t);return o=>{e&&e(o),s&&s(o)}}function aw(i,t){return I.useMemo(()=>LI(i,t),[i,t])}function UI(i){return i&&"setState"in i?Ya.findDOMNode(i):i??null}const fd=ct.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:s,onExiting:o,onExited:l,addEndListener:h,children:m,childRef:p,...g},E)=>{const v=I.useRef(null),b=aw(v,p),O=st=>{b(UI(st))},U=st=>D=>{st&&v.current&&st(v.current,D)},q=I.useCallback(U(i),[i]),k=I.useCallback(U(t),[t]),et=I.useCallback(U(e),[e]),ot=I.useCallback(U(s),[s]),Z=I.useCallback(U(o),[o]),lt=I.useCallback(U(l),[l]),at=I.useCallback(U(h),[h]);return R.jsx(ss,{ref:E,...g,onEnter:q,onEntered:et,onEntering:k,onExit:ot,onExited:lt,onExiting:Z,addEndListener:at,nodeRef:v,children:typeof m=="function"?(st,D)=>m(st,{...D,ref:O}):ct.cloneElement(m,{ref:O})})});fd.displayName="TransitionWrapper";const jI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function BI(i,t){const e=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=t[e],o=jI[i];return s+parseInt(Xr(t,o[0]),10)+parseInt(Xr(t,o[1]),10)}const zI={[Us]:"collapse",[mc]:"collapsing",[Di]:"collapsing",[Kr]:"collapse show"},oy=ct.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:s,onExiting:o,className:l,children:h,dimension:m="height",in:p=!1,timeout:g=300,mountOnEnter:E=!1,unmountOnExit:v=!1,appear:b=!1,getDimensionValue:O=BI,...U},q)=>{const k=typeof m=="function"?m():m,et=I.useMemo(()=>Ju(st=>{st.style[k]="0"},i),[k,i]),ot=I.useMemo(()=>Ju(st=>{const D=`scroll${k[0].toUpperCase()}${k.slice(1)}`;st.style[k]=`${st[D]}px`},t),[k,t]),Z=I.useMemo(()=>Ju(st=>{st.style[k]=null},e),[k,e]),lt=I.useMemo(()=>Ju(st=>{st.style[k]=`${O(k,st)}px`,sw(st)},s),[s,O,k]),at=I.useMemo(()=>Ju(st=>{st.style[k]=null},o),[k,o]);return R.jsx(fd,{ref:q,addEndListener:ay,...U,"aria-expanded":U.role?p:null,onEnter:et,onEntering:ot,onEntered:Z,onExit:lt,onExiting:at,childRef:zl(h),in:p,timeout:g,mountOnEnter:E,unmountOnExit:v,appear:b,children:(st,D)=>ct.cloneElement(h,{...D,className:Mt(l,h.props.className,zI[st],k==="width"&&"collapse-horizontal")})})});oy.displayName="Collapse";function ow(i,t){return Array.isArray(i)?i.includes(t):i===t}const kc=I.createContext({});kc.displayName="AccordionContext";const ly=I.forwardRef(({as:i="div",bsPrefix:t,className:e,children:s,eventKey:o,...l},h)=>{const{activeEventKey:m}=I.useContext(kc);return t=jt(t,"accordion-collapse"),R.jsx(oy,{ref:h,in:ow(m,o),...l,className:Mt(e,t),children:R.jsx(i,{children:I.Children.only(s)})})});ly.displayName="AccordionCollapse";const dd=I.createContext({eventKey:""});dd.displayName="AccordionItemContext";const lw=I.forwardRef(({as:i="div",bsPrefix:t,className:e,onEnter:s,onEntering:o,onEntered:l,onExit:h,onExiting:m,onExited:p,...g},E)=>{t=jt(t,"accordion-body");const{eventKey:v}=I.useContext(dd);return R.jsx(ly,{eventKey:v,onEnter:s,onEntering:o,onEntered:l,onExit:h,onExiting:m,onExited:p,children:R.jsx(i,{ref:E,...g,className:Mt(e,t)})})});lw.displayName="AccordionBody";function HI(i,t){const{activeEventKey:e,onSelect:s,alwaysOpen:o}=I.useContext(kc);return l=>{let h=i===e?null:i;o&&(Array.isArray(e)?e.includes(i)?h=e.filter(m=>m!==i):h=[...e,i]:h=[i]),s==null||s(h,l),t==null||t(l)}}const uy=I.forwardRef(({as:i="button",bsPrefix:t,className:e,onClick:s,...o},l)=>{t=jt(t,"accordion-button");const{eventKey:h}=I.useContext(dd),m=HI(h,s),{activeEventKey:p}=I.useContext(kc);return i==="button"&&(o.type="button"),R.jsx(i,{ref:l,onClick:m,...o,"aria-expanded":Array.isArray(p)?p.includes(h):h===p,className:Mt(e,t,!ow(p,h)&&"collapsed")})});uy.displayName="AccordionButton";const uw=I.forwardRef(({as:i="h2","aria-controls":t,bsPrefix:e,className:s,children:o,onClick:l,...h},m)=>(e=jt(e,"accordion-header"),R.jsx(i,{ref:m,...h,className:Mt(s,e),children:R.jsx(uy,{onClick:l,"aria-controls":t,children:o})})));uw.displayName="AccordionHeader";const cw=I.forwardRef(({as:i="div",bsPrefix:t,className:e,eventKey:s,...o},l)=>{t=jt(t,"accordion-item");const h=I.useMemo(()=>({eventKey:s}),[s]);return R.jsx(dd.Provider,{value:h,children:R.jsx(i,{ref:l,...o,className:Mt(e,t)})})});cw.displayName="AccordionItem";const hw=I.forwardRef((i,t)=>{const{as:e="div",activeKey:s,bsPrefix:o,className:l,onSelect:h,flush:m,alwaysOpen:p,...g}=sy(i,{activeKey:"onSelect"}),E=jt(o,"accordion"),v=I.useMemo(()=>({activeEventKey:s,onSelect:h,alwaysOpen:p}),[s,h,p]);return R.jsx(kc.Provider,{value:v,children:R.jsx(e,{ref:t,...g,className:Mt(l,E,m&&`${E}-flush`)})})});hw.displayName="Accordion";const pf=Object.assign(hw,{Button:uy,Collapse:ly,Item:cw,Header:uw,Body:lw});function FI(i){return Nc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(i)}function qI(i){return Nc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(i)}const GI=()=>{};var WE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},KI=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const o=i[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[e++];t[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[e++],h=i[e++],m=i[e++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[e++],h=i[e++];t[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return t.join("")},dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=l>>2,v=(l&3)<<4|m>>4;let b=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(b=64)),s.push(e[E],e[v],e[b],e[O])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(fw(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):KI(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const v=o<i.length?e[i.charAt(o)]:64;if(++o,l==null||m==null||g==null||v==null)throw new QI;const b=l<<2|m>>4;if(s.push(b),g!==64){const O=m<<4&240|g>>2;if(s.push(O),v!==64){const U=g<<6&192|v;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class QI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $I=function(i){const t=fw(i);return dw.encodeByteArray(t,!0)},jf=function(i){return $I(i).replace(/\./g,"")},mw=function(i){try{return dw.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=()=>YI().__FIREBASE_DEFAULTS__,WI=()=>{if(typeof process>"u"||typeof WE>"u")return;const i=WE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ZI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&mw(i[1]);return t&&JSON.parse(t)},md=()=>{try{return GI()||XI()||WI()||ZI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},pw=i=>{var t,e;return(e=(t=md())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},JI=i=>{const t=pw(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},gw=()=>{var i;return(i=md())===null||i===void 0?void 0:i.config},yw=i=>{var t;return(t=md())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(i){return i.endsWith(".cloudworkstations.dev")}async function vw(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[jf(JSON.stringify(e)),jf(JSON.stringify(h)),""].join(".")}const oc={};function n2(){const i={prod:[],emulator:[]};for(const t of Object.keys(oc))oc[t]?i.emulator.push(t):i.prod.push(t);return i}function i2(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let ZE=!1;function _w(i,t){if(typeof window>"u"||typeof document>"u"||!Fl(window.location.host)||oc[i]===t||oc[i]||ZE)return;oc[i]=t;function e(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=n2().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,O){b.setAttribute("width","24"),b.setAttribute("id",O),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{ZE=!0,h()},b}function E(b,O){b.setAttribute("id",O),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=i2(s),O=e("text"),U=document.getElementById(O)||document.createElement("span"),q=e("learnmore"),k=document.getElementById(q)||document.createElement("a"),et=e("preprendIcon"),ot=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Z=b.element;m(Z),E(k,q);const lt=g();p(ot,et),Z.append(ot,U,k,lt),document.body.appendChild(Z)}l?(U.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function s2(){var i;const t=(i=md())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function l2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u2(){const i=Rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function c2(){return!s2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h2(){try{return typeof indexedDB=="object"}catch{return!1}}function f2(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="FirebaseError";class as extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=d2,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],h=l?m2(l,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new as(o,m,s)}}function m2(i,t){return i.replace(p2,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const p2=/\{\$([^}]+)}/g;function g2(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ao(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const l=i[o],h=t[o];if(JE(l)&&JE(h)){if(!ao(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function JE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(i){const t=[];for(const[e,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ec(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function nc(i){const t=i.indexOf("?");if(!t)return"";const e=i.indexOf("#",t);return i.substring(t,e>0?e:void 0)}function y2(i,t){const e=new v2(i,t);return e.subscribe.bind(e)}class v2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");_2(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=Qp),o.error===void 0&&(o.error=Qp),o.complete===void 0&&(o.complete=Qp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _2(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(i){return i&&i._delegate?i._delegate:i}class oo{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new t2;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(b2(t))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(t=Ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ka){return this.instances.has(t)}getOptions(t=Ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&h.resolve(o)}return o}onInit(t,e){var s;const o=this.normalizeInstanceIdentifier(e),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&t(h,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:T2(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ka){return this.component?this.component.multipleInstances?t:Ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T2(i){return i===Ka?void 0:i}function b2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new E2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})($t||($t={}));const S2={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},A2=$t.INFO,R2={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},C2=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=R2[t];if(o)console[o](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cy{constructor(t){this.name=t,this._logLevel=A2,this._logHandler=C2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?S2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const I2=(i,t)=>t.some(e=>i instanceof e);let tT,eT;function x2(){return tT||(tT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O2(){return eT||(eT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ew=new WeakMap,gg=new WeakMap,Tw=new WeakMap,$p=new WeakMap,hy=new WeakMap;function N2(i){const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{e(ta(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&Ew.set(e,i)}).catch(()=>{}),hy.set(t,i),t}function D2(i){if(gg.has(i))return;const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{e(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});gg.set(i,t)}let yg={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return gg.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Tw.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ta(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function M2(i){yg=i(yg)}function k2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call(Yp(this),t,...e);return Tw.set(s,t.sort?t.sort():[t]),ta(s)}:O2().includes(i)?function(...t){return i.apply(Yp(this),t),ta(Ew.get(this))}:function(...t){return ta(i.apply(Yp(this),t))}}function V2(i){return typeof i=="function"?k2(i):(i instanceof IDBTransaction&&D2(i),I2(i,x2())?new Proxy(i,yg):i)}function ta(i){if(i instanceof IDBRequest)return N2(i);if($p.has(i))return $p.get(i);const t=V2(i);return t!==i&&($p.set(i,t),hy.set(t,i)),t}const Yp=i=>hy.get(i);function P2(i,t,{blocked:e,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,t),m=ta(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ta(h.result),p.oldVersion,p.newVersion,ta(h.transaction),p)}),e&&h.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const L2=["get","getKey","getAll","getAllKeys","count"],U2=["put","add","delete","clear"],Xp=new Map;function nT(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Xp.get(t))return Xp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=U2.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||L2.includes(e)))return;const l=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return Xp.set(t,l),l}M2(i=>({...i,get:(t,e,s)=>nT(t,e)||i.get(t,e,s),has:(t,e)=>!!nT(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(B2(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function B2(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const vg="@firebase/app",iT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new cy("@firebase/app"),z2="@firebase/app-compat",H2="@firebase/analytics-compat",F2="@firebase/analytics",q2="@firebase/app-check-compat",G2="@firebase/app-check",K2="@firebase/auth",Q2="@firebase/auth-compat",$2="@firebase/database",Y2="@firebase/data-connect",X2="@firebase/database-compat",W2="@firebase/functions",Z2="@firebase/functions-compat",J2="@firebase/installations",tx="@firebase/installations-compat",ex="@firebase/messaging",nx="@firebase/messaging-compat",ix="@firebase/performance",rx="@firebase/performance-compat",sx="@firebase/remote-config",ax="@firebase/remote-config-compat",ox="@firebase/storage",lx="@firebase/storage-compat",ux="@firebase/firestore",cx="@firebase/ai",hx="@firebase/firestore-compat",fx="firebase",dx="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="[DEFAULT]",mx={[vg]:"fire-core",[z2]:"fire-core-compat",[F2]:"fire-analytics",[H2]:"fire-analytics-compat",[G2]:"fire-app-check",[q2]:"fire-app-check-compat",[K2]:"fire-auth",[Q2]:"fire-auth-compat",[$2]:"fire-rtdb",[Y2]:"fire-data-connect",[X2]:"fire-rtdb-compat",[W2]:"fire-fn",[Z2]:"fire-fn-compat",[J2]:"fire-iid",[tx]:"fire-iid-compat",[ex]:"fire-fcm",[nx]:"fire-fcm-compat",[ix]:"fire-perf",[rx]:"fire-perf-compat",[sx]:"fire-rc",[ax]:"fire-rc-compat",[ox]:"fire-gcs",[lx]:"fire-gcs-compat",[ux]:"fire-fst",[hx]:"fire-fst-compat",[cx]:"fire-vertex","fire-js":"fire-js",[fx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new Map,px=new Map,Eg=new Map;function rT(i,t){try{i.container.addComponent(t)}catch(e){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Nl(i){const t=i.name;if(Eg.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;Eg.set(t,i);for(const e of Bf.values())rT(e,i);for(const e of px.values())rT(e,i);return!0}function fy(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Ei(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new Vc("app","Firebase",gx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=dx;function bw(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:_g,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw ea.create("bad-app-name",{appName:String(o)});if(e||(e=gw()),!e)throw ea.create("no-options");const l=Bf.get(o);if(l){if(ao(e,l.options)&&ao(s,l.config))return l;throw ea.create("duplicate-app",{appName:o})}const h=new w2(o);for(const p of Eg.values())h.addComponent(p);const m=new yx(e,s,h);return Bf.set(o,m),m}function ww(i=_g){const t=Bf.get(i);if(!t&&i===_g&&gw())return bw();if(!t)throw ea.create("no-app",{appName:i});return t}function na(i,t,e){var s;let o=(s=mx[i])!==null&&s!==void 0?s:i;e&&(o+=`-${e}`);const l=o.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${t}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(m.join(" "));return}Nl(new oo(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="firebase-heartbeat-database",_x=1,pc="firebase-heartbeat-store";let Wp=null;function Sw(){return Wp||(Wp=P2(vx,_x,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(pc)}catch(e){console.warn(e)}}}}).catch(i=>{throw ea.create("idb-open",{originalErrorMessage:i.message})})),Wp}async function Ex(i){try{const e=(await Sw()).transaction(pc),s=await e.objectStore(pc).get(Aw(i));return await e.done,s}catch(t){if(t instanceof as)ts.warn(t.message);else{const e=ea.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ts.warn(e.message)}}}async function sT(i,t){try{const s=(await Sw()).transaction(pc,"readwrite");await s.objectStore(pc).put(t,Aw(i)),await s.done}catch(e){if(e instanceof as)ts.warn(e.message);else{const s=ea.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ts.warn(s.message)}}}function Aw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=1024,bx=30;class wx{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Ax(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=aT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>bx){const h=Rx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ts.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aT(),{heartbeatsToSend:s,unsentEntries:o}=Sx(this._heartbeatsCache.heartbeats),l=jf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ts.warn(e),""}}}function aT(){return new Date().toISOString().substring(0,10)}function Sx(i,t=Tx){const e=[];let s=i.slice();for(const o of i){const l=e.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),oT(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),oT(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class Ax{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h2()?f2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Ex(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return sT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return sT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function oT(i){return jf(JSON.stringify({version:2,heartbeats:i})).length}function Rx(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(i){Nl(new oo("platform-logger",t=>new j2(t),"PRIVATE")),Nl(new oo("heartbeat",t=>new wx(t),"PRIVATE")),na(vg,iT,i),na(vg,iT,"esm2017"),na("fire-js","")}Cx("");var Ix="firebase",xx="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(Ix,xx,"app");function dy(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(e[s[o]]=i[s[o]]);return e}function Rw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ox=Rw,Cw=new Vc("auth","Firebase",Rw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new cy("@firebase/auth");function Nx(i,...t){zf.logLevel<=$t.WARN&&zf.warn(`Auth (${ql}): ${i}`,...t)}function Rf(i,...t){zf.logLevel<=$t.ERROR&&zf.error(`Auth (${ql}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(i,...t){throw my(i,...t)}function or(i,...t){return my(i,...t)}function Iw(i,t,e){const s=Object.assign(Object.assign({},Ox()),{[t]:e});return new Vc("auth","Firebase",s).create(t,{appName:i.name})}function Zr(i){return Iw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function my(i,...t){if(typeof i!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(e,...s)}return Cw.create(i,...t)}function Ot(i,t,...e){if(!i)throw my(t,...e)}function $r(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Rf(t),new Error(t)}function es(i,t){i||$r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Dx(){return lT()==="http:"||lT()==="https:"}function lT(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dx()||o2()||"connection"in navigator)?navigator.onLine:!0}function kx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,e){this.shortDelay=t,this.longDelay=e,es(e>t,"Short delay should be less than long delay!"),this.isMobile=r2()||l2()}get(){return Mx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(i,t){es(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Lx=new Lc(3e4,6e4);function fa(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function da(i,t,e,s,o={}){return Ow(i,o,async()=>{let l={},h={};s&&(t==="GET"?h=s:l={body:JSON.stringify(s)});const m=Pc(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},l);return a2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Fl(i.emulatorConfig.host)&&(g.credentials="include"),xw.fetch()(await Nw(i,i.config.apiHost,e,m),g)})}async function Ow(i,t,e){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Vx),t);try{const o=new jx(i),l=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw gf(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const m=l.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gf(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw gf(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw gf(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Iw(i,E,g);Pi(i,E)}}catch(o){if(o instanceof as)throw o;Pi(i,"network-request-failed",{message:String(o)})}}async function Uc(i,t,e,s,o={}){const l=await da(i,t,e,s,o);return"mfaPendingCredential"in l&&Pi(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function Nw(i,t,e,s){const o=`${t}${e}?${s}`,l=i,h=l.config.emulator?py(i.config,o):`${i.config.apiScheme}://${o}`;return Px.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function Ux(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(or(this.auth,"network-request-failed")),Lx.get())})}}function gf(i,t,e){const s={appName:i.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=or(i,t,s);return o.customData._tokenResponse=e,o}function uT(i){return i!==void 0&&i.enterprise!==void 0}class Bx{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Ux(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zx(i,t){return da(i,"GET","/v2/recaptchaConfig",fa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(i,t){return da(i,"POST","/v1/accounts:delete",t)}async function Hf(i,t){return da(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Fx(i,t=!1){const e=Cn(i),s=await e.getIdToken(t),o=gy(s);Ot(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:lc(Zp(o.auth_time)),issuedAtTime:lc(Zp(o.iat)),expirationTime:lc(Zp(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Zp(i){return Number(i)*1e3}function gy(i){const[t,e,s]=i.split(".");if(t===void 0||e===void 0||s===void 0)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const o=mw(e);return o?JSON.parse(o):(Rf("Failed to decode base64 JWT payload"),null)}catch(o){return Rf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function cT(i){const t=gy(i);return Ot(t,"internal-error"),Ot(typeof t.exp<"u","internal-error"),Ot(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(i,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof as&&qx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function qx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(i){var t;const e=i.auth,s=await i.getIdToken(),o=await gc(i,Hf(e,{idToken:s}));Ot(o==null?void 0:o.users.length,e,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?Dw(l.providerUserInfo):[],m=Qx(i.providerData,h),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new bg(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(i,v)}async function Kx(i){const t=Cn(i);await Ff(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Qx(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function Dw(i){return i.map(t=>{var{providerId:e}=t,s=dy(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(i,t){const e=await Ow(i,{},async()=>{const s=Pc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=await Nw(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Fl(i.emulatorConfig.host)&&(p.credentials="include"),xw.fetch()(h,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Yx(i,t){return da(i,"POST","/v2/accounts:revokeToken",fa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ot(t.idToken,"internal-error"),Ot(typeof t.idToken<"u","internal-error"),Ot(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ot(t.length!==0,"internal-error");const e=cT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:l}=await $x(t,e);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:l}=e,h=new pl;return s&&(Ot(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(Ot(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),l&&(Ot(typeof l=="number","internal-error",{appName:t}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(i,t){Ot(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Mi{constructor(t){var{uid:e,auth:s,stsTokenManager:o}=t,l=dy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await gc(this,this.stsTokenManager.getToken(this.auth,t));return Ot(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Fx(this,t)}reload(){return Kx(this)}_assign(t){this!==t&&(Ot(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Mi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Ff(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(Zr(this.auth));const t=await this.getIdToken();return await gc(this,Hx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,o,l,h,m,p,g,E;const v=(s=e.displayName)!==null&&s!==void 0?s:void 0,b=(o=e.email)!==null&&o!==void 0?o:void 0,O=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,U=(h=e.photoURL)!==null&&h!==void 0?h:void 0,q=(m=e.tenantId)!==null&&m!==void 0?m:void 0,k=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,et=(g=e.createdAt)!==null&&g!==void 0?g:void 0,ot=(E=e.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Z,emailVerified:lt,isAnonymous:at,providerData:st,stsTokenManager:D}=e;Ot(Z&&D,t,"internal-error");const A=pl.fromJSON(this.name,D);Ot(typeof Z=="string",t,"internal-error"),Ps(v,t.name),Ps(b,t.name),Ot(typeof lt=="boolean",t,"internal-error"),Ot(typeof at=="boolean",t,"internal-error"),Ps(O,t.name),Ps(U,t.name),Ps(q,t.name),Ps(k,t.name),Ps(et,t.name),Ps(ot,t.name);const C=new Mi({uid:Z,auth:t,email:b,emailVerified:lt,displayName:v,isAnonymous:at,photoURL:U,phoneNumber:O,tenantId:q,stsTokenManager:A,createdAt:et,lastLoginAt:ot});return st&&Array.isArray(st)&&(C.providerData=st.map(M=>Object.assign({},M))),k&&(C._redirectEventId=k),C}static async _fromIdTokenResponse(t,e,s=!1){const o=new pl;o.updateFromServerResponse(e);const l=new Mi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ff(l),l}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];Ot(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Dw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),m=new pl;m.updateFromIdToken(s);const p=new Mi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new bg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;function Yr(i){es(i instanceof Function,"Expected a class definition");let t=hT.get(i);return t?(es(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,hT.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Mw.type="NONE";const fT=Mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(i,t,e){return`firebase:${i}:${t}:${e}`}class gl{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Cf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Cf("persistence",o.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Hf(this.auth,{idToken:t}).catch(()=>{});return e?Mi._fromGetAccountInfoResponse(this.auth,e,t):null}return Mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new gl(Yr(fT),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Yr(fT);const h=Cf(s,t.config.apiKey,t.name);let m=null;for(const g of e)try{const E=await g._get(h);if(E){let v;if(typeof E=="string"){const b=await Hf(t,{idToken:E}).catch(()=>{});if(!b)break;v=await Mi._fromGetAccountInfoResponse(t,b,E)}else v=Mi._fromJSON(t,E);g!==l&&(m=v),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new gl(l,t,s):(l=p[0],m&&await l._set(h,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new gl(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Lw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jw(t))return"Blackberry";if(Bw(t))return"Webos";if(Vw(t))return"Safari";if((t.includes("chrome/")||Pw(t))&&!t.includes("edge/"))return"Chrome";if(Uw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function kw(i=Rn()){return/firefox\//i.test(i)}function Vw(i=Rn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Pw(i=Rn()){return/crios\//i.test(i)}function Lw(i=Rn()){return/iemobile/i.test(i)}function Uw(i=Rn()){return/android/i.test(i)}function jw(i=Rn()){return/blackberry/i.test(i)}function Bw(i=Rn()){return/webos/i.test(i)}function yy(i=Rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Xx(i=Rn()){var t;return yy(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Wx(){return u2()&&document.documentMode===10}function zw(i=Rn()){return yy(i)||Uw(i)||Bw(i)||jw(i)||/windows phone/i.test(i)||Lw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(i,t=[]){let e;switch(i){case"Browser":e=dT(Rn());break;case"Worker":e=`${dT(Rn())}-${i}`;break;default:e=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ql}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((h,m)=>{try{const p=t(l);h(p)}catch(p){m(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(i,t={}){return da(i,"GET","/v2/passwordPolicy",fa(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=6;class eO{constructor(t){var e,s,o,l;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=h.minPasswordLength)!==null&&e!==void 0?e:tO,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,o,l,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mT(this),this.idTokenSubscription=new mT(this),this.beforeStateQueue=new Zx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Yr(e)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await gl.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Hf(this,{idToken:t}),s=await Mi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ei(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ff(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ei(this.app))return Promise.reject(Zr(this));const e=t?Cn(t):null;return e&&Ot(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ot(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ei(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Jx(this),e=new eO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vc("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await Yx(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Yr(t)||this._popupRedirectResolver;Ot(e,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Yr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(m,this,"internal-error"),m.then(()=>{h||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(e);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Hw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&Nx(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function go(i){return Cn(i)}class mT{constructor(t){this.auth=t,this.observer=null,this.addObserver=y2(e=>this.observer=e)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iO(i){pd=i}function Fw(i){return pd.loadJS(i)}function rO(){return pd.recaptchaEnterpriseScript}function sO(){return pd.gapiScript}function aO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class oO{constructor(){this.enterprise=new lO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class lO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const uO="recaptcha-enterprise",qw="NO_RECAPTCHA";class cO{constructor(t){this.type=uO,this.auth=go(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,m)=>{zx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Bx(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(l,h,m){const p=window.grecaptcha;uT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(g=>{h(g)}).catch(()=>{h(qw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oO().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(m=>{if(!e&&uT(window.grecaptcha))o(m,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=rO();p.length!==0&&(p+=m),Fw(p).then(()=>{o(m,l,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function pT(i,t,e,s=!1,o=!1){const l=new cO(i);let h;if(o)h=qw;else try{h=await l.verify(e)}catch{h=await l.verify(e,!0)}const m=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function wg(i,t,e,s,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await pT(i,t,e,e==="getOobCode");return s(i,h)}else return s(i,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await pT(i,t,e,e==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(i,t){const e=fy(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),l=e.getOptions();if(ao(l,t??{}))return o;Pi(o,"already-initialized")}return e.initialize({options:t})}function fO(i,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(Yr);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function dO(i,t,e){const s=go(i);Ot(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,l=Gw(t),{host:h,port:m}=mO(t),p=m===null?"":`:${m}`,g={url:`${l}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ot(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ot(ao(g,s.config.emulator)&&ao(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Fl(h)?(vw(`${l}//${h}${p}`),_w("Auth",!0)):pO()}function Gw(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function mO(i){const t=Gw(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:gT(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:gT(h)}}}function gT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function pO(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return $r("not implemented")}_getIdTokenResponse(t){return $r("not implemented")}_linkToIdToken(t,e){return $r("not implemented")}_getReauthenticationResolver(t){return $r("not implemented")}}async function gO(i,t){return da(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(i,t){return Uc(i,"POST","/v1/accounts:signInWithPassword",fa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(i,t){return Uc(i,"POST","/v1/accounts:signInWithEmailLink",fa(i,t))}async function _O(i,t){return Uc(i,"POST","/v1/accounts:signInWithEmailLink",fa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends vy{constructor(t,e,s,o=null){super("password",s),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new yc(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new yc(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(t,e,"signInWithPassword",yO);case"emailLink":return vO(t,{email:this._email,oobCode:this._password});default:Pi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(t,s,"signUpPassword",gO);case"emailLink":return _O(t,{idToken:e,email:this._email,oobCode:this._password});default:Pi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(i,t){return Uc(i,"POST","/v1/accounts:signInWithIdp",fa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="http://localhost";class lo extends vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new lo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Pi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=e,l=dy(e,["providerId","signInMethod"]);if(!s||!o)return null;const h=new lo(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return yl(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,yl(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,yl(t,e)}buildRequest(){const t={requestUri:EO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Pc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bO(i){const t=ec(nc(i)).link,e=t?ec(nc(t)).deep_link_id:null,s=ec(nc(i)).deep_link_id;return(s?ec(nc(s)).link:null)||s||e||t||i}class _y{constructor(t){var e,s,o,l,h,m;const p=ec(nc(t)),g=(e=p.apiKey)!==null&&e!==void 0?e:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,v=TO((o=p.mode)!==null&&o!==void 0?o:null);Ot(g&&E&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=E,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const e=bO(t);try{return new _y(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.providerId=Gl.PROVIDER_ID}static credential(t,e){return yc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=_y.parseLink(e);return Ot(s,"argument-error"),yc._fromEmailAndCode(t,s.code,s.tenantId)}}Gl.PROVIDER_ID="password";Gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends Kw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends jc{constructor(){super("facebook.com")}static credential(t){return lo._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return lo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return Bs.credential(e,s)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends jc{constructor(){super("github.com")}static credential(t){return lo._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends jc{constructor(){super("twitter.com")}static credential(t,e){return lo._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Hs.credential(e,s)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(i,t){return Uc(i,"POST","/v1/accounts:signUp",fa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const l=await Mi._fromIdTokenResponse(t,s,o),h=yT(s);return new uo({user:l,providerId:h,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=yT(s);return new uo({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function yT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends as{constructor(t,e,s,o){var l;super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new qf(t,e,s,o)}}function Qw(i,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(i,l,t,s):l})}async function SO(i,t,e=!1){const s=await gc(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return uo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(i,t,e=!1){const{auth:s}=i;if(Ei(s.app))return Promise.reject(Zr(s));const o="reauthenticate";try{const l=await gc(i,Qw(s,o,t,i),e);Ot(l.idToken,s,"internal-error");const h=gy(l.idToken);Ot(h,s,"internal-error");const{sub:m}=h;return Ot(i.uid===m,s,"user-mismatch"),uo._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Pi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(i,t,e=!1){if(Ei(i.app))return Promise.reject(Zr(i));const s="signIn",o=await Qw(i,s,t),l=await uo._fromIdTokenResponse(i,s,o);return e||await i._updateCurrentUser(l.user),l}async function RO(i,t){return $w(go(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(i){const t=go(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function CO(i,t,e){if(Ei(i.app))return Promise.reject(Zr(i));const s=go(i),h=await wg(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Yw(i),p}),m=await uo._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function IO(i,t,e){return Ei(i.app)?Promise.reject(Zr(i)):RO(Cn(i),Gl.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Yw(i),s})}function xO(i,t,e,s){return Cn(i).onIdTokenChanged(t,e,s)}function OO(i,t,e){return Cn(i).beforeAuthStateChanged(t,e)}function NO(i,t,e,s){return Cn(i).onAuthStateChanged(t,e,s)}function DO(i){return Cn(i).signOut()}const Gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=1e3,kO=10;class Ww extends Xw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!e&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);Wx()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,kO):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},MO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ww.type="LOCAL";const VO=Ww;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Xw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Zw.type="SESSION";const Jw=Zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new gd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:l}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(e.origin,l)),p=await PO(m);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(i="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((m,p)=>{const g=Ey("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(v){const b=v;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(b.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function UO(i){lr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function jO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function zO(){return t1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="firebaseLocalStorageDb",HO=1,Kf="firebaseLocalStorage",n1="fbase_key";class Bc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function yd(i,t){return i.transaction([Kf],t?"readwrite":"readonly").objectStore(Kf)}function FO(){const i=indexedDB.deleteDatabase(e1);return new Bc(i).toPromise()}function Sg(){const i=indexedDB.open(e1,HO);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kf,{keyPath:n1})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kf)?t(s):(s.close(),await FO(),t(await Sg()))})})}async function vT(i,t,e){const s=yd(i,!0).put({[n1]:t,value:e});return new Bc(s).toPromise()}async function qO(i,t){const e=yd(i,!1).get(t),s=await new Bc(e).toPromise();return s===void 0?null:s.value}function _T(i,t){const e=yd(i,!0).delete(t);return new Bc(e).toPromise()}const GO=800,KO=3;class i1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>KO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(zO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await jO(),!this.activeServiceWorker)return;this.sender=new LO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sg();return await vT(t,Gf,"1"),await _T(t,Gf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>vT(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>qO(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>_T(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=yd(o,!1).getAll();return new Bc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i1.type="LOCAL";const QO=i1;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(i,t){return t?Yr(t):(Ot(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends vy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return yl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return yl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return yl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function YO(i){return $w(i.auth,new Ty(i),i.bypassAuthState)}function XO(i){const{auth:t,user:e}=i;return Ot(e,t,"internal-error"),AO(e,new Ty(i),i.bypassAuthState)}async function WO(i){const{auth:t,user:e}=i;return Ot(e,t,"internal-error"),SO(e,new Ty(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,e,s,o,l=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:l,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return YO;case"linkViaPopup":case"linkViaRedirect":return WO;case"reauthViaPopup":case"reauthViaRedirect":return XO;default:Pi(this.auth,"internal-error")}}resolve(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Lc(2e3,1e4);class ml extends r1{constructor(t,e,s,o,l){super(t,e,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ot(t,this.auth,"internal-error"),t}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const t=Ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZO.get())};t()}}ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="pendingRedirect",If=new Map;class tN extends r1{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=If.get(this.auth._key());if(!t){try{const s=await eN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}If.set(this.auth._key(),t)}return this.bypassAuthState||If.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eN(i,t){const e=rN(t),s=iN(i);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function nN(i,t){If.set(i._key(),t)}function iN(i){return Yr(i._redirectPersistence)}function rN(i){return Cf(JO,i.config.apiKey,i.name)}async function sN(i,t,e=!1){if(Ei(i.app))return Promise.reject(Zr(i));const s=go(i),o=$O(s,t),h=await new tN(s,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=10*60*1e3;class oN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!s1(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(or(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aN&&this.cachedEventUids.clear(),this.cachedEventUids.has(ET(t))}saveEventToCache(t){this.cachedEventUids.add(ET(t)),this.lastProcessedEventTime=Date.now()}}function ET(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function s1({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function lN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(i,t={}){return da(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hN=/^https?/;async function fN(i){if(i.config.emulator)return;const{authorizedDomains:t}=await uN(i);for(const e of t)try{if(dN(e))return}catch{}Pi(i,"unauthorized-domain")}function dN(i){const t=Tg(),{protocol:e,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===s}if(!hN.test(e))return!1;if(cN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Lc(3e4,6e4);function TT(){const i=lr().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function pN(i){return new Promise((t,e)=>{var s,o,l;function h(){TT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{TT(),e(or(i,"network-request-failed"))},timeout:mN.get()})}if(!((o=(s=lr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((l=lr().gapi)===null||l===void 0)&&l.load)h();else{const m=aO("iframefcb");return lr()[m]=()=>{gapi.load?h():e(or(i,"network-request-failed"))},Fw(`${sO()}?onload=${m}`).catch(p=>e(p))}}).catch(t=>{throw xf=null,t})}let xf=null;function gN(i){return xf=xf||pN(i),xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Lc(5e3,15e3),vN="__/auth/iframe",_N="emulator/auth/iframe",EN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bN(i){const t=i.config;Ot(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?py(t,_N):`https://${i.config.authDomain}/${vN}`,s={apiKey:t.apiKey,appName:i.name,v:ql},o=TN.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${Pc(s).slice(1)}`}async function wN(i){const t=await gN(i),e=lr().gapi;return Ot(e,i,"internal-error"),t.open({where:document.body,url:bN(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EN,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=or(i,"network-request-failed"),m=lr().setTimeout(()=>{l(h)},yN.get());function p(){lr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AN=500,RN=600,CN="_blank",IN="http://localhost";class bT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xN(i,t,e,s=AN,o=RN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},SN),{width:s.toString(),height:o.toString(),top:l,left:h}),g=Rn().toLowerCase();e&&(m=Pw(g)?CN:e),kw(g)&&(t=t||IN,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[O,U])=>`${b}${O}=${U},`,"");if(Xx(g)&&m!=="_self")return ON(t||"",m),new bT(null);const v=window.open(t||"",m,E);Ot(v,i,"popup-blocked");try{v.focus()}catch{}return new bT(v)}function ON(i,t){const e=document.createElement("a");e.href=i,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="__/auth/handler",DN="emulator/auth/handler",MN=encodeURIComponent("fac");async function wT(i,t,e,s,o,l){Ot(i.config.authDomain,i,"auth-domain-config-required"),Ot(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:s,v:ql,eventId:o};if(t instanceof Kw){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",g2(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,v]of Object.entries({}))h[E]=v}if(t instanceof jc){const E=t.getScopes().filter(v=>v!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${MN}=${encodeURIComponent(p)}`:"";return`${kN(i)}?${Pc(m).slice(1)}${g}`}function kN({config:i}){return i.emulator?py(i,DN):`https://${i.authDomain}/${NN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="webStorageSupport";class VN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jw,this._completeRedirectFn=sN,this._overrideRedirectResult=nN}async _openPopup(t,e,s,o){var l;es((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await wT(t,e,s,Tg(),o);return xN(t,h,Ey())}async _openRedirect(t,e,s,o){await this._originValidation(t);const l=await wT(t,e,s,Tg(),o);return UO(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:l}=this.eventManagers[e];return o?Promise.resolve(o):(es(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await wN(t),s=new oN(t);return e.register("authEvent",o=>(Ot(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Jp,{type:Jp},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Jp];h!==void 0&&e(!!h),Pi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=fN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return zw()||Vw()||yy()}}const PN=VN;var ST="@firebase/auth",AT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jN(i){Nl(new oo("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ot(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hw(i)},g=new nO(s,o,l,p);return fO(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Nl(new oo("auth-internal",t=>{const e=go(t.getProvider("auth").getImmediate());return(s=>new LN(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(ST,AT,UN(i)),na(ST,AT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=5*60,zN=yw("authIdTokenMaxAge")||BN;let RT=null;const HN=i=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>zN)return;const o=e==null?void 0:e.token;RT!==o&&(RT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FN(i=ww()){const t=fy(i,"auth");if(t.isInitialized())return t.getImmediate();const e=hO(i,{popupRedirectResolver:PN,persistence:[QO,VO,Jw]}),s=yw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=HN(l.toString());OO(e,h,()=>h(e.currentUser)),xO(e,m=>h(m))}}const o=pw("auth");return o&&dO(e,`http://${o}`),e}function qN(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}iO({loadJS(i){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const l=or("internal-error");l.customData=o,e(l)},s.type="text/javascript",s.charset="UTF-8",qN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jN("Browser");var CT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ia,a1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,A){function C(){}C.prototype=A.prototype,D.D=A.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(M,P,j){for(var x=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)x[wt-2]=arguments[wt];return A.prototype[P].apply(M,x)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,C){C||(C=0);var M=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)M[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;16>P;++P)M[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=D.g[0],C=D.g[1],P=D.g[2];var j=D.g[3],x=A+(j^C&(P^j))+M[0]+3614090360&4294967295;A=C+(x<<7&4294967295|x>>>25),x=j+(P^A&(C^P))+M[1]+3905402710&4294967295,j=A+(x<<12&4294967295|x>>>20),x=P+(C^j&(A^C))+M[2]+606105819&4294967295,P=j+(x<<17&4294967295|x>>>15),x=C+(A^P&(j^A))+M[3]+3250441966&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(j^C&(P^j))+M[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(P^A&(C^P))+M[5]+1200080426&4294967295,j=A+(x<<12&4294967295|x>>>20),x=P+(C^j&(A^C))+M[6]+2821735955&4294967295,P=j+(x<<17&4294967295|x>>>15),x=C+(A^P&(j^A))+M[7]+4249261313&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(j^C&(P^j))+M[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(P^A&(C^P))+M[9]+2336552879&4294967295,j=A+(x<<12&4294967295|x>>>20),x=P+(C^j&(A^C))+M[10]+4294925233&4294967295,P=j+(x<<17&4294967295|x>>>15),x=C+(A^P&(j^A))+M[11]+2304563134&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(j^C&(P^j))+M[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(P^A&(C^P))+M[13]+4254626195&4294967295,j=A+(x<<12&4294967295|x>>>20),x=P+(C^j&(A^C))+M[14]+2792965006&4294967295,P=j+(x<<17&4294967295|x>>>15),x=C+(A^P&(j^A))+M[15]+1236535329&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(P^j&(C^P))+M[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^P&(A^C))+M[6]+3225465664&4294967295,j=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(j^A))+M[11]+643717713&4294967295,P=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(P^j))+M[0]+3921069994&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^j&(C^P))+M[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^P&(A^C))+M[10]+38016083&4294967295,j=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(j^A))+M[15]+3634488961&4294967295,P=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(P^j))+M[4]+3889429448&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^j&(C^P))+M[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^P&(A^C))+M[14]+3275163606&4294967295,j=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(j^A))+M[3]+4107603335&4294967295,P=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(P^j))+M[8]+1163531501&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^j&(C^P))+M[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^P&(A^C))+M[2]+4243563512&4294967295,j=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(j^A))+M[7]+1735328473&4294967295,P=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(P^j))+M[12]+2368359562&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(C^P^j)+M[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^P)+M[8]+2272392833&4294967295,j=A+(x<<11&4294967295|x>>>21),x=P+(j^A^C)+M[11]+1839030562&4294967295,P=j+(x<<16&4294967295|x>>>16),x=C+(P^j^A)+M[14]+4259657740&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^j)+M[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^P)+M[4]+1272893353&4294967295,j=A+(x<<11&4294967295|x>>>21),x=P+(j^A^C)+M[7]+4139469664&4294967295,P=j+(x<<16&4294967295|x>>>16),x=C+(P^j^A)+M[10]+3200236656&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^j)+M[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^P)+M[0]+3936430074&4294967295,j=A+(x<<11&4294967295|x>>>21),x=P+(j^A^C)+M[3]+3572445317&4294967295,P=j+(x<<16&4294967295|x>>>16),x=C+(P^j^A)+M[6]+76029189&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^j)+M[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^P)+M[12]+3873151461&4294967295,j=A+(x<<11&4294967295|x>>>21),x=P+(j^A^C)+M[15]+530742520&4294967295,P=j+(x<<16&4294967295|x>>>16),x=C+(P^j^A)+M[2]+3299628645&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(P^(C|~j))+M[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~P))+M[7]+1126891415&4294967295,j=A+(x<<10&4294967295|x>>>22),x=P+(A^(j|~C))+M[14]+2878612391&4294967295,P=j+(x<<15&4294967295|x>>>17),x=C+(j^(P|~A))+M[5]+4237533241&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~j))+M[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~P))+M[3]+2399980690&4294967295,j=A+(x<<10&4294967295|x>>>22),x=P+(A^(j|~C))+M[10]+4293915773&4294967295,P=j+(x<<15&4294967295|x>>>17),x=C+(j^(P|~A))+M[1]+2240044497&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~j))+M[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~P))+M[15]+4264355552&4294967295,j=A+(x<<10&4294967295|x>>>22),x=P+(A^(j|~C))+M[6]+2734768916&4294967295,P=j+(x<<15&4294967295|x>>>17),x=C+(j^(P|~A))+M[13]+1309151649&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~j))+M[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~P))+M[11]+3174756917&4294967295,j=A+(x<<10&4294967295|x>>>22),x=P+(A^(j|~C))+M[2]+718787259&4294967295,P=j+(x<<15&4294967295|x>>>17),x=C+(j^(P|~A))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var C=A-this.blockSize,M=this.B,P=this.h,j=0;j<A;){if(P==0)for(;j<=C;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<A;)if(M[P++]=D.charCodeAt(j++),P==this.blockSize){o(this,M),P=0;break}}else for(;j<A;)if(M[P++]=D[j++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=A},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var C=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=C&255,C/=256;for(this.u(D),D=Array(16),A=C=0;4>A;++A)for(var M=0;32>M;M+=8)D[C++]=this.g[A]>>>M&255;return D};function l(D,A){var C=m;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=A(D)}function h(D,A){this.h=A;for(var C=[],M=!0,P=D.length-1;0<=P;P--){var j=D[P]|0;M&&j==A||(C[P]=j,M=!1)}this.g=C}var m={};function p(D){return-128<=D&&128>D?l(D,function(A){return new h([A|0],0>A?-1:0)}):new h([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return k(g(-D));for(var A=[],C=1,M=0;D>=C;M++)A[M]=D/C|0,C*=4294967296;return new h(A,0)}function E(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return k(E(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(A,8)),M=v,P=0;P<D.length;P+=8){var j=Math.min(8,D.length-P),x=parseInt(D.substring(P,P+j),A);8>j?(j=g(Math.pow(A,j)),M=M.j(j).add(g(x))):(M=M.j(C),M=M.add(g(x)))}return M}var v=p(0),b=p(1),O=p(16777216);i=h.prototype,i.m=function(){if(q(this))return-k(this).m();for(var D=0,A=1,C=0;C<this.g.length;C++){var M=this.i(C);D+=(0<=M?M:4294967296+M)*A,A*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(q(this))return"-"+k(this).toString(D);for(var A=g(Math.pow(D,6)),C=this,M="";;){var P=lt(C,A).g;C=et(C,P.j(A));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=P,U(C))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function q(D){return D.h==-1}i.l=function(D){return D=et(this,D),q(D)?-1:U(D)?0:1};function k(D){for(var A=D.g.length,C=[],M=0;M<A;M++)C[M]=~D.g[M];return new h(C,~D.h).add(b)}i.abs=function(){return q(this)?k(this):this},i.add=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],M=0,P=0;P<=A;P++){var j=M+(this.i(P)&65535)+(D.i(P)&65535),x=(j>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);M=x>>>16,j&=65535,x&=65535,C[P]=x<<16|j}return new h(C,C[C.length-1]&-2147483648?-1:0)};function et(D,A){return D.add(k(A))}i.j=function(D){if(U(this)||U(D))return v;if(q(this))return q(D)?k(this).j(k(D)):k(k(this).j(D));if(q(D))return k(this.j(k(D)));if(0>this.l(O)&&0>D.l(O))return g(this.m()*D.m());for(var A=this.g.length+D.g.length,C=[],M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<D.g.length;P++){var j=this.i(M)>>>16,x=this.i(M)&65535,wt=D.i(P)>>>16,Pt=D.i(P)&65535;C[2*M+2*P]+=x*Pt,ot(C,2*M+2*P),C[2*M+2*P+1]+=j*Pt,ot(C,2*M+2*P+1),C[2*M+2*P+1]+=x*wt,ot(C,2*M+2*P+1),C[2*M+2*P+2]+=j*wt,ot(C,2*M+2*P+2)}for(M=0;M<A;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=A;M<2*A;M++)C[M]=0;return new h(C,0)};function ot(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function Z(D,A){this.g=D,this.h=A}function lt(D,A){if(U(A))throw Error("division by zero");if(U(D))return new Z(v,v);if(q(D))return A=lt(k(D),A),new Z(k(A.g),k(A.h));if(q(A))return A=lt(D,k(A)),new Z(k(A.g),A.h);if(30<D.g.length){if(q(D)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var C=b,M=A;0>=M.l(D);)C=at(C),M=at(M);var P=st(C,1),j=st(M,1);for(M=st(M,2),C=st(C,2);!U(M);){var x=j.add(M);0>=x.l(D)&&(P=P.add(C),j=x),M=st(M,1),C=st(C,1)}return A=et(D,P.j(A)),new Z(P,A)}for(P=v;0<=D.l(A);){for(C=Math.max(1,Math.floor(D.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=g(C),x=j.j(A);q(x)||0<x.l(D);)C-=M,j=g(C),x=j.j(A);U(j)&&(j=b),P=P.add(j),D=et(D,x)}return new Z(P,D)}i.A=function(D){return lt(this,D).h},i.and=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],M=0;M<A;M++)C[M]=this.i(M)&D.i(M);return new h(C,this.h&D.h)},i.or=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],M=0;M<A;M++)C[M]=this.i(M)|D.i(M);return new h(C,this.h|D.h)},i.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],M=0;M<A;M++)C[M]=this.i(M)^D.i(M);return new h(C,this.h^D.h)};function at(D){for(var A=D.g.length+1,C=[],M=0;M<A;M++)C[M]=D.i(M)<<1|D.i(M-1)>>>31;return new h(C,D.h)}function st(D,A){var C=A>>5;A%=32;for(var M=D.g.length-C,P=[],j=0;j<M;j++)P[j]=0<A?D.i(j+C)>>>A|D.i(j+C+1)<<32-A:D.i(j+C);return new h(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,a1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ia=h}).apply(typeof CT<"u"?CT:typeof self<"u"?self:typeof window<"u"?window:{});var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o1,ic,l1,Of,Ag,u1,c1,h1;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yf=="object"&&yf];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in _))break t;_=_[F]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var _=0,S=!1,F={next:function(){if(!S&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function v(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:v,b.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,F,X){for(var mt=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)mt[Wt-2]=arguments[Wt];return y.prototype[F].apply(S,mt)}}function q(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const F=c.length||0,X=S.length||0;c.length=F+X;for(let mt=0;mt<X;mt++)c[F+mt]=S[mt]}else c.push(S)}}class et{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ot(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function lt(c){return lt[" "](c),c}lt[" "]=function(){};var at=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function st(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)c[_]=S[_];for(let X=0;X<C.length;X++)_=C[X],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function x(){var c=xt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class wt{constructor(){this.h=this.g=null}add(y,_){const S=Pt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Pt=new et(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,dt=!1,xt=new wt,V=()=>{const c=m.Promise.resolve(void 0);ut=()=>{c.then(Y)}};var Y=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){j(_)}var y=Pt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}dt=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Tt(c,y){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(at){t:{try{lt(y.nodeName);var F=!0;break t}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Tt.aa.h.call(this)}}U(Tt,W);var pt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Ae(c,y,_,S,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=F,this.key=++qt,this.da=this.fa=!1}function Ne(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vn(c){this.src=c,this.g={},this.h=0}vn.prototype.add=function(c,y,_,S,F){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var mt=In(c,y,S,F);return-1<mt?(y=c[mt],_||(y.fa=!1)):(y=new Ae(y,this.src,X,!!S,F),y.fa=_,c.push(y)),y};function ln(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],F=Array.prototype.indexOf.call(S,y,void 0),X;(X=0<=F)&&Array.prototype.splice.call(S,F,1),X&&(Ne(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function In(c,y,_,S){for(var F=0;F<c.length;++F){var X=c[F];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==S)return F}return-1}var tn="closure_lm_"+(1e6*Math.random()|0),ee={};function si(c,y,_,S,F){if(Array.isArray(y)){for(var X=0;X<y.length;X++)si(c,y[X],_,S,F);return null}return _=ls(_),c&&c[le]?c.K(y,_,g(S)?!!S.capture:!1,F):ve(c,y,_,!1,S,F)}function ve(c,y,_,S,F,X){if(!y)throw Error("Invalid event type");var mt=g(F)?!!F.capture:!!F,Wt=xn(c);if(Wt||(c[tn]=Wt=new vn(c)),_=Wt.add(y,_,S,mt,X),_.proxy)return _;if(S=os(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ft||(F=mt),F===void 0&&(F=!1),c.addEventListener(y.toString(),S,F);else if(c.attachEvent)c.attachEvent(Ti(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function os(){function c(_){return y.call(c.src,c.listener,_)}const y=qe;return c}function un(c,y,_,S,F){if(Array.isArray(y))for(var X=0;X<y.length;X++)un(c,y[X],_,S,F);else S=g(S)?!!S.capture:!!S,_=ls(_),c&&c[le]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=In(X,_,S,F),-1<_&&(Ne(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=xn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=In(y,_,S,F)),(_=-1<c?y[c]:null)&&Ui(_))}function Ui(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[le])ln(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Ti(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=xn(y))?(ln(_,c),_.h==0&&(_.src=null,y[tn]=null)):Ne(c)}}}function Ti(c){return c in ee?ee[c]:ee[c]="on"+c}function qe(c,y){if(c.da)c=!0;else{y=new Tt(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ui(c),c=_.call(S,y)}return c}function xn(c){return c=c[tn],c instanceof vn?c:null}var ji="__closure_events_fn_"+(1e9*Math.random()>>>0);function ls(c){return typeof c=="function"?c:(c[ji]||(c[ji]=function(y){return c.handleEvent(y)}),c[ji])}function _t(){rt.call(this),this.i=new vn(this),this.M=this,this.F=null}U(_t,rt),_t.prototype[le]=!0,_t.prototype.removeEventListener=function(c,y,_,S){un(this,c,y,_,S)};function Ht(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new W(y,c);else if(y instanceof W)y.target=y.target||c;else{var F=y;y=new W(S,c),M(y,F)}if(F=!0,_)for(var X=_.length-1;0<=X;X--){var mt=y.g=_[X];F=Ge(mt,S,!0,y)&&F}if(mt=y.g=c,F=Ge(mt,S,!0,y)&&F,F=Ge(mt,S,!1,y)&&F,_)for(X=0;X<_.length;X++)mt=y.g=_[X],F=Ge(mt,S,!1,y)&&F}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Ne(_[S]);delete c.g[y],c.h--}}this.F=null},_t.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},_t.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function Ge(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,X=0;X<y.length;++X){var mt=y[X];if(mt&&!mt.da&&mt.capture==_){var Wt=mt.listener,Ke=mt.ha||mt.src;mt.fa&&ln(c.i,mt),F=Wt.call(Ke,S)!==!1&&F}}return F&&!S.defaultPrevented}function Pe(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function bi(c){c.g=Pe(()=>{c.g=null,c.i&&(c.i=!1,bi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class _o extends rt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bi(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(c){rt.call(this),this.h=c,this.g={}}U(Ln,rt);var mr=[];function pr(c){st(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ui(y)},c),c.g={}}Ln.prototype.N=function(){Ln.aa.N.call(this),pr(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,gr=m.JSON.parse,yr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function vr(){}vr.prototype.h=null;function jn(c){return c.h||(c.h=c.i())}function ga(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){W.call(this,"d")}U(ai,W);function us(){W.call(this,"c")}U(us,W);var At={},_e=null;function ye(){return _e=_e||new _t}At.La="serverreachability";function Le(c){W.call(this,At.La,c)}U(Le,W);function $n(c){const y=ye();Ht(y,new Le(y))}At.STAT_EVENT="statevent";function Re(c,y){W.call(this,At.STAT_EVENT,c),this.stat=y}U(Re,W);function Gt(c){const y=ye();Ht(y,new Re(y,c))}At.Ma="timingevent";function Ee(c,y){W.call(this,At.Ma,c),this.size=y}U(Ee,W);function ne(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Te(){this.g=!0}Te.prototype.xa=function(){this.g=!1};function cs(c,y,_,S,F,X){c.info(function(){if(c.g)if(X)for(var mt="",Wt=X.split("&"),Ke=0;Ke<Wt.length;Ke++){var Zt=Wt[Ke].split("=");if(1<Zt.length){var nn=Zt[0];Zt=Zt[1];var Qe=nn.split("_");mt=2<=Qe.length&&Qe[1]=="type"?mt+(nn+"="+Zt+"&"):mt+(nn+"=redacted&")}}else mt=null;else mt=X;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+y+`
`+_+`
`+mt})}function Si(c,y,_,S,F,X,mt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+y+`
`+_+`
`+X+" "+mt})}function _r(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ya(c,_)+(S?" "+S:"")})}function Gc(c,y){c.info(function(){return"TIMEOUT: "+y})}Te.prototype.info=function(){};function ya(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(var mt=1;mt<F.length;mt++)F[mt]=""}}}}return Un(_)}catch{return y}}var hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Er={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bi;function zi(){}U(zi,vr),zi.prototype.g=function(){return new XMLHttpRequest},zi.prototype.i=function(){return{}},Bi=new zi;function On(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new Ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var Zl={},Eo={};function Ai(c,y,_){c.L=1,c.v=ba(Yn(y)),c.m=_,c.P=!0,Tr(c,null)}function Tr(c,y){c.F=Date.now(),va(c),c.A=Yn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ru(_.i,"t",S),c.C=0,_=c.j.J,c.h=new De,c.g=oh(c.j,_?y:null,!c.m),0<c.O&&(c.M=new _o(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(mr[0]=F.toString()),F=mr);for(var X=0;X<F.length;X++){var mt=si(_,F[X],S||y.handleEvent,!1,y.h||y);if(!mt)break;y.g[mt.key]=mt}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),$n(),cs(c.i,c.u,c.A,c.l,c.R,c.m)}On.prototype.ca=function(c){c=c.target;const y=this.M;y&&ci(c)==3?y.j():this.Y(c)},On.prototype.Y=function(c){try{if(c==this.g)t:{const Qe=ci(this.g);var y=this.g.Ba();const xr=this.g.Z();if(!(3>Qe)&&(Qe!=3||this.g&&(this.h.h||this.g.oa()||Jc(this.g)))){this.J||Qe!=4||y==7||(y==8||0>=xr?$n(3):$n(2)),fs(this);var _=this.g.Z();this.X=_;e:if(Kc(this)){var S=Jc(this.g);c="";var F=S.length,X=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),Hi(this);var mt="";break e}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(X&&y==F-1)});S.length=0,this.h.g+=c,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=_==200,Si(this.i,this.u,this.A,this.l,this.R,Qe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Wt,Ke=this.g;if((Wt=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Wt)){var Zt=Wt;break e}}Zt=null}if(_=Zt)_r(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,_);else{this.o=!1,this.s=3,Gt(12),cn(this),Hi(this);break t}}if(this.P){_=!0;let hn;for(;!this.J&&this.C<mt.length;)if(hn=Qc(this,mt),hn==Eo){Qe==4&&(this.s=4,Gt(14),_=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Zl){this.s=4,Gt(15),_r(this.i,this.l,mt,"[Invalid Chunk]"),_=!1;break}else _r(this.i,this.l,hn,null),_a(this,hn);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||mt.length!=0||this.h.h||(this.s=1,Gt(16),_=!1),this.o=this.o&&_,!_)_r(this.i,this.l,mt,"[Invalid Chunked Response]"),cn(this),Hi(this);else if(0<mt.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Oa(nn),nn.M=!0,Gt(11))}}else _r(this.i,this.l,mt,null),_a(this,mt);Qe==4&&cn(this),this.o&&!this.J&&(Qe==4?rh(this.j,this):(this.o=!1,va(this)))}else Fd(this.g),_==400&&0<mt.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),cn(this),Hi(this)}}}catch{}finally{}};function Kc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Qc(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Eo:(_=Number(y.substring(_,S)),isNaN(_)?Zl:(S+=1,S+_>y.length?Eo:(y=y.slice(S,S+_),c.C=S+_,y)))}On.prototype.cancel=function(){this.J=!0,cn(this)};function va(c){c.S=Date.now()+c.I,$c(c,c.I)}function $c(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ne(b(c.ba,c),y)}function fs(c){c.B&&(m.clearTimeout(c.B),c.B=null)}On.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gc(this.i,this.A),this.L!=2&&($n(),Gt(17)),cn(this),this.s=2,Hi(this)):$c(this,this.S-c)};function Hi(c){c.j.G==0||c.J||rh(c.j,c)}function cn(c){fs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,pr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _a(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Jl(_.h,c))){if(!c.K&&Jl(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Do(_),Oo(_);else break t;uu(_),Gt(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=ne(b(_.Za,_),6e3));if(1>=bo(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ir(_,11)}else if((c.K||_.g==c)&&Do(_),!ot(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let Zt=F[y];if(_.T=Zt[0],Zt=Zt[1],_.G==2)if(Zt[0]=="c"){_.K=Zt[1],_.ia=Zt[2];const nn=Zt[3];nn!=null&&(_.la=nn,_.j.info("VER="+_.la));const Qe=Zt[4];Qe!=null&&(_.Aa=Qe,_.j.info("SVER="+_.Aa));const xr=Zt[5];xr!=null&&typeof xr=="number"&&0<xr&&(S=1.5*xr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const hn=c.g;if(hn){const Yi=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var X=S.h;X.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(wo(X,X.h),X.h=null))}if(S.D){const hu=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;hu&&(S.ya=hu,he(S.I,S.D,hu))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var mt=c;if(S.qa=ah(S,S.J?S.ia:null,S.W),mt.K){Nn(S.h,mt);var Wt=mt,Ke=S.L;Ke&&(Wt.I=Ke),Wt.B&&(fs(Wt),va(Wt)),S.g=mt}else nh(S);0<_.i.length&&No(_)}else Zt[0]!="stop"&&Zt[0]!="close"||Ir(_,7);else _.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Ir(_,7):ou(_):Zt[0]!="noop"&&_.l&&_.l.ta(Zt),_.v=0)}}$n(4)}catch{}}var Yc=class{constructor(c,y){this.g=c,this.map=y}};function br(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function To(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bo(c){return c.h?1:c.g?c.g.size:0}function Jl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function wo(c,y){c.g?c.g.add(y):c.h=y}function Nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}br.prototype.cancel=function(){if(this.i=tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return q(c.i)}function jd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function So(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function eu(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=So(c),S=jd(c),F=S.length,X=0;X<F;X++)y.call(void 0,S[X],_&&_[X],c)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bd(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),F=null;if(0<=S){var X=c[_].substring(0,S);F=c[_].substring(S+1)}else X=c[_];y(X,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ue(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ue){this.h=c.h,Ta(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.s),this.l=c.l;var y=c.i,_=new Sr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),wr(this,_),this.m=c.m}else c&&(y=String(c).match(Ea))?(this.h=!1,Ta(this,y[1]||"",!0),this.o=oi(y[2]||""),this.g=oi(y[3]||"",!0),ds(this,y[4]),this.l=oi(y[5]||"",!0),wr(this,y[6]||"",!0),this.m=oi(y[7]||"")):(this.h=!1,this.i=new Sr(null,this.h))}Ue.prototype.toString=function(){var c=[],y=this.j;y&&c.push(wa(y,nu,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(wa(y,nu,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(wa(_,_.charAt(0)=="/"?zd:iu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",wa(_,Ao)),c.join("")};function Yn(c){return new Ue(c)}function Ta(c,y,_){c.j=_?oi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function wr(c,y,_){y instanceof Sr?(c.i=y,Wc(c.i,c.h)):(_||(y=wa(y,Hd)),c.i=new Sr(y,c.h))}function he(c,y,_){c.i.set(y,_)}function ba(c){return he(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function oi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wa(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Xc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nu=/[#\/\?@]/g,iu=/[#\?:]/g,zd=/[#\?]/g,Hd=/[#\?@]/g,Ao=/#/g;function Sr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function li(c){c.g||(c.g=new Map,c.h=0,c.i&&Bd(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Sr.prototype,i.add=function(c,y){li(this),this.i=null,c=Fi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ar(c,y){li(c),y=Fi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Rr(c,y){return li(c),y=Fi(c,y),c.g.has(y)}i.forEach=function(c,y){li(this),this.g.forEach(function(_,S){_.forEach(function(F){c.call(y,F,S,this)},this)},this)},i.na=function(){li(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const F=c[S];for(let X=0;X<F.length;X++)_.push(y[S])}return _},i.V=function(c){li(this);let y=[];if(typeof c=="string")Rr(this,c)&&(y=y.concat(this.g.get(Fi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return li(this),this.i=null,c=Fi(this,c),Rr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ru(c,y,_){Ar(c,y),0<_.length&&(c.i=null,c.g.set(Fi(c,y),q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const X=encodeURIComponent(String(S)),mt=this.V(S);for(S=0;S<mt.length;S++){var F=X;mt[S]!==""&&(F+="="+encodeURIComponent(String(mt[S]))),c.push(F)}}return this.i=c.join("&")};function Fi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Wc(c,y){y&&!c.j&&(li(c),c.i=null,c.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&(Ar(this,S),ru(this,F,_))},c)),c.j=y}function Sa(c,y){const _=new Te;if(m.Image){const S=new Image;S.onload=O(ui,_,"TestLoadImage: loaded",!0,y,S),S.onerror=O(ui,_,"TestLoadImage: error",!1,y,S),S.onabort=O(ui,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=O(ui,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ri(c,y){const _=new Te,S=new AbortController,F=setTimeout(()=>{S.abort(),ui(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(X=>{clearTimeout(F),X.ok?ui(_,"TestPingServer: ok",!0,y):ui(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),ui(_,"TestPingServer: error",!1,y)})}function ui(c,y,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function Aa(){this.g=new yr}function qi(c,y,_){const S=_||"";try{eu(c,function(F,X){let mt=F;g(F)&&(mt=Un(F)),y.push(S+X+"="+encodeURIComponent(mt))})}catch(F){throw y.push(S+"type="+encodeURIComponent("_badmap")),F}}function ms(c){this.l=c.Ub||null,this.j=c.eb||!1}U(ms,vr),ms.prototype.g=function(){return new Cr(this.l,this.j)},ms.prototype.i=function(c){return function(){return c}}({});function Cr(c,y){_t.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Cr,_t),i=Cr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ki(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;su(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function su(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Gi(this):Ki(this),this.readyState==3&&su(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Gi(this))},i.Qa=function(c){this.g&&(this.response=c,Gi(this))},i.ga=function(){this.g&&Gi(this)};function Gi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ki(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ki(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function au(c){let y="";return st(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function en(c,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=au(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):he(c,y,_))}function se(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(se,_t);var Ro=/^https?$/i,Ra=["POST","PUT"];i=se.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bi.g(),this.v=this.o?jn(this.o):jn(Bi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Zc(this,X);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())_.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ra,y,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,mt]of _)this.g.setRequestHeader(X,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ca(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Zc(this,X)}};function Zc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Co(c),Qi(c)}function Co(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),Qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),se.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Io(this):this.bb())},i.bb=function(){Io(this)};function Io(c){if(c.h&&typeof h<"u"&&(!c.v[1]||ci(c)!=4||c.Z()!=2)){if(c.u&&ci(c)==4)Pe(c.Ea,0,c);else if(Ht(c,"readystatechange"),ci(c)==4){c.h=!1;try{const mt=c.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=mt===0){var F=String(c.D).match(Ea)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),S=!Ro.test(F?F.toLowerCase():"")}_=S}if(_)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var X=2<ci(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Co(c)}}finally{Qi(c)}}}}function Qi(c,y){if(c.g){Ca(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ht(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ca(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function ci(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),gr(y)}};function Jc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fd(c){const y={};c=(c.g&&2<=ci(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ot(c[S]))continue;var _=P(c[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[F]||[];y[F]=X,X.push(_)}D(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function xo(c){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new br(c&&c.concurrentRequestLimit),this.Da=new Aa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=xo.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){Gt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ah(this,null,this.W),No(this)};function ou(c){if(th(c),c.G==3){var y=c.U++,_=Yn(c.I);if(he(_,"SID",c.K),he(_,"RID",y),he(_,"TYPE","terminate"),xa(c,_),y=new On(c,c.j,y),y.L=2,y.v=ba(Yn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=oh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),va(y)}sh(c)}function Oo(c){c.g&&(Oa(c),c.g.cancel(),c.g=null)}function th(c){Oo(c),c.u&&(m.clearTimeout(c.u),c.u=null),Do(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function No(c){if(!To(c.h)&&!c.s){c.s=!0;var y=c.Ga;ut||V(),dt||(ut(),dt=!0),xt.add(y,c),c.B=0}}function qd(c,y){return bo(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ne(b(c.Ga,c,y),cu(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new On(this,this.j,c);let X=this.o;if(this.S&&(X?(X=A(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(F.H=X,X=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=eh(this,F,y),_=Yn(this.I),he(_,"RID",c),he(_,"CVER",22),this.D&&he(_,"X-HTTP-Session-Id",this.D),xa(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(au(X)))+"&"+y:this.m&&en(_,this.m,X)),wo(this.h,F),this.Ua&&he(_,"TYPE","init"),this.P?(he(_,"$req",y),he(_,"SID","null"),F.T=!0,Ai(F,_,null)):Ai(F,_,y),this.G=2}}else this.G==3&&(c?lu(this,c):this.i.length==0||To(this.h)||lu(this))};function lu(c,y){var _;y?_=y.l:_=c.U++;const S=Yn(c.I);he(S,"SID",c.K),he(S,"RID",_),he(S,"AID",c.T),xa(c,S),c.m&&c.o&&en(S,c.m,c.o),_=new On(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=eh(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wo(c.h,_),Ai(_,S,y)}function xa(c,y){c.H&&st(c.H,function(_,S){he(y,S,_)}),c.l&&eu({},function(_,S){he(y,S,_)})}function eh(c,y,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;t:{var F=c.i;let X=-1;for(;;){const mt=["count="+_];X==-1?0<_?(X=F[0].g,mt.push("ofs="+X)):X=0:mt.push("ofs="+X);let Wt=!0;for(let Ke=0;Ke<_;Ke++){let Zt=F[Ke].g;const nn=F[Ke].map;if(Zt-=X,0>Zt)X=Math.max(0,F[Ke].g-100),Wt=!1;else try{qi(nn,mt,"req"+Zt+"_")}catch{S&&S(nn)}}if(Wt){S=mt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,S}function nh(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ut||V(),dt||(ut(),dt=!0),xt.add(y,c),c.v=0}}function uu(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ne(b(c.Fa,c),cu(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ne(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),Oo(this),ih(this))};function Oa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ih(c){c.g=new On(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Yn(c.qa);he(y,"RID","rpc"),he(y,"SID",c.K),he(y,"AID",c.T),he(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&he(y,"TO",c.ja),he(y,"TYPE","xmlhttp"),xa(c,y),c.m&&c.o&&en(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ba(Yn(y)),_.m=null,_.P=!0,Tr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Oo(this),uu(this),Gt(19))};function Do(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function rh(c,y){var _=null;if(c.g==y){Do(c),Oa(c),c.g=null;var S=2}else if(Jl(c.h,y))_=y.D,Nn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;S=ye(),Ht(S,new Ee(S,_)),No(c)}else nh(c);else if(F=y.s,F==3||F==0&&0<y.X||!(S==1&&qd(c,y)||S==2&&uu(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function cu(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ir(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),S=c.Xa;const F=!S;S=new Ue(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ta(S,"https"),ba(S),F?Sa(S.toString(),_):Ri(S.toString(),_)}else Gt(2);c.G=0,c.l&&c.l.sa(y),sh(c),th(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function sh(c){if(c.G=0,c.ka=[],c.l){const y=tu(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function ah(c,y,_){var S=_ instanceof Ue?Yn(_):new Ue(_);if(S.g!="")y&&(S.g=y+"."+S.g),ds(S,S.s);else{var F=m.location;S=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var X=new Ue(null);S&&Ta(X,S),y&&(X.g=y),F&&ds(X,F),_&&(X.l=_),S=X}return _=c.D,y=c.ya,_&&y&&he(S,_,y),he(S,"VER",c.la),xa(c,S),S}function oh(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new se(new ms({eb:_})):new se(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}i=lh.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Mo(){}Mo.prototype.g=function(c,y){return new Dn(c,y)};function Dn(c,y){_t.call(this),this.g=new xo(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ot(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ot(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new $i(this)}U(Dn,_t),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){ou(this.g)},Dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Un(c),c=_);y.i.push(new Yc(y.Ya++,c)),y.G==3&&No(y)},Dn.prototype.N=function(){this.g.l=null,delete this.j,ou(this.g),delete this.g,Dn.aa.N.call(this)};function uh(c){ai.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(uh,ai);function ch(){us.call(this),this.status=1}U(ch,us);function $i(c){this.g=c}U($i,lh),$i.prototype.ua=function(){Ht(this.g,"a")},$i.prototype.ta=function(c){Ht(this.g,new uh(c))},$i.prototype.sa=function(c){Ht(this.g,new ch)},$i.prototype.ra=function(){Ht(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,h1=function(){return new Mo},c1=function(){return ye()},u1=At,Ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Of=hs,Er.COMPLETE="complete",l1=Er,ga.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",_t.prototype.listen=_t.prototype.K,ic=ga,se.prototype.listenOnce=se.prototype.L,se.prototype.getLastError=se.prototype.Ka,se.prototype.getLastErrorCode=se.prototype.Ba,se.prototype.getStatus=se.prototype.Z,se.prototype.getResponseJson=se.prototype.Oa,se.prototype.getResponseText=se.prototype.oa,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Ha,o1=se}).apply(typeof yf<"u"?yf:typeof self<"u"?self:typeof window<"u"?window:{});const IT="@firebase/firestore",xT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new cy("@firebase/firestore");function cl(){return co.logLevel}function yt(i,...t){if(co.logLevel<=$t.DEBUG){const e=t.map(by);co.debug(`Firestore (${Kl}): ${i}`,...e)}}function ns(i,...t){if(co.logLevel<=$t.ERROR){const e=t.map(by);co.error(`Firestore (${Kl}): ${i}`,...e)}}function Dl(i,...t){if(co.logLevel<=$t.WARN){const e=t.map(by);co.warn(`Firestore (${Kl}): ${i}`,...e)}}function by(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,f1(i,s,e)}function f1(i,t,e){let s=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw ns(s),new Error(s)}function oe(i,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,i||f1(t,o,s)}function Vt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends as{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(wn.UNAUTHENTICATED))}shutdown(){}}class KN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class QN{constructor(t){this.t=t,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){oe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let l=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ra,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ra)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(oe(typeof s.accessToken=="string",31837,{l:s}),new d1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return oe(t===null||typeof t=="string",2055,{h:t}),new wn(t)}}class $N{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YN{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new $N(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){oe(this.o===void 0,3512);const s=l=>{l.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,yt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const o=l=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new OT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(oe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new OT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=WN(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<e&&(s+=t.charAt(o[l]%62))}return s}}function zt(i,t){return i<t?-1:i>t?1:0}function Rg(i,t){let e=0;for(;e<i.length&&e<t.length;){const s=i.codePointAt(e),o=t.codePointAt(e);if(s!==o){if(s<128&&o<128)return zt(s,o);{const l=m1(),h=ZN(l.encode(NT(i,e)),l.encode(NT(t,e)));return h!==0?h:zt(s,o)}}e+=s>65535?2:1}return zt(i.length,t.length)}function NT(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function ZN(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return zt(i[e],t[e]);return zt(i.length,t.length)}function Ml(i,t,e){return i.length===t.length&&i.every((s,o)=>e(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=-62135596800,MT=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(t){return Ze.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*MT);return new Ze(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new St(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new St(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<DT)throw new St(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MT}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-DT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{static fromTimestamp(t){return new kt(t)}static min(){return new kt(new Ze(0,0))}static max(){return new kt(new Ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="__name__";class nr{constructor(t,e,s){e===void 0?e=0:e>t.length&&Dt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Dt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return nr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof nr?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const l=nr.compareSegments(t.get(o),e.get(o));if(l!==0)return l}return zt(t.length,e.length)}static compareSegments(t,e){const s=nr.isNumericId(t),o=nr.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?nr.extractNumericId(t).compare(nr.extractNumericId(e)):Rg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ia.fromString(t.substring(4,t.length-2))}}class Oe extends nr{construct(t,e,s){return new Oe(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new St(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(o=>o.length>0))}return new Oe(e)}static emptyPath(){return new Oe([])}}const JN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends nr{construct(t,e,s){return new gn(t,e,s)}static isValidIdentifier(t){return JN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kT}static keyField(){return new gn([kT])}static fromServerFormat(t){const e=[];let s="",o=0;const l=()=>{if(s.length===0)throw new St(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new St(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new St(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(l(),o++)}if(l(),h)throw new St(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(e)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.path=t}static fromPath(t){return new Ct(Oe.fromString(t))}static fromName(t){return new Ct(Oe.fromString(t).popFirst(5))}static empty(){return new Ct(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ct(new Oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=-1;function tD(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=kt.fromTimestamp(s===1e9?new Ze(e+1,0):new Ze(e,s));return new aa(o,Ct.empty(),t)}function eD(i){return new aa(i.readTime,i.key,vc)}class aa{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new aa(kt.min(),Ct.empty(),vc)}static max(){return new aa(kt.max(),Ct.empty(),vc)}}function nD(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Ct.comparator(i.documentKey,t.documentKey),e!==0?e:zt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(i){if(i.code!==ht.FAILED_PRECONDITION||i.message!==iD)throw i;yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):it.reject(e)}static resolve(t){return new it((e,s)=>{e(t)})}static reject(t){return new it((e,s)=>{s(t)})}static waitFor(t){return new it((e,s)=>{let o=0,l=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&e()},p=>s(p))}),h=!0,l===o&&e()})}static or(t){let e=it.resolve(!1);for(const s of t)e=e.next(o=>o?it.resolve(o):s());return e}static forEach(t,e){const s=[];return t.forEach((o,l)=>{s.push(e.call(this,o,l))}),this.waitFor(s)}static mapArray(t,e){return new it((s,o)=>{const l=t.length,h=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;e(t[g]).next(E=>{h[g]=E,++m,m===l&&s(h)},E=>o(E))}})}static doWhile(t,e){return new it((s,o)=>{const l=()=>{t()===!0?e().next(()=>{l()},o):s()};l()})}}function sD(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function $l(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}vd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=-1;function _d(i){return i==null}function Qf(i){return i===0&&1/i==-1/0}function aD(i){return typeof i=="number"&&Number.isInteger(i)&&!Qf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="";function oD(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=VT(t)),t=lD(i.get(e),t);return VT(t)}function lD(i,t){let e=t;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":e+="";break;case g1:e+="";break;default:e+=l}}return e}function VT(i){return i+g1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function ma(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function y1(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,e){this.comparator=t,this.root=e||pn.EMPTY}insert(t,e){return new Se(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(t){return new Se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vf(this.root,t,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vf(this.root,t,this.comparator,!0)}}class vf{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pn{constructor(t,e,s,o,l){this.key=t,this.value=e,this.color=s??pn.RED,this.left=o??pn.EMPTY,this.right=l??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,l){return new pn(t??this.key,e??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const l=s(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,s),null):l===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return pn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Dt(27949);return t+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(t,e,s,o,l){return this}insert(t,e,s){return new pn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.comparator=t,this.data=new Se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new LT(this.data.getIterator())}getIteratorFrom(t){return new LT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Je)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Je(this.comparator);return e.data=t,e}}class LT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new ii([])}unionWith(t){let e=new Je(gn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new ii(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ml(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new v1("Invalid base64 string: "+l):l}}(t);return new yn(e)}static fromUint8Array(t){const e=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(t);return new yn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const uD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(i){if(oe(!!i,39018),typeof i=="string"){let t=0;const e=uD.exec(i);if(oe(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ve(i.seconds),nanos:Ve(i.nanos)}}function Ve(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function la(i){return typeof i=="string"?yn.fromBase64String(i):yn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="server_timestamp",E1="__type__",T1="__previous_value__",b1="__local_write_time__";function Sy(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[E1])===null||e===void 0?void 0:e.stringValue)===_1}function Ed(i){const t=i.mapValue.fields[T1];return Sy(t)?Ed(t):t}function _c(i){const t=oa(i.mapValue.fields[b1].timestampValue);return new Ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,e,s,o,l,h,m,p,g,E){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const $f="(default)";class Ec{constructor(t,e){this.projectId=t,this.database=e||$f}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database===$f}isEqual(t){return t instanceof Ec&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="__type__",hD="__max__",_f={mapValue:{}},S1="__vector__",Yf="value";function ua(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Sy(i)?4:dD(i)?9007199254740991:fD(i)?10:11:Dt(28295,{value:i})}function fr(i,t){if(i===t)return!0;const e=ua(i);if(e!==ua(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return _c(i).isEqual(_c(t));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=oa(o.timestampValue),m=oa(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,l){return la(o.bytesValue).isEqual(la(l.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,l){return Ve(o.geoPointValue.latitude)===Ve(l.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(l.geoPointValue.longitude)}(i,t);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ve(o.integerValue)===Ve(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Ve(o.doubleValue),m=Ve(l.doubleValue);return h===m?Qf(h)===Qf(m):isNaN(h)&&isNaN(m)}return!1}(i,t);case 9:return Ml(i.arrayValue.values||[],t.arrayValue.values||[],fr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},m=l.mapValue.fields||{};if(PT(h)!==PT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!fr(h[p],m[p])))return!1;return!0}(i,t);default:return Dt(52216,{left:i})}}function Tc(i,t){return(i.values||[]).find(e=>fr(e,t))!==void 0}function kl(i,t){if(i===t)return 0;const e=ua(i),s=ua(t);if(e!==s)return zt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(i.booleanValue,t.booleanValue);case 2:return function(l,h){const m=Ve(l.integerValue||l.doubleValue),p=Ve(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return UT(i.timestampValue,t.timestampValue);case 4:return UT(_c(i),_c(t));case 5:return Rg(i.stringValue,t.stringValue);case 6:return function(l,h){const m=la(l),p=la(h);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(l,h){const m=l.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=zt(m[g],p[g]);if(E!==0)return E}return zt(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(l,h){const m=zt(Ve(l.latitude),Ve(h.latitude));return m!==0?m:zt(Ve(l.longitude),Ve(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return jT(i.arrayValue,t.arrayValue);case 10:return function(l,h){var m,p,g,E;const v=l.fields||{},b=h.fields||{},O=(m=v[Yf])===null||m===void 0?void 0:m.arrayValue,U=(p=b[Yf])===null||p===void 0?void 0:p.arrayValue,q=zt(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=U==null?void 0:U.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:jT(O,U)}(i.mapValue,t.mapValue);case 11:return function(l,h){if(l===_f.mapValue&&h===_f.mapValue)return 0;if(l===_f.mapValue)return 1;if(h===_f.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let v=0;v<p.length&&v<E.length;++v){const b=Rg(p[v],E[v]);if(b!==0)return b;const O=kl(m[p[v]],g[E[v]]);if(O!==0)return O}return zt(p.length,E.length)}(i.mapValue,t.mapValue);default:throw Dt(23264,{Pe:e})}}function UT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return zt(i,t);const e=oa(i),s=oa(t),o=zt(e.seconds,s.seconds);return o!==0?o:zt(e.nanos,s.nanos)}function jT(i,t){const e=i.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const l=kl(e[o],s[o]);if(l)return l}return zt(e.length,s.length)}function Vl(i){return Cg(i)}function Cg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const s=oa(e);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return la(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return Ct.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let s="[",o=!0;for(const l of e.values||[])o?o=!1:s+=",",s+=Cg(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(e){const s=Object.keys(e.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Cg(e.fields[h])}`;return o+"}"}(i.mapValue):Dt(61005,{value:i})}function Nf(i){switch(ua(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ed(i);return t?16+Nf(t):16;case 5:return 2*i.stringValue.length;case 6:return la(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Nf(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ma(s.fields,(l,h)=>{o+=l.length+Nf(h)}),o}(i.mapValue);default:throw Dt(13486,{value:i})}}function Ig(i){return!!i&&"integerValue"in i}function Ay(i){return!!i&&"arrayValue"in i}function BT(i){return!!i&&"nullValue"in i}function zT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Df(i){return!!i&&"mapValue"in i}function fD(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[w1])===null||e===void 0?void 0:e.stringValue)===S1}function uc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return ma(i.mapValue.fields,(e,s)=>t.mapValue.fields[e]=uc(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=uc(i.arrayValue.values[e]);return t}return Object.assign({},i)}function dD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===hD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.value=t}static empty(){return new Qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Df(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=uc(e)}setAll(t){let e=gn.emptyPath(),s={},o=[];t.forEach((h,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=m.popLast()}h?s[m.lastSegment()]=uc(h):o.push(m.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,s,o)}delete(t){const e=this.field(t.popLast());Df(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return fr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];Df(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){ma(e,(o,l)=>t[o]=l);for(const o of s)delete t[o]}clone(){return new Qn(uc(this.value))}}function A1(i){const t=[];return ma(i.fields,(e,s)=>{const o=new gn([e]);if(Df(s)){const l=A1(s.mapValue).fields;if(l.length===0)t.push(o);else for(const h of l)t.push(o.child(h))}else t.push(o)}),new ii(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t,e,s,o,l,h,m){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Sn(t,0,kt.min(),kt.min(),kt.min(),Qn.empty(),0)}static newFoundDocument(t,e,s,o){return new Sn(t,1,e,kt.min(),s,o,0)}static newNoDocument(t,e){return new Sn(t,2,e,kt.min(),kt.min(),Qn.empty(),0)}static newUnknownDocument(t,e){return new Sn(t,3,e,kt.min(),kt.min(),Qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t,e){this.position=t,this.inclusive=e}}function HT(i,t,e){let s=0;for(let o=0;o<i.position.length;o++){const l=t[o],h=i.position[o];if(l.field.isKeyField()?s=Ct.comparator(Ct.fromName(h.referenceValue),e.key):s=kl(h,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function FT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!fr(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,e="asc"){this.field=t,this.dir=e}}function mD(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class We extends R1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new gD(t,e,s):e==="array-contains"?new _D(t,s):e==="in"?new ED(t,s):e==="not-in"?new TD(t,s):e==="array-contains-any"?new bD(t,s):new We(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new yD(t,s):new vD(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(kl(e,this.value)):e!==null&&ua(this.value)===ua(e)&&this.matchesComparison(kl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends R1{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new dr(t,e)}matches(t){return C1(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function C1(i){return i.op==="and"}function I1(i){return pD(i)&&C1(i)}function pD(i){for(const t of i.filters)if(t instanceof dr)return!1;return!0}function xg(i){if(i instanceof We)return i.field.canonicalString()+i.op.toString()+Vl(i.value);if(I1(i))return i.filters.map(t=>xg(t)).join(",");{const t=i.filters.map(e=>xg(e)).join(",");return`${i.op}(${t})`}}function x1(i,t){return i instanceof We?function(s,o){return o instanceof We&&s.op===o.op&&s.field.isEqual(o.field)&&fr(s.value,o.value)}(i,t):i instanceof dr?function(s,o){return o instanceof dr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,m)=>l&&x1(h,o.filters[m]),!0):!1}(i,t):void Dt(19439)}function O1(i){return i instanceof We?function(e){return`${e.field.canonicalString()} ${e.op} ${Vl(e.value)}`}(i):i instanceof dr?function(e){return e.op.toString()+" {"+e.getFilters().map(O1).join(" ,")+"}"}(i):"Filter"}class gD extends We{constructor(t,e,s){super(t,e,s),this.key=Ct.fromName(s.referenceValue)}matches(t){const e=Ct.comparator(t.key,this.key);return this.matchesComparison(e)}}class yD extends We{constructor(t,e){super(t,"in",e),this.keys=N1("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class vD extends We{constructor(t,e){super(t,"not-in",e),this.keys=N1("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function N1(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>Ct.fromName(s.referenceValue))}class _D extends We{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ay(e)&&Tc(e.arrayValue,this.value)}}class ED extends We{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Tc(this.value.arrayValue,e)}}class TD extends We{constructor(t,e){super(t,"not-in",e)}matches(t){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Tc(this.value.arrayValue,e)}}class bD extends We{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ay(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Tc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t,e=null,s=[],o=[],l=null,h=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.Ie=null}}function qT(i,t=null,e=[],s=[],o=null,l=null,h=null){return new wD(i,t,e,s,o,l,h)}function Ry(i){const t=Vt(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>xg(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),_d(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>Vl(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>Vl(s)).join(",")),t.Ie=e}return t.Ie}function Cy(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!mD(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!x1(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!FT(i.startAt,t.startAt)&&FT(i.endAt,t.endAt)}function Og(i){return Ct.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,e=null,s=[],o=[],l=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function SD(i,t,e,s,o,l,h,m){return new Td(i,t,e,s,o,l,h,m)}function Iy(i){return new Td(i)}function GT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function AD(i){return i.collectionGroup!==null}function cc(i){const t=Vt(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Je(gn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Wf(l,s))}),e.has(gn.keyField().canonicalString())||t.Ee.push(new Wf(gn.keyField(),s))}return t.Ee}function ur(i){const t=Vt(i);return t.de||(t.de=RD(t,cc(i))),t.de}function RD(i,t){if(i.limitType==="F")return qT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Wf(o.field,l)});const e=i.endAt?new Xf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Xf(i.startAt.position,i.startAt.inclusive):null;return qT(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function Ng(i,t,e){return new Td(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function bd(i,t){return Cy(ur(i),ur(t))&&i.limitType===t.limitType}function D1(i){return`${Ry(ur(i))}|lt:${i.limitType}`}function hl(i){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(o=>O1(o)).join(", ")}]`),_d(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(o=>Vl(o)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(o=>Vl(o)).join(",")),`Target(${s})`}(ur(i))}; limitType=${i.limitType})`}function wd(i,t){return t.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ct.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,t)&&function(s,o){for(const l of cc(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=HT(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,cc(s),o)||s.endAt&&!function(h,m,p){const g=HT(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,cc(s),o))}(i,t)}function CD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function M1(i){return(t,e)=>{let s=!1;for(const o of cc(i)){const l=ID(o,t,e);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function ID(i,t,e){const s=i.field.isKeyField()?Ct.comparator(t.key,e.key):function(l,h,m){const p=h.data.field(l),g=m.data.field(l);return p!==null&&g!==null?kl(p,g):Dt(42886)}(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Dt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ma(this.inner,(e,s)=>{for(const[o,l]of s)t(o,l)})}isEmpty(){return y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Se(Ct.comparator);function is(){return xD}const k1=new Se(Ct.comparator);function rc(...i){let t=k1;for(const e of i)t=t.insert(e.key,e);return t}function V1(i){let t=k1;return i.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function Xa(){return hc()}function P1(){return hc()}function hc(){return new yo(i=>i.toString(),(i,t)=>i.isEqual(t))}const OD=new Se(Ct.comparator),ND=new Je(Ct.comparator);function Yt(...i){let t=ND;for(const e of i)t=t.add(e);return t}const DD=new Je(zt);function MD(){return DD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(t)?"-0":t}}function L1(i){return{integerValue:""+i}}function kD(i,t){return aD(t)?L1(t):xy(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this._=void 0}}function VD(i,t,e){return i instanceof Zf?function(o,l){const h={fields:{[E1]:{stringValue:_1},[b1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Sy(l)&&(l=Ed(l)),l&&(h.fields[T1]=l),{mapValue:h}}(e,t):i instanceof bc?j1(i,t):i instanceof wc?B1(i,t):function(o,l){const h=U1(o,l),m=KT(h)+KT(o.Re);return Ig(h)&&Ig(o.Re)?L1(m):xy(o.serializer,m)}(i,t)}function PD(i,t,e){return i instanceof bc?j1(i,t):i instanceof wc?B1(i,t):e}function U1(i,t){return i instanceof Jf?function(s){return Ig(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class Zf extends Sd{}class bc extends Sd{constructor(t){super(),this.elements=t}}function j1(i,t){const e=z1(t);for(const s of i.elements)e.some(o=>fr(o,s))||e.push(s);return{arrayValue:{values:e}}}class wc extends Sd{constructor(t){super(),this.elements=t}}function B1(i,t){let e=z1(t);for(const s of i.elements)e=e.filter(o=>!fr(o,s));return{arrayValue:{values:e}}}class Jf extends Sd{constructor(t,e){super(),this.serializer=t,this.Re=e}}function KT(i){return Ve(i.integerValue||i.doubleValue)}function z1(i){return Ay(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function LD(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof bc&&o instanceof bc||s instanceof wc&&o instanceof wc?Ml(s.elements,o.elements,fr):s instanceof Jf&&o instanceof Jf?fr(s.Re,o.Re):s instanceof Zf&&o instanceof Zf}(i.transform,t.transform)}class UD{constructor(t,e){this.version=t,this.transformResults=e}}class cr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new cr}static exists(t){return new cr(void 0,t)}static updateTime(t){return new cr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}let Ad=class{};function H1(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new q1(i.key,cr.none()):new zc(i.key,i.data,cr.none());{const e=i.data,s=Qn.empty();let o=new Je(gn.comparator);for(let l of t.fields)if(!o.has(l)){let h=e.field(l);h===null&&l.length>1&&(l=l.popLast(),h=e.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new pa(i.key,s,new ii(o.toArray()),cr.none())}}function jD(i,t,e){i instanceof zc?function(o,l,h){const m=o.value.clone(),p=$T(o.fieldTransforms,l,h.transformResults);m.setAll(p),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,e):i instanceof pa?function(o,l,h){if(!Mf(o.precondition,l))return void l.convertToUnknownDocument(h.version);const m=$T(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(F1(o)),p.setAll(m),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,t,e):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function fc(i,t,e,s){return i instanceof zc?function(l,h,m,p){if(!Mf(l.precondition,h))return m;const g=l.value.clone(),E=YT(l.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,e,s):i instanceof pa?function(l,h,m,p){if(!Mf(l.precondition,h))return m;const g=YT(l.fieldTransforms,p,h),E=h.data;return E.setAll(F1(l)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(i,t,e,s):function(l,h,m){return Mf(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,t,e)}function BD(i,t){let e=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),l=U1(s.transform,o||null);l!=null&&(e===null&&(e=Qn.empty()),e.set(s.field,l))}return e||null}function QT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ml(s,o,(l,h)=>LD(l,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class zc extends Ad{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pa extends Ad{constructor(t,e,s,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function F1(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}}),t}function $T(i,t,e){const s=new Map;oe(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let o=0;o<e.length;o++){const l=i[o],h=l.transform,m=t.data.field(l.field);s.set(l.field,PD(h,m,e[o]))}return s}function YT(i,t,e){const s=new Map;for(const o of i){const l=o.transform,h=e.data.field(o.field);s.set(o.field,VD(l,h,t))}return s}class q1 extends Ad{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zD extends Ad{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&jD(l,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=fc(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=fc(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=P1();return this.mutations.forEach(o=>{const l=t.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=e.has(o.key)?null:m;const p=H1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(kt.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Yt())}isEqual(t){return this.batchId===t.batchId&&Ml(this.mutations,t.mutations,(e,s)=>QT(e,s))&&Ml(this.baseMutations,t.baseMutations,(e,s)=>QT(e,s))}}class Oy{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){oe(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return OD}();const l=t.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Oy(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,te;function GD(i){switch(i){case ht.OK:return Dt(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Dt(15467,{code:i})}}function G1(i){if(i===void 0)return ns("GRPC error has no .code"),ht.UNKNOWN;switch(i){case ze.OK:return ht.OK;case ze.CANCELLED:return ht.CANCELLED;case ze.UNKNOWN:return ht.UNKNOWN;case ze.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case ze.INTERNAL:return ht.INTERNAL;case ze.UNAVAILABLE:return ht.UNAVAILABLE;case ze.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case ze.NOT_FOUND:return ht.NOT_FOUND;case ze.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case ze.ABORTED:return ht.ABORTED;case ze.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case ze.DATA_LOSS:return ht.DATA_LOSS;default:return Dt(39323,{code:i})}}(te=ze||(ze={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new ia([4294967295,4294967295],0);function XT(i){const t=m1().encode(i),e=new a1;return e.update(t),new Uint8Array(e.digest())}function WT(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ia([e,s],0),new ia([o,l],0)]}class Ny{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new sc(`Invalid padding: ${e}`);if(s<0)throw new sc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new sc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=ia.fromNumber(this.pe)}we(t,e,s){let o=t.add(e.multiply(ia.fromNumber(s)));return o.compare(KD)===1&&(o=new ia([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=XT(t),[s,o]=WT(e);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);if(!this.be(h))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),h=new Ny(l,o,e);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.pe===0)return;const e=XT(t),[s,o]=WT(e);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);this.Se(h)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t,e,s,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Hc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Rd(kt.min(),o,new Se(zt),is(),Yt())}}class Hc{constructor(t,e,s,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Hc(s,e,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,e,s,o){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=o}}class K1{constructor(t,e){this.targetId=t,this.Ce=e}}class Q1{constructor(t,e,s=yn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class ZT{constructor(){this.Fe=0,this.Me=JT(),this.xe=yn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Yt(),e=Yt(),s=Yt();return this.Me.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Dt(38017,{changeType:l})}}),new Hc(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=JT()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,oe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class QD{constructor(t){this.ze=t,this.je=new Map,this.He=is(),this.Je=Ef(),this.Ye=Ef(),this.Ze=new Se(zt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:Dt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,o)=>{this.it(o)&&e(o)})}ot(t){const e=t.targetId,s=t.Ce.count,o=this._t(e);if(o){const l=o.target;if(Og(l))if(s===0){const h=new Ct(l.path);this.tt(e,h,Sn.newNoDocument(h,kt.min()))}else oe(s===1,20013,{expectedCount:s});else{const h=this.ut(e);if(h!==s){const m=this.ct(t),p=m?this.lt(m,t,h):1;if(p!==0){this.st(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=e;let h,m;try{h=la(s).toUint8Array()}catch(p){if(p instanceof v1)return Dl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ny(h,o,l)}catch(p){return Dl(p instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let o=0;return s.forEach(l=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;t.mightContain(m)||(this.tt(e,l,null),o++)}),o}It(t){const e=new Map;this.je.forEach((l,h)=>{const m=this._t(h);if(m){if(l.current&&Og(m.target)){const p=new Ct(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Sn.newNoDocument(p,t))}l.Le&&(e.set(h,l.qe()),l.Qe())}});let s=Yt();this.Ye.forEach((l,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.He.forEach((l,h)=>h.setReadTime(t));const o=new Rd(t,e,this.Ze,this.He,s);return this.He=is(),this.Je=Ef(),this.Ye=Ef(),this.Ze=new Se(zt),o}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,e)?o.$e(e,1):o.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new ZT,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Je(zt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Je(zt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||yt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new ZT),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Ef(){return new Se(Ct.comparator)}function JT(){return new Se(Ct.comparator)}const $D={asc:"ASCENDING",desc:"DESCENDING"},YD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XD={and:"AND",or:"OR"};class WD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Dg(i,t){return i.useProto3Json||_d(t)?t:{value:t}}function td(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $1(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function ZD(i,t){return td(i,t.toTimestamp())}function hr(i){return oe(!!i,49232),kt.fromTimestamp(function(e){const s=oa(e);return new Ze(s.seconds,s.nanos)}(i))}function Dy(i,t){return Mg(i,t).canonicalString()}function Mg(i,t){const e=function(o){return new Oe(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?e:e.child(t)}function Y1(i){const t=Oe.fromString(i);return oe(tS(t),10190,{key:t.toString()}),t}function kg(i,t){return Dy(i.databaseId,t.path)}function tg(i,t){const e=Y1(t);if(e.get(1)!==i.databaseId.projectId)throw new St(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new St(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Ct(W1(e))}function X1(i,t){return Dy(i.databaseId,t)}function JD(i){const t=Y1(i);return t.length===4?Oe.emptyPath():W1(t)}function Vg(i){return new Oe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function W1(i){return oe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function tb(i,t,e){return{name:kg(i,t),fields:e.value.mapValue.fields}}function tM(i,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Dt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(oe(E===void 0||typeof E=="string",58123),yn.fromBase64String(E||"")):(oe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),yn.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const E=g.code===void 0?ht.UNKNOWN:G1(g.code);return new St(E,g.message||"")}(h);e=new Q1(s,o,l,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=tg(i,s.document.name),l=hr(s.document.updateTime),h=s.document.createTime?hr(s.document.createTime):kt.min(),m=new Qn({mapValue:{fields:s.document.fields}}),p=Sn.newFoundDocument(o,l,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];e=new kf(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=tg(i,s.document),l=s.readTime?hr(s.readTime):kt.min(),h=Sn.newNoDocument(o,l),m=s.removedTargetIds||[];e=new kf([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=tg(i,s.document),l=s.removedTargetIds||[];e=new kf([],l,o,null)}else{if(!("filter"in t))return Dt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new qD(o,l),m=s.targetId;e=new K1(m,h)}}return e}function eM(i,t){let e;if(t instanceof zc)e={update:tb(i,t.key,t.value)};else if(t instanceof q1)e={delete:kg(i,t.key)};else if(t instanceof pa)e={update:tb(i,t.key,t.data),updateMask:cM(t.fieldMask)};else{if(!(t instanceof zD))return Dt(16599,{ft:t.type});e={verify:kg(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(l,h){const m=h.transform;if(m instanceof Zf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jf)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Dt(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:ZD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Dt(27497)}(i,t.precondition)),e}function nM(i,t){return i&&i.length>0?(oe(t!==void 0,14353),i.map(e=>function(o,l){let h=o.updateTime?hr(o.updateTime):hr(l);return h.isEqual(kt.min())&&(h=hr(l)),new UD(h,o.transformResults||[])}(e,t))):[]}function iM(i,t){return{documents:[X1(i,t.path)]}}function rM(i,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=X1(i,o);const l=function(g){if(g.length!==0)return J1(dr.create(g,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:fl(b.field),direction:oM(b.dir)}}(E))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const m=Dg(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:o}}function sM(i){let t=JD(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){oe(s===1,65062);const E=e.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let l=[];e.where&&(l=function(v){const b=Z1(v);return b instanceof dr&&I1(b)?b.getFilters():[b]}(e.where));let h=[];e.orderBy&&(h=function(v){return v.map(b=>function(U){return new Wf(dl(U.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(b))}(e.orderBy));let m=null;e.limit&&(m=function(v){let b;return b=typeof v=="object"?v.value:v,_d(b)?null:b}(e.limit));let p=null;e.startAt&&(p=function(v){const b=!!v.before,O=v.values||[];return new Xf(O,b)}(e.startAt));let g=null;return e.endAt&&(g=function(v){const b=!v.before,O=v.values||[];return new Xf(O,b)}(e.endAt)),SD(t,o,h,l,m,"F",p,g)}function aM(i,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Z1(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=dl(e.unaryFilter.field);return We.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=dl(e.unaryFilter.field);return We.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=dl(e.unaryFilter.field);return We.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=dl(e.unaryFilter.field);return We.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}}(i):i.fieldFilter!==void 0?function(e){return We.create(dl(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return dr.create(e.compositeFilter.filters.map(s=>Z1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}}(e.compositeFilter.op))}(i):Dt(30097,{filter:i})}function oM(i){return $D[i]}function lM(i){return YD[i]}function uM(i){return XD[i]}function fl(i){return{fieldPath:i.canonicalString()}}function dl(i){return gn.fromServerFormat(i.fieldPath)}function J1(i){return i instanceof We?function(e){if(e.op==="=="){if(zT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NAN"}};if(BT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(zT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NOT_NAN"}};if(BT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(e.field),op:lM(e.op),value:e.value}}}(i):i instanceof dr?function(e){const s=e.getFilters().map(o=>J1(o));return s.length===1?s[0]:{compositeFilter:{op:uM(e.op),filters:s}}}(i):Dt(54877,{filter:i})}function cM(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function tS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,e,s,o,l=kt.min(),h=kt.min(),m=yn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t){this.wt=t}}function fM(i){const t=sM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ng(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.Cn=new mM}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(aa.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(aa.min())}updateCollectionGroup(t,e,s){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class mM{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Je(Oe.comparator),l=!o.has(s);return this.index[e]=o.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Je(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eS=41943040;class Kn{static withCacheSize(t){return new Kn(t,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(eS,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Pl(0)}static lr(){return new Pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="LruGarbageCollector",pM=1048576;function ib([i,t],[e,s]){const o=zt(i,e);return o===0?zt(t,s):o}class gM{constructor(t){this.Er=t,this.buffer=new Je(ib),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();ib(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class yM{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){yt(nb,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){$l(e)?yt(nb,"Ignoring IndexedDB error during garbage collection: ",e):await Ql(e)}await this.mr(3e5)})}}class vM{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return it.resolve(vd.le);const s=new gM(e);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(eb)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eb):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,o,l,h,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,h=Date.now(),this.nthSequenceNumber(t,o))).next(v=>(s=v,m=Date.now(),this.removeTargets(t,s,e))).next(v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(v=>(g=Date.now(),cl()<=$t.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:v})))}}function _M(i,t){return new vM(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.changes=new yo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?it.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(s!==null&&fc(s.mutation,o,ii.empty(),Ze.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Yt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Yt()){const o=Xa();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,s).next(l=>{let h=rc();return l.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const s=Xa();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Yt()))}populateOverlays(t,e,s){const o=[];return s.forEach(l=>{e.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((h,m)=>{e.set(h,m)})})}computeViews(t,e,s,o){let l=is();const h=hc(),m=function(){return hc()}();return e.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof pa)?l=l.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),fc(E.mutation,g,E.mutation.getFieldMask(),Ze.now())):h.set(g.key,ii.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((g,E)=>h.set(g,E)),e.forEach((g,E)=>{var v;return m.set(g,new TM(E,(v=h.get(g))!==null&&v!==void 0?v:null))}),m))}recalculateAndSaveOverlays(t,e){const s=hc();let o=new Se((h,m)=>h-m),l=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=e.get(p);if(g===null)return;let E=s.get(p)||ii.empty();E=m.applyToLocalView(g,E),s.set(p,E);const v=(o.get(m.batchId)||Yt()).add(p);o=o.insert(m.batchId,v)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,v=P1();E.forEach(b=>{if(!l.has(b)){const O=H1(e.get(b),s.get(b));O!==null&&v.set(b,O),l=l.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,v))}return it.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,o){return function(h){return Ct.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):AD(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-l.size):it.resolve(Xa());let m=vc,p=l;return h.next(g=>it.forEach(g,(E,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),l.get(E)?it.resolve():this.remoteDocumentCache.getEntry(t,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(t,g,l)).next(()=>this.computeViews(t,p,g,Yt())).next(E=>({batchId:m,changes:V1(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ct(e)).next(s=>{let o=rc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const l=e.collectionGroup;let h=rc();return this.indexManager.getCollectionParents(t,l).next(m=>it.forEach(m,p=>{const g=function(v,b){return new Td(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((v,b)=>{h=h.insert(v,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,o))).next(h=>{l.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Sn.newInvalidDocument(E)))});let m=rc();return h.forEach((p,g)=>{const E=l.get(p);E!==void 0&&fc(E.mutation,g,ii.empty(),Ze.now()),wd(e,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return it.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:hr(o.createTime)}}(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(o){return{name:o.name,query:fM(o.bundledQuery),readTime:hr(o.readTime)}}(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.overlays=new Se(Ct.comparator),this.Qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Xa();return it.forEach(e,o=>this.getOverlay(t,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((o,l)=>{this.St(t,e,l)}),it.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),it.resolve()}getOverlaysForCollection(t,e,s){const o=Xa(),l=e.length+1,h=new Ct(e.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let l=new Se((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let E=l.get(g.largestBatchId);E===null&&(E=Xa(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Xa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return it.resolve(m)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new FD(e,s));let l=this.Qr.get(e);l===void 0&&(l=Yt(),this.Qr.set(e,l)),this.Qr.set(e,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.$r=new Je(on.Ur),this.Kr=new Je(on.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new on(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new on(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new Ct(new Oe([])),s=new on(e,t),o=new on(e,t+1),l=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),l.push(h.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Ct(new Oe([])),s=new on(e,t),o=new on(e,t+1);let l=Yt();return this.Kr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(t){const e=new on(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class on{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Ct.comparator(t.key,e.key)||zt(t.Zr,e.Zr)}static Wr(t,e){return zt(t.Zr,e.Zr)||Ct.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Je(on.Ur)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new HD(l,e,s,o);this.mutationQueue.push(h);for(const m of o)this.Xr=this.Xr.add(new on(m.key,l)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return it.resolve(h)}lookupMutationBatch(t,e){return it.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ti(s),l=o<0?0:o;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?wy:this.nr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new on(e,0),o=new on(e,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,o],h=>{const m=this.ei(h.Zr);l.push(m)}),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Je(zt);return e.forEach(o=>{const l=new on(o,0),h=new on(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,h],m=>{s=s.add(m.Zr)})}),it.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let l=s;Ct.isDocumentKey(l)||(l=l.child(""));const h=new on(new Ct(l),0);let m=new Je(zt);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},h),it.resolve(this.ni(m))}ni(t){const e=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){oe(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return it.forEach(e.mutations,o=>{const l=new on(o.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new on(e,0),o=this.Xr.firstAfterOrEqual(s);return it.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.ii=t,this.docs=function(){return new Se(Ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),l=o?o.size:0,h=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return it.resolve(s?s.document.mutableCopy():Sn.newInvalidDocument(e))}getEntries(t,e){let s=is();return e.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Sn.newInvalidDocument(o))}),it.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let l=is();const h=e.path,m=new Ct(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||nD(eD(E),s)<=0||(o.has(E.key)||wd(e,E))&&(l=l.insert(E.key,E.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,e,s,o){Dt(9500)}si(t,e){return it.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new IM(this)}getSize(t){return it.resolve(this.size)}}class IM extends EM{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?e.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),it.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t){this.persistence=t,this.oi=new yo(e=>Ry(e),Cy),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this._i=0,this.ai=new My,this.targetCount=0,this.ui=Pl.cr()}forEachTarget(t,e){return this.oi.forEach((s,o)=>e(o)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),it.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Pl(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Tr(e),it.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,s){let o=0;const l=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=e&&s.get(m.targetId)===null&&(this.oi.delete(h),l.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),it.waitFor(l).next(()=>o)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return it.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),it.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(h=>{l.push(o.markPotentiallyOrphaned(t,h))}),it.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return it.resolve(s)}containsKey(t,e){return it.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,e){this.ci={},this.overlays={},this.li=new vd(0),this.hi=!1,this.hi=!0,this.Pi=new AM,this.referenceDelegate=t(this),this.Ti=new xM(this),this.indexManager=new dM,this.remoteDocumentCache=function(o){return new CM(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new hM(e),this.Ei=new wM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new SM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new RM(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){yt("MemoryPersistence","Starting transaction:",t);const o=new OM(this.li.next());return this.referenceDelegate.di(),s(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(t,e){return it.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class OM extends rD{constructor(t){super(),this.currentSequenceNumber=t}}class ky{constructor(t){this.persistence=t,this.Vi=new My,this.mi=null}static fi(t){return new ky(t)}get gi(){if(this.mi)return this.mi;throw Dt(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),it.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.gi,s=>{const o=Ct.fromPath(s);return this.pi(t,o).next(l=>{l||e.removeEntry(o,kt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return it.or([()=>it.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class ed{constructor(t,e){this.persistence=t,this.yi=new yo(s=>oD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=_M(this,e)}static fi(t,e){return new ed(t,e)}di(){}Ai(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(o=>s+o))}br(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return it.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(l=>l?it.resolve():e(o)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(t,h=>this.Dr(t,h,e).next(m=>{m||(s++,l.removeEntry(h,kt.min()))})).next(()=>l.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),it.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Nf(t.data.value)),e}Dr(t,e,s){return it.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.yi.get(e);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.ds=s,this.As=o}static Rs(t,e){let s=Yt(),o=Yt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Vy(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return c2()?8:sD(Rn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,o){const l={result:null};return this.ws(t,e).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.bs(t,e,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new NM;return this.Ss(t,e,h).next(m=>{if(l.result=m,this.fs)return this.Ds(t,e,h,m.size)})}).next(()=>l.result)}Ds(t,e,s,o){return s.documentReadCount<this.gs?(cl()<=$t.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",hl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),it.resolve()):(cl()<=$t.DEBUG&&yt("QueryEngine","Query:",hl(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(cl()<=$t.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",hl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ur(e))):it.resolve())}ws(t,e){if(GT(e))return it.resolve(null);let s=ur(e);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=Ng(e,null,"F"),s=ur(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const h=Yt(...l);return this.ys.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.vs(e,m);return this.Cs(e,g,h,p.readTime)?this.ws(t,Ng(e,null,"F")):this.Fs(t,g,e,p)}))})))}bs(t,e,s,o){return GT(e)||o.isEqual(kt.min())?it.resolve(null):this.ys.getDocuments(t,s).next(l=>{const h=this.vs(e,l);return this.Cs(e,h,s,o)?it.resolve(null):(cl()<=$t.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hl(e)),this.Fs(t,h,e,tD(o,vc)).next(m=>m))})}vs(t,e){let s=new Je(M1(t));return e.forEach((o,l)=>{wd(t,l)&&(s=s.add(l))}),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(t,e,s){return cl()<=$t.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",hl(e)),this.ys.getDocumentsMatchingQuery(t,e,aa.min(),s)}Fs(t,e,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(l=>(e.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LocalStore",MM=3e8;class kM{constructor(t,e,s,o){this.persistence=t,this.Ms=e,this.serializer=o,this.xs=new Se(zt),this.Os=new yo(l=>Ry(l),Cy),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function VM(i,t,e,s){return new kM(i,t,e,s)}async function iS(i,t){const e=Vt(i);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],m=[];let p=Yt();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of l){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return e.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:m}))})})}function PM(i,t){const e=Vt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),l=e.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const v=g.batch,b=v.keys();let O=it.resolve();return b.forEach(U=>{O=O.next(()=>E.getEntry(p,U)).next(q=>{const k=g.docVersions.get(U);oe(k!==null,48541),q.version.compareTo(k)<0&&(v.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),E.addEntry(q)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,v))}(e,s,t,l).next(()=>l.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Yt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>e.localDocuments.getDocuments(s,o))})}function rS(i){const t=Vt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function LM(i,t){const e=Vt(i),s=t.snapshotVersion;let o=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=e.Bs.newChangeBuffer({trackRemovals:!0});o=e.xs;const m=[];t.targetChanges.forEach((E,v)=>{const b=o.get(v);if(!b)return;m.push(e.Ti.removeMatchingKeys(l,E.removedDocuments,v).next(()=>e.Ti.addMatchingKeys(l,E.addedDocuments,v)));let O=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?O=O.withResumeToken(yn.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(v,O),function(q,k,et){return q.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=MM?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(b,O,E)&&m.push(e.Ti.updateTargetData(l,O))});let p=is(),g=Yt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(l,E))}),m.push(UM(l,h,t.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(kt.min())){const E=e.Ti.getLastRemoteSnapshotVersion(l).next(v=>e.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(E)}return it.waitFor(m).next(()=>h.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(e.xs=o,l))}function UM(i,t,e){let s=Yt(),o=Yt();return e.forEach(l=>s=s.add(l)),t.getEntries(i,s).next(l=>{let h=is();return e.forEach((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(kt.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):yt(Py,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function jM(i,t){const e=Vt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=wy),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function BM(i,t){const e=Vt(i);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return e.Ti.getTargetData(s,t).next(l=>l?(o=l,it.resolve(o)):e.Ti.allocateTargetId(s).next(h=>(o=new Js(t,h,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=e.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function Pg(i,t,e){const s=Vt(i),o=s.xs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!$l(h))throw h;yt(Py,`Failed to update sequence numbers for target ${t}: ${h}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function rb(i,t,e){const s=Vt(i);let o=kt.min(),l=Yt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const v=Vt(p),b=v.Os.get(E);return b!==void 0?it.resolve(v.xs.get(b)):v.Ti.getTargetData(g,E)}(s,h,ur(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,m.targetId).next(p=>{l=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,t,e?o:kt.min(),e?l:Yt())).next(m=>(zM(s,CD(t),m),{documents:m,$s:l})))}function zM(i,t,e){let s=i.Ns.get(t)||kt.min();e.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Ns.set(t,s)}class sb{constructor(){this.activeTargetIds=MD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HM{constructor(){this.xo=new sb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new sb,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="ConnectivityMonitor";class ob{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){yt(ab,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){yt(ab,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=null;function Lg(){return Tf===null?Tf=function(){return 268435456+Math.round(2147483648*Math.random())}():Tf++,"0x"+Tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="RestConnection",qM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GM{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===$f?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,e,s,o,l){const h=Lg(),m=this.jo(t,e.toUriEncodedString());yt(eg,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,l);const{host:g}=new URL(m),E=Fl(g);return this.Jo(t,m,p,s,E).then(v=>(yt(eg,`Received RPC '${t}' ${h}: `,v),v),v=>{throw Dl(eg,`RPC '${t}' ${h} failed with error: `,v,"url: ",m,"request:",s),v})}Yo(t,e,s,o,l,h){return this.zo(t,e,s,o,l)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),s&&s.headers.forEach((o,l)=>t[l]=o)}jo(t,e){const s=qM[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class QM extends GM{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,l){const h=Lg();return new Promise((m,p)=>{const g=new o1;g.setWithCredentials(!0),g.listenOnce(l1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Of.NO_ERROR:const v=g.getResponseJson();yt(Tn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(v)),m(v);break;case Of.TIMEOUT:yt(Tn,`RPC '${t}' ${h} timed out`),p(new St(ht.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const b=g.getStatus();if(yt(Tn,`RPC '${t}' ${h} failed with status:`,b,"response text:",g.getResponseText()),b>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const U=O==null?void 0:O.error;if(U&&U.status&&U.message){const q=function(et){const ot=et.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(ot)>=0?ot:ht.UNKNOWN}(U.status);p(new St(q,U.message))}else p(new St(ht.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new St(ht.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{h_:t,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{yt(Tn,`RPC '${t}' ${h} completed.`)}});const E=JSON.stringify(o);yt(Tn,`RPC '${t}' ${h} sending request:`,o),g.send(e,"POST",E,s,15)})}I_(t,e,s){const o=Lg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=h1(),m=c1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const E=l.join("");yt(Tn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const v=h.createWebChannel(E,p);this.E_(v);let b=!1,O=!1;const U=new KM({Zo:k=>{O?yt(Tn,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(b||(yt(Tn,`Opening RPC '${t}' stream ${o} transport.`),v.open(),b=!0),yt(Tn,`RPC '${t}' stream ${o} sending:`,k),v.send(k))},Xo:()=>v.close()}),q=(k,et,ot)=>{k.listen(et,Z=>{try{ot(Z)}catch(lt){setTimeout(()=>{throw lt},0)}})};return q(v,ic.EventType.OPEN,()=>{O||(yt(Tn,`RPC '${t}' stream ${o} transport opened.`),U.__())}),q(v,ic.EventType.CLOSE,()=>{O||(O=!0,yt(Tn,`RPC '${t}' stream ${o} transport closed`),U.u_(),this.d_(v))}),q(v,ic.EventType.ERROR,k=>{O||(O=!0,Dl(Tn,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),U.u_(new St(ht.UNAVAILABLE,"The operation could not be completed")))}),q(v,ic.EventType.MESSAGE,k=>{var et;if(!O){const ot=k.data[0];oe(!!ot,16349);const Z=ot,lt=(Z==null?void 0:Z.error)||((et=Z[0])===null||et===void 0?void 0:et.error);if(lt){yt(Tn,`RPC '${t}' stream ${o} received error:`,lt);const at=lt.status;let st=function(C){const M=ze[C];if(M!==void 0)return G1(M)}(at),D=lt.message;st===void 0&&(st=ht.INTERNAL,D="Unknown error status: "+at+" with message "+lt.message),O=!0,U.u_(new St(st,D)),v.close()}else yt(Tn,`RPC '${t}' stream ${o} received:`,ot),U.c_(ot)}}),q(m,u1.STAT_EVENT,k=>{k.stat===Ag.PROXY?yt(Tn,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===Ag.NOPROXY&&yt(Tn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.a_()},0),U}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(i){return new WD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,e,s=1e3,o=1.5,l=6e4){this.xi=t,this.timerId=e,this.A_=s,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,e-s);o>0&&yt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="PersistentStream";class aS{constructor(t,e,s,o,l,h,m,p){this.xi=t,this.S_=s,this.D_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new sS(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===ht.RESOURCE_EXHAUSTED?(ns(e.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===e&&this.z_(s,o)},s=>{t(()=>{const o=new St(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,e){const s=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return yt(lb,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(yt(lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $M extends aS{constructor(t,e,s,o,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,h),this.serializer=l}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=tM(this.serializer,t),s=function(l){if(!("targetChange"in l))return kt.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?kt.min():h.readTime?hr(h.readTime):kt.min()}(t);return this.listener.Y_(e,s)}Z_(t){const e={};e.database=Vg(this.serializer),e.addTarget=function(l,h){let m;const p=h.target;if(m=Og(p)?{documents:iM(l,p)}:{query:rM(l,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=$1(l,h.resumeToken);const g=Dg(l,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(kt.min())>0){m.readTime=td(l,h.snapshotVersion.toTimestamp());const g=Dg(l,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=aM(this.serializer,t);s&&(e.labels=s),this.Q_(e)}X_(t){const e={};e.database=Vg(this.serializer),e.removeTarget=t,this.Q_(e)}}class YM extends aS{constructor(t,e,s,o,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,h),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return oe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,oe(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){oe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=nM(t.writeResults,t.commitTime),s=hr(t.commitTime);return this.listener.ra(s,e)}ia(){const t={};t.database=Vg(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>eM(this.serializer,s))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{}class WM extends XM{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new St(ht.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.zo(t,Mg(e,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new St(ht.UNKNOWN,l.toString())})}Yo(t,e,s,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(t,Mg(e,s),o,h,m,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new St(ht.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ZM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ns(e),this.ua=!1):yt("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="RemoteStore";class JM{constructor(t,e,s,o,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(h=>{s.enqueueAndForget(async()=>{vo(this)&&(yt(ho,"Restarting streams for network reachability change."),await async function(p){const g=Vt(p);g.da.add(4),await Fc(g),g.Va.set("Unknown"),g.da.delete(4),await Id(g)}(this))})}),this.Va=new ZM(s,o)}}async function Id(i){if(vo(i))for(const t of i.Aa)await t(!0)}async function Fc(i){for(const t of i.Aa)await t(!1)}function oS(i,t){const e=Vt(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),By(e)?jy(e):Yl(e).N_()&&Uy(e,t))}function Ly(i,t){const e=Vt(i),s=Yl(e);e.Ea.delete(t),s.N_()&&lS(e,t),e.Ea.size===0&&(s.N_()?s.k_():vo(e)&&e.Va.set("Unknown"))}function Uy(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Yl(i).Z_(t)}function lS(i,t){i.ma.Ke(t),Yl(i).X_(t)}function jy(i){i.ma=new QD({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),Yl(i).start(),i.Va.ca()}function By(i){return vo(i)&&!Yl(i).O_()&&i.Ea.size>0}function vo(i){return Vt(i).da.size===0}function uS(i){i.ma=void 0}async function t4(i){i.Va.set("Online")}async function e4(i){i.Ea.forEach((t,e)=>{Uy(i,t)})}async function n4(i,t){uS(i),By(i)?(i.Va.Pa(t),jy(i)):i.Va.set("Unknown")}async function i4(i,t,e){if(i.Va.set("Online"),t instanceof Q1&&t.state===2&&t.cause)try{await async function(o,l){const h=l.cause;for(const m of l.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ea.delete(m),o.ma.removeTarget(m))}(i,t)}catch(s){yt(ho,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await nd(i,s)}else if(t instanceof kf?i.ma.Xe(t):t instanceof K1?i.ma.ot(t):i.ma.nt(t),!e.isEqual(kt.min()))try{const s=await rS(i.localStore);e.compareTo(s)>=0&&await function(l,h){const m=l.ma.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.Ea.get(g);E&&l.Ea.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=l.Ea.get(p);if(!E)return;l.Ea.set(p,E.withResumeToken(yn.EMPTY_BYTE_STRING,E.snapshotVersion)),lS(l,p);const v=new Js(E.target,p,g,E.sequenceNumber);Uy(l,v)}),l.remoteSyncer.applyRemoteEvent(m)}(i,e)}catch(s){yt(ho,"Failed to raise snapshot:",s),await nd(i,s)}}async function nd(i,t,e){if(!$l(t))throw t;i.da.add(1),await Fc(i),i.Va.set("Offline"),e||(e=()=>rS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{yt(ho,"Retrying IndexedDB access"),await e(),i.da.delete(1),await Id(i)})}function cS(i,t){return t().catch(e=>nd(i,e,t))}async function xd(i){const t=Vt(i),e=ca(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:wy;for(;r4(t);)try{const o=await jM(t.localStore,s);if(o===null){t.Ia.length===0&&e.k_();break}s=o.batchId,s4(t,o)}catch(o){await nd(t,o)}hS(t)&&fS(t)}function r4(i){return vo(i)&&i.Ia.length<10}function s4(i,t){i.Ia.push(t);const e=ca(i);e.N_()&&e.ea&&e.ta(t.mutations)}function hS(i){return vo(i)&&!ca(i).O_()&&i.Ia.length>0}function fS(i){ca(i).start()}async function a4(i){ca(i).ia()}async function o4(i){const t=ca(i);for(const e of i.Ia)t.ta(e.mutations)}async function l4(i,t,e){const s=i.Ia.shift(),o=Oy.from(s,t,e);await cS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await xd(i)}async function u4(i,t){t&&ca(i).ea&&await async function(s,o){if(function(h){return GD(h)&&h!==ht.ABORTED}(o.code)){const l=s.Ia.shift();ca(s).L_(),await cS(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await xd(s)}}(i,t),hS(i)&&fS(i)}async function ub(i,t){const e=Vt(i);e.asyncQueue.verifyOperationInProgress(),yt(ho,"RemoteStore received new credentials");const s=vo(e);e.da.add(3),await Fc(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Id(e)}async function c4(i,t){const e=Vt(i);t?(e.da.delete(2),await Id(e)):t||(e.da.add(2),await Fc(e),e.Va.set("Unknown"))}function Yl(i){return i.fa||(i.fa=function(e,s,o){const l=Vt(e);return l.oa(),new $M(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{e_:t4.bind(null,i),n_:e4.bind(null,i),i_:n4.bind(null,i),Y_:i4.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),By(i)?jy(i):i.Va.set("Unknown")):(await i.fa.stop(),uS(i))})),i.fa}function ca(i){return i.ga||(i.ga=function(e,s,o){const l=Vt(e);return l.oa(),new YM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:a4.bind(null,i),i_:u4.bind(null,i),na:o4.bind(null,i),ra:l4.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await xd(i)):(await i.ga.stop(),i.Ia.length>0&&(yt(ho,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(t,e,s,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,l){const h=Date.now()+s,m=new zy(t,e,h,o,l);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(i,t){if(ns("AsyncQueue",`${t}: ${i}`),$l(i))return new St(ht.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static emptySet(t){return new vl(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||Ct.comparator(e.key,s.key):(e,s)=>Ct.comparator(e.key,s.key),this.keyedMap=rc(),this.sortedSet=new Se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof vl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new vl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.pa=new Se(Ct.comparator)}track(t){const e=t.doc.key,s=this.pa.get(e);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(e,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(e):t.type===1&&s.type===2?this.pa=this.pa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):Dt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,s)=>{t.push(s)}),t}}class Ll{constructor(t,e,s,o,l,h,m,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,l){const h=[];return e.forEach(m=>{h.push({type:0,doc:m})}),new Ll(t,e,vl.emptySet(e),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class f4{constructor(){this.queries=hb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Vt(e),l=o.queries;o.queries=hb(),l.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new St(ht.ABORTED,"Firestore shutting down"))}}function hb(){return new yo(i=>D1(i),bd)}async function d4(i,t){const e=Vt(i);let s=3;const o=t.query;let l=e.queries.get(o);l?!l.Da()&&t.va()&&(s=2):(l=new h4,s=t.va()?0:1);try{switch(s){case 0:l.ba=await e.onListen(o,!0);break;case 1:l.ba=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const m=Hy(h,`Initialization of query '${hl(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,l),l.Sa.push(t),t.Fa(e.onlineState),l.ba&&t.Ma(l.ba)&&Fy(e)}async function m4(i,t){const e=Vt(i),s=t.query;let o=3;const l=e.queries.get(s);if(l){const h=l.Sa.indexOf(t);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=t.va()?0:1:!l.Da()&&t.va()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function p4(i,t){const e=Vt(i);let s=!1;for(const o of t){const l=o.query,h=e.queries.get(l);if(h){for(const m of h.Sa)m.Ma(o)&&(s=!0);h.ba=o}}s&&Fy(e)}function g4(i,t,e){const s=Vt(i),o=s.queries.get(t);if(o)for(const l of o.Sa)l.onError(e);s.queries.delete(t)}function Fy(i){i.Ca.forEach(t=>{t.next()})}var Ug,fb;(fb=Ug||(Ug={})).xa="default",fb.Cache="cache";class y4{constructor(t,e,s){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ll(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const s=e!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Ug.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t){this.key=t}}class mS{constructor(t){this.key=t}}class v4{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Yt(),this.mutatedKeys=Yt(),this.Za=M1(t),this.Xa=new vl(this.Za)}get eu(){return this.Ha}tu(t,e){const s=e?e.nu:new cb,o=e?e.Xa:this.Xa;let l=e?e.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,v)=>{const b=o.get(E),O=wd(this.query,v)?v:null,U=!!b&&this.mutatedKeys.has(b.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;b&&O?b.data.isEqual(O.data)?U!==q&&(s.track({type:3,doc:O}),k=!0):this.ru(b,O)||(s.track({type:2,doc:O}),k=!0,(p&&this.Za(O,p)>0||g&&this.Za(O,g)<0)&&(m=!0)):!b&&O?(s.track({type:0,doc:O}),k=!0):b&&!O&&(s.track({type:1,doc:b}),k=!0,(p||g)&&(m=!0)),k&&(O?(h=h.add(O),l=q?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{Xa:h,nu:s,Cs:m,mutatedKeys:l}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const l=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const h=t.nu.wa();h.sort((E,v)=>function(O,U){const q=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Vt:k})}};return q(O)-q(U)}(E.type,v.type)||this.Za(E.doc,v.doc)),this.iu(s),o=o!=null&&o;const m=e&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new Ll(this.query,t.Xa,l,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new cb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Yt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const e=[];return t.forEach(s=>{this.Ya.has(s)||e.push(new mS(s))}),this.Ya.forEach(s=>{t.has(s)||e.push(new dS(s))}),e}au(t){this.Ha=t.$s,this.Ya=Yt();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Ll.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const qy="SyncEngine";class _4{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class E4{constructor(t){this.key=t,this.cu=!1}}class T4{constructor(t,e,s,o,l,h){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new yo(m=>D1(m),bd),this.Pu=new Map,this.Tu=new Set,this.Iu=new Se(Ct.comparator),this.Eu=new Map,this.du=new My,this.Au={},this.Ru=new Map,this.Vu=Pl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function b4(i,t,e=!0){const s=ES(i);let o;const l=s.hu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await pS(s,t,e,!0),o}async function w4(i,t){const e=ES(i);await pS(e,t,!0,!1)}async function pS(i,t,e,s){const o=await BM(i.localStore,ur(t)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,e);let m;return s&&(m=await S4(i,t,l,h==="current",o.resumeToken)),i.isPrimaryClient&&e&&oS(i.remoteStore,o),m}async function S4(i,t,e,s,o){i.fu=(v,b,O)=>async function(q,k,et,ot){let Z=k.view.tu(et);Z.Cs&&(Z=await rb(q.localStore,k.query,!1).then(({documents:D})=>k.view.tu(D,Z)));const lt=ot&&ot.targetChanges.get(k.targetId),at=ot&&ot.targetMismatches.get(k.targetId)!=null,st=k.view.applyChanges(Z,q.isPrimaryClient,lt,at);return mb(q,k.targetId,st.ou),st.snapshot}(i,v,b,O);const l=await rb(i.localStore,t,!0),h=new v4(t,l.$s),m=h.tu(l.documents),p=Hc.createSynthesizedTargetChangeForCurrentChange(e,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);mb(i,e,g.ou);const E=new _4(t,e,h);return i.hu.set(t,E),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),g.snapshot}async function A4(i,t,e){const s=Vt(i),o=s.hu.get(t),l=s.Pu.get(o.targetId);if(l.length>1)return s.Pu.set(o.targetId,l.filter(h=>!bd(h,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),e&&Ly(s.remoteStore,o.targetId),jg(s,o.targetId)}).catch(Ql)):(jg(s,o.targetId),await Pg(s.localStore,o.targetId,!0))}async function R4(i,t){const e=Vt(i),s=e.hu.get(t),o=e.Pu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Ly(e.remoteStore,s.targetId))}async function C4(i,t,e){const s=k4(i);try{const o=await function(h,m){const p=Vt(h),g=Ze.now(),E=m.reduce((O,U)=>O.add(U.key),Yt());let v,b;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let U=is(),q=Yt();return p.Bs.getEntries(O,E).next(k=>{U=k,U.forEach((et,ot)=>{ot.isValidDocument()||(q=q.add(et))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,U)).next(k=>{v=k;const et=[];for(const ot of m){const Z=BD(ot,v.get(ot.key).overlayedDocument);Z!=null&&et.push(new pa(ot.key,Z,A1(Z.value.mapValue),cr.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,et,m)}).next(k=>{b=k;const et=k.applyToLocalDocumentSet(v,q);return p.documentOverlayCache.saveOverlays(O,k.batchId,et)})}).then(()=>({batchId:b.batchId,changes:V1(v)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Au[h.currentUser.toKey()];g||(g=new Se(zt)),g=g.insert(m,p),h.Au[h.currentUser.toKey()]=g}(s,o.batchId,e),await qc(s,o.changes),await xd(s.remoteStore)}catch(o){const l=Hy(o,"Failed to persist write");e.reject(l)}}async function gS(i,t){const e=Vt(i);try{const s=await LM(e.localStore,t);t.targetChanges.forEach((o,l)=>{const h=e.Eu.get(l);h&&(oe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?oe(h.cu,14607):o.removedDocuments.size>0&&(oe(h.cu,42227),h.cu=!1))}),await qc(e,s,t)}catch(s){await Ql(s)}}function db(i,t,e){const s=Vt(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.hu.forEach((l,h)=>{const m=h.view.Fa(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Vt(h);p.onlineState=m;let g=!1;p.queries.forEach((E,v)=>{for(const b of v.Sa)b.Fa(m)&&(g=!0)}),g&&Fy(p)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function I4(i,t,e){const s=Vt(i);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Eu.get(t),l=o&&o.key;if(l){let h=new Se(Ct.comparator);h=h.insert(l,Sn.newNoDocument(l,kt.min()));const m=Yt().add(l),p=new Rd(kt.min(),new Map,new Se(zt),h,m);await gS(s,p),s.Iu=s.Iu.remove(l),s.Eu.delete(t),Gy(s)}else await Pg(s.localStore,t,!1).then(()=>jg(s,t,e)).catch(Ql)}async function x4(i,t){const e=Vt(i),s=t.batch.batchId;try{const o=await PM(e.localStore,t);vS(e,s,null),yS(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await qc(e,o)}catch(o){await Ql(o)}}async function O4(i,t,e){const s=Vt(i);try{const o=await function(h,m){const p=Vt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(v=>(oe(v!==null,37113),E=v.keys(),p.mutationQueue.removeMutationBatch(g,v))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);vS(s,t,e),yS(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await qc(s,o)}catch(o){await Ql(o)}}function yS(i,t){(i.Ru.get(t)||[]).forEach(e=>{e.resolve()}),i.Ru.delete(t)}function vS(i,t,e){const s=Vt(i);let o=s.Au[s.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function jg(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Pu.get(t))i.hu.delete(s),e&&i.lu.gu(s,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(s=>{i.du.containsKey(s)||_S(i,s)})}function _S(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(Ly(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),Gy(i))}function mb(i,t,e){for(const s of e)s instanceof dS?(i.du.addReference(s.key,t),N4(i,s)):s instanceof mS?(yt(qy,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,t),i.du.containsKey(s.key)||_S(i,s.key)):Dt(19791,{pu:s})}function N4(i,t){const e=t.key,s=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(s)||(yt(qy,"New document in limbo: "+e),i.Tu.add(s),Gy(i))}function Gy(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new Ct(Oe.fromString(t)),s=i.Vu.next();i.Eu.set(s,new E4(e)),i.Iu=i.Iu.insert(e,s),oS(i.remoteStore,new Js(ur(Iy(e.path)),s,"TargetPurposeLimboResolution",vd.le))}}async function qc(i,t,e){const s=Vt(i),o=[],l=[],h=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{h.push(s.fu(p,t,e).then(g=>{var E;if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:(E=e==null?void 0:e.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Vy.Rs(p.targetId,g);l.push(v)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(p,g){const E=Vt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>it.forEach(g,b=>it.forEach(b.ds,O=>E.persistence.referenceDelegate.addReference(v,b.targetId,O)).next(()=>it.forEach(b.As,O=>E.persistence.referenceDelegate.removeReference(v,b.targetId,O)))))}catch(v){if(!$l(v))throw v;yt(Py,"Failed to update sequence numbers: "+v)}for(const v of g){const b=v.targetId;if(!v.fromCache){const O=E.xs.get(b),U=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(U);E.xs=E.xs.insert(b,q)}}}(s.localStore,l))}async function D4(i,t){const e=Vt(i);if(!e.currentUser.isEqual(t)){yt(qy,"User change. New user:",t.toKey());const s=await iS(e.localStore,t);e.currentUser=t,function(l,h){l.Ru.forEach(m=>{m.forEach(p=>{p.reject(new St(ht.CANCELLED,h))})}),l.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await qc(e,s.ks)}}function M4(i,t){const e=Vt(i),s=e.Eu.get(t);if(s&&s.cu)return Yt().add(s.key);{let o=Yt();const l=e.Pu.get(t);if(!l)return o;for(const h of l){const m=e.hu.get(h);o=o.unionWith(m.view.eu)}return o}}function ES(i){const t=Vt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=gS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=M4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=I4.bind(null,t),t.lu.Y_=p4.bind(null,t.eventManager),t.lu.gu=g4.bind(null,t.eventManager),t}function k4(i){const t=Vt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=x4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=O4.bind(null,t),t}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return VM(this.persistence,new DM,t.initialUser,this.serializer)}Su(t){return new nS(ky.fi,this.serializer)}bu(t){return new HM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class V4 extends id{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){oe(this.persistence.referenceDelegate instanceof ed,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yM(s,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new nS(s=>ed.fi(s,e),this.serializer)}}class Bg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>db(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=D4.bind(null,this.syncEngine),await c4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new f4}()}createDatastore(t){const e=Cd(t.databaseInfo.databaseId),s=function(l){return new QM(l)}(t.databaseInfo);return function(l,h,m,p){return new WM(l,h,m,p)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,o,l,h,m){return new JM(s,o,l,h,m)}(this.localStore,this.datastore,t.asyncQueue,e=>db(this.syncEngine,e,0),function(){return ob.C()?new ob:new FM}())}createSyncEngine(t,e){return function(o,l,h,m,p,g,E){const v=new T4(o,l,h,m,p,g);return E&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const l=Vt(o);yt(ho,"RemoteStore shutting down."),l.da.add(5),await Fc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ns("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="FirestoreClient";class L4{constructor(t,e,s,o,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=wn.UNAUTHENTICATED,this.clientId=p1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{yt(ha,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(yt(ha,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Hy(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function ig(i,t){i.asyncQueue.verifyOperationInProgress(),yt(ha,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await iS(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function pb(i,t){i.asyncQueue.verifyOperationInProgress();const e=await U4(i);yt(ha,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(s=>ub(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>ub(t.remoteStore,o)),i._onlineComponents=t}async function U4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){yt(ha,"Using user provided OfflineComponentProvider");try{await ig(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===ht.FAILED_PRECONDITION||o.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;Dl("Error using user provided cache. Falling back to memory cache: "+e),await ig(i,new id)}}else yt(ha,"Using default OfflineComponentProvider"),await ig(i,new V4(void 0));return i._offlineComponents}async function TS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(yt(ha,"Using user provided OnlineComponentProvider"),await pb(i,i._uninitializedComponentsProvider._online)):(yt(ha,"Using default OnlineComponentProvider"),await pb(i,new Bg))),i._onlineComponents}function j4(i){return TS(i).then(t=>t.syncEngine)}async function B4(i){const t=await TS(i),e=t.eventManager;return e.onListen=b4.bind(null,t.syncEngine),e.onUnlisten=A4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=w4.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=R4.bind(null,t.syncEngine),e}function z4(i,t,e={}){const s=new ra;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,m,p,g){const E=new P4({next:b=>{E.xu(),h.enqueueAndForget(()=>m4(l,v));const O=b.docs.has(m);!O&&b.fromCache?g.reject(new St(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&b.fromCache&&p&&p.source==="server"?g.reject(new St(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new y4(Iy(m.path),E,{includeMetadataChanges:!0,Qa:!0});return d4(l,v)}(await B4(i),i.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(i,t,e){if(!e)throw new St(ht.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function F4(i,t,e,s){if(t===!0&&s===!0)throw new St(ht.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function yb(i){if(!Ct.isDocumentKey(i))throw new St(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ky(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Dt(12329,{type:typeof i})}function fo(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new St(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ky(i);throw new St(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firestore.googleapis.com",vb=!0;class _b{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new St(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wS,this.ssl=vb}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:vb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pM)throw new St(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}F4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bS((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new St(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new St(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new St(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qy{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _b(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new GN;switch(s.type){case"firstParty":return new YN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new St(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=gb.get(e);s&&(yt("ComponentProvider","Removing Datastore"),gb.delete(e),s.terminate())}(this),Promise.resolve()}}function q4(i,t,e,s={}){var o;i=fo(i,Qy);const l=Fl(t),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${e}`;l&&(vw(`https://${p}`),_w("Firestore",!0)),h.host!==wS&&h.host!==p&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:s});if(!ao(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,v;if(typeof s.mockUserToken=="string")E=s.mockUserToken,v=wn.MOCK_USER;else{E=e2(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new St(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new wn(b)}i._authCredentials=new KN(new d1(E,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G4=class SS{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new SS(this.firestore,t,this._query)}};class ri{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ri(this.firestore,t,this._key)}}class Sc extends G4{constructor(t,e,s){super(t,e,Iy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ri(this.firestore,null,new Ct(t))}withConverter(t){return new Sc(this.firestore,t,this._path)}}function ki(i,t,...e){if(i=Cn(i),arguments.length===1&&(t=p1.newId()),H4("doc","path",t),i instanceof Qy){const s=Oe.fromString(t,...e);return yb(s),new ri(i,null,new Ct(s))}{if(!(i instanceof ri||i instanceof Sc))throw new St(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Oe.fromString(t,...e));return yb(s),new ri(i.firestore,i instanceof Sc?i.converter:null,new Ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="AsyncQueue";class Tb{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new sS(this,"async_queue_retry"),this.rc=()=>{const s=ng();s&&yt(Eb,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const e=ng();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=ng();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new ra;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!$l(t))throw t;yt(Eb,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,ns("INTERNAL UNHANDLED ERROR: ",bb(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=e,e}enqueueAfterDelay(t,e,s){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const o=zy.createAndSchedule(this,t,e,s,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&Dt(47125,{cc:bb(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function bb(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Od extends Qy{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new Tb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tb(t),this._firestoreClient=void 0,await t}}}function K4(i,t){const e=typeof i=="object"?i:ww(),s=typeof i=="string"?i:$f,o=fy(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=JI("firestore");l&&q4(o,...l)}return o}function AS(i){if(i._terminated)throw new St(ht.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Q4(i),i._firestoreClient}function Q4(i){var t,e,s;const o=i._freezeSettings(),l=function(m,p,g,E){return new cD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,bS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new L4(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ul(yn.fromBase64String(t))}catch(e){throw new St(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ul(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new St(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new St(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new St(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=/^__.*__$/;class Y4{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new pa(t,this.data,this.fieldMask,e,this.fieldTransforms):new zc(t,this.data,e,this.fieldTransforms)}}class RS{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new pa(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function CS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ic:i})}}class Wy{constructor(t,e,s,o,l,h){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Wy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return rd(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(CS(this.Ic)&&$4.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class X4{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Cd(t)}bc(t,e,s,o=!1){return new Wy({Ic:t,methodName:e,wc:s,path:gn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IS(i){const t=i._freezeSettings(),e=Cd(i._databaseId);return new X4(i._databaseId,!!t.ignoreUndefinedProperties,e)}function W4(i,t,e,s,o,l={}){const h=i.bc(l.merge||l.mergeFields?2:0,t,e,o);Zy("Data must be an object, but it was:",h,s);const m=xS(s,h);let p,g;if(l.merge)p=new ii(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const v of l.mergeFields){const b=zg(t,v,e);if(!h.contains(b))throw new St(ht.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);NS(E,b)||E.push(b)}p=new ii(E),g=h.fieldTransforms.filter(v=>p.covers(v.field))}else p=null,g=h.fieldTransforms;return new Y4(new Qn(m),p,g)}class Dd extends $y{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dd}}function Z4(i,t,e,s){const o=i.bc(1,t,e);Zy("Data must be an object, but it was:",o,s);const l=[],h=Qn.empty();ma(s,(p,g)=>{const E=Jy(t,p,e);g=Cn(g);const v=o.mc(E);if(g instanceof Dd)l.push(E);else{const b=Md(g,v);b!=null&&(l.push(E),h.set(E,b))}});const m=new ii(l);return new RS(h,m,o.fieldTransforms)}function J4(i,t,e,s,o,l){const h=i.bc(1,t,e),m=[zg(t,s,e)],p=[o];if(l.length%2!=0)throw new St(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)m.push(zg(t,l[b])),p.push(l[b+1]);const g=[],E=Qn.empty();for(let b=m.length-1;b>=0;--b)if(!NS(g,m[b])){const O=m[b];let U=p[b];U=Cn(U);const q=h.mc(O);if(U instanceof Dd)g.push(O);else{const k=Md(U,q);k!=null&&(g.push(O),E.set(O,k))}}const v=new ii(g);return new RS(E,v,h.fieldTransforms)}function Md(i,t){if(OS(i=Cn(i)))return Zy("Unsupported field value:",t,i),xS(i,t);if(i instanceof $y)return function(s,o){if(!CS(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const m of s){let p=Md(m,o.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,t)}return function(s,o){if((s=Cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ze.fromDate(s);return{timestampValue:td(o.serializer,l)}}if(s instanceof Ze){const l=new Ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:td(o.serializer,l)}}if(s instanceof Yy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ul)return{bytesValue:$1(o.serializer,s._byteString)};if(s instanceof ri){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Dy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Xy)return function(h,m){return{mapValue:{fields:{[w1]:{stringValue:S1},[Yf]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return xy(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Ky(s)}`)}(i,t)}function xS(i,t){const e={};return y1(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ma(i,(s,o)=>{const l=Md(o,t.Ac(s));l!=null&&(e[s]=l)}),{mapValue:{fields:e}}}function OS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ze||i instanceof Yy||i instanceof Ul||i instanceof ri||i instanceof $y||i instanceof Xy)}function Zy(i,t,e){if(!OS(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const s=Ky(e);throw s==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+s)}}function zg(i,t,e){if((t=Cn(t))instanceof Nd)return t._internalPath;if(typeof t=="string")return Jy(i,t);throw rd("Field path arguments must be of type string or ",i,!1,void 0,e)}const tk=new RegExp("[~\\*/\\[\\]]");function Jy(i,t,e){if(t.search(tk)>=0)throw rd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Nd(...t.split("."))._internalPath}catch{throw rd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function rd(i,t,e,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new St(ht.INVALID_ARGUMENT,m+i+p)}function NS(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t,e,s,o,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ek(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(MS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class ek extends DS{data(){return super.data()}}function MS(i,t){return typeof t=="string"?Jy(i,t):t instanceof Nd?t._internalPath:t._delegate._internalPath}class nk{convertValue(t,e="none"){switch(ua(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(la(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Dt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return ma(t,(o,l)=>{s[o]=this.convertValue(l,e)}),s}convertVectorValue(t){var e,s,o;const l=(o=(s=(e=t.fields)===null||e===void 0?void 0:e[Yf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Ve(h.doubleValue));return new Xy(l)}convertGeoPoint(t){return new Yy(Ve(t.latitude),Ve(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Ed(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(_c(t));default:return null}}convertTimestamp(t){const e=oa(t);return new Ze(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Oe.fromString(t);oe(tS(s),9688,{name:t});const o=new Ec(s.get(1),s.get(3)),l=new Ct(s.popFirst(5));return o.isEqual(e)||ns(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(i,t,e){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kS extends DS{constructor(t,e,s,o,l,h){super(t,e,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new sk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(MS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class sk extends kS{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(i){i=fo(i,ri);const t=fo(i.firestore,Od);return z4(AS(t),i._key).then(e=>lk(t,i,e))}class ak extends nk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ul(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ri(this.firestore,null,e)}}function ok(i,t,e){i=fo(i,ri);const s=fo(i.firestore,Od),o=ik(i.converter,t);return VS(s,[W4(IS(s),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,cr.none())])}function kd(i,t,e,...s){i=fo(i,ri);const o=fo(i.firestore,Od),l=IS(o);let h;return h=typeof(t=Cn(t))=="string"||t instanceof Nd?J4(l,"updateDoc",i._key,t,e,s):Z4(l,"updateDoc",i._key,t),VS(o,[h.toMutation(i._key,cr.exists(!0))])}function VS(i,t){return function(s,o){const l=new ra;return s.asyncQueue.enqueueAndForget(async()=>C4(await j4(s),o,l)),l.promise}(AS(i),t)}function lk(i,t,e){const s=e.docs.get(t._key),o=new ak(i);return new kS(i,o,t._key,s,new rk(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Kl=o})(ql),Nl(new oo("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),m=new Od(new QN(s.getProvider("auth-internal")),new XN(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new St(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(g.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:e},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),na(IT,xT,t),na(IT,xT,"esm2017")})();const uk={apiKey:"AIzaSyBozVVinEK5nlXi4xR7_ZE_2tQeSMwN8Us",authDomain:"login-auth-366ba.firebaseapp.com",projectId:"login-auth-366ba",storageBucket:"login-auth-366ba.firebasestorage.app",messagingSenderId:"559443453077",appId:"1:559443453077:web:c5689dced0e72da81ce79c"},ck=bw(uk),Ac=FN(),Vi=K4(ck),hk=["practice","classic","royale"];function fk({togglePlayWordle:i,gameMode:t,setGameMode:e,className:s="",currentUser:o}){const[l,h]=I.useState(hk),[m,p]=I.useState(t),g=I.useRef(null),[E,v]=I.useState(!1);return I.useEffect(()=>{const b=O=>{g.current&&!g.current.contains(O.target)&&v(!1)};return document.addEventListener("mousedown",O=>b(O)),()=>document.addEventListener("mousedown",O=>b(O))},[]),R.jsxs(R.Fragment,{children:[R.jsx(Dc,{richColors:!0,position:"top-center"}),R.jsxs("div",{className:`game-mode-selector ${s}`,children:[R.jsx("div",{className:"play-btn flex-center",onClick:i,children:R.jsx(qI,{})}),R.jsx(pf,{activeKey:"true",className:"game-mode",ref:g,children:R.jsxs(pf.Item,{eventKey:String(E),style:{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},children:[R.jsx(pf.Header,{onClick:()=>{v(!E)},children:R.jsx("span",{className:"current-mode",children:m.toUpperCase()})}),R.jsx(pf.Body,{onExited:()=>e(m),children:R.jsx("ol",{children:l.map((b,O)=>b===t?null:R.jsx("li",{className:`selector-list ${O+1===l.length&&"last"}`,onClick:()=>{o||b==="practice"?(v(!1),p(b)):ar.warning("Log in to play.")},children:R.jsx("span",{className:"mode",children:b.toUpperCase()})},O))})})]})})]})]})}function dk({togglePlayWordle:i,gameMode:t,setGameMode:e,darkMode:s,currentUser:o}){return R.jsx("div",{className:"homepage flex-center",children:R.jsx(fk,{togglePlayWordle:i,gameMode:t,setGameMode:e,className:s,currentUser:o})})}const mk=["as","disabled"];function pk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function gk(i){return!i||i.trim()==="#"}function tv({tagName:i,disabled:t,href:e,target:s,rel:o,role:l,onClick:h,tabIndex:m=0,type:p}){i||(e!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:t},g];const E=b=>{if((t||i==="a"&&gk(e))&&b.preventDefault(),t){b.stopPropagation();return}h==null||h(b)},v=b=>{b.key===" "&&(b.preventDefault(),E(b))};return i==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:m,href:e,target:i==="a"?s:void 0,"aria-disabled":t||void 0,rel:i==="a"?o:void 0,onClick:E,onKeyDown:v},g]}const PS=I.forwardRef((i,t)=>{let{as:e,disabled:s}=i,o=pk(i,mk);const[l,{tagName:h}]=tv(Object.assign({tagName:e,disabled:s},o));return R.jsx(h,Object.assign({},o,l,{ref:t}))});PS.displayName="Button";const Li=I.forwardRef(({as:i,bsPrefix:t,variant:e="primary",size:s,active:o=!1,disabled:l=!1,className:h,...m},p)=>{const g=jt(t,"btn"),[E,{tagName:v}]=tv({tagName:i,disabled:l,...m}),b=v;return R.jsx(b,{...E,...m,ref:p,disabled:l,className:Mt(h,g,o&&"active",e&&`${g}-${e}`,s&&`${g}-${s}`,m.href&&l&&"disabled")})});Li.displayName="Button";const yk={type:Wr.string,tooltip:Wr.bool,as:Wr.elementType},Vd=I.forwardRef(({as:i="div",className:t,type:e="valid",tooltip:s=!1,...o},l)=>R.jsx(i,{...o,ref:l,className:Mt(t,`${e}-${s?"tooltip":"feedback"}`)}));Vd.displayName="Feedback";Vd.propTypes=yk;const rs=I.createContext({}),ev=I.forwardRef(({id:i,bsPrefix:t,className:e,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:h="input",...m},p)=>{const{controlId:g}=I.useContext(rs);return t=jt(t,"form-check-input"),R.jsx(h,{...m,ref:p,type:s,id:i||g,className:Mt(e,t,o&&"is-valid",l&&"is-invalid")})});ev.displayName="FormCheckInput";const sd=I.forwardRef(({bsPrefix:i,className:t,htmlFor:e,...s},o)=>{const{controlId:l}=I.useContext(rs);return i=jt(i,"form-check-label"),R.jsx("label",{...s,ref:o,htmlFor:e||l,className:Mt(t,i)})});sd.displayName="FormCheckLabel";function vk(i,t){return I.Children.toArray(i).some(e=>I.isValidElement(e)&&e.type===t)}const LS=I.forwardRef(({id:i,bsPrefix:t,bsSwitchPrefix:e,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:h=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:E,className:v,style:b,title:O="",type:U="checkbox",label:q,children:k,as:et="input",...ot},Z)=>{t=jt(t,"form-check"),e=jt(e,"form-switch");const{controlId:lt}=I.useContext(rs),at=I.useMemo(()=>({controlId:i||lt}),[lt,i]),st=!k&&q!=null&&q!==!1||vk(k,sd),D=R.jsx(ev,{...ot,type:U==="switch"?"checkbox":U,ref:Z,isValid:h,isInvalid:m,disabled:l,as:et});return R.jsx(rs.Provider,{value:at,children:R.jsx("div",{style:b,className:Mt(v,st&&t,s&&`${t}-inline`,o&&`${t}-reverse`,U==="switch"&&e),children:k||R.jsxs(R.Fragment,{children:[D,st&&R.jsx(sd,{title:O,children:q}),g&&R.jsx(Vd,{type:E,tooltip:p,children:g})]})})})});LS.displayName="FormCheck";const ad=Object.assign(LS,{Input:ev,Label:sd}),US=I.forwardRef(({bsPrefix:i,type:t,size:e,htmlSize:s,id:o,className:l,isValid:h=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:E="input",...v},b)=>{const{controlId:O}=I.useContext(rs);return i=jt(i,"form-control"),R.jsx(E,{...v,type:t,size:s,ref:b,readOnly:g,id:o||O,className:Mt(l,p?`${i}-plaintext`:i,e&&`${i}-${e}`,t==="color"&&`${i}-color`,h&&"is-valid",m&&"is-invalid")})});US.displayName="FormControl";const _k=Object.assign(US,{Feedback:Vd}),jS=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=jt(t,"form-floating"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));jS.displayName="FormFloating";const nv=I.forwardRef(({controlId:i,as:t="div",...e},s)=>{const o=I.useMemo(()=>({controlId:i}),[i]);return R.jsx(rs.Provider,{value:o,children:R.jsx(t,{...e,ref:s})})});nv.displayName="FormGroup";function Ek({as:i,bsPrefix:t,className:e,...s}){t=jt(t,"col");const o=yI(),l=vI(),h=[],m=[];return o.forEach(p=>{const g=s[p];delete s[p];let E,v,b;typeof g=="object"&&g!=null?{span:E,offset:v,order:b}=g:E=g;const O=p!==l?`-${p}`:"";E&&h.push(E===!0?`${t}${O}`:`${t}${O}-${E}`),b!=null&&m.push(`order${O}-${b}`),v!=null&&m.push(`offset${O}-${v}`)}),[{...s,className:Mt(e,...h,...m)},{as:i,bsPrefix:t,spans:h}]}const BS=I.forwardRef((i,t)=>{const[{className:e,...s},{as:o="div",bsPrefix:l,spans:h}]=Ek(i);return R.jsx(o,{...s,ref:t,className:Mt(e,!h.length&&l)})});BS.displayName="Col";const zS=I.forwardRef(({as:i="label",bsPrefix:t,column:e=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...h},m)=>{const{controlId:p}=I.useContext(rs);t=jt(t,"form-label");let g="col-form-label";typeof e=="string"&&(g=`${g} ${g}-${e}`);const E=Mt(o,t,s&&"visually-hidden",e&&g);return l=l||p,e?R.jsx(BS,{ref:m,as:"label",className:E,htmlFor:l,...h}):R.jsx(i,{ref:m,className:E,htmlFor:l,...h})});zS.displayName="FormLabel";const HS=I.forwardRef(({bsPrefix:i,className:t,id:e,...s},o)=>{const{controlId:l}=I.useContext(rs);return i=jt(i,"form-range"),R.jsx("input",{...s,type:"range",ref:o,className:Mt(t,i),id:e||l})});HS.displayName="FormRange";const FS=I.forwardRef(({bsPrefix:i,size:t,htmlSize:e,className:s,isValid:o=!1,isInvalid:l=!1,id:h,...m},p)=>{const{controlId:g}=I.useContext(rs);return i=jt(i,"form-select"),R.jsx("select",{...m,size:e,ref:p,className:Mt(s,i,t&&`${i}-${t}`,o&&"is-valid",l&&"is-invalid"),id:h||g})});FS.displayName="FormSelect";const qS=I.forwardRef(({bsPrefix:i,className:t,as:e="small",muted:s,...o},l)=>(i=jt(i,"form-text"),R.jsx(e,{...o,ref:l,className:Mt(t,i,s&&"text-muted")})));qS.displayName="FormText";const GS=I.forwardRef((i,t)=>R.jsx(ad,{...i,ref:t,type:"switch"}));GS.displayName="Switch";const Tk=Object.assign(GS,{Input:ad.Input,Label:ad.Label}),KS=I.forwardRef(({bsPrefix:i,className:t,children:e,controlId:s,label:o,...l},h)=>(i=jt(i,"form-floating"),R.jsxs(nv,{ref:h,className:Mt(t,i),controlId:s,...l,children:[e,R.jsx("label",{htmlFor:s,children:o})]})));KS.displayName="FloatingLabel";const bk={_ref:Wr.any,validated:Wr.bool,as:Wr.elementType},iv=I.forwardRef(({className:i,validated:t,as:e="form",...s},o)=>R.jsx(e,{...s,ref:o,className:Mt(i,t&&"was-validated")}));iv.displayName="Form";iv.propTypes=bk;const He=Object.assign(iv,{Group:nv,Control:_k,Floating:jS,Check:ad,Switch:Tk,Label:zS,Text:qS,Range:HS,Select:FS,FloatingLabel:KS});var bf;function wb(i){if((!bf&&bf!==0||i)&&Hl){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),bf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return bf}function wk(){return I.useState(null)}function Sk(i){const t=I.useRef(i);return I.useEffect(()=>{t.current=i},[i]),t}function Bl(i){const t=Sk(i);return I.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function Ak(i){const t=I.useRef(i);return t.current=i,t}function Rk(i){const t=Ak(i);I.useEffect(()=>()=>t.current(),[])}function rg(i){i===void 0&&(i=hd());try{var t=i.activeElement;return!t||!t.nodeName?null:t}catch{return i.body}}function Sb(i,t){if(i.contains)return i.contains(t);if(i.compareDocumentPosition)return i===t||!!(i.compareDocumentPosition(t)&16)}function Ck(){const i=I.useRef(!0),t=I.useRef(()=>i.current);return I.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function Ik(i){const t=I.useRef(i);return t.current=i,t}function xk(i){const t=Ik(i);I.useEffect(()=>()=>t.current(),[])}function Ok(i){const t=I.useRef(null);return I.useEffect(()=>{t.current=i}),t.current}function Nk(i){const t=I.useRef(i);return I.useEffect(()=>{t.current=i},[i]),t}function Qr(i){const t=Nk(i);return I.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const Dk="data-rr-ui-",Mk="rrUi";function Pd(i){return`${Dk}${i}`}function kk(i){return`${Mk}${i}`}function Vk(i=document){const t=i.defaultView;return Math.abs(t.innerWidth-i.documentElement.clientWidth)}const Ab=Pd("modal-open");class rv{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:s=!1}={}){this.handleContainerOverflow=e,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Vk(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(e[s]=`${parseInt(Xr(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(Ab,""),Xr(o,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(Ab),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const QS=I.createContext(Hl?window:void 0);QS.Provider;function sv(){return I.useContext(QS)}const sg=(i,t)=>Hl?i==null?(t||hd()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function Pk(i,t){const e=sv(),[s,o]=I.useState(()=>sg(i,e==null?void 0:e.document));if(!s){const l=sg(i);l&&o(l)}return I.useEffect(()=>{},[t,s]),I.useEffect(()=>{const l=sg(i);l!==s&&o(l)},[i,s]),s}const Rb=i=>!i||typeof i=="function"?i:t=>{i.current=t};function Lk(i,t){const e=Rb(i),s=Rb(t);return o=>{e&&e(o),s&&s(o)}}function Ld(i,t){return I.useMemo(()=>Lk(i,t),[i,t])}const Uk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",jk=typeof document<"u",Cb=jk||Uk?I.useLayoutEffect:I.useEffect;function Bk({children:i,in:t,onExited:e,mountOnEnter:s,unmountOnExit:o}){const l=I.useRef(null),h=I.useRef(t),m=Qr(e);I.useEffect(()=>{t?h.current=!0:m(l.current)},[t,m]);const p=Ld(l,zl(i)),g=I.cloneElement(i,{ref:p});return t?g:o||!h.current&&s?null:g}const zk=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Hk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function Fk(i){let{onEnter:t,onEntering:e,onEntered:s,onExit:o,onExiting:l,onExited:h,addEndListener:m,children:p}=i,g=Hk(i,zk);const E=I.useRef(null),v=Ld(E,zl(p)),b=lt=>at=>{lt&&E.current&&lt(E.current,at)},O=I.useCallback(b(t),[t]),U=I.useCallback(b(e),[e]),q=I.useCallback(b(s),[s]),k=I.useCallback(b(o),[o]),et=I.useCallback(b(l),[l]),ot=I.useCallback(b(h),[h]),Z=I.useCallback(b(m),[m]);return Object.assign({},g,{nodeRef:E},t&&{onEnter:O},e&&{onEntering:U},s&&{onEntered:q},o&&{onExit:k},l&&{onExiting:et},h&&{onExited:ot},m&&{addEndListener:Z},{children:typeof p=="function"?(lt,at)=>p(lt,Object.assign({},at,{ref:v})):I.cloneElement(p,{ref:v})})}const qk=["component"];function Gk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}const Kk=I.forwardRef((i,t)=>{let{component:e}=i,s=Gk(i,qk);const o=Fk(s);return R.jsx(e,Object.assign({ref:t},o))});function Qk({in:i,onTransition:t}){const e=I.useRef(null),s=I.useRef(!0),o=Qr(t);return Cb(()=>{if(!e.current)return;let l=!1;return o({in:i,element:e.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),Cb(()=>(s.current=!1,()=>{s.current=!0}),[]),e}function $k({children:i,in:t,onExited:e,onEntered:s,transition:o}){const[l,h]=I.useState(!t);t&&l&&h(!1);const m=Qk({in:!!t,onTransition:g=>{const E=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),e==null||e(g.element)))};Promise.resolve(o(g)).then(E,v=>{throw g.in||h(!0),v})}}),p=Ld(m,zl(i));return l&&!t?null:I.cloneElement(i,{ref:p})}function Ib(i,t,e){return i?R.jsx(Kk,Object.assign({},e,{component:i})):t?R.jsx($k,Object.assign({},e,{transition:t})):R.jsx(Bk,Object.assign({},e))}const Yk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Xk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}let ag;function Wk(i){return ag||(ag=new rv({ownerDocument:i==null?void 0:i.document})),ag}function Zk(i){const t=sv(),e=i||Wk(t),s=I.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>e.add(s.current),remove:()=>e.remove(s.current),isTopModal:()=>e.isTopModal(s.current),setDialogRef:I.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:I.useCallback(o=>{s.current.backdrop=o},[])})}const $S=I.forwardRef((i,t)=>{let{show:e=!1,role:s="dialog",className:o,style:l,children:h,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:E,transition:v,runTransition:b,backdropTransition:O,runBackdropTransition:U,autoFocus:q=!0,enforceFocus:k=!0,restoreFocus:et=!0,restoreFocusOptions:ot,renderDialog:Z,renderBackdrop:lt=ee=>R.jsx("div",Object.assign({},ee)),manager:at,container:st,onShow:D,onHide:A=()=>{},onExit:C,onExited:M,onExiting:P,onEnter:j,onEntering:x,onEntered:wt}=i,Pt=Xk(i,Yk);const H=sv(),ut=Pk(st),dt=Zk(at),xt=Ck(),V=Ok(e),[Y,rt]=I.useState(!e),W=I.useRef(null);I.useImperativeHandle(t,()=>dt,[dt]),Hl&&!V&&e&&(W.current=rg(H==null?void 0:H.document)),e&&Y&&rt(!1);const ft=Qr(()=>{if(dt.add(),Ne.current=Uf(document,"keydown",qt),Ae.current=Uf(document,"focus",()=>setTimeout(pt),!0),D&&D(),q){var ee,si;const ve=rg((ee=(si=dt.dialog)==null?void 0:si.ownerDocument)!=null?ee:H==null?void 0:H.document);dt.dialog&&ve&&!Sb(dt.dialog,ve)&&(W.current=ve,dt.dialog.focus())}}),Tt=Qr(()=>{if(dt.remove(),Ne.current==null||Ne.current(),Ae.current==null||Ae.current(),et){var ee;(ee=W.current)==null||ee.focus==null||ee.focus(ot),W.current=null}});I.useEffect(()=>{!e||!ut||ft()},[e,ut,ft]),I.useEffect(()=>{Y&&Tt()},[Y,Tt]),xk(()=>{Tt()});const pt=Qr(()=>{if(!k||!xt()||!dt.isTopModal())return;const ee=rg(H==null?void 0:H.document);dt.dialog&&ee&&!Sb(dt.dialog,ee)&&dt.dialog.focus()}),le=Qr(ee=>{ee.target===ee.currentTarget&&(g==null||g(ee),m===!0&&A())}),qt=Qr(ee=>{p&&DI(ee)&&dt.isTopModal()&&(E==null||E(ee),ee.defaultPrevented||A())}),Ae=I.useRef(),Ne=I.useRef(),vn=(...ee)=>{rt(!0),M==null||M(...ee)};if(!ut)return null;const ln=Object.assign({role:s,ref:dt.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Pt,{style:l,className:o,tabIndex:-1});let In=Z?Z(ln):R.jsx("div",Object.assign({},ln,{children:I.cloneElement(h,{role:"document"})}));In=Ib(v,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:C,onExiting:P,onExited:vn,onEnter:j,onEntering:x,onEntered:wt,children:In});let tn=null;return m&&(tn=lt({ref:dt.setBackdropRef,onClick:le}),tn=Ib(O,U,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:tn})),R.jsx(R.Fragment,{children:Ya.createPortal(R.jsxs(R.Fragment,{children:[tn,In]}),ut)})});$S.displayName="Modal";const YS=Object.assign($S,{Manager:rv});function Jk(i,t){return i.classList?i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function tV(i,t){i.classList?i.classList.add(t):Jk(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}var eV=Function.prototype.bind.call(Function.prototype.call,[].slice);function Qa(i,t){return eV(i.querySelectorAll(t))}function xb(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nV(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=xb(i.className,t):i.setAttribute("class",xb(i.className&&i.className.baseVal||"",t))}const ul={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class XS extends rv{adjustAndStore(t,e,s){const o=e.style[t];e.dataset[t]=o,Xr(e,{[t]:`${parseFloat(Xr(e,t))+s}px`})}restore(t,e){const s=e.dataset[t];s!==void 0&&(delete e.dataset[t],Xr(e,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(tV(e,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Qa(e,ul.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,t.scrollBarWidth)),Qa(e,ul.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-t.scrollBarWidth)),Qa(e,ul.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();nV(e,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Qa(e,ul.FIXED_CONTENT).forEach(l=>this.restore(s,l)),Qa(e,ul.STICKY_CONTENT).forEach(l=>this.restore(o,l)),Qa(e,ul.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let og;function WS(i){return og||(og=new XS(i)),og}const iV={[Di]:"show",[Kr]:"show"},Ud=I.forwardRef(({className:i,children:t,transitionClasses:e={},onEnter:s,...o},l)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=I.useCallback((p,g)=>{sw(p),s==null||s(p,g)},[s]);return R.jsx(fd,{ref:l,addEndListener:ay,...h,onEnter:m,childRef:zl(t),children:(p,g)=>I.cloneElement(t,{...g,className:Mt("fade",i,t.props.className,iV[p],e[p])})})});Ud.displayName="Fade";const ZS=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=jt(t,"modal-body"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));ZS.displayName="ModalBody";const av=I.createContext({onHide(){}}),ov=I.forwardRef(({bsPrefix:i,className:t,contentClassName:e,centered:s,size:o,fullscreen:l,children:h,scrollable:m,...p},g)=>{i=jt(i,"modal");const E=`${i}-dialog`,v=typeof l=="string"?`${i}-fullscreen-${l}`:`${i}-fullscreen`;return R.jsx("div",{...p,ref:g,className:Mt(E,t,o&&`${i}-${o}`,s&&`${E}-centered`,m&&`${E}-scrollable`,l&&v),children:R.jsx("div",{className:Mt(`${i}-content`,e),children:h})})});ov.displayName="ModalDialog";const JS=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=jt(t,"modal-footer"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));JS.displayName="ModalFooter";const rV={"aria-label":Wr.string,onClick:Wr.func,variant:Wr.oneOf(["white"])},lv=I.forwardRef(({className:i,variant:t,"aria-label":e="Close",...s},o)=>R.jsx("button",{ref:o,type:"button",className:Mt("btn-close",t&&`btn-close-${t}`,i),"aria-label":e,...s}));lv.displayName="CloseButton";lv.propTypes=rV;const uv=I.forwardRef(({closeLabel:i="Close",closeVariant:t,closeButton:e=!1,onHide:s,children:o,...l},h)=>{const m=I.useContext(av),p=Bl(()=>{m==null||m.onHide(),s==null||s()});return R.jsxs("div",{ref:h,...l,children:[o,e&&R.jsx(lv,{"aria-label":i,variant:t,onClick:p})]})});uv.displayName="AbstractModalHeader";const tA=I.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:s=!1,...o},l)=>(i=jt(i,"modal-header"),R.jsx(uv,{ref:l,...o,className:Mt(t,i),closeLabel:e,closeButton:s})));tA.displayName="ModalHeader";const eA=i=>I.forwardRef((t,e)=>R.jsx("div",{...t,ref:e,className:Mt(t.className,i)})),sV=eA("h4"),nA=I.forwardRef(({className:i,bsPrefix:t,as:e=sV,...s},o)=>(t=jt(t,"modal-title"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));nA.displayName="ModalTitle";function aV(i){return R.jsx(Ud,{...i,timeout:null})}function oV(i){return R.jsx(Ud,{...i,timeout:null})}const iA=I.forwardRef(({bsPrefix:i,className:t,style:e,dialogClassName:s,contentClassName:o,children:l,dialogAs:h=ov,"data-bs-theme":m,"aria-labelledby":p,"aria-describedby":g,"aria-label":E,show:v=!1,animation:b=!0,backdrop:O=!0,keyboard:U=!0,onEscapeKeyDown:q,onShow:k,onHide:et,container:ot,autoFocus:Z=!0,enforceFocus:lt=!0,restoreFocus:at=!0,restoreFocusOptions:st,onEntered:D,onExit:A,onExiting:C,onEnter:M,onEntering:P,onExited:j,backdropClassName:x,manager:wt,...Pt},H)=>{const[ut,dt]=I.useState({}),[xt,V]=I.useState(!1),Y=I.useRef(!1),rt=I.useRef(!1),W=I.useRef(null),[ft,Tt]=wk(),pt=aw(H,Tt),le=Bl(et),qt=_I();i=jt(i,"modal");const Ae=I.useMemo(()=>({onHide:le}),[le]);function Ne(){return wt||WS({isRTL:qt})}function vn(_t){if(!Hl)return;const Ht=Ne().getScrollbarWidth()>0,Ge=_t.scrollHeight>hd(_t).documentElement.clientHeight;dt({paddingRight:Ht&&!Ge?wb():void 0,paddingLeft:!Ht&&Ge?wb():void 0})}const ln=Bl(()=>{ft&&vn(ft.dialog)});Rk(()=>{pg(window,"resize",ln),W.current==null||W.current()});const In=()=>{Y.current=!0},tn=_t=>{Y.current&&ft&&_t.target===ft.dialog&&(rt.current=!0),Y.current=!1},ee=()=>{V(!0),W.current=rw(ft.dialog,()=>{V(!1)})},si=_t=>{_t.target===_t.currentTarget&&ee()},ve=_t=>{if(O==="static"){si(_t);return}if(rt.current||_t.target!==_t.currentTarget){rt.current=!1;return}et==null||et()},os=_t=>{U?q==null||q(_t):(_t.preventDefault(),O==="static"&&ee())},un=(_t,Ht)=>{_t&&vn(_t),M==null||M(_t,Ht)},Ui=_t=>{W.current==null||W.current(),A==null||A(_t)},Ti=(_t,Ht)=>{P==null||P(_t,Ht),iw(window,"resize",ln)},qe=_t=>{_t&&(_t.style.display=""),j==null||j(_t),pg(window,"resize",ln)},xn=I.useCallback(_t=>R.jsx("div",{..._t,className:Mt(`${i}-backdrop`,x,!b&&"show")}),[b,x,i]),ji={...e,...ut};ji.display="block";const ls=_t=>R.jsx("div",{role:"dialog",..._t,style:ji,className:Mt(t,i,xt&&`${i}-static`,!b&&"show"),onClick:O?ve:void 0,onMouseUp:tn,"data-bs-theme":m,"aria-label":E,"aria-labelledby":p,"aria-describedby":g,children:R.jsx(h,{...Pt,onMouseDown:In,className:s,contentClassName:o,children:l})});return R.jsx(av.Provider,{value:Ae,children:R.jsx(YS,{show:v,ref:pt,backdrop:O,container:ot,keyboard:!0,autoFocus:Z,enforceFocus:lt,restoreFocus:at,restoreFocusOptions:st,onEscapeKeyDown:os,onShow:k,onHide:et,onEnter:un,onEntering:Ti,onEntered:D,onExit:Ui,onExiting:C,onExited:qe,manager:Ne(),transition:b?aV:void 0,backdropTransition:b?oV:void 0,renderBackdrop:xn,renderDialog:ls})})});iA.displayName="Modal";const Fe=Object.assign(iA,{Body:ZS,Header:tA,Title:nA,Footer:JS,Dialog:ov,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),An=I.forwardRef(({bsPrefix:i,fluid:t=!1,as:e="div",className:s,...o},l)=>{const h=jt(i,"container"),m=typeof t=="string"?`-${t}`:"-fluid";return R.jsx(e,{ref:l,...o,className:Mt(s,t?`${h}${m}`:h)})});An.displayName="Container";function lV({logInOpen:i,toggleLogIn:t,toggleSignUp:e}){const[s,o]=I.useState(""),[l,h]=I.useState(""),m=async p=>{p.preventDefault();try{await IO(Ac,s,l),console.log("User logged in."),ar.success("Logged in."),t()}catch(g){console.log(g.message),ar.error(g.message)}};return R.jsxs(R.Fragment,{children:[R.jsx(Dc,{richColors:!0,position:"top-center"}),R.jsxs(Fe,{show:i,onHide:t,children:[R.jsx(Fe.Header,{closeButton:!0,children:R.jsx(An,{className:"flex-center",children:R.jsx(Fe.Title,{children:"Log in"})})}),R.jsx(Fe.Body,{children:R.jsxs(He,{onSubmit:p=>m(p),children:[R.jsxs(He.Group,{className:"mb-3",controlId:"email-input",children:[R.jsx(He.Label,{children:"Email"}),R.jsx(He.Control,{autoFocus:!0,required:!0,type:"text",value:s,onChange:p=>o(p.target.value)})]}),R.jsxs(He.Group,{className:"mb-3",controlId:"password-input",children:[R.jsx(He.Label,{children:"Password"}),R.jsx(He.Control,{required:!0,type:"password",value:l,onChange:p=>h(p.target.value)})]}),R.jsx(Li,{variant:"primary",type:"submit",children:"Log in"})]})}),R.jsxs(Fe.Footer,{className:"flex-center",children:[R.jsx(An,{className:"flex-center",children:R.jsx("h5",{children:"OR"})}),R.jsx(An,{className:"flex-center",children:R.jsx(Li,{variant:"primary",onClick:()=>{t(),e()},children:"Sign up"})})]})]})]})}function uV({signUpOpen:i,toggleSignUp:t}){const[e,s]=I.useState(""),[o,l]=I.useState(""),[h,m]=I.useState(""),[p,g]=I.useState(""),E=async v=>{if(v.preventDefault(),h!==p)console.log("Passwords dont match!"),ar.warning("Passwords don't match!");else if(h.length<6)console.log("Password needs to be at least 6 characters long!"),ar.warning("Password is too short - at least 6 characters.");else try{await CO(Ac,o,h);const b=Ac.currentUser;await ok(ki(Vi,"Users",b.uid),{email:b.email,nickname:e,statistics:{gameModes:{classic:{dailyStreak:0,gamesPlayed:0,gamesGuessed:new Array(6).fill(0),playedToday:!1,finishedToday:!1,currentState:{guesses:new Array(6).fill({word:"",colors:["black","black","black","black","black"]}),keyColors:{},rowIndex:0}},royale:{dailyStreak:0,gamesPlayed:0,gamesGuessed:new Array(5).fill(0),playedToday:!1,finishedToday:!1,currentState:{guesses:new Array(6).fill({word:"",colors:["black","black","black","black","black"]}),keyColors:{},rowIndex:0,gameRound:0}}}},achievements:[]}),ar.success("Signed up."),console.log("User registered successfully."),t()}catch(b){console.log(b.message),ar.error(b.message)}};return R.jsxs(R.Fragment,{children:[R.jsx(Dc,{richColors:!0,position:"top-center"}),R.jsxs(Fe,{show:i,onHide:t,backdrop:"static",children:[R.jsx(Fe.Header,{closeButton:!0,children:R.jsx(An,{className:"flex-center",children:R.jsx(Fe.Title,{children:"Sign up"})})}),R.jsx(Fe.Body,{children:R.jsxs(He,{onSubmit:E,children:[R.jsxs(He.Group,{className:"mb-3",controlId:"nickname-input",children:[R.jsx(He.Label,{children:"Nickname"}),R.jsx(He.Control,{required:!0,type:"text",autoFocus:!0,value:e,onChange:v=>s(v.target.value),placeholder:"example123"})]}),R.jsxs(He.Group,{required:!0,className:"mb-3",controlId:"email-input",children:[R.jsx(He.Label,{children:"Email address"}),R.jsx(He.Control,{required:!0,type:"email",value:o,onChange:v=>l(v.target.value),placeholder:"name@example.com"})]}),R.jsxs(He.Group,{className:"mb-3",controlId:"password-input",children:[R.jsx(He.Label,{children:"Password"}),R.jsx(He.Control,{required:!0,type:"password",value:h,onChange:v=>m(v.target.value),placeholder:"PasswordExample123?!"})]}),R.jsxs(He.Group,{className:"mb-3",controlId:"repeat-password-input",children:[R.jsx(He.Label,{children:"Repeat password"}),R.jsx(He.Control,{required:!0,type:"password",value:p,onChange:v=>g(v.target.value),placeholder:"PasswordExample123?!"})]}),R.jsx(Li,{variant:"primary",type:"submit",children:"Sign up"})]})}),R.jsxs(Fe.Footer,{className:"flex-center",children:[R.jsx(An,{className:"flex-center",children:R.jsx("h5",{children:"OR"})}),R.jsx(An,{className:"flex-center",children:R.jsx(Li,{variant:"primary",onClick:()=>{console.log("Hello"),t()},children:"Continue with Google"})})]})]})]})}function $a(i=!1){const[t,e]=I.useState(i),s=I.useCallback(()=>{e(o=>!o)},[]);return[t,s]}function cV(){const[,i]=I.useReducer(t=>t+1,0);return i}const cv=I.createContext(null);cv.displayName="NavContext";const od=I.createContext(null),hv=(i,t=null)=>i!=null?String(i):t||null,rA=I.createContext(null),hV=["as","active","eventKey"];function fV(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function sA({key:i,onClick:t,active:e,id:s,role:o,disabled:l}){const h=I.useContext(od),m=I.useContext(cv),p=I.useContext(rA);let g=e;const E={role:o};if(m){!o&&m.role==="tablist"&&(E.role="tab");const v=m.getControllerId(i??null),b=m.getControlledId(i??null);E[Pd("event-key")]=i,E.id=v||s,g=e==null&&i!=null?m.activeKey===i:e,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(E["aria-controls"]=b)}return E.role==="tab"&&(E["aria-selected"]=g,g||(E.tabIndex=-1),l&&(E.tabIndex=-1,E["aria-disabled"]=!0)),E.onClick=Qr(v=>{l||(t==null||t(v),i!=null&&h&&!v.isPropagationStopped()&&h(i,v))}),[E,{isActive:g}]}const aA=I.forwardRef((i,t)=>{let{as:e=PS,active:s,eventKey:o}=i,l=fV(i,hV);const[h,m]=sA(Object.assign({key:hv(o,l.href),active:s},l));return h[Pd("active")]=m.isActive,R.jsx(e,Object.assign({},l,h,{ref:t}))});aA.displayName="NavItem";const dV=["as","onSelect","activeKey","role","onKeyDown"];function mV(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}const Ob=()=>{},Nb=Pd("event-key"),oA=I.forwardRef((i,t)=>{let{as:e="div",onSelect:s,activeKey:o,role:l,onKeyDown:h}=i,m=mV(i,dV);const p=cV(),g=I.useRef(!1),E=I.useContext(od),v=I.useContext(rA);let b,O;v&&(l=l||"tablist",o=v.activeKey,b=v.getControlledId,O=v.getControllerId);const U=I.useRef(null),q=Z=>{const lt=U.current;if(!lt)return null;const at=Qa(lt,`[${Nb}]:not([aria-disabled=true])`),st=lt.querySelector("[aria-selected=true]");if(!st||st!==document.activeElement)return null;const D=at.indexOf(st);if(D===-1)return null;let A=D+Z;return A>=at.length&&(A=0),A<0&&(A=at.length-1),at[A]},k=(Z,lt)=>{Z!=null&&(s==null||s(Z,lt),E==null||E(Z,lt))},et=Z=>{if(h==null||h(Z),!v)return;let lt;switch(Z.key){case"ArrowLeft":case"ArrowUp":lt=q(-1);break;case"ArrowRight":case"ArrowDown":lt=q(1);break;default:return}lt&&(Z.preventDefault(),k(lt.dataset[kk("EventKey")]||null,Z),g.current=!0,p())};I.useEffect(()=>{if(U.current&&g.current){const Z=U.current.querySelector(`[${Nb}][aria-selected=true]`);Z==null||Z.focus()}g.current=!1});const ot=Ld(t,U);return R.jsx(od.Provider,{value:k,children:R.jsx(cv.Provider,{value:{role:l,activeKey:hv(o),getControlledId:b||Ob,getControllerId:O||Ob},children:R.jsx(e,Object.assign({},m,{onKeyDown:et,ref:ot,role:l}))})})});oA.displayName="Nav";const pV=Object.assign(oA,{Item:aA}),Xl=I.createContext(null);Xl.displayName="NavbarContext";const lA=I.createContext(null);lA.displayName="CardHeaderContext";const uA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=jt(t,"nav-item"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));uA.displayName="NavItem";const gV=["onKeyDown"];function yV(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function vV(i){return!i||i.trim()==="#"}const cA=I.forwardRef((i,t)=>{let{onKeyDown:e}=i,s=yV(i,gV);const[o]=tv(Object.assign({tagName:"a"},s)),l=Qr(h=>{o.onKeyDown(h),e==null||e(h)});return vV(s.href)||s.role==="button"?R.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:l})):R.jsx("a",Object.assign({ref:t},s,{onKeyDown:e}))});cA.displayName="Anchor";const hA=I.forwardRef(({bsPrefix:i,className:t,as:e=cA,active:s,eventKey:o,disabled:l=!1,...h},m)=>{i=jt(i,"nav-link");const[p,g]=sA({key:hv(o,h.href),active:s,disabled:l,...h});return R.jsx(e,{...h,...p,ref:m,disabled:l,className:Mt(t,i,l&&"disabled",g.isActive&&"active")})});hA.displayName="NavLink";const fA=I.forwardRef((i,t)=>{const{as:e="div",bsPrefix:s,variant:o,fill:l=!1,justify:h=!1,navbar:m,navbarScroll:p,className:g,activeKey:E,...v}=sy(i,{activeKey:"onSelect"}),b=jt(s,"nav");let O,U,q=!1;const k=I.useContext(Xl),et=I.useContext(lA);return k?(O=k.bsPrefix,q=m??!0):et&&({cardHeaderBsPrefix:U}=et),R.jsx(pV,{as:e,ref:t,activeKey:E,className:Mt(g,{[b]:!q,[`${O}-nav`]:q,[`${O}-nav-scroll`]:q&&p,[`${U}-${o}`]:!!U,[`${b}-${o}`]:!!o,[`${b}-fill`]:l,[`${b}-justified`]:h}),...v})});fA.displayName="Nav";const _V=Object.assign(fA,{Item:uA,Link:hA}),dA=I.forwardRef(({bsPrefix:i,className:t,as:e,...s},o)=>{i=jt(i,"navbar-brand");const l=e||(s.href?"a":"span");return R.jsx(l,{...s,ref:o,className:Mt(t,i)})});dA.displayName="NavbarBrand";const mA=I.forwardRef(({children:i,bsPrefix:t,...e},s)=>{t=jt(t,"navbar-collapse");const o=I.useContext(Xl);return R.jsx(oy,{in:!!(o&&o.expanded),...e,children:R.jsx("div",{ref:s,className:t,children:i})})});mA.displayName="NavbarCollapse";const pA=I.forwardRef(({bsPrefix:i,className:t,children:e,label:s="Toggle navigation",as:o="button",onClick:l,...h},m)=>{i=jt(i,"navbar-toggler");const{onToggle:p,expanded:g}=I.useContext(Xl)||{},E=Bl(v=>{l&&l(v),p&&p()});return o==="button"&&(h.type="button"),R.jsx(o,{...h,ref:m,onClick:E,"aria-label":s,className:Mt(t,i,!g&&"collapsed"),children:e||R.jsx("span",{className:`${i}-icon`})})});pA.displayName="NavbarToggle";const EV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",TV=typeof document<"u",bV=TV||EV?I.useLayoutEffect:I.useEffect,Hg=new WeakMap,Db=(i,t)=>{if(!i||!t)return;const e=Hg.get(t)||new Map;Hg.set(t,e);let s=e.get(i);return s||(s=t.matchMedia(i),s.refCount=0,e.set(s.media,s)),s};function wV(i,t=typeof window>"u"?void 0:window){const e=Db(i,t),[s,o]=I.useState(()=>e?e.matches:!1);return bV(()=>{let l=Db(i,t);if(!l)return o(!1);let h=Hg.get(t);const m=()=>{o(l.matches)};return l.refCount++,l.addListener(m),m(),()=>{l.removeListener(m),l.refCount--,l.refCount<=0&&(h==null||h.delete(l.media)),l=void 0}},[i]),s}function SV(i){const t=Object.keys(i);function e(m,p){return m===p?p:m?`${m} and ${p}`:p}function s(m){return t[Math.min(t.indexOf(m)+1,t.length-1)]}function o(m){const p=s(m);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(m){let p=i[m];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(m,p,g){let E;typeof m=="object"?(E=m,g=p,p=!0):(p=p||!0,E={[m]:p});let v=I.useMemo(()=>Object.entries(E).reduce((b,[O,U])=>((U==="up"||U===!0)&&(b=e(b,l(O))),(U==="down"||U===!0)&&(b=e(b,o(O))),b),""),[JSON.stringify(E)]);return wV(v,g)}return h}const AV=SV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),gA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=jt(t,"offcanvas-body"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));gA.displayName="OffcanvasBody";const RV={[Di]:"show",[Kr]:"show"},yA=I.forwardRef(({bsPrefix:i,className:t,children:e,in:s=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:h=!1,...m},p)=>(i=jt(i,"offcanvas"),R.jsx(fd,{ref:p,addEndListener:ay,in:s,mountOnEnter:o,unmountOnExit:l,appear:h,...m,childRef:zl(e),children:(g,E)=>I.cloneElement(e,{...E,className:Mt(t,e.props.className,(g===Di||g===mc)&&`${i}-toggling`,RV[g])})})));yA.displayName="OffcanvasToggling";const vA=I.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:s=!1,...o},l)=>(i=jt(i,"offcanvas-header"),R.jsx(uv,{ref:l,...o,className:Mt(t,i),closeLabel:e,closeButton:s})));vA.displayName="OffcanvasHeader";const CV=eA("h5"),_A=I.forwardRef(({className:i,bsPrefix:t,as:e=CV,...s},o)=>(t=jt(t,"offcanvas-title"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));_A.displayName="OffcanvasTitle";function IV(i){return R.jsx(yA,{...i})}function xV(i){return R.jsx(Ud,{...i})}const EA=I.forwardRef(({bsPrefix:i,className:t,children:e,"aria-labelledby":s,placement:o="start",responsive:l,show:h=!1,backdrop:m=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:E,onShow:v,onHide:b,container:O,autoFocus:U=!0,enforceFocus:q=!0,restoreFocus:k=!0,restoreFocusOptions:et,onEntered:ot,onExit:Z,onExiting:lt,onEnter:at,onEntering:st,onExited:D,backdropClassName:A,manager:C,renderStaticNode:M=!1,...P},j)=>{const x=I.useRef();i=jt(i,"offcanvas");const[wt,Pt]=I.useState(!1),H=Bl(b),ut=AV(l||"xs","up");I.useEffect(()=>{Pt(l?h&&!ut:h)},[h,l,ut]);const dt=I.useMemo(()=>({onHide:H}),[H]);function xt(){return C||(g?(x.current||(x.current=new XS({handleContainerOverflow:!1})),x.current):WS())}const V=(ft,...Tt)=>{ft&&(ft.style.visibility="visible"),at==null||at(ft,...Tt)},Y=(ft,...Tt)=>{ft&&(ft.style.visibility=""),D==null||D(...Tt)},rt=I.useCallback(ft=>R.jsx("div",{...ft,className:Mt(`${i}-backdrop`,A)}),[A,i]),W=ft=>R.jsx("div",{...ft,...P,className:Mt(t,l?`${i}-${l}`:i,`${i}-${o}`),"aria-labelledby":s,children:e});return R.jsxs(R.Fragment,{children:[!wt&&(l||M)&&W({}),R.jsx(av.Provider,{value:dt,children:R.jsx(YS,{show:wt,ref:j,backdrop:m,container:O,keyboard:p,autoFocus:U,enforceFocus:q&&!g,restoreFocus:k,restoreFocusOptions:et,onEscapeKeyDown:E,onShow:v,onHide:H,onEnter:V,onEntering:st,onEntered:ot,onExit:Z,onExiting:lt,onExited:Y,manager:xt(),transition:IV,backdropTransition:xV,renderBackdrop:rt,renderDialog:W})})]})});EA.displayName="Offcanvas";const OV=Object.assign(EA,{Body:gA,Header:vA,Title:_A}),TA=I.forwardRef(({onHide:i,...t},e)=>{const s=I.useContext(Xl),o=Bl(()=>{s==null||s.onToggle==null||s.onToggle(),i==null||i()});return R.jsx(OV,{ref:e,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});TA.displayName="NavbarOffcanvas";const bA=I.forwardRef(({className:i,bsPrefix:t,as:e="span",...s},o)=>(t=jt(t,"navbar-text"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));bA.displayName="NavbarText";const wA=I.forwardRef((i,t)=>{const{bsPrefix:e,expand:s=!0,variant:o="light",bg:l,fixed:h,sticky:m,className:p,as:g="nav",expanded:E,onToggle:v,onSelect:b,collapseOnSelect:O=!1,...U}=sy(i,{expanded:"onToggle"}),q=jt(e,"navbar"),k=I.useCallback((...Z)=>{b==null||b(...Z),O&&E&&(v==null||v(!1))},[b,O,E,v]);U.role===void 0&&g!=="nav"&&(U.role="navigation");let et=`${q}-expand`;typeof s=="string"&&(et=`${et}-${s}`);const ot=I.useMemo(()=>({onToggle:()=>v==null?void 0:v(!E),bsPrefix:q,expanded:!!E,expand:s}),[q,E,s,v]);return R.jsx(Xl.Provider,{value:ot,children:R.jsx(od.Provider,{value:k,children:R.jsx(g,{ref:t,...U,className:Mt(p,q,s&&et,o&&`${q}-${o}`,l&&`bg-${l}`,m&&`sticky-${m}`,h&&`fixed-${h}`)})})})});wA.displayName="Navbar";const wf=Object.assign(wA,{Brand:dA,Collapse:mA,Offcanvas:TA,Text:bA,Toggle:pA});function NV({darkMode:i,toggleDarkMode:t}){return R.jsx(R.Fragment,{children:R.jsxs("div",{className:"dark-mode-button flex-center",children:[R.jsx("input",{type:"checkbox",id:"dark-mode-input",className:"dark-mode-input",onClick:t}),R.jsxs("label",{htmlFor:"dark-mode-input",className:`dark-mode-label ${i}`,children:[R.jsx("div",{className:"night",children:"night"}),R.jsx("div",{className:"day",children:"day"})]})]})})}function DV({darkMode:i,toggleDarkMode:t,toggleLogIn:e,currentUser:s,playWordle:o,togglePlayWordle:l,toggleStats:h}){const m=async()=>{try{await DO(Ac),window.location.reload()}catch(p){console.error("Error signing out:",p.message),ar.error(p.message)}};return R.jsxs(R.Fragment,{children:[R.jsx(Dc,{richColors:!0,position:"top-center"}),R.jsx(wf,{className:i,children:R.jsxs(An,{children:[R.jsx(wf.Brand,{className:"nav-brand",onClick:()=>o&&l(),children:"Wordle"}),R.jsx(wf.Toggle,{"aria-controls":"basic-navbar-nav"}),R.jsx(wf.Collapse,{id:"basic-navbar-nav",children:R.jsxs(_V,{className:"me-auto",children:[R.jsx(An,{className:"stats flex-center",children:R.jsx(IC,{size:"50%",className:"stats-icon",onClick:h})}),R.jsx(An,{className:"info flex-center",children:R.jsx(CC,{size:"60%",className:"info-icon"})}),s?R.jsx(An,{className:"button flex-center",children:R.jsx(Li,{variant:"primary",onClick:m,style:{fontSize:"12px",width:"60px"},children:"Log out"})}):R.jsx(An,{className:"button flex-center",children:R.jsx(Li,{variant:"primary",onClick:e,style:{fontSize:"12px",width:"60px"},children:"Log in"})}),R.jsx(NV,{toggleDarkMode:t})]})})]})})]})}function fv({gameMode:i,showDialog:t,setGameResult:e,toggleRestart:s,togglePlayWordle:o,solution:l}){return R.jsx(R.Fragment,{children:R.jsxs(Fe,{show:t,onHide:()=>e(""),backdrop:"static",children:[R.jsx(Fe.Header,{closeButton:!0,children:R.jsx(An,{className:"flex-center",children:R.jsx(Fe.Title,{children:"Game over"})})}),R.jsx(Fe.Body,{children:R.jsx(An,{children:R.jsx("h1",{children:l})})}),R.jsx(Fe.Footer,{className:"flex-center",children:R.jsxs(An,{children:[R.jsx(Li,{onClick:()=>{e(""),o()},children:"Go home"}),i==="practice"&&R.jsx(Li,{onClick:()=>{e(""),s()},children:"Play again"})]})})]})})}function MV({darkMode:i,gameMode:t,togglePlayWordle:e,wordLength:s,numOfGuesses:o,guesses:l,setGuesses:h,keyColors:m,setKeyColors:p,rowIndex:g,baseColors:E,currentUser:v,userData:b,gameResult:O,setGameResult:U}){const[q,k]=I.useState([]),et=I.useRef([]),[ot,Z]=$a(!1),lt=I.useRef(new Set);return I.useEffect(()=>{(async()=>{try{g.current=0;let st=await jl(ki(Vi,"wordleWords","wordBank")),D=st.data();lt.current=new Set(D.allWords),st=await jl(ki(Vi,"wordleWords","dailyWords")),D=st.data();const A=D.classicWord;k(A.toUpperCase().split("")),et.current=A.toUpperCase().split(""),console.log(et.current.join(""))}catch(st){console.error(st)}})()},[ot]),I.useEffect(()=>{O&&(async()=>{try{b.current.statistics.gameModes.classic.finishedToday=!0,b.current.statistics.gameModes.classic.gamesPlayed++,O==="guessed"&&b.current.statistics.gameModes.classic.gamesGuessed[g.current-1]++,await kd(ki(Vi,"Users",v.uid),b.current)}catch(st){console.log(st.message)}})()},[O]),R.jsxs(R.Fragment,{children:[R.jsx(ry,{darkMode:i,gameMode:t,solution:q,wordSet:lt,rowIndex:g,guesses:l,setGuesses:h,keyColors:m,setKeyColors:p,baseColors:E,gameResult:O,setGameResult:U,wordLength:s,numOfGuesses:o,userData:b},ot),R.jsx(fv,{gameMode:t,showDialog:O,setGameResult:U,toggleRestart:Z,togglePlayWordle:e,solution:q})]})}function kV({darkMode:i,gameMode:t,togglePlayWordle:e,wordLength:s,numOfGuesses:o,guesses:l,setGuesses:h,keyColors:m,setKeyColors:p,rowIndex:g,baseColors:E,currentUser:v,gameRound:b,userData:O,gameResult:U,setGameResult:q}){const k=I.useRef([]),[et,ot]=I.useState([]),[Z,lt]=$a(!1),at=I.useRef(new Set),[st,D]=I.useState(!1),[A,C]=I.useState([]),[M,P]=I.useState([]);I.useEffect(()=>{(async()=>{try{let wt=await jl(ki(Vi,"wordleWords","wordBank")),Pt=wt.data();at.current=new Set(Pt.allWords),wt=await jl(ki(Vi,"wordleWords","dailyWords")),Pt=wt.data(),k.current=Pt.royaleWords,console.log(b),ot(k.current[b.current-1].toUpperCase().split("")),k.current.forEach(H=>console.log(H))}catch(wt){console.error(wt)}})()},[]),I.useEffect(()=>{U&&(U!=="failed"&&b.current<o-1?j()?D(!0):(ot(k.current[b.current].toUpperCase().split("")),b.current++,q(""),g.current=0,p(new Map),h(new Array(6).fill({word:"",colors:E})),lt()):D(!0))},[U]),I.useEffect(()=>{st&&(async()=>{try{O.current.statistics.gameModes.royale.finishedToday=!0,O.current.statistics.gameModes.royale.gamesPlayed++,U==="guessed"&&O.current.statistics.gameModes.royale.gamesGuessed[b.current-1]++,await kd(ki(Vi,"Users",v.uid),O.current),console.log("Endgame data updated.")}catch(wt){console.log(wt.message)}})()},[st]);const j=()=>b.current+g.current>o;return R.jsxs(R.Fragment,{children:[R.jsx("div",{style:{color:"white"},children:"Round: "+b.current+" "+et}),R.jsx(ry,{darkMode:i,gameMode:t,solution:et,wordSet:at,rowIndex:g,guesses:l,setGuesses:h,keyColors:m,setKeyColors:p,gameResult:U,setGameResult:q,wordLength:s,numOfGuesses:o,highLight:o-b.current,baseColors:E,userData:O},Z),R.jsx(fv,{gameMode:t,showDialog:st,setGameResult:q,toggleRestart:lt,togglePlayWordle:e,solution:et})]})}const VV="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function PV({darkMode:i,gameMode:t,togglePlayWordle:e,wordLength:s,numOfGuesses:o,guesses:l,setGuesses:h,keyColors:m,setKeyColors:p,rowIndex:g,baseColors:E,toggleRestart:v}){const[b,O]=I.useState([]),U=I.useRef([]),q=I.useRef(new Set),[k,et]=I.useState("");return I.useEffect(()=>{(async()=>{try{g.current=0;const at=[...(await(await fetch(VV)).json()).words];at.forEach(D=>q.current.add(D));const st=at[Math.floor(Math.random()*(at.length-1))];O(st.toUpperCase().split("")),U.current=st.toUpperCase().split(""),console.log(U.current.join(""))}catch(Z){console.error(Z)}})()},[]),R.jsxs(R.Fragment,{children:[R.jsx(ry,{darkMode:i,gameMode:t,solution:b,wordSet:q,rowIndex:g,gameResult:k,setGameResult:et,wordLength:s,numOfGuesses:o,guesses:l,setGuesses:h,keyColors:m,setKeyColors:p,baseColors:E}),R.jsx(fv,{gameMode:t,showDialog:k,setGameResult:et,toggleRestart:v,togglePlayWordle:e})]})}var Wl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mo=typeof window>"u"||"Deno"in globalThis;function Pn(){}function LV(i,t){return typeof i=="function"?i(t):i}function Fg(i){return typeof i=="number"&&i>=0&&i!==1/0}function SA(i,t){return Math.max(i+(t||0)-Date.now(),0)}function sa(i,t){return typeof i=="function"?i(t):i}function _i(i,t){return typeof i=="function"?i(t):i}function Mb(i,t){const{type:e="all",exact:s,fetchStatus:o,predicate:l,queryKey:h,stale:m}=i;if(h){if(s){if(t.queryHash!==dv(h,t.options))return!1}else if(!Rc(t.queryKey,h))return!1}if(e!=="all"){const p=t.isActive();if(e==="active"&&!p||e==="inactive"&&p)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||o&&o!==t.state.fetchStatus||l&&!l(t))}function kb(i,t){const{exact:e,status:s,predicate:o,mutationKey:l}=i;if(l){if(!t.options.mutationKey)return!1;if(e){if(po(t.options.mutationKey)!==po(l))return!1}else if(!Rc(t.options.mutationKey,l))return!1}return!(s&&t.state.status!==s||o&&!o(t))}function dv(i,t){return((t==null?void 0:t.queryKeyHashFn)||po)(i)}function po(i){return JSON.stringify(i,(t,e)=>qg(e)?Object.keys(e).sort().reduce((s,o)=>(s[o]=e[o],s),{}):e)}function Rc(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?Object.keys(t).every(e=>Rc(i[e],t[e])):!1}function AA(i,t){if(i===t)return i;const e=Vb(i)&&Vb(t);if(e||qg(i)&&qg(t)){const s=e?i:Object.keys(i),o=s.length,l=e?t:Object.keys(t),h=l.length,m=e?[]:{},p=new Set(s);let g=0;for(let E=0;E<h;E++){const v=e?E:l[E];(!e&&p.has(v)||e)&&i[v]===void 0&&t[v]===void 0?(m[v]=void 0,g++):(m[v]=AA(i[v],t[v]),m[v]===i[v]&&i[v]!==void 0&&g++)}return o===h&&g===o?i:m}return t}function ld(i,t){if(!t||Object.keys(i).length!==Object.keys(t).length)return!1;for(const e in i)if(i[e]!==t[e])return!1;return!0}function Vb(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function qg(i){if(!Pb(i))return!1;const t=i.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!Pb(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function Pb(i){return Object.prototype.toString.call(i)==="[object Object]"}function UV(i){return new Promise(t=>{setTimeout(t,i)})}function Gg(i,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(i,t):e.structuralSharing!==!1?AA(i,t):t}function jV(i,t,e=0){const s=[...i,t];return e&&s.length>e?s.slice(1):s}function BV(i,t,e=0){const s=[t,...i];return e&&s.length>e?s.slice(0,-1):s}var mv=Symbol();function RA(i,t){return!i.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!i.queryFn||i.queryFn===mv?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}function CA(i,t){return typeof i=="function"?i(...t):!!i}var Wa,Fs,_l,Hb,zV=(Hb=class extends Wl{constructor(){super();bt(this,Wa);bt(this,Fs);bt(this,_l);gt(this,_l,t=>{if(!mo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){L(this,Fs)||this.setEventListener(L(this,_l))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,Fs))==null||t.call(this),gt(this,Fs,void 0))}setEventListener(t){var e;gt(this,_l,t),(e=L(this,Fs))==null||e.call(this),gt(this,Fs,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){L(this,Wa)!==t&&(gt(this,Wa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof L(this,Wa)=="boolean"?L(this,Wa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Wa=new WeakMap,Fs=new WeakMap,_l=new WeakMap,Hb),pv=new zV,El,qs,Tl,Fb,HV=(Fb=class extends Wl{constructor(){super();bt(this,El,!0);bt(this,qs);bt(this,Tl);gt(this,Tl,t=>{if(!mo&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}})}onSubscribe(){L(this,qs)||this.setEventListener(L(this,Tl))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,qs))==null||t.call(this),gt(this,qs,void 0))}setEventListener(t){var e;gt(this,Tl,t),(e=L(this,qs))==null||e.call(this),gt(this,qs,t(this.setOnline.bind(this)))}setOnline(t){L(this,El)!==t&&(gt(this,El,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return L(this,El)}},El=new WeakMap,qs=new WeakMap,Tl=new WeakMap,Fb),ud=new HV;function Kg(){let i,t;const e=new Promise((o,l)=>{i=o,t=l});e.status="pending",e.catch(()=>{});function s(o){Object.assign(e,o),delete e.resolve,delete e.reject}return e.resolve=o=>{s({status:"fulfilled",value:o}),i(o)},e.reject=o=>{s({status:"rejected",reason:o}),t(o)},e}function FV(i){return Math.min(1e3*2**i,3e4)}function IA(i){return(i??"online")==="online"?ud.isOnline():!0}var xA=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function lg(i){return i instanceof xA}function OA(i){let t=!1,e=0,s=!1,o;const l=Kg(),h=q=>{var k;s||(b(new xA(q)),(k=i.abort)==null||k.call(i))},m=()=>{t=!0},p=()=>{t=!1},g=()=>pv.isFocused()&&(i.networkMode==="always"||ud.isOnline())&&i.canRun(),E=()=>IA(i.networkMode)&&i.canRun(),v=q=>{var k;s||(s=!0,(k=i.onSuccess)==null||k.call(i,q),o==null||o(),l.resolve(q))},b=q=>{var k;s||(s=!0,(k=i.onError)==null||k.call(i,q),o==null||o(),l.reject(q))},O=()=>new Promise(q=>{var k;o=et=>{(s||g())&&q(et)},(k=i.onPause)==null||k.call(i)}).then(()=>{var q;o=void 0,s||(q=i.onContinue)==null||q.call(i)}),U=()=>{if(s)return;let q;const k=e===0?i.initialPromise:void 0;try{q=k??i.fn()}catch(et){q=Promise.reject(et)}Promise.resolve(q).then(v).catch(et=>{var st;if(s)return;const ot=i.retry??(mo?0:3),Z=i.retryDelay??FV,lt=typeof Z=="function"?Z(e,et):Z,at=ot===!0||typeof ot=="number"&&e<ot||typeof ot=="function"&&ot(e,et);if(t||!at){b(et);return}e++,(st=i.onFail)==null||st.call(i,e,et),UV(lt).then(()=>g()?void 0:O()).then(()=>{t?b(et):U()})})};return{promise:l,cancel:h,continue:()=>(o==null||o(),l),cancelRetry:m,continueRetry:p,canStart:E,start:()=>(E()?U():O().then(U),l)}}var qV=i=>setTimeout(i,0);function GV(){let i=[],t=0,e=m=>{m()},s=m=>{m()},o=qV;const l=m=>{t?i.push(m):o(()=>{e(m)})},h=()=>{const m=i;i=[],m.length&&o(()=>{s(()=>{m.forEach(p=>{e(p)})})})};return{batch:m=>{let p;t++;try{p=m()}finally{t--,t||h()}return p},batchCalls:m=>(...p)=>{l(()=>{m(...p)})},schedule:l,setNotifyFunction:m=>{e=m},setBatchNotifyFunction:m=>{s=m},setScheduler:m=>{o=m}}}var Xe=GV(),Za,qb,NA=(qb=class{constructor(){bt(this,Za)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fg(this.gcTime)&&gt(this,Za,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(mo?1/0:5*60*1e3))}clearGcTimeout(){L(this,Za)&&(clearTimeout(L(this,Za)),gt(this,Za,void 0))}},Za=new WeakMap,qb),bl,Ja,vi,to,bn,Cc,eo,Oi,Fr,Gb,KV=(Gb=class extends NA{constructor(t){super();bt(this,Oi);bt(this,bl);bt(this,Ja);bt(this,vi);bt(this,to);bt(this,bn);bt(this,Cc);bt(this,eo);gt(this,eo,!1),gt(this,Cc,t.defaultOptions),this.setOptions(t.options),this.observers=[],gt(this,to,t.client),gt(this,vi,L(this,to).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,gt(this,bl,QV(this.options)),this.state=t.state??L(this,bl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=L(this,bn))==null?void 0:t.promise}setOptions(t){this.options={...L(this,Cc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,vi).remove(this)}setData(t,e){const s=Gg(this.state.data,t,this.options);return Ut(this,Oi,Fr).call(this,{data:s,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),s}setState(t,e){Ut(this,Oi,Fr).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var s,o;const e=(s=L(this,bn))==null?void 0:s.promise;return(o=L(this,bn))==null||o.cancel(t),e?e.then(Pn).catch(Pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,bl))}isActive(){return this.observers.some(t=>_i(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>sa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!SA(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=L(this,bn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=L(this,bn))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),L(this,vi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(L(this,bn)&&(L(this,eo)?L(this,bn).cancel({revert:!0}):L(this,bn).cancelRetry()),this.scheduleGc()),L(this,vi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,Oi,Fr).call(this,{type:"invalidate"})}fetch(t,e){var g,E,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(L(this,bn))return L(this,bn).continueRetry(),L(this,bn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(O=>O.options.queryFn);b&&this.setOptions(b.options)}const s=new AbortController,o=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(gt(this,eo,!0),s.signal)})},l=()=>{const b=RA(this.options,e),U=(()=>{const q={client:L(this,to),queryKey:this.queryKey,meta:this.meta};return o(q),q})();return gt(this,eo,!1),this.options.persister?this.options.persister(b,U,this):b(U)},m=(()=>{const b={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:L(this,to),state:this.state,fetchFn:l};return o(b),b})();(g=this.options.behavior)==null||g.onFetch(m,this),gt(this,Ja,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((E=m.fetchOptions)==null?void 0:E.meta))&&Ut(this,Oi,Fr).call(this,{type:"fetch",meta:(v=m.fetchOptions)==null?void 0:v.meta});const p=b=>{var O,U,q,k;lg(b)&&b.silent||Ut(this,Oi,Fr).call(this,{type:"error",error:b}),lg(b)||((U=(O=L(this,vi).config).onError)==null||U.call(O,b,this),(k=(q=L(this,vi).config).onSettled)==null||k.call(q,this.state.data,b,this)),this.scheduleGc()};return gt(this,bn,OA({initialPromise:e==null?void 0:e.initialPromise,fn:m.fetchFn,abort:s.abort.bind(s),onSuccess:b=>{var O,U,q,k;if(b===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(et){p(et);return}(U=(O=L(this,vi).config).onSuccess)==null||U.call(O,b,this),(k=(q=L(this,vi).config).onSettled)==null||k.call(q,b,this.state.error,this),this.scheduleGc()},onError:p,onFail:(b,O)=>{Ut(this,Oi,Fr).call(this,{type:"failed",failureCount:b,error:O})},onPause:()=>{Ut(this,Oi,Fr).call(this,{type:"pause"})},onContinue:()=>{Ut(this,Oi,Fr).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0})),L(this,bn).start()}},bl=new WeakMap,Ja=new WeakMap,vi=new WeakMap,to=new WeakMap,bn=new WeakMap,Cc=new WeakMap,eo=new WeakMap,Oi=new WeakSet,Fr=function(t){const e=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...DA(s.data,this.options),fetchMeta:t.meta??null};case"success":return gt(this,Ja,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return lg(o)&&o.revert&&L(this,Ja)?{...L(this,Ja),fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=e(this.state),Xe.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),L(this,vi).notify({query:this,type:"updated",action:t})})},Gb);function DA(i,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:IA(t.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function QV(i){const t=typeof i.initialData=="function"?i.initialData():i.initialData,e=t!==void 0,s=e?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var ir,Kb,$V=(Kb=class extends Wl{constructor(t={}){super();bt(this,ir);this.config=t,gt(this,ir,new Map)}build(t,e,s){const o=e.queryKey,l=e.queryHash??dv(o,e);let h=this.get(l);return h||(h=new KV({client:t,queryKey:o,queryHash:l,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(o)}),this.add(h)),h}add(t){L(this,ir).has(t.queryHash)||(L(this,ir).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=L(this,ir).get(t.queryHash);e&&(t.destroy(),e===t&&L(this,ir).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return L(this,ir).get(t)}getAll(){return[...L(this,ir).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(s=>Mb(e,s))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(s=>Mb(t,s)):e}notify(t){Xe.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Xe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ir=new WeakMap,Kb),rr,kn,no,sr,Ls,Qb,YV=(Qb=class extends NA{constructor(t){super();bt(this,sr);bt(this,rr);bt(this,kn);bt(this,no);this.mutationId=t.mutationId,gt(this,kn,t.mutationCache),gt(this,rr,[]),this.state=t.state||MA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,rr).includes(t)||(L(this,rr).push(t),this.clearGcTimeout(),L(this,kn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){gt(this,rr,L(this,rr).filter(e=>e!==t)),this.scheduleGc(),L(this,kn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,rr).length||(this.state.status==="pending"?this.scheduleGc():L(this,kn).remove(this))}continue(){var t;return((t=L(this,no))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,h,m,p,g,E,v,b,O,U,q,k,et,ot,Z,lt,at,st,D,A;const e=()=>{Ut(this,sr,Ls).call(this,{type:"continue"})};gt(this,no,OA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,M)=>{Ut(this,sr,Ls).call(this,{type:"failed",failureCount:C,error:M})},onPause:()=>{Ut(this,sr,Ls).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,kn).canRun(this)}));const s=this.state.status==="pending",o=!L(this,no).canStart();try{if(s)e();else{Ut(this,sr,Ls).call(this,{type:"pending",variables:t,isPaused:o}),await((h=(l=L(this,kn).config).onMutate)==null?void 0:h.call(l,t,this));const M=await((p=(m=this.options).onMutate)==null?void 0:p.call(m,t));M!==this.state.context&&Ut(this,sr,Ls).call(this,{type:"pending",context:M,variables:t,isPaused:o})}const C=await L(this,no).start();return await((E=(g=L(this,kn).config).onSuccess)==null?void 0:E.call(g,C,t,this.state.context,this)),await((b=(v=this.options).onSuccess)==null?void 0:b.call(v,C,t,this.state.context)),await((U=(O=L(this,kn).config).onSettled)==null?void 0:U.call(O,C,null,this.state.variables,this.state.context,this)),await((k=(q=this.options).onSettled)==null?void 0:k.call(q,C,null,t,this.state.context)),Ut(this,sr,Ls).call(this,{type:"success",data:C}),C}catch(C){try{throw await((ot=(et=L(this,kn).config).onError)==null?void 0:ot.call(et,C,t,this.state.context,this)),await((lt=(Z=this.options).onError)==null?void 0:lt.call(Z,C,t,this.state.context)),await((st=(at=L(this,kn).config).onSettled)==null?void 0:st.call(at,void 0,C,this.state.variables,this.state.context,this)),await((A=(D=this.options).onSettled)==null?void 0:A.call(D,void 0,C,t,this.state.context)),C}finally{Ut(this,sr,Ls).call(this,{type:"error",error:C})}}finally{L(this,kn).runNext(this)}}},rr=new WeakMap,kn=new WeakMap,no=new WeakMap,sr=new WeakSet,Ls=function(t){const e=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Xe.batch(()=>{L(this,rr).forEach(s=>{s.onMutationUpdate(t)}),L(this,kn).notify({mutation:this,type:"updated",action:t})})},Qb);function MA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,Ni,Ic,$b,XV=($b=class extends Wl{constructor(t={}){super();bt(this,qr);bt(this,Ni);bt(this,Ic);this.config=t,gt(this,qr,new Set),gt(this,Ni,new Map),gt(this,Ic,0)}build(t,e,s){const o=new YV({mutationCache:this,mutationId:++ff(this,Ic)._,options:t.defaultMutationOptions(e),state:s});return this.add(o),o}add(t){L(this,qr).add(t);const e=Sf(t);if(typeof e=="string"){const s=L(this,Ni).get(e);s?s.push(t):L(this,Ni).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(L(this,qr).delete(t)){const e=Sf(t);if(typeof e=="string"){const s=L(this,Ni).get(e);if(s)if(s.length>1){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}else s[0]===t&&L(this,Ni).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Sf(t);if(typeof e=="string"){const s=L(this,Ni).get(e),o=s==null?void 0:s.find(l=>l.state.status==="pending");return!o||o===t}else return!0}runNext(t){var s;const e=Sf(t);if(typeof e=="string"){const o=(s=L(this,Ni).get(e))==null?void 0:s.find(l=>l!==t&&l.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xe.batch(()=>{L(this,qr).forEach(t=>{this.notify({type:"removed",mutation:t})}),L(this,qr).clear(),L(this,Ni).clear()})}getAll(){return Array.from(L(this,qr))}find(t){const e={exact:!0,...t};return this.getAll().find(s=>kb(e,s))}findAll(t={}){return this.getAll().filter(e=>kb(t,e))}notify(t){Xe.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Xe.batch(()=>Promise.all(t.map(e=>e.continue().catch(Pn))))}},qr=new WeakMap,Ni=new WeakMap,Ic=new WeakMap,$b);function Sf(i){var t;return(t=i.options.scope)==null?void 0:t.id}function Lb(i){return{onFetch:(t,e)=>{var E,v,b,O,U;const s=t.options,o=(b=(v=(E=t.fetchOptions)==null?void 0:E.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,l=((O=t.state.data)==null?void 0:O.pages)||[],h=((U=t.state.data)==null?void 0:U.pageParams)||[];let m={pages:[],pageParams:[]},p=0;const g=async()=>{let q=!1;const k=Z=>{Object.defineProperty(Z,"signal",{enumerable:!0,get:()=>(t.signal.aborted?q=!0:t.signal.addEventListener("abort",()=>{q=!0}),t.signal)})},et=RA(t.options,t.fetchOptions),ot=async(Z,lt,at)=>{if(q)return Promise.reject();if(lt==null&&Z.pages.length)return Promise.resolve(Z);const D=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:lt,direction:at?"backward":"forward",meta:t.options.meta};return k(P),P})(),A=await et(D),{maxPages:C}=t.options,M=at?BV:jV;return{pages:M(Z.pages,A,C),pageParams:M(Z.pageParams,lt,C)}};if(o&&l.length){const Z=o==="backward",lt=Z?WV:Ub,at={pages:l,pageParams:h},st=lt(s,at);m=await ot(at,st,Z)}else{const Z=i??l.length;do{const lt=p===0?h[0]??s.initialPageParam:Ub(s,m);if(p>0&&lt==null)break;m=await ot(m,lt),p++}while(p<Z)}return m};t.options.persister?t.fetchFn=()=>{var q,k;return(k=(q=t.options).persister)==null?void 0:k.call(q,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=g}}}function Ub(i,{pages:t,pageParams:e}){const s=t.length-1;return t.length>0?i.getNextPageParam(t[s],t,e[s],e):void 0}function WV(i,{pages:t,pageParams:e}){var s;return t.length>0?(s=i.getPreviousPageParam)==null?void 0:s.call(i,t[0],t,e[0],e):void 0}var xe,Gs,Ks,wl,Sl,Qs,Al,Rl,Yb,ZV=(Yb=class{constructor(i={}){bt(this,xe);bt(this,Gs);bt(this,Ks);bt(this,wl);bt(this,Sl);bt(this,Qs);bt(this,Al);bt(this,Rl);gt(this,xe,i.queryCache||new $V),gt(this,Gs,i.mutationCache||new XV),gt(this,Ks,i.defaultOptions||{}),gt(this,wl,new Map),gt(this,Sl,new Map),gt(this,Qs,0)}mount(){ff(this,Qs)._++,L(this,Qs)===1&&(gt(this,Al,pv.subscribe(async i=>{i&&(await this.resumePausedMutations(),L(this,xe).onFocus())})),gt(this,Rl,ud.subscribe(async i=>{i&&(await this.resumePausedMutations(),L(this,xe).onOnline())})))}unmount(){var i,t;ff(this,Qs)._--,L(this,Qs)===0&&((i=L(this,Al))==null||i.call(this),gt(this,Al,void 0),(t=L(this,Rl))==null||t.call(this),gt(this,Rl,void 0))}isFetching(i){return L(this,xe).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return L(this,Gs).findAll({...i,status:"pending"}).length}getQueryData(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=L(this,xe).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(i){const t=this.defaultQueryOptions(i),e=L(this,xe).build(this,t),s=e.state.data;return s===void 0?this.fetchQuery(i):(i.revalidateIfStale&&e.isStaleByTime(sa(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(i){return L(this,xe).findAll(i).map(({queryKey:t,state:e})=>{const s=e.data;return[t,s]})}setQueryData(i,t,e){const s=this.defaultQueryOptions({queryKey:i}),o=L(this,xe).get(s.queryHash),l=o==null?void 0:o.state.data,h=LV(t,l);if(h!==void 0)return L(this,xe).build(this,s).setData(h,{...e,manual:!0})}setQueriesData(i,t,e){return Xe.batch(()=>L(this,xe).findAll(i).map(({queryKey:s})=>[s,this.setQueryData(s,t,e)]))}getQueryState(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=L(this,xe).get(t.queryHash))==null?void 0:e.state}removeQueries(i){const t=L(this,xe);Xe.batch(()=>{t.findAll(i).forEach(e=>{t.remove(e)})})}resetQueries(i,t){const e=L(this,xe);return Xe.batch(()=>(e.findAll(i).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...i},t)))}cancelQueries(i,t={}){const e={revert:!0,...t},s=Xe.batch(()=>L(this,xe).findAll(i).map(o=>o.cancel(e)));return Promise.all(s).then(Pn).catch(Pn)}invalidateQueries(i,t={}){return Xe.batch(()=>(L(this,xe).findAll(i).forEach(e=>{e.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},t)))}refetchQueries(i,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},s=Xe.batch(()=>L(this,xe).findAll(i).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,e);return e.throwOnError||(l=l.catch(Pn)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(Pn)}fetchQuery(i){const t=this.defaultQueryOptions(i);t.retry===void 0&&(t.retry=!1);const e=L(this,xe).build(this,t);return e.isStaleByTime(sa(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Pn).catch(Pn)}fetchInfiniteQuery(i){return i.behavior=Lb(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Pn).catch(Pn)}ensureInfiniteQueryData(i){return i.behavior=Lb(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return ud.isOnline()?L(this,Gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,xe)}getMutationCache(){return L(this,Gs)}getDefaultOptions(){return L(this,Ks)}setDefaultOptions(i){gt(this,Ks,i)}setQueryDefaults(i,t){L(this,wl).set(po(i),{queryKey:i,defaultOptions:t})}getQueryDefaults(i){const t=[...L(this,wl).values()],e={};return t.forEach(s=>{Rc(i,s.queryKey)&&Object.assign(e,s.defaultOptions)}),e}setMutationDefaults(i,t){L(this,Sl).set(po(i),{mutationKey:i,defaultOptions:t})}getMutationDefaults(i){const t=[...L(this,Sl).values()],e={};return t.forEach(s=>{Rc(i,s.mutationKey)&&Object.assign(e,s.defaultOptions)}),e}defaultQueryOptions(i){if(i._defaulted)return i;const t={...L(this,Ks).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return t.queryHash||(t.queryHash=dv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===mv&&(t.enabled=!1),t}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...L(this,Ks).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){L(this,xe).clear(),L(this,Gs).clear()}},xe=new WeakMap,Gs=new WeakMap,Ks=new WeakMap,wl=new WeakMap,Sl=new WeakMap,Qs=new WeakMap,Al=new WeakMap,Rl=new WeakMap,Yb),Fn,Xt,xc,Vn,io,Cl,$s,Ys,Oc,Il,xl,ro,so,Xs,Ol,ae,ac,Qg,$g,Yg,Xg,Wg,Zg,Jg,kA,Xb,JV=(Xb=class extends Wl{constructor(t,e){super();bt(this,ae);bt(this,Fn);bt(this,Xt);bt(this,xc);bt(this,Vn);bt(this,io);bt(this,Cl);bt(this,$s);bt(this,Ys);bt(this,Oc);bt(this,Il);bt(this,xl);bt(this,ro);bt(this,so);bt(this,Xs);bt(this,Ol,new Set);this.options=e,gt(this,Fn,t),gt(this,Ys,null),gt(this,$s,Kg()),this.options.experimental_prefetchInRender||L(this,$s).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Xt).addObserver(this),jb(L(this,Xt),this.options)?Ut(this,ae,ac).call(this):this.updateResult(),Ut(this,ae,Xg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ty(L(this,Xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ty(L(this,Xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ut(this,ae,Wg).call(this),Ut(this,ae,Zg).call(this),L(this,Xt).removeObserver(this)}setOptions(t){const e=this.options,s=L(this,Xt);if(this.options=L(this,Fn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _i(this.options.enabled,L(this,Xt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ut(this,ae,Jg).call(this),L(this,Xt).setOptions(this.options),e._defaulted&&!ld(this.options,e)&&L(this,Fn).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Xt),observer:this});const o=this.hasListeners();o&&Bb(L(this,Xt),s,this.options,e)&&Ut(this,ae,ac).call(this),this.updateResult(),o&&(L(this,Xt)!==s||_i(this.options.enabled,L(this,Xt))!==_i(e.enabled,L(this,Xt))||sa(this.options.staleTime,L(this,Xt))!==sa(e.staleTime,L(this,Xt)))&&Ut(this,ae,Qg).call(this);const l=Ut(this,ae,$g).call(this);o&&(L(this,Xt)!==s||_i(this.options.enabled,L(this,Xt))!==_i(e.enabled,L(this,Xt))||l!==L(this,Xs))&&Ut(this,ae,Yg).call(this,l)}getOptimisticResult(t){const e=L(this,Fn).getQueryCache().build(L(this,Fn),t),s=this.createResult(e,t);return eP(this,s)&&(gt(this,Vn,s),gt(this,Cl,this.options),gt(this,io,L(this,Xt).state)),s}getCurrentResult(){return L(this,Vn)}trackResult(t,e){return new Proxy(t,{get:(s,o)=>(this.trackProp(o),e==null||e(o),Reflect.get(s,o))})}trackProp(t){L(this,Ol).add(t)}getCurrentQuery(){return L(this,Xt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=L(this,Fn).defaultQueryOptions(t),s=L(this,Fn).getQueryCache().build(L(this,Fn),e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return Ut(this,ae,ac).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,Vn)))}createResult(t,e){var C;const s=L(this,Xt),o=this.options,l=L(this,Vn),h=L(this,io),m=L(this,Cl),g=t!==s?t.state:L(this,xc),{state:E}=t;let v={...E},b=!1,O;if(e._optimisticResults){const M=this.hasListeners(),P=!M&&jb(t,e),j=M&&Bb(t,s,e,o);(P||j)&&(v={...v,...DA(E.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:U,errorUpdatedAt:q,status:k}=v;O=v.data;let et=!1;if(e.placeholderData!==void 0&&O===void 0&&k==="pending"){let M;l!=null&&l.isPlaceholderData&&e.placeholderData===(m==null?void 0:m.placeholderData)?(M=l.data,et=!0):M=typeof e.placeholderData=="function"?e.placeholderData((C=L(this,xl))==null?void 0:C.state.data,L(this,xl)):e.placeholderData,M!==void 0&&(k="success",O=Gg(l==null?void 0:l.data,M,e),b=!0)}if(e.select&&O!==void 0&&!et)if(l&&O===(h==null?void 0:h.data)&&e.select===L(this,Oc))O=L(this,Il);else try{gt(this,Oc,e.select),O=e.select(O),O=Gg(l==null?void 0:l.data,O,e),gt(this,Il,O),gt(this,Ys,null)}catch(M){gt(this,Ys,M)}L(this,Ys)&&(U=L(this,Ys),O=L(this,Il),q=Date.now(),k="error");const ot=v.fetchStatus==="fetching",Z=k==="pending",lt=k==="error",at=Z&&ot,st=O!==void 0,A={status:k,fetchStatus:v.fetchStatus,isPending:Z,isSuccess:k==="success",isError:lt,isInitialLoading:at,isLoading:at,data:O,dataUpdatedAt:v.dataUpdatedAt,error:U,errorUpdatedAt:q,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:ot,isRefetching:ot&&!Z,isLoadingError:lt&&!st,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:lt&&st,isStale:gv(t,e),refetch:this.refetch,promise:L(this,$s),isEnabled:_i(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=x=>{A.status==="error"?x.reject(A.error):A.data!==void 0&&x.resolve(A.data)},P=()=>{const x=gt(this,$s,A.promise=Kg());M(x)},j=L(this,$s);switch(j.status){case"pending":t.queryHash===s.queryHash&&M(j);break;case"fulfilled":(A.status==="error"||A.data!==j.value)&&P();break;case"rejected":(A.status!=="error"||A.error!==j.reason)&&P();break}}return A}updateResult(){const t=L(this,Vn),e=this.createResult(L(this,Xt),this.options);if(gt(this,io,L(this,Xt).state),gt(this,Cl,this.options),L(this,io).data!==void 0&&gt(this,xl,L(this,Xt)),ld(e,t))return;gt(this,Vn,e);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!L(this,Ol).size)return!0;const h=new Set(l??L(this,Ol));return this.options.throwOnError&&h.add("error"),Object.keys(L(this,Vn)).some(m=>{const p=m;return L(this,Vn)[p]!==t[p]&&h.has(p)})};Ut(this,ae,kA).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ut(this,ae,Xg).call(this)}},Fn=new WeakMap,Xt=new WeakMap,xc=new WeakMap,Vn=new WeakMap,io=new WeakMap,Cl=new WeakMap,$s=new WeakMap,Ys=new WeakMap,Oc=new WeakMap,Il=new WeakMap,xl=new WeakMap,ro=new WeakMap,so=new WeakMap,Xs=new WeakMap,Ol=new WeakMap,ae=new WeakSet,ac=function(t){Ut(this,ae,Jg).call(this);let e=L(this,Xt).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Pn)),e},Qg=function(){Ut(this,ae,Wg).call(this);const t=sa(this.options.staleTime,L(this,Xt));if(mo||L(this,Vn).isStale||!Fg(t))return;const s=SA(L(this,Vn).dataUpdatedAt,t)+1;gt(this,ro,setTimeout(()=>{L(this,Vn).isStale||this.updateResult()},s))},$g=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Xt)):this.options.refetchInterval)??!1},Yg=function(t){Ut(this,ae,Zg).call(this),gt(this,Xs,t),!(mo||_i(this.options.enabled,L(this,Xt))===!1||!Fg(L(this,Xs))||L(this,Xs)===0)&&gt(this,so,setInterval(()=>{(this.options.refetchIntervalInBackground||pv.isFocused())&&Ut(this,ae,ac).call(this)},L(this,Xs)))},Xg=function(){Ut(this,ae,Qg).call(this),Ut(this,ae,Yg).call(this,Ut(this,ae,$g).call(this))},Wg=function(){L(this,ro)&&(clearTimeout(L(this,ro)),gt(this,ro,void 0))},Zg=function(){L(this,so)&&(clearInterval(L(this,so)),gt(this,so,void 0))},Jg=function(){const t=L(this,Fn).getQueryCache().build(L(this,Fn),this.options);if(t===L(this,Xt))return;const e=L(this,Xt);gt(this,Xt,t),gt(this,xc,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},kA=function(t){Xe.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(L(this,Vn))}),L(this,Fn).getQueryCache().notify({query:L(this,Xt),type:"observerResultsUpdated"})})},Xb);function tP(i,t){return _i(t.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&t.retryOnMount===!1)}function jb(i,t){return tP(i,t)||i.state.data!==void 0&&ty(i,t,t.refetchOnMount)}function ty(i,t,e){if(_i(t.enabled,i)!==!1&&sa(t.staleTime,i)!=="static"){const s=typeof e=="function"?e(i):e;return s==="always"||s!==!1&&gv(i,t)}return!1}function Bb(i,t,e,s){return(i!==t||_i(s.enabled,i)===!1)&&(!e.suspense||i.state.status!=="error")&&gv(i,e)}function gv(i,t){return _i(t.enabled,i)!==!1&&i.isStaleByTime(sa(t.staleTime,i))}function eP(i,t){return!ld(i.getCurrentResult(),t)}var Ws,Zs,qn,Gr,Jr,Vf,ey,Wb,nP=(Wb=class extends Wl{constructor(e,s){super();bt(this,Jr);bt(this,Ws);bt(this,Zs);bt(this,qn);bt(this,Gr);gt(this,Ws,e),this.setOptions(s),this.bindMethods(),Ut(this,Jr,Vf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var o;const s=this.options;this.options=L(this,Ws).defaultMutationOptions(e),ld(this.options,s)||L(this,Ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,qn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&po(s.mutationKey)!==po(this.options.mutationKey)?this.reset():((o=L(this,qn))==null?void 0:o.state.status)==="pending"&&L(this,qn).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=L(this,qn))==null||e.removeObserver(this)}onMutationUpdate(e){Ut(this,Jr,Vf).call(this),Ut(this,Jr,ey).call(this,e)}getCurrentResult(){return L(this,Zs)}reset(){var e;(e=L(this,qn))==null||e.removeObserver(this),gt(this,qn,void 0),Ut(this,Jr,Vf).call(this),Ut(this,Jr,ey).call(this)}mutate(e,s){var o;return gt(this,Gr,s),(o=L(this,qn))==null||o.removeObserver(this),gt(this,qn,L(this,Ws).getMutationCache().build(L(this,Ws),this.options)),L(this,qn).addObserver(this),L(this,qn).execute(e)}},Ws=new WeakMap,Zs=new WeakMap,qn=new WeakMap,Gr=new WeakMap,Jr=new WeakSet,Vf=function(){var s;const e=((s=L(this,qn))==null?void 0:s.state)??MA();gt(this,Zs,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},ey=function(e){Xe.batch(()=>{var s,o,l,h,m,p,g,E;if(L(this,Gr)&&this.hasListeners()){const v=L(this,Zs).variables,b=L(this,Zs).context;(e==null?void 0:e.type)==="success"?((o=(s=L(this,Gr)).onSuccess)==null||o.call(s,e.data,v,b),(h=(l=L(this,Gr)).onSettled)==null||h.call(l,e.data,null,v,b)):(e==null?void 0:e.type)==="error"&&((p=(m=L(this,Gr)).onError)==null||p.call(m,e.error,v,b),(E=(g=L(this,Gr)).onSettled)==null||E.call(g,void 0,e.error,v,b))}this.listeners.forEach(v=>{v(L(this,Zs))})})},Wb),VA=I.createContext(void 0),yv=i=>{const t=I.useContext(VA);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},iP=({client:i,children:t})=>(I.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),R.jsx(VA.Provider,{value:i,children:t})),PA=I.createContext(!1),rP=()=>I.useContext(PA);PA.Provider;function sP(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var aP=I.createContext(sP()),oP=()=>I.useContext(aP),lP=(i,t)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(t.isReset()||(i.retryOnMount=!1))},uP=i=>{I.useEffect(()=>{i.clearReset()},[i])},cP=({result:i,errorResetBoundary:t,throwOnError:e,query:s,suspense:o})=>i.isError&&!t.isReset()&&!i.isFetching&&s&&(o&&i.data===void 0||CA(e,[i.error,s])),hP=i=>{if(i.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),e=i.staleTime;i.staleTime=typeof e=="function"?(...s)=>t(e(...s)):t(e),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},fP=(i,t)=>i.isLoading&&i.isFetching&&!t,dP=(i,t)=>(i==null?void 0:i.suspense)&&t.isPending,zb=(i,t,e)=>t.fetchOptimistic(i).catch(()=>{e.clearReset()});function mP(i,t,e){var v,b,O,U,q;const s=rP(),o=oP(),l=yv(),h=l.defaultQueryOptions(i);(b=(v=l.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||b.call(v,h),h._optimisticResults=s?"isRestoring":"optimistic",hP(h),lP(h,o),uP(o);const m=!l.getQueryCache().get(h.queryHash),[p]=I.useState(()=>new t(l,h)),g=p.getOptimisticResult(h),E=!s&&i.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(k=>{const et=E?p.subscribe(Xe.batchCalls(k)):Pn;return p.updateResult(),et},[p,E]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),I.useEffect(()=>{p.setOptions(h)},[h,p]),dP(h,g))throw zb(h,p,o);if(cP({result:g,errorResetBoundary:o,throwOnError:h.throwOnError,query:l.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw g.error;if((U=(O=l.getDefaultOptions().queries)==null?void 0:O._experimental_afterQuery)==null||U.call(O,h,g),h.experimental_prefetchInRender&&!mo&&fP(g,s)){const k=m?zb(h,p,o):(q=l.getQueryCache().get(h.queryHash))==null?void 0:q.promise;k==null||k.catch(Pn).finally(()=>{p.updateResult()})}return h.notifyOnChangeProps?g:p.trackResult(g)}function pP(i,t){return mP(i,JV)}function gP(i,t){const e=yv(),[s]=I.useState(()=>new nP(e,i));I.useEffect(()=>{s.setOptions(i)},[s,i]);const o=I.useSyncExternalStore(I.useCallback(h=>s.subscribe(Xe.batchCalls(h)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),l=I.useCallback((h,m)=>{s.mutate(h,m).catch(Pn)},[s]);if(o.error&&CA(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}async function yP(i){const t=ki(Vi,"Users",i.uid),e=await jl(t);if(!e.exists())throw new Error(`User "${i.uid}" has no existing document.`);return console.log("User data fetched."),e.data()}async function vP(i,t){const e=ki(Vi,"Users",i.uid);await kd(e,t)}const Af=["black","black","black","black","black"];function _P(i){const[t,e]=I.useState(new Array(6).fill({word:"",colors:Af})),[s,o]=I.useState(new Map),l=I.useRef(0),h=I.useRef(1),[m,p]=I.useState(""),g=I.useRef(null);I.useRef(null);const E=I.useRef(!1),v=yv();return gP({mutationFn:vP,onSuccess:()=>{var b;v.invalidateQueries({queryKey:["user",(b=i.currentUser)==null?void 0:b.uid]})}}),I.useEffect(()=>{const b=async()=>{try{const U=ki(Vi,"Users",i.currentUser.uid),q=await jl(U);return console.log("User data fetched."),q.data()}catch(U){console.log(U.message)}},O=async()=>{try{g.current=await b();const U=g.current.statistics.gameModes[i.gameMode];U.playedToday&&(e([...U.currentState.guesses]),o(new Map(Object.entries(U.currentState.keyColors))),l.current=U.currentState.rowIndex,i.gameMode==="royale"&&(h.current=U.currentState.gameRound)),console.log("Game state loaded.")}catch(U){console.log(U.message)}};i.gameMode!=="practice"&&O()},[]),I.useEffect(()=>{const b=async()=>{console.log(h.current);const O=ki(Vi,"Users",i.currentUser.uid);g.current.statistics.gameModes[i.gameMode].playedToday=!0,g.current.statistics.gameModes[i.gameMode].currentState.guesses=t,g.current.statistics.gameModes[i.gameMode].currentState.keyColors=Object.fromEntries(s),g.current.statistics.gameModes[i.gameMode].currentState.rowIndex=l.current,i.gameMode==="royale"&&(g.current.statistics.gameModes[i.gameMode].currentState.gameRound=h.current);try{await kd(O,g.current),console.log("User data updated.")}catch(U){console.log(U.message)}};i.gameMode!=="practice"&&t[0]!==""&&g.current&&b()},[s]),R.jsxs(R.Fragment,{children:[i.gameMode==="classic"&&R.jsx(MV,{...i,guesses:t,setGuesses:e,keyColors:s,setKeyColors:o,rowIndex:l,baseColors:Af,userData:g,dailyStreak:E,gameResult:m,setGameResult:p}),i.gameMode==="royale"&&R.jsx(kV,{...i,guesses:t,setGuesses:e,keyColors:s,setKeyColors:o,rowIndex:l,gameRound:h,baseColors:Af,userData:g,gameResult:m,setGameResult:p}),i.gameMode==="practice"&&R.jsx(PV,{...i,guesses:t,setGuesses:e,keyColors:s,setKeyColors:o,rowIndex:l,baseColors:Af})]})}const LA=I.createContext({currentUser:null,loading:!0}),EP=()=>I.useContext(LA),UA=I.forwardRef(({bsPrefix:i,size:t,vertical:e=!1,className:s,role:o="group",as:l="div",...h},m)=>{const p=jt(i,"btn-group");let g=p;return e&&(g=`${p}-vertical`),R.jsx(l,{...h,ref:m,role:o,className:Mt(s,g,t&&`${p}-${t}`)})});UA.displayName="ButtonGroup";function TP({value:i,label:t}){return R.jsx("div",{className:"index-window flex-center",children:R.jsxs("div",{children:[R.jsx("span",{className:"index-value",children:i}),R.jsx("span",{className:"index-label",children:t})]})})}function ug({value:i,category:t}){return R.jsxs("div",{className:"stat-window flex-center",children:[R.jsx("span",{className:"stat-value",children:i}),R.jsx("span",{className:"stat-category",children:t})]})}const jA=I.createContext({data:[10,2,5,13,5],categories:[]});function dc({children:i,data:t,categories:e}){return R.jsx(jA,{value:{data:t,categories:e},children:R.jsx("div",{className:"bar-chart flex-center",children:R.jsx("div",{className:"chart",children:i})})})}function bP({axis:i="show",layout:t="horizontal"}){const{data:e,categories:s}=I.useContext(jA);return R.jsx("div",{className:"graph",children:e.map((o,l)=>R.jsxs("div",{className:`bar b-${l+1}`,style:{width:`${o!==0?o/Math.max(...e)*100:2}%`,height:"100%"},children:[R.jsx("span",{className:"category",children:s.length===e.length?s[l]:`category ${l+1}`}),R.jsx("span",{className:`value v-${l+1}`,children:o||""})]},l))})}function wP({children:i}){return R.jsx("div",{className:"header",children:R.jsx("h2",{children:i})})}dc.Header=wP;dc.Graph=bP;const SP=(i=!0)=>{const t=I.useRef(i),[e,s]=I.useState(t.current?"classic":"royale"),o=I.useCallback(()=>{t.current=!t.current,s(t.current?"classic":"royale")},[]);return[e,o]};function AP({statsOpen:i,toggleStats:t,userData:e}){const[s,o]=SP(!0),l=()=>{const m=e==null?void 0:e.statistics.gameModes[s].gamesGuessed.reduce((p,g,E)=>p+g*(E+1));return Math.round(m/(e==null?void 0:e.statistics.gameModes[s].gamesPlayed)*10)/10},h=()=>Math.round((e==null?void 0:e.statistics.gameModes[s].gamesGuessed.reduce((m,p)=>m+p))/(e==null?void 0:e.statistics.gameModes[s].gamesPlayed)*100);return R.jsx(R.Fragment,{children:R.jsxs(Fe,{show:i,onHide:t,children:[R.jsx(Fe.Header,{closeButton:!0,children:R.jsx(An,{className:"flex-center",children:R.jsx(Fe.Title,{children:s})})}),R.jsxs(Fe.Body,{children:[R.jsx("div",{className:"c-1 flex-center",children:R.jsxs(UA,{className:"me-2","aria-label":"First group",children:[R.jsx(Li,{onClick:()=>{s==="royale"&&o()},children:"Classic"}),R.jsx(Li,{onClick:()=>{s==="classic"&&o()},children:"Royale"})]})}),(e==null?void 0:e.statistics.gameModes[s].gamesPlayed)>=5?R.jsxs("div",{className:"stats-grid",children:[R.jsx("div",{className:"c-2",children:R.jsx(TP,{value:l(),label:"index"})}),R.jsx("div",{className:"c-3",children:R.jsx(ug,{value:e==null?void 0:e.statistics.gameModes[s].gamesPlayed,category:"Games played"})}),R.jsx("div",{className:"c-4",children:R.jsx(ug,{value:h()+"%",category:"Win rate"})}),R.jsx("div",{className:"c-5",children:R.jsx(ug,{value:5,category:"Daily streak"})}),R.jsx("div",{className:"c-6",children:R.jsxs(dc,{data:s==="classic"?e==null?void 0:e.statistics.gameModes[s].gamesGuessed:e==null?void 0:e.statistics.gameModes[s].gamesGuessed.toReversed(),categories:s==="classic"?[1,2,3,4,5,6]:[5,4,3,2,1],children:[R.jsx(dc.Header,{children:s==="classic"?"GUESS DISTRIBUTION":"ROUND DISTRIBUTION"}),R.jsx(dc.Graph,{axis:"show",layout:"vertical"})]})}),R.jsx("div",{className:"leader-board"})]}):R.jsxs("div",{className:"stats-lock flex-center",children:[R.jsx(FI,{className:"lock-svg"}),R.jsxs("div",{className:"lock-message",children:["Play ",5-(e==null?void 0:e.statistics.gameModes[s].gamesPlayed)," ","more"," ",5-(e==null?void 0:e.statistics.gameModes[s].gamesPlayed)===1?"game.":"games."]})]})]}),R.jsx(Fe.Footer,{className:"flex-center"})]})})}function RP(){const[i,t]=lI(!0),[e,s]=$a(!1),[o,l]=$a(!1),[h,m]=$a(!1),[p,g]=$a(!1),[E,v]=I.useState("practice"),{currentUser:b,loading:O}=EP(),{data:U,isLoading:q}=pP({queryFn:()=>yP(b),queryKey:["user",b==null?void 0:b.uid],enabled:!!b&&!O}),[k,et]=$a(!1);return document.querySelector("body").classList=`${i}`,R.jsxs(R.Fragment,{children:[R.jsx(DV,{darkMode:i,toggleDarkMode:t,toggleLogIn:l,currentUser:b,playWordle:e,togglePlayWordle:s,toggleStats:g}),R.jsx("main",{className:`flex-center ${i}`,children:e?R.jsx(_P,{darkMode:i,currentUser:b,userData:U,gameMode:E,togglePlayWordle:s,wordLength:5,numOfGuesses:6,toggleRestart:et},k):R.jsx(R.Fragment,{children:R.jsx(dk,{togglePlayWordle:s,gameMode:E,setGameMode:v,darkMode:i,currentUser:b})})}),R.jsx(lV,{logInOpen:o,toggleLogIn:l,toggleSignUp:m}),R.jsx(uV,{signUpOpen:h,toggleSignUp:m}),R.jsx(AP,{statsOpen:p,toggleStats:g,gameMode:E,setGameMode:v,userData:U})]})}function CP({children:i}){const[t,e]=I.useState(null),[s,o]=I.useState(!0);I.useEffect(()=>{const h=NO(Ac,m=>{e(m),o(!1)});return()=>h()},[]);const l={currentUser:t,loading:s};return R.jsx(LA.Provider,{value:l,children:!s&&i})}const IP=new ZV;vC.createRoot(document.getElementById("root")).render(R.jsx(I.StrictMode,{children:R.jsx(CP,{children:R.jsx(iP,{client:IP,children:R.jsx(RP,{})})})}));
