(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Ff(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pm={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function qw(){if(q_)return ql;q_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return ql.Fragment=t,ql.jsx=n,ql.jsxs=n,ql}var F_;function Fw(){return F_||(F_=1,pm.exports=qw()),pm.exports}var C=Fw(),gm={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function Gw(){if(G_)return Vt;G_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),_=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=_&&D[_]||D["@@iterator"],typeof D=="function"?D:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,W={};function U(D,$,et){this.props=D,this.context=$,this.refs=W,this.updater=et||L}U.prototype.isReactComponent={},U.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},U.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ot(){}ot.prototype=U.prototype;function dt(D,$,et){this.props=D,this.context=$,this.refs=W,this.updater=et||L}var nt=dt.prototype=new ot;nt.constructor=dt,z(nt,U.prototype),nt.isPureReactComponent=!0;var ut=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},lt=Object.prototype.hasOwnProperty;function O(D,$,et,Q,ct,_t){return et=_t.ref,{$$typeof:i,type:D,key:$,ref:et!==void 0?et:null,props:_t}}function A(D,$){return O(D.type,$,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function M(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return $[et]})}var V=/\/+/g;function P(D,$){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):$.toString(36)}function I(){}function Et(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Mt(D,$,et,Q,ct){var _t=typeof D;(_t==="undefined"||_t==="boolean")&&(D=null);var mt=!1;if(D===null)mt=!0;else switch(_t){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(D.$$typeof){case i:case t:mt=!0;break;case T:return mt=D._init,Mt(mt(D._payload),$,et,Q,ct)}}if(mt)return ct=ct(D),mt=Q===""?"."+P(D,0):Q,ut(ct)?(et="",mt!=null&&(et=mt.replace(V,"$&/")+"/"),Mt(ct,$,et,"",function(_e){return _e})):ct!=null&&(R(ct)&&(ct=A(ct,et+(ct.key==null||D&&D.key===ct.key?"":(""+ct.key).replace(V,"$&/")+"/")+mt)),$.push(ct)),1;mt=0;var ne=Q===""?".":Q+":";if(ut(D))for(var Bt=0;Bt<D.length;Bt++)Q=D[Bt],_t=ne+P(Q,Bt),mt+=Mt(Q,$,et,_t,ct);else if(Bt=S(D),typeof Bt=="function")for(D=Bt.call(D),Bt=0;!(Q=D.next()).done;)Q=Q.value,_t=ne+P(Q,Bt++),mt+=Mt(Q,$,et,_t,ct);else if(_t==="object"){if(typeof D.then=="function")return Mt(Et(D),$,et,Q,ct);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return mt}function B(D,$,et){if(D==null)return D;var Q=[],ct=0;return Mt(D,Q,"","",function(_t){return $.call(et,_t,ct++)}),Q}function it(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var ft=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Rt(){}return Vt.Children={map:B,forEach:function(D,$,et){B(D,function(){$.apply(this,arguments)},et)},count:function(D){var $=0;return B(D,function(){$++}),$},toArray:function(D){return B(D,function($){return $})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Vt.Component=U,Vt.Fragment=n,Vt.Profiler=o,Vt.PureComponent=dt,Vt.StrictMode=s,Vt.Suspense=p,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return at.H.useMemoCache(D)}},Vt.cache=function(D){return function(){return D.apply(null,arguments)}},Vt.cloneElement=function(D,$,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Q=z({},D.props),ct=D.key,_t=void 0;if($!=null)for(mt in $.ref!==void 0&&(_t=void 0),$.key!==void 0&&(ct=""+$.key),$)!lt.call($,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&$.ref===void 0||(Q[mt]=$[mt]);var mt=arguments.length-2;if(mt===1)Q.children=et;else if(1<mt){for(var ne=Array(mt),Bt=0;Bt<mt;Bt++)ne[Bt]=arguments[Bt+2];Q.children=ne}return O(D.type,ct,void 0,void 0,_t,Q)},Vt.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Vt.createElement=function(D,$,et){var Q,ct={},_t=null;if($!=null)for(Q in $.key!==void 0&&(_t=""+$.key),$)lt.call($,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ct[Q]=$[Q]);var mt=arguments.length-2;if(mt===1)ct.children=et;else if(1<mt){for(var ne=Array(mt),Bt=0;Bt<mt;Bt++)ne[Bt]=arguments[Bt+2];ct.children=ne}if(D&&D.defaultProps)for(Q in mt=D.defaultProps,mt)ct[Q]===void 0&&(ct[Q]=mt[Q]);return O(D,_t,void 0,void 0,null,ct)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(D){return{$$typeof:m,render:D}},Vt.isValidElement=R,Vt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:it}},Vt.memo=function(D,$){return{$$typeof:g,type:D,compare:$===void 0?null:$}},Vt.startTransition=function(D){var $=at.T,et={};at.T=et;try{var Q=D(),ct=at.S;ct!==null&&ct(et,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Rt,ft)}catch(_t){ft(_t)}finally{at.T=$}},Vt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Vt.use=function(D){return at.H.use(D)},Vt.useActionState=function(D,$,et){return at.H.useActionState(D,$,et)},Vt.useCallback=function(D,$){return at.H.useCallback(D,$)},Vt.useContext=function(D){return at.H.useContext(D)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(D,$){return at.H.useDeferredValue(D,$)},Vt.useEffect=function(D,$,et){var Q=at.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(D,$)},Vt.useId=function(){return at.H.useId()},Vt.useImperativeHandle=function(D,$,et){return at.H.useImperativeHandle(D,$,et)},Vt.useInsertionEffect=function(D,$){return at.H.useInsertionEffect(D,$)},Vt.useLayoutEffect=function(D,$){return at.H.useLayoutEffect(D,$)},Vt.useMemo=function(D,$){return at.H.useMemo(D,$)},Vt.useOptimistic=function(D,$){return at.H.useOptimistic(D,$)},Vt.useReducer=function(D,$,et){return at.H.useReducer(D,$,et)},Vt.useRef=function(D){return at.H.useRef(D)},Vt.useState=function(D){return at.H.useState(D)},Vt.useSyncExternalStore=function(D,$,et){return at.H.useSyncExternalStore(D,$,et)},Vt.useTransition=function(){return at.H.useTransition()},Vt.version="19.1.0",Vt}var K_;function Ep(){return K_||(K_=1,gm.exports=Gw()),gm.exports}var N=Ep();const rt=Ff(N);var ym={exports:{}},Fl={},vm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function Kw(){return $_||($_=1,function(i){function t(B,it){var ft=B.length;B.push(it);t:for(;0<ft;){var Rt=ft-1>>>1,D=B[Rt];if(0<o(D,it))B[Rt]=it,B[ft]=D,ft=Rt;else break t}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var it=B[0],ft=B.pop();if(ft!==it){B[0]=ft;t:for(var Rt=0,D=B.length,$=D>>>1;Rt<$;){var et=2*(Rt+1)-1,Q=B[et],ct=et+1,_t=B[ct];if(0>o(Q,ft))ct<D&&0>o(_t,Q)?(B[Rt]=_t,B[ct]=ft,Rt=ct):(B[Rt]=Q,B[et]=ft,Rt=et);else if(ct<D&&0>o(_t,ft))B[Rt]=_t,B[ct]=ft,Rt=ct;else break t}}return it}function o(B,it){var ft=B.sortIndex-it.sortIndex;return ft!==0?ft:B.id-it.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],T=1,_=null,S=3,L=!1,z=!1,W=!1,U=!1,ot=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function ut(B){for(var it=n(g);it!==null;){if(it.callback===null)s(g);else if(it.startTime<=B)s(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(g)}}function at(B){if(W=!1,ut(B),!z)if(n(p)!==null)z=!0,lt||(lt=!0,P());else{var it=n(g);it!==null&&Mt(at,it.startTime-B)}}var lt=!1,O=-1,A=5,R=-1;function M(){return U?!0:!(i.unstable_now()-R<A)}function V(){if(U=!1,lt){var B=i.unstable_now();R=B;var it=!0;try{t:{z=!1,W&&(W=!1,dt(O),O=-1),L=!0;var ft=S;try{e:{for(ut(B),_=n(p);_!==null&&!(_.expirationTime>B&&M());){var Rt=_.callback;if(typeof Rt=="function"){_.callback=null,S=_.priorityLevel;var D=Rt(_.expirationTime<=B);if(B=i.unstable_now(),typeof D=="function"){_.callback=D,ut(B),it=!0;break e}_===n(p)&&s(p),ut(B)}else s(p);_=n(p)}if(_!==null)it=!0;else{var $=n(g);$!==null&&Mt(at,$.startTime-B),it=!1}}break t}finally{_=null,S=ft,L=!1}it=void 0}}finally{it?P():lt=!1}}}var P;if(typeof nt=="function")P=function(){nt(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Et=I.port2;I.port1.onmessage=V,P=function(){Et.postMessage(null)}}else P=function(){ot(V,0)};function Mt(B,it){O=ot(function(){B(i.unstable_now())},it)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(B){switch(S){case 1:case 2:case 3:var it=3;break;default:it=S}var ft=S;S=it;try{return B()}finally{S=ft}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(B,it){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ft=S;S=B;try{return it()}finally{S=ft}},i.unstable_scheduleCallback=function(B,it,ft){var Rt=i.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Rt+ft:Rt):ft=Rt,B){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ft+D,B={id:T++,callback:it,priorityLevel:B,startTime:ft,expirationTime:D,sortIndex:-1},ft>Rt?(B.sortIndex=ft,t(g,B),n(p)===null&&B===n(g)&&(W?(dt(O),O=-1):W=!0,Mt(at,ft-Rt))):(B.sortIndex=D,t(p,B),z||L||(z=!0,lt||(lt=!0,P()))),B},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(B){var it=S;return function(){var ft=S;S=it;try{return B.apply(this,arguments)}finally{S=ft}}}}(_m)),_m}var Y_;function $w(){return Y_||(Y_=1,vm.exports=Kw()),vm.exports}var Em={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function Yw(){if(Q_)return fn;Q_=1;var i=Ep();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:g,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,T)},fn.flushSync=function(p){var g=h.T,T=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=T,s.d.f()}},fn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},fn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},fn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,_=m(T,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:L}):T==="script"&&s.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},fn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,_=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},fn.requestFormReset=function(p){s.d.r(p)},fn.unstable_batchedUpdates=function(p,g){return p(g)},fn.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},fn.useFormStatus=function(){return h.H.useHostTransitionStatus()},fn.version="19.1.0",fn}var X_;function $E(){if(X_)return Em.exports;X_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Em.exports=Yw(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function Qw(){if(W_)return Fl;W_=1;var i=$w(),t=Ep(),n=$E();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),e;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=d;break}if(b===l){E=!0,l=f,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=f;break}if(b===l){E=!0,l=d,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),ot=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case U:return"Profiler";case W:return"StrictMode";case at:return"Suspense";case lt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case nt:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case ut:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return r=e.displayName||null,r!==null?r:Et(e.type)||"Memo";case A:r=e._payload,e=e._init;try{return Et(e(r))}catch{}}return null}var Mt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Rt=[],D=-1;function $(e){return{current:e}}function et(e){0>D||(e.current=Rt[D],Rt[D]=null,D--)}function Q(e,r){D++,Rt[D]=e.current,e.current=r}var ct=$(null),_t=$(null),mt=$(null),ne=$(null);function Bt(e,r){switch(Q(mt,r),Q(_t,e),Q(ct,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?y_(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=y_(r),e=v_(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ct),Q(ct,e)}function _e(){et(ct),et(_t),et(mt)}function we(e){e.memoizedState!==null&&Q(ne,e);var r=ct.current,a=v_(r,e.type);r!==a&&(Q(_t,e),Q(ct,a))}function un(e){_t.current===e&&(et(ct),et(_t)),ne.current===e&&(et(ne),Ul._currentValue=ft)}var Ze=Object.prototype.hasOwnProperty,yn=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Xt=i.unstable_shouldYield,Gn=i.unstable_requestPaint,he=i.unstable_now,Pr=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,yi=i.unstable_UserBlockingPriority,si=i.unstable_NormalPriority,Pe=i.unstable_LowPriority,vn=i.unstable_IdlePriority,vi=i.log,Lr=i.unstable_setDisableYieldValue,yt=null,Ut=null;function Le(e){if(typeof vi=="function"&&Lr(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(yt,e)}catch{}}var Ne=Math.clz32?Math.clz32:An,ai=Math.log,Sa=Math.LN2;function An(e){return e>>>=0,e===0?32:31-(ai(e)/Sa|0)|0}var Fi=256,Gi=4194304;function Rn(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ki(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Rn(l):(E&=b,E!==0?f=Rn(E):a||(a=b&~e,a!==0&&(f=Rn(a))))):(b=l&~d,b!==0?f=Rn(b):E!==0?f=Rn(E):a||(a=l&~e,a!==0&&(f=Rn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function $i(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Yi(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cn(){var e=Fi;return Fi<<=1,(Fi&4194048)===0&&(Fi=256),e}function Ms(){var e=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),e}function oi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Kn(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ur(e,r,a,l,f,d){var E=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,x=e.expirationTimes,F=e.hiddenUpdates;for(a=E&~a;0<a;){var X=31-Ne(a),J=1<<X;b[X]=0,x[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&bt(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~r))}function bt(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-Ne(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function de(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-Ne(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vn(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:L_(e.type))}function Ee(e,r){var a=it.p;try{return it.p=e,r()}finally{it.p=a}}var zt=Math.random().toString(36).slice(2),me="__reactFiber$"+zt,Wt="__reactProps$"+zt,pe="__reactContainer$"+zt,jr="__reactEvents$"+zt,li="__reactListeners$"+zt,Qi="__reactHandles$"+zt,xu="__reactResources$"+zt,Vs="__reactMarker$"+zt;function Br(e){delete e[me],delete e[Wt],delete e[jr],delete e[li],delete e[Qi]}function Xi(e){var r=e[me];if(r)return r;for(var a=e.parentNode;a;){if(r=a[pe]||a[me]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=b_(e);e!==null;){if(a=e[me])return a;e=b_(e)}return r}e=a,a=e.parentNode}return null}function _i(e){if(e=e[me]||e[pe]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function Ei(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function _n(e){var r=e[xu];return r||(r=e[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ae(e){e[Vs]=!0}var Fo=new Set,wa={};function ui(e,r){Wi(e,r),Wi(e+"Capture",r)}function Wi(e,r){for(wa[e]=r,e=0;e<r.length;e++)Fo.add(r[e])}var Ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Du={},ks={};function Mu(e){return Ze.call(ks,e)?!0:Ze.call(Du,e)?!1:Ou.test(e)?ks[e]=!0:(Du[e]=!0,!1)}function zr(e,r,a){if(Mu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Ti(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function tn(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}var Ps,Vu;function Zi(e){if(Ps===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ps=r&&r[1]||"",Vu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+e+Vu}var Aa=!1;function Ra(e,r){if(!e||Aa)return"";Aa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var G=K}Reflect.construct(e,[],J)}else{try{J.call()}catch(K){G=K}e.call(J.prototype)}}else{try{throw Error()}catch(K){G=K}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var x=E.split(`
`),F=b.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===F.length)for(l=x.length-1,f=F.length-1;1<=l&&0<=f&&x[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==F[f]){var X=`
`+x[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=f);break}}}finally{Aa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Zi(a):""}function Go(e){switch(e.tag){case 26:case 27:case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return Ra(e.type,!1);case 11:return Ra(e.type.render,!1);case 1:return Ra(e.type,!0);case 31:return Zi("Activity");default:return""}}function Ca(e){try{var r="";do r+=Go(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function En(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ko(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _h(e){var r=Ko(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Ia(e){e._valueTracker||(e._valueTracker=_h(e))}function $o(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Ko(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Eh=/[\n"\\]/g;function Oe(e){return e.replace(Eh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function kn(e,r,a,l,f,d,E,b){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),r!=null?E==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+En(r)):e.value!==""+En(r)&&(e.value=""+En(r)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),r!=null?Hr(e,E,En(r)):a!=null?Hr(e,E,En(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+En(b):e.removeAttribute("name")}function Us(e,r,a,l,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+En(a):"",r=r!=null?""+En(r):a,b||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function Hr(e,r,a){r==="number"&&Ls(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ji(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+En(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function se(e,r,a){if(r!=null&&(r=""+En(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+En(a):""}function js(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=En(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function $n(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ku(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Bs.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Yo(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&ku(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&ku(e,d,r[d])}function Qo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(e){return bh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var tr=null;function Yn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var er=null,nr=null;function Xo(e){var r=_i(e);if(r&&(e=r.stateNode)){var a=e[Wt]||null;t:switch(e=r.stateNode,r.type){case"input":if(kn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Oe(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[Wt]||null;if(!f)throw Error(s(90));kn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&$o(l)}break t;case"textarea":se(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ji(e,!!a.multiple,r,!1)}}}var bi=!1;function Pu(e,r,a){if(bi)return e(r,a);bi=!0;try{var l=e(r);return l}finally{if(bi=!1,(er!==null||nr!==null)&&(Nc(),er&&(r=er,e=nr,nr=er=null,Xo(r),e)))for(r=0;r<e.length;r++)Xo(e[r])}}function zs(e,r){var a=e.stateNode;if(a===null)return null;var l=a[Wt]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qn=!1;if(ci)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Qn=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Qn=!1}var Si=null,qr=null,ir=null;function Wo(){if(ir)return ir;var e,r=qr,a=r.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var E=a-e;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return ir=f.slice(e,1<l?1-l:void 0)}function wi(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Zo(){return!1}function Ke(e){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ai:Zo,this.isPropagationStopped=Zo,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),r}var te={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Ke(te),qs=T({},te,{view:0,detail:0}),Lu=Ke(qs),Oa,Da,Ri,Fs=T({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(Oa=e.screenX-Ri.screenX,Da=e.screenY-Ri.screenY):Da=Oa=0,Ri=e),Oa)},movementY:function(e){return"movementY"in e?e.movementY:Da}}),Xn=Ke(Fs),Uu=T({},Fs,{dataTransfer:0}),Sh=Ke(Uu),Gs=T({},qs,{relatedTarget:0}),Ma=Ke(Gs),Jo=T({},te,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=Ke(Jo),ju=T({},te,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ka=Ke(ju),wh=T({},te,{data:0}),tl=Ke(wh),Ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=zu[e])?!!r[e]:!1}function $s(){return el}var Hu=T({},qs,{key:function(e){if(e.key){var r=Ks[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=wi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(e){return e.type==="keypress"?wi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pa=Ke(Hu),qu=T({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Ke(qu),rr=T({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),Fu=Ke(rr),Gu=T({},te,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=Ke(Gu),$u=T({},Fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),La=Ke($u),Tn=T({},te,{newState:0,oldState:0}),Yu=Ke(Tn),Qu=[9,13,27,32],Ci=ci&&"CompositionEvent"in window,c=null;ci&&"documentMode"in document&&(c=document.documentMode);var y=ci&&"TextEvent"in window&&!c,v=ci&&(!Ci||c&&8<c&&11>=c),w=" ",H=!1;function Y(e,r){switch(e){case"keyup":return Qu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ht(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kt=!1;function Ue(e,r){switch(e){case"compositionend":return ht(r);case"keypress":return r.which!==32?null:(H=!0,w);case"textInput":return e=r.data,e===w&&H?null:e;default:return null}}function $t(e,r){if(Kt)return e==="compositionend"||!Ci&&Y(e,r)?(e=Wo(),ir=qr=Si=null,Kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var $e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function je(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!$e[e.type]:r==="textarea"}function sr(e,r,a,l){er?nr?nr.push(l):nr=[l]:er=l,r=kc(r,"onChange"),0<r.length&&(a=new xa("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var en=null,Ii=null;function il(e){h_(e,0)}function Xu(e){var r=Ei(e);if($o(r))return e}function Mg(e,r){if(e==="change")return r}var Vg=!1;if(ci){var Ah;if(ci){var Rh="oninput"in document;if(!Rh){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Rh=typeof kg.oninput=="function"}Ah=Rh}else Ah=!1;Vg=Ah&&(!document.documentMode||9<document.documentMode)}function Pg(){en&&(en.detachEvent("onpropertychange",Lg),Ii=en=null)}function Lg(e){if(e.propertyName==="value"&&Xu(Ii)){var r=[];sr(r,Ii,e,Yn(e)),Pu(il,r)}}function _S(e,r,a){e==="focusin"?(Pg(),en=r,Ii=a,en.attachEvent("onpropertychange",Lg)):e==="focusout"&&Pg()}function ES(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xu(Ii)}function TS(e,r){if(e==="click")return Xu(r)}function bS(e,r){if(e==="input"||e==="change")return Xu(r)}function SS(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Pn=typeof Object.is=="function"?Object.is:SS;function rl(e,r){if(Pn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ze.call(r,f)||!Pn(e[f],r[f]))return!1}return!0}function Ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jg(e,r){var a=Ug(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ug(a)}}function Bg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Bg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function zg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Ls(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Ls(e.document)}return r}function Ch(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var wS=ci&&"documentMode"in document&&11>=document.documentMode,Ua=null,Ih=null,sl=null,Nh=!1;function Hg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nh||Ua==null||Ua!==Ls(l)||(l=Ua,"selectionStart"in l&&Ch(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&rl(sl,l)||(sl=l,l=kc(Ih,"onSelect"),0<l.length&&(r=new xa("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Ua)))}function Ys(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var ja={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},xh={},qg={};ci&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Qs(e){if(xh[e])return xh[e];if(!ja[e])return e;var r=ja[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in qg)return xh[e]=r[a];return e}var Fg=Qs("animationend"),Gg=Qs("animationiteration"),Kg=Qs("animationstart"),AS=Qs("transitionrun"),RS=Qs("transitionstart"),CS=Qs("transitioncancel"),$g=Qs("transitionend"),Yg=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function fi(e,r){Yg.set(e,r),ui(r,[e])}var Qg=new WeakMap;function Wn(e,r){if(typeof e=="object"&&e!==null){var a=Qg.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Ca(r)},Qg.set(e,r),r)}return{value:e,source:r,stack:Ca(r)}}var Zn=[],Ba=0,Dh=0;function Wu(){for(var e=Ba,r=Dh=Ba=0;r<e;){var a=Zn[r];Zn[r++]=null;var l=Zn[r];Zn[r++]=null;var f=Zn[r];Zn[r++]=null;var d=Zn[r];if(Zn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Xg(a,f,d)}}function Zu(e,r,a,l){Zn[Ba++]=e,Zn[Ba++]=r,Zn[Ba++]=a,Zn[Ba++]=l,Dh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Mh(e,r,a,l){return Zu(e,r,a,l),Ju(e)}function za(e,r){return Zu(e,null,null,r),Ju(e)}function Xg(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-Ne(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ju(e){if(50<xl)throw xl=0,jd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Ha={};function IS(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,r,a,l){return new IS(e,r,a,l)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ar(e,r){var a=e.alternate;return a===null?(a=Ln(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Wg(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function tc(e,r,a,l,f,d){var E=0;if(l=e,typeof e=="function")Vh(e)&&(E=1);else if(typeof e=="string")E=xw(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Ln(31,a,r,f),e.elementType=R,e.lanes=d,e;case z:return Xs(a.children,f,d,r);case W:E=8,f|=24;break;case U:return e=Ln(12,a,r,f|2),e.elementType=U,e.lanes=d,e;case at:return e=Ln(13,a,r,f),e.elementType=at,e.lanes=d,e;case lt:return e=Ln(19,a,r,f),e.elementType=lt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:case nt:E=10;break t;case dt:E=9;break t;case ut:E=11;break t;case O:E=14;break t;case A:E=16,l=null;break t}E=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=Ln(E,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function Xs(e,r,a,l){return e=Ln(7,e,l,r),e.lanes=a,e}function kh(e,r,a){return e=Ln(6,e,null,r),e.lanes=a,e}function Ph(e,r,a){return r=Ln(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var qa=[],Fa=0,ec=null,nc=0,Jn=[],ti=0,Ws=null,or=1,lr="";function Zs(e,r){qa[Fa++]=nc,qa[Fa++]=ec,ec=e,nc=r}function Zg(e,r,a){Jn[ti++]=or,Jn[ti++]=lr,Jn[ti++]=Ws,Ws=e;var l=or;e=lr;var f=32-Ne(l)-1;l&=~(1<<f),a+=1;var d=32-Ne(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,or=1<<32-Ne(r)+f|a<<f|l,lr=d+e}else or=1<<d|a<<f|l,lr=e}function Lh(e){e.return!==null&&(Zs(e,1),Zg(e,1,0))}function Uh(e){for(;e===ec;)ec=qa[--Fa],qa[Fa]=null,nc=qa[--Fa],qa[Fa]=null;for(;e===Ws;)Ws=Jn[--ti],Jn[ti]=null,lr=Jn[--ti],Jn[ti]=null,or=Jn[--ti],Jn[ti]=null}var bn=null,Te=null,Jt=!1,Js=null,Ni=!1,jh=Error(s(519));function ta(e){var r=Error(s(418,""));throw ll(Wn(r,e)),jh}function Jg(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[me]=e,r[Wt]=l,a){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(a=0;a<Dl.length;a++)qt(Dl[a],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":qt("invalid",r),Us(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ia(r);break;case"select":qt("invalid",r);break;case"textarea":qt("invalid",r),js(r,l.value,l.defaultValue,l.children),Ia(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||g_(r.textContent,a)?(l.popover!=null&&(qt("beforetoggle",r),qt("toggle",r)),l.onScroll!=null&&qt("scroll",r),l.onScrollEnd!=null&&qt("scrollend",r),l.onClick!=null&&(r.onclick=Pc),r=!0):r=!1,r||ta(e)}function ty(e){for(bn=e.return;bn;)switch(bn.tag){case 5:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:bn=bn.return}}function al(e){if(e!==bn)return!1;if(!Jt)return ty(e),Jt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||em(e.type,e.memoizedProps)),a=!a),a&&Te&&ta(e),ty(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){Te=di(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}Te=null}}else r===27?(r=Te,ss(e.type)?(e=sm,sm=null,Te=e):Te=r):Te=bn?di(e.stateNode.nextSibling):null;return!0}function ol(){Te=bn=null,Jt=!1}function ey(){var e=Js;return e!==null&&(xn===null?xn=e:xn.push.apply(xn,e),Js=null),e}function ll(e){Js===null?Js=[e]:Js.push(e)}var Bh=$(null),ea=null,ur=null;function Fr(e,r,a){Q(Bh,r._currentValue),r._currentValue=a}function cr(e){e._currentValue=Bh.current,et(Bh)}function zh(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Hh(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=f;for(var x=0;x<r.length;x++)if(b.context===r[x]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),zh(d.return,a,e),l||(E=null);break t}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),zh(E,a,e),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===e){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ul(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;Pn(f.pendingProps.value,E.value)||(e!==null?e.push(b):e=[b])}}else if(f===ne.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ul):e=[Ul])}f=f.return}e!==null&&Hh(r,e,a,l),r.flags|=262144}function ic(e){for(e=e.firstContext;e!==null;){if(!Pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){ea=e,ur=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function cn(e){return ny(ea,e)}function rc(e,r){return ea===null&&na(e),ny(e,r)}function ny(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ur===null){if(e===null)throw Error(s(308));ur=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else ur=ur.next=r;return a}var NS=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},xS=i.unstable_scheduleCallback,OS=i.unstable_NormalPriority,Be={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new NS,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&xS(OS,function(){e.controller.abort()})}var fl=null,Fh=0,Ga=0,Ka=null;function DS(e,r){if(fl===null){var a=fl=[];Fh=0,Ga=Kd(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Fh++,r.then(iy,iy),r}function iy(){if(--Fh===0&&fl!==null){Ka!==null&&(Ka.status="fulfilled");var e=fl;fl=null,Ga=0,Ka=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function MS(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ry=B.S;B.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&DS(e,r),ry!==null&&ry(e,r)};var ia=$(null);function Gh(){var e=ia.current;return e!==null?e:ce.pooledCache}function sc(e,r){r===null?Q(ia,ia.current):Q(ia,r.pool)}function sy(){var e=Gh();return e===null?null:{parent:Be._currentValue,pool:e}}var hl=Error(s(460)),ay=Error(s(474)),ac=Error(s(542)),Kh={then:function(){}};function oy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function oc(){}function ly(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(oc,oc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,cy(e),e;default:if(typeof r.status=="string")r.then(oc,oc);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,cy(e),e}throw dl=r,hl}}var dl=null;function uy(){if(dl===null)throw Error(s(459));var e=dl;return dl=null,e}function cy(e){if(e===hl||e===ac)throw Error(s(483))}var Gr=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $r(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ie&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Ju(e),Xg(e,null,a),r}return Zu(e,l,r,a),Ju(e)}function ml(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,de(e,a)}}function Qh(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Xh=!1;function pl(){if(Xh){var e=Ka;if(e!==null)throw e}}function gl(e,r,a,l){Xh=!1;var f=e.updateQueue;Gr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var x=b,F=x.next;x.next=null,E===null?d=F:E.next=F,E=x;var X=e.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==E&&(b===null?X.firstBaseUpdate=F:b.next=F,X.lastBaseUpdate=x))}if(d!==null){var J=f.baseState;E=0,X=F=x=null,b=d;do{var G=b.lane&-536870913,K=G!==b.lane;if(K?(Yt&G)===G:(l&G)===G){G!==0&&G===Ga&&(Xh=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var It=e,St=b;G=r;var le=a;switch(St.tag){case 1:if(It=St.payload,typeof It=="function"){J=It.call(le,J,G);break t}J=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=St.payload,G=typeof It=="function"?It.call(le,J,G):It,G==null)break t;J=T({},J,G);break t;case 2:Gr=!0}}G=b.callback,G!==null&&(e.flags|=64,K&&(e.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(F=X=K,x=J):X=X.next=K,E|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);X===null&&(x=J),f.baseState=x,f.firstBaseUpdate=F,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),es|=E,e.lanes=E,e.memoizedState=J}}function fy(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function hy(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)fy(a[e],r)}var $a=$(null),lc=$(0);function dy(e,r){e=yr,Q(lc,e),Q($a,r),yr=e|r.baseLanes}function Wh(){Q(lc,yr),Q($a,$a.current)}function Zh(){yr=lc.current,et($a),et(lc)}var Yr=0,kt=null,ae=null,De=null,uc=!1,Ya=!1,ra=!1,cc=0,yl=0,Qa=null,VS=0;function Re(){throw Error(s(321))}function Jh(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Pn(e[a],r[a]))return!1;return!0}function td(e,r,a,l,f,d){return Yr=d,kt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=e===null||e.memoizedState===null?Xy:Wy,ra=!1,d=a(l,f),ra=!1,Ya&&(d=py(r,a,l,f)),my(e),d}function my(e){B.H=gc;var r=ae!==null&&ae.next!==null;if(Yr=0,De=ae=kt=null,uc=!1,yl=0,Qa=null,r)throw Error(s(300));e===null||Ye||(e=e.dependencies,e!==null&&ic(e)&&(Ye=!0))}function py(e,r,a,l){kt=e;var f=0;do{if(Ya&&(Qa=null),yl=0,Ya=!1,25<=f)throw Error(s(301));if(f+=1,De=ae=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=zS,d=r(a,l)}while(Ya);return d}function kS(){var e=B.H,r=e.useState()[0];return r=typeof r.then=="function"?vl(r):r,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(kt.flags|=1024),r}function ed(){var e=cc!==0;return cc=0,e}function nd(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function id(e){if(uc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}uc=!1}Yr=0,De=ae=kt=null,Ya=!1,yl=cc=0,Qa=null}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?kt.memoizedState=De=e:De=De.next=e,De}function Me(){if(ae===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var r=De===null?kt.memoizedState:De.next;if(r!==null)De=r,ae=e;else{if(e===null)throw kt.alternate===null?Error(s(467)):Error(s(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},De===null?kt.memoizedState=De=e:De=De.next=e}return De}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var r=yl;return yl+=1,Qa===null&&(Qa=[]),e=ly(Qa,e,r),r=kt,(De===null?r.memoizedState:De.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?Xy:Wy),e}function fc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===nt)return cn(e)}throw Error(s(438,String(e)))}function sd(e){var r=null,a=kt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=rd(),kt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=M;return r.index++,a}function fr(e,r){return typeof r=="function"?r(e):r}function hc(e){var r=Me();return ad(r,ae,e)}function ad(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var b=E=null,x=null,F=r,X=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Yt&J)===J:(Yr&J)===J){var G=F.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===Ga&&(X=!0);else if((Yr&G)===G){F=F.next,G===Ga&&(X=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(b=x=J,E=d):x=x.next=J,kt.lanes|=G,es|=G;J=F.action,ra&&a(d,J),d=F.hasEagerState?F.eagerState:a(d,J)}else G={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(b=x=G,E=d):x=x.next=G,kt.lanes|=J,es|=J;F=F.next}while(F!==null&&F!==r);if(x===null?E=d:x.next=b,!Pn(d,e.memoizedState)&&(Ye=!0,X&&(a=Ka,a!==null)))throw a;e.memoizedState=d,e.baseState=E,e.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function od(e){var r=Me(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=e(d,E.action),E=E.next;while(E!==f);Pn(d,r.memoizedState)||(Ye=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function gy(e,r,a){var l=kt,f=Me(),d=Jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!Pn((ae||f).memoizedState,a);E&&(f.memoizedState=a,Ye=!0),f=f.queue;var b=_y.bind(null,l,f,e);if(_l(2048,8,b,[e]),f.getSnapshot!==r||E||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,Xa(9,dc(),vy.bind(null,l,f,a,r),null),ce===null)throw Error(s(349));d||(Yr&124)!==0||yy(l,r,a)}return a}function yy(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=kt.updateQueue,r===null?(r=rd(),kt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function vy(e,r,a,l){r.value=a,r.getSnapshot=l,Ey(r)&&Ty(e)}function _y(e,r,a){return a(function(){Ey(r)&&Ty(e)})}function Ey(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Pn(e,a)}catch{return!0}}function Ty(e){var r=za(e,2);r!==null&&Hn(r,e,2)}function ld(e){var r=In();if(typeof e=="function"){var a=e;if(e=a(),ra){Le(!0);try{a()}finally{Le(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:e},r}function by(e,r,a,l){return e.baseState=a,ad(e,ae,typeof l=="function"?l:fr)}function PS(e,r,a,l,f){if(pc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};B.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Sy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Sy(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=B.T,E={};B.T=E;try{var b=a(f,l),x=B.S;x!==null&&x(E,b),wy(e,r,b)}catch(F){ud(e,r,F)}finally{B.T=d}}else try{d=a(f,l),wy(e,r,d)}catch(F){ud(e,r,F)}}function wy(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ay(e,r,l)},function(l){return ud(e,r,l)}):Ay(e,r,a)}function Ay(e,r,a){r.status="fulfilled",r.value=a,Ry(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,Sy(e,a)))}function ud(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ry(r),r=r.next;while(r!==l)}e.action=null}function Ry(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Cy(e,r){return r}function Iy(e,r){if(Jt){var a=ce.formState;if(a!==null){t:{var l=kt;if(Jt){if(Te){e:{for(var f=Te,d=Ni;f.nodeType!==8;){if(!d){f=null;break e}if(f=di(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Te=di(f.nextSibling),l=f.data==="F!";break t}}ta(l)}l=!1}l&&(r=a[0])}}return a=In(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:r},a.queue=l,a=$y.bind(null,kt,l),l.dispatch=a,l=ld(!1),d=md.bind(null,kt,!1,l.queue),l=In(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=PS.bind(null,kt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function Ny(e){var r=Me();return xy(r,ae,e)}function xy(e,r,a){if(r=ad(e,r,Cy)[0],e=hc(fr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=vl(r)}catch(E){throw E===hl?ac:E}else l=r;r=Me();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(kt.flags|=2048,Xa(9,dc(),LS.bind(null,f,a),null)),[l,d,e]}function LS(e,r){e.action=r}function Oy(e){var r=Me(),a=ae;if(a!==null)return xy(r,a,e);Me(),r=r.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Xa(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=kt.updateQueue,r===null&&(r=rd(),kt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function dc(){return{destroy:void 0,resource:void 0}}function Dy(){return Me().memoizedState}function mc(e,r,a,l){var f=In();l=l===void 0?null:l,kt.flags|=e,f.memoizedState=Xa(1|r,dc(),a,l)}function _l(e,r,a,l){var f=Me();l=l===void 0?null:l;var d=f.memoizedState.inst;ae!==null&&l!==null&&Jh(l,ae.memoizedState.deps)?f.memoizedState=Xa(r,d,a,l):(kt.flags|=e,f.memoizedState=Xa(1|r,d,a,l))}function My(e,r){mc(8390656,8,e,r)}function Vy(e,r){_l(2048,8,e,r)}function ky(e,r){return _l(4,2,e,r)}function Py(e,r){return _l(4,4,e,r)}function Ly(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Uy(e,r,a){a=a!=null?a.concat([e]):null,_l(4,4,Ly.bind(null,r,e),a)}function cd(){}function jy(e,r){var a=Me();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Jh(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function By(e,r){var a=Me();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Jh(r,l[1]))return l[0];if(l=e(),ra){Le(!0);try{e()}finally{Le(!1)}}return a.memoizedState=[l,r],l}function fd(e,r,a){return a===void 0||(Yr&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=qv(),kt.lanes|=e,es|=e,a)}function zy(e,r,a,l){return Pn(a,r)?a:$a.current!==null?(e=fd(e,a,l),Pn(e,r)||(Ye=!0),e):(Yr&42)===0?(Ye=!0,e.memoizedState=a):(e=qv(),kt.lanes|=e,es|=e,r)}function Hy(e,r,a,l,f){var d=it.p;it.p=d!==0&&8>d?d:8;var E=B.T,b={};B.T=b,md(e,!1,r,a);try{var x=f(),F=B.S;if(F!==null&&F(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=MS(x,l);El(e,r,X,zn(e))}else El(e,r,l,zn(e))}catch(J){El(e,r,{then:function(){},status:"rejected",reason:J},zn())}finally{it.p=d,B.T=E}}function US(){}function hd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=qy(e).queue;Hy(e,f,r,ft,a===null?US:function(){return Fy(e),a(l)})}function qy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:ft},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function Fy(e){var r=qy(e).next.queue;El(e,r,{},zn())}function dd(){return cn(Ul)}function Gy(){return Me().memoizedState}function Ky(){return Me().memoizedState}function jS(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=zn();e=Kr(a);var l=$r(r,e,a);l!==null&&(Hn(l,r,a),ml(l,r,a)),r={cache:qh()},e.payload=r;return}r=r.return}}function BS(e,r,a){var l=zn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pc(e)?Yy(r,a):(a=Mh(e,r,a,l),a!==null&&(Hn(a,e,l),Qy(a,r,l)))}function $y(e,r,a){var l=zn();El(e,r,a,l)}function El(e,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(e))Yy(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,b=d(E,a);if(f.hasEagerState=!0,f.eagerState=b,Pn(b,E))return Zu(e,r,f,0),ce===null&&Wu(),!1}catch{}finally{}if(a=Mh(e,r,f,l),a!==null)return Hn(a,e,l),Qy(a,r,l),!0}return!1}function md(e,r,a,l){if(l={lane:2,revertLane:Kd(),action:l,hasEagerState:!1,eagerState:null,next:null},pc(e)){if(r)throw Error(s(479))}else r=Mh(e,a,l,2),r!==null&&Hn(r,e,2)}function pc(e){var r=e.alternate;return e===kt||r!==null&&r===kt}function Yy(e,r){Ya=uc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Qy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,de(e,a)}}var gc={readContext:cn,use:fc,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re},Xy={readContext:cn,use:fc,useCallback:function(e,r){return In().memoizedState=[e,r===void 0?null:r],e},useContext:cn,useEffect:My,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,mc(4194308,4,Ly.bind(null,r,e),a)},useLayoutEffect:function(e,r){return mc(4194308,4,e,r)},useInsertionEffect:function(e,r){mc(4,2,e,r)},useMemo:function(e,r){var a=In();r=r===void 0?null:r;var l=e();if(ra){Le(!0);try{e()}finally{Le(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=In();if(a!==void 0){var f=a(r);if(ra){Le(!0);try{a(r)}finally{Le(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=BS.bind(null,kt,e),[l.memoizedState,e]},useRef:function(e){var r=In();return e={current:e},r.memoizedState=e},useState:function(e){e=ld(e);var r=e.queue,a=$y.bind(null,kt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(e,r){var a=In();return fd(a,e,r)},useTransition:function(){var e=ld(!1);return e=Hy.bind(null,kt,e.queue,!0,!1),In().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=kt,f=In();if(Jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ce===null)throw Error(s(349));(Yt&124)!==0||yy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,My(_y.bind(null,l,d,e),[e]),l.flags|=2048,Xa(9,dc(),vy.bind(null,l,d,a,r),null),a},useId:function(){var e=In(),r=ce.identifierPrefix;if(Jt){var a=lr,l=or;a=(l&~(1<<32-Ne(l)-1)).toString(32)+a,r=""+r+"R"+a,a=cc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=VS++,r=""+r+"r"+a.toString(32)+"";return e.memoizedState=r},useHostTransitionStatus:dd,useFormState:Iy,useActionState:Iy,useOptimistic:function(e){var r=In();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=md.bind(null,kt,!0,a),a.dispatch=r,[e,r]},useMemoCache:sd,useCacheRefresh:function(){return In().memoizedState=jS.bind(null,kt)}},Wy={readContext:cn,use:fc,useCallback:jy,useContext:cn,useEffect:Vy,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:By,useReducer:hc,useRef:Dy,useState:function(){return hc(fr)},useDebugValue:cd,useDeferredValue:function(e,r){var a=Me();return zy(a,ae.memoizedState,e,r)},useTransition:function(){var e=hc(fr)[0],r=Me().memoizedState;return[typeof e=="boolean"?e:vl(e),r]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:dd,useFormState:Ny,useActionState:Ny,useOptimistic:function(e,r){var a=Me();return by(a,ae,e,r)},useMemoCache:sd,useCacheRefresh:Ky},zS={readContext:cn,use:fc,useCallback:jy,useContext:cn,useEffect:Vy,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:By,useReducer:od,useRef:Dy,useState:function(){return od(fr)},useDebugValue:cd,useDeferredValue:function(e,r){var a=Me();return ae===null?fd(a,e,r):zy(a,ae.memoizedState,e,r)},useTransition:function(){var e=od(fr)[0],r=Me().memoizedState;return[typeof e=="boolean"?e:vl(e),r]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:dd,useFormState:Oy,useActionState:Oy,useOptimistic:function(e,r){var a=Me();return ae!==null?by(a,ae,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:sd,useCacheRefresh:Ky},Wa=null,Tl=0;function yc(e){var r=Tl;return Tl+=1,Wa===null&&(Wa=[]),ly(Wa,e,r)}function bl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function vc(e,r){throw r.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Zy(e){var r=e._init;return r(e._payload)}function Jy(e){function r(j,k){if(e){var q=j.deletions;q===null?(j.deletions=[k],j.flags|=16):q.push(k)}}function a(j,k){if(!e)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=ar(j,k),j.index=0,j.sibling=null,j}function d(j,k,q){return j.index=q,e?(q=j.alternate,q!==null?(q=q.index,q<k?(j.flags|=67108866,k):q):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function E(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function b(j,k,q,Z){return k===null||k.tag!==6?(k=kh(q,j.mode,Z),k.return=j,k):(k=f(k,q),k.return=j,k)}function x(j,k,q,Z){var gt=q.type;return gt===z?X(j,k,q.props.children,Z,q.key):k!==null&&(k.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&Zy(gt)===k.type)?(k=f(k,q.props),bl(k,q),k.return=j,k):(k=tc(q.type,q.key,q.props,null,j.mode,Z),bl(k,q),k.return=j,k)}function F(j,k,q,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Ph(q,j.mode,Z),k.return=j,k):(k=f(k,q.children||[]),k.return=j,k)}function X(j,k,q,Z,gt){return k===null||k.tag!==7?(k=Xs(q,j.mode,Z,gt),k.return=j,k):(k=f(k,q),k.return=j,k)}function J(j,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=kh(""+k,j.mode,q),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return q=tc(k.type,k.key,k.props,null,j.mode,q),bl(q,k),q.return=j,q;case L:return k=Ph(k,j.mode,q),k.return=j,k;case A:var Z=k._init;return k=Z(k._payload),J(j,k,q)}if(Mt(k)||P(k))return k=Xs(k,j.mode,q,null),k.return=j,k;if(typeof k.then=="function")return J(j,yc(k),q);if(k.$$typeof===nt)return J(j,rc(j,k),q);vc(j,k)}return null}function G(j,k,q,Z){var gt=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return gt!==null?null:b(j,k,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===gt?x(j,k,q,Z):null;case L:return q.key===gt?F(j,k,q,Z):null;case A:return gt=q._init,q=gt(q._payload),G(j,k,q,Z)}if(Mt(q)||P(q))return gt!==null?null:X(j,k,q,Z,null);if(typeof q.then=="function")return G(j,k,yc(q),Z);if(q.$$typeof===nt)return G(j,k,rc(j,q),Z);vc(j,q)}return null}function K(j,k,q,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,b(k,j,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return j=j.get(Z.key===null?q:Z.key)||null,x(k,j,Z,gt);case L:return j=j.get(Z.key===null?q:Z.key)||null,F(k,j,Z,gt);case A:var jt=Z._init;return Z=jt(Z._payload),K(j,k,q,Z,gt)}if(Mt(Z)||P(Z))return j=j.get(q)||null,X(k,j,Z,gt,null);if(typeof Z.then=="function")return K(j,k,q,yc(Z),gt);if(Z.$$typeof===nt)return K(j,k,q,rc(k,Z),gt);vc(k,Z)}return null}function It(j,k,q,Z){for(var gt=null,jt=null,vt=k,At=k=0,Xe=null;vt!==null&&At<q.length;At++){vt.index>At?(Xe=vt,vt=null):Xe=vt.sibling;var Zt=G(j,vt,q[At],Z);if(Zt===null){vt===null&&(vt=Xe);break}e&&vt&&Zt.alternate===null&&r(j,vt),k=d(Zt,k,At),jt===null?gt=Zt:jt.sibling=Zt,jt=Zt,vt=Xe}if(At===q.length)return a(j,vt),Jt&&Zs(j,At),gt;if(vt===null){for(;At<q.length;At++)vt=J(j,q[At],Z),vt!==null&&(k=d(vt,k,At),jt===null?gt=vt:jt.sibling=vt,jt=vt);return Jt&&Zs(j,At),gt}for(vt=l(vt);At<q.length;At++)Xe=K(vt,j,At,q[At],Z),Xe!==null&&(e&&Xe.alternate!==null&&vt.delete(Xe.key===null?At:Xe.key),k=d(Xe,k,At),jt===null?gt=Xe:jt.sibling=Xe,jt=Xe);return e&&vt.forEach(function(cs){return r(j,cs)}),Jt&&Zs(j,At),gt}function St(j,k,q,Z){if(q==null)throw Error(s(151));for(var gt=null,jt=null,vt=k,At=k=0,Xe=null,Zt=q.next();vt!==null&&!Zt.done;At++,Zt=q.next()){vt.index>At?(Xe=vt,vt=null):Xe=vt.sibling;var cs=G(j,vt,Zt.value,Z);if(cs===null){vt===null&&(vt=Xe);break}e&&vt&&cs.alternate===null&&r(j,vt),k=d(cs,k,At),jt===null?gt=cs:jt.sibling=cs,jt=cs,vt=Xe}if(Zt.done)return a(j,vt),Jt&&Zs(j,At),gt;if(vt===null){for(;!Zt.done;At++,Zt=q.next())Zt=J(j,Zt.value,Z),Zt!==null&&(k=d(Zt,k,At),jt===null?gt=Zt:jt.sibling=Zt,jt=Zt);return Jt&&Zs(j,At),gt}for(vt=l(vt);!Zt.done;At++,Zt=q.next())Zt=K(vt,j,At,Zt.value,Z),Zt!==null&&(e&&Zt.alternate!==null&&vt.delete(Zt.key===null?At:Zt.key),k=d(Zt,k,At),jt===null?gt=Zt:jt.sibling=Zt,jt=Zt);return e&&vt.forEach(function(Hw){return r(j,Hw)}),Jt&&Zs(j,At),gt}function le(j,k,q,Z){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:t:{for(var gt=q.key;k!==null;){if(k.key===gt){if(gt=q.type,gt===z){if(k.tag===7){a(j,k.sibling),Z=f(k,q.props.children),Z.return=j,j=Z;break t}}else if(k.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&Zy(gt)===k.type){a(j,k.sibling),Z=f(k,q.props),bl(Z,q),Z.return=j,j=Z;break t}a(j,k);break}else r(j,k);k=k.sibling}q.type===z?(Z=Xs(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=tc(q.type,q.key,q.props,null,j.mode,Z),bl(Z,q),Z.return=j,j=Z)}return E(j);case L:t:{for(gt=q.key;k!==null;){if(k.key===gt)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(j,k.sibling),Z=f(k,q.children||[]),Z.return=j,j=Z;break t}else{a(j,k);break}else r(j,k);k=k.sibling}Z=Ph(q,j.mode,Z),Z.return=j,j=Z}return E(j);case A:return gt=q._init,q=gt(q._payload),le(j,k,q,Z)}if(Mt(q))return It(j,k,q,Z);if(P(q)){if(gt=P(q),typeof gt!="function")throw Error(s(150));return q=gt.call(q),St(j,k,q,Z)}if(typeof q.then=="function")return le(j,k,yc(q),Z);if(q.$$typeof===nt)return le(j,k,rc(j,q),Z);vc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(j,k.sibling),Z=f(k,q),Z.return=j,j=Z):(a(j,k),Z=kh(q,j.mode,Z),Z.return=j,j=Z),E(j)):a(j,k)}return function(j,k,q,Z){try{Tl=0;var gt=le(j,k,q,Z);return Wa=null,gt}catch(vt){if(vt===hl||vt===ac)throw vt;var jt=Ln(29,vt,null,j.mode);return jt.lanes=Z,jt.return=j,jt}finally{}}}var Za=Jy(!0),tv=Jy(!1),ei=$(null),xi=null;function Qr(e){var r=e.alternate;Q(ze,ze.current&1),Q(ei,e),xi===null&&(r===null||$a.current!==null||r.memoizedState!==null)&&(xi=e)}function ev(e){if(e.tag===22){if(Q(ze,ze.current),Q(ei,e),xi===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(xi=e)}}else Xr()}function Xr(){Q(ze,ze.current),Q(ei,ei.current)}function hr(e){et(ei),xi===e&&(xi=null),et(ze)}var ze=$(0);function _c(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||rm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function pd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var gd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=zn(),f=Kr(l);f.payload=r,a!=null&&(f.callback=a),r=$r(e,f,l),r!==null&&(Hn(r,e,l),ml(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=zn(),f=Kr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=$r(e,f,l),r!==null&&(Hn(r,e,l),ml(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=zn(),l=Kr(a);l.tag=2,r!=null&&(l.callback=r),r=$r(e,l,a),r!==null&&(Hn(r,e,a),ml(r,e,a))}};function nv(e,r,a,l,f,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!rl(a,l)||!rl(f,d):!0}function iv(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&gd.enqueueReplaceState(r,r.state,null)}function sa(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var Ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function rv(e){Ec(e)}function sv(e){console.error(e)}function av(e){Ec(e)}function Tc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ov(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(e,r,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(e,r)},a}function lv(e){return e=Kr(e),e.tag=3,e}function uv(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){ov(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){ov(r,a,l),typeof f!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function HS(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ul(r,a,f,!0),a=ei.current,a!==null){switch(a.tag){case 13:return xi===null?zd():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Kh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),qd(e,l,f)),!1;case 22:return a.flags|=65536,l===Kh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),qd(e,l,f)),!1}throw Error(s(435,a.tag))}return qd(e,l,f),zd(),!1}if(Jt)return r=ei.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==jh&&(e=Error(s(422),{cause:l}),ll(Wn(e,a)))):(l!==jh&&(r=Error(s(423),{cause:l}),ll(Wn(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Wn(l,a),f=yd(e.stateNode,l,f),Qh(e,f),be!==4&&(be=2)),!1;var d=Error(s(520),{cause:l});if(d=Wn(d,a),Nl===null?Nl=[d]:Nl.push(d),be!==4&&(be=2),r===null)return!0;l=Wn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=yd(a.stateNode,l,e),Qh(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ns===null||!ns.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=lv(f),uv(f,e,a,l),Qh(a,f),!1}a=a.return}while(a!==null);return!1}var cv=Error(s(461)),Ye=!1;function nn(e,r,a,l){r.child=e===null?tv(r,null,a,l):Za(r,e.child,a,l)}function fv(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return na(r),l=td(e,r,a,E,d,f),b=ed(),e!==null&&!Ye?(nd(e,r,f),dr(e,r,f)):(Jt&&b&&Lh(r),r.flags|=1,nn(e,r,l,f),r.child)}function hv(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Vh(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,dv(e,r,d,l,f)):(e=tc(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Ad(e,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(E,l)&&e.ref===r.ref)return dr(e,r,f)}return r.flags|=1,e=ar(d,l),e.ref=r.ref,e.return=r,r.child=e}function dv(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(rl(d,l)&&e.ref===r.ref)if(Ye=!1,r.pendingProps=l=d,Ad(e,f))(e.flags&131072)!==0&&(Ye=!0);else return r.lanes=e.lanes,dr(e,r,f)}return vd(e,r,a,l,f)}function mv(e,r,a){var l=r.pendingProps,f=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(f=r.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return pv(e,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&sc(r,d!==null?d.cachePool:null),d!==null?dy(r,d):Wh(),ev(r);else return r.lanes=r.childLanes=536870912,pv(e,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(sc(r,d.cachePool),dy(r,d),Xr(),r.memoizedState=null):(e!==null&&sc(r,null),Wh(),Xr());return nn(e,r,f,a),r.child}function pv(e,r,a,l){var f=Gh();return f=f===null?null:{parent:Be._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},e!==null&&sc(r,null),Wh(),ev(r),e!==null&&ul(e,r,l,!0),null}function bc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function vd(e,r,a,l,f){return na(r),a=td(e,r,a,l,void 0,f),l=ed(),e!==null&&!Ye?(nd(e,r,f),dr(e,r,f)):(Jt&&l&&Lh(r),r.flags|=1,nn(e,r,a,f),r.child)}function gv(e,r,a,l,f,d){return na(r),r.updateQueue=null,a=py(r,l,a,f),my(e),l=ed(),e!==null&&!Ye?(nd(e,r,d),dr(e,r,d)):(Jt&&l&&Lh(r),r.flags|=1,nn(e,r,a,d),r.child)}function yv(e,r,a,l,f){if(na(r),r.stateNode===null){var d=Ha,E=a.contextType;typeof E=="object"&&E!==null&&(d=cn(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},$h(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?cn(E):Ha,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(pd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&gd.enqueueReplaceState(d,d.state,null),gl(r,l,d,f),pl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var b=r.memoizedProps,x=sa(a,b);d.props=x;var F=d.context,X=a.contextType;E=Ha,typeof X=="object"&&X!==null&&(E=cn(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==E)&&iv(r,d,l,E),Gr=!1;var G=r.memoizedState;d.state=G,gl(r,l,d,f),pl(),F=r.memoizedState,b||G!==F||Gr?(typeof J=="function"&&(pd(r,a,J,l),F=r.memoizedState),(x=Gr||nv(r,a,x,l,G,F,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=E,l=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Yh(e,r),E=r.memoizedProps,X=sa(a,E),d.props=X,J=r.pendingProps,G=d.context,F=a.contextType,x=Ha,typeof F=="object"&&F!==null&&(x=cn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||G!==x)&&iv(r,d,l,x),Gr=!1,G=r.memoizedState,d.state=G,gl(r,l,d,f),pl();var K=r.memoizedState;E!==J||G!==K||Gr||e!==null&&e.dependencies!==null&&ic(e.dependencies)?(typeof b=="function"&&(pd(r,a,b,l),K=r.memoizedState),(X=Gr||nv(r,a,X,l,G,K,x)||e!==null&&e.dependencies!==null&&ic(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=x,l=X):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,bc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Za(r,e.child,null,f),r.child=Za(r,null,a,f)):nn(e,r,a,f),r.memoizedState=d.state,e=r.child):e=dr(e,r,f),e}function vv(e,r,a,l){return ol(),r.flags|=256,nn(e,r,a,l),r.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(e){return{baseLanes:e,cachePool:sy()}}function Td(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=ni),e}function _v(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,e===null){if(Jt){if(f?Qr(r):Xr(),Jt){var b=Te,x;if(x=b){t:{for(x=b,b=Ni;x.nodeType!==8;){if(!b){b=null;break t}if(x=di(x.nextSibling),x===null){b=null;break t}}b=x}b!==null?(r.memoizedState={dehydrated:b,treeContext:Ws!==null?{id:or,overflow:lr}:null,retryLane:536870912,hydrationErrors:null},x=Ln(18,null,null,0),x.stateNode=b,x.return=r,r.child=x,bn=r,Te=null,x=!0):x=!1}x||ta(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return rm(b)?r.lanes=32:r.lanes=536870912,null;hr(r)}return b=l.children,l=l.fallback,f?(Xr(),f=r.mode,b=Sc({mode:"hidden",children:b},f),l=Xs(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=Ed(a),f.childLanes=Td(e,E,a),r.memoizedState=_d,l):(Qr(r),bd(r,b))}if(x=e.memoizedState,x!==null&&(b=x.dehydrated,b!==null)){if(d)r.flags&256?(Qr(r),r.flags&=-257,r=Sd(e,r,a)):r.memoizedState!==null?(Xr(),r.child=e.child,r.flags|=128,r=null):(Xr(),f=l.fallback,b=r.mode,l=Sc({mode:"visible",children:l.children},b),f=Xs(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Za(r,e.child,null,a),l=r.child,l.memoizedState=Ed(a),l.childLanes=Td(e,E,a),r.memoizedState=_d,r=f);else if(Qr(r),rm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,ll({value:l,source:null,stack:null}),r=Sd(e,r,a)}else if(Ye||ul(e,r,a,!1),E=(a&e.childLanes)!==0,Ye||E){if(E=ce,E!==null&&(l=a&-a,l=(l&42)!==0?1:fe(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,za(e,l),Hn(E,e,l),cv;b.data==="$?"||zd(),r=Sd(e,r,a)}else b.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=x.treeContext,Te=di(b.nextSibling),bn=r,Jt=!0,Js=null,Ni=!1,e!==null&&(Jn[ti++]=or,Jn[ti++]=lr,Jn[ti++]=Ws,or=e.id,lr=e.overflow,Ws=r),r=bd(r,l.children),r.flags|=4096);return r}return f?(Xr(),f=l.fallback,b=r.mode,x=e.child,F=x.sibling,l=ar(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?f=ar(F,f):(f=Xs(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=e.child.memoizedState,b===null?b=Ed(a):(x=b.cachePool,x!==null?(F=Be._currentValue,x=x.parent!==F?{parent:F,pool:F}:x):x=sy(),b={baseLanes:b.baseLanes|a,cachePool:x}),f.memoizedState=b,f.childLanes=Td(e,E,a),r.memoizedState=_d,l):(Qr(r),a=e.child,e=a.sibling,a=ar(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(E=r.deletions,E===null?(r.deletions=[e],r.flags|=16):E.push(e)),r.child=a,r.memoizedState=null,a)}function bd(e,r){return r=Sc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Sc(e,r){return e=Ln(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Sd(e,r,a){return Za(r,e.child,null,a),e=bd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Ev(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),zh(e.return,r,a)}function wd(e,r,a,l,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Tv(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(nn(e,r,l.children,a),l=ze.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ev(e,a,r);else if(e.tag===19)Ev(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Q(ze,l),f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&_c(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),wd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&_c(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}wd(r,!0,a,null,d);break;case"together":wd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function dr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),es|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(ul(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=ar(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ar(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Ad(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&ic(e)))}function qS(e,r,a){switch(r.tag){case 3:Bt(r,r.stateNode.containerInfo),Fr(r,Be,e.memoizedState.cache),ol();break;case 27:case 5:we(r);break;case 4:Bt(r,r.stateNode.containerInfo);break;case 10:Fr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Qr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?_v(e,r,a):(Qr(r),e=dr(e,r,a),e!==null?e.sibling:null);Qr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ul(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Tv(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(ze,ze.current),l)break;return null;case 22:case 23:return r.lanes=0,mv(e,r,a);case 24:Fr(r,Be,e.memoizedState.cache)}return dr(e,r,a)}function bv(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ye=!0;else{if(!Ad(e,a)&&(r.flags&128)===0)return Ye=!1,qS(e,r,a);Ye=(e.flags&131072)!==0}else Ye=!1,Jt&&(r.flags&1048576)!==0&&Zg(r,nc,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Vh(l)?(e=sa(l,e),r.tag=1,r=yv(null,r,l,e,a)):(r.tag=0,r=vd(null,r,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===ut){r.tag=11,r=fv(null,r,l,e,a);break t}else if(f===O){r.tag=14,r=hv(null,r,l,e,a);break t}}throw r=Et(l)||l,Error(s(306,r,""))}}return r;case 0:return vd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=sa(l,r.pendingProps),yv(e,r,l,f,a);case 3:t:{if(Bt(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Yh(e,r),gl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Fr(r,Be,l),l!==d.cache&&Hh(r,[Be],a,!0),pl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=vv(e,r,l,a);break t}else if(l!==f){f=Wn(Error(s(424)),r),ll(f),r=vv(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Te=di(e.firstChild),bn=r,Jt=!0,Js=null,Ni=!0,a=tv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ol(),l===f){r=dr(e,r,a);break t}nn(e,r,l,a)}r=r.child}return r;case 26:return bc(e,r),e===null?(a=R_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Jt||(a=r.type,e=r.pendingProps,l=Lc(mt.current).createElement(a),l[me]=r,l[Wt]=e,sn(l,a,e),Ae(l),r.stateNode=l):r.memoizedState=R_(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return we(r),e===null&&Jt&&(l=r.stateNode=S_(r.type,r.pendingProps,mt.current),bn=r,Ni=!0,f=Te,ss(r.type)?(sm=f,Te=di(l.firstChild)):Te=f),nn(e,r,r.pendingProps.children,a),bc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Jt&&((f=l=Te)&&(l=yw(l,r.type,r.pendingProps,Ni),l!==null?(r.stateNode=l,bn=r,Te=di(l.firstChild),Ni=!1,f=!0):f=!1),f||ta(r)),we(r),f=r.type,d=r.pendingProps,E=e!==null?e.memoizedProps:null,l=d.children,em(f,d)?l=null:E!==null&&em(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=td(e,r,kS,null,null,a),Ul._currentValue=f),bc(e,r),nn(e,r,l,a),r.child;case 6:return e===null&&Jt&&((e=a=Te)&&(a=vw(a,r.pendingProps,Ni),a!==null?(r.stateNode=a,bn=r,Te=null,e=!0):e=!1),e||ta(r)),null;case 13:return _v(e,r,a);case 4:return Bt(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Za(r,null,l,a):nn(e,r,l,a),r.child;case 11:return fv(e,r,r.type,r.pendingProps,a);case 7:return nn(e,r,r.pendingProps,a),r.child;case 8:return nn(e,r,r.pendingProps.children,a),r.child;case 12:return nn(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Fr(r,r.type,l.value),nn(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,na(r),f=cn(f),l=l(f),r.flags|=1,nn(e,r,l,a),r.child;case 14:return hv(e,r,r.type,r.pendingProps,a);case 15:return dv(e,r,r.type,r.pendingProps,a);case 19:return Tv(e,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},e===null?(a=Sc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ar(e.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return mv(e,r,a);case 24:return na(r),l=cn(Be),e===null?(f=Gh(),f===null&&(f=ce,d=qh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},$h(r),Fr(r,Be,f)):((e.lanes&a)!==0&&(Yh(e,r),gl(r,null,null,a),pl()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Fr(r,Be,l)):(l=d.cache,Fr(r,Be,l),l!==f.cache&&Hh(r,[Be],a,!0))),nn(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function mr(e){e.flags|=4}function Sv(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!O_(r)){if(r=ei.current,r!==null&&((Yt&4194048)===Yt?xi!==null:(Yt&62914560)!==Yt&&(Yt&536870912)===0||r!==xi))throw dl=Kh,ay;e.flags|=8192}}function wc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Ms():536870912,e.lanes|=r,no|=r)}function Sl(e,r){if(!Jt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ye(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function FS(e,r,a){var l=r.pendingProps;switch(Uh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(r),null;case 1:return ye(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),cr(Be),_e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(al(r)?mr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ey())),ye(r),null;case 26:return a=r.memoizedState,e===null?(mr(r),a!==null?(ye(r),Sv(r,a)):(ye(r),r.flags&=-16777217)):a?a!==e.memoizedState?(mr(r),ye(r),Sv(r,a)):(ye(r),r.flags&=-16777217):(e.memoizedProps!==l&&mr(r),ye(r),r.flags&=-16777217),null;case 27:un(r),a=mt.current;var f=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&mr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ye(r),null}e=ct.current,al(r)?Jg(r):(e=S_(f,l,a),r.stateNode=e,mr(r))}return ye(r),null;case 5:if(un(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&mr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ye(r),null}if(e=ct.current,al(r))Jg(r);else{switch(f=Lc(mt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[me]=r,e[Wt]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=e;t:switch(sn(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&mr(r)}}return ye(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&mr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=mt.current,al(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=bn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[me]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||g_(e.nodeValue,a)),e||ta(r)}else e=Lc(e).createTextNode(l),e[me]=r,r.stateNode=e}return ye(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=al(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[me]=r}else ol(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ye(r),f=!1}else f=ey(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(hr(r),r):(hr(r),null)}if(hr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),wc(r,r.updateQueue),ye(r),null;case 4:return _e(),e===null&&Xd(r.stateNode.containerInfo),ye(r),null;case 10:return cr(r.type),ye(r),null;case 19:if(et(ze),f=r.memoizedState,f===null)return ye(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)Sl(f,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=_c(e),d!==null){for(r.flags|=128,Sl(f,!1),e=d.updateQueue,r.updateQueue=e,wc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)Wg(a,e),a=a.sibling;return Q(ze,ze.current&1|2),r.child}e=e.sibling}f.tail!==null&&he()>Cc&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304)}else{if(!l)if(e=_c(d),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,wc(r,e),Sl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Jt)return ye(r),null}else 2*he()-f.renderingStartTime>Cc&&a!==536870912&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(e=f.last,e!==null?e.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=he(),r.sibling=null,e=ze.current,Q(ze,l?e&1|2:e&1),r):(ye(r),null);case 22:case 23:return hr(r),Zh(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ye(r),r.subtreeFlags&6&&(r.flags|=8192)):ye(r),a=r.updateQueue,a!==null&&wc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&et(ia),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),cr(Be),ye(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function GS(e,r){switch(Uh(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return cr(Be),_e(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return un(r),null;case 13:if(hr(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ol()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return et(ze),null;case 4:return _e(),null;case 10:return cr(r.type),null;case 22:case 23:return hr(r),Zh(),e!==null&&et(ia),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return cr(Be),null;case 25:return null;default:return null}}function wv(e,r){switch(Uh(r),r.tag){case 3:cr(Be),_e();break;case 26:case 27:case 5:un(r);break;case 4:_e();break;case 13:hr(r);break;case 19:et(ze);break;case 10:cr(r.type);break;case 22:case 23:hr(r),Zh(),e!==null&&et(ia);break;case 24:cr(Be)}}function wl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){ue(r,r.return,b)}}function Wr(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var x=a,F=b;try{F()}catch(X){ue(f,x,X)}}}l=l.next}while(l!==d)}}catch(X){ue(r,r.return,X)}}function Av(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{hy(r,a)}catch(l){ue(e,e.return,l)}}}function Rv(e,r,a){a.props=sa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ue(e,r,l)}}function Al(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){ue(e,r,f)}}function Oi(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ue(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ue(e,r,f)}else a.current=null}function Cv(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ue(e,e.return,f)}}function Rd(e,r,a){try{var l=e.stateNode;hw(l,e.type,a,r),l[Wt]=r}catch(f){ue(e,e.return,f)}}function Iv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ss(e.type)||e.tag===4}function Cd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Iv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ss(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Id(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Pc));else if(l!==4&&(l===27&&ss(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Id(e,r,a),e=e.sibling;e!==null;)Id(e,r,a),e=e.sibling}function Ac(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&ss(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ac(e,r,a),e=e.sibling;e!==null;)Ac(e,r,a),e=e.sibling}function Nv(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);sn(r,l,a),r[me]=e,r[Wt]=a}catch(d){ue(e,e.return,d)}}var pr=!1,Ce=!1,Nd=!1,xv=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function KS(e,r){if(e=e.containerInfo,Jd=qc,e=zg(e),Ch(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var E=0,b=-1,x=-1,F=0,X=0,J=e,G=null;e:for(;;){for(var K;J!==a||f!==0&&J.nodeType!==3||(b=E+f),J!==d||l!==0&&J.nodeType!==3||(x=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(K=J.firstChild)!==null;)G=J,J=K;for(;;){if(J===e)break e;if(G===a&&++F===f&&(b=E),G===d&&++X===l&&(x=E),(K=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=K}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:e,selectionRange:a},qc=!1,Qe=r;Qe!==null;)if(r=Qe,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,Qe=e;else for(;Qe!==null;){switch(r=Qe,d=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var It=sa(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(It,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(St){ue(a,a.return,St)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)im(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":im(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Qe=e;break}Qe=r.return}}function Ov(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(e,a),l&4&&wl(5,a);break;case 1:if(Zr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(E){ue(a,a.return,E)}else{var f=sa(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(E){ue(a,a.return,E)}}l&64&&Av(a),l&512&&Al(a,a.return);break;case 3:if(Zr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{hy(e,r)}catch(E){ue(a,a.return,E)}}break;case 27:r===null&&l&4&&Nv(a);case 26:case 5:Zr(e,a),r===null&&l&4&&Cv(a),l&512&&Al(a,a.return);break;case 12:Zr(e,a);break;case 13:Zr(e,a),l&4&&Vv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ew.bind(null,a),_w(e,a))));break;case 22:if(l=a.memoizedState!==null||pr,!l){r=r!==null&&r.memoizedState!==null||Ce,f=pr;var d=Ce;pr=l,(Ce=r)&&!d?Jr(e,a,(a.subtreeFlags&8772)!==0):Zr(e,a),pr=f,Ce=d}break;case 30:break;default:Zr(e,a)}}function Dv(e){var r=e.alternate;r!==null&&(e.alternate=null,Dv(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Br(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,Nn=!1;function gr(e,r,a){for(a=a.child;a!==null;)Mv(e,r,a),a=a.sibling}function Mv(e,r,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(yt,a)}catch{}switch(a.tag){case 26:Ce||Oi(a,r),gr(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Oi(a,r);var l=ge,f=Nn;ss(a.type)&&(ge=a.stateNode,Nn=!1),gr(e,r,a),Vl(a.stateNode),ge=l,Nn=f;break;case 5:Ce||Oi(a,r);case 6:if(l=ge,f=Nn,ge=null,gr(e,r,a),ge=l,Nn=f,ge!==null)if(Nn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(a.stateNode)}catch(d){ue(a,r,d)}else try{ge.removeChild(a.stateNode)}catch(d){ue(a,r,d)}break;case 18:ge!==null&&(Nn?(e=ge,T_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Hl(e)):T_(ge,a.stateNode));break;case 4:l=ge,f=Nn,ge=a.stateNode.containerInfo,Nn=!0,gr(e,r,a),ge=l,Nn=f;break;case 0:case 11:case 14:case 15:Ce||Wr(2,a,r),Ce||Wr(4,a,r),gr(e,r,a);break;case 1:Ce||(Oi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Rv(a,r,l)),gr(e,r,a);break;case 21:gr(e,r,a);break;case 22:Ce=(l=Ce)||a.memoizedState!==null,gr(e,r,a),Ce=l;break;default:gr(e,r,a)}}function Vv(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hl(e)}catch(a){ue(r,r.return,a)}}function $S(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new xv),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new xv),r;default:throw Error(s(435,e.tag))}}function xd(e,r){var a=$S(e);r.forEach(function(l){var f=nw.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function Un(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,E=r,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(ss(b.type)){ge=b.stateNode,Nn=!1;break t}break;case 5:ge=b.stateNode,Nn=!1;break t;case 3:case 4:ge=b.stateNode.containerInfo,Nn=!0;break t}b=b.return}if(ge===null)throw Error(s(160));Mv(d,E,f),ge=null,Nn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)kv(r,e),r=r.sibling}var hi=null;function kv(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Un(r,e),jn(e),l&4&&(Wr(3,e,e.return),wl(3,e),Wr(5,e,e.return));break;case 1:Un(r,e),jn(e),l&512&&(Ce||a===null||Oi(a,a.return)),l&64&&pr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=hi;if(Un(r,e),jn(e),l&512&&(Ce||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Vs]||d[me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),sn(d,l,a),d[me]=e,Ae(d),l=d;break t;case"link":var E=N_("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break e}}d=f.createElement(l),sn(d,l,a),f.head.appendChild(d);break;case"meta":if(E=N_("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break e}}d=f.createElement(l),sn(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[me]=e,Ae(d),l=d}e.stateNode=l}else x_(f,e.type,e.stateNode);else e.stateNode=I_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?x_(f,e.type,e.stateNode):I_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Rd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Un(r,e),jn(e),l&512&&(Ce||a===null||Oi(a,a.return)),a!==null&&l&4&&Rd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Un(r,e),jn(e),l&512&&(Ce||a===null||Oi(a,a.return)),e.flags&32){f=e.stateNode;try{$n(f,"")}catch(K){ue(e,e.return,K)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Rd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Nd=!0);break;case 6:if(Un(r,e),jn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(K){ue(e,e.return,K)}}break;case 3:if(Bc=null,f=hi,hi=Uc(r.containerInfo),Un(r,e),hi=f,jn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Hl(r.containerInfo)}catch(K){ue(e,e.return,K)}Nd&&(Nd=!1,Pv(e));break;case 4:l=hi,hi=Uc(e.stateNode.containerInfo),Un(r,e),jn(e),hi=l;break;case 12:Un(r,e),jn(e);break;case 13:Un(r,e),jn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pd=he()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xd(e,l)));break;case 22:f=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,F=pr,X=Ce;if(pr=F||f,Ce=X||x,Un(r,e),Ce=X,pr=F,jn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||x||pr||Ce||aa(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(d=x.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=x.stateNode;var J=x.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){ue(x,x.return,K)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(K){ue(x,x.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xd(e,a))));break;case 19:Un(r,e),jn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xd(e,l)));break;case 30:break;case 21:break;default:Un(r,e),jn(e)}}function jn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(Iv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Cd(e);Ac(e,d,f);break;case 5:var E=a.stateNode;a.flags&32&&($n(E,""),a.flags&=-33);var b=Cd(e);Ac(e,b,E);break;case 3:case 4:var x=a.stateNode.containerInfo,F=Cd(e);Id(e,F,x);break;default:throw Error(s(161))}}catch(X){ue(e,e.return,X)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Pv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Pv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Zr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ov(e,r.alternate,r),r=r.sibling}function aa(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Wr(4,r,r.return),aa(r);break;case 1:Oi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Rv(r,r.return,a),aa(r);break;case 27:Vl(r.stateNode);case 26:case 5:Oi(r,r.return),aa(r);break;case 22:r.memoizedState===null&&aa(r);break;case 30:aa(r);break;default:aa(r)}e=e.sibling}}function Jr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Jr(f,d,a),wl(4,d);break;case 1:if(Jr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){ue(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)fy(x[f],b)}catch(F){ue(l,l.return,F)}}a&&E&64&&Av(d),Al(d,d.return);break;case 27:Nv(d);case 26:case 5:Jr(f,d,a),a&&l===null&&E&4&&Cv(d),Al(d,d.return);break;case 12:Jr(f,d,a);break;case 13:Jr(f,d,a),a&&E&4&&Vv(f,d);break;case 22:d.memoizedState===null&&Jr(f,d,a),Al(d,d.return);break;case 30:break;default:Jr(f,d,a)}r=r.sibling}}function Od(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&cl(a))}function Dd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&cl(e))}function Di(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Lv(e,r,a,l),r=r.sibling}function Lv(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Di(e,r,a,l),f&2048&&wl(9,r);break;case 1:Di(e,r,a,l);break;case 3:Di(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&cl(e)));break;case 12:if(f&2048){Di(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){ue(r,r.return,x)}}else Di(e,r,a,l);break;case 13:Di(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?Di(e,r,a,l):Rl(e,r):d._visibility&2?Di(e,r,a,l):(d._visibility|=2,Ja(e,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Od(E,r);break;case 24:Di(e,r,a,l),f&2048&&Dd(r.alternate,r);break;default:Di(e,r,a,l)}}function Ja(e,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=e,E=r,b=a,x=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Ja(d,E,b,x,f),wl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?Ja(d,E,b,x,f):Rl(d,E):(X._visibility|=2,Ja(d,E,b,x,f)),f&&F&2048&&Od(E.alternate,E);break;case 24:Ja(d,E,b,x,f),f&&F&2048&&Dd(E.alternate,E);break;default:Ja(d,E,b,x,f)}r=r.sibling}}function Rl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:Rl(a,l),f&2048&&Od(l.alternate,l);break;case 24:Rl(a,l),f&2048&&Dd(l.alternate,l);break;default:Rl(a,l)}r=r.sibling}}var Cl=8192;function to(e){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)Uv(e),e=e.sibling}function Uv(e){switch(e.tag){case 26:to(e),e.flags&Cl&&e.memoizedState!==null&&Dw(hi,e.memoizedState,e.memoizedProps);break;case 5:to(e);break;case 3:case 4:var r=hi;hi=Uc(e.stateNode.containerInfo),to(e),hi=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Cl,Cl=16777216,to(e),Cl=r):to(e));break;default:to(e)}}function jv(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Il(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qe=l,zv(l,e)}jv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bv(e),e=e.sibling}function Bv(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&Wr(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Rc(e)):Il(e);break;default:Il(e)}}function Rc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qe=l,zv(l,e)}jv(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Wr(8,r,r.return),Rc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(r));break;default:Rc(r)}e=e.sibling}}function zv(e,r){for(;Qe!==null;){var a=Qe;switch(a.tag){case 0:case 11:case 15:Wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qe=l;else t:for(a=e;Qe!==null;){l=Qe;var f=l.sibling,d=l.return;if(Dv(l),l===a){Qe=null;break t}if(f!==null){f.return=d,Qe=f;break t}Qe=d}}}var YS={getCacheForType:function(e){var r=cn(Be),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},QS=typeof WeakMap=="function"?WeakMap:Map,ie=0,ce=null,Ht=null,Yt=0,re=0,Bn=null,ts=!1,eo=!1,Md=!1,yr=0,be=0,es=0,oa=0,Vd=0,ni=0,no=0,Nl=null,xn=null,kd=!1,Pd=0,Cc=1/0,Ic=null,ns=null,rn=0,is=null,io=null,ro=0,Ld=0,Ud=null,Hv=null,xl=0,jd=null;function zn(){if((ie&2)!==0&&Yt!==0)return Yt&-Yt;if(B.T!==null){var e=Ga;return e!==0?e:Kd()}return Vn()}function qv(){ni===0&&(ni=(Yt&536870912)===0||Jt?Cn():536870912);var e=ei.current;return e!==null&&(e.flags|=32),ni}function Hn(e,r,a){(e===ce&&(re===2||re===9)||e.cancelPendingCommit!==null)&&(so(e,0),rs(e,Yt,ni,!1)),Kn(e,a),((ie&2)===0||e!==ce)&&(e===ce&&((ie&2)===0&&(oa|=a),be===4&&rs(e,Yt,ni,!1)),Mi(e))}function Fv(e,r,a){if((ie&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&e.expiredLanes)===0||$i(e,r),f=l?ZS(e,r):Hd(e,r,!0),d=l;do{if(f===0){eo&&!l&&rs(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!XS(a)){f=Hd(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var b=e;f=Nl;var x=b.current.memoizedState.isDehydrated;if(x&&(so(b,E).flags|=256),E=Hd(b,E,!1),E!==2){if(Md&&!x){b.errorRecoveryDisabledLanes|=d,oa|=d,f=4;break t}d=xn,xn=f,d!==null&&(xn===null?xn=d:xn.push.apply(xn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){so(e,0),rs(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:rs(l,r,ni,!ts);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Pd+300-he(),10<f)){if(rs(l,r,ni,!ts),Ki(l,0,!0)!==0)break t;l.timeoutHandle=__(Gv.bind(null,l,a,xn,Ic,kd,r,ni,oa,no,ts,d,2,-0,0),f);break t}Gv(l,a,xn,Ic,kd,r,ni,oa,no,ts,d,0,-0,0)}}break}while(!0);Mi(e)}function Gv(e,r,a,l,f,d,E,b,x,F,X,J,G,K){if(e.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:Ow},Uv(r),J=Mw(),J!==null)){e.cancelPendingCommit=J(Zv.bind(null,e,r,d,a,l,f,E,b,x,X,1,G,K)),rs(e,d,E,!F);return}Zv(e,r,d,a,l,f,E,b,x)}function XS(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Pn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function rs(e,r,a,l){r&=~Vd,r&=~oa,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-Ne(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&bt(e,a,r)}function Nc(){return(ie&6)===0?(Ol(0),!1):!0}function Bd(){if(Ht!==null){if(re===0)var e=Ht.return;else e=Ht,ur=ea=null,id(e),Wa=null,Tl=0,e=Ht;for(;e!==null;)wv(e.alternate,e),e=e.return;Ht=null}}function so(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,mw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Bd(),ce=e,Ht=a=ar(e.current,null),Yt=r,re=0,Bn=null,ts=!1,eo=$i(e,r),Md=!1,no=ni=Vd=oa=es=be=0,xn=Nl=null,kd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-Ne(l),d=1<<f;r|=e[f],l&=~d}return yr=r,Wu(),a}function Kv(e,r){kt=null,B.H=gc,r===hl||r===ac?(r=uy(),re=3):r===ay?(r=uy(),re=4):re=r===cv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Ht===null&&(be=1,Tc(e,Wn(r,e.current)))}function $v(){var e=B.H;return B.H=gc,e===null?gc:e}function Yv(){var e=B.A;return B.A=YS,e}function zd(){be=4,ts||(Yt&4194048)!==Yt&&ei.current!==null||(eo=!0),(es&134217727)===0&&(oa&134217727)===0||ce===null||rs(ce,Yt,ni,!1)}function Hd(e,r,a){var l=ie;ie|=2;var f=$v(),d=Yv();(ce!==e||Yt!==r)&&(Ic=null,so(e,r)),r=!1;var E=be;t:do try{if(re!==0&&Ht!==null){var b=Ht,x=Bn;switch(re){case 8:Bd(),E=6;break t;case 3:case 2:case 9:case 6:ei.current===null&&(r=!0);var F=re;if(re=0,Bn=null,ao(e,b,x,F),a&&eo){E=0;break t}break;default:F=re,re=0,Bn=null,ao(e,b,x,F)}}WS(),E=be;break}catch(X){Kv(e,X)}while(!0);return r&&e.shellSuspendCounter++,ur=ea=null,ie=l,B.H=f,B.A=d,Ht===null&&(ce=null,Yt=0,Wu()),E}function WS(){for(;Ht!==null;)Qv(Ht)}function ZS(e,r){var a=ie;ie|=2;var l=$v(),f=Yv();ce!==e||Yt!==r?(Ic=null,Cc=he()+500,so(e,r)):eo=$i(e,r);t:do try{if(re!==0&&Ht!==null){r=Ht;var d=Bn;e:switch(re){case 1:re=0,Bn=null,ao(e,r,d,1);break;case 2:case 9:if(oy(d)){re=0,Bn=null,Xv(r);break}r=function(){re!==2&&re!==9||ce!==e||(re=7),Mi(e)},d.then(r,r);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:oy(d)?(re=0,Bn=null,Xv(r)):(re=0,Bn=null,ao(e,r,d,7));break;case 5:var E=null;switch(Ht.tag){case 26:E=Ht.memoizedState;case 5:case 27:var b=Ht;if(!E||O_(E)){re=0,Bn=null;var x=b.sibling;if(x!==null)Ht=x;else{var F=b.return;F!==null?(Ht=F,xc(F)):Ht=null}break e}}re=0,Bn=null,ao(e,r,d,5);break;case 6:re=0,Bn=null,ao(e,r,d,6);break;case 8:Bd(),be=6;break t;default:throw Error(s(462))}}JS();break}catch(X){Kv(e,X)}while(!0);return ur=ea=null,B.H=l,B.A=f,ie=a,Ht!==null?0:(ce=null,Yt=0,Wu(),be)}function JS(){for(;Ht!==null&&!Xt();)Qv(Ht)}function Qv(e){var r=bv(e.alternate,e,yr);e.memoizedProps=e.pendingProps,r===null?xc(e):Ht=r}function Xv(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=gv(a,r,r.pendingProps,r.type,void 0,Yt);break;case 11:r=gv(a,r,r.pendingProps,r.type.render,r.ref,Yt);break;case 5:id(r);default:wv(a,r),r=Ht=Wg(r,yr),r=bv(a,r,yr)}e.memoizedProps=e.pendingProps,r===null?xc(e):Ht=r}function ao(e,r,a,l){ur=ea=null,id(r),Wa=null,Tl=0;var f=r.return;try{if(HS(e,f,r,a,Yt)){be=1,Tc(e,Wn(a,e.current)),Ht=null;return}}catch(d){if(f!==null)throw Ht=f,d;be=1,Tc(e,Wn(a,e.current)),Ht=null;return}r.flags&32768?(Jt||l===1?e=!0:eo||(Yt&536870912)!==0?e=!1:(ts=e=!0,(l===2||l===9||l===3||l===6)&&(l=ei.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wv(r,e)):xc(r)}function xc(e){var r=e;do{if((r.flags&32768)!==0){Wv(r,ts);return}e=r.return;var a=FS(r.alternate,r,yr);if(a!==null){Ht=a;return}if(r=r.sibling,r!==null){Ht=r;return}Ht=r=e}while(r!==null);be===0&&(be=5)}function Wv(e,r){do{var a=GS(e.alternate,e);if(a!==null){a.flags&=32767,Ht=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Ht=e;return}Ht=e=a}while(e!==null);be=6,Ht=null}function Zv(e,r,a,l,f,d,E,b,x){e.cancelPendingCommit=null;do Oc();while(rn!==0);if((ie&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Dh,Ur(e,a,d,E,b,x),e===ce&&(Ht=ce=null,Yt=0),io=r,is=e,ro=a,Ld=d,Ud=f,Hv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,iw(si,function(){return i_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,f=it.p,it.p=2,E=ie,ie|=4;try{KS(e,r,a)}finally{ie=E,it.p=f,B.T=l}}rn=1,Jv(),t_(),e_()}}function Jv(){if(rn===1){rn=0;var e=is,r=io,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=it.p;it.p=2;var f=ie;ie|=4;try{kv(r,e);var d=tm,E=zg(e.containerInfo),b=d.focusedElem,x=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&Bg(b.ownerDocument.documentElement,b)){if(x!==null&&Ch(b)){var F=x.start,X=x.end;if(X===void 0&&(X=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(X,b.value.length);else{var J=b.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var K=G.getSelection(),It=b.textContent.length,St=Math.min(x.start,It),le=x.end===void 0?St:Math.min(x.end,It);!K.extend&&St>le&&(E=le,le=St,St=E);var j=jg(b,St),k=jg(b,le);if(j&&k&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==k.node||K.focusOffset!==k.offset)){var q=J.createRange();q.setStart(j.node,j.offset),K.removeAllRanges(),St>le?(K.addRange(q),K.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),K.addRange(q))}}}}for(J=[],K=b;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var Z=J[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}qc=!!Jd,tm=Jd=null}finally{ie=f,it.p=l,B.T=a}}e.current=r,rn=2}}function t_(){if(rn===2){rn=0;var e=is,r=io,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=it.p;it.p=2;var f=ie;ie|=4;try{Ov(e,r.alternate,r)}finally{ie=f,it.p=l,B.T=a}}rn=3}}function e_(){if(rn===4||rn===3){rn=0,Gn();var e=is,r=io,a=ro,l=Hv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?rn=5:(rn=0,io=is=null,n_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ns=null),xe(a),r=r.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(yt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=B.T,f=it.p,it.p=2,B.T=null;try{for(var d=e.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{B.T=r,it.p=f}}(ro&3)!==0&&Oc(),Mi(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===jd?xl++:(xl=0,jd=e):xl=0,Ol(0)}}function n_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,cl(r)))}function Oc(e){return Jv(),t_(),e_(),i_()}function i_(){if(rn!==5)return!1;var e=is,r=Ld;Ld=0;var a=xe(ro),l=B.T,f=it.p;try{it.p=32>a?32:a,B.T=null,a=Ud,Ud=null;var d=is,E=ro;if(rn=0,io=is=null,ro=0,(ie&6)!==0)throw Error(s(331));var b=ie;if(ie|=4,Bv(d.current),Lv(d,d.current,E,a),ie=b,Ol(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(yt,d)}catch{}return!0}finally{it.p=f,B.T=l,n_(e,r)}}function r_(e,r,a){r=Wn(a,r),r=yd(e.stateNode,r,2),e=$r(e,r,2),e!==null&&(Kn(e,2),Mi(e))}function ue(e,r,a){if(e.tag===3)r_(e,e,a);else for(;r!==null;){if(r.tag===3){r_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ns===null||!ns.has(l))){e=Wn(a,e),a=lv(2),l=$r(r,a,2),l!==null&&(uv(a,l,r,e),Kn(l,2),Mi(l));break}}r=r.return}}function qd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new QS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Md=!0,f.add(a),e=tw.bind(null,e,r,a),r.then(e,e))}function tw(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ce===e&&(Yt&a)===a&&(be===4||be===3&&(Yt&62914560)===Yt&&300>he()-Pd?(ie&2)===0&&so(e,0):Vd|=a,no===Yt&&(no=0)),Mi(e)}function s_(e,r){r===0&&(r=Ms()),e=za(e,r),e!==null&&(Kn(e,r),Mi(e))}function ew(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),s_(e,a)}function nw(e,r){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),s_(e,a)}function iw(e,r){return yn(e,r)}var Dc=null,oo=null,Fd=!1,Mc=!1,Gd=!1,la=0;function Mi(e){e!==oo&&e.next===null&&(oo===null?Dc=oo=e:oo=oo.next=e),Mc=!0,Fd||(Fd=!0,sw())}function Ol(e,r){if(!Gd&&Mc){Gd=!0;do for(var a=!1,l=Dc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Ne(42|e)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,u_(l,d))}else d=Yt,d=Ki(l,l===ce?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$i(l,d)||(a=!0,u_(l,d));l=l.next}while(a);Gd=!1}}function rw(){a_()}function a_(){Mc=Fd=!1;var e=0;la!==0&&(dw()&&(e=la),la=0);for(var r=he(),a=null,l=Dc;l!==null;){var f=l.next,d=o_(l,r);d===0?(l.next=null,a===null?Dc=f:a.next=f,f===null&&(oo=a)):(a=l,(e!==0||(d&3)!==0)&&(Mc=!0)),l=f}Ol(e)}function o_(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-Ne(d),b=1<<E,x=f[E];x===-1?((b&a)===0||(b&l)!==0)&&(f[E]=Yi(b,r)):x<=r&&(e.expiredLanes|=b),d&=~b}if(r=ce,a=Yt,a=Ki(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(re===2||re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ge(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||$i(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&Ge(l),xe(a)){case 2:case 8:a=yi;break;case 32:a=si;break;case 268435456:a=vn;break;default:a=si}return l=l_.bind(null,e),a=yn(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&Ge(l),e.callbackPriority=2,e.callbackNode=null,2}function l_(e,r){if(rn!==0&&rn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Oc()&&e.callbackNode!==a)return null;var l=Yt;return l=Ki(e,e===ce?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Fv(e,l,r),o_(e,he()),e.callbackNode!=null&&e.callbackNode===a?l_.bind(null,e):null)}function u_(e,r){if(Oc())return null;Fv(e,r,!0)}function sw(){pw(function(){(ie&6)!==0?yn(Je,rw):a_()})}function Kd(){return la===0&&(la=Cn()),la}function c_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Na(""+e)}function f_(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function aw(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=c_((f[Wt]||null).action),E=l.submitter;E&&(r=(r=E[Wt]||null)?c_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var b=new xa("action","action",null,l,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var x=E?f_(f,E):new FormData(f);hd(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=E?f_(f,E):new FormData(f),hd(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var $d=0;$d<Oh.length;$d++){var Yd=Oh[$d],ow=Yd.toLowerCase(),lw=Yd[0].toUpperCase()+Yd.slice(1);fi(ow,"on"+lw)}fi(Fg,"onAnimationEnd"),fi(Gg,"onAnimationIteration"),fi(Kg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(AS,"onTransitionRun"),fi(RS,"onTransitionStart"),fi(CS,"onTransitionCancel"),fi($g,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function h_(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],x=b.instance,F=b.currentTarget;if(b=b.listener,x!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=F;try{d(f)}catch(X){Ec(X)}f.currentTarget=null,d=x}else for(E=0;E<l.length;E++){if(b=l[E],x=b.instance,F=b.currentTarget,b=b.listener,x!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=F;try{d(f)}catch(X){Ec(X)}f.currentTarget=null,d=x}}}}function qt(e,r){var a=r[jr];a===void 0&&(a=r[jr]=new Set);var l=e+"__bubble";a.has(l)||(d_(r,e,2,!1),a.add(l))}function Qd(e,r,a){var l=0;r&&(l|=4),d_(a,e,l,r)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Xd(e){if(!e[Vc]){e[Vc]=!0,Fo.forEach(function(a){a!=="selectionchange"&&(uw.has(a)||Qd(a,!1,e),Qd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Vc]||(r[Vc]=!0,Qd("selectionchange",!1,r))}}function d_(e,r,a,l){switch(L_(r)){case 2:var f=Pw;break;case 8:f=Lw;break;default:f=cm}a=f.bind(null,r,a,e),f=void 0,!Qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function Wd(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Xi(b),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){l=d=E;continue t}b=b.parentNode}}l=l.return}Pu(function(){var F=d,X=Yn(a),J=[];t:{var G=Yg.get(e);if(G!==void 0){var K=xa,It=e;switch(e){case"keypress":if(wi(a)===0)break t;case"keydown":case"keyup":K=Pa;break;case"focusin":It="focus",K=Ma;break;case"focusout":It="blur",K=Ma;break;case"beforeblur":case"afterblur":K=Ma;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Fu;break;case Fg:case Gg:case Kg:K=Va;break;case $g:K=Ku;break;case"scroll":case"scrollend":K=Lu;break;case"wheel":K=La;break;case"copy":case"cut":case"paste":K=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=nl;break;case"toggle":case"beforetoggle":K=Yu}var St=(r&4)!==0,le=!St&&(e==="scroll"||e==="scrollend"),j=St?G!==null?G+"Capture":null:G;St=[];for(var k=F,q;k!==null;){var Z=k;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=zs(k,j),Z!=null&&St.push(Ml(k,Z,q))),le)break;k=k.return}0<St.length&&(G=new K(G,It,null,a,X),J.push({event:G,listeners:St}))}}if((r&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",G&&a!==tr&&(It=a.relatedTarget||a.fromElement)&&(Xi(It)||It[pe]))break t;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(It=a.relatedTarget||a.toElement,K=F,It=It?Xi(It):null,It!==null&&(le=u(It),St=It.tag,It!==le||St!==5&&St!==27&&St!==6)&&(It=null)):(K=null,It=F),K!==It)){if(St=Xn,Z="onMouseLeave",j="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(St=nl,Z="onPointerLeave",j="onPointerEnter",k="pointer"),le=K==null?G:Ei(K),q=It==null?G:Ei(It),G=new St(Z,k+"leave",K,a,X),G.target=le,G.relatedTarget=q,Z=null,Xi(X)===F&&(St=new St(j,k+"enter",It,a,X),St.target=q,St.relatedTarget=le,Z=St),le=Z,K&&It)e:{for(St=K,j=It,k=0,q=St;q;q=lo(q))k++;for(q=0,Z=j;Z;Z=lo(Z))q++;for(;0<k-q;)St=lo(St),k--;for(;0<q-k;)j=lo(j),q--;for(;k--;){if(St===j||j!==null&&St===j.alternate)break e;St=lo(St),j=lo(j)}St=null}else St=null;K!==null&&m_(J,G,K,St,!1),It!==null&&le!==null&&m_(J,le,It,St,!0)}}t:{if(G=F?Ei(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var gt=Mg;else if(je(G))if(Vg)gt=bS;else{gt=ES;var jt=_S}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Qo(F.elementType)&&(gt=Mg):gt=TS;if(gt&&(gt=gt(e,F))){sr(J,gt,a,X);break t}jt&&jt(e,G,F),e==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Hr(G,"number",G.value)}switch(jt=F?Ei(F):window,e){case"focusin":(je(jt)||jt.contentEditable==="true")&&(Ua=jt,Ih=F,sl=null);break;case"focusout":sl=Ih=Ua=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Hg(J,a,X);break;case"selectionchange":if(wS)break;case"keydown":case"keyup":Hg(J,a,X)}var vt;if(Ci)t:{switch(e){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Kt?Y(e,a)&&(At="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(At="onCompositionStart");At&&(v&&a.locale!=="ko"&&(Kt||At!=="onCompositionStart"?At==="onCompositionEnd"&&Kt&&(vt=Wo()):(Si=X,qr="value"in Si?Si.value:Si.textContent,Kt=!0)),jt=kc(F,At),0<jt.length&&(At=new tl(At,e,null,a,X),J.push({event:At,listeners:jt}),vt?At.data=vt:(vt=ht(a),vt!==null&&(At.data=vt)))),(vt=y?Ue(e,a):$t(e,a))&&(At=kc(F,"onBeforeInput"),0<At.length&&(jt=new tl("onBeforeInput","beforeinput",null,a,X),J.push({event:jt,listeners:At}),jt.data=vt)),aw(J,e,F,a,X)}h_(J,r)})}function Ml(e,r,a){return{instance:e,listener:r,currentTarget:a}}function kc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=zs(e,a),f!=null&&l.unshift(Ml(e,f,d)),f=zs(e,r),f!=null&&l.push(Ml(e,f,d))),e.tag===3)return l;e=e.return}return[]}function lo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function m_(e,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var b=a,x=b.alternate,F=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||F===null||(x=F,f?(F=zs(a,d),F!=null&&E.unshift(Ml(a,F,x))):f||(F=zs(a,d),F!=null&&E.push(Ml(a,F,x)))),a=a.return}E.length!==0&&e.push({event:r,listeners:E})}var cw=/\r\n?/g,fw=/\u0000|\uFFFD/g;function p_(e){return(typeof e=="string"?e:""+e).replace(cw,`
`).replace(fw,"")}function g_(e,r){return r=p_(r),p_(e)===r}function Pc(){}function oe(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||$n(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&$n(e,""+l);break;case"className":Ti(e,"class",l);break;case"tabIndex":Ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(e,a,l);break;case"style":Yo(e,l,d);break;case"data":if(r!=="object"){Ti(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Na(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&oe(e,r,"name",f.name,f,null),oe(e,r,"formEncType",f.formEncType,f,null),oe(e,r,"formMethod",f.formMethod,f,null),oe(e,r,"formTarget",f.formTarget,f,null)):(oe(e,r,"encType",f.encType,f,null),oe(e,r,"method",f.method,f,null),oe(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Na(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Pc);break;case"onScroll":l!=null&&qt("scroll",e);break;case"onScrollEnd":l!=null&&qt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":qt("beforetoggle",e),qt("toggle",e),zr(e,"popover",l);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Th.get(a)||a,zr(e,a,l))}}function Zd(e,r,a,l,f,d){switch(a){case"style":Yo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?$n(e,l):(typeof l=="number"||typeof l=="bigint")&&$n(e,""+l);break;case"onScroll":l!=null&&qt("scroll",e);break;case"onScrollEnd":l!=null&&qt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[Wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):zr(e,a,l)}}}function sn(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",e),qt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:oe(e,r,d,E,a,null)}}f&&oe(e,r,"srcSet",a.srcSet,a,null),l&&oe(e,r,"src",a.src,a,null);return;case"input":qt("invalid",e);var b=d=E=f=null,x=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":E=X;break;case"checked":x=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:oe(e,r,l,X,a,null)}}Us(e,d,b,x,F,E,f,!1),Ia(e);return;case"select":qt("invalid",e),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:oe(e,r,f,b,a,null)}r=d,a=E,e.multiple=!!l,r!=null?Ji(e,!!l,r,!1):a!=null&&Ji(e,!!l,a,!0);return;case"textarea":qt("invalid",e),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:oe(e,r,E,b,a,null)}js(e,l,f,d),Ia(e);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:oe(e,r,x,l,a,null)}return;case"dialog":qt("beforetoggle",e),qt("toggle",e),qt("cancel",e),qt("close",e);break;case"iframe":case"object":qt("load",e);break;case"video":case"audio":for(l=0;l<Dl.length;l++)qt(Dl[l],e);break;case"image":qt("error",e),qt("load",e);break;case"details":qt("toggle",e);break;case"embed":case"source":case"link":qt("error",e),qt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:oe(e,r,F,l,a,null)}return;default:if(Qo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Zd(e,r,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&oe(e,r,b,l,a,null))}function hw(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,x=null,F=null,X=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":x=J;default:l.hasOwnProperty(K)||oe(e,r,K,null,l,J)}}for(var G in l){var K=l[G];if(J=a[G],l.hasOwnProperty(G)&&(K!=null||J!=null))switch(G){case"type":d=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":X=K;break;case"value":E=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==J&&oe(e,r,G,K,l,J)}}kn(e,E,b,x,F,X,d,f);return;case"select":K=E=b=G=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":K=x;default:l.hasOwnProperty(d)||oe(e,r,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==x&&oe(e,r,f,d,l,x)}r=b,a=E,l=K,G!=null?Ji(e,!!a,G,!1):!!l!=!!a&&(r!=null?Ji(e,!!a,r,!0):Ji(e,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:oe(e,r,b,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&oe(e,r,E,f,l,d)}se(e,G,K);return;case"option":for(var It in a)if(G=a[It],a.hasOwnProperty(It)&&G!=null&&!l.hasOwnProperty(It))switch(It){case"selected":e.selected=!1;break;default:oe(e,r,It,null,l,G)}for(x in l)if(G=l[x],K=a[x],l.hasOwnProperty(x)&&G!==K&&(G!=null||K!=null))switch(x){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:oe(e,r,x,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)G=a[St],a.hasOwnProperty(St)&&G!=null&&!l.hasOwnProperty(St)&&oe(e,r,St,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:oe(e,r,F,G,l,K)}return;default:if(Qo(r)){for(var le in a)G=a[le],a.hasOwnProperty(le)&&G!==void 0&&!l.hasOwnProperty(le)&&Zd(e,r,le,void 0,l,G);for(X in l)G=l[X],K=a[X],!l.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||Zd(e,r,X,G,l,K);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&oe(e,r,j,null,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G==null&&K==null||oe(e,r,J,G,l,K)}var Jd=null,tm=null;function Lc(e){return e.nodeType===9?e:e.ownerDocument}function y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function em(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nm=null;function dw(){var e=window.event;return e&&e.type==="popstate"?e===nm?!1:(nm=e,!0):(nm=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,pw=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(e){return E_.resolve(null).then(e).catch(gw)}:__;function gw(e){setTimeout(function(){throw e})}function ss(e){return e==="head"}function T_(e,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=e.ownerDocument;if(a&1&&Vl(E.documentElement),a&2&&Vl(E.body),a&4)for(a=E.head,Vl(a),E=a.firstChild;E;){var b=E.nextSibling,x=E.nodeName;E[Vs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(f===0){e.removeChild(d),Hl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Hl(r)}function im(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Br(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function yw(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Vs])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=di(e.nextSibling),e===null)break}return null}function vw(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=di(e.nextSibling),e===null))return null;return e}function rm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function _w(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function di(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var sm=null;function b_(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function S_(e,r,a){switch(r=Lc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Vl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Br(e)}var ii=new Map,w_=new Set;function Uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vr=it.d;it.d={f:Ew,r:Tw,D:bw,C:Sw,L:ww,m:Aw,X:Cw,S:Rw,M:Iw};function Ew(){var e=vr.f(),r=Nc();return e||r}function Tw(e){var r=_i(e);r!==null&&r.tag===5&&r.type==="form"?Fy(r):vr.r(e)}var uo=typeof document>"u"?null:document;function A_(e,r,a){var l=uo;if(l&&typeof r=="string"&&r){var f=Oe(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),w_.has(f)||(w_.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),sn(r,"link",e),Ae(r),l.head.appendChild(r)))}}function bw(e){vr.D(e),A_("dns-prefetch",e,null)}function Sw(e,r){vr.C(e,r),A_("preconnect",e,r)}function ww(e,r,a){vr.L(e,r,a);var l=uo;if(l&&e&&r){var f='link[rel="preload"][as="'+Oe(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Oe(a.imageSizes)+'"]')):f+='[href="'+Oe(e)+'"]';var d=f;switch(r){case"style":d=co(e);break;case"script":d=fo(e)}ii.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),ii.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(kl(d))||r==="script"&&l.querySelector(Pl(d))||(r=l.createElement("link"),sn(r,"link",e),Ae(r),l.head.appendChild(r)))}}function Aw(e,r){vr.m(e,r);var a=uo;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Oe(l)+'"][href="'+Oe(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fo(e)}if(!ii.has(d)&&(e=T({rel:"modulepreload",href:e},r),ii.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),sn(l,"link",e),Ae(l),a.head.appendChild(l)}}}function Rw(e,r,a){vr.S(e,r,a);var l=uo;if(l&&e){var f=_n(l).hoistableStyles,d=co(e);r=r||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(kl(d)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=ii.get(d))&&am(e,a);var x=E=l.createElement("link");Ae(x),sn(x,"link",e),x._p=new Promise(function(F,X){x.onload=F,x.onerror=X}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,jc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function Cw(e,r){vr.X(e,r);var a=uo;if(a&&e){var l=_n(a).hoistableScripts,f=fo(e),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(e=T({src:e,async:!0},r),(r=ii.get(f))&&om(e,r),d=a.createElement("script"),Ae(d),sn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Iw(e,r){vr.M(e,r);var a=uo;if(a&&e){var l=_n(a).hoistableScripts,f=fo(e),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=ii.get(f))&&om(e,r),d=a.createElement("script"),Ae(d),sn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function R_(e,r,a,l){var f=(f=mt.current)?Uc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=co(a.href),a=_n(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=co(a.href);var d=_n(f).hoistableStyles,E=d.get(e);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=f.querySelector(kl(e)))&&!d._p&&(E.instance=d,E.state.loading=5),ii.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ii.set(e,a),d||Nw(f,e,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=fo(a),a=_n(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function co(e){return'href="'+Oe(e)+'"'}function kl(e){return'link[rel="stylesheet"]['+e+"]"}function C_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Nw(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),sn(r,"link",a),Ae(r),e.head.appendChild(r))}function fo(e){return'[src="'+Oe(e)+'"]'}function Pl(e){return"script[async]"+e}function I_(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+Oe(a.href)+'"]');if(l)return r.instance=l,Ae(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ae(l),sn(l,"style",f),jc(l,a.precedence,e),r.instance=l;case"stylesheet":f=co(a.href);var d=e.querySelector(kl(f));if(d)return r.state.loading|=4,r.instance=d,Ae(d),d;l=C_(a),(f=ii.get(f))&&am(l,f),d=(e.ownerDocument||e).createElement("link"),Ae(d);var E=d;return E._p=new Promise(function(b,x){E.onload=b,E.onerror=x}),sn(d,"link",l),r.state.loading|=4,jc(d,a.precedence,e),r.instance=d;case"script":return d=fo(a.src),(f=e.querySelector(Pl(d)))?(r.instance=f,Ae(f),f):(l=a,(f=ii.get(d))&&(l=T({},a),om(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ae(f),sn(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,jc(l,a.precedence,e));return r.instance}function jc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function am(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function om(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Bc=null;function N_(e,r,a){if(Bc===null){var l=new Map,f=Bc=new Map;f.set(a,l)}else f=Bc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Vs]||d[me]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=e+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function x_(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function xw(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function O_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ll=null;function Ow(){}function Dw(e,r,a){if(Ll===null)throw Error(s(475));var l=Ll;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=co(a.href),d=e.querySelector(kl(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=zc.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=d,Ae(d);return}d=e.ownerDocument||e,a=C_(a),(f=ii.get(f))&&am(a,f),d=d.createElement("link"),Ae(d);var E=d;E._p=new Promise(function(b,x){E.onload=b,E.onerror=x}),sn(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=zc.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function Mw(){if(Ll===null)throw Error(s(475));var e=Ll;return e.stylesheets&&e.count===0&&lm(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&lm(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hc=null;function lm(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hc=new Map,r.forEach(Vw,e),Hc=null,zc.call(e))}function Vw(e,r){if(!(r.state.loading&4)){var a=Hc.get(e);if(a)var l=a.get(null);else{a=new Map,Hc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Ul={$$typeof:nt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function kw(e,r,a,l,f,d,E,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function D_(e,r,a,l,f,d,E,b,x,F,X,J){return e=new kw(e,r,a,E,b,x,F,J),r=1,d===!0&&(r|=24),d=Ln(3,null,null,r),e.current=d,d.stateNode=e,r=qh(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},$h(d),e}function M_(e){return e?(e=Ha,e):Ha}function V_(e,r,a,l,f,d){f=M_(f),l.context===null?l.context=f:l.pendingContext=f,l=Kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=$r(e,l,r),a!==null&&(Hn(a,e,r),ml(a,e,r))}function k_(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function um(e,r){k_(e,r),(e=e.alternate)&&k_(e,r)}function P_(e){if(e.tag===13){var r=za(e,67108864);r!==null&&Hn(r,e,67108864),um(e,67108864)}}var qc=!0;function Pw(e,r,a,l){var f=B.T;B.T=null;var d=it.p;try{it.p=2,cm(e,r,a,l)}finally{it.p=d,B.T=f}}function Lw(e,r,a,l){var f=B.T;B.T=null;var d=it.p;try{it.p=8,cm(e,r,a,l)}finally{it.p=d,B.T=f}}function cm(e,r,a,l){if(qc){var f=fm(l);if(f===null)Wd(e,r,l,Fc,a),U_(e,l);else if(jw(f,e,r,a,l))l.stopPropagation();else if(U_(e,l),r&4&&-1<Uw.indexOf(e)){for(;f!==null;){var d=_i(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Rn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var x=1<<31-Ne(E);b.entanglements[1]|=x,E&=~x}Mi(d),(ie&6)===0&&(Cc=he()+500,Ol(0))}}break;case 13:b=za(d,2),b!==null&&Hn(b,d,2),Nc(),um(d,2)}if(d=fm(l),d===null&&Wd(e,r,l,Fc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Wd(e,r,l,null,a)}}function fm(e){return e=Yn(e),hm(e)}var Fc=null;function hm(e){if(Fc=null,e=Xi(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Fc=e,null}function L_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case Je:return 2;case yi:return 8;case si:case Pe:return 32;case vn:return 268435456;default:return 32}default:return 32}}var dm=!1,as=null,os=null,ls=null,jl=new Map,Bl=new Map,us=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(e,r){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":jl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(r.pointerId)}}function zl(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=_i(r),r!==null&&P_(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function jw(e,r,a,l,f){switch(r){case"focusin":return as=zl(as,e,r,a,l,f),!0;case"dragenter":return os=zl(os,e,r,a,l,f),!0;case"mouseover":return ls=zl(ls,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return jl.set(d,zl(jl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Bl.set(d,zl(Bl.get(d)||null,e,r,a,l,f)),!0}return!1}function j_(e){var r=Xi(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,Ee(e.priority,function(){if(a.tag===13){var l=zn();l=fe(l);var f=za(a,l);f!==null&&Hn(f,a,l),um(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=fm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);tr=l,a.target.dispatchEvent(l),tr=null}else return r=_i(a),r!==null&&P_(r),e.blockedOn=a,!1;r.shift()}return!0}function B_(e,r,a){Gc(e)&&a.delete(r)}function Bw(){dm=!1,as!==null&&Gc(as)&&(as=null),os!==null&&Gc(os)&&(os=null),ls!==null&&Gc(ls)&&(ls=null),jl.forEach(B_),Bl.forEach(B_)}function Kc(e,r){e.blockedOn===r&&(e.blockedOn=null,dm||(dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bw)))}var $c=null;function z_(e){$c!==e&&($c=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){$c===e&&($c=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(hm(l||a)===null)continue;break}var d=_i(a);d!==null&&(e.splice(r,3),r-=3,hd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Hl(e){function r(x){return Kc(x,e)}as!==null&&Kc(as,e),os!==null&&Kc(os,e),ls!==null&&Kc(ls,e),jl.forEach(r),Bl.forEach(r);for(var a=0;a<us.length;a++){var l=us[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<us.length&&(a=us[0],a.blockedOn===null);)j_(a),a.blockedOn===null&&us.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Wt]||null;if(typeof d=="function")E||z_(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Wt]||null)b=E.formAction;else if(hm(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),z_(a)}}}function mm(e){this._internalRoot=e}Yc.prototype.render=mm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=zn();V_(a,l,e,r,null,null)},Yc.prototype.unmount=mm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;V_(e.current,2,null,e,null,null),Nc(),r[pe]=null}};function Yc(e){this._internalRoot=e}Yc.prototype.unstable_scheduleHydration=function(e){if(e){var r=Vn();e={blockedOn:null,target:e,priority:r};for(var a=0;a<us.length&&r!==0&&r<us[a].priority;a++);us.splice(a,0,e),a===0&&j_(e)}};var H_=t.version;if(H_!=="19.1.0")throw Error(s(527,H_,"19.1.0"));it.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var zw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{yt=Qc.inject(zw),Ut=Qc}catch{}}return Fl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=rv,d=sv,E=av,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=D_(e,1,!1,null,null,a,l,f,d,E,b,null),e[pe]=r.current,Xd(e),new mm(r)},Fl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=rv,E=sv,b=av,x=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=D_(e,1,!0,r,a??null,l,f,d,E,b,x,F),r.context=M_(null),a=r.current,l=zn(),l=fe(l),f=Kr(l),f.callback=null,$r(a,f,l),a=l,r.current.lanes=a,Kn(r,a),Mi(r),e[pe]=r.current,Xd(e),new Yc(r)},Fl.version="19.1.0",Fl}var Z_;function Xw(){if(Z_)return ym.exports;Z_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ym.exports=Qw(),ym.exports}var Ww=Xw();const Tp=N.createContext({handleKeyClick:()=>console.warn("KeyBoardContext: No handleKeyClick provider found!")});var YE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},J_=rt.createContext&&rt.createContext(YE),Zw=["attr","size","title"];function Jw(i,t){if(i==null)return{};var n=tA(i,t),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function tA(i,t){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function vf(){return vf=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},vf.apply(this,arguments)}function t0(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function _f(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t0(Object(n),!0).forEach(function(s){eA(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):t0(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function eA(i,t,n){return t=nA(t),t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function nA(i){var t=iA(i,"string");return typeof t=="symbol"?t:t+""}function iA(i,t){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function QE(i){return i&&i.map((t,n)=>rt.createElement(t.tag,_f({key:n},t.attr),QE(t.child)))}function Gf(i){return t=>rt.createElement(rA,vf({attr:_f({},i.attr)},t),QE(i.child))}function rA(i){var t=n=>{var{attr:s,size:o,title:u}=i,h=Jw(i,Zw),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),rt.createElement("svg",vf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:p,style:_f(_f({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&rt.createElement("title",null,u),i.children)};return J_!==void 0?rt.createElement(J_.Consumer,null,n=>t(n)):t(YE)}function sA(i){return Gf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M135.19 390.14a28.79 28.79 0 0 0 21.68 9.86h246.26A29 29 0 0 0 432 371.13V140.87A29 29 0 0 0 403.13 112H156.87a28.84 28.84 0 0 0-21.67 9.84L46.33 256l88.86 134.11z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336.67 192.33 206.66 322.34m130.01 0L206.66 192.33m130.01 0L206.66 322.34m130.01 0L206.66 192.33"},child:[]}]})(i)}function aA(i){return Gf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"28",d:"M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296"},child:[]},{tag:"circle",attr:{cx:"250",cy:"348",r:"20"},child:[]}]})(i)}function oA(i){return Gf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 496H72a24 24 0 0 1-24-24V328a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v144a24 24 0 0 1-24 24zm224 0h-32a24 24 0 0 1-24-24V232a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v240a24 24 0 0 1-24 24zm112 0h-32a24 24 0 0 1-24-24V120a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v352a24 24 0 0 1-24 24zm-224 0h-32a24 24 0 0 1-24-24V40a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v432a24 24 0 0 1-24 24z"},child:[]}]})(i)}const lA=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["ENTER","Z","X","C","V","B","N","M","BACKSPACE"]];function uA({className:i,keyColors:t}){const{handleKeyClick:n}=N.useContext(Tp);return C.jsx("div",{className:`keyboard ${i}`,children:lA.map((s,o)=>C.jsx(cA,{keyboardRow:s,index:o,handleKeyClick:n,keyColors:t},o))})}function cA({keyboardRow:i,index:t,keyColors:n}){const s=`keyboard-row ${t+1}`;return C.jsx("div",{className:s,children:i.map((o,u)=>C.jsx(fA,{keyboardKey:o,keyColors:n},u))})}function fA({keyboardKey:i,keyColors:t}){const{handleKeyClick:n}=N.useContext(Tp),o=`keyboard-key ${i.length>1?i.toLowerCase():"key-letter"} ${t.get(i)}`,u=i==="BACKSPACE"?null:i;return C.jsxs("button",{className:o,onClick:n,id:i,children:[i==="BACKSPACE"&&C.jsx(sA,{className:"backspace-img"}),u]})}var hA=$E();const fa=Ff(hA);function dA(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}const mA=i=>{switch(i){case"success":return yA;case"info":return _A;case"warning":return vA;case"error":return EA;default:return null}},pA=Array(12).fill(0),gA=({visible:i,className:t})=>rt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},rt.createElement("div",{className:"sonner-spinner"},pA.map((n,s)=>rt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),yA=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vA=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_A=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),EA=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TA=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},rt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),rt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bA=()=>{const[i,t]=rt.useState(document.hidden);return rt.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),i};let zm=1;class SA{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...o}=t,u=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:zm++,h=this.toasts.find(p=>p.id===u),m=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),h?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...t,id:u,title:s}),{...p,...t,id:u,dismissible:m,title:s}):p):this.addToast({title:s,...o,dismissible:m,id:u}),u},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let u=s!==void 0,h;const m=o.then(async g=>{if(h=["resolve",g],rt.isValidElement(g))u=!1,this.create({id:s,type:"default",message:g});else if(AA(g)&&!g.ok){u=!1;const _=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,S=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,z=typeof _=="object"&&!rt.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:S,...z})}else if(g instanceof Error){u=!1;const _=typeof n.error=="function"?await n.error(g):n.error,S=typeof n.description=="function"?await n.description(g):n.description,z=typeof _=="object"&&!rt.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:S,...z})}else if(n.success!==void 0){u=!1;const _=typeof n.success=="function"?await n.success(g):n.success,S=typeof n.description=="function"?await n.description(g):n.description,z=typeof _=="object"&&!rt.isValidElement(_)?_:{message:_};this.create({id:s,type:"success",description:S,...z})}}).catch(async g=>{if(h=["reject",g],n.error!==void 0){u=!1;const T=typeof n.error=="function"?await n.error(g):n.error,_=typeof n.description=="function"?await n.description(g):n.description,L=typeof T=="object"&&!rt.isValidElement(T)?T:{message:T};this.create({id:s,type:"error",description:_,...L})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((g,T)=>m.then(()=>h[0]==="reject"?T(h[1]):g(h[1])).catch(T));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||zm++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const On=new SA,wA=(i,t)=>{const n=(t==null?void 0:t.id)||zm++;return On.addToast({title:i,...t,id:n}),n},AA=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",RA=wA,CA=()=>On.toasts,IA=()=>On.getActiveToasts(),Pi=Object.assign(RA,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:CA,getToasts:IA});dA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Xc(i){return i.label!==void 0}const NA=3,xA="24px",OA="16px",e0=4e3,DA=356,MA=14,VA=45,kA=200;function Vi(...i){return i.filter(Boolean).join(" ")}function PA(i){const[t,n]=i.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const LA=i=>{var t,n,s,o,u,h,m,p,g;const{invert:T,toast:_,unstyled:S,interacting:L,setHeights:z,visibleToasts:W,heights:U,index:ot,toasts:dt,expanded:nt,removeToast:ut,defaultRichColors:at,closeButton:lt,style:O,cancelButtonStyle:A,actionButtonStyle:R,className:M="",descriptionClassName:V="",duration:P,position:I,gap:Et,expandByDefault:Mt,classNames:B,icons:it,closeButtonAriaLabel:ft="Close toast"}=i,[Rt,D]=rt.useState(null),[$,et]=rt.useState(null),[Q,ct]=rt.useState(!1),[_t,mt]=rt.useState(!1),[ne,Bt]=rt.useState(!1),[_e,we]=rt.useState(!1),[un,Ze]=rt.useState(!1),[yn,Ge]=rt.useState(0),[Xt,Gn]=rt.useState(0),he=rt.useRef(_.duration||P||e0),Pr=rt.useRef(null),Je=rt.useRef(null),yi=ot===0,si=ot+1<=W,Pe=_.type,vn=_.dismissible!==!1,vi=_.className||"",Lr=_.descriptionClassName||"",yt=rt.useMemo(()=>U.findIndex(bt=>bt.toastId===_.id)||0,[U,_.id]),Ut=rt.useMemo(()=>{var bt;return(bt=_.closeButton)!=null?bt:lt},[_.closeButton,lt]),Le=rt.useMemo(()=>_.duration||P||e0,[_.duration,P]),Ne=rt.useRef(0),ai=rt.useRef(0),Sa=rt.useRef(0),An=rt.useRef(null),[Fi,Gi]=I.split("-"),Rn=rt.useMemo(()=>U.reduce((bt,de,fe)=>fe>=yt?bt:bt+de.height,0),[U,yt]),Ki=bA(),$i=_.invert||T,Yi=Pe==="loading";ai.current=rt.useMemo(()=>yt*Et+Rn,[yt,Rn]),rt.useEffect(()=>{he.current=Le},[Le]),rt.useEffect(()=>{ct(!0)},[]),rt.useEffect(()=>{const bt=Je.current;if(bt){const de=bt.getBoundingClientRect().height;return Gn(de),z(fe=>[{toastId:_.id,height:de,position:_.position},...fe]),()=>z(fe=>fe.filter(xe=>xe.toastId!==_.id))}},[z,_.id]),rt.useLayoutEffect(()=>{if(!Q)return;const bt=Je.current,de=bt.style.height;bt.style.height="auto";const fe=bt.getBoundingClientRect().height;bt.style.height=de,Gn(fe),z(xe=>xe.find(Ee=>Ee.toastId===_.id)?xe.map(Ee=>Ee.toastId===_.id?{...Ee,height:fe}:Ee):[{toastId:_.id,height:fe,position:_.position},...xe])},[Q,_.title,_.description,z,_.id,_.jsx,_.action,_.cancel]);const Cn=rt.useCallback(()=>{mt(!0),Ge(ai.current),z(bt=>bt.filter(de=>de.toastId!==_.id)),setTimeout(()=>{ut(_)},kA)},[_,ut,z,ai]);rt.useEffect(()=>{if(_.promise&&Pe==="loading"||_.duration===1/0||_.type==="loading")return;let bt;return nt||L||Ki?(()=>{if(Sa.current<Ne.current){const xe=new Date().getTime()-Ne.current;he.current=he.current-xe}Sa.current=new Date().getTime()})():(()=>{he.current!==1/0&&(Ne.current=new Date().getTime(),bt=setTimeout(()=>{_.onAutoClose==null||_.onAutoClose.call(_,_),Cn()},he.current))})(),()=>clearTimeout(bt)},[nt,L,_,Pe,Ki,Cn]),rt.useEffect(()=>{_.delete&&(Cn(),_.onDismiss==null||_.onDismiss.call(_,_))},[Cn,_.delete]);function Ms(){var bt;if(it!=null&&it.loading){var de;return rt.createElement("div",{className:Vi(B==null?void 0:B.loader,_==null||(de=_.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":Pe==="loading"},it.loading)}return rt.createElement(gA,{className:Vi(B==null?void 0:B.loader,_==null||(bt=_.classNames)==null?void 0:bt.loader),visible:Pe==="loading"})}const oi=_.icon||(it==null?void 0:it[Pe])||mA(Pe);var Kn,Ur;return rt.createElement("li",{tabIndex:0,ref:Je,className:Vi(M,vi,B==null?void 0:B.toast,_==null||(t=_.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[Pe],_==null||(n=_.classNames)==null?void 0:n[Pe]),"data-sonner-toast":"","data-rich-colors":(Kn=_.richColors)!=null?Kn:at,"data-styled":!(_.jsx||_.unstyled||S),"data-mounted":Q,"data-promise":!!_.promise,"data-swiped":un,"data-removed":_t,"data-visible":si,"data-y-position":Fi,"data-x-position":Gi,"data-index":ot,"data-front":yi,"data-swiping":ne,"data-dismissible":vn,"data-type":Pe,"data-invert":$i,"data-swipe-out":_e,"data-swipe-direction":$,"data-expanded":!!(nt||Mt&&Q),style:{"--index":ot,"--toasts-before":ot,"--z-index":dt.length-ot,"--offset":`${_t?yn:ai.current}px`,"--initial-height":Mt?"auto":`${Xt}px`,...O,..._.style},onDragEnd:()=>{Bt(!1),D(null),An.current=null},onPointerDown:bt=>{Yi||!vn||(Pr.current=new Date,Ge(ai.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(Bt(!0),An.current={x:bt.clientX,y:bt.clientY}))},onPointerUp:()=>{var bt,de,fe;if(_e||!vn)return;An.current=null;const xe=Number(((bt=Je.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Vn=Number(((de=Je.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ee=new Date().getTime()-((fe=Pr.current)==null?void 0:fe.getTime()),zt=Rt==="x"?xe:Vn,me=Math.abs(zt)/Ee;if(Math.abs(zt)>=VA||me>.11){Ge(ai.current),_.onDismiss==null||_.onDismiss.call(_,_),et(Rt==="x"?xe>0?"right":"left":Vn>0?"down":"up"),Cn(),we(!0);return}else{var Wt,pe;(Wt=Je.current)==null||Wt.style.setProperty("--swipe-amount-x","0px"),(pe=Je.current)==null||pe.style.setProperty("--swipe-amount-y","0px")}Ze(!1),Bt(!1),D(null)},onPointerMove:bt=>{var de,fe,xe;if(!An.current||!vn||((de=window.getSelection())==null?void 0:de.toString().length)>0)return;const Ee=bt.clientY-An.current.y,zt=bt.clientX-An.current.x;var me;const Wt=(me=i.swipeDirections)!=null?me:PA(I);!Rt&&(Math.abs(zt)>1||Math.abs(Ee)>1)&&D(Math.abs(zt)>Math.abs(Ee)?"x":"y");let pe={x:0,y:0};const jr=li=>1/(1.5+Math.abs(li)/20);if(Rt==="y"){if(Wt.includes("top")||Wt.includes("bottom"))if(Wt.includes("top")&&Ee<0||Wt.includes("bottom")&&Ee>0)pe.y=Ee;else{const li=Ee*jr(Ee);pe.y=Math.abs(li)<Math.abs(Ee)?li:Ee}}else if(Rt==="x"&&(Wt.includes("left")||Wt.includes("right")))if(Wt.includes("left")&&zt<0||Wt.includes("right")&&zt>0)pe.x=zt;else{const li=zt*jr(zt);pe.x=Math.abs(li)<Math.abs(zt)?li:zt}(Math.abs(pe.x)>0||Math.abs(pe.y)>0)&&Ze(!0),(fe=Je.current)==null||fe.style.setProperty("--swipe-amount-x",`${pe.x}px`),(xe=Je.current)==null||xe.style.setProperty("--swipe-amount-y",`${pe.y}px`)}},Ut&&!_.jsx&&Pe!=="loading"?rt.createElement("button",{"aria-label":ft,"data-disabled":Yi,"data-close-button":!0,onClick:Yi||!vn?()=>{}:()=>{Cn(),_.onDismiss==null||_.onDismiss.call(_,_)},className:Vi(B==null?void 0:B.closeButton,_==null||(s=_.classNames)==null?void 0:s.closeButton)},(Ur=it==null?void 0:it.close)!=null?Ur:TA):null,(Pe||_.icon||_.promise)&&_.icon!==null&&((it==null?void 0:it[Pe])!==null||_.icon)?rt.createElement("div",{"data-icon":"",className:Vi(B==null?void 0:B.icon,_==null||(o=_.classNames)==null?void 0:o.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||Ms():null,_.type!=="loading"?oi:null):null,rt.createElement("div",{"data-content":"",className:Vi(B==null?void 0:B.content,_==null||(u=_.classNames)==null?void 0:u.content)},rt.createElement("div",{"data-title":"",className:Vi(B==null?void 0:B.title,_==null||(h=_.classNames)==null?void 0:h.title)},_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title),_.description?rt.createElement("div",{"data-description":"",className:Vi(V,Lr,B==null?void 0:B.description,_==null||(m=_.classNames)==null?void 0:m.description)},typeof _.description=="function"?_.description():_.description):null),rt.isValidElement(_.cancel)?_.cancel:_.cancel&&Xc(_.cancel)?rt.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||A,onClick:bt=>{Xc(_.cancel)&&vn&&(_.cancel.onClick==null||_.cancel.onClick.call(_.cancel,bt),Cn())},className:Vi(B==null?void 0:B.cancelButton,_==null||(p=_.classNames)==null?void 0:p.cancelButton)},_.cancel.label):null,rt.isValidElement(_.action)?_.action:_.action&&Xc(_.action)?rt.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||R,onClick:bt=>{Xc(_.action)&&(_.action.onClick==null||_.action.onClick.call(_.action,bt),!bt.defaultPrevented&&Cn())},className:Vi(B==null?void 0:B.actionButton,_==null||(g=_.classNames)==null?void 0:g.actionButton)},_.action.label):null)};function n0(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function UA(i,t){const n={};return[i,t].forEach((s,o)=>{const u=o===1,h=u?"--mobile-offset":"--offset",m=u?OA:xA;function p(g){["top","right","bottom","left"].forEach(T=>{n[`${h}-${T}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?n[`${h}-${g}`]=m:n[`${h}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):p(m)}),n}const yu=rt.forwardRef(function(t,n){const{invert:s,position:o="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:m,className:p,offset:g,mobileOffset:T,theme:_="light",richColors:S,duration:L,style:z,visibleToasts:W=NA,toastOptions:U,dir:ot=n0(),gap:dt=MA,icons:nt,containerAriaLabel:ut="Notifications"}=t,[at,lt]=rt.useState([]),O=rt.useMemo(()=>Array.from(new Set([o].concat(at.filter($=>$.position).map($=>$.position)))),[at,o]),[A,R]=rt.useState([]),[M,V]=rt.useState(!1),[P,I]=rt.useState(!1),[Et,Mt]=rt.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=rt.useRef(null),it=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ft=rt.useRef(null),Rt=rt.useRef(!1),D=rt.useCallback($=>{lt(et=>{var Q;return(Q=et.find(ct=>ct.id===$.id))!=null&&Q.delete||On.dismiss($.id),et.filter(({id:ct})=>ct!==$.id)})},[]);return rt.useEffect(()=>On.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{lt(et=>et.map(Q=>Q.id===$.id?{...Q,delete:!0}:Q))});return}setTimeout(()=>{fa.flushSync(()=>{lt(et=>{const Q=et.findIndex(ct=>ct.id===$.id);return Q!==-1?[...et.slice(0,Q),{...et[Q],...$},...et.slice(Q+1)]:[$,...et]})})})}),[at]),rt.useEffect(()=>{if(_!=="system"){Mt(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Mt("dark"):Mt("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:et})=>{Mt(et?"dark":"light")})}catch{$.addListener(({matches:Q})=>{try{Mt(Q?"dark":"light")}catch(ct){console.error(ct)}})}},[_]),rt.useEffect(()=>{at.length<=1&&V(!1)},[at]),rt.useEffect(()=>{const $=et=>{var Q;if(u.every(mt=>et[mt]||et.code===mt)){var _t;V(!0),(_t=B.current)==null||_t.focus()}et.code==="Escape"&&(document.activeElement===B.current||(Q=B.current)!=null&&Q.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[u]),rt.useEffect(()=>{if(B.current)return()=>{ft.current&&(ft.current.focus({preventScroll:!0}),ft.current=null,Rt.current=!1)}},[B.current]),rt.createElement("section",{ref:n,"aria-label":`${ut} ${it}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map(($,et)=>{var Q;const[ct,_t]=$.split("-");return at.length?rt.createElement("ol",{key:$,dir:ot==="auto"?n0():ot,tabIndex:-1,ref:B,className:p,"data-sonner-toaster":!0,"data-sonner-theme":Et,"data-y-position":ct,"data-x-position":_t,style:{"--front-toast-height":`${((Q=A[0])==null?void 0:Q.height)||0}px`,"--width":`${DA}px`,"--gap":`${dt}px`,...z,...UA(g,T)},onBlur:mt=>{Rt.current&&!mt.currentTarget.contains(mt.relatedTarget)&&(Rt.current=!1,ft.current&&(ft.current.focus({preventScroll:!0}),ft.current=null))},onFocus:mt=>{mt.target instanceof HTMLElement&&mt.target.dataset.dismissible==="false"||Rt.current||(Rt.current=!0,ft.current=mt.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{P||V(!1)},onDragEnd:()=>V(!1),onPointerDown:mt=>{mt.target instanceof HTMLElement&&mt.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},at.filter(mt=>!mt.position&&et===0||mt.position===$).map((mt,ne)=>{var Bt,_e;return rt.createElement(LA,{key:mt.id,icons:nt,index:ne,toast:mt,defaultRichColors:S,duration:(Bt=U==null?void 0:U.duration)!=null?Bt:L,className:U==null?void 0:U.className,descriptionClassName:U==null?void 0:U.descriptionClassName,invert:s,visibleToasts:W,closeButton:(_e=U==null?void 0:U.closeButton)!=null?_e:m,interacting:P,position:$,style:U==null?void 0:U.style,unstyled:U==null?void 0:U.unstyled,classNames:U==null?void 0:U.classNames,cancelButtonStyle:U==null?void 0:U.cancelButtonStyle,actionButtonStyle:U==null?void 0:U.actionButtonStyle,closeButtonAriaLabel:U==null?void 0:U.closeButtonAriaLabel,removeToast:D,toasts:at.filter(we=>we.position==mt.position),heights:A.filter(we=>we.position==mt.position),setHeights:R,expandByDefault:h,gap:dt,expanded:M,swipeDirections:t.swipeDirections})})):null}))});function jA({guesses:i,className:t,wordLength:n,highLight:s}){return C.jsx("div",{className:`wordle-board ${t}`,children:i.map((o,u)=>C.jsx(BA,{guess:o,wordLength:n,highLight:u===s-1?"highlight":""},u))})}function BA({guess:i,wordLength:t,highLight:n}){const s=[];for(let o=0;o<t;o++){let u=i.word[o],h=`tile ${i.colors[o]}`,m=`letter ${i.colors[o]}`;s.push(C.jsx("div",{className:h+" "+n,style:{"--index":o},children:C.jsxs("div",{className:"tile-inner",style:{"--index":o},children:[C.jsx("div",{className:"letter black",style:{"--index":o},children:C.jsx("span",{children:u})}),C.jsx("div",{className:m,style:{"--index":o},children:C.jsx("span",{children:u})})]})},o))}return C.jsx(C.Fragment,{children:s})}function bp({darkMode:i,gameMode:t,solution:n,wordSet:s,gameResult:o,setGameResult:u,rowIndex:h,numOfGuesses:m,wordLength:p,highLight:g,guesses:T,setGuesses:_,keyColors:S,setKeyColors:L,baseColors:z,userData:W}){const U=N.useRef({word:"",colors:z}),ot=N.useRef(!0),dt=A=>new Promise(R=>setTimeout(R,A)),nt=(A,R)=>{setTimeout(()=>{S.get(A)!=="green"&&L(M=>{const V=new Map(M);return V.set(A,R),V})},1700)},ut=A=>{const R=[...T];R[h.current]={...A},_(R)},at=async()=>{const A=new Array(p).fill(void 0),R=new Map,M=[];let V=0;const P=new Map;n.forEach(I=>P.has(I)?P.set(I,P.get(I)+1):P.set(I,1)),U.current.word.split("").forEach((I,Et)=>{I===n[Et]?(A[Et]="green",R.set(I,"green"),V++,P.set(I,P.get(I)-1)):M.push(Et)}),M.forEach(I=>{const Et=U.current.word[I];P.get(Et)&&n.includes(Et)?(A[I]="orange",P.set(Et,P.get(Et)-1),!R.has(Et)&&R.set(Et,"orange")):(A[I]="grey",!R.has(Et)&&R.set(Et,"grey"))}),R.forEach((I,Et)=>{nt(Et,I)}),U.current={word:U.current.word,colors:A},ut(U.current),await dt(1700),V===p&&(await dt(1e3),u("guessed"))},lt=A=>{O(A.target.id)},O=async A=>{!o&&ot.current&&(A==="ENTER"?U.current.word.length===p?s.current.has(U.current.word.toLowerCase())?(ot.current=!1,await at(),h.current++,U.current={word:"",colors:z},ot.current=!0,!o&&h.current>=m&&(u("failed"),h.current++)):Pi.warning("Not in the word bank."):Pi.warning("Too short."):h.current<m&&(A==="BACKSPACE"&&U.current.word.length>0?(U.current.word=U.current.word.slice(0,-1),ut(U.current)):/[A-Z]/.test(A)&&A.length===1&&U.current.word.length<p&&(U.current.word=U.current.word+A,ut(U.current))))};return N.useEffect(()=>{var A;if(t==="practice"||t!=="practice"&&!((A=W.current)!=null&&A.statistics.gameModes[`${t}GM`].finishedToday)){const R=M=>{O(M.key.toUpperCase())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)}},[T]),C.jsxs(C.Fragment,{children:[C.jsx(yu,{richColors:!0,position:"top-center"}),C.jsx("h3",{className:`game-mode ${i}`,children:t}),C.jsx(jA,{guesses:T,className:i,wordLength:p,highLight:g}),C.jsx(Tp.Provider,{value:{handleKeyClick:lt},children:C.jsx(uA,{className:i,keyColors:S})})]})}const zA=(i=!0)=>{const t=N.useRef(i),[n,s]=N.useState(t.current?"dark":"light"),o=N.useCallback(()=>{t.current=!t.current,s(t.current?"dark":"light")},[]);return[n,o]};var Tm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var i0;function HA(){return i0||(i0=1,function(i){(function(){var t={}.hasOwnProperty;function n(){for(var u="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(u=o(u,s(m)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var m in u)t.call(u,m)&&u[m]&&(h=o(h,m));return h}function o(u,h){return h?u?u+" "+h:u+h:u}i.exports?(n.default=n,i.exports=n):window.classNames=n})()}(Tm)),Tm.exports}var qA=HA();const xt=Ff(qA);function Hm(){return Hm=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Hm.apply(null,arguments)}function XE(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)!==-1)continue;n[s]=i[s]}return n}function r0(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function FA(i){var t=GA(i,"string");return typeof t=="symbol"?t:String(t)}function GA(i,t){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function KA(i,t,n){var s=N.useRef(i!==void 0),o=N.useState(t),u=o[0],h=o[1],m=i!==void 0,p=s.current;return s.current=m,!m&&p&&u!==t&&h(t),[m?i:u,N.useCallback(function(g){for(var T=arguments.length,_=new Array(T>1?T-1:0),S=1;S<T;S++)_[S-1]=arguments[S];n&&n.apply(void 0,[g].concat(_)),h(g)},[n])]}function Sp(i,t){return Object.keys(t).reduce(function(n,s){var o,u=n,h=u[r0(s)],m=u[s],p=XE(u,[r0(s),s].map(FA)),g=t[s],T=KA(m,h,i[g]),_=T[0],S=T[1];return Hm({},p,(o={},o[s]=_,o[g]=S,o))},i)}function qm(i,t){return qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qm(i,t)}function $A(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,qm(i,t)}const YA=["xxl","xl","lg","md","sm","xs"],QA="xs",vu=N.createContext({prefixes:{},breakpoints:YA,minBreakpoint:QA}),{Consumer:v4,Provider:_4}=vu;function Lt(i,t){const{prefixes:n}=N.useContext(vu);return i||n[t]||t}function XA(){const{breakpoints:i}=N.useContext(vu);return i}function WA(){const{minBreakpoint:i}=N.useContext(vu);return i}function ZA(){const{dir:i}=N.useContext(vu);return i==="rtl"}function Kf(i){return i&&i.ownerDocument||document}function JA(i){var t=Kf(i);return t&&t.defaultView||window}function tR(i,t){return JA(i).getComputedStyle(i,t)}var eR=/([A-Z])/g;function nR(i){return i.replace(eR,"-$1").toLowerCase()}var iR=/^ms-/;function Wc(i){return nR(i).replace(iR,"-ms-")}var rR=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function sR(i){return!!(i&&rR.test(i))}function Sr(i,t){var n="",s="";if(typeof t=="string")return i.style.getPropertyValue(Wc(t))||tR(i).getPropertyValue(Wc(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?i.style.removeProperty(Wc(o)):sR(o)?s+=o+"("+u+") ":n+=Wc(o)+": "+u+";"}),s&&(n+="transform: "+s+";"),i.style.cssText+=";"+n}var bm={exports:{}},Sm,s0;function aR(){if(s0)return Sm;s0=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Sm=i,Sm}var wm,a0;function oR(){if(a0)return wm;a0=1;var i=aR();function t(){}function n(){}return n.resetWarningCache=t,wm=function(){function s(h,m,p,g,T,_){if(_!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return u.PropTypes=u,u},wm}var o0;function lR(){return o0||(o0=1,bm.exports=oR()()),bm.exports}var uR=lR();const wr=Ff(uR),l0={disabled:!1},WE=rt.createContext(null);var cR=function(t){return t.scrollTop},Kl="unmounted",hs="exited",mi="entering",_r="entered",ru="exiting",Vr=function(i){$A(t,i);function t(s,o){var u;u=i.call(this,s,o)||this;var h=o,m=h&&!h.isMounting?s.enter:s.appear,p;return u.appearStatus=null,s.in?m?(p=hs,u.appearStatus=mi):p=_r:s.unmountOnExit||s.mountOnEnter?p=Kl:p=hs,u.state={status:p},u.nextCallback=null,u}t.getDerivedStateFromProps=function(o,u){var h=o.in;return h&&u.status===Kl?{status:hs}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var u=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==mi&&h!==_r&&(u=mi):(h===mi||h===_r)&&(u=ru)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,u,h,m;return u=h=m=o,o!=null&&typeof o!="number"&&(u=o.exit,h=o.enter,m=o.appear!==void 0?o.appear:h),{exit:u,enter:h,appear:m}},n.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===mi){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:fa.findDOMNode(this);h&&cR(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===hs&&this.setState({status:Kl})},n.performEnter=function(o){var u=this,h=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[fa.findDOMNode(this),m],g=p[0],T=p[1],_=this.getTimeouts(),S=m?_.appear:_.enter;if(!o&&!h||l0.disabled){this.safeSetState({status:_r},function(){u.props.onEntered(g)});return}this.props.onEnter(g,T),this.safeSetState({status:mi},function(){u.props.onEntering(g,T),u.onTransitionEnd(S,function(){u.safeSetState({status:_r},function(){u.props.onEntered(g,T)})})})},n.performExit=function(){var o=this,u=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:fa.findDOMNode(this);if(!u||l0.disabled){this.safeSetState({status:hs},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:ru},function(){o.props.onExiting(m),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:hs},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},n.setNextCallback=function(o){var u=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,u.nextCallback=null,o(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},n.onTransitionEnd=function(o,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:fa.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],T=p[1];this.props.addEndListener(g,T)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Kl)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=XE(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return rt.createElement(WE.Provider,{value:null},typeof h=="function"?h(o,m):rt.cloneElement(rt.Children.only(h),m))},t}(rt.Component);Vr.contextType=WE;Vr.propTypes={};function ho(){}Vr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ho,onEntering:ho,onEntered:ho,onExit:ho,onExiting:ho,onExited:ho};Vr.UNMOUNTED=Kl;Vr.EXITED=hs;Vr.ENTERING=mi;Vr.ENTERED=_r;Vr.EXITING=ru;function fR(i){return i.code==="Escape"||i.keyCode===27}function hR(){const i=N.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Vo(i){if(!i||typeof i=="function")return null;const{major:t}=hR();return t>=19?i.props.ref:i.ref}const ko=!!(typeof window<"u"&&window.document&&window.document.createElement);var Fm=!1,Gm=!1;try{var Am={get passive(){return Fm=!0},get once(){return Gm=Fm=!0}};ko&&(window.addEventListener("test",Am,Am),window.removeEventListener("test",Am,!0))}catch{}function ZE(i,t,n,s){if(s&&typeof s!="boolean"&&!Gm){var o=s.once,u=s.capture,h=n;!Gm&&o&&(h=n.__once||function m(p){this.removeEventListener(t,m,u),n.call(this,p)},n.__once=h),i.addEventListener(t,h,Fm?s:u)}i.addEventListener(t,n,s)}function Km(i,t,n,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(t,n,o),n.__once&&i.removeEventListener(t,n.__once,o)}function Ef(i,t,n,s){return ZE(i,t,n,s),function(){Km(i,t,n,s)}}function dR(i,t,n,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,s),i.dispatchEvent(o)}}function mR(i){var t=Sr(i,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function pR(i,t,n){n===void 0&&(n=5);var s=!1,o=setTimeout(function(){s||dR(i,"transitionend",!0)},t+n),u=Ef(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function JE(i,t,n,s){n==null&&(n=mR(i)||0);var o=pR(i,n,s),u=Ef(i,"transitionend",t);return function(){o(),u()}}function u0(i,t){const n=Sr(i,t)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function wp(i,t){const n=u0(i,"transitionDuration"),s=u0(i,"transitionDelay"),o=JE(i,u=>{u.target===i&&(o(),t(u))},n+s)}function Gl(...i){return i.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...o){t.apply(this,o),n.apply(this,o)}},null)}function tT(i){i.offsetHeight}const c0=i=>!i||typeof i=="function"?i:t=>{i.current=t};function gR(i,t){const n=c0(i),s=c0(t);return o=>{n&&n(o),s&&s(o)}}function eT(i,t){return N.useMemo(()=>gR(i,t),[i,t])}function yR(i){return i&&"setState"in i?fa.findDOMNode(i):i??null}const $f=rt.forwardRef(({onEnter:i,onEntering:t,onEntered:n,onExit:s,onExiting:o,onExited:u,addEndListener:h,children:m,childRef:p,...g},T)=>{const _=N.useRef(null),S=eT(_,p),L=lt=>{S(yR(lt))},z=lt=>O=>{lt&&_.current&&lt(_.current,O)},W=N.useCallback(z(i),[i]),U=N.useCallback(z(t),[t]),ot=N.useCallback(z(n),[n]),dt=N.useCallback(z(s),[s]),nt=N.useCallback(z(o),[o]),ut=N.useCallback(z(u),[u]),at=N.useCallback(z(h),[h]);return C.jsx(Vr,{ref:T,...g,onEnter:W,onEntered:ot,onEntering:U,onExit:dt,onExited:ut,onExiting:nt,addEndListener:at,nodeRef:_,children:typeof m=="function"?(lt,O)=>m(lt,{...O,ref:L}):rt.cloneElement(m,{ref:L})})});$f.displayName="TransitionWrapper";const vR={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function _R(i,t){const n=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=t[n],o=vR[i];return s+parseInt(Sr(t,o[0]),10)+parseInt(Sr(t,o[1]),10)}const ER={[hs]:"collapse",[ru]:"collapsing",[mi]:"collapsing",[_r]:"collapse show"},Ap=rt.forwardRef(({onEnter:i,onEntering:t,onEntered:n,onExit:s,onExiting:o,className:u,children:h,dimension:m="height",in:p=!1,timeout:g=300,mountOnEnter:T=!1,unmountOnExit:_=!1,appear:S=!1,getDimensionValue:L=_R,...z},W)=>{const U=typeof m=="function"?m():m,ot=N.useMemo(()=>Gl(lt=>{lt.style[U]="0"},i),[U,i]),dt=N.useMemo(()=>Gl(lt=>{const O=`scroll${U[0].toUpperCase()}${U.slice(1)}`;lt.style[U]=`${lt[O]}px`},t),[U,t]),nt=N.useMemo(()=>Gl(lt=>{lt.style[U]=null},n),[U,n]),ut=N.useMemo(()=>Gl(lt=>{lt.style[U]=`${L(U,lt)}px`,tT(lt)},s),[s,L,U]),at=N.useMemo(()=>Gl(lt=>{lt.style[U]=null},o),[U,o]);return C.jsx($f,{ref:W,addEndListener:wp,...z,"aria-expanded":z.role?p:null,onEnter:ot,onEntering:dt,onEntered:nt,onExit:ut,onExiting:at,childRef:Vo(h),in:p,timeout:g,mountOnEnter:T,unmountOnExit:_,appear:S,children:(lt,O)=>rt.cloneElement(h,{...O,className:xt(u,h.props.className,ER[lt],U==="width"&&"collapse-horizontal")})})});Ap.displayName="Collapse";function nT(i,t){return Array.isArray(i)?i.includes(t):i===t}const _u=N.createContext({});_u.displayName="AccordionContext";const Rp=N.forwardRef(({as:i="div",bsPrefix:t,className:n,children:s,eventKey:o,...u},h)=>{const{activeEventKey:m}=N.useContext(_u);return t=Lt(t,"accordion-collapse"),C.jsx(Ap,{ref:h,in:nT(m,o),...u,className:xt(n,t),children:C.jsx(i,{children:N.Children.only(s)})})});Rp.displayName="AccordionCollapse";const Yf=N.createContext({eventKey:""});Yf.displayName="AccordionItemContext";const iT=N.forwardRef(({as:i="div",bsPrefix:t,className:n,onEnter:s,onEntering:o,onEntered:u,onExit:h,onExiting:m,onExited:p,...g},T)=>{t=Lt(t,"accordion-body");const{eventKey:_}=N.useContext(Yf);return C.jsx(Rp,{eventKey:_,onEnter:s,onEntering:o,onEntered:u,onExit:h,onExiting:m,onExited:p,children:C.jsx(i,{ref:T,...g,className:xt(n,t)})})});iT.displayName="AccordionBody";function TR(i,t){const{activeEventKey:n,onSelect:s,alwaysOpen:o}=N.useContext(_u);return u=>{let h=i===n?null:i;o&&(Array.isArray(n)?n.includes(i)?h=n.filter(m=>m!==i):h=[...n,i]:h=[i]),s==null||s(h,u),t==null||t(u)}}const Cp=N.forwardRef(({as:i="button",bsPrefix:t,className:n,onClick:s,...o},u)=>{t=Lt(t,"accordion-button");const{eventKey:h}=N.useContext(Yf),m=TR(h,s),{activeEventKey:p}=N.useContext(_u);return i==="button"&&(o.type="button"),C.jsx(i,{ref:u,onClick:m,...o,"aria-expanded":Array.isArray(p)?p.includes(h):h===p,className:xt(n,t,!nT(p,h)&&"collapsed")})});Cp.displayName="AccordionButton";const rT=N.forwardRef(({as:i="h2","aria-controls":t,bsPrefix:n,className:s,children:o,onClick:u,...h},m)=>(n=Lt(n,"accordion-header"),C.jsx(i,{ref:m,...h,className:xt(s,n),children:C.jsx(Cp,{onClick:u,"aria-controls":t,children:o})})));rT.displayName="AccordionHeader";const sT=N.forwardRef(({as:i="div",bsPrefix:t,className:n,eventKey:s,...o},u)=>{t=Lt(t,"accordion-item");const h=N.useMemo(()=>({eventKey:s}),[s]);return C.jsx(Yf.Provider,{value:h,children:C.jsx(i,{ref:u,...o,className:xt(n,t)})})});sT.displayName="AccordionItem";const aT=N.forwardRef((i,t)=>{const{as:n="div",activeKey:s,bsPrefix:o,className:u,onSelect:h,flush:m,alwaysOpen:p,...g}=Sp(i,{activeKey:"onSelect"}),T=Lt(o,"accordion"),_=N.useMemo(()=>({activeEventKey:s,onSelect:h,alwaysOpen:p}),[s,h,p]);return C.jsx(_u.Provider,{value:_,children:C.jsx(n,{ref:t,...g,className:xt(u,T,m&&`${T}-flush`)})})});aT.displayName="Accordion";const Zc=Object.assign(aT,{Button:Cp,Collapse:Rp,Item:sT,Header:rT,Body:iT});function bR(i){return Gf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(i)}const SR=()=>{};var f0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},wR=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,_=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,L=g&63;p||(L=64,h||(S=64)),s.push(n[T],n[_],n[S],n[L])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(oT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):wR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const _=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||_==null)throw new AR;const S=u<<2|m>>4;if(s.push(S),g!==64){const L=m<<4&240|g>>2;if(s.push(L),_!==64){const z=g<<6&192|_;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class AR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RR=function(i){const t=oT(i);return lT.encodeByteArray(t,!0)},Tf=function(i){return RR(i).replace(/\./g,"")},uT=function(i){try{return lT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=()=>CR().__FIREBASE_DEFAULTS__,NR=()=>{if(typeof process>"u"||typeof f0>"u")return;const i=f0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},xR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&uT(i[1]);return t&&JSON.parse(t)},Qf=()=>{try{return SR()||IR()||NR()||xR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},cT=i=>{var t,n;return(n=(t=Qf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},OR=i=>{const t=cT(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},fT=()=>{var i;return(i=Qf())===null||i===void 0?void 0:i.config},hT=i=>{var t;return(t=Qf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(i){return i.endsWith(".cloudworkstations.dev")}async function dT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Tf(JSON.stringify(n)),Tf(JSON.stringify(h)),""].join(".")}const Zl={};function VR(){const i={prod:[],emulator:[]};for(const t of Object.keys(Zl))Zl[t]?i.emulator.push(t):i.prod.push(t);return i}function kR(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let h0=!1;function mT(i,t){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||Zl[i]===t||Zl[i]||h0)return;Zl[i]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=VR().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,L){S.setAttribute("width","24"),S.setAttribute("id",L),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{h0=!0,h()},S}function T(S,L){S.setAttribute("id",L),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=kR(s),L=n("text"),z=document.getElementById(L)||document.createElement("span"),W=n("learnmore"),U=document.getElementById(W)||document.createElement("a"),ot=n("preprendIcon"),dt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const nt=S.element;m(nt),T(U,W);const ut=g();p(dt,ot),nt.append(dt,z,U,ut),document.body.appendChild(nt)}u?(z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function LR(){var i;const t=(i=Qf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function BR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zR(){const i=pn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function HR(){return!LR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qR(){try{return typeof indexedDB=="object"}catch{return!1}}function FR(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="FirebaseError";class kr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=GR,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?KR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new kr(o,m,s)}}function KR(i,t){return i.replace($R,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const $R=/\{\$([^}]+)}/g;function YR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function da(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(d0(u)&&d0(h)){if(!da(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function d0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function $l(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Yl(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function QR(i,t){const n=new XR(i,t);return n.subscribe.bind(n)}class XR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");WR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Rm),o.error===void 0&&(o.error=Rm),o.complete===void 0&&(o.complete=Rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WR(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(i){return i&&i._delegate?i._delegate:i}class ma{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new DR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tC(t))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ua){return this.instances.has(t)}getOptions(t=ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ua){return this.component?this.component.multipleInstances?t:ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JR(i){return i===ua?void 0:i}function tC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ZR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ft||(Ft={}));const nC={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},iC=Ft.INFO,rC={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},sC=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=rC[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ip{constructor(t){this.name=t,this._logLevel=iC,this._logHandler=sC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const aC=(i,t)=>t.some(n=>i instanceof n);let m0,p0;function oC(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lC(){return p0||(p0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,$m=new WeakMap,gT=new WeakMap,Cm=new WeakMap,Np=new WeakMap;function uC(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(vs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&pT.set(n,i)}).catch(()=>{}),Np.set(t,i),t}function cC(i){if($m.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});$m.set(i,t)}let Ym={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return $m.get(i);if(t==="objectStoreNames")return i.objectStoreNames||gT.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function fC(i){Ym=i(Ym)}function hC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Im(this),t,...n);return gT.set(s,t.sort?t.sort():[t]),vs(s)}:lC().includes(i)?function(...t){return i.apply(Im(this),t),vs(pT.get(this))}:function(...t){return vs(i.apply(Im(this),t))}}function dC(i){return typeof i=="function"?hC(i):(i instanceof IDBTransaction&&cC(i),aC(i,oC())?new Proxy(i,Ym):i)}function vs(i){if(i instanceof IDBRequest)return uC(i);if(Cm.has(i))return Cm.get(i);const t=dC(i);return t!==i&&(Cm.set(i,t),Np.set(t,i)),t}const Im=i=>Np.get(i);function mC(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=vs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(vs(h.result),p.oldVersion,p.newVersion,vs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const pC=["get","getKey","getAll","getAllKeys","count"],gC=["put","add","delete","clear"],Nm=new Map;function g0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Nm.get(t))return Nm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=gC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||pC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Nm.set(t,u),u}fC(i=>({...i,get:(t,n,s)=>g0(t,n)||i.get(t,n,s),has:(t,n)=>!!g0(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vC(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qm="@firebase/app",y0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Ip("@firebase/app"),_C="@firebase/app-compat",EC="@firebase/analytics-compat",TC="@firebase/analytics",bC="@firebase/app-check-compat",SC="@firebase/app-check",wC="@firebase/auth",AC="@firebase/auth-compat",RC="@firebase/database",CC="@firebase/data-connect",IC="@firebase/database-compat",NC="@firebase/functions",xC="@firebase/functions-compat",OC="@firebase/installations",DC="@firebase/installations-compat",MC="@firebase/messaging",VC="@firebase/messaging-compat",kC="@firebase/performance",PC="@firebase/performance-compat",LC="@firebase/remote-config",UC="@firebase/remote-config-compat",jC="@firebase/storage",BC="@firebase/storage-compat",zC="@firebase/firestore",HC="@firebase/ai",qC="@firebase/firestore-compat",FC="firebase",GC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",KC={[Qm]:"fire-core",[_C]:"fire-core-compat",[TC]:"fire-analytics",[EC]:"fire-analytics-compat",[SC]:"fire-app-check",[bC]:"fire-app-check-compat",[wC]:"fire-auth",[AC]:"fire-auth-compat",[RC]:"fire-rtdb",[CC]:"fire-data-connect",[IC]:"fire-rtdb-compat",[NC]:"fire-fn",[xC]:"fire-fn-compat",[OC]:"fire-iid",[DC]:"fire-iid-compat",[MC]:"fire-fcm",[VC]:"fire-fcm-compat",[kC]:"fire-perf",[PC]:"fire-perf-compat",[LC]:"fire-rc",[UC]:"fire-rc-compat",[jC]:"fire-gcs",[BC]:"fire-gcs-compat",[zC]:"fire-fst",[qC]:"fire-fst-compat",[HC]:"fire-vertex","fire-js":"fire-js",[FC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=new Map,$C=new Map,Wm=new Map;function v0(i,t){try{i.container.addComponent(t)}catch(n){Ir.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ao(i){const t=i.name;if(Wm.has(t))return Ir.debug(`There were multiple attempts to register component ${t}.`),!1;Wm.set(t,i);for(const n of bf.values())v0(n,i);for(const n of $C.values())v0(n,i);return!0}function xp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function ri(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Eu("app","Firebase",YC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=GC;function yT(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Xm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(n||(n=fT()),!n)throw _s.create("no-options");const u=bf.get(o);if(u){if(da(n,u.options)&&da(s,u.config))return u;throw _s.create("duplicate-app",{appName:o})}const h=new eC(o);for(const p of Wm.values())h.addComponent(p);const m=new QC(n,s,h);return bf.set(o,m),m}function vT(i=Xm){const t=bf.get(i);if(!t&&i===Xm&&fT())return yT();if(!t)throw _s.create("no-app",{appName:i});return t}function Es(i,t,n){var s;let o=(s=KC[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ir.warn(m.join(" "));return}Ao(new ma(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="firebase-heartbeat-database",WC=1,su="firebase-heartbeat-store";let xm=null;function _T(){return xm||(xm=mC(XC,WC,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(i=>{throw _s.create("idb-open",{originalErrorMessage:i.message})})),xm}async function ZC(i){try{const n=(await _T()).transaction(su),s=await n.objectStore(su).get(ET(i));return await n.done,s}catch(t){if(t instanceof kr)Ir.warn(t.message);else{const n=_s.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ir.warn(n.message)}}}async function _0(i,t){try{const s=(await _T()).transaction(su,"readwrite");await s.objectStore(su).put(t,ET(i)),await s.done}catch(n){if(n instanceof kr)Ir.warn(n.message);else{const s=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(s.message)}}}function ET(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=1024,tI=30;class eI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=E0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>tI){const h=rI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ir.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E0(),{heartbeatsToSend:s,unsentEntries:o}=nI(this._heartbeatsCache.heartbeats),u=Tf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ir.warn(n),""}}}function E0(){return new Date().toISOString().substring(0,10)}function nI(i,t=JC){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),T0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),T0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qR()?FR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function T0(i){return Tf(JSON.stringify({version:2,heartbeats:i})).length}function rI(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(i){Ao(new ma("platform-logger",t=>new yC(t),"PRIVATE")),Ao(new ma("heartbeat",t=>new eI(t),"PRIVATE")),Es(Qm,y0,i),Es(Qm,y0,"esm2017"),Es("fire-js","")}sI("");var aI="firebase",oI="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(aI,oI,"app");function Op(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lI=TT,bT=new Eu("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Ip("@firebase/auth");function uI(i,...t){Sf.logLevel<=Ft.WARN&&Sf.warn(`Auth (${Lo}): ${i}`,...t)}function uf(i,...t){Sf.logLevel<=Ft.ERROR&&Sf.error(`Auth (${Lo}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(i,...t){throw Dp(i,...t)}function Li(i,...t){return Dp(i,...t)}function ST(i,t,n){const s=Object.assign(Object.assign({},lI()),{[t]:n});return new Eu("auth","Firebase",s).create(t,{appName:i.name})}function Ar(i){return ST(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return bT.create(i,...t)}function Ct(i,t,...n){if(!i)throw Dp(t,...n)}function Tr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw uf(t),new Error(t)}function Nr(i,t){i||Tr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function cI(){return b0()==="http:"||b0()==="https:"}function b0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cI()||jR()||"connection"in navigator)?navigator.onLine:!0}function hI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Nr(n>t,"Short delay should be less than long delay!"),this.isMobile=PR()||BR()}get(){return fI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i,t){Nr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pI=new bu(3e4,6e4);function Ns(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function xs(i,t,n,s,o={}){return AT(i,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=Tu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return UR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Po(i.emulatorConfig.host)&&(g.credentials="include"),wT.fetch()(await RT(i,i.config.apiHost,n,m),g)})}async function AT(i,t,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},dI),t);try{const o=new yI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Jc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Jc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Jc(i,"user-disabled",h);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ST(i,T,g);gi(i,T)}}catch(o){if(o instanceof kr)throw o;gi(i,"network-request-failed",{message:String(o)})}}async function Su(i,t,n,s,o={}){const u=await xs(i,t,n,s,o);return"mfaPendingCredential"in u&&gi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function RT(i,t,n,s){const o=`${t}${n}?${s}`,u=i,h=u.config.emulator?Mp(i.config,o):`${i.config.apiScheme}://${o}`;return mI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function gI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Li(this.auth,"network-request-failed")),pI.get())})}}function Jc(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Li(i,t,s);return o.customData._tokenResponse=n,o}function S0(i){return i!==void 0&&i.enterprise!==void 0}class vI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return gI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _I(i,t){return xs(i,"GET","/v2/recaptchaConfig",Ns(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(i,t){return xs(i,"POST","/v1/accounts:delete",t)}async function wf(i,t){return xs(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function TI(i,t=!1){const n=gn(i),s=await n.getIdToken(t),o=Vp(s);Ct(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Jl(Om(o.auth_time)),issuedAtTime:Jl(Om(o.iat)),expirationTime:Jl(Om(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Om(i){return Number(i)*1e3}function Vp(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const o=uT(n);return o?JSON.parse(o):(uf("Failed to decode base64 JWT payload"),null)}catch(o){return uf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function w0(i){const t=Vp(i);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof kr&&bI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function bI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(i){var t;const n=i.auth,s=await i.getIdToken(),o=await au(i,wf(n,{idToken:s}));Ct(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?CT(u.providerUserInfo):[],m=AI(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,_={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Jm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(i,_)}async function wI(i){const t=gn(i);await Af(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function AI(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function CT(i){return i.map(t=>{var{providerId:n}=t,s=Op(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(i,t){const n=await AT(i,{},async()=>{const s=Tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await RT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Po(i.emulatorConfig.host)&&(p.credentials="include"),wT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CI(i,t){return xs(i,"POST","/v2/accounts:revokeToken",Ns(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):w0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const n=w0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await RI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new To;return s&&(Ct(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(Ct(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Ct(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(i,t){Ct(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class pi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Op(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Jm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await au(this,this.stsTokenManager.getToken(this.auth,t));return Ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return TI(this,t)}reload(){return wI(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new pi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Af(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Ar(this.auth));const t=await this.getIdToken();return await au(this,EI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,h,m,p,g,T;const _=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,z=(h=n.photoURL)!==null&&h!==void 0?h:void 0,W=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ot=(g=n.createdAt)!==null&&g!==void 0?g:void 0,dt=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:nt,emailVerified:ut,isAnonymous:at,providerData:lt,stsTokenManager:O}=n;Ct(nt&&O,t,"internal-error");const A=To.fromJSON(this.name,O);Ct(typeof nt=="string",t,"internal-error"),fs(_,t.name),fs(S,t.name),Ct(typeof ut=="boolean",t,"internal-error"),Ct(typeof at=="boolean",t,"internal-error"),fs(L,t.name),fs(z,t.name),fs(W,t.name),fs(U,t.name),fs(ot,t.name),fs(dt,t.name);const R=new pi({uid:nt,auth:t,email:S,emailVerified:ut,displayName:_,isAnonymous:at,photoURL:z,phoneNumber:L,tenantId:W,stsTokenManager:A,createdAt:ot,lastLoginAt:dt});return lt&&Array.isArray(lt)&&(R.providerData=lt.map(M=>Object.assign({},M))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new To;o.updateFromServerResponse(n);const u=new pi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Af(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Ct(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?CT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new To;m.updateFromIdToken(s);const p=new pi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Map;function br(i){Nr(i instanceof Function,"Expected a class definition");let t=A0.get(i);return t?(Nr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,A0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}IT.type="NONE";const R0=IT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(i,t,n){return`firebase:${i}:${t}:${n}`}class bo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=cf(this.userKey,o.apiKey,u),this.fullPersistenceKey=cf("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await wf(this.auth,{idToken:t}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new bo(br(R0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||br(R0);const h=cf(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const T=await g._get(h);if(T){let _;if(typeof T=="string"){const S=await wf(t,{idToken:T}).catch(()=>{});if(!S)break;_=await pi._fromGetAccountInfoResponse(t,S,T)}else _=pi._fromJSON(t,T);g!==u&&(m=_),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new bo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(DT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VT(t))return"Blackberry";if(kT(t))return"Webos";if(xT(t))return"Safari";if((t.includes("chrome/")||OT(t))&&!t.includes("edge/"))return"Chrome";if(MT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function NT(i=pn()){return/firefox\//i.test(i)}function xT(i=pn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function OT(i=pn()){return/crios\//i.test(i)}function DT(i=pn()){return/iemobile/i.test(i)}function MT(i=pn()){return/android/i.test(i)}function VT(i=pn()){return/blackberry/i.test(i)}function kT(i=pn()){return/webos/i.test(i)}function kp(i=pn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function II(i=pn()){var t;return kp(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function NI(){return zR()&&document.documentMode===10}function PT(i=pn()){return kp(i)||MT(i)||kT(i)||VT(i)||/windows phone/i.test(i)||DT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(i,t=[]){let n;switch(i){case"Browser":n=C0(pn());break;case"Worker":n=`${C0(pn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(i,t={}){return xs(i,"GET","/v2/passwordPolicy",Ns(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=6;class MI{constructor(t){var n,s,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:DI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I0(this),this.idTokenSubscription=new I0(this),this.beforeStateQueue=new xI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=br(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await bo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await wf(this,{idToken:t}),s=await pi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ri(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Af(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ri(this.app))return Promise.reject(Ar(this));const n=t?gn(t):null;return n&&Ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ri(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await OI(this),n=new MI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Eu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await CI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&br(t)||this._popupRedirectResolver;Ct(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=LT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&uI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ea(i){return gn(i)}class I0{constructor(t){this.auth=t,this.observer=null,this.addObserver=QR(n=>this.observer=n)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kI(i){Xf=i}function UT(i){return Xf.loadJS(i)}function PI(){return Xf.recaptchaEnterpriseScript}function LI(){return Xf.gapiScript}function UI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class jI{constructor(){this.enterprise=new BI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class BI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const zI="recaptcha-enterprise",jT="NO_RECAPTCHA";class HI{constructor(t){this.type=zI,this.auth=Ea(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{_I(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new vI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;S0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{h(g)}).catch(()=>{h(jT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&S0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=PI();p.length!==0&&(p+=m),UT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function N0(i,t,n,s=!1,o=!1){const u=new HI(i);let h;if(o)h=jT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function tp(i,t,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await N0(i,t,n,n==="getOobCode");return s(i,h)}else return s(i,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await N0(i,t,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(i,t){const n=xp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(da(u,t??{}))return o;gi(o,"already-initialized")}return n.initialize({options:t})}function FI(i,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(br);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function GI(i,t,n){const s=Ea(i);Ct(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=BT(t),{host:h,port:m}=KI(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ct(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ct(da(g,s.config.emulator)&&da(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Po(h)?(dT(`${u}//${h}${p}`),mT("Auth",!0)):$I()}function BT(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function KI(i){const t=BT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:x0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:x0(h)}}}function x0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function $I(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(t){return Tr("not implemented")}_linkToIdToken(t,n){return Tr("not implemented")}_getReauthenticationResolver(t){return Tr("not implemented")}}async function YI(i,t){return xs(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(i,t){return Su(i,"POST","/v1/accounts:signInWithPassword",Ns(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(i,t){return Su(i,"POST","/v1/accounts:signInWithEmailLink",Ns(i,t))}async function WI(i,t){return Su(i,"POST","/v1/accounts:signInWithEmailLink",Ns(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Pp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new ou(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new ou(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(t,n,"signInWithPassword",QI);case"emailLink":return XI(t,{email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(t,s,"signUpPassword",YI);case"emailLink":return WI(t,{idToken:n,email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i,t){return Su(i,"POST","/v1/accounts:signInWithIdp",Ns(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="http://localhost";class pa extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new pa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Op(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new pa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return So(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,So(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,So(t,n)}buildRequest(){const t={requestUri:ZI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Tu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t2(i){const t=$l(Yl(i)).link,n=t?$l(Yl(t)).deep_link_id:null,s=$l(Yl(i)).deep_link_id;return(s?$l(Yl(s)).link:null)||s||n||t||i}class Lp{constructor(t){var n,s,o,u,h,m;const p=$l(Yl(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,_=JI((o=p.mode)!==null&&o!==void 0?o:null);Ct(g&&T&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=t2(t);try{return new Lp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(t,n){return ou._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Lp.parseLink(n);return Ct(s,"argument-error"),ou._fromEmailAndCode(t,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends zT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends wu{constructor(){super("facebook.com")}static credential(t){return pa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ds.credential(t.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return pa._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends wu{constructor(){super("github.com")}static credential(t){return pa._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ps.credential(t.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends wu{constructor(){super("twitter.com")}static credential(t,n){return pa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(i,t){return Su(i,"POST","/v1/accounts:signUp",Ns(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await pi._fromIdTokenResponse(t,s,o),h=O0(s);return new ga({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=O0(s);return new ga({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function O0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends kr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Rf(t,n,s,o)}}function HT(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(i,u,t,s):u})}async function n2(i,t,n=!1){const s=await au(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return ga._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(i,t,n=!1){const{auth:s}=i;if(ri(s.app))return Promise.reject(Ar(s));const o="reauthenticate";try{const u=await au(i,HT(s,o,t,i),n);Ct(u.idToken,s,"internal-error");const h=Vp(u.idToken);Ct(h,s,"internal-error");const{sub:m}=h;return Ct(i.uid===m,s,"user-mismatch"),ga._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&gi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(i,t,n=!1){if(ri(i.app))return Promise.reject(Ar(i));const s="signIn",o=await HT(i,s,t),u=await ga._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function r2(i,t){return qT(Ea(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(i){const t=Ea(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function s2(i,t,n){if(ri(i.app))return Promise.reject(Ar(i));const s=Ea(i),h=await tp(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&FT(i),p}),m=await ga._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function a2(i,t,n){return ri(i.app)?Promise.reject(Ar(i)):r2(gn(i),Uo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&FT(i),s})}function o2(i,t,n,s){return gn(i).onIdTokenChanged(t,n,s)}function l2(i,t,n){return gn(i).beforeAuthStateChanged(t,n)}function u2(i,t,n,s){return gn(i).onAuthStateChanged(t,n,s)}function c2(i){return gn(i).signOut()}const Cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=1e3,h2=10;class KT extends GT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);NI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,h2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}KT.type="LOCAL";const d2=KT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends GT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}$T.type="SESSION";const YT=$T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Wf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await m2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Up("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(_){const S=_;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function g2(i){Ui().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function y2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function _2(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebaseLocalStorageDb",E2=1,If="firebaseLocalStorage",WT="fbase_key";class Au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zf(i,t){return i.transaction([If],t?"readwrite":"readonly").objectStore(If)}function T2(){const i=indexedDB.deleteDatabase(XT);return new Au(i).toPromise()}function ep(){const i=indexedDB.open(XT,E2);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(If,{keyPath:WT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(If)?t(s):(s.close(),await T2(),t(await ep()))})})}async function D0(i,t,n){const s=Zf(i,!0).put({[WT]:t,value:n});return new Au(s).toPromise()}async function b2(i,t){const n=Zf(i,!1).get(t),s=await new Au(n).toPromise();return s===void 0?null:s.value}function M0(i,t){const n=Zf(i,!0).delete(t);return new Au(n).toPromise()}const S2=800,w2=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>w2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(_2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new p2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||v2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ep();return await D0(t,Cf,"1"),await M0(t,Cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>D0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>b2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>M0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Zf(o,!1).getAll();return new Au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const A2=ZT;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i,t){return t?br(t):(Ct(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends Pp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return So(t,this._buildIdpRequest())}_linkToIdToken(t,n){return So(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return So(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function C2(i){return qT(i.auth,new jp(i),i.bypassAuthState)}function I2(i){const{auth:t,user:n}=i;return Ct(n,t,"internal-error"),i2(n,new jp(i),i.bypassAuthState)}async function N2(i){const{auth:t,user:n}=i;return Ct(n,t,"internal-error"),n2(n,new jp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return C2;case"linkViaPopup":case"linkViaRedirect":return N2;case"reauthViaPopup":case"reauthViaRedirect":return I2;default:gi(this.auth,"internal-error")}}resolve(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new bu(2e3,1e4);class _o extends JT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const t=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,x2.get())};t()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="pendingRedirect",ff=new Map;class D2 extends JT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=ff.get(this.auth._key());if(!t){try{const s=await M2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}ff.set(this.auth._key(),t)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M2(i,t){const n=P2(t),s=k2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function V2(i,t){ff.set(i._key(),t)}function k2(i){return br(i._redirectPersistence)}function P2(i){return cf(O2,i.config.apiKey,i.name)}async function L2(i,t,n=!1){if(ri(i.app))return Promise.reject(Ar(i));const s=Ea(i),o=R2(s,t),h=await new D2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=10*60*1e3;class j2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!B2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!tb(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Li(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=U2&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(t))}saveEventToCache(t){this.cachedEventUids.add(V0(t)),this.lastProcessedEventTime=Date.now()}}function V0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function tb({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function B2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(i,t={}){return xs(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q2=/^https?/;async function F2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await z2(i);for(const n of t)try{if(G2(n))return}catch{}gi(i,"unauthorized-domain")}function G2(i){const t=Zm(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!q2.test(n))return!1;if(H2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new bu(3e4,6e4);function k0(){const i=Ui().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function $2(i){return new Promise((t,n)=>{var s,o,u;function h(){k0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{k0(),n(Li(i,"network-request-failed"))},timeout:K2.get()})}if(!((o=(s=Ui().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ui().gapi)===null||u===void 0)&&u.load)h();else{const m=UI("iframefcb");return Ui()[m]=()=>{gapi.load?h():n(Li(i,"network-request-failed"))},UT(`${LI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw hf=null,t})}let hf=null;function Y2(i){return hf=hf||$2(i),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new bu(5e3,15e3),X2="__/auth/iframe",W2="emulator/auth/iframe",Z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tN(i){const t=i.config;Ct(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Mp(t,W2):`https://${i.config.authDomain}/${X2}`,s={apiKey:t.apiKey,appName:i.name,v:Lo},o=J2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Tu(s).slice(1)}`}async function eN(i){const t=await Y2(i),n=Ui().gapi;return Ct(n,i,"internal-error"),t.open({where:document.body,url:tN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Li(i,"network-request-failed"),m=Ui().setTimeout(()=>{u(h)},Q2.get());function p(){Ui().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iN=500,rN=600,sN="_blank",aN="http://localhost";class P0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oN(i,t,n,s=iN,o=rN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},nN),{width:s.toString(),height:o.toString(),top:u,left:h}),g=pn().toLowerCase();n&&(m=OT(g)?sN:n),NT(g)&&(t=t||aN,p.scrollbars="yes");const T=Object.entries(p).reduce((S,[L,z])=>`${S}${L}=${z},`,"");if(II(g)&&m!=="_self")return lN(t||"",m),new P0(null);const _=window.open(t||"",m,T);Ct(_,i,"popup-blocked");try{_.focus()}catch{}return new P0(_)}function lN(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="__/auth/handler",cN="emulator/auth/handler",fN=encodeURIComponent("fac");async function L0(i,t,n,s,o,u){Ct(i.config.authDomain,i,"auth-domain-config-required"),Ct(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Lo,eventId:o};if(t instanceof zT){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",YR(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,_]of Object.entries({}))h[T]=_}if(t instanceof wu){const T=t.getScopes().filter(_=>_!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${fN}=${encodeURIComponent(p)}`:"";return`${hN(i)}?${Tu(m).slice(1)}${g}`}function hN({config:i}){return i.emulator?Mp(i,cN):`https://${i.authDomain}/${uN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class dN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=L2,this._overrideRedirectResult=V2}async _openPopup(t,n,s,o){var u;Nr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await L0(t,n,s,Zm(),o);return oN(t,h,Up())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await L0(t,n,s,Zm(),o);return g2(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await eN(t),s=new j2(t);return n.register("authEvent",o=>(Ct(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Dm,{type:Dm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Dm];h!==void 0&&n(!!h),gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return PT()||xT()||kp()}}const mN=dN;var U0="@firebase/auth",j0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yN(i){Ao(new ma("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ct(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LT(i)},g=new VI(s,o,u,p);return FI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ao(new ma("auth-internal",t=>{const n=Ea(t.getProvider("auth").getImmediate());return(s=>new pN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(U0,j0,gN(i)),Es(U0,j0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=5*60,_N=hT("authIdTokenMaxAge")||vN;let B0=null;const EN=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_N)return;const o=n==null?void 0:n.token;B0!==o&&(B0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TN(i=vT()){const t=xp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=qI(i,{popupRedirectResolver:mN,persistence:[A2,d2,YT]}),s=hT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=EN(u.toString());l2(n,h,()=>h(n.currentUser)),o2(n,m=>h(m))}}const o=cT("auth");return o&&GI(n,`http://${o}`),n}function bN(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}kI({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Li("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",bN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yN("Browser");var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,eb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,A){function R(){}R.prototype=A.prototype,O.D=A.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(M,V,P){for(var I=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)I[Et-2]=arguments[Et];return A.prototype[V].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,R){R||(R=0);var M=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)M[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;16>V;++V)M[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=O.g[0],R=O.g[1],V=O.g[2];var P=O.g[3],I=A+(P^R&(V^P))+M[0]+3614090360&4294967295;A=R+(I<<7&4294967295|I>>>25),I=P+(V^A&(R^V))+M[1]+3905402710&4294967295,P=A+(I<<12&4294967295|I>>>20),I=V+(R^P&(A^R))+M[2]+606105819&4294967295,V=P+(I<<17&4294967295|I>>>15),I=R+(A^V&(P^A))+M[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(P^R&(V^P))+M[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=P+(V^A&(R^V))+M[5]+1200080426&4294967295,P=A+(I<<12&4294967295|I>>>20),I=V+(R^P&(A^R))+M[6]+2821735955&4294967295,V=P+(I<<17&4294967295|I>>>15),I=R+(A^V&(P^A))+M[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(P^R&(V^P))+M[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=P+(V^A&(R^V))+M[9]+2336552879&4294967295,P=A+(I<<12&4294967295|I>>>20),I=V+(R^P&(A^R))+M[10]+4294925233&4294967295,V=P+(I<<17&4294967295|I>>>15),I=R+(A^V&(P^A))+M[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(P^R&(V^P))+M[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=P+(V^A&(R^V))+M[13]+4254626195&4294967295,P=A+(I<<12&4294967295|I>>>20),I=V+(R^P&(A^R))+M[14]+2792965006&4294967295,V=P+(I<<17&4294967295|I>>>15),I=R+(A^V&(P^A))+M[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(V^P&(R^V))+M[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^V&(A^R))+M[6]+3225465664&4294967295,P=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(P^A))+M[11]+643717713&4294967295,V=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(V^P))+M[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^P&(R^V))+M[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^V&(A^R))+M[10]+38016083&4294967295,P=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(P^A))+M[15]+3634488961&4294967295,V=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(V^P))+M[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^P&(R^V))+M[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^V&(A^R))+M[14]+3275163606&4294967295,P=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(P^A))+M[3]+4107603335&4294967295,V=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(V^P))+M[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^P&(R^V))+M[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^V&(A^R))+M[2]+4243563512&4294967295,P=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(P^A))+M[7]+1735328473&4294967295,V=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(V^P))+M[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(R^V^P)+M[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^V)+M[8]+2272392833&4294967295,P=A+(I<<11&4294967295|I>>>21),I=V+(P^A^R)+M[11]+1839030562&4294967295,V=P+(I<<16&4294967295|I>>>16),I=R+(V^P^A)+M[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^P)+M[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^V)+M[4]+1272893353&4294967295,P=A+(I<<11&4294967295|I>>>21),I=V+(P^A^R)+M[7]+4139469664&4294967295,V=P+(I<<16&4294967295|I>>>16),I=R+(V^P^A)+M[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^P)+M[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^V)+M[0]+3936430074&4294967295,P=A+(I<<11&4294967295|I>>>21),I=V+(P^A^R)+M[3]+3572445317&4294967295,V=P+(I<<16&4294967295|I>>>16),I=R+(V^P^A)+M[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^P)+M[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^V)+M[12]+3873151461&4294967295,P=A+(I<<11&4294967295|I>>>21),I=V+(P^A^R)+M[15]+530742520&4294967295,V=P+(I<<16&4294967295|I>>>16),I=R+(V^P^A)+M[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(V^(R|~P))+M[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~V))+M[7]+1126891415&4294967295,P=A+(I<<10&4294967295|I>>>22),I=V+(A^(P|~R))+M[14]+2878612391&4294967295,V=P+(I<<15&4294967295|I>>>17),I=R+(P^(V|~A))+M[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~P))+M[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~V))+M[3]+2399980690&4294967295,P=A+(I<<10&4294967295|I>>>22),I=V+(A^(P|~R))+M[10]+4293915773&4294967295,V=P+(I<<15&4294967295|I>>>17),I=R+(P^(V|~A))+M[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~P))+M[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~V))+M[15]+4264355552&4294967295,P=A+(I<<10&4294967295|I>>>22),I=V+(A^(P|~R))+M[6]+2734768916&4294967295,V=P+(I<<15&4294967295|I>>>17),I=R+(P^(V|~A))+M[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~P))+M[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~V))+M[11]+3174756917&4294967295,P=A+(I<<10&4294967295|I>>>22),I=V+(A^(P|~R))+M[2]+718787259&4294967295,V=P+(I<<15&4294967295|I>>>17),I=R+(P^(V|~A))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var R=A-this.blockSize,M=this.B,V=this.h,P=0;P<A;){if(V==0)for(;P<=R;)o(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<A;)if(M[V++]=O.charCodeAt(P++),V==this.blockSize){o(this,M),V=0;break}}else for(;P<A;)if(M[V++]=O[P++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var R=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=R&255,R/=256;for(this.u(O),O=Array(16),A=R=0;4>A;++A)for(var M=0;32>M;M+=8)O[R++]=this.g[A]>>>M&255;return O};function u(O,A){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=A(O)}function h(O,A){this.h=A;for(var R=[],M=!0,V=O.length-1;0<=V;V--){var P=O[V]|0;M&&P==A||(R[V]=P,M=!1)}this.g=R}var m={};function p(O){return-128<=O&&128>O?u(O,function(A){return new h([A|0],0>A?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return U(g(-O));for(var A=[],R=1,M=0;O>=R;M++)A[M]=O/R|0,R*=4294967296;return new h(A,0)}function T(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return U(T(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),M=_,V=0;V<O.length;V+=8){var P=Math.min(8,O.length-V),I=parseInt(O.substring(V,V+P),A);8>P?(P=g(Math.pow(A,P)),M=M.j(P).add(g(I))):(M=M.j(R),M=M.add(g(I)))}return M}var _=p(0),S=p(1),L=p(16777216);i=h.prototype,i.m=function(){if(W(this))return-U(this).m();for(var O=0,A=1,R=0;R<this.g.length;R++){var M=this.i(R);O+=(0<=M?M:4294967296+M)*A,A*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(z(this))return"0";if(W(this))return"-"+U(this).toString(O);for(var A=g(Math.pow(O,6)),R=this,M="";;){var V=ut(R,A).g;R=ot(R,V.j(A));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=V,z(R))return P+M;for(;6>P.length;)P="0"+P;M=P+M}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function z(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function W(O){return O.h==-1}i.l=function(O){return O=ot(this,O),W(O)?-1:z(O)?0:1};function U(O){for(var A=O.g.length,R=[],M=0;M<A;M++)R[M]=~O.g[M];return new h(R,~O.h).add(S)}i.abs=function(){return W(this)?U(this):this},i.add=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],M=0,V=0;V<=A;V++){var P=M+(this.i(V)&65535)+(O.i(V)&65535),I=(P>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);M=I>>>16,P&=65535,I&=65535,R[V]=I<<16|P}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ot(O,A){return O.add(U(A))}i.j=function(O){if(z(this)||z(O))return _;if(W(this))return W(O)?U(this).j(U(O)):U(U(this).j(O));if(W(O))return U(this.j(U(O)));if(0>this.l(L)&&0>O.l(L))return g(this.m()*O.m());for(var A=this.g.length+O.g.length,R=[],M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<O.g.length;V++){var P=this.i(M)>>>16,I=this.i(M)&65535,Et=O.i(V)>>>16,Mt=O.i(V)&65535;R[2*M+2*V]+=I*Mt,dt(R,2*M+2*V),R[2*M+2*V+1]+=P*Mt,dt(R,2*M+2*V+1),R[2*M+2*V+1]+=I*Et,dt(R,2*M+2*V+1),R[2*M+2*V+2]+=P*Et,dt(R,2*M+2*V+2)}for(M=0;M<A;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=A;M<2*A;M++)R[M]=0;return new h(R,0)};function dt(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function nt(O,A){this.g=O,this.h=A}function ut(O,A){if(z(A))throw Error("division by zero");if(z(O))return new nt(_,_);if(W(O))return A=ut(U(O),A),new nt(U(A.g),U(A.h));if(W(A))return A=ut(O,U(A)),new nt(U(A.g),A.h);if(30<O.g.length){if(W(O)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,M=A;0>=M.l(O);)R=at(R),M=at(M);var V=lt(R,1),P=lt(M,1);for(M=lt(M,2),R=lt(R,2);!z(M);){var I=P.add(M);0>=I.l(O)&&(V=V.add(R),P=I),M=lt(M,1),R=lt(R,1)}return A=ot(O,V.j(A)),new nt(V,A)}for(V=_;0<=O.l(A);){for(R=Math.max(1,Math.floor(O.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),P=g(R),I=P.j(A);W(I)||0<I.l(O);)R-=M,P=g(R),I=P.j(A);z(P)&&(P=S),V=V.add(P),O=ot(O,I)}return new nt(V,O)}i.A=function(O){return ut(this,O).h},i.and=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)&O.i(M);return new h(R,this.h&O.h)},i.or=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)|O.i(M);return new h(R,this.h|O.h)},i.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)^O.i(M);return new h(R,this.h^O.h)};function at(O){for(var A=O.g.length+1,R=[],M=0;M<A;M++)R[M]=O.i(M)<<1|O.i(M-1)>>>31;return new h(R,O.h)}function lt(O,A){var R=A>>5;A%=32;for(var M=O.g.length-R,V=[],P=0;P<M;P++)V[P]=0<A?O.i(P+R)>>>A|O.i(P+R+1)<<32-A:O.i(P+R);return new h(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,eb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,Ts=h}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nb,Ql,ib,df,np,rb,sb,ab;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var H=c[w];if(!(H in v))break t;v=v[H]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,H={next:function(){if(!w&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return w=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,v){return c.call.apply(c.bind,arguments)}function _(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,w),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:_,S.apply(null,arguments)}function L(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function z(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,H,Y){for(var ht=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)ht[Kt-2]=arguments[Kt];return y.prototype[H].apply(w,ht)}}function W(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function U(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const H=c.length||0,Y=w.length||0;c.length=H+Y;for(let ht=0;ht<Y;ht++)c[H+ht]=w[ht]}else c.push(w)}}class ot{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function dt(c){return/^[\s\xa0]*$/.test(c)}function nt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var at=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function lt(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(v in w)c[v]=w[v];for(let Y=0;Y<R.length;Y++)v=R[Y],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function V(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function P(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Rt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Et{constructor(){this.h=this.g=null}add(y,v){const w=Mt.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var Mt=new ot(()=>new B,c=>c.reset());class B{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ft=!1,Rt=new Et,D=()=>{const c=m.Promise.resolve(void 0);it=()=>{c.then($)}};var $=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){P(v)}var y=Mt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ft=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function _t(c,y){if(Q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(at){t:{try{ut(y.nodeName);var H=!0;break t}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:mt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_t.aa.h.call(this)}}z(_t,Q);var mt={2:"touch",3:"pen",4:"mouse"};_t.prototype.h=function(){_t.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function _e(c,y,v,w,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=H,this.key=++Bt,this.da=this.fa=!1}function we(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function un(c){this.src=c,this.g={},this.h=0}un.prototype.add=function(c,y,v,w,H){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ht=yn(c,y,w,H);return-1<ht?(y=c[ht],v||(y.fa=!1)):(y=new _e(y,this.src,Y,!!w,H),y.fa=v,c.push(y)),y};function Ze(c,y){var v=y.type;if(v in c.g){var w=c.g[v],H=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(w,H,1),Y&&(we(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function yn(c,y,v,w){for(var H=0;H<c.length;++H){var Y=c[H];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==w)return H}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),Xt={};function Gn(c,y,v,w,H){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Gn(c,y[Y],v,w,H);return null}return v=Lr(v),c&&c[ne]?c.K(y,v,g(w)?!!w.capture:!1,H):he(c,y,v,!1,w,H)}function he(c,y,v,w,H,Y){if(!y)throw Error("Invalid event type");var ht=g(H)?!!H.capture:!!H,Kt=vn(c);if(Kt||(c[Ge]=Kt=new un(c)),v=Kt.add(y,v,w,ht,Y),v.proxy)return v;if(w=Pr(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)ct||(H=ht),H===void 0&&(H=!1),c.addEventListener(y.toString(),w,H);else if(c.attachEvent)c.attachEvent(si(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pr(){function c(v){return y.call(c.src,c.listener,v)}const y=Pe;return c}function Je(c,y,v,w,H){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Je(c,y[Y],v,w,H);else w=g(w)?!!w.capture:!!w,v=Lr(v),c&&c[ne]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=yn(Y,v,w,H),-1<v&&(we(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=vn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=yn(y,v,w,H)),(v=-1<c?y[c]:null)&&yi(v))}function yi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ne])Ze(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(si(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=vn(y))?(Ze(v,c),v.h==0&&(v.src=null,y[Ge]=null)):we(c)}}}function si(c){return c in Xt?Xt[c]:Xt[c]="on"+c}function Pe(c,y){if(c.da)c=!0;else{y=new _t(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&yi(c),c=v.call(w,y)}return c}function vn(c){return c=c[Ge],c instanceof un?c:null}var vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lr(c){return typeof c=="function"?c:(c[vi]||(c[vi]=function(y){return c.handleEvent(y)}),c[vi])}function yt(){et.call(this),this.i=new un(this),this.M=this,this.F=null}z(yt,et),yt.prototype[ne]=!0,yt.prototype.removeEventListener=function(c,y,v,w){Je(this,c,y,v,w)};function Ut(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new Q(y,c);else if(y instanceof Q)y.target=y.target||c;else{var H=y;y=new Q(w,c),M(y,H)}if(H=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ht=y.g=v[Y];H=Le(ht,w,!0,y)&&H}if(ht=y.g=c,H=Le(ht,w,!0,y)&&H,H=Le(ht,w,!1,y)&&H,v)for(Y=0;Y<v.length;Y++)ht=y.g=v[Y],H=Le(ht,w,!1,y)&&H}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)we(v[w]);delete c.g[y],c.h--}}this.F=null},yt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},yt.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function Le(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Y=0;Y<y.length;++Y){var ht=y[Y];if(ht&&!ht.da&&ht.capture==v){var Kt=ht.listener,Ue=ht.ha||ht.src;ht.fa&&Ze(c.i,ht),H=Kt.call(Ue,w)!==!1&&H}}return H&&!w.defaultPrevented}function Ne(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function ai(c){c.g=Ne(()=>{c.g=null,c.i&&(c.i=!1,ai(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Sa extends et{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ai(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(c){et.call(this),this.h=c,this.g={}}z(An,et);var Fi=[];function Gi(c){lt(c.g,function(y,v){this.g.hasOwnProperty(v)&&yi(y)},c),c.g={}}An.prototype.N=function(){An.aa.N.call(this),Gi(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=m.JSON.stringify,Ki=m.JSON.parse,$i=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Yi(){}Yi.prototype.h=null;function Cn(c){return c.h||(c.h=c.i())}function Ms(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){Q.call(this,"d")}z(Kn,Q);function Ur(){Q.call(this,"c")}z(Ur,Q);var bt={},de=null;function fe(){return de=de||new yt}bt.La="serverreachability";function xe(c){Q.call(this,bt.La,c)}z(xe,Q);function Vn(c){const y=fe();Ut(y,new xe(y))}bt.STAT_EVENT="statevent";function Ee(c,y){Q.call(this,bt.STAT_EVENT,c),this.stat=y}z(Ee,Q);function zt(c){const y=fe();Ut(y,new Ee(y,c))}bt.Ma="timingevent";function me(c,y){Q.call(this,bt.Ma,c),this.size=y}z(me,Q);function Wt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function pe(){this.g=!0}pe.prototype.xa=function(){this.g=!1};function jr(c,y,v,w,H,Y){c.info(function(){if(c.g)if(Y)for(var ht="",Kt=Y.split("&"),Ue=0;Ue<Kt.length;Ue++){var $t=Kt[Ue].split("=");if(1<$t.length){var $e=$t[0];$t=$t[1];var je=$e.split("_");ht=2<=je.length&&je[1]=="type"?ht+($e+"="+$t+"&"):ht+($e+"=redacted&")}}else ht=null;else ht=Y;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+y+`
`+v+`
`+ht})}function li(c,y,v,w,H,Y,ht){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+y+`
`+v+`
`+Y+" "+ht})}function Qi(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vs(c,v)+(w?" "+w:"")})}function xu(c,y){c.info(function(){return"TIMEOUT: "+y})}pe.prototype.info=function(){};function Vs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var H=w[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ht=1;ht<H.length;ht++)H[ht]=""}}}}return Rn(v)}catch{return y}}var Br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function Ei(){}z(Ei,Yi),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},_i=new Ei;function _n(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new An(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}var Fo={},wa={};function ui(c,y,v){c.L=1,c.v=js(kn(y)),c.m=v,c.P=!0,Wi(c,null)}function Wi(c,y){c.F=Date.now(),ks(c),c.A=kn(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Xo(v.i,"t",w),c.C=0,v=c.j.J,c.h=new Ae,c.g=Ku(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Sa(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Fi[0]=H.toString()),H=Fi);for(var Y=0;Y<H.length;Y++){var ht=Gn(v,H[Y],w||y.handleEvent,!1,y.h||y);if(!ht)break;y.g[ht.key]=ht}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Vn(),jr(c.i,c.u,c.A,c.l,c.R,c.m)}_n.prototype.ca=function(c){c=c.target;const y=this.M;y&&Xn(c)==3?y.j():this.Y(c)},_n.prototype.Y=function(c){try{if(c==this.g)t:{const je=Xn(this.g);var y=this.g.Ba();const sr=this.g.Z();if(!(3>je)&&(je!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||je!=4||y==7||(y==8||0>=sr?Vn(3):Vn(2)),zr(this);var v=this.g.Z();this.X=v;e:if(Ou(this)){var w=Uu(this.g);c="";var H=w.length,Y=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),Ti(this);var ht="";break e}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Y&&y==H-1)});w.length=0,this.h.g+=c,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=v==200,li(this.i,this.u,this.A,this.l,this.R,je,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Kt,Ue=this.g;if((Kt=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Kt)){var $t=Kt;break e}}$t=null}if(v=$t)Qi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,v);else{this.o=!1,this.s=3,zt(12),tn(this),Ti(this);break t}}if(this.P){v=!0;let en;for(;!this.J&&this.C<ht.length;)if(en=Du(this,ht),en==wa){je==4&&(this.s=4,zt(14),v=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Fo){this.s=4,zt(15),Qi(this.i,this.l,ht,"[Invalid Chunk]"),v=!1;break}else Qi(this.i,this.l,en,null),Ps(this,en);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||ht.length!=0||this.h.h||(this.s=1,zt(16),v=!1),this.o=this.o&&v,!v)Qi(this.i,this.l,ht,"[Invalid Chunked Response]"),tn(this),Ti(this);else if(0<ht.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),$s($e),$e.M=!0,zt(11))}}else Qi(this.i,this.l,ht,null),Ps(this,ht);je==4&&tn(this),this.o&&!this.J&&(je==4?qu(this.j,this):(this.o=!1,ks(this)))}else Sh(this.g),v==400&&0<ht.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),tn(this),Ti(this)}}}catch{}finally{}};function Ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Du(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?wa:(v=Number(y.substring(v,w)),isNaN(v)?Fo:(w+=1,w+v>y.length?wa:(y=y.slice(w,w+v),c.C=w+v,y)))}_n.prototype.cancel=function(){this.J=!0,tn(this)};function ks(c){c.S=Date.now()+c.I,Mu(c,c.I)}function Mu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Wt(S(c.ba,c),y)}function zr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}_n.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(xu(this.i,this.A),this.L!=2&&(Vn(),zt(17)),tn(this),this.s=2,Ti(this)):Mu(this,this.S-c)};function Ti(c){c.j.G==0||c.J||qu(c.j,c)}function tn(c){zr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Gi(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ps(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Go(v.h,c))){if(!c.K&&Go(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Pa(v),Va(v);else break t;el(v),zt(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=Wt(S(v.Za,v),6e3));if(1>=Ra(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else rr(v,11)}else if((c.K||v.g==c)&&Pa(v),!dt(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let $t=H[y];if(v.T=$t[0],$t=$t[1],v.G==2)if($t[0]=="c"){v.K=$t[1],v.ia=$t[2];const $e=$t[3];$e!=null&&(v.la=$e,v.j.info("VER="+v.la));const je=$t[4];je!=null&&(v.Aa=je,v.j.info("SVER="+v.Aa));const sr=$t[5];sr!=null&&typeof sr=="number"&&0<sr&&(w=1.5*sr,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const en=c.g;if(en){const Ii=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var Y=w.h;Y.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ca(Y,Y.h),Y.h=null))}if(w.D){const il=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(w.ya=il,se(w.I,w.D,il))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ht=c;if(w.qa=Gu(w,w.J?w.ia:null,w.W),ht.K){En(w.h,ht);var Kt=ht,Ue=w.L;Ue&&(Kt.I=Ue),Kt.B&&(zr(Kt),ks(Kt)),w.g=ht}else zu(w);0<v.i.length&&ka(v)}else $t[0]!="stop"&&$t[0]!="close"||rr(v,7);else v.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?rr(v,7):Jo(v):$t[0]!="noop"&&v.l&&v.l.ta($t),v.v=0)}}Vn(4)}catch{}}var Vu=class{constructor(c,y){this.g=c,this.map=y}};function Zi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ra(c){return c.h?1:c.g?c.g.size:0}function Go(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ca(c,y){c.g?c.g.add(y):c.h=y}function En(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Zi.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return W(c.i)}function _h(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function Ia(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function $o(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ia(c),w=_h(c),H=w.length,Y=0;Y<H;Y++)y.call(void 0,w[Y],v&&v[Y],c)}var Ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eh(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),H=null;if(0<=w){var Y=c[v].substring(0,w);H=c[v].substring(w+1)}else Y=c[v];y(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Oe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Oe){this.h=c.h,Us(this,c.j),this.o=c.o,this.g=c.g,Hr(this,c.s),this.l=c.l;var y=c.i,v=new tr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ji(this,v),this.m=c.m}else c&&(y=String(c).match(Ls))?(this.h=!1,Us(this,y[1]||"",!0),this.o=$n(y[2]||""),this.g=$n(y[3]||"",!0),Hr(this,y[4]),this.l=$n(y[5]||"",!0),Ji(this,y[6]||"",!0),this.m=$n(y[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}Oe.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Bs(y,Yo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Bs(y,Yo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Bs(v,v.charAt(0)=="/"?Th:Qo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Bs(v,Na)),c.join("")};function kn(c){return new Oe(c)}function Us(c,y,v){c.j=v?$n(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Hr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ji(c,y,v){y instanceof tr?(c.i=y,Pu(c.i,c.h)):(v||(y=Bs(y,bh)),c.i=new tr(y,c.h))}function se(c,y,v){c.i.set(y,v)}function js(c){return se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $n(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,ku),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ku(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Yo=/[#\/\?@]/g,Qo=/[#\?:]/g,Th=/[#\?]/g,bh=/[#\?@]/g,Na=/#/g;function tr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Yn(c){c.g||(c.g=new Map,c.h=0,c.i&&Eh(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=tr.prototype,i.add=function(c,y){Yn(this),this.i=null,c=bi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function er(c,y){Yn(c),y=bi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function nr(c,y){return Yn(c),y=bi(c,y),c.g.has(y)}i.forEach=function(c,y){Yn(this),this.g.forEach(function(v,w){v.forEach(function(H){c.call(y,H,w,this)},this)},this)},i.na=function(){Yn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const H=c[w];for(let Y=0;Y<H.length;Y++)v.push(y[w])}return v},i.V=function(c){Yn(this);let y=[];if(typeof c=="string")nr(this,c)&&(y=y.concat(this.g.get(bi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Yn(this),this.i=null,c=bi(this,c),nr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Xo(c,y,v){er(c,y),0<v.length&&(c.i=null,c.g.set(bi(c,y),W(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const Y=encodeURIComponent(String(w)),ht=this.V(w);for(w=0;w<ht.length;w++){var H=Y;ht[w]!==""&&(H+="="+encodeURIComponent(String(ht[w]))),c.push(H)}}return this.i=c.join("&")};function bi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Pu(c,y){y&&!c.j&&(Yn(c),c.i=null,c.g.forEach(function(v,w){var H=w.toLowerCase();w!=H&&(er(this,w),Xo(this,H,v))},c)),c.j=y}function zs(c,y){const v=new pe;if(m.Image){const w=new Image;w.onload=L(Qn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=L(Qn,v,"TestLoadImage: error",!1,y,w),w.onabort=L(Qn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=L(Qn,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function ci(c,y){const v=new pe,w=new AbortController,H=setTimeout(()=>{w.abort(),Qn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(H),Y.ok?Qn(v,"TestPingServer: ok",!0,y):Qn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Qn(v,"TestPingServer: error",!1,y)})}function Qn(c,y,v,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(v)}catch{}}function Hs(){this.g=new $i}function Si(c,y,v){const w=v||"";try{$o(c,function(H,Y){let ht=H;g(H)&&(ht=Rn(H)),y.push(w+Y+"="+encodeURIComponent(ht))})}catch(H){throw y.push(w+"type="+encodeURIComponent("_badmap")),H}}function qr(c){this.l=c.Ub||null,this.j=c.eb||!1}z(qr,Yi),qr.prototype.g=function(){return new ir(this.l,this.j)},qr.prototype.i=function(c){return function(){return c}}({});function ir(c,y){yt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(ir,yt),i=ir.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wi(this):Ai(this),this.readyState==3&&Wo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,wi(this))},i.Qa=function(c){this.g&&(this.response=c,wi(this))},i.ga=function(){this.g&&wi(this)};function wi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ai(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zo(c){let y="";return lt(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Ke(c,y,v){t:{for(w in v){var w=!1;break t}w=!0}w||(v=Zo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):se(c,y,v))}function te(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(te,yt);var xa=/^https?$/i,qs=["POST","PUT"];i=te.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?Cn(this.o):Cn(_i),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Lu(this,Y);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)v.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())v.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(qs,y,void 0))||w||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ht]of v)this.g.setRequestHeader(Y,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Lu(this,Y)}};function Lu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Oa(c),Ri(c)}function Oa(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ut(this,"complete"),Ut(this,"abort"),Ri(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),te.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},i.bb=function(){Da(this)};function Da(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Xn(c)!=4||c.Z()!=2)){if(c.u&&Xn(c)==4)Ne(c.Ea,0,c);else if(Ut(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const ht=c.Z();t:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var w;if(w=ht===0){var H=String(c.D).match(Ls)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),w=!xa.test(H?H.toLowerCase():"")}v=w}if(v)Ut(c,"complete"),Ut(c,"success");else{c.m=6;try{var Y=2<Xn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Oa(c)}}finally{Ri(c)}}}}function Ri(c,y){if(c.g){Fs(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ut(c,"ready");try{v.onreadystatechange=w}catch{}}}function Fs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ki(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sh(c){const y={};c=(c.g&&2<=Xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(dt(c[w]))continue;var v=V(c[w]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[H]||[];y[H]=Y,Y.push(v)}O(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ma(c){this.Aa=0,this.i=[],this.j=new pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,c),this.cb=Gs("retryDelaySeedMs",1e4,c),this.Wa=Gs("forwardChannelMaxRetries",2,c),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zi(c&&c.concurrentRequestLimit),this.Da=new Hs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ma.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,w){zt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Gu(this,null,this.W),ka(this)};function Jo(c){if(ju(c),c.G==3){var y=c.U++,v=kn(c.I);if(se(v,"SID",c.K),se(v,"RID",y),se(v,"TYPE","terminate"),Ks(c,v),y=new _n(c,c.j,y),y.L=2,y.v=js(kn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ks(y)}Fu(c)}function Va(c){c.g&&($s(c),c.g.cancel(),c.g=null)}function ju(c){Va(c),c.u&&(m.clearTimeout(c.u),c.u=null),Pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ka(c){if(!Aa(c.h)&&!c.s){c.s=!0;var y=c.Ga;it||D(),ft||(it(),ft=!0),Rt.add(y,c),c.B=0}}function wh(c,y){return Ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Wt(S(c.Ga,c,y),nl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new _n(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=A(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Bu(this,H,y),v=kn(this.I),se(v,"RID",c),se(v,"CVER",22),this.D&&se(v,"X-HTTP-Session-Id",this.D),Ks(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Zo(Y)))+"&"+y:this.m&&Ke(v,this.m,Y)),Ca(this.h,H),this.Ua&&se(v,"TYPE","init"),this.P?(se(v,"$req",y),se(v,"SID","null"),H.T=!0,ui(H,v,null)):ui(H,v,y),this.G=2}}else this.G==3&&(c?tl(this,c):this.i.length==0||Aa(this.h)||tl(this))};function tl(c,y){var v;y?v=y.l:v=c.U++;const w=kn(c.I);se(w,"SID",c.K),se(w,"RID",v),se(w,"AID",c.T),Ks(c,w),c.m&&c.o&&Ke(w,c.m,c.o),v=new _n(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ca(c.h,v),ui(v,w,y)}function Ks(c,y){c.H&&lt(c.H,function(v,w){se(y,w,v)}),c.l&&$o({},function(v,w){se(y,w,v)})}function Bu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?S(c.l.Na,c.l,c):null;t:{var H=c.i;let Y=-1;for(;;){const ht=["count="+v];Y==-1?0<v?(Y=H[0].g,ht.push("ofs="+Y)):Y=0:ht.push("ofs="+Y);let Kt=!0;for(let Ue=0;Ue<v;Ue++){let $t=H[Ue].g;const $e=H[Ue].map;if($t-=Y,0>$t)Y=Math.max(0,H[Ue].g-100),Kt=!1;else try{Si($e,ht,"req"+$t+"_")}catch{w&&w($e)}}if(Kt){w=ht.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,w}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;it||D(),ft||(it(),ft=!0),Rt.add(y,c),c.v=0}}function el(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Wt(S(c.Fa,c),nl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Wt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),Va(this),Hu(this))};function $s(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new _n(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=kn(c.qa);se(y,"RID","rpc"),se(y,"SID",c.K),se(y,"AID",c.T),se(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&se(y,"TO",c.ja),se(y,"TYPE","xmlhttp"),Ks(c,y),c.m&&c.o&&Ke(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=js(kn(y)),v.m=null,v.P=!0,Wi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Va(this),el(this),zt(19))};function Pa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function qu(c,y){var v=null;if(c.g==y){Pa(c),$s(c),c.g=null;var w=2}else if(Go(c.h,y))v=y.D,En(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;w=fe(),Ut(w,new me(w,v)),ka(c)}else zu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(w==1&&wh(c,y)||w==2&&el(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:rr(c,5);break;case 4:rr(c,10);break;case 3:rr(c,6);break;default:rr(c,2)}}}function nl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function rr(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),w=c.Xa;const H=!w;w=new Oe(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Us(w,"https"),js(w),H?zs(w.toString(),v):ci(w.toString(),v)}else zt(2);c.G=0,c.l&&c.l.sa(y),Fu(c),ju(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function Gu(c,y,v){var w=v instanceof Oe?kn(v):new Oe(v);if(w.g!="")y&&(w.g=y+"."+w.g),Hr(w,w.s);else{var H=m.location;w=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Y=new Oe(null);w&&Us(Y,w),y&&(Y.g=y),H&&Hr(Y,H),v&&(Y.l=v),w=Y}return v=c.D,y=c.ya,v&&y&&se(w,v,y),se(w,"VER",c.la),Ks(c,w),w}function Ku(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new te(new qr({eb:v})):new te(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}i=$u.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function La(){}La.prototype.g=function(c,y){return new Tn(c,y)};function Tn(c,y){yt.call(this),this.g=new Ma(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!dt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!dt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ci(this)}z(Tn,yt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Jo(this.g)},Tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Rn(c),c=v);y.i.push(new Vu(y.Ya++,c)),y.G==3&&ka(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,Tn.aa.N.call(this)};function Yu(c){Kn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}z(Yu,Kn);function Qu(){Ur.call(this),this.status=1}z(Qu,Ur);function Ci(c){this.g=c}z(Ci,$u),Ci.prototype.ua=function(){Ut(this.g,"a")},Ci.prototype.ta=function(c){Ut(this.g,new Yu(c))},Ci.prototype.sa=function(c){Ut(this.g,new Qu)},Ci.prototype.ra=function(){Ut(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,ab=function(){return new La},sb=function(){return fe()},rb=bt,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,df=Br,Xi.COMPLETE="complete",ib=Xi,Ms.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Ql=Ms,te.prototype.listenOnce=te.prototype.L,te.prototype.getLastError=te.prototype.Ka,te.prototype.getLastErrorCode=te.prototype.Ba,te.prototype.getStatus=te.prototype.Z,te.prototype.getResponseJson=te.prototype.Oa,te.prototype.getResponseText=te.prototype.oa,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Ha,nb=te}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const H0="@firebase/firestore",q0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Ip("@firebase/firestore");function po(){return ya.logLevel}function pt(i,...t){if(ya.logLevel<=Ft.DEBUG){const n=t.map(Bp);ya.debug(`Firestore (${jo}): ${i}`,...n)}}function xr(i,...t){if(ya.logLevel<=Ft.ERROR){const n=t.map(Bp);ya.error(`Firestore (${jo}): ${i}`,...n)}}function Ro(i,...t){if(ya.logLevel<=Ft.WARN){const n=t.map(Bp);ya.warn(`Firestore (${jo}): ${i}`,...n)}}function Bp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,ob(i,s,n)}function ob(i,t,n){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw xr(s),new Error(s)}function ee(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||ob(t,o,s)}function Dt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends kr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class wN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AN{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ee(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new bs,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new bs)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ee(typeof s.accessToken=="string",31837,{l:s}),new lb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ee(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class RN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CN{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new RN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ee(this.o===void 0,3512);const s=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new F0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=NN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Pt(i,t){return i<t?-1:i>t?1:0}function ip(i,t){let n=0;for(;n<i.length&&n<t.length;){const s=i.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Pt(s,o);{const u=ub(),h=xN(u.encode(G0(i,n)),u.encode(G0(t,n)));return h!==0?h:Pt(s,o)}}n+=s>65535?2:1}return Pt(i.length,t.length)}function G0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function xN(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return Pt(i[n],t[n]);return Pt(i.length,t.length)}function Co(i,t,n){return i.length===t.length&&i.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-62135596800,$0=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(t){return qe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*$0);return new qe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Tt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<K0)throw new Tt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-K0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new qe(0,0))}static max(){return new Ot(new qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__name__";class ki{constructor(t,n,s){n===void 0?n=0:n>t.length&&Nt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Nt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ki.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const s=ki.isNumericId(t),o=ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ki.extractNumericId(t).compare(ki.extractNumericId(n)):ip(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ts.fromString(t.substring(4,t.length-2))}}class Se extends ki{construct(t,n,s){return new Se(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new Tt(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const ON=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ki{construct(t,n,s){return new on(t,n,s)}static isValidIdentifier(t){return ON.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new on([Y0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Tt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new Tt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Tt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new Tt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.path=t}static fromPath(t){return new wt(Se.fromString(t))}static fromName(t){return new wt(Se.fromString(t).popFirst(5))}static empty(){return new wt(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wt(new Se(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function DN(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ot.fromTimestamp(s===1e9?new qe(n+1,0):new qe(n,s));return new Ss(o,wt.empty(),t)}function MN(i){return new Ss(i.readTime,i.key,lu)}class Ss{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ss(Ot.min(),wt.empty(),lu)}static max(){return new Ss(Ot.max(),wt.empty(),lu)}}function VN(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=wt.comparator(i.documentKey,t.documentKey),n!==0?n:Pt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(i){if(i.code!==st.FAILED_PRECONDITION||i.message!==kN)throw i;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,s)=>{n(t)})}static reject(t){return new tt((n,s)=>{s(t)})}static waitFor(t){return new tt((n,s)=>{let o=0,u=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next(o=>o?tt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new tt((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(T=>{h[g]=T,++m,m===u&&s(h)},T=>o(T))}})}static doWhile(t,n){return new tt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function LN(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Jf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function th(i){return i==null}function Nf(i){return i===0&&1/i==-1/0}function UN(i){return typeof i=="number"&&Number.isInteger(i)&&!Nf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="";function jN(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=Q0(t)),t=BN(i.get(n),t);return Q0(t)}function BN(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case fb:n+="";break;default:n+=u}}return n}function Q0(i){return i+fb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function Os(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function hb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n){this.comparator=t,this.root=n||an.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ef(this.root,t,this.comparator,!0)}}class ef{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??an.RED,this.left=o??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new an(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return an.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Nt(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new an(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(t){return new W0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class W0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.fields=t,t.sort(on.comparator)}static empty(){return new qn([])}unionWith(t){let n=new Fe(on.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new qn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Co(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new db("Invalid base64 string: "+u):u}}(t);return new ln(n)}static fromUint8Array(t){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new ln(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const zN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(i){if(ee(!!i,39018),typeof i=="string"){let t=0;const n=zN.exec(i);if(ee(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ie(i.seconds),nanos:Ie(i.nanos)}}function Ie(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function As(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="server_timestamp",pb="__type__",gb="__previous_value__",yb="__local_write_time__";function Hp(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[pb])===null||n===void 0?void 0:n.stringValue)===mb}function eh(i){const t=i.mapValue.fields[gb];return Hp(t)?eh(t):t}function uu(i){const t=ws(i.mapValue.fields[yb].timestampValue);return new qe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t,n,s,o,u,h,m,p,g,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const xf="(default)";class cu{constructor(t,n){this.projectId=t,this.database=n||xf}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===xf}isEqual(t){return t instanceof cu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="__type__",qN="__max__",nf={mapValue:{}},_b="__vector__",Of="value";function Rs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hp(i)?4:GN(i)?9007199254740991:FN(i)?10:11:Nt(28295,{value:i})}function Hi(i,t){if(i===t)return!0;const n=Rs(i);if(n!==Rs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return uu(i).isEqual(uu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ws(o.timestampValue),m=ws(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return As(o.bytesValue).isEqual(As(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return Ie(o.geoPointValue.latitude)===Ie(u.geoPointValue.latitude)&&Ie(o.geoPointValue.longitude)===Ie(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ie(o.integerValue)===Ie(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ie(o.doubleValue),m=Ie(u.doubleValue);return h===m?Nf(h)===Nf(m):isNaN(h)&&isNaN(m)}return!1}(i,t);case 9:return Co(i.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(X0(h)!==X0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Hi(h[p],m[p])))return!1;return!0}(i,t);default:return Nt(52216,{left:i})}}function fu(i,t){return(i.values||[]).find(n=>Hi(n,t))!==void 0}function Io(i,t){if(i===t)return 0;const n=Rs(i),s=Rs(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(i.booleanValue,t.booleanValue);case 2:return function(u,h){const m=Ie(u.integerValue||u.doubleValue),p=Ie(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return Z0(i.timestampValue,t.timestampValue);case 4:return Z0(uu(i),uu(t));case 5:return ip(i.stringValue,t.stringValue);case 6:return function(u,h){const m=As(u),p=As(h);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Pt(m[g],p[g]);if(T!==0)return T}return Pt(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Pt(Ie(u.latitude),Ie(h.latitude));return m!==0?m:Pt(Ie(u.longitude),Ie(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return J0(i.arrayValue,t.arrayValue);case 10:return function(u,h){var m,p,g,T;const _=u.fields||{},S=h.fields||{},L=(m=_[Of])===null||m===void 0?void 0:m.arrayValue,z=(p=S[Of])===null||p===void 0?void 0:p.arrayValue,W=Pt(((g=L==null?void 0:L.values)===null||g===void 0?void 0:g.length)||0,((T=z==null?void 0:z.values)===null||T===void 0?void 0:T.length)||0);return W!==0?W:J0(L,z)}(i.mapValue,t.mapValue);case 11:return function(u,h){if(u===nf.mapValue&&h===nf.mapValue)return 0;if(u===nf.mapValue)return 1;if(h===nf.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let _=0;_<p.length&&_<T.length;++_){const S=ip(p[_],T[_]);if(S!==0)return S;const L=Io(m[p[_]],g[T[_]]);if(L!==0)return L}return Pt(p.length,T.length)}(i.mapValue,t.mapValue);default:throw Nt(23264,{Pe:n})}}function Z0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Pt(i,t);const n=ws(i),s=ws(t),o=Pt(n.seconds,s.seconds);return o!==0?o:Pt(n.nanos,s.nanos)}function J0(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Io(n[o],s[o]);if(u)return u}return Pt(n.length,s.length)}function No(i){return rp(i)}function rp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ws(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return As(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return wt.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=rp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${rp(n.fields[h])}`;return o+"}"}(i.mapValue):Nt(61005,{value:i})}function mf(i){switch(Rs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=eh(i);return t?16+mf(t):16;case 5:return 2*i.stringValue.length;case 6:return As(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+mf(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Os(s.fields,(u,h)=>{o+=u.length+mf(h)}),o}(i.mapValue);default:throw Nt(13486,{value:i})}}function sp(i){return!!i&&"integerValue"in i}function qp(i){return!!i&&"arrayValue"in i}function tE(i){return!!i&&"nullValue"in i}function eE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function pf(i){return!!i&&"mapValue"in i}function FN(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[vb])===null||n===void 0?void 0:n.stringValue)===_b}function tu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Os(i.mapValue.fields,(n,s)=>t.mapValue.fields[n]=tu(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tu(i.arrayValue.values[n]);return t}return Object.assign({},i)}function GN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===qN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!pf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=tu(n)}setAll(t){let n=on.emptyPath(),s={},o=[];t.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=tu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Os(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Mn(tu(this.value))}}function Eb(i){const t=[];return Os(i.fields,(n,s)=>{const o=new on([n]);if(pf(s)){const u=Eb(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new mn(t,0,Ot.min(),Ot.min(),Ot.min(),Mn.empty(),0)}static newFoundDocument(t,n,s,o){return new mn(t,1,n,Ot.min(),s,o,0)}static newNoDocument(t,n){return new mn(t,2,n,Ot.min(),Ot.min(),Mn.empty(),0)}static newUnknownDocument(t,n){return new mn(t,3,n,Ot.min(),Ot.min(),Mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t,n){this.position=t,this.inclusive=n}}function nE(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=wt.comparator(wt.fromName(h.referenceValue),n.key):s=Io(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Hi(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t,n="asc"){this.field=t,this.dir=n}}function KN(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{}class He extends Tb{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new YN(t,n,s):n==="array-contains"?new WN(t,s):n==="in"?new ZN(t,s):n==="not-in"?new JN(t,s):n==="array-contains-any"?new tx(t,s):new He(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new QN(t,s):new XN(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends Tb{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new qi(t,n)}matches(t){return bb(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bb(i){return i.op==="and"}function Sb(i){return $N(i)&&bb(i)}function $N(i){for(const t of i.filters)if(t instanceof qi)return!1;return!0}function ap(i){if(i instanceof He)return i.field.canonicalString()+i.op.toString()+No(i.value);if(Sb(i))return i.filters.map(t=>ap(t)).join(",");{const t=i.filters.map(n=>ap(n)).join(",");return`${i.op}(${t})`}}function wb(i,t){return i instanceof He?function(s,o){return o instanceof He&&s.op===o.op&&s.field.isEqual(o.field)&&Hi(s.value,o.value)}(i,t):i instanceof qi?function(s,o){return o instanceof qi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&wb(h,o.filters[m]),!0):!1}(i,t):void Nt(19439)}function Ab(i){return i instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(i):i instanceof qi?function(n){return n.op.toString()+" {"+n.getFilters().map(Ab).join(" ,")+"}"}(i):"Filter"}class YN extends He{constructor(t,n,s){super(t,n,s),this.key=wt.fromName(s.referenceValue)}matches(t){const n=wt.comparator(t.key,this.key);return this.matchesComparison(n)}}class QN extends He{constructor(t,n){super(t,"in",n),this.keys=Rb("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class XN extends He{constructor(t,n){super(t,"not-in",n),this.keys=Rb("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Rb(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>wt.fromName(s.referenceValue))}class WN extends He{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return qp(n)&&fu(n.arrayValue,this.value)}}class ZN extends He{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class JN extends He{constructor(t,n){super(t,"not-in",n)}matches(t){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fu(this.value.arrayValue,n)}}class tx extends He{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>fu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function rE(i,t=null,n=[],s=[],o=null,u=null,h=null){return new ex(i,t,n,s,o,u,h)}function Fp(i){const t=Dt(i);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>ap(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),th(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>No(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>No(s)).join(",")),t.Ie=n}return t.Ie}function Gp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!KN(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!wb(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!iE(i.startAt,t.startAt)&&iE(i.endAt,t.endAt)}function op(i){return wt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function nx(i,t,n,s,o,u,h,m){return new nh(i,t,n,s,o,u,h,m)}function Kp(i){return new nh(i)}function sE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ix(i){return i.collectionGroup!==null}function eu(i){const t=Dt(i);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Fe(on.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Mf(u,s))}),n.has(on.keyField().canonicalString())||t.Ee.push(new Mf(on.keyField(),s))}return t.Ee}function ji(i){const t=Dt(i);return t.de||(t.de=rx(t,eu(i))),t.de}function rx(i,t){if(i.limitType==="F")return rE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Mf(o.field,u)});const n=i.endAt?new Df(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Df(i.startAt.position,i.startAt.inclusive):null;return rE(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function lp(i,t,n){return new nh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function ih(i,t){return Gp(ji(i),ji(t))&&i.limitType===t.limitType}function Cb(i){return`${Fp(ji(i))}|lt:${i.limitType}`}function go(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Ab(o)).join(", ")}]`),th(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>No(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>No(o)).join(",")),`Target(${s})`}(ji(i))}; limitType=${i.limitType})`}function rh(i,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):wt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,t)&&function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=nE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,eu(s),o)||s.endAt&&!function(h,m,p){const g=nE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,eu(s),o))}(i,t)}function sx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ib(i){return(t,n)=>{let s=!1;for(const o of eu(i)){const u=ax(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ax(i,t,n){const s=i.field.isKeyField()?wt.comparator(t.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Io(p,g):Nt(42886)}(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Nt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Os(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return hb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=new ve(wt.comparator);function Or(){return ox}const Nb=new ve(wt.comparator);function Xl(...i){let t=Nb;for(const n of i)t=t.insert(n.key,n);return t}function xb(i){let t=Nb;return i.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ha(){return nu()}function Ob(){return nu()}function nu(){return new Ta(i=>i.toString(),(i,t)=>i.isEqual(t))}const lx=new ve(wt.comparator),ux=new Fe(wt.comparator);function Gt(...i){let t=ux;for(const n of i)t=t.add(n);return t}const cx=new Fe(Pt);function fx(){return cx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(t)?"-0":t}}function Db(i){return{integerValue:""+i}}function hx(i,t){return UN(t)?Db(t):$p(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(){this._=void 0}}function dx(i,t,n){return i instanceof Vf?function(o,u){const h={fields:{[pb]:{stringValue:mb},[yb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hp(u)&&(u=eh(u)),u&&(h.fields[gb]=u),{mapValue:h}}(n,t):i instanceof hu?Vb(i,t):i instanceof du?kb(i,t):function(o,u){const h=Mb(o,u),m=aE(h)+aE(o.Re);return sp(h)&&sp(o.Re)?Db(m):$p(o.serializer,m)}(i,t)}function mx(i,t,n){return i instanceof hu?Vb(i,t):i instanceof du?kb(i,t):n}function Mb(i,t){return i instanceof kf?function(s){return sp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Vf extends sh{}class hu extends sh{constructor(t){super(),this.elements=t}}function Vb(i,t){const n=Pb(t);for(const s of i.elements)n.some(o=>Hi(o,s))||n.push(s);return{arrayValue:{values:n}}}class du extends sh{constructor(t){super(),this.elements=t}}function kb(i,t){let n=Pb(t);for(const s of i.elements)n=n.filter(o=>!Hi(o,s));return{arrayValue:{values:n}}}class kf extends sh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function aE(i){return Ie(i.integerValue||i.doubleValue)}function Pb(i){return qp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function px(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof hu&&o instanceof hu||s instanceof du&&o instanceof du?Co(s.elements,o.elements,Hi):s instanceof kf&&o instanceof kf?Hi(s.Re,o.Re):s instanceof Vf&&o instanceof Vf}(i.transform,t.transform)}class gx{constructor(t,n){this.version=t,this.transformResults=n}}class Bi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bi}static exists(t){return new Bi(void 0,t)}static updateTime(t){return new Bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class ah{}function Lb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new jb(i.key,Bi.none()):new Ru(i.key,i.data,Bi.none());{const n=i.data,s=Mn.empty();let o=new Fe(on.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ds(i.key,s,new qn(o.toArray()),Bi.none())}}function yx(i,t,n){i instanceof Ru?function(o,u,h){const m=o.value.clone(),p=lE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,n):i instanceof Ds?function(o,u,h){if(!gf(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=lE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Ub(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,t,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,n)}function iu(i,t,n,s){return i instanceof Ru?function(u,h,m,p){if(!gf(u.precondition,h))return m;const g=u.value.clone(),T=uE(u.fieldTransforms,p,h);return g.setAll(T),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,n,s):i instanceof Ds?function(u,h,m,p){if(!gf(u.precondition,h))return m;const g=uE(u.fieldTransforms,p,h),T=h.data;return T.setAll(Ub(u)),T.setAll(g),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(_=>_.field))}(i,t,n,s):function(u,h,m){return gf(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,t,n)}function vx(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=Mb(s.transform,o||null);u!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,u))}return n||null}function oE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Co(s,o,(u,h)=>px(u,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Ru extends ah{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends ah{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ub(i){const t=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}}),t}function lE(i,t,n){const s=new Map;ee(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,mx(h,m,n[o]))}return s}function uE(i,t,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,dx(u,h,t))}return s}class jb extends ah{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _x extends ah{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&yx(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=iu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=iu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Ob();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Lb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ot.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Gt())}isEqual(t){return this.batchId===t.batchId&&Co(this.mutations,t.mutations,(n,s)=>oE(n,s))&&Co(this.baseMutations,t.baseMutations,(n,s)=>oE(n,s))}}class Yp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){ee(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return lx}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Yp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Qt;function Sx(i){switch(i){case st.OK:return Nt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Nt(15467,{code:i})}}function Bb(i){if(i===void 0)return xr("GRPC error has no .code"),st.UNKNOWN;switch(i){case Ve.OK:return st.OK;case Ve.CANCELLED:return st.CANCELLED;case Ve.UNKNOWN:return st.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return st.INTERNAL;case Ve.UNAVAILABLE:return st.UNAVAILABLE;case Ve.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ve.NOT_FOUND:return st.NOT_FOUND;case Ve.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ve.ABORTED:return st.ABORTED;case Ve.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ve.DATA_LOSS:return st.DATA_LOSS;default:return Nt(39323,{code:i})}}(Qt=Ve||(Ve={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new Ts([4294967295,4294967295],0);function cE(i){const t=ub().encode(i),n=new eb;return n.update(t),new Uint8Array(n.digest())}function fE(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ts([n,s],0),new Ts([o,u],0)]}class Qp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Ts.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(Ts.fromNumber(s)));return o.compare(wx)===1&&(o=new Ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=cE(t),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.be(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Qp(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.pe===0)return;const n=cE(t),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.Se(h)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Cu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new oh(Ot.min(),o,new ve(Pt),Or(),Gt())}}class Cu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Cu(s,n,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class zb{constructor(t,n){this.targetId=t,this.Ce=n}}class Hb{constructor(t,n,s=ln.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class hE{constructor(){this.Fe=0,this.Me=dE(),this.xe=ln.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Gt(),n=Gt(),s=Gt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Nt(38017,{changeType:u})}}),new Cu(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=dE()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,ee(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ax{constructor(t){this.ze=t,this.je=new Map,this.He=Or(),this.Je=rf(),this.Ye=rf(),this.Ze=new ve(Pt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Nt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(op(u))if(s===0){const h=new wt(u.path);this.tt(n,h,mn.newNoDocument(h,Ot.min()))}else ee(s===1,20013,{expectedCount:s});else{const h=this.ut(n);if(h!==s){const m=this.ct(t),p=m?this.lt(m,t,h):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=As(s).toUint8Array()}catch(p){if(p instanceof db)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Qp(h,o,u)}catch(p){return Ro(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&op(m.target)){const p=new wt(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,mn.newNoDocument(p,t))}u.Le&&(n.set(h,u.qe()),u.Qe())}});let s=Gt();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(t));const o=new oh(t,n,this.Ze,this.He,s);return this.He=Or(),this.Je=rf(),this.Ye=rf(),this.Ze=new ve(Pt),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new hE,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Fe(Pt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Fe(Pt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new hE),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function rf(){return new ve(wt.comparator)}function dE(){return new ve(wt.comparator)}const Rx={asc:"ASCENDING",desc:"DESCENDING"},Cx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ix={and:"AND",or:"OR"};class Nx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function up(i,t){return i.useProto3Json||th(t)?t:{value:t}}function Pf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function xx(i,t){return Pf(i,t.toTimestamp())}function zi(i){return ee(!!i,49232),Ot.fromTimestamp(function(n){const s=ws(n);return new qe(s.seconds,s.nanos)}(i))}function Xp(i,t){return cp(i,t).canonicalString()}function cp(i,t){const n=function(o){return new Se(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?n:n.child(t)}function Fb(i){const t=Se.fromString(i);return ee(Qb(t),10190,{key:t.toString()}),t}function fp(i,t){return Xp(i.databaseId,t.path)}function Mm(i,t){const n=Fb(t);if(n.get(1)!==i.databaseId.projectId)throw new Tt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Tt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new wt(Kb(n))}function Gb(i,t){return Xp(i.databaseId,t)}function Ox(i){const t=Fb(i);return t.length===4?Se.emptyPath():Kb(t)}function hp(i){return new Se(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Kb(i){return ee(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mE(i,t,n){return{name:fp(i,t),fields:n.value.mapValue.fields}}function Dx(i,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Nt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(ee(T===void 0||typeof T=="string",58123),ln.fromBase64String(T||"")):(ee(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),ln.fromUint8Array(T||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const T=g.code===void 0?st.UNKNOWN:Bb(g.code);return new Tt(T,g.message||"")}(h);n=new Hb(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mm(i,s.document.name),u=zi(s.document.updateTime),h=s.document.createTime?zi(s.document.createTime):Ot.min(),m=new Mn({mapValue:{fields:s.document.fields}}),p=mn.newFoundDocument(o,u,h,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new yf(g,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Mm(i,s.document),u=s.readTime?zi(s.readTime):Ot.min(),h=mn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new yf([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Mm(i,s.document),u=s.removedTargetIds||[];n=new yf([],u,o,null)}else{if(!("filter"in t))return Nt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new bx(o,u),m=s.targetId;n=new zb(m,h)}}return n}function Mx(i,t){let n;if(t instanceof Ru)n={update:mE(i,t.key,t.value)};else if(t instanceof jb)n={delete:fp(i,t.key)};else if(t instanceof Ds)n={update:mE(i,t.key,t.data),updateMask:Hx(t.fieldMask)};else{if(!(t instanceof _x))return Nt(16599,{ft:t.type});n={verify:fp(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Vf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kf)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Nt(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:xx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Nt(27497)}(i,t.precondition)),n}function Vx(i,t){return i&&i.length>0?(ee(t!==void 0,14353),i.map(n=>function(o,u){let h=o.updateTime?zi(o.updateTime):zi(u);return h.isEqual(Ot.min())&&(h=zi(u)),new gx(h,o.transformResults||[])}(n,t))):[]}function kx(i,t){return{documents:[Gb(i,t.path)]}}function Px(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Gb(i,o);const u=function(g){if(g.length!==0)return Yb(qi.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(T=>function(S){return{field:yo(S.field),direction:jx(S.dir)}}(T))}(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=up(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:n,parent:o}}function Lx(i){let t=Ox(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ee(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(_){const S=$b(_);return S instanceof qi&&Sb(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(_){return _.map(S=>function(z){return new Mf(vo(z.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(_){let S;return S=typeof _=="object"?_.value:_,th(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(_){const S=!!_.before,L=_.values||[];return new Df(L,S)}(n.startAt));let g=null;return n.endAt&&(g=function(_){const S=!_.before,L=_.values||[];return new Df(L,S)}(n.endAt)),nx(t,o,h,u,m,"F",p,g)}function Ux(i,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function $b(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return He.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return He.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return He.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=vo(n.unaryFilter.field);return He.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(i):i.fieldFilter!==void 0?function(n){return He.create(vo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return qi.create(n.compositeFilter.filters.map(s=>$b(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(n.compositeFilter.op))}(i):Nt(30097,{filter:i})}function jx(i){return Rx[i]}function Bx(i){return Cx[i]}function zx(i){return Ix[i]}function yo(i){return{fieldPath:i.canonicalString()}}function vo(i){return on.fromServerFormat(i.fieldPath)}function Yb(i){return i instanceof He?function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:Bx(n.op),value:n.value}}}(i):i instanceof qi?function(n){const s=n.getFilters().map(o=>Yb(o));return s.length===1?s[0]:{compositeFilter:{op:zx(n.op),filters:s}}}(i):Nt(54877,{filter:i})}function Hx(i){const t=[];return i.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Qb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,n,s,o,u=Ot.min(),h=Ot.min(),m=ln.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t){this.wt=t}}function Fx(i){const t=Lx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.Cn=new Kx}addToCollectionParentIndex(t,n){return this.Cn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(Ss.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(Ss.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class Kx{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Fe(Se.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Fe(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xb=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(Xb,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new xo(0)}static lr(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="LruGarbageCollector",$x=1048576;function yE([i,t],[n,s]){const o=Pt(i,n);return o===0?Pt(t,s):o}class Yx{constructor(t){this.Er=t,this.buffer=new Fe(yE),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();yE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Qx{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){pt(gE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?pt(gE,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.mr(3e5)})}}class Xx{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(Jf.le);const s=new Yx(n);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(pE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,o,u,h,m,p,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,h=Date.now(),this.nthSequenceNumber(t,o))).next(_=>(s=_,m=Date.now(),this.removeTargets(t,s,n))).next(_=>(u=_,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(_=>(g=Date.now(),po()<=Ft.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:_})))}}function Wx(i,t){return new Xx(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.changes=new Ta(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,mn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&iu(s.mutation,o,qn.empty(),qe.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Gt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Gt()){const o=ha();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let h=Xl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const s=ha();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Gt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(t,n,s,o){let u=Or();const h=nu(),m=function(){return nu()}();return n.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Ds)?u=u.insert(g.key,g):T!==void 0?(h.set(g.key,T.mutation.getFieldMask()),iu(T.mutation,g,T.mutation.getFieldMask(),qe.now())):h.set(g.key,qn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,T)=>h.set(g,T)),n.forEach((g,T)=>{var _;return m.set(g,new Jx(T,(_=h.get(g))!==null&&_!==void 0?_:null))}),m))}recalculateAndSaveOverlays(t,n){const s=nu();let o=new ve((h,m)=>h-m),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||qn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const _=(o.get(m.batchId)||Gt()).add(p);o=o.insert(m.batchId,_)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,_=Ob();T.forEach(S=>{if(!u.has(S)){const L=Lb(n.get(S),s.get(S));L!==null&&_.set(S,L),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,_))}return tt.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(h){return wt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ix(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(ha());let m=lu,p=u;return h.next(g=>tt.forEach(g,(T,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),u.get(T)?tt.resolve():this.remoteDocumentCache.getEntry(t,T).next(S=>{p=p.insert(T,S)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Gt())).next(T=>({batchId:m,changes:xb(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new wt(n)).next(s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=Xl();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,p=>{const g=function(_,S){return new nh(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(T=>{T.forEach((_,S)=>{h=h.insert(_,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const T=g.getKey();h.get(T)===null&&(h=h.insert(T,mn.newInvalidDocument(T)))});let m=Xl();return h.forEach((p,g)=>{const T=u.get(p);T!==void 0&&iu(T.mutation,g,qn.empty(),qe.now()),rh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return tt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:Fx(o.bundledQuery),readTime:zi(o.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.overlays=new ve(wt.comparator),this.Qr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ha();return tt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=ha(),u=n.length+1,h=new wt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ve((g,T)=>g-T);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=ha(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=ha(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return tt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Tx(n,s));let u=this.Qr.get(n);u===void 0&&(u=Gt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.$r=new Fe(We.Ur),this.Kr=new Fe(We.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new We(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new We(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new wt(new Se([])),s=new We(n,t),o=new We(n,t+1),u=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new wt(new Se([])),s=new We(n,t),o=new We(n,t+1);let u=Gt();return this.Kr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(t){const n=new We(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class We{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return wt.comparator(t.key,n.key)||Pt(t.Zr,n.Zr)}static Wr(t,n){return Pt(t.Zr,n.Zr)||wt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Fe(We.Ur)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Ex(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Xr=this.Xr.add(new We(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(h)}lookupMutationBatch(t,n){return tt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?zp:this.nr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new We(n,0),o=new We(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],h=>{const m=this.ei(h.Zr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(Pt);return n.forEach(o=>{const u=new We(o,0),h=new We(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{s=s.add(m.Zr)})}),tt.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;wt.isDocumentKey(u)||(u=u.child(""));const h=new We(new wt(u),0);let m=new Fe(Pt);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},h),tt.resolve(this.ni(m))}ni(t){const n=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){ee(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return tt.forEach(n.mutations,o=>{const u=new We(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new We(n,0),o=this.Xr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.ii=t,this.docs=function(){return new ve(wt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(t,n){let s=Or();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Or();const h=n.path,m=new wt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||VN(MN(T),s)<=0||(o.has(T.key)||rh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Nt(9500)}si(t,n){return tt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new aO(this)}getSize(t){return tt.resolve(this.size)}}class aO extends Zx{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),tt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t){this.persistence=t,this.oi=new Ta(n=>Fp(n),Gp),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this._i=0,this.ai=new Wp,this.targetCount=0,this.ui=xo.cr()}forEachTarget(t,n){return this.oi.forEach((s,o)=>n(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),tt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new xo(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.Tr(n),tt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,n){this.ci={},this.overlays={},this.li=new Jf(0),this.hi=!1,this.hi=!0,this.Pi=new iO,this.referenceDelegate=t(this),this.Ti=new oO(this),this.indexManager=new Gx,this.remoteDocumentCache=function(o){return new sO(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new qx(n),this.Ei=new eO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new nO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new rO(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){pt("MemoryPersistence","Starting transaction:",t);const o=new lO(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return tt.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class lO extends PN{constructor(t){super(),this.currentSequenceNumber=t}}class Zp{constructor(t){this.persistence=t,this.Vi=new Wp,this.mi=null}static fi(t){return new Zp(t)}get gi(){if(this.mi)return this.mi;throw Nt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.gi,s=>{const o=wt.fromPath(s);return this.pi(t,o).next(u=>{u||n.removeEntry(o,Ot.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return tt.or([()=>tt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Lf{constructor(t,n){this.persistence=t,this.yi=new Ta(s=>jN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Wx(this,n)}static fi(t,n){return new Lf(t,n)}di(){}Ai(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return tt.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(u=>u?tt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,h=>this.Dr(t,h,n).next(m=>{m||(s++,u.removeEntry(h,Ot.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),tt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=mf(t.data.value)),n}Dr(t,n,s){return tt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ds=s,this.As=o}static Rs(t,n){let s=Gt(),o=Gt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return HR()?8:LN(pn())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ws(t,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(t,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new uO;return this.Ss(t,n,h).next(m=>{if(u.result=m,this.fs)return this.Ds(t,n,h,m.size)})}).next(()=>u.result)}Ds(t,n,s,o){return s.documentReadCount<this.gs?(po()<=Ft.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),tt.resolve()):(po()<=Ft.DEBUG&&pt("QueryEngine","Query:",go(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(po()<=Ft.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(n))):tt.resolve())}ws(t,n){if(sE(n))return tt.resolve(null);let s=ji(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),s=ji(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const h=Gt(...u);return this.ys.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,h,p.readTime)?this.ws(t,lp(n,null,"F")):this.Fs(t,g,n,p)}))})))}bs(t,n,s,o){return sE(n)||o.isEqual(Ot.min())?tt.resolve(null):this.ys.getDocuments(t,s).next(u=>{const h=this.vs(n,u);return this.Cs(n,h,s,o)?tt.resolve(null):(po()<=Ft.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),go(n)),this.Fs(t,h,n,DN(o,lu)).next(m=>m))})}vs(t,n){let s=new Fe(Ib(t));return n.forEach((o,u)=>{rh(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return po()<=Ft.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",go(n)),this.ys.getDocumentsMatchingQuery(t,n,Ss.min(),s)}Fs(t,n,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",fO=3e8;class hO{constructor(t,n,s,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new ve(Pt),this.Os=new Ta(u=>Fp(u),Gp),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function dO(i,t,n,s){return new hO(i,t,n,s)}async function Zb(i,t){const n=Dt(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Gt();for(const g of o){h.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:m}))})})}function mO(i,t){const n=Dt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const _=g.batch,S=_.keys();let L=tt.resolve();return S.forEach(z=>{L=L.next(()=>T.getEntry(p,z)).next(W=>{const U=g.docVersions.get(z);ee(U!==null,48541),W.version.compareTo(U)<0&&(_.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),T.addEntry(W)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(p,_))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Gt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function Jb(i){const t=Dt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function pO(i,t){const n=Dt(i),s=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];t.targetChanges.forEach((T,_)=>{const S=o.get(_);if(!S)return;m.push(n.Ti.removeMatchingKeys(u,T.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(u,T.addedDocuments,_)));let L=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(_)!==null?L=L.withResumeToken(ln.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,s)),o=o.insert(_,L),function(W,U,ot){return W.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=fO?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0}(S,L,T)&&m.push(n.Ti.updateTargetData(u,L))});let p=Or(),g=Gt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(gO(u,h,t.documentUpdates).next(T=>{p=T.qs,g=T.Qs})),!s.isEqual(Ot.min())){const T=n.Ti.getLastRemoteSnapshotVersion(u).next(_=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return tt.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function gO(i,t,n){let s=Gt(),o=Gt();return n.forEach(u=>s=s.add(u)),t.getEntries(i,s).next(u=>{let h=Or();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ot.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):pt(tg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function yO(i,t){const n=Dt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=zp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function vO(i,t){const n=Dt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,t).next(u=>u?(o=u,tt.resolve(o)):n.Ti.allocateTargetId(s).next(h=>(o=new ys(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function dp(i,t,n){const s=Dt(i),o=s.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!zo(h))throw h;pt(tg,`Failed to update sequence numbers for target ${t}: ${h}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function vE(i,t,n){const s=Dt(i);let o=Ot.min(),u=Gt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,T){const _=Dt(p),S=_.Os.get(T);return S!==void 0?tt.resolve(_.xs.get(S)):_.Ti.getTargetData(g,T)}(s,h,ji(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,t,n?o:Ot.min(),n?u:Gt())).next(m=>(_O(s,sx(t),m),{documents:m,$s:u})))}function _O(i,t,n){let s=i.Ns.get(t)||Ot.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(t,s)}class _E{constructor(){this.activeTargetIds=fx()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EO{constructor(){this.xo=new _E,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new _E,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class TE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pt(EE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){pt(EE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function mp(){return sf===null?sf=function(){return 268435456+Math.round(2147483648*Math.random())}():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RestConnection",bO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SO{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===xf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,n,s,o,u){const h=mp(),m=this.jo(t,n.toUriEncodedString());pt(Vm,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),T=Po(g);return this.Jo(t,m,p,s,T).then(_=>(pt(Vm,`Received RPC '${t}' ${h}: `,_),_),_=>{throw Ro(Vm,`RPC '${t}' ${h} failed with error: `,_,"url: ",m,"request:",s),_})}Yo(t,n,s,o,u,h){return this.zo(t,n,s,o,u)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const s=bO[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class AO extends SO{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const h=mp();return new Promise((m,p)=>{const g=new nb;g.setWithCredentials(!0),g.listenOnce(ib.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case df.NO_ERROR:const _=g.getResponseJson();pt(hn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(_)),m(_);break;case df.TIMEOUT:pt(hn,`RPC '${t}' ${h} timed out`),p(new Tt(st.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const S=g.getStatus();if(pt(hn,`RPC '${t}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const z=L==null?void 0:L.error;if(z&&z.status&&z.message){const W=function(ot){const dt=ot.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(dt)>=0?dt:st.UNKNOWN}(z.status);p(new Tt(W,z.message))}else p(new Tt(st.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Tt(st.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{h_:t,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{pt(hn,`RPC '${t}' ${h} completed.`)}});const T=JSON.stringify(o);pt(hn,`RPC '${t}' ${h} sending request:`,o),g.send(n,"POST",T,s,15)})}I_(t,n,s){const o=mp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=ab(),m=sb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");pt(hn,`Creating RPC '${t}' stream ${o}: ${T}`,p);const _=h.createWebChannel(T,p);this.E_(_);let S=!1,L=!1;const z=new wO({Zo:U=>{L?pt(hn,`Not sending because RPC '${t}' stream ${o} is closed:`,U):(S||(pt(hn,`Opening RPC '${t}' stream ${o} transport.`),_.open(),S=!0),pt(hn,`RPC '${t}' stream ${o} sending:`,U),_.send(U))},Xo:()=>_.close()}),W=(U,ot,dt)=>{U.listen(ot,nt=>{try{dt(nt)}catch(ut){setTimeout(()=>{throw ut},0)}})};return W(_,Ql.EventType.OPEN,()=>{L||(pt(hn,`RPC '${t}' stream ${o} transport opened.`),z.__())}),W(_,Ql.EventType.CLOSE,()=>{L||(L=!0,pt(hn,`RPC '${t}' stream ${o} transport closed`),z.u_(),this.d_(_))}),W(_,Ql.EventType.ERROR,U=>{L||(L=!0,Ro(hn,`RPC '${t}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),z.u_(new Tt(st.UNAVAILABLE,"The operation could not be completed")))}),W(_,Ql.EventType.MESSAGE,U=>{var ot;if(!L){const dt=U.data[0];ee(!!dt,16349);const nt=dt,ut=(nt==null?void 0:nt.error)||((ot=nt[0])===null||ot===void 0?void 0:ot.error);if(ut){pt(hn,`RPC '${t}' stream ${o} received error:`,ut);const at=ut.status;let lt=function(R){const M=Ve[R];if(M!==void 0)return Bb(M)}(at),O=ut.message;lt===void 0&&(lt=st.INTERNAL,O="Unknown error status: "+at+" with message "+ut.message),L=!0,z.u_(new Tt(lt,O)),_.close()}else pt(hn,`RPC '${t}' stream ${o} received:`,dt),z.c_(dt)}}),W(m,rb.STAT_EVENT,U=>{U.stat===np.PROXY?pt(hn,`RPC '${t}' stream ${o} detected buffering proxy`):U.stat===np.NOPROXY&&pt(hn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.a_()},0),z}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(i){return new Nx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="PersistentStream";class e1{constructor(t,n,s,o,u,h,m,p){this.xi=t,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new t1(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{t(()=>{const o=new Tt(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return pt(bE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(pt(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RO extends e1{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=Dx(this.serializer,t),s=function(u){if(!("targetChange"in u))return Ot.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ot.min():h.readTime?zi(h.readTime):Ot.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=hp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=op(p)?{documents:kx(u,p)}:{query:Px(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=qb(u,h.resumeToken);const g=up(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ot.min())>0){m.readTime=Pf(u,h.snapshotVersion.toTimestamp());const g=up(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=Ux(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=hp(this.serializer),n.removeTarget=t,this.Q_(n)}}class CO extends e1{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return ee(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ee(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){ee(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=Vx(t.writeResults,t.commitTime),s=zi(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=hp(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>Mx(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{}class NO extends IO{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new Tt(st.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(t,cp(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Tt(st.UNKNOWN,u.toString())})}Yo(t,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(t,cp(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Tt(st.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class xO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(xr(n),this.ua=!1):pt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class OO{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{s.enqueueAndForget(async()=>{ba(this)&&(pt(va,"Restarting streams for network reachability change."),await async function(p){const g=Dt(p);g.da.add(4),await Iu(g),g.Va.set("Unknown"),g.da.delete(4),await uh(g)}(this))})}),this.Va=new xO(s,o)}}async function uh(i){if(ba(i))for(const t of i.Aa)await t(!0)}async function Iu(i){for(const t of i.Aa)await t(!1)}function n1(i,t){const n=Dt(i);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),rg(n)?ig(n):Ho(n).N_()&&ng(n,t))}function eg(i,t){const n=Dt(i),s=Ho(n);n.Ea.delete(t),s.N_()&&i1(n,t),n.Ea.size===0&&(s.N_()?s.k_():ba(n)&&n.Va.set("Unknown"))}function ng(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ot.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ho(i).Z_(t)}function i1(i,t){i.ma.Ke(t),Ho(i).X_(t)}function ig(i){i.ma=new Ax({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),Ho(i).start(),i.Va.ca()}function rg(i){return ba(i)&&!Ho(i).O_()&&i.Ea.size>0}function ba(i){return Dt(i).da.size===0}function r1(i){i.ma=void 0}async function DO(i){i.Va.set("Online")}async function MO(i){i.Ea.forEach((t,n)=>{ng(i,t)})}async function VO(i,t){r1(i),rg(i)?(i.Va.Pa(t),ig(i)):i.Va.set("Unknown")}async function kO(i,t,n){if(i.Va.set("Online"),t instanceof Hb&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ea.delete(m),o.ma.removeTarget(m))}(i,t)}catch(s){pt(va,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Uf(i,s)}else if(t instanceof yf?i.ma.Xe(t):t instanceof zb?i.ma.ot(t):i.ma.nt(t),!n.isEqual(Ot.min()))try{const s=await Jb(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.ma.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ea.get(g);T&&u.Ea.set(g,T.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const T=u.Ea.get(p);if(!T)return;u.Ea.set(p,T.withResumeToken(ln.EMPTY_BYTE_STRING,T.snapshotVersion)),i1(u,p);const _=new ys(T.target,p,g,T.sequenceNumber);ng(u,_)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){pt(va,"Failed to raise snapshot:",s),await Uf(i,s)}}async function Uf(i,t,n){if(!zo(t))throw t;i.da.add(1),await Iu(i),i.Va.set("Offline"),n||(n=()=>Jb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pt(va,"Retrying IndexedDB access"),await n(),i.da.delete(1),await uh(i)})}function s1(i,t){return t().catch(n=>Uf(i,n,t))}async function ch(i){const t=Dt(i),n=Cs(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:zp;for(;PO(t);)try{const o=await yO(t.localStore,s);if(o===null){t.Ia.length===0&&n.k_();break}s=o.batchId,LO(t,o)}catch(o){await Uf(t,o)}a1(t)&&o1(t)}function PO(i){return ba(i)&&i.Ia.length<10}function LO(i,t){i.Ia.push(t);const n=Cs(i);n.N_()&&n.ea&&n.ta(t.mutations)}function a1(i){return ba(i)&&!Cs(i).O_()&&i.Ia.length>0}function o1(i){Cs(i).start()}async function UO(i){Cs(i).ia()}async function jO(i){const t=Cs(i);for(const n of i.Ia)t.ta(n.mutations)}async function BO(i,t,n){const s=i.Ia.shift(),o=Yp.from(s,t,n);await s1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await ch(i)}async function zO(i,t){t&&Cs(i).ea&&await async function(s,o){if(function(h){return Sx(h)&&h!==st.ABORTED}(o.code)){const u=s.Ia.shift();Cs(s).L_(),await s1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ch(s)}}(i,t),a1(i)&&o1(i)}async function SE(i,t){const n=Dt(i);n.asyncQueue.verifyOperationInProgress(),pt(va,"RemoteStore received new credentials");const s=ba(n);n.da.add(3),await Iu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await uh(n)}async function HO(i,t){const n=Dt(i);t?(n.da.delete(2),await uh(n)):t||(n.da.add(2),await Iu(n),n.Va.set("Unknown"))}function Ho(i){return i.fa||(i.fa=function(n,s,o){const u=Dt(n);return u.oa(),new RO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:DO.bind(null,i),n_:MO.bind(null,i),i_:VO.bind(null,i),Y_:kO.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),rg(i)?ig(i):i.Va.set("Unknown")):(await i.fa.stop(),r1(i))})),i.fa}function Cs(i){return i.ga||(i.ga=function(n,s,o){const u=Dt(n);return u.oa(),new CO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:UO.bind(null,i),i_:zO.bind(null,i),na:jO.bind(null,i),ra:BO.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await ch(i)):(await i.ga.stop(),i.Ia.length>0&&(pt(va,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new sg(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(i,t){if(xr("AsyncQueue",`${t}: ${i}`),zo(i))return new Tt(st.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(t){return new wo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||wt.comparator(n.key,s.key):(n,s)=>wt.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof wo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.pa=new ve(wt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Nt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Oo{constructor(t,n,s,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Oo(t,n,wo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class FO{constructor(){this.queries=AE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Dt(n),u=o.queries;o.queries=AE(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new Tt(st.ABORTED,"Firestore shutting down"))}}function AE(){return new Ta(i=>Cb(i),ih)}async function GO(i,t){const n=Dt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Da()&&t.va()&&(s=2):(u=new qO,s=t.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ag(h,`Initialization of query '${go(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.Fa(n.onlineState),u.ba&&t.Ma(u.ba)&&og(n)}async function KO(i,t){const n=Dt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function $O(i,t){const n=Dt(i);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Ma(o)&&(s=!0);h.ba=o}}s&&og(n)}function YO(i,t,n){const s=Dt(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function og(i){i.Ca.forEach(t=>{t.next()})}var pp,RE;(RE=pp||(pp={})).xa="default",RE.Cache="cache";class QO{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Oo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.key=t}}class u1{constructor(t){this.key=t}}class XO{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Gt(),this.mutatedKeys=Gt(),this.Za=Ib(t),this.Xa=new wo(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new wE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,_)=>{const S=o.get(T),L=rh(this.query,_)?_:null,z=!!S&&this.mutatedKeys.has(S.key),W=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let U=!1;S&&L?S.data.isEqual(L.data)?z!==W&&(s.track({type:3,doc:L}),U=!0):this.ru(S,L)||(s.track({type:2,doc:L}),U=!0,(p&&this.Za(L,p)>0||g&&this.Za(L,g)<0)&&(m=!0)):!S&&L?(s.track({type:0,doc:L}),U=!0):S&&!L&&(s.track({type:1,doc:S}),U=!0,(p||g)&&(m=!0)),U&&(L?(h=h.add(L),u=W?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Xa:h,nu:s,Cs:m,mutatedKeys:u}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const h=t.nu.wa();h.sort((T,_)=>function(L,z){const W=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Vt:U})}};return W(L)-W(z)}(T.type,_.type)||this.Za(T.doc,_.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new Oo(this.query,t.Xa,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new wE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Gt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new u1(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new l1(s))}),n}au(t){this.Ha=t.$s,this.Ya=Gt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Oo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const lg="SyncEngine";class WO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class ZO{constructor(t){this.key=t,this.cu=!1}}class JO{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new Ta(m=>Cb(m),ih),this.Pu=new Map,this.Tu=new Set,this.Iu=new ve(wt.comparator),this.Eu=new Map,this.du=new Wp,this.Au={},this.Ru=new Map,this.Vu=xo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function tD(i,t,n=!0){const s=p1(i);let o;const u=s.hu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await c1(s,t,n,!0),o}async function eD(i,t){const n=p1(i);await c1(n,t,!0,!1)}async function c1(i,t,n,s){const o=await vO(i.localStore,ji(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await nD(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&n1(i.remoteStore,o),m}async function nD(i,t,n,s,o){i.fu=(_,S,L)=>async function(W,U,ot,dt){let nt=U.view.tu(ot);nt.Cs&&(nt=await vE(W.localStore,U.query,!1).then(({documents:O})=>U.view.tu(O,nt)));const ut=dt&&dt.targetChanges.get(U.targetId),at=dt&&dt.targetMismatches.get(U.targetId)!=null,lt=U.view.applyChanges(nt,W.isPrimaryClient,ut,at);return IE(W,U.targetId,lt.ou),lt.snapshot}(i,_,S,L);const u=await vE(i.localStore,t,!0),h=new XO(t,u.$s),m=h.tu(u.documents),p=Cu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);IE(i,n,g.ou);const T=new WO(t,n,h);return i.hu.set(t,T),i.Pu.has(n)?i.Pu.get(n).push(t):i.Pu.set(n,[t]),g.snapshot}async function iD(i,t,n){const s=Dt(i),o=s.hu.get(t),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(h=>!ih(h,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&eg(s.remoteStore,o.targetId),gp(s,o.targetId)}).catch(Bo)):(gp(s,o.targetId),await dp(s.localStore,o.targetId,!0))}async function rD(i,t){const n=Dt(i),s=n.hu.get(t),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function sD(i,t,n){const s=hD(i);try{const o=await function(h,m){const p=Dt(h),g=qe.now(),T=m.reduce((L,z)=>L.add(z.key),Gt());let _,S;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let z=Or(),W=Gt();return p.Bs.getEntries(L,T).next(U=>{z=U,z.forEach((ot,dt)=>{dt.isValidDocument()||(W=W.add(ot))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,z)).next(U=>{_=U;const ot=[];for(const dt of m){const nt=vx(dt,_.get(dt.key).overlayedDocument);nt!=null&&ot.push(new Ds(dt.key,nt,Eb(nt.value.mapValue),Bi.exists(!0)))}return p.mutationQueue.addMutationBatch(L,g,ot,m)}).next(U=>{S=U;const ot=U.applyToLocalDocumentSet(_,W);return p.documentOverlayCache.saveOverlays(L,U.batchId,ot)})}).then(()=>({batchId:S.batchId,changes:xb(_)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Au[h.currentUser.toKey()];g||(g=new ve(Pt)),g=g.insert(m,p),h.Au[h.currentUser.toKey()]=g}(s,o.batchId,n),await Nu(s,o.changes),await ch(s.remoteStore)}catch(o){const u=ag(o,"Failed to persist write");n.reject(u)}}async function f1(i,t){const n=Dt(i);try{const s=await pO(n.localStore,t);t.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(ee(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?ee(h.cu,14607):o.removedDocuments.size>0&&(ee(h.cu,42227),h.cu=!1))}),await Nu(n,s,t)}catch(s){await Bo(s)}}function CE(i,t,n){const s=Dt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,h)=>{const m=h.view.Fa(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Dt(h);p.onlineState=m;let g=!1;p.queries.forEach((T,_)=>{for(const S of _.Sa)S.Fa(m)&&(g=!0)}),g&&og(p)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function aD(i,t,n){const s=Dt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let h=new ve(wt.comparator);h=h.insert(u,mn.newNoDocument(u,Ot.min()));const m=Gt().add(u),p=new oh(Ot.min(),new Map,new ve(Pt),h,m);await f1(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(t),ug(s)}else await dp(s.localStore,t,!1).then(()=>gp(s,t,n)).catch(Bo)}async function oD(i,t){const n=Dt(i),s=t.batch.batchId;try{const o=await mO(n.localStore,t);d1(n,s,null),h1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await Bo(o)}}async function lD(i,t,n){const s=Dt(i);try{const o=await function(h,m){const p=Dt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(_=>(ee(_!==null,37113),T=_.keys(),p.mutationQueue.removeMutationBatch(g,_))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,t);d1(s,t,n),h1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Nu(s,o)}catch(o){await Bo(o)}}function h1(i,t){(i.Ru.get(t)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(t)}function d1(i,t,n){const s=Dt(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function gp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Pu.get(t))i.hu.delete(s),n&&i.lu.gu(s,n);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(s=>{i.du.containsKey(s)||m1(i,s)})}function m1(i,t){i.Tu.delete(t.path.canonicalString());const n=i.Iu.get(t);n!==null&&(eg(i.remoteStore,n),i.Iu=i.Iu.remove(t),i.Eu.delete(n),ug(i))}function IE(i,t,n){for(const s of n)s instanceof l1?(i.du.addReference(s.key,t),uD(i,s)):s instanceof u1?(pt(lg,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,t),i.du.containsKey(s.key)||m1(i,s.key)):Nt(19791,{pu:s})}function uD(i,t){const n=t.key,s=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(s)||(pt(lg,"New document in limbo: "+n),i.Tu.add(s),ug(i))}function ug(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const n=new wt(Se.fromString(t)),s=i.Vu.next();i.Eu.set(s,new ZO(n)),i.Iu=i.Iu.insert(n,s),n1(i.remoteStore,new ys(ji(Kp(n.path)),s,"TargetPurposeLimboResolution",Jf.le))}}async function Nu(i,t,n){const s=Dt(i),o=[],u=[],h=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{h.push(s.fu(p,t,n).then(g=>{var T;if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Jp.Rs(p.targetId,g);u.push(_)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(p,g){const T=Dt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>tt.forEach(g,S=>tt.forEach(S.ds,L=>T.persistence.referenceDelegate.addReference(_,S.targetId,L)).next(()=>tt.forEach(S.As,L=>T.persistence.referenceDelegate.removeReference(_,S.targetId,L)))))}catch(_){if(!zo(_))throw _;pt(tg,"Failed to update sequence numbers: "+_)}for(const _ of g){const S=_.targetId;if(!_.fromCache){const L=T.xs.get(S),z=L.snapshotVersion,W=L.withLastLimboFreeSnapshotVersion(z);T.xs=T.xs.insert(S,W)}}}(s.localStore,u))}async function cD(i,t){const n=Dt(i);if(!n.currentUser.isEqual(t)){pt(lg,"User change. New user:",t.toKey());const s=await Zb(n.localStore,t);n.currentUser=t,function(u,h){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new Tt(st.CANCELLED,h))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.ks)}}function fD(i,t){const n=Dt(i),s=n.Eu.get(t);if(s&&s.cu)return Gt().add(s.key);{let o=Gt();const u=n.Pu.get(t);if(!u)return o;for(const h of u){const m=n.hu.get(h);o=o.unionWith(m.view.eu)}return o}}function p1(i){const t=Dt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=f1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aD.bind(null,t),t.lu.Y_=$O.bind(null,t.eventManager),t.lu.gu=YO.bind(null,t.eventManager),t}function hD(i){const t=Dt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lD.bind(null,t),t}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=lh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return dO(this.persistence,new cO,t.initialUser,this.serializer)}Su(t){return new Wb(Zp.fi,this.serializer)}bu(t){return new EO}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class dD extends jf{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){ee(this.persistence.referenceDelegate instanceof Lf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Qx(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new Wb(s=>Lf.fi(s,n),this.serializer)}}class yp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>CE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cD.bind(null,this.syncEngine),await HO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new FO}()}createDatastore(t){const n=lh(t.databaseInfo.databaseId),s=function(u){return new AO(u)}(t.databaseInfo);return function(u,h,m,p){return new NO(u,h,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,h,m){return new OO(s,o,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,n=>CE(this.syncEngine,n,0),function(){return TE.C()?new TE:new TO}())}createSyncEngine(t,n){return function(o,u,h,m,p,g,T){const _=new JO(o,u,h,m,p,g);return T&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Dt(o);pt(va,"RemoteStore shutting down."),u.da.add(5),await Iu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):xr("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class pD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=cb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{pt(Is,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(pt(Is,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=ag(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Pm(i,t){i.asyncQueue.verifyOperationInProgress(),pt(Is,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Zb(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function NE(i,t){i.asyncQueue.verifyOperationInProgress();const n=await gD(i);pt(Is,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener(s=>SE(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>SE(t.remoteStore,o)),i._onlineComponents=t}async function gD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pt(Is,"Using user provided OfflineComponentProvider");try{await Pm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===st.FAILED_PRECONDITION||o.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await Pm(i,new jf)}}else pt(Is,"Using default OfflineComponentProvider"),await Pm(i,new dD(void 0));return i._offlineComponents}async function g1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pt(Is,"Using user provided OnlineComponentProvider"),await NE(i,i._uninitializedComponentsProvider._online)):(pt(Is,"Using default OnlineComponentProvider"),await NE(i,new yp))),i._onlineComponents}function yD(i){return g1(i).then(t=>t.syncEngine)}async function vD(i){const t=await g1(i),n=t.eventManager;return n.onListen=tD.bind(null,t.syncEngine),n.onUnlisten=iD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=eD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rD.bind(null,t.syncEngine),n}function _D(i,t,n={}){const s=new bs;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const T=new mD({next:S=>{T.xu(),h.enqueueAndForget(()=>KO(u,_));const L=S.docs.has(m);!L&&S.fromCache?g.reject(new Tt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&S.fromCache&&p&&p.source==="server"?g.reject(new Tt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),_=new QO(Kp(m.path),T,{includeMetadataChanges:!0,Qa:!0});return GO(u,_)}(await vD(i),i.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(i,t,n){if(!n)throw new Tt(st.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function TD(i,t,n,s){if(t===!0&&s===!0)throw new Tt(st.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function OE(i){if(!wt.isDocumentKey(i))throw new Tt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Nt(12329,{type:typeof i})}function _a(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Tt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cg(i);throw new Tt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firestore.googleapis.com",DE=!0;class ME{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v1,this.ssl=DE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:DE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Xb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$x)throw new Tt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y1((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Tt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Tt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Tt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Tt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new SN;switch(s.type){case"firstParty":return new CN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Tt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=xE.get(n);s&&(pt("ComponentProvider","Removing Datastore"),xE.delete(n),s.terminate())}(this),Promise.resolve()}}function bD(i,t,n,s={}){var o;i=_a(i,fg);const u=Po(t),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${n}`;u&&(dT(`https://${p}`),mT("Firestore",!0)),h.host!==v1&&h.host!==p&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!da(g,m)&&(i._setSettings(g),s.mockUserToken)){let T,_;if(typeof s.mockUserToken=="string")T=s.mockUserToken,_=dn.MOCK_USER;else{T=MR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Tt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(S)}i._authCredentials=new wN(new lb(T,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new hg(this.firestore,t,this._query)}}class Fn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fn(this.firestore,t,this._key)}}class mu extends hg{constructor(t,n,s){super(t,n,Kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fn(this.firestore,null,new wt(t))}withConverter(t){return new mu(this.firestore,t,this._path)}}function Rr(i,t,...n){if(i=gn(i),arguments.length===1&&(t=cb.newId()),ED("doc","path",t),i instanceof fg){const s=Se.fromString(t,...n);return OE(s),new Fn(i,null,new wt(s))}{if(!(i instanceof Fn||i instanceof mu))throw new Tt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Se.fromString(t,...n));return OE(s),new Fn(i.firestore,i instanceof mu?i.converter:null,new wt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class kE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new t1(this,"async_queue_retry"),this.rc=()=>{const s=km();s&&pt(VE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new bs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!zo(t))throw t;pt(VE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,xr("INTERNAL UNHANDLED ERROR: ",PE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const o=sg.createAndSchedule(this,t,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Nt(47125,{cc:PE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function PE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class fh extends fg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new kE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kE(t),this._firestoreClient=void 0,await t}}}function SD(i,t){const n=typeof i=="object"?i:vT(),s=typeof i=="string"?i:xf,o=xp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=OR("firestore");u&&bD(o,...u)}return o}function _1(i){if(i._terminated)throw new Tt(st.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||wD(i),i._firestoreClient}function wD(i){var t,n,s;const o=i._freezeSettings(),u=function(m,p,g,T){return new HN(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,y1(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new pD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Do(ln.fromBase64String(t))}catch(n){throw new Tt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Do(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Tt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Tt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=/^__.*__$/;class RD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ds(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(t,this.data,n,this.fieldTransforms)}}class E1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Ds(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function T1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ic:i})}}class gg{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new gg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Bf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(T1(this.Ic)&&AD.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class CD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||lh(t)}bc(t,n,s,o=!1){return new gg({Ic:t,methodName:n,wc:s,path:on.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b1(i){const t=i._freezeSettings(),n=lh(i._databaseId);return new CD(i._databaseId,!!t.ignoreUndefinedProperties,n)}function ID(i,t,n,s,o,u={}){const h=i.bc(u.merge||u.mergeFields?2:0,t,n,o);yg("Data must be an object, but it was:",h,s);const m=S1(s,h);let p,g;if(u.merge)p=new qn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const _ of u.mergeFields){const S=vp(t,_,n);if(!h.contains(S))throw new Tt(st.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);A1(T,S)||T.push(S)}p=new qn(T),g=h.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,g=h.fieldTransforms;return new RD(new Mn(m),p,g)}class dh extends dg{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof dh}}function ND(i,t,n,s){const o=i.bc(1,t,n);yg("Data must be an object, but it was:",o,s);const u=[],h=Mn.empty();Os(s,(p,g)=>{const T=vg(t,p,n);g=gn(g);const _=o.mc(T);if(g instanceof dh)u.push(T);else{const S=mh(g,_);S!=null&&(u.push(T),h.set(T,S))}});const m=new qn(u);return new E1(h,m,o.fieldTransforms)}function xD(i,t,n,s,o,u){const h=i.bc(1,t,n),m=[vp(t,s,n)],p=[o];if(u.length%2!=0)throw new Tt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(vp(t,u[S])),p.push(u[S+1]);const g=[],T=Mn.empty();for(let S=m.length-1;S>=0;--S)if(!A1(g,m[S])){const L=m[S];let z=p[S];z=gn(z);const W=h.mc(L);if(z instanceof dh)g.push(L);else{const U=mh(z,W);U!=null&&(g.push(L),T.set(L,U))}}const _=new qn(g);return new E1(T,_,h.fieldTransforms)}function mh(i,t){if(w1(i=gn(i)))return yg("Unsupported field value:",t,i),S1(i,t);if(i instanceof dg)return function(s,o){if(!T1(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=mh(m,o.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,t)}return function(s,o){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=qe.fromDate(s);return{timestampValue:Pf(o.serializer,u)}}if(s instanceof qe){const u=new qe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pf(o.serializer,u)}}if(s instanceof mg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Do)return{bytesValue:qb(o.serializer,s._byteString)};if(s instanceof Fn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pg)return function(h,m){return{mapValue:{fields:{[vb]:{stringValue:_b},[Of]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return $p(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${cg(s)}`)}(i,t)}function S1(i,t){const n={};return hb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Os(i,(s,o)=>{const u=mh(o,t.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function w1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof qe||i instanceof mg||i instanceof Do||i instanceof Fn||i instanceof dg||i instanceof pg)}function yg(i,t,n){if(!w1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=cg(n);throw s==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+s)}}function vp(i,t,n){if((t=gn(t))instanceof hh)return t._internalPath;if(typeof t=="string")return vg(i,t);throw Bf("Field path arguments must be of type string or ",i,!1,void 0,n)}const OD=new RegExp("[~\\*/\\[\\]]");function vg(i,t,n){if(t.search(OD)>=0)throw Bf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new hh(...t.split("."))._internalPath}catch{throw Bf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Bf(i,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new Tt(st.INVALID_ARGUMENT,m+i+p)}function A1(i,t){return i.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(C1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DD extends R1{data(){return super.data()}}function C1(i,t){return typeof t=="string"?vg(i,t):t instanceof hh?t._internalPath:t._delegate._internalPath}class MD{convertValue(t,n="none"){switch(Rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(As(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Nt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Os(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Of].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Ie(h.doubleValue));return new pg(u)}convertGeoPoint(t){return new mg(Ie(t.latitude),Ie(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=eh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(t));default:return null}}convertTimestamp(t){const n=ws(t);return new qe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Se.fromString(t);ee(Qb(s),9688,{name:t});const o=new cu(s.get(1),s.get(3)),u=new wt(s.popFirst(5));return o.isEqual(n)||xr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(i,t,n){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class I1 extends R1{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new PD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(C1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class PD extends I1{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(i){i=_a(i,Fn);const t=_a(i.firestore,fh);return _D(_1(t),i._key).then(n=>jD(t,i,n))}class LD extends MD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Do(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function UD(i,t,n){i=_a(i,Fn);const s=_a(i.firestore,fh),o=VD(i.converter,t);return N1(s,[ID(b1(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Bi.none())])}function _g(i,t,n,...s){i=_a(i,Fn);const o=_a(i.firestore,fh),u=b1(o);let h;return h=typeof(t=gn(t))=="string"||t instanceof hh?xD(u,"updateDoc",i._key,t,n,s):ND(u,"updateDoc",i._key,t),N1(o,[h.toMutation(i._key,Bi.exists(!0))])}function N1(i,t){return function(s,o){const u=new bs;return s.asyncQueue.enqueueAndForget(async()=>sD(await yD(s),o,u)),u.promise}(_1(i),t)}function jD(i,t,n){const s=n.docs.get(t._key),o=new LD(i);return new I1(i,o,t._key,s,new kD(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){jo=o})(Lo),Ao(new ma("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new fh(new AN(s.getProvider("auth-internal")),new IN(h,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Tt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,T)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Es(H0,q0,t),Es(H0,q0,"esm2017")})();const BD={apiKey:"AIzaSyBozVVinEK5nlXi4xR7_ZE_2tQeSMwN8Us",authDomain:"login-auth-366ba.firebaseapp.com",projectId:"login-auth-366ba",storageBucket:"login-auth-366ba.firebasestorage.app",messagingSenderId:"559443453077",appId:"1:559443453077:web:c5689dced0e72da81ce79c"},zD=yT(BD),gu=TN(),Cr=SD(zD),HD=["practice","classic","royale"];function qD({togglePlayWordle:i,gameMode:t,setGameMode:n,className:s="",currentUser:o}){const[u,h]=N.useState(HD),[m,p]=N.useState(t),g=N.useRef(null),[T,_]=N.useState(!1);return N.useEffect(()=>{const S=L=>{g.current&&!g.current.contains(L.target)&&_(!1)};return document.addEventListener("mousedown",L=>S(L)),()=>document.addEventListener("mousedown",L=>S(L))},[]),C.jsxs(C.Fragment,{children:[C.jsx(yu,{richColors:!0,position:"top-center"}),C.jsxs("div",{className:`game-mode-selector ${s}`,children:[C.jsx("div",{className:"play-btn flex-center",onClick:i,children:C.jsx(bR,{})}),C.jsx(Zc,{activeKey:"true",className:"game-mode",ref:g,children:C.jsxs(Zc.Item,{eventKey:String(T),style:{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},children:[C.jsx(Zc.Header,{onClick:()=>{_(!T)},children:C.jsx("span",{className:"current-mode",children:m.toUpperCase()})}),C.jsx(Zc.Body,{onExited:()=>n(m),children:C.jsx("ol",{children:u.map((S,L)=>S===t?null:C.jsx("li",{className:`selector-list ${L+1===u.length&&"last"}`,onClick:()=>{o||S==="practice"?(_(!1),p(S)):Pi.warning("Log in to play.")},children:C.jsx("span",{className:"mode",children:S.toUpperCase()})},L))})})]})})]})]})}function FD({togglePlayWordle:i,gameMode:t,setGameMode:n,darkMode:s,currentUser:o}){return C.jsx("div",{className:"homepage flex-center",children:C.jsx(qD,{togglePlayWordle:i,gameMode:t,setGameMode:n,className:s,currentUser:o})})}const GD=["as","disabled"];function KD(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function $D(i){return!i||i.trim()==="#"}function Eg({tagName:i,disabled:t,href:n,target:s,rel:o,role:u,onClick:h,tabIndex:m=0,type:p}){i||(n!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:t},g];const T=S=>{if((t||i==="a"&&$D(n))&&S.preventDefault(),t){S.stopPropagation();return}h==null||h(S)},_=S=>{S.key===" "&&(S.preventDefault(),T(S))};return i==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:t?void 0:m,href:n,target:i==="a"?s:void 0,"aria-disabled":t||void 0,rel:i==="a"?o:void 0,onClick:T,onKeyDown:_},g]}const x1=N.forwardRef((i,t)=>{let{as:n,disabled:s}=i,o=KD(i,GD);const[u,{tagName:h}]=Eg(Object.assign({tagName:n,disabled:s},o));return C.jsx(h,Object.assign({},o,u,{ref:t}))});x1.displayName="Button";const Dr=N.forwardRef(({as:i,bsPrefix:t,variant:n="primary",size:s,active:o=!1,disabled:u=!1,className:h,...m},p)=>{const g=Lt(t,"btn"),[T,{tagName:_}]=Eg({tagName:i,disabled:u,...m}),S=_;return C.jsx(S,{...T,...m,ref:p,disabled:u,className:xt(h,g,o&&"active",n&&`${g}-${n}`,s&&`${g}-${s}`,m.href&&u&&"disabled")})});Dr.displayName="Button";const YD={type:wr.string,tooltip:wr.bool,as:wr.elementType},ph=N.forwardRef(({as:i="div",className:t,type:n="valid",tooltip:s=!1,...o},u)=>C.jsx(i,{...o,ref:u,className:xt(t,`${n}-${s?"tooltip":"feedback"}`)}));ph.displayName="Feedback";ph.propTypes=YD;const Mr=N.createContext({}),Tg=N.forwardRef(({id:i,bsPrefix:t,className:n,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:h="input",...m},p)=>{const{controlId:g}=N.useContext(Mr);return t=Lt(t,"form-check-input"),C.jsx(h,{...m,ref:p,type:s,id:i||g,className:xt(n,t,o&&"is-valid",u&&"is-invalid")})});Tg.displayName="FormCheckInput";const zf=N.forwardRef(({bsPrefix:i,className:t,htmlFor:n,...s},o)=>{const{controlId:u}=N.useContext(Mr);return i=Lt(i,"form-check-label"),C.jsx("label",{...s,ref:o,htmlFor:n||u,className:xt(t,i)})});zf.displayName="FormCheckLabel";function QD(i,t){return N.Children.toArray(i).some(n=>N.isValidElement(n)&&n.type===t)}const O1=N.forwardRef(({id:i,bsPrefix:t,bsSwitchPrefix:n,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:h=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:T,className:_,style:S,title:L="",type:z="checkbox",label:W,children:U,as:ot="input",...dt},nt)=>{t=Lt(t,"form-check"),n=Lt(n,"form-switch");const{controlId:ut}=N.useContext(Mr),at=N.useMemo(()=>({controlId:i||ut}),[ut,i]),lt=!U&&W!=null&&W!==!1||QD(U,zf),O=C.jsx(Tg,{...dt,type:z==="switch"?"checkbox":z,ref:nt,isValid:h,isInvalid:m,disabled:u,as:ot});return C.jsx(Mr.Provider,{value:at,children:C.jsx("div",{style:S,className:xt(_,lt&&t,s&&`${t}-inline`,o&&`${t}-reverse`,z==="switch"&&n),children:U||C.jsxs(C.Fragment,{children:[O,lt&&C.jsx(zf,{title:L,children:W}),g&&C.jsx(ph,{type:T,tooltip:p,children:g})]})})})});O1.displayName="FormCheck";const Hf=Object.assign(O1,{Input:Tg,Label:zf}),D1=N.forwardRef(({bsPrefix:i,type:t,size:n,htmlSize:s,id:o,className:u,isValid:h=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:T="input",..._},S)=>{const{controlId:L}=N.useContext(Mr);return i=Lt(i,"form-control"),C.jsx(T,{..._,type:t,size:s,ref:S,readOnly:g,id:o||L,className:xt(u,p?`${i}-plaintext`:i,n&&`${i}-${n}`,t==="color"&&`${i}-color`,h&&"is-valid",m&&"is-invalid")})});D1.displayName="FormControl";const XD=Object.assign(D1,{Feedback:ph}),M1=N.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=Lt(t,"form-floating"),C.jsx(n,{ref:o,className:xt(i,t),...s})));M1.displayName="FormFloating";const bg=N.forwardRef(({controlId:i,as:t="div",...n},s)=>{const o=N.useMemo(()=>({controlId:i}),[i]);return C.jsx(Mr.Provider,{value:o,children:C.jsx(t,{...n,ref:s})})});bg.displayName="FormGroup";function WD({as:i,bsPrefix:t,className:n,...s}){t=Lt(t,"col");const o=XA(),u=WA(),h=[],m=[];return o.forEach(p=>{const g=s[p];delete s[p];let T,_,S;typeof g=="object"&&g!=null?{span:T,offset:_,order:S}=g:T=g;const L=p!==u?`-${p}`:"";T&&h.push(T===!0?`${t}${L}`:`${t}${L}-${T}`),S!=null&&m.push(`order${L}-${S}`),_!=null&&m.push(`offset${L}-${_}`)}),[{...s,className:xt(n,...h,...m)},{as:i,bsPrefix:t,spans:h}]}const V1=N.forwardRef((i,t)=>{const[{className:n,...s},{as:o="div",bsPrefix:u,spans:h}]=WD(i);return C.jsx(o,{...s,ref:t,className:xt(n,!h.length&&u)})});V1.displayName="Col";const k1=N.forwardRef(({as:i="label",bsPrefix:t,column:n=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...h},m)=>{const{controlId:p}=N.useContext(Mr);t=Lt(t,"form-label");let g="col-form-label";typeof n=="string"&&(g=`${g} ${g}-${n}`);const T=xt(o,t,s&&"visually-hidden",n&&g);return u=u||p,n?C.jsx(V1,{ref:m,as:"label",className:T,htmlFor:u,...h}):C.jsx(i,{ref:m,className:T,htmlFor:u,...h})});k1.displayName="FormLabel";const P1=N.forwardRef(({bsPrefix:i,className:t,id:n,...s},o)=>{const{controlId:u}=N.useContext(Mr);return i=Lt(i,"form-range"),C.jsx("input",{...s,type:"range",ref:o,className:xt(t,i),id:n||u})});P1.displayName="FormRange";const L1=N.forwardRef(({bsPrefix:i,size:t,htmlSize:n,className:s,isValid:o=!1,isInvalid:u=!1,id:h,...m},p)=>{const{controlId:g}=N.useContext(Mr);return i=Lt(i,"form-select"),C.jsx("select",{...m,size:n,ref:p,className:xt(s,i,t&&`${i}-${t}`,o&&"is-valid",u&&"is-invalid"),id:h||g})});L1.displayName="FormSelect";const U1=N.forwardRef(({bsPrefix:i,className:t,as:n="small",muted:s,...o},u)=>(i=Lt(i,"form-text"),C.jsx(n,{...o,ref:u,className:xt(t,i,s&&"text-muted")})));U1.displayName="FormText";const j1=N.forwardRef((i,t)=>C.jsx(Hf,{...i,ref:t,type:"switch"}));j1.displayName="Switch";const ZD=Object.assign(j1,{Input:Hf.Input,Label:Hf.Label}),B1=N.forwardRef(({bsPrefix:i,className:t,children:n,controlId:s,label:o,...u},h)=>(i=Lt(i,"form-floating"),C.jsxs(bg,{ref:h,className:xt(t,i),controlId:s,...u,children:[n,C.jsx("label",{htmlFor:s,children:o})]})));B1.displayName="FloatingLabel";const JD={_ref:wr.any,validated:wr.bool,as:wr.elementType},Sg=N.forwardRef(({className:i,validated:t,as:n="form",...s},o)=>C.jsx(n,{...s,ref:o,className:xt(i,t&&"was-validated")}));Sg.displayName="Form";Sg.propTypes=JD;const ke=Object.assign(Sg,{Group:bg,Control:XD,Floating:M1,Check:Hf,Switch:ZD,Label:k1,Text:U1,Range:P1,Select:L1,FloatingLabel:B1});var af;function LE(i){if((!af&&af!==0||i)&&ko){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),af=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return af}function tM(){return N.useState(null)}function eM(i){const t=N.useRef(i);return N.useEffect(()=>{t.current=i},[i]),t}function Mo(i){const t=eM(i);return N.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function nM(i){const t=N.useRef(i);return t.current=i,t}function iM(i){const t=nM(i);N.useEffect(()=>()=>t.current(),[])}function Lm(i){i===void 0&&(i=Kf());try{var t=i.activeElement;return!t||!t.nodeName?null:t}catch{return i.body}}function UE(i,t){if(i.contains)return i.contains(t);if(i.compareDocumentPosition)return i===t||!!(i.compareDocumentPosition(t)&16)}function rM(){const i=N.useRef(!0),t=N.useRef(()=>i.current);return N.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function sM(i){const t=N.useRef(i);return t.current=i,t}function aM(i){const t=sM(i);N.useEffect(()=>()=>t.current(),[])}function oM(i){const t=N.useRef(null);return N.useEffect(()=>{t.current=i}),t.current}function lM(i){const t=N.useRef(i);return N.useEffect(()=>{t.current=i},[i]),t}function Er(i){const t=lM(i);return N.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const uM="data-rr-ui-",cM="rrUi";function gh(i){return`${uM}${i}`}function fM(i){return`${cM}${i}`}function hM(i=document){const t=i.defaultView;return Math.abs(t.innerWidth-i.documentElement.clientWidth)}const jE=gh("modal-open");class wg{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return hM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(n[s]=`${parseInt(Sr(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(jE,""),Sr(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(jE),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const z1=N.createContext(ko?window:void 0);z1.Provider;function Ag(){return N.useContext(z1)}const Um=(i,t)=>ko?i==null?(t||Kf()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function dM(i,t){const n=Ag(),[s,o]=N.useState(()=>Um(i,n==null?void 0:n.document));if(!s){const u=Um(i);u&&o(u)}return N.useEffect(()=>{},[t,s]),N.useEffect(()=>{const u=Um(i);u!==s&&o(u)},[i,s]),s}const BE=i=>!i||typeof i=="function"?i:t=>{i.current=t};function mM(i,t){const n=BE(i),s=BE(t);return o=>{n&&n(o),s&&s(o)}}function yh(i,t){return N.useMemo(()=>mM(i,t),[i,t])}const pM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",gM=typeof document<"u",zE=gM||pM?N.useLayoutEffect:N.useEffect;function yM({children:i,in:t,onExited:n,mountOnEnter:s,unmountOnExit:o}){const u=N.useRef(null),h=N.useRef(t),m=Er(n);N.useEffect(()=>{t?h.current=!0:m(u.current)},[t,m]);const p=yh(u,Vo(i)),g=N.cloneElement(i,{ref:p});return t?g:o||!h.current&&s?null:g}const vM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function _M(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function EM(i){let{onEnter:t,onEntering:n,onEntered:s,onExit:o,onExiting:u,onExited:h,addEndListener:m,children:p}=i,g=_M(i,vM);const T=N.useRef(null),_=yh(T,Vo(p)),S=ut=>at=>{ut&&T.current&&ut(T.current,at)},L=N.useCallback(S(t),[t]),z=N.useCallback(S(n),[n]),W=N.useCallback(S(s),[s]),U=N.useCallback(S(o),[o]),ot=N.useCallback(S(u),[u]),dt=N.useCallback(S(h),[h]),nt=N.useCallback(S(m),[m]);return Object.assign({},g,{nodeRef:T},t&&{onEnter:L},n&&{onEntering:z},s&&{onEntered:W},o&&{onExit:U},u&&{onExiting:ot},h&&{onExited:dt},m&&{addEndListener:nt},{children:typeof p=="function"?(ut,at)=>p(ut,Object.assign({},at,{ref:_})):N.cloneElement(p,{ref:_})})}const TM=["component"];function bM(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}const SM=N.forwardRef((i,t)=>{let{component:n}=i,s=bM(i,TM);const o=EM(s);return C.jsx(n,Object.assign({ref:t},o))});function wM({in:i,onTransition:t}){const n=N.useRef(null),s=N.useRef(!0),o=Er(t);return zE(()=>{if(!n.current)return;let u=!1;return o({in:i,element:n.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[i,o]),zE(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function AM({children:i,in:t,onExited:n,onEntered:s,transition:o}){const[u,h]=N.useState(!t);t&&u&&h(!1);const m=wM({in:!!t,onTransition:g=>{const T=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),n==null||n(g.element)))};Promise.resolve(o(g)).then(T,_=>{throw g.in||h(!0),_})}}),p=yh(m,Vo(i));return u&&!t?null:N.cloneElement(i,{ref:p})}function HE(i,t,n){return i?C.jsx(SM,Object.assign({},n,{component:i})):t?C.jsx(AM,Object.assign({},n,{transition:t})):C.jsx(yM,Object.assign({},n))}const RM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function CM(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}let jm;function IM(i){return jm||(jm=new wg({ownerDocument:i==null?void 0:i.document})),jm}function NM(i){const t=Ag(),n=i||IM(t),s=N.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:N.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:N.useCallback(o=>{s.current.backdrop=o},[])})}const H1=N.forwardRef((i,t)=>{let{show:n=!1,role:s="dialog",className:o,style:u,children:h,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:T,transition:_,runTransition:S,backdropTransition:L,runBackdropTransition:z,autoFocus:W=!0,enforceFocus:U=!0,restoreFocus:ot=!0,restoreFocusOptions:dt,renderDialog:nt,renderBackdrop:ut=Xt=>C.jsx("div",Object.assign({},Xt)),manager:at,container:lt,onShow:O,onHide:A=()=>{},onExit:R,onExited:M,onExiting:V,onEnter:P,onEntering:I,onEntered:Et}=i,Mt=CM(i,RM);const B=Ag(),it=dM(lt),ft=NM(at),Rt=rM(),D=oM(n),[$,et]=N.useState(!n),Q=N.useRef(null);N.useImperativeHandle(t,()=>ft,[ft]),ko&&!D&&n&&(Q.current=Lm(B==null?void 0:B.document)),n&&$&&et(!1);const ct=Er(()=>{if(ft.add(),we.current=Ef(document,"keydown",Bt),_e.current=Ef(document,"focus",()=>setTimeout(mt),!0),O&&O(),W){var Xt,Gn;const he=Lm((Xt=(Gn=ft.dialog)==null?void 0:Gn.ownerDocument)!=null?Xt:B==null?void 0:B.document);ft.dialog&&he&&!UE(ft.dialog,he)&&(Q.current=he,ft.dialog.focus())}}),_t=Er(()=>{if(ft.remove(),we.current==null||we.current(),_e.current==null||_e.current(),ot){var Xt;(Xt=Q.current)==null||Xt.focus==null||Xt.focus(dt),Q.current=null}});N.useEffect(()=>{!n||!it||ct()},[n,it,ct]),N.useEffect(()=>{$&&_t()},[$,_t]),aM(()=>{_t()});const mt=Er(()=>{if(!U||!Rt()||!ft.isTopModal())return;const Xt=Lm(B==null?void 0:B.document);ft.dialog&&Xt&&!UE(ft.dialog,Xt)&&ft.dialog.focus()}),ne=Er(Xt=>{Xt.target===Xt.currentTarget&&(g==null||g(Xt),m===!0&&A())}),Bt=Er(Xt=>{p&&fR(Xt)&&ft.isTopModal()&&(T==null||T(Xt),Xt.defaultPrevented||A())}),_e=N.useRef(),we=N.useRef(),un=(...Xt)=>{et(!0),M==null||M(...Xt)};if(!it)return null;const Ze=Object.assign({role:s,ref:ft.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Mt,{style:u,className:o,tabIndex:-1});let yn=nt?nt(Ze):C.jsx("div",Object.assign({},Ze,{children:N.cloneElement(h,{role:"document"})}));yn=HE(_,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:R,onExiting:V,onExited:un,onEnter:P,onEntering:I,onEntered:Et,children:yn});let Ge=null;return m&&(Ge=ut({ref:ft.setBackdropRef,onClick:ne}),Ge=HE(L,z,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ge})),C.jsx(C.Fragment,{children:fa.createPortal(C.jsxs(C.Fragment,{children:[Ge,yn]}),it)})});H1.displayName="Modal";const q1=Object.assign(H1,{Manager:wg});function xM(i,t){return i.classList?i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function OM(i,t){i.classList?i.classList.add(t):xM(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}var DM=Function.prototype.bind.call(Function.prototype.call,[].slice);function ca(i,t){return DM(i.querySelectorAll(t))}function qE(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function MM(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=qE(i.className,t):i.setAttribute("class",qE(i.className&&i.className.baseVal||"",t))}const mo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class F1 extends wg{adjustAndStore(t,n,s){const o=n.style[t];n.dataset[t]=o,Sr(n,{[t]:`${parseFloat(Sr(n,t))+s}px`})}restore(t,n){const s=n.dataset[t];s!==void 0&&(delete n.dataset[t],Sr(n,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(OM(n,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ca(n,mo.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,t.scrollBarWidth)),ca(n,mo.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-t.scrollBarWidth)),ca(n,mo.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();MM(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ca(n,mo.FIXED_CONTENT).forEach(u=>this.restore(s,u)),ca(n,mo.STICKY_CONTENT).forEach(u=>this.restore(o,u)),ca(n,mo.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let Bm;function G1(i){return Bm||(Bm=new F1(i)),Bm}const VM={[mi]:"show",[_r]:"show"},vh=N.forwardRef(({className:i,children:t,transitionClasses:n={},onEnter:s,...o},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=N.useCallback((p,g)=>{tT(p),s==null||s(p,g)},[s]);return C.jsx($f,{ref:u,addEndListener:wp,...h,onEnter:m,childRef:Vo(t),children:(p,g)=>N.cloneElement(t,{...g,className:xt("fade",i,t.props.className,VM[p],n[p])})})});vh.displayName="Fade";const K1=N.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=Lt(t,"modal-body"),C.jsx(n,{ref:o,className:xt(i,t),...s})));K1.displayName="ModalBody";const Rg=N.createContext({onHide(){}}),Cg=N.forwardRef(({bsPrefix:i,className:t,contentClassName:n,centered:s,size:o,fullscreen:u,children:h,scrollable:m,...p},g)=>{i=Lt(i,"modal");const T=`${i}-dialog`,_=typeof u=="string"?`${i}-fullscreen-${u}`:`${i}-fullscreen`;return C.jsx("div",{...p,ref:g,className:xt(T,t,o&&`${i}-${o}`,s&&`${T}-centered`,m&&`${T}-scrollable`,u&&_),children:C.jsx("div",{className:xt(`${i}-content`,n),children:h})})});Cg.displayName="ModalDialog";const $1=N.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=Lt(t,"modal-footer"),C.jsx(n,{ref:o,className:xt(i,t),...s})));$1.displayName="ModalFooter";const kM={"aria-label":wr.string,onClick:wr.func,variant:wr.oneOf(["white"])},Ig=N.forwardRef(({className:i,variant:t,"aria-label":n="Close",...s},o)=>C.jsx("button",{ref:o,type:"button",className:xt("btn-close",t&&`btn-close-${t}`,i),"aria-label":n,...s}));Ig.displayName="CloseButton";Ig.propTypes=kM;const Ng=N.forwardRef(({closeLabel:i="Close",closeVariant:t,closeButton:n=!1,onHide:s,children:o,...u},h)=>{const m=N.useContext(Rg),p=Mo(()=>{m==null||m.onHide(),s==null||s()});return C.jsxs("div",{ref:h,...u,children:[o,n&&C.jsx(Ig,{"aria-label":i,variant:t,onClick:p})]})});Ng.displayName="AbstractModalHeader";const Y1=N.forwardRef(({bsPrefix:i,className:t,closeLabel:n="Close",closeButton:s=!1,...o},u)=>(i=Lt(i,"modal-header"),C.jsx(Ng,{ref:u,...o,className:xt(t,i),closeLabel:n,closeButton:s})));Y1.displayName="ModalHeader";const Q1=i=>N.forwardRef((t,n)=>C.jsx("div",{...t,ref:n,className:xt(t.className,i)})),PM=Q1("h4"),X1=N.forwardRef(({className:i,bsPrefix:t,as:n=PM,...s},o)=>(t=Lt(t,"modal-title"),C.jsx(n,{ref:o,className:xt(i,t),...s})));X1.displayName="ModalTitle";function LM(i){return C.jsx(vh,{...i,timeout:null})}function UM(i){return C.jsx(vh,{...i,timeout:null})}const W1=N.forwardRef(({bsPrefix:i,className:t,style:n,dialogClassName:s,contentClassName:o,children:u,dialogAs:h=Cg,"data-bs-theme":m,"aria-labelledby":p,"aria-describedby":g,"aria-label":T,show:_=!1,animation:S=!0,backdrop:L=!0,keyboard:z=!0,onEscapeKeyDown:W,onShow:U,onHide:ot,container:dt,autoFocus:nt=!0,enforceFocus:ut=!0,restoreFocus:at=!0,restoreFocusOptions:lt,onEntered:O,onExit:A,onExiting:R,onEnter:M,onEntering:V,onExited:P,backdropClassName:I,manager:Et,...Mt},B)=>{const[it,ft]=N.useState({}),[Rt,D]=N.useState(!1),$=N.useRef(!1),et=N.useRef(!1),Q=N.useRef(null),[ct,_t]=tM(),mt=eT(B,_t),ne=Mo(ot),Bt=ZA();i=Lt(i,"modal");const _e=N.useMemo(()=>({onHide:ne}),[ne]);function we(){return Et||G1({isRTL:Bt})}function un(yt){if(!ko)return;const Ut=we().getScrollbarWidth()>0,Le=yt.scrollHeight>Kf(yt).documentElement.clientHeight;ft({paddingRight:Ut&&!Le?LE():void 0,paddingLeft:!Ut&&Le?LE():void 0})}const Ze=Mo(()=>{ct&&un(ct.dialog)});iM(()=>{Km(window,"resize",Ze),Q.current==null||Q.current()});const yn=()=>{$.current=!0},Ge=yt=>{$.current&&ct&&yt.target===ct.dialog&&(et.current=!0),$.current=!1},Xt=()=>{D(!0),Q.current=JE(ct.dialog,()=>{D(!1)})},Gn=yt=>{yt.target===yt.currentTarget&&Xt()},he=yt=>{if(L==="static"){Gn(yt);return}if(et.current||yt.target!==yt.currentTarget){et.current=!1;return}ot==null||ot()},Pr=yt=>{z?W==null||W(yt):(yt.preventDefault(),L==="static"&&Xt())},Je=(yt,Ut)=>{yt&&un(yt),M==null||M(yt,Ut)},yi=yt=>{Q.current==null||Q.current(),A==null||A(yt)},si=(yt,Ut)=>{V==null||V(yt,Ut),ZE(window,"resize",Ze)},Pe=yt=>{yt&&(yt.style.display=""),P==null||P(yt),Km(window,"resize",Ze)},vn=N.useCallback(yt=>C.jsx("div",{...yt,className:xt(`${i}-backdrop`,I,!S&&"show")}),[S,I,i]),vi={...n,...it};vi.display="block";const Lr=yt=>C.jsx("div",{role:"dialog",...yt,style:vi,className:xt(t,i,Rt&&`${i}-static`,!S&&"show"),onClick:L?he:void 0,onMouseUp:Ge,"data-bs-theme":m,"aria-label":T,"aria-labelledby":p,"aria-describedby":g,children:C.jsx(h,{...Mt,onMouseDown:yn,className:s,contentClassName:o,children:u})});return C.jsx(Rg.Provider,{value:_e,children:C.jsx(q1,{show:_,ref:mt,backdrop:L,container:dt,keyboard:!0,autoFocus:nt,enforceFocus:ut,restoreFocus:at,restoreFocusOptions:lt,onEscapeKeyDown:Pr,onShow:U,onHide:ot,onEnter:Je,onEntering:si,onEntered:O,onExit:yi,onExiting:R,onExited:Pe,manager:we(),transition:S?LM:void 0,backdropTransition:S?UM:void 0,renderBackdrop:vn,renderDialog:Lr})})});W1.displayName="Modal";const Sn=Object.assign(W1,{Body:K1,Header:Y1,Title:X1,Footer:$1,Dialog:Cg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),wn=N.forwardRef(({bsPrefix:i,fluid:t=!1,as:n="div",className:s,...o},u)=>{const h=Lt(i,"container"),m=typeof t=="string"?`-${t}`:"-fluid";return C.jsx(n,{ref:u,...o,className:xt(s,t?`${h}${m}`:h)})});wn.displayName="Container";function jM({logInOpen:i,toggleLogIn:t,toggleSignUp:n}){const[s,o]=N.useState(""),[u,h]=N.useState(""),m=async p=>{p.preventDefault();try{await a2(gu,s,u),console.log("User logged in."),Pi.success("Logged in."),t()}catch(g){console.log(g.message),Pi.error(g.message)}};return C.jsxs(C.Fragment,{children:[C.jsx(yu,{richColors:!0,position:"top-center"}),C.jsxs(Sn,{show:i,onHide:t,children:[C.jsx(Sn.Header,{closeButton:!0,children:C.jsx(wn,{className:"flex-center",children:C.jsx(Sn.Title,{children:"Log in"})})}),C.jsx(Sn.Body,{children:C.jsxs(ke,{onSubmit:p=>m(p),children:[C.jsxs(ke.Group,{className:"mb-3",controlId:"email-input",children:[C.jsx(ke.Label,{children:"Email"}),C.jsx(ke.Control,{autoFocus:!0,required:!0,type:"text",value:s,onChange:p=>o(p.target.value)})]}),C.jsxs(ke.Group,{className:"mb-3",controlId:"password-input",children:[C.jsx(ke.Label,{children:"Password"}),C.jsx(ke.Control,{required:!0,type:"password",value:u,onChange:p=>h(p.target.value)})]}),C.jsx(Dr,{variant:"primary",type:"submit",children:"Log in"})]})}),C.jsxs(Sn.Footer,{className:"flex-center",children:[C.jsx(wn,{className:"flex-center",children:C.jsx("h5",{children:"OR"})}),C.jsx(wn,{className:"flex-center",children:C.jsx(Dr,{variant:"primary",onClick:()=>{t(),n()},children:"Sign up"})})]})]})]})}function BM({signUpOpen:i,toggleSignUp:t}){const[n,s]=N.useState(""),[o,u]=N.useState(""),[h,m]=N.useState(""),[p,g]=N.useState(""),T=async _=>{if(_.preventDefault(),h!==p)console.log("Passwords dont match!"),Pi.warning("Passwords don't match!");else if(h.length<6)console.log("Password needs to be at least 6 characters long!"),Pi.warning("Password is too short - at least 6 characters.");else try{await s2(gu,o,h);const S=gu.currentUser;await UD(Rr(Cr,"Users",S.uid),{email:S.email,nickname:n,statistics:{dailyStreak:0,gameModes:{classicGM:{gamesPlayed:0,gamesGuessed:new Array(6).fill(0),playedToday:!1,finishedToday:!1,currentState:{guesses:new Array(6).fill({word:"",colors:["black","black","black","black","black"]}),keyColors:{},rowIndex:0}},royaleGM:{gamesPlayed:0,gamesGuessed:new Array(6).fill(0),playedToday:!1,finishedToday:!1,currentState:{guesses:new Array(6).fill({word:"",colors:["black","black","black","black","black"]}),keyColors:{},rowIndex:0,gameRound:0}}}},achievements:[]}),Pi.success("Signed up."),console.log("User registered successfully."),t()}catch(S){console.log(S.message),Pi.error(S.message)}};return C.jsxs(C.Fragment,{children:[C.jsx(yu,{richColors:!0,position:"top-center"}),C.jsxs(Sn,{show:i,onHide:t,backdrop:"static",children:[C.jsx(Sn.Header,{closeButton:!0,children:C.jsx(wn,{className:"flex-center",children:C.jsx(Sn.Title,{children:"Sign up"})})}),C.jsx(Sn.Body,{children:C.jsxs(ke,{onSubmit:T,children:[C.jsxs(ke.Group,{className:"mb-3",controlId:"nickname-input",children:[C.jsx(ke.Label,{children:"Nickname"}),C.jsx(ke.Control,{required:!0,type:"text",autoFocus:!0,value:n,onChange:_=>s(_.target.value),placeholder:"example123"})]}),C.jsxs(ke.Group,{required:!0,className:"mb-3",controlId:"email-input",children:[C.jsx(ke.Label,{children:"Email address"}),C.jsx(ke.Control,{required:!0,type:"email",value:o,onChange:_=>u(_.target.value),placeholder:"name@example.com"})]}),C.jsxs(ke.Group,{className:"mb-3",controlId:"password-input",children:[C.jsx(ke.Label,{children:"Password"}),C.jsx(ke.Control,{required:!0,type:"password",value:h,onChange:_=>m(_.target.value),placeholder:"PasswordExample123?!"})]}),C.jsxs(ke.Group,{className:"mb-3",controlId:"repeat-password-input",children:[C.jsx(ke.Label,{children:"Repeat password"}),C.jsx(ke.Control,{required:!0,type:"password",value:p,onChange:_=>g(_.target.value),placeholder:"PasswordExample123?!"})]}),C.jsx(Dr,{variant:"primary",type:"submit",children:"Sign up"})]})}),C.jsxs(Sn.Footer,{className:"flex-center",children:[C.jsx(wn,{className:"flex-center",children:C.jsx("h5",{children:"OR"})}),C.jsx(wn,{className:"flex-center",children:C.jsx(Dr,{variant:"primary",onClick:()=>{console.log("Hello"),t()},children:"Continue with Google"})})]})]})]})}function Eo(i=!1){const[t,n]=N.useState(i),s=N.useCallback(()=>{n(o=>!o)},[]);return[t,s]}function zM(){const[,i]=N.useReducer(t=>t+1,0);return i}const xg=N.createContext(null);xg.displayName="NavContext";const qf=N.createContext(null),Og=(i,t=null)=>i!=null?String(i):t||null,Z1=N.createContext(null),HM=["as","active","eventKey"];function qM(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function J1({key:i,onClick:t,active:n,id:s,role:o,disabled:u}){const h=N.useContext(qf),m=N.useContext(xg),p=N.useContext(Z1);let g=n;const T={role:o};if(m){!o&&m.role==="tablist"&&(T.role="tab");const _=m.getControllerId(i??null),S=m.getControlledId(i??null);T[gh("event-key")]=i,T.id=_||s,g=n==null&&i!=null?m.activeKey===i:n,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(T["aria-controls"]=S)}return T.role==="tab"&&(T["aria-selected"]=g,g||(T.tabIndex=-1),u&&(T.tabIndex=-1,T["aria-disabled"]=!0)),T.onClick=Er(_=>{u||(t==null||t(_),i!=null&&h&&!_.isPropagationStopped()&&h(i,_))}),[T,{isActive:g}]}const tS=N.forwardRef((i,t)=>{let{as:n=x1,active:s,eventKey:o}=i,u=qM(i,HM);const[h,m]=J1(Object.assign({key:Og(o,u.href),active:s},u));return h[gh("active")]=m.isActive,C.jsx(n,Object.assign({},u,h,{ref:t}))});tS.displayName="NavItem";const FM=["as","onSelect","activeKey","role","onKeyDown"];function GM(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}const FE=()=>{},GE=gh("event-key"),eS=N.forwardRef((i,t)=>{let{as:n="div",onSelect:s,activeKey:o,role:u,onKeyDown:h}=i,m=GM(i,FM);const p=zM(),g=N.useRef(!1),T=N.useContext(qf),_=N.useContext(Z1);let S,L;_&&(u=u||"tablist",o=_.activeKey,S=_.getControlledId,L=_.getControllerId);const z=N.useRef(null),W=nt=>{const ut=z.current;if(!ut)return null;const at=ca(ut,`[${GE}]:not([aria-disabled=true])`),lt=ut.querySelector("[aria-selected=true]");if(!lt||lt!==document.activeElement)return null;const O=at.indexOf(lt);if(O===-1)return null;let A=O+nt;return A>=at.length&&(A=0),A<0&&(A=at.length-1),at[A]},U=(nt,ut)=>{nt!=null&&(s==null||s(nt,ut),T==null||T(nt,ut))},ot=nt=>{if(h==null||h(nt),!_)return;let ut;switch(nt.key){case"ArrowLeft":case"ArrowUp":ut=W(-1);break;case"ArrowRight":case"ArrowDown":ut=W(1);break;default:return}ut&&(nt.preventDefault(),U(ut.dataset[fM("EventKey")]||null,nt),g.current=!0,p())};N.useEffect(()=>{if(z.current&&g.current){const nt=z.current.querySelector(`[${GE}][aria-selected=true]`);nt==null||nt.focus()}g.current=!1});const dt=yh(t,z);return C.jsx(qf.Provider,{value:U,children:C.jsx(xg.Provider,{value:{role:u,activeKey:Og(o),getControlledId:S||FE,getControllerId:L||FE},children:C.jsx(n,Object.assign({},m,{onKeyDown:ot,ref:dt,role:u}))})})});eS.displayName="Nav";const KM=Object.assign(eS,{Item:tS}),qo=N.createContext(null);qo.displayName="NavbarContext";const nS=N.createContext(null);nS.displayName="CardHeaderContext";const iS=N.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=Lt(t,"nav-item"),C.jsx(n,{ref:o,className:xt(i,t),...s})));iS.displayName="NavItem";const $M=["onKeyDown"];function YM(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function QM(i){return!i||i.trim()==="#"}const rS=N.forwardRef((i,t)=>{let{onKeyDown:n}=i,s=YM(i,$M);const[o]=Eg(Object.assign({tagName:"a"},s)),u=Er(h=>{o.onKeyDown(h),n==null||n(h)});return QM(s.href)||s.role==="button"?C.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:u})):C.jsx("a",Object.assign({ref:t},s,{onKeyDown:n}))});rS.displayName="Anchor";const sS=N.forwardRef(({bsPrefix:i,className:t,as:n=rS,active:s,eventKey:o,disabled:u=!1,...h},m)=>{i=Lt(i,"nav-link");const[p,g]=J1({key:Og(o,h.href),active:s,disabled:u,...h});return C.jsx(n,{...h,...p,ref:m,disabled:u,className:xt(t,i,u&&"disabled",g.isActive&&"active")})});sS.displayName="NavLink";const aS=N.forwardRef((i,t)=>{const{as:n="div",bsPrefix:s,variant:o,fill:u=!1,justify:h=!1,navbar:m,navbarScroll:p,className:g,activeKey:T,..._}=Sp(i,{activeKey:"onSelect"}),S=Lt(s,"nav");let L,z,W=!1;const U=N.useContext(qo),ot=N.useContext(nS);return U?(L=U.bsPrefix,W=m??!0):ot&&({cardHeaderBsPrefix:z}=ot),C.jsx(KM,{as:n,ref:t,activeKey:T,className:xt(g,{[S]:!W,[`${L}-nav`]:W,[`${L}-nav-scroll`]:W&&p,[`${z}-${o}`]:!!z,[`${S}-${o}`]:!!o,[`${S}-fill`]:u,[`${S}-justified`]:h}),..._})});aS.displayName="Nav";const XM=Object.assign(aS,{Item:iS,Link:sS}),oS=N.forwardRef(({bsPrefix:i,className:t,as:n,...s},o)=>{i=Lt(i,"navbar-brand");const u=n||(s.href?"a":"span");return C.jsx(u,{...s,ref:o,className:xt(t,i)})});oS.displayName="NavbarBrand";const lS=N.forwardRef(({children:i,bsPrefix:t,...n},s)=>{t=Lt(t,"navbar-collapse");const o=N.useContext(qo);return C.jsx(Ap,{in:!!(o&&o.expanded),...n,children:C.jsx("div",{ref:s,className:t,children:i})})});lS.displayName="NavbarCollapse";const uS=N.forwardRef(({bsPrefix:i,className:t,children:n,label:s="Toggle navigation",as:o="button",onClick:u,...h},m)=>{i=Lt(i,"navbar-toggler");const{onToggle:p,expanded:g}=N.useContext(qo)||{},T=Mo(_=>{u&&u(_),p&&p()});return o==="button"&&(h.type="button"),C.jsx(o,{...h,ref:m,onClick:T,"aria-label":s,className:xt(t,i,!g&&"collapsed"),children:n||C.jsx("span",{className:`${i}-icon`})})});uS.displayName="NavbarToggle";const WM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",ZM=typeof document<"u",JM=ZM||WM?N.useLayoutEffect:N.useEffect,_p=new WeakMap,KE=(i,t)=>{if(!i||!t)return;const n=_p.get(t)||new Map;_p.set(t,n);let s=n.get(i);return s||(s=t.matchMedia(i),s.refCount=0,n.set(s.media,s)),s};function t4(i,t=typeof window>"u"?void 0:window){const n=KE(i,t),[s,o]=N.useState(()=>n?n.matches:!1);return JM(()=>{let u=KE(i,t);if(!u)return o(!1);let h=_p.get(t);const m=()=>{o(u.matches)};return u.refCount++,u.addListener(m),m(),()=>{u.removeListener(m),u.refCount--,u.refCount<=0&&(h==null||h.delete(u.media)),u=void 0}},[i]),s}function e4(i){const t=Object.keys(i);function n(m,p){return m===p?p:m?`${m} and ${p}`:p}function s(m){return t[Math.min(t.indexOf(m)+1,t.length-1)]}function o(m){const p=s(m);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function u(m){let p=i[m];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(m,p,g){let T;typeof m=="object"?(T=m,g=p,p=!0):(p=p||!0,T={[m]:p});let _=N.useMemo(()=>Object.entries(T).reduce((S,[L,z])=>((z==="up"||z===!0)&&(S=n(S,u(L))),(z==="down"||z===!0)&&(S=n(S,o(L))),S),""),[JSON.stringify(T)]);return t4(_,g)}return h}const n4=e4({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),cS=N.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=Lt(t,"offcanvas-body"),C.jsx(n,{ref:o,className:xt(i,t),...s})));cS.displayName="OffcanvasBody";const i4={[mi]:"show",[_r]:"show"},fS=N.forwardRef(({bsPrefix:i,className:t,children:n,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:h=!1,...m},p)=>(i=Lt(i,"offcanvas"),C.jsx($f,{ref:p,addEndListener:wp,in:s,mountOnEnter:o,unmountOnExit:u,appear:h,...m,childRef:Vo(n),children:(g,T)=>N.cloneElement(n,{...T,className:xt(t,n.props.className,(g===mi||g===ru)&&`${i}-toggling`,i4[g])})})));fS.displayName="OffcanvasToggling";const hS=N.forwardRef(({bsPrefix:i,className:t,closeLabel:n="Close",closeButton:s=!1,...o},u)=>(i=Lt(i,"offcanvas-header"),C.jsx(Ng,{ref:u,...o,className:xt(t,i),closeLabel:n,closeButton:s})));hS.displayName="OffcanvasHeader";const r4=Q1("h5"),dS=N.forwardRef(({className:i,bsPrefix:t,as:n=r4,...s},o)=>(t=Lt(t,"offcanvas-title"),C.jsx(n,{ref:o,className:xt(i,t),...s})));dS.displayName="OffcanvasTitle";function s4(i){return C.jsx(fS,{...i})}function a4(i){return C.jsx(vh,{...i})}const mS=N.forwardRef(({bsPrefix:i,className:t,children:n,"aria-labelledby":s,placement:o="start",responsive:u,show:h=!1,backdrop:m=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:T,onShow:_,onHide:S,container:L,autoFocus:z=!0,enforceFocus:W=!0,restoreFocus:U=!0,restoreFocusOptions:ot,onEntered:dt,onExit:nt,onExiting:ut,onEnter:at,onEntering:lt,onExited:O,backdropClassName:A,manager:R,renderStaticNode:M=!1,...V},P)=>{const I=N.useRef();i=Lt(i,"offcanvas");const[Et,Mt]=N.useState(!1),B=Mo(S),it=n4(u||"xs","up");N.useEffect(()=>{Mt(u?h&&!it:h)},[h,u,it]);const ft=N.useMemo(()=>({onHide:B}),[B]);function Rt(){return R||(g?(I.current||(I.current=new F1({handleContainerOverflow:!1})),I.current):G1())}const D=(ct,..._t)=>{ct&&(ct.style.visibility="visible"),at==null||at(ct,..._t)},$=(ct,..._t)=>{ct&&(ct.style.visibility=""),O==null||O(..._t)},et=N.useCallback(ct=>C.jsx("div",{...ct,className:xt(`${i}-backdrop`,A)}),[A,i]),Q=ct=>C.jsx("div",{...ct,...V,className:xt(t,u?`${i}-${u}`:i,`${i}-${o}`),"aria-labelledby":s,children:n});return C.jsxs(C.Fragment,{children:[!Et&&(u||M)&&Q({}),C.jsx(Rg.Provider,{value:ft,children:C.jsx(q1,{show:Et,ref:P,backdrop:m,container:L,keyboard:p,autoFocus:z,enforceFocus:W&&!g,restoreFocus:U,restoreFocusOptions:ot,onEscapeKeyDown:T,onShow:_,onHide:B,onEnter:D,onEntering:lt,onEntered:dt,onExit:nt,onExiting:ut,onExited:$,manager:Rt(),transition:s4,backdropTransition:a4,renderBackdrop:et,renderDialog:Q})})]})});mS.displayName="Offcanvas";const o4=Object.assign(mS,{Body:cS,Header:hS,Title:dS}),pS=N.forwardRef(({onHide:i,...t},n)=>{const s=N.useContext(qo),o=Mo(()=>{s==null||s.onToggle==null||s.onToggle(),i==null||i()});return C.jsx(o4,{ref:n,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});pS.displayName="NavbarOffcanvas";const gS=N.forwardRef(({className:i,bsPrefix:t,as:n="span",...s},o)=>(t=Lt(t,"navbar-text"),C.jsx(n,{ref:o,className:xt(i,t),...s})));gS.displayName="NavbarText";const yS=N.forwardRef((i,t)=>{const{bsPrefix:n,expand:s=!0,variant:o="light",bg:u,fixed:h,sticky:m,className:p,as:g="nav",expanded:T,onToggle:_,onSelect:S,collapseOnSelect:L=!1,...z}=Sp(i,{expanded:"onToggle"}),W=Lt(n,"navbar"),U=N.useCallback((...nt)=>{S==null||S(...nt),L&&T&&(_==null||_(!1))},[S,L,T,_]);z.role===void 0&&g!=="nav"&&(z.role="navigation");let ot=`${W}-expand`;typeof s=="string"&&(ot=`${ot}-${s}`);const dt=N.useMemo(()=>({onToggle:()=>_==null?void 0:_(!T),bsPrefix:W,expanded:!!T,expand:s}),[W,T,s,_]);return C.jsx(qo.Provider,{value:dt,children:C.jsx(qf.Provider,{value:U,children:C.jsx(g,{ref:t,...z,className:xt(p,W,s&&ot,o&&`${W}-${o}`,u&&`bg-${u}`,m&&`sticky-${m}`,h&&`fixed-${h}`)})})})});yS.displayName="Navbar";const of=Object.assign(yS,{Brand:oS,Collapse:lS,Offcanvas:pS,Text:gS,Toggle:uS});function l4({darkMode:i,toggleDarkMode:t}){return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"dark-mode-button flex-center",children:[C.jsx("input",{type:"checkbox",id:"dark-mode-input",className:"dark-mode-input",onClick:t}),C.jsxs("label",{htmlFor:"dark-mode-input",className:`dark-mode-label ${i}`,children:[C.jsx("div",{className:"night",children:"night"}),C.jsx("div",{className:"day",children:"day"})]})]})})}function u4({darkMode:i,toggleDarkMode:t,toggleLogIn:n,currentUser:s,playWordle:o,togglePlayWordle:u}){const h=async()=>{try{await c2(gu),window.location.reload()}catch(m){console.error("Error signing out:",m.message),Pi.error(m.message)}};return C.jsxs(C.Fragment,{children:[C.jsx(yu,{richColors:!0,position:"top-center"}),C.jsx(of,{className:i,children:C.jsxs(wn,{children:[C.jsx(of.Brand,{className:"nav-brand",onClick:()=>o&&u(),children:"Wordle"}),C.jsx(of.Toggle,{"aria-controls":"basic-navbar-nav"}),C.jsx(of.Collapse,{id:"basic-navbar-nav",children:C.jsxs(XM,{className:"me-auto",children:[C.jsx(wn,{className:"stats flex-center",children:C.jsx(oA,{size:"50%",className:"stats-icon"})}),C.jsx(wn,{className:"info flex-center",children:C.jsx(aA,{size:"60%",className:"info-icon"})}),s?C.jsx(wn,{className:"button flex-center",children:C.jsx(Dr,{variant:"primary",onClick:h,style:{fontSize:"12px",width:"60px"},children:"Log out"})}):C.jsx(wn,{className:"button flex-center",children:C.jsx(Dr,{variant:"primary",onClick:n,style:{fontSize:"12px",width:"60px"},children:"Log in"})}),C.jsx(l4,{toggleDarkMode:t})]})})]})})]})}function Dg({gameMode:i,showDialog:t,setGameResult:n,toggleRestart:s,togglePlayWordle:o,solution:u}){return C.jsx(C.Fragment,{children:C.jsxs(Sn,{show:t,onHide:()=>n(""),backdrop:"static",children:[C.jsx(Sn.Header,{closeButton:!0,children:C.jsx(wn,{className:"flex-center",children:C.jsx(Sn.Title,{children:"Game over"})})}),C.jsx(Sn.Body,{children:C.jsx(wn,{children:C.jsx("h1",{children:u})})}),C.jsx(Sn.Footer,{className:"flex-center",children:C.jsxs(wn,{children:[C.jsx(Dr,{onClick:()=>{n(""),o()},children:"Go home"}),i==="practice"&&C.jsx(Dr,{onClick:()=>{n(""),s()},children:"Play again"})]})})]})})}function c4({darkMode:i,gameMode:t,togglePlayWordle:n,wordLength:s,numOfGuesses:o,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,rowIndex:g,baseColors:T,currentUser:_,userData:S,dailyStreak:L}){const[z,W]=N.useState([]),U=N.useRef([]),[ot,dt]=Eo(!1),nt=N.useRef(new Set),[ut,at]=N.useState("");return N.useEffect(()=>{(async()=>{try{g.current=0;let O=await pu(Rr(Cr,"wordleWords","wordBank")),A=O.data();nt.current=new Set(A.allWords),O=await pu(Rr(Cr,"wordleWords","dailyWords")),A=O.data();const R=A.classicWord;W(R.toUpperCase().split("")),U.current=R.toUpperCase().split(""),console.log(U.current.join(""))}catch(O){console.error(O)}})()},[ot]),N.useEffect(()=>{ut&&(async()=>{try{S.current.statistics.gameModes.classicGM.finishedToday=!0,S.current.statistics.gameModes.classicGM.gamesPlayed++,ut==="guessed"&&S.current.statistics.gameModes.classicGM.gamesGuessed[g.current-1]++,await _g(Rr(Cr,"Users",_.uid),S.current)}catch(O){console.log(O.message)}})()},[ut]),C.jsxs(C.Fragment,{children:[C.jsx(bp,{darkMode:i,gameMode:t,solution:z,wordSet:nt,rowIndex:g,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,baseColors:T,gameResult:ut,setGameResult:at,wordLength:s,numOfGuesses:o,userData:S},ot),C.jsx(Dg,{gameMode:t,showDialog:ut,setGameResult:at,toggleRestart:dt,togglePlayWordle:n,solution:z})]})}function f4({darkMode:i,gameMode:t,togglePlayWordle:n,wordLength:s,numOfGuesses:o,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,rowIndex:g,baseColors:T,currentUser:_,gameRound:S,userData:L}){const z=N.useRef([]),[W,U]=N.useState([]),[ot,dt]=Eo(!1),nt=N.useRef(new Set),[ut,at]=N.useState(""),[lt,O]=N.useState(!1),[A,R]=N.useState([]),[M,V]=N.useState([]);N.useEffect(()=>{(async()=>{try{let Et=await pu(Rr(Cr,"wordleWords","wordBank")),Mt=Et.data();nt.current=new Set(Mt.allWords),Et=await pu(Rr(Cr,"wordleWords","dailyWords")),Mt=Et.data(),z.current=Mt.royaleWords,U(z.current[0].toUpperCase().split("")),z.current.forEach(B=>console.log(B))}catch(Et){console.error(Et)}})()},[]),N.useEffect(()=>{ut&&(ut!=="failed"&&S.current<o-1?P()?O(!0):(U(z.current[S.current].toUpperCase().split("")),S.current++,at(""),g.current=0,p(new Map),h(new Array(6).fill({word:"",colors:T})),dt()):O(!0))},[ut]),N.useEffect(()=>{lt&&(async()=>{try{L.current.statistics.gameModes.royaleGM.finishedToday=!0,L.current.statistics.gameModes.royaleGM.gamesPlayed++,ut==="guessed"&&L.current.statistics.gameModes.royaleGM.gamesGuessed[S.current-1]++,await _g(Rr(Cr,"Users",_.uid),L.current),console.log("Endgame data updated.")}catch(Et){console.log(Et.message)}})()},[lt]);const P=()=>S.current+g.current>o;return C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{color:"white"},children:"Round: "+S.current+" "+W}),C.jsx(bp,{darkMode:i,gameMode:t,solution:W,wordSet:nt,rowIndex:g,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,gameResult:ut,setGameResult:at,wordLength:s,numOfGuesses:o,highLight:o-S.current,baseColors:T,userData:L},ot),C.jsx(Dg,{gameMode:t,showDialog:lt,setGameResult:at,toggleRestart:dt,togglePlayWordle:n,solution:W})]})}const h4="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function d4({darkMode:i,gameMode:t,togglePlayWordle:n,wordLength:s,numOfGuesses:o,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,rowIndex:g,baseColors:T,toggleRestart:_}){const[S,L]=N.useState([]),z=N.useRef([]),W=N.useRef(new Set),[U,ot]=N.useState("");return N.useEffect(()=>{(async()=>{try{g.current=0;const at=[...(await(await fetch(h4)).json()).words];at.forEach(O=>W.current.add(O));const lt=at[Math.floor(Math.random()*(at.length-1))];L(lt.toUpperCase().split("")),z.current=lt.toUpperCase().split(""),console.log(z.current.join(""))}catch(nt){console.error(nt)}})()},[]),C.jsxs(C.Fragment,{children:[C.jsx(bp,{darkMode:i,gameMode:t,solution:S,wordSet:W,rowIndex:g,gameResult:U,setGameResult:ot,wordLength:s,numOfGuesses:o,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,baseColors:T}),C.jsx(Dg,{gameMode:t,showDialog:U,setGameResult:ot,toggleRestart:_,togglePlayWordle:n})]})}const lf=["black","black","black","black","black"];function m4(i){const[t,n]=N.useState(new Array(6).fill({word:"",colors:lf})),[s,o]=N.useState(new Map),u=N.useRef(0),h=N.useRef(1),m=N.useRef(null);N.useRef(null);const p=N.useRef(!1);return N.useEffect(()=>{const g=async()=>{try{const _=Rr(Cr,"Users",i.currentUser.uid),S=await pu(_);return console.log("User data fetched."),S.data()}catch(_){console.log(_.message)}},T=async()=>{try{m.current=await g();const _=m.current.statistics.gameModes[`${i.gameMode}GM`];_.playedToday&&(n([..._.currentState.guesses]),o(new Map(Object.entries(_.currentState.keyColors))),u.current=_.currentState.rowIndex,i.gameMode==="royale"&&(h.current=_.currentState.gameRound)),console.log("Game state loaded.")}catch(_){console.log(_.message)}};i.gameMode!=="practice"&&T()},[]),N.useEffect(()=>{const g=async()=>{console.log(h.current);const T=Rr(Cr,"Users",i.currentUser.uid);m.current.statistics.gameModes[`${i.gameMode}GM`].playedToday=!0,m.current.statistics.gameModes[`${i.gameMode}GM`].currentState.guesses=t,m.current.statistics.gameModes[`${i.gameMode}GM`].currentState.keyColors=Object.fromEntries(s),m.current.statistics.gameModes[`${i.gameMode}GM`].currentState.rowIndex=u.current,i.gameMode==="royale"&&(m.current.statistics.gameModes[`${i.gameMode}GM`].currentState.gameRound=h.current);try{await _g(T,m.current),console.log("User data updated.")}catch(_){console.log(_.message)}};i.gameMode!=="practice"&&(u.current!==0||h.current!==1)&&g()},[s,h.current]),C.jsxs(C.Fragment,{children:[i.gameMode==="classic"&&C.jsx(c4,{...i,guesses:t,setGuesses:n,keyColors:s,setKeyColors:o,rowIndex:u,baseColors:lf,userData:m,dailyStreak:p}),i.gameMode==="royale"&&C.jsx(f4,{...i,guesses:t,setGuesses:n,keyColors:s,setKeyColors:o,rowIndex:u,gameRound:h,baseColors:lf,userData:m}),i.gameMode==="practice"&&C.jsx(d4,{...i,guesses:t,setGuesses:n,keyColors:s,setKeyColors:o,rowIndex:u,baseColors:lf})]})}const vS=N.createContext({currentUser:null,loading:!0}),p4=()=>N.useContext(vS);function g4(){const[i,t]=zA(!0),[n,s]=Eo(!1),[o,u]=Eo(!1),[h,m]=Eo(!1),[p,g]=N.useState("practice"),{currentUser:T,loading:_}=p4(),[S,L]=Eo(!1);return document.querySelector("body").classList=`${i}`,C.jsxs(C.Fragment,{children:[C.jsx(u4,{darkMode:i,toggleDarkMode:t,toggleLogIn:u,currentUser:T,playWordle:n,togglePlayWordle:s}),C.jsx("main",{className:`flex-center ${i}`,children:n?C.jsx(m4,{darkMode:i,currentUser:T,gameMode:p,togglePlayWordle:s,wordLength:5,numOfGuesses:6,toggleRestart:L},S):C.jsx(C.Fragment,{children:C.jsx(FD,{togglePlayWordle:s,gameMode:p,setGameMode:g,darkMode:i,currentUser:T})})}),C.jsx(jM,{logInOpen:o,toggleLogIn:u,toggleSignUp:m}),C.jsx(BM,{signUpOpen:h,toggleSignUp:m})]})}function y4({children:i}){const[t,n]=N.useState(null),[s,o]=N.useState(!0);N.useEffect(()=>{const h=u2(gu,m=>{n(m),o(!1)});return()=>h()},[]);const u={currentUser:t,loading:s};return C.jsx(vS.Provider,{value:u,children:!s&&i})}Ww.createRoot(document.getElementById("root")).render(C.jsx(N.StrictMode,{children:C.jsx(y4,{children:C.jsx(g4,{})})}));
