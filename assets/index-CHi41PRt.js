var Hb=n=>{throw TypeError(n)};var kg=(n,t,e)=>t.has(n)||Hb("Cannot "+e);var B=(n,t,e)=>(kg(n,t,"read from private field"),e?e.call(n):t.get(n)),It=(n,t,e)=>t.has(n)?Hb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),gt=(n,t,e,i)=>(kg(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),Ft=(n,t,e)=>(kg(n,t,"access private method"),e);var rd=(n,t,e,i)=>({set _(a){gt(n,t,a,e)},get _(){return B(n,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function df(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pg={exports:{}},wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function NI(){if(Fb)return wc;Fb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return wc.Fragment=t,wc.jsx=e,wc.jsxs=e,wc}var qb;function DI(){return qb||(qb=1,Pg.exports=NI()),Pg.exports}var S=DI(),Vg={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function MI(){if($b)return Ht;$b=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,j={};function I(L,Z,ot){this.props=L,this.context=Z,this.refs=j,this.updater=ot||O}I.prototype.isReactComponent={},I.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},I.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function K(){}K.prototype=I.prototype;function Y(L,Z,ot){this.props=L,this.context=Z,this.refs=j,this.updater=ot||O}var q=Y.prototype=new K;q.constructor=Y,M(q,I.prototype),q.isPureReactComponent=!0;var X=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},rt=Object.prototype.hasOwnProperty;function D(L,Z,ot,et,ht,vt){return ot=vt.ref,{$$typeof:n,type:L,key:Z,ref:ot!==void 0?ot:null,props:vt}}function A(L,Z){return D(L.type,Z,void 0,void 0,void 0,L.props)}function x(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function k(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ot){return Z[ot]})}var P=/\/+/g;function V(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):Z.toString(36)}function N(){}function Et(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function St(L,Z,ot,et,ht){var vt=typeof L;(vt==="undefined"||vt==="boolean")&&(L=null);var pt=!1;if(L===null)pt=!0;else switch(vt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(L.$$typeof){case n:case t:pt=!0;break;case _:return pt=L._init,St(pt(L._payload),Z,ot,et,ht)}}if(pt)return ht=ht(L),pt=et===""?"."+V(L,0):et,X(ht)?(ot="",pt!=null&&(ot=pt.replace(P,"$&/")+"/"),St(ht,Z,ot,"",function(pe){return pe})):ht!=null&&(x(ht)&&(ht=A(ht,ot+(ht.key==null||L&&L.key===ht.key?"":(""+ht.key).replace(P,"$&/")+"/")+pt)),Z.push(ht)),1;pt=0;var Xt=et===""?".":et+":";if(X(L))for(var xt=0;xt<L.length;xt++)et=L[xt],vt=Xt+V(et,xt),pt+=St(et,Z,ot,vt,ht);else if(xt=T(L),typeof xt=="function")for(L=xt.call(L),xt=0;!(et=L.next()).done;)et=et.value,vt=Xt+V(et,xt++),pt+=St(et,Z,ot,vt,ht);else if(vt==="object"){if(typeof L.then=="function")return St(Et(L),Z,ot,et,ht);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(L,Z,ot){if(L==null)return L;var et=[],ht=0;return St(L,et,"","",function(vt){return Z.call(ot,vt,ht++)}),et}function it(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(ot){(L._status===0||L._status===-1)&&(L._status=1,L._result=ot)},function(ot){(L._status===0||L._status===-1)&&(L._status=2,L._result=ot)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var dt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function yt(){}return Ht.Children={map:H,forEach:function(L,Z,ot){H(L,function(){Z.apply(this,arguments)},ot)},count:function(L){var Z=0;return H(L,function(){Z++}),Z},toArray:function(L){return H(L,function(Z){return Z})||[]},only:function(L){if(!x(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ht.Component=I,Ht.Fragment=e,Ht.Profiler=a,Ht.PureComponent=Y,Ht.StrictMode=i,Ht.Suspense=p,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(L){return tt.H.useMemoCache(L)}},Ht.cache=function(L){return function(){return L.apply(null,arguments)}},Ht.cloneElement=function(L,Z,ot){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var et=M({},L.props),ht=L.key,vt=void 0;if(Z!=null)for(pt in Z.ref!==void 0&&(vt=void 0),Z.key!==void 0&&(ht=""+Z.key),Z)!rt.call(Z,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Z.ref===void 0||(et[pt]=Z[pt]);var pt=arguments.length-2;if(pt===1)et.children=ot;else if(1<pt){for(var Xt=Array(pt),xt=0;xt<pt;xt++)Xt[xt]=arguments[xt+2];et.children=Xt}return D(L.type,ht,void 0,void 0,vt,et)},Ht.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ht.createElement=function(L,Z,ot){var et,ht={},vt=null;if(Z!=null)for(et in Z.key!==void 0&&(vt=""+Z.key),Z)rt.call(Z,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ht[et]=Z[et]);var pt=arguments.length-2;if(pt===1)ht.children=ot;else if(1<pt){for(var Xt=Array(pt),xt=0;xt<pt;xt++)Xt[xt]=arguments[xt+2];ht.children=Xt}if(L&&L.defaultProps)for(et in pt=L.defaultProps,pt)ht[et]===void 0&&(ht[et]=pt[et]);return D(L,vt,void 0,void 0,null,ht)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(L){return{$$typeof:d,render:L}},Ht.isValidElement=x,Ht.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:it}},Ht.memo=function(L,Z){return{$$typeof:g,type:L,compare:Z===void 0?null:Z}},Ht.startTransition=function(L){var Z=tt.T,ot={};tt.T=ot;try{var et=L(),ht=tt.S;ht!==null&&ht(ot,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(yt,dt)}catch(vt){dt(vt)}finally{tt.T=Z}},Ht.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Ht.use=function(L){return tt.H.use(L)},Ht.useActionState=function(L,Z,ot){return tt.H.useActionState(L,Z,ot)},Ht.useCallback=function(L,Z){return tt.H.useCallback(L,Z)},Ht.useContext=function(L){return tt.H.useContext(L)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(L,Z){return tt.H.useDeferredValue(L,Z)},Ht.useEffect=function(L,Z,ot){var et=tt.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(L,Z)},Ht.useId=function(){return tt.H.useId()},Ht.useImperativeHandle=function(L,Z,ot){return tt.H.useImperativeHandle(L,Z,ot)},Ht.useInsertionEffect=function(L,Z){return tt.H.useInsertionEffect(L,Z)},Ht.useLayoutEffect=function(L,Z){return tt.H.useLayoutEffect(L,Z)},Ht.useMemo=function(L,Z){return tt.H.useMemo(L,Z)},Ht.useOptimistic=function(L,Z){return tt.H.useOptimistic(L,Z)},Ht.useReducer=function(L,Z,ot){return tt.H.useReducer(L,Z,ot)},Ht.useRef=function(L){return tt.H.useRef(L)},Ht.useState=function(L){return tt.H.useState(L)},Ht.useSyncExternalStore=function(L,Z,ot){return tt.H.useSyncExternalStore(L,Z,ot)},Ht.useTransition=function(){return tt.H.useTransition()},Ht.version="19.1.0",Ht}var Gb;function lv(){return Gb||(Gb=1,Vg.exports=MI()),Vg.exports}var w=lv();const ct=df(w);var Lg={exports:{}},Sc={},Ug={exports:{}},jg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function kI(){return Kb||(Kb=1,function(n){function t(H,it){var dt=H.length;H.push(it);t:for(;0<dt;){var yt=dt-1>>>1,L=H[yt];if(0<a(L,it))H[yt]=it,H[dt]=L,dt=yt;else break t}}function e(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var it=H[0],dt=H.pop();if(dt!==it){H[0]=dt;t:for(var yt=0,L=H.length,Z=L>>>1;yt<Z;){var ot=2*(yt+1)-1,et=H[ot],ht=ot+1,vt=H[ht];if(0>a(et,dt))ht<L&&0>a(vt,et)?(H[yt]=vt,H[ht]=dt,yt=ht):(H[yt]=et,H[ot]=dt,yt=ot);else if(ht<L&&0>a(vt,dt))H[yt]=vt,H[ht]=dt,yt=ht;else break t}}return it}function a(H,it){var dt=H.sortIndex-it.sortIndex;return dt!==0?dt:H.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,v=null,T=3,O=!1,M=!1,j=!1,I=!1,K=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function X(H){for(var it=e(g);it!==null;){if(it.callback===null)i(g);else if(it.startTime<=H)i(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=e(g)}}function tt(H){if(j=!1,X(H),!M)if(e(p)!==null)M=!0,rt||(rt=!0,V());else{var it=e(g);it!==null&&St(tt,it.startTime-H)}}var rt=!1,D=-1,A=5,x=-1;function k(){return I?!0:!(n.unstable_now()-x<A)}function P(){if(I=!1,rt){var H=n.unstable_now();x=H;var it=!0;try{t:{M=!1,j&&(j=!1,Y(D),D=-1),O=!0;var dt=T;try{e:{for(X(H),v=e(p);v!==null&&!(v.expirationTime>H&&k());){var yt=v.callback;if(typeof yt=="function"){v.callback=null,T=v.priorityLevel;var L=yt(v.expirationTime<=H);if(H=n.unstable_now(),typeof L=="function"){v.callback=L,X(H),it=!0;break e}v===e(p)&&i(p),X(H)}else i(p);v=e(p)}if(v!==null)it=!0;else{var Z=e(g);Z!==null&&St(tt,Z.startTime-H),it=!1}}break t}finally{v=null,T=dt,O=!1}it=void 0}}finally{it?V():rt=!1}}}var V;if(typeof q=="function")V=function(){q(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Et=N.port2;N.port1.onmessage=P,V=function(){Et.postMessage(null)}}else V=function(){K(P,0)};function St(H,it){D=K(function(){H(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(H){switch(T){case 1:case 2:case 3:var it=3;break;default:it=T}var dt=T;T=it;try{return H()}finally{T=dt}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(H,it){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var dt=T;T=H;try{return it()}finally{T=dt}},n.unstable_scheduleCallback=function(H,it,dt){var yt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?yt+dt:yt):dt=yt,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=dt+L,H={id:_++,callback:it,priorityLevel:H,startTime:dt,expirationTime:L,sortIndex:-1},dt>yt?(H.sortIndex=dt,t(g,H),e(p)===null&&H===e(g)&&(j?(Y(D),D=-1):j=!0,St(tt,dt-yt))):(H.sortIndex=L,t(p,H),M||O||(M=!0,rt||(rt=!0,V()))),H},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(H){var it=T;return function(){var dt=T;T=it;try{return H.apply(this,arguments)}finally{T=dt}}}}(jg)),jg}var Qb;function PI(){return Qb||(Qb=1,Ug.exports=kI()),Ug.exports}var Bg={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function VI(){if(Yb)return Dn;Yb=1;var n=lv();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,_)},Dn.flushSync=function(p){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=_,i.d.f()}},Dn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},Dn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Dn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:O}):_==="script"&&i.d.X(p,{crossOrigin:v,integrity:T,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Dn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},Dn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin);i.d.L(p,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Dn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},Dn.requestFormReset=function(p){i.d.r(p)},Dn.unstable_batchedUpdates=function(p,g){return p(g)},Dn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Dn.version="19.1.0",Dn}var Xb;function IS(){if(Xb)return Bg.exports;Xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Bg.exports=VI(),Bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function LI(){if(Wb)return Sc;Wb=1;var n=PI(),t=lv(),e=IS();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return d(h),r;if(m===u)return d(h),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=m;else{for(var b=!1,R=h.child;R;){if(R===o){b=!0,o=h,u=m;break}if(R===u){b=!0,u=h,o=m;break}R=R.sibling}if(!b){for(R=m.child;R;){if(R===o){b=!0,o=m,u=h;break}if(R===u){b=!0,u=m,o=h;break}R=R.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),q=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function Et(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case I:return"Profiler";case j:return"StrictMode";case tt:return"Suspense";case rt:return"SuspenseList";case x:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case q:return(r.displayName||"Context")+".Provider";case Y:return(r._context.displayName||"Context")+".Consumer";case X:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return s=r.displayName||null,s!==null?s:Et(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return Et(r(s))}catch{}}return null}var St=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},yt=[],L=-1;function Z(r){return{current:r}}function ot(r){0>L||(r.current=yt[L],yt[L]=null,L--)}function et(r,s){L++,yt[L]=r.current,r.current=s}var ht=Z(null),vt=Z(null),pt=Z(null),Xt=Z(null);function xt(r,s){switch(et(pt,s),et(vt,r),et(ht,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?gb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=gb(s),r=yb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ot(ht),et(ht,r)}function pe(){ot(ht),ot(vt),ot(pt)}function we(r){r.memoizedState!==null&&et(Xt,r);var s=ht.current,o=yb(s,r.type);s!==o&&(et(vt,r),et(ht,o))}function le(r){vt.current===r&&(ot(ht),ot(vt)),Xt.current===r&&(ot(Xt),vc._currentValue=dt)}var ce=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,Me=n.unstable_cancelCallback,zt=n.unstable_shouldYield,bn=n.unstable_requestPaint,me=n.unstable_now,Er=n.unstable_getCurrentPriorityLevel,He=n.unstable_ImmediatePriority,Qe=n.unstable_UserBlockingPriority,pn=n.unstable_NormalPriority,Re=n.unstable_LowPriority,Fe=n.unstable_IdlePriority,rn=n.log,Qn=n.unstable_setDisableYieldValue,Tt=null,Bt=null;function Ce(r){if(typeof rn=="function"&&Qn(r),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Tt,r)}catch{}}var ke=Math.clz32?Math.clz32:At,jn=Math.log,xi=Math.LN2;function At(r){return r>>>=0,r===0?32:31-(jn(r)/xi|0)|0}var Wt=256,sn=4194304;function Ye(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ur(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,m=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var R=u&134217727;return R!==0?(u=R&~m,u!==0?h=Ye(u):(b&=R,b!==0?h=Ye(b):o||(o=R&~r,o!==0&&(h=Ye(o))))):(R=u&~m,R!==0?h=Ye(R):b!==0?h=Ye(b):o||(o=u&~r,o!==0&&(h=Ye(o)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:h}function Ii(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Oi(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yn(){var r=Wt;return Wt<<=1,(Wt&4194048)===0&&(Wt=256),r}function Pa(){var r=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),r}function jr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function br(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ws(r,s,o,u,h,m){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,U=r.expirationTimes,Q=r.hiddenUpdates;for(o=b&~o;0<o;){var st=31-ke(o),lt=1<<st;R[st]=0,U[st]=-1;var W=Q[st];if(W!==null)for(Q[st]=null,st=0;st<W.length;st++){var J=W[st];J!==null&&(J.lane&=-536870913)}o&=~lt}u!==0&&Nt(r,u,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(b&~s))}function Nt(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-ke(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function xe(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-ke(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function Ae(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Xe(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ur(){var r=it.p;return r!==0?r:(r=window.event,r===void 0?32:Vb(r.type))}function Ue(r,s){var o=it.p;try{return it.p=r,s()}finally{it.p=o}}var Kt=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Kt,ae="__reactProps$"+Kt,Oe="__reactContainer$"+Kt,Ss="__reactEvents$"+Kt,Br="__reactListeners$"+Kt,Ni="__reactHandles$"+Kt,Lf="__reactResources$"+Kt,Va="__reactMarker$"+Kt;function As(r){delete r[Ie],delete r[ae],delete r[Ss],delete r[Br],delete r[Ni]}function Di(r){var s=r[Ie];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Oe]||o[Ie]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=bb(r);r!==null;){if(o=r[Ie])return o;r=bb(r)}return s}r=o,o=r.parentNode}return null}function Jr(r){if(r=r[Ie]||r[Oe]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function ti(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Bn(r){var s=r[Lf];return s||(s=r[Lf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qe(r){r[Va]=!0}var Su=new Set,zo={};function zr(r,s){Mi(r,s),Mi(r+"Capture",s)}function Mi(r,s){for(zo[r]=s,r=0;r<s.length;r++)Su.add(s[r])}var Uf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jf={},La={};function Bf(r){return ce.call(La,r)?!0:ce.call(jf,r)?!1:Uf.test(r)?La[r]=!0:(jf[r]=!0,!1)}function Rs(r,s,o){if(Bf(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function ei(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Tn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Ua,zf;function ki(r){if(Ua===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ua=s&&s[1]||"",zf=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+r+zf}var Ho=!1;function Fo(r,s){if(!r||Ho)return"";Ho=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(J){var W=J}Reflect.construct(r,[],lt)}else{try{lt.call()}catch(J){W=J}r.call(lt.prototype)}}else{try{throw Error()}catch(J){W=J}(lt=r())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),b=m[0],R=m[1];if(b&&R){var U=b.split(`
`),Q=R.split(`
`);for(h=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(u===U.length||h===Q.length)for(u=U.length-1,h=Q.length-1;1<=u&&0<=h&&U[u]!==Q[h];)h--;for(;1<=u&&0<=h;u--,h--)if(U[u]!==Q[h]){if(u!==1||h!==1)do if(u--,h--,0>h||U[u]!==Q[h]){var st=`
`+U[u].replace(" at new "," at ");return r.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",r.displayName)),st}while(1<=u&&0<=h);break}}}finally{Ho=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ki(o):""}function Au(r){switch(r.tag){case 26:case 27:case 5:return ki(r.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 15:return Fo(r.type,!1);case 11:return Fo(r.type.render,!1);case 1:return Fo(r.type,!0);case 31:return ki("Activity");default:return""}}function qo(r){try{var s="";do s+=Au(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function zn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ru(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Up(r){var s=Ru(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){u=""+b,m.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function $o(r){r._valueTracker||(r._valueTracker=Up(r))}function Cu(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Ru(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function ja(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var jp=/[\n"\\]/g;function We(r){return r.replace(jp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function cr(r,s,o,u,h,m,b,R){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+zn(s)):r.value!==""+zn(s)&&(r.value=""+zn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Cs(r,b,zn(s)):o!=null?Cs(r,b,zn(o)):u!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+zn(R):r.removeAttribute("name")}function Ba(r,s,o,u,h,m,b,R){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+zn(o):"",s=s!=null?""+zn(s):o,R||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=R?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Cs(r,s,o){s==="number"&&ja(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Pi(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+zn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function ve(r,s,o){if(s!=null&&(s=""+zn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+zn(o):""}function za(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(St(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=zn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Tr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hf(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Ha.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function xu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&Hf(r,h,u)}else for(var m in s)s.hasOwnProperty(m)&&Hf(r,m,s[m])}function Iu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Go(r){return zp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Vi=null;function wr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Li=null,Ui=null;function Ou(r){var s=Jr(r);if(s&&(r=s.stateNode)){var o=r[ae]||null;t:switch(r=s.stateNode,s.type){case"input":if(cr(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+We(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[ae]||null;if(!h)throw Error(i(90));cr(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Cu(u)}break t;case"textarea":ve(r,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Pi(r,!!o.multiple,s,!1)}}}var ni=!1;function Ff(r,s,o){if(ni)return r(s,o);ni=!0;try{var u=r(s);return u}finally{if(ni=!1,(Li!==null||Ui!==null)&&(Vh(),Li&&(s=Li,r=Ui,Ui=Li=null,Ou(s),r)))for(s=0;s<r.length;s++)Ou(r[s])}}function Fa(r,s){var o=r.stateNode;if(o===null)return null;var u=o[ae]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break t;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(Hr)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Sr=!1}var ri=null,xs=null,ji=null;function Nu(){if(ji)return ji;var r,s=xs,o=s.length,u,h="value"in ri?ri.value:ri.textContent,m=h.length;for(r=0;r<o&&s[r]===h[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===h[m-u];u++);return ji=h.slice(r,1<u?1-u:void 0)}function ii(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function si(){return!0}function Du(){return!1}function mn(r){function s(o,u,h,m,b){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?si:Du,this.isPropagationStopped=Du,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),s}var fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=mn(fe),$a=_({},fe,{view:0,detail:0}),qf=mn($a),Qo,Yo,ai,Ga=_({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(Qo=r.screenX-ai.screenX,Yo=r.screenY-ai.screenY):Yo=Qo=0,ai=r),Qo)},movementY:function(r){return"movementY"in r?r.movementY:Yo}}),Ar=mn(Ga),$f=_({},Ga,{dataTransfer:0}),Hp=mn($f),Ka=_({},$a,{relatedTarget:0}),Xo=mn(Ka),Mu=_({},fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=mn(Mu),Gf=_({},fe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Zo=mn(Gf),Fp=_({},fe,{data:0}),ku=mn(Fp),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Qf[r])?!!s[r]:!1}function Ya(){return Pu}var Yf=_({},$a,{key:function(r){if(r.key){var s=Qa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ii(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Kf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(r){return r.type==="keypress"?ii(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ii(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Jo=mn(Yf),Xf=_({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vu=mn(Xf),Bi=_({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),Wf=mn(Bi),Zf=_({},fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=mn(Zf),th=_({},Ga,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),tl=mn(th),Hn=_({},fe,{newState:0,oldState:0}),eh=mn(Hn),nh=[9,13,27,32],oi=Hr&&"CompositionEvent"in window,f=null;Hr&&"documentMode"in document&&(f=document.documentMode);var y=Hr&&"TextEvent"in window&&!f,E=Hr&&(!oi||f&&8<f&&11>=f),C=" ",$=!1;function nt(r,s){switch(r){case"keyup":return nh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ne=!1;function an(r,s){switch(r){case"compositionend":return mt(s);case"keypress":return s.which!==32?null:($=!0,C);case"textInput":return r=s.data,r===C&&$?null:r;default:return null}}function re(r,s){if(ne)return r==="compositionend"||!oi&&nt(r,s)?(r=Nu(),ji=xs=ri=null,ne=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!gn[r.type]:s==="textarea"}function zi(r,s,o,u){Li?Ui?Ui.push(u):Ui=[u]:Li=u,s=Hh(s,"onChange"),0<s.length&&(o=new Ko("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var wn=null,li=null;function Lu(r){fb(r,0)}function rh(r){var s=ti(r);if(Cu(s))return r}function D_(r,s){if(r==="change")return s}var M_=!1;if(Hr){var qp;if(Hr){var $p="oninput"in document;if(!$p){var k_=document.createElement("div");k_.setAttribute("oninput","return;"),$p=typeof k_.oninput=="function"}qp=$p}else qp=!1;M_=qp&&(!document.documentMode||9<document.documentMode)}function P_(){wn&&(wn.detachEvent("onpropertychange",V_),li=wn=null)}function V_(r){if(r.propertyName==="value"&&rh(li)){var s=[];zi(s,li,r,wr(r)),Ff(Lu,s)}}function ox(r,s,o){r==="focusin"?(P_(),wn=s,li=o,wn.attachEvent("onpropertychange",V_)):r==="focusout"&&P_()}function lx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return rh(li)}function ux(r,s){if(r==="click")return rh(s)}function cx(r,s){if(r==="input"||r==="change")return rh(s)}function fx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var fr=typeof Object.is=="function"?Object.is:fx;function Uu(r,s){if(fr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!ce.call(s,h)||!fr(r[h],s[h]))return!1}return!0}function L_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function U_(r,s){var o=L_(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=L_(o)}}function j_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?j_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function B_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ja(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ja(r.document)}return s}function Gp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var hx=Hr&&"documentMode"in document&&11>=document.documentMode,el=null,Kp=null,ju=null,Qp=!1;function z_(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Qp||el==null||el!==ja(u)||(u=el,"selectionStart"in u&&Gp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ju&&Uu(ju,u)||(ju=u,u=Hh(Kp,"onSelect"),0<u.length&&(s=new Ko("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=el)))}function Xa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var nl={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Yp={},H_={};Hr&&(H_=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function Wa(r){if(Yp[r])return Yp[r];if(!nl[r])return r;var s=nl[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in H_)return Yp[r]=s[o];return r}var F_=Wa("animationend"),q_=Wa("animationiteration"),$_=Wa("animationstart"),dx=Wa("transitionrun"),px=Wa("transitionstart"),mx=Wa("transitioncancel"),G_=Wa("transitionend"),K_=new Map,Xp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xp.push("scrollEnd");function Fr(r,s){K_.set(r,s),zr(s,[r])}var Q_=new WeakMap;function Rr(r,s){if(typeof r=="object"&&r!==null){var o=Q_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:qo(s)},Q_.set(r,s),s)}return{value:r,source:s,stack:qo(s)}}var Cr=[],rl=0,Wp=0;function ih(){for(var r=rl,s=Wp=rl=0;s<r;){var o=Cr[s];Cr[s++]=null;var u=Cr[s];Cr[s++]=null;var h=Cr[s];Cr[s++]=null;var m=Cr[s];if(Cr[s++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}m!==0&&Y_(o,h,m)}}function sh(r,s,o,u){Cr[rl++]=r,Cr[rl++]=s,Cr[rl++]=o,Cr[rl++]=u,Wp|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Zp(r,s,o,u){return sh(r,s,o,u),ah(r)}function il(r,s){return sh(r,null,null,s),ah(r)}function Y_(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&s!==null&&(h=31-ke(o),r=m.hiddenUpdates,u=r[h],u===null?r[h]=[s]:u.push(s),s.lane=o|536870912),m):null}function ah(r){if(50<cc)throw cc=0,ig=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var sl={};function gx(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(r,s,o,u){return new gx(r,s,o,u)}function Jp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Hi(r,s){var o=r.alternate;return o===null?(o=hr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function X_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function oh(r,s,o,u,h,m){var b=0;if(u=r,typeof r=="function")Jp(r)&&(b=1);else if(typeof r=="string")b=vI(r,o,ht.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case x:return r=hr(31,o,s,h),r.elementType=x,r.lanes=m,r;case M:return Za(o.children,h,m,s);case j:b=8,h|=24;break;case I:return r=hr(12,o,s,h|2),r.elementType=I,r.lanes=m,r;case tt:return r=hr(13,o,s,h),r.elementType=tt,r.lanes=m,r;case rt:return r=hr(19,o,s,h),r.elementType=rt,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:case q:b=10;break t;case Y:b=9;break t;case X:b=11;break t;case D:b=14;break t;case A:b=16,u=null;break t}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=hr(b,o,s,h),s.elementType=r,s.type=u,s.lanes=m,s}function Za(r,s,o,u){return r=hr(7,r,u,s),r.lanes=o,r}function tm(r,s,o){return r=hr(6,r,null,s),r.lanes=o,r}function em(r,s,o){return s=hr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var al=[],ol=0,lh=null,uh=0,xr=[],Ir=0,Ja=null,Fi=1,qi="";function to(r,s){al[ol++]=uh,al[ol++]=lh,lh=r,uh=s}function W_(r,s,o){xr[Ir++]=Fi,xr[Ir++]=qi,xr[Ir++]=Ja,Ja=r;var u=Fi;r=qi;var h=32-ke(u)-1;u&=~(1<<h),o+=1;var m=32-ke(s)+h;if(30<m){var b=h-h%5;m=(u&(1<<b)-1).toString(32),u>>=b,h-=b,Fi=1<<32-ke(s)+h|o<<h|u,qi=m+r}else Fi=1<<m|o<<h|u,qi=r}function nm(r){r.return!==null&&(to(r,1),W_(r,1,0))}function rm(r){for(;r===lh;)lh=al[--ol],al[ol]=null,uh=al[--ol],al[ol]=null;for(;r===Ja;)Ja=xr[--Ir],xr[Ir]=null,qi=xr[--Ir],xr[Ir]=null,Fi=xr[--Ir],xr[Ir]=null}var Fn=null,je=null,ue=!1,eo=null,ui=!1,im=Error(i(519));function no(r){var s=Error(i(418,""));throw Hu(Rr(s,r)),im}function Z_(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Ie]=r,s[ae]=u,o){case"dialog":Yt("cancel",s),Yt("close",s);break;case"iframe":case"object":case"embed":Yt("load",s);break;case"video":case"audio":for(o=0;o<hc.length;o++)Yt(hc[o],s);break;case"source":Yt("error",s);break;case"img":case"image":case"link":Yt("error",s),Yt("load",s);break;case"details":Yt("toggle",s);break;case"input":Yt("invalid",s),Ba(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),$o(s);break;case"select":Yt("invalid",s);break;case"textarea":Yt("invalid",s),za(s,u.value,u.defaultValue,u.children),$o(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||mb(s.textContent,o)?(u.popover!=null&&(Yt("beforetoggle",s),Yt("toggle",s)),u.onScroll!=null&&Yt("scroll",s),u.onScrollEnd!=null&&Yt("scrollend",s),u.onClick!=null&&(s.onclick=Fh),s=!0):s=!1,s||no(r)}function J_(r){for(Fn=r.return;Fn;)switch(Fn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Fn=Fn.return}}function Bu(r){if(r!==Fn)return!1;if(!ue)return J_(r),ue=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Eg(r.type,r.memoizedProps)),o=!o),o&&je&&no(r),J_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){je=$r(r.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}je=null}}else s===27?(s=je,qs(r.type)?(r=Sg,Sg=null,je=r):je=s):je=Fn?$r(r.stateNode.nextSibling):null;return!0}function zu(){je=Fn=null,ue=!1}function t0(){var r=eo;return r!==null&&(Zn===null?Zn=r:Zn.push.apply(Zn,r),eo=null),r}function Hu(r){eo===null?eo=[r]:eo.push(r)}var sm=Z(null),ro=null,$i=null;function Is(r,s,o){et(sm,s._currentValue),s._currentValue=o}function Gi(r){r._currentValue=sm.current,ot(sm)}function am(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function om(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;t:for(;m!==null;){var R=m;m=h;for(var U=0;U<s.length;U++)if(R.context===s[U]){m.lanes|=o,R=m.alternate,R!==null&&(R.lanes|=o),am(m.return,o,r),u||(b=null);break t}m=R.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=o,m=b.alternate,m!==null&&(m.lanes|=o),am(b,o,r),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===r){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Fu(r,s,o,u){r=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var R=h.type;fr(h.pendingProps.value,b.value)||(r!==null?r.push(R):r=[R])}}else if(h===Xt.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(vc):r=[vc])}h=h.return}r!==null&&om(s,r,o,u),s.flags|=262144}function ch(r){for(r=r.firstContext;r!==null;){if(!fr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function io(r){ro=r,$i=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Nn(r){return e0(ro,r)}function fh(r,s){return ro===null&&io(r),e0(r,s)}function e0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},$i===null){if(r===null)throw Error(i(308));$i=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else $i=$i.next=s;return o}var yx=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},vx=n.unstable_scheduleCallback,_x=n.unstable_NormalPriority,ln={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new yx,data:new Map,refCount:0}}function qu(r){r.refCount--,r.refCount===0&&vx(_x,function(){r.controller.abort()})}var $u=null,um=0,ll=0,ul=null;function Ex(r,s){if($u===null){var o=$u=[];um=0,ll=fg(),ul={status:"pending",value:void 0,then:function(u){o.push(u)}}}return um++,s.then(n0,n0),s}function n0(){if(--um===0&&$u!==null){ul!==null&&(ul.status="fulfilled");var r=$u;$u=null,ll=0,ul=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function bx(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var r0=H.S;H.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ex(r,s),r0!==null&&r0(r,s)};var so=Z(null);function cm(){var r=so.current;return r!==null?r:Se.pooledCache}function hh(r,s){s===null?et(so,so.current):et(so,s.pool)}function i0(){var r=cm();return r===null?null:{parent:ln._currentValue,pool:r}}var Gu=Error(i(460)),s0=Error(i(474)),dh=Error(i(542)),fm={then:function(){}};function a0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ph(){}function o0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ph,ph),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,u0(r),r;default:if(typeof s.status=="string")s.then(ph,ph);else{if(r=Se,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,u0(r),r}throw Ku=s,Gu}}var Ku=null;function l0(){if(Ku===null)throw Error(i(459));var r=Ku;return Ku=null,r}function u0(r){if(r===Gu||r===dh)throw Error(i(483))}var Os=!1;function hm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ns(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ds(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ge&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=ah(r),Y_(r,null,o),s}return sh(r,u,s,o),ah(r)}function Qu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,xe(r,o)}}function pm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,o=o.next}while(o!==null);m===null?h=m=s:m=m.next=s}else h=m=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var mm=!1;function Yu(){if(mm){var r=ul;if(r!==null)throw r}}function Xu(r,s,o,u){mm=!1;var h=r.updateQueue;Os=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var U=R,Q=U.next;U.next=null,b===null?m=Q:b.next=Q,b=U;var st=r.alternate;st!==null&&(st=st.updateQueue,R=st.lastBaseUpdate,R!==b&&(R===null?st.firstBaseUpdate=Q:R.next=Q,st.lastBaseUpdate=U))}if(m!==null){var lt=h.baseState;b=0,st=Q=U=null,R=m;do{var W=R.lane&-536870913,J=W!==R.lane;if(J?(ie&W)===W:(u&W)===W){W!==0&&W===ll&&(mm=!0),st!==null&&(st=st.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Lt=r,Dt=R;W=s;var be=o;switch(Dt.tag){case 1:if(Lt=Dt.payload,typeof Lt=="function"){lt=Lt.call(be,lt,W);break t}lt=Lt;break t;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Dt.payload,W=typeof Lt=="function"?Lt.call(be,lt,W):Lt,W==null)break t;lt=_({},lt,W);break t;case 2:Os=!0}}W=R.callback,W!==null&&(r.flags|=64,J&&(r.flags|=8192),J=h.callbacks,J===null?h.callbacks=[W]:J.push(W))}else J={lane:W,tag:R.tag,payload:R.payload,callback:R.callback,next:null},st===null?(Q=st=J,U=lt):st=st.next=J,b|=W;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;J=R,R=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);st===null&&(U=lt),h.baseState=U,h.firstBaseUpdate=Q,h.lastBaseUpdate=st,m===null&&(h.shared.lanes=0),Bs|=b,r.lanes=b,r.memoizedState=lt}}function c0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function f0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)c0(o[r],s)}var cl=Z(null),mh=Z(0);function h0(r,s){r=Ji,et(mh,r),et(cl,s),Ji=r|s.baseLanes}function gm(){et(mh,Ji),et(cl,cl.current)}function ym(){Ji=mh.current,ot(cl),ot(mh)}var Ms=0,qt=null,_e=null,Ze=null,gh=!1,fl=!1,ao=!1,yh=0,Wu=0,hl=null,Tx=0;function $e(){throw Error(i(321))}function vm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!fr(r[o],s[o]))return!1;return!0}function _m(r,s,o,u,h,m){return Ms=m,qt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=r===null||r.memoizedState===null?Y0:X0,ao=!1,m=o(u,h),ao=!1,fl&&(m=p0(s,o,u,h)),d0(r),m}function d0(r){H.H=wh;var s=_e!==null&&_e.next!==null;if(Ms=0,Ze=_e=qt=null,gh=!1,Wu=0,hl=null,s)throw Error(i(300));r===null||yn||(r=r.dependencies,r!==null&&ch(r)&&(yn=!0))}function p0(r,s,o,u){qt=r;var h=0;do{if(fl&&(hl=null),Wu=0,fl=!1,25<=h)throw Error(i(301));if(h+=1,Ze=_e=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=Ix,m=s(o,u)}while(fl);return m}function wx(){var r=H.H,s=r.useState()[0];return s=typeof s.then=="function"?Zu(s):s,r=r.useState()[0],(_e!==null?_e.memoizedState:null)!==r&&(qt.flags|=1024),s}function Em(){var r=yh!==0;return yh=0,r}function bm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Tm(r){if(gh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gh=!1}Ms=0,Ze=_e=qt=null,fl=!1,Wu=yh=0,hl=null}function Xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?qt.memoizedState=Ze=r:Ze=Ze.next=r,Ze}function Je(){if(_e===null){var r=qt.alternate;r=r!==null?r.memoizedState:null}else r=_e.next;var s=Ze===null?qt.memoizedState:Ze.next;if(s!==null)Ze=s,_e=r;else{if(r===null)throw qt.alternate===null?Error(i(467)):Error(i(310));_e=r,r={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ze===null?qt.memoizedState=Ze=r:Ze=Ze.next=r}return Ze}function wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zu(r){var s=Wu;return Wu+=1,hl===null&&(hl=[]),r=o0(hl,r,s),s=qt,(Ze===null?s.memoizedState:Ze.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?Y0:X0),r}function vh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Zu(r);if(r.$$typeof===q)return Nn(r)}throw Error(i(438,String(r)))}function Sm(r){var s=null,o=qt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=qt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=wm(),qt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=k;return s.index++,o}function Ki(r,s){return typeof s=="function"?s(r):s}function _h(r){var s=Je();return Am(s,_e,r)}function Am(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,m=u.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}s.baseQueue=h=m,u.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{s=h.next;var R=b=null,U=null,Q=s,st=!1;do{var lt=Q.lane&-536870913;if(lt!==Q.lane?(ie&lt)===lt:(Ms&lt)===lt){var W=Q.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),lt===ll&&(st=!0);else if((Ms&W)===W){Q=Q.next,W===ll&&(st=!0);continue}else lt={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(R=U=lt,b=m):U=U.next=lt,qt.lanes|=W,Bs|=W;lt=Q.action,ao&&o(m,lt),m=Q.hasEagerState?Q.eagerState:o(m,lt)}else W={lane:lt,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(R=U=W,b=m):U=U.next=W,qt.lanes|=lt,Bs|=lt;Q=Q.next}while(Q!==null&&Q!==s);if(U===null?b=m:U.next=R,!fr(m,r.memoizedState)&&(yn=!0,st&&(o=ul,o!==null)))throw o;r.memoizedState=m,r.baseState=b,r.baseQueue=U,u.lastRenderedState=m}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Rm(r){var s=Je(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,m=s.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do m=r(m,b.action),b=b.next;while(b!==h);fr(m,s.memoizedState)||(yn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function m0(r,s,o){var u=qt,h=Je(),m=ue;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!fr((_e||h).memoizedState,o);b&&(h.memoizedState=o,yn=!0),h=h.queue;var R=v0.bind(null,u,h,r);if(Ju(2048,8,R,[r]),h.getSnapshot!==s||b||Ze!==null&&Ze.memoizedState.tag&1){if(u.flags|=2048,dl(9,Eh(),y0.bind(null,u,h,o,s),null),Se===null)throw Error(i(349));m||(Ms&124)!==0||g0(u,s,o)}return o}function g0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=qt.updateQueue,s===null?(s=wm(),qt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function y0(r,s,o,u){s.value=o,s.getSnapshot=u,_0(s)&&E0(r)}function v0(r,s,o){return o(function(){_0(s)&&E0(r)})}function _0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!fr(r,o)}catch{return!0}}function E0(r){var s=il(r,2);s!==null&&yr(s,r,2)}function Cm(r){var s=Xn();if(typeof r=="function"){var o=r;if(r=o(),ao){Ce(!0);try{o()}finally{Ce(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:r},s}function b0(r,s,o,u){return r.baseState=o,Am(r,_e,typeof u=="function"?u:Ki)}function Sx(r,s,o,u,h){if(Th(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};H.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,T0(s,m)):(m.next=o.next,s.pending=o.next=m)}}function T0(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var m=H.T,b={};H.T=b;try{var R=o(h,u),U=H.S;U!==null&&U(b,R),w0(r,s,R)}catch(Q){xm(r,s,Q)}finally{H.T=m}}else try{m=o(h,u),w0(r,s,m)}catch(Q){xm(r,s,Q)}}function w0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){S0(r,s,u)},function(u){return xm(r,s,u)}):S0(r,s,o)}function S0(r,s,o){s.status="fulfilled",s.value=o,A0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,T0(r,o)))}function xm(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,A0(s),s=s.next;while(s!==u)}r.action=null}function A0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function R0(r,s){return s}function C0(r,s){if(ue){var o=Se.formState;if(o!==null){t:{var u=qt;if(ue){if(je){e:{for(var h=je,m=ui;h.nodeType!==8;){if(!m){h=null;break e}if(h=$r(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){je=$r(h.nextSibling),u=h.data==="F!";break t}}no(u)}u=!1}u&&(s=o[0])}}return o=Xn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:s},o.queue=u,o=G0.bind(null,qt,u),u.dispatch=o,u=Cm(!1),m=Mm.bind(null,qt,!1,u.queue),u=Xn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=Sx.bind(null,qt,h,m,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function x0(r){var s=Je();return I0(s,_e,r)}function I0(r,s,o){if(s=Am(r,s,R0)[0],r=_h(Ki)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Zu(s)}catch(b){throw b===Gu?dh:b}else u=s;s=Je();var h=s.queue,m=h.dispatch;return o!==s.memoizedState&&(qt.flags|=2048,dl(9,Eh(),Ax.bind(null,h,o),null)),[u,m,r]}function Ax(r,s){r.action=s}function O0(r){var s=Je(),o=_e;if(o!==null)return I0(s,o,r);Je(),s=s.memoizedState,o=Je();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function dl(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=qt.updateQueue,s===null&&(s=wm(),qt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Eh(){return{destroy:void 0,resource:void 0}}function N0(){return Je().memoizedState}function bh(r,s,o,u){var h=Xn();u=u===void 0?null:u,qt.flags|=r,h.memoizedState=dl(1|s,Eh(),o,u)}function Ju(r,s,o,u){var h=Je();u=u===void 0?null:u;var m=h.memoizedState.inst;_e!==null&&u!==null&&vm(u,_e.memoizedState.deps)?h.memoizedState=dl(s,m,o,u):(qt.flags|=r,h.memoizedState=dl(1|s,m,o,u))}function D0(r,s){bh(8390656,8,r,s)}function M0(r,s){Ju(2048,8,r,s)}function k0(r,s){return Ju(4,2,r,s)}function P0(r,s){return Ju(4,4,r,s)}function V0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function L0(r,s,o){o=o!=null?o.concat([r]):null,Ju(4,4,V0.bind(null,s,r),o)}function Im(){}function U0(r,s){var o=Je();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&vm(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function j0(r,s){var o=Je();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&vm(s,u[1]))return u[0];if(u=r(),ao){Ce(!0);try{r()}finally{Ce(!1)}}return o.memoizedState=[u,s],u}function Om(r,s,o){return o===void 0||(Ms&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=HE(),qt.lanes|=r,Bs|=r,o)}function B0(r,s,o,u){return fr(o,s)?o:cl.current!==null?(r=Om(r,o,u),fr(r,s)||(yn=!0),r):(Ms&42)===0?(yn=!0,r.memoizedState=o):(r=HE(),qt.lanes|=r,Bs|=r,s)}function z0(r,s,o,u,h){var m=it.p;it.p=m!==0&&8>m?m:8;var b=H.T,R={};H.T=R,Mm(r,!1,s,o);try{var U=h(),Q=H.S;if(Q!==null&&Q(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var st=bx(U,u);tc(r,s,st,gr(r))}else tc(r,s,u,gr(r))}catch(lt){tc(r,s,{then:function(){},status:"rejected",reason:lt},gr())}finally{it.p=m,H.T=b}}function Rx(){}function Nm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=H0(r).queue;z0(r,h,s,dt,o===null?Rx:function(){return F0(r),o(u)})}function H0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:dt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function F0(r){var s=H0(r).next.queue;tc(r,s,{},gr())}function Dm(){return Nn(vc)}function q0(){return Je().memoizedState}function $0(){return Je().memoizedState}function Cx(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=gr();r=Ns(o);var u=Ds(s,r,o);u!==null&&(yr(u,s,o),Qu(u,s,o)),s={cache:lm()},r.payload=s;return}s=s.return}}function xx(r,s,o){var u=gr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Th(r)?K0(s,o):(o=Zp(r,s,o,u),o!==null&&(yr(o,r,u),Q0(o,s,u)))}function G0(r,s,o){var u=gr();tc(r,s,o,u)}function tc(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Th(r))K0(s,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,R=m(b,o);if(h.hasEagerState=!0,h.eagerState=R,fr(R,b))return sh(r,s,h,0),Se===null&&ih(),!1}catch{}finally{}if(o=Zp(r,s,h,u),o!==null)return yr(o,r,u),Q0(o,s,u),!0}return!1}function Mm(r,s,o,u){if(u={lane:2,revertLane:fg(),action:u,hasEagerState:!1,eagerState:null,next:null},Th(r)){if(s)throw Error(i(479))}else s=Zp(r,o,u,2),s!==null&&yr(s,r,2)}function Th(r){var s=r.alternate;return r===qt||s!==null&&s===qt}function K0(r,s){fl=gh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Q0(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,xe(r,o)}}var wh={readContext:Nn,use:vh,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e},Y0={readContext:Nn,use:vh,useCallback:function(r,s){return Xn().memoizedState=[r,s===void 0?null:s],r},useContext:Nn,useEffect:D0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,bh(4194308,4,V0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return bh(4194308,4,r,s)},useInsertionEffect:function(r,s){bh(4,2,r,s)},useMemo:function(r,s){var o=Xn();s=s===void 0?null:s;var u=r();if(ao){Ce(!0);try{r()}finally{Ce(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Xn();if(o!==void 0){var h=o(s);if(ao){Ce(!0);try{o(s)}finally{Ce(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=xx.bind(null,qt,r),[u.memoizedState,r]},useRef:function(r){var s=Xn();return r={current:r},s.memoizedState=r},useState:function(r){r=Cm(r);var s=r.queue,o=G0.bind(null,qt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Im,useDeferredValue:function(r,s){var o=Xn();return Om(o,r,s)},useTransition:function(){var r=Cm(!1);return r=z0.bind(null,qt,r.queue,!0,!1),Xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=qt,h=Xn();if(ue){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Se===null)throw Error(i(349));(ie&124)!==0||g0(u,s,o)}h.memoizedState=o;var m={value:o,getSnapshot:s};return h.queue=m,D0(v0.bind(null,u,m,r),[r]),u.flags|=2048,dl(9,Eh(),y0.bind(null,u,m,o,s),null),o},useId:function(){var r=Xn(),s=Se.identifierPrefix;if(ue){var o=qi,u=Fi;o=(u&~(1<<32-ke(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=yh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=Tx++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Dm,useFormState:C0,useActionState:C0,useOptimistic:function(r){var s=Xn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Mm.bind(null,qt,!0,o),o.dispatch=s,[r,s]},useMemoCache:Sm,useCacheRefresh:function(){return Xn().memoizedState=Cx.bind(null,qt)}},X0={readContext:Nn,use:vh,useCallback:U0,useContext:Nn,useEffect:M0,useImperativeHandle:L0,useInsertionEffect:k0,useLayoutEffect:P0,useMemo:j0,useReducer:_h,useRef:N0,useState:function(){return _h(Ki)},useDebugValue:Im,useDeferredValue:function(r,s){var o=Je();return B0(o,_e.memoizedState,r,s)},useTransition:function(){var r=_h(Ki)[0],s=Je().memoizedState;return[typeof r=="boolean"?r:Zu(r),s]},useSyncExternalStore:m0,useId:q0,useHostTransitionStatus:Dm,useFormState:x0,useActionState:x0,useOptimistic:function(r,s){var o=Je();return b0(o,_e,r,s)},useMemoCache:Sm,useCacheRefresh:$0},Ix={readContext:Nn,use:vh,useCallback:U0,useContext:Nn,useEffect:M0,useImperativeHandle:L0,useInsertionEffect:k0,useLayoutEffect:P0,useMemo:j0,useReducer:Rm,useRef:N0,useState:function(){return Rm(Ki)},useDebugValue:Im,useDeferredValue:function(r,s){var o=Je();return _e===null?Om(o,r,s):B0(o,_e.memoizedState,r,s)},useTransition:function(){var r=Rm(Ki)[0],s=Je().memoizedState;return[typeof r=="boolean"?r:Zu(r),s]},useSyncExternalStore:m0,useId:q0,useHostTransitionStatus:Dm,useFormState:O0,useActionState:O0,useOptimistic:function(r,s){var o=Je();return _e!==null?b0(o,_e,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:$0},pl=null,ec=0;function Sh(r){var s=ec;return ec+=1,pl===null&&(pl=[]),o0(pl,r,s)}function nc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Ah(r,s){throw s.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function W0(r){var s=r._init;return s(r._payload)}function Z0(r){function s(F,z){if(r){var G=F.deletions;G===null?(F.deletions=[z],F.flags|=16):G.push(z)}}function o(F,z){if(!r)return null;for(;z!==null;)s(F,z),z=z.sibling;return null}function u(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function h(F,z){return F=Hi(F,z),F.index=0,F.sibling=null,F}function m(F,z,G){return F.index=G,r?(G=F.alternate,G!==null?(G=G.index,G<z?(F.flags|=67108866,z):G):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function b(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function R(F,z,G,at){return z===null||z.tag!==6?(z=tm(G,F.mode,at),z.return=F,z):(z=h(z,G),z.return=F,z)}function U(F,z,G,at){var bt=G.type;return bt===M?st(F,z,G.props.children,at,G.key):z!==null&&(z.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===A&&W0(bt)===z.type)?(z=h(z,G.props),nc(z,G),z.return=F,z):(z=oh(G.type,G.key,G.props,null,F.mode,at),nc(z,G),z.return=F,z)}function Q(F,z,G,at){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=em(G,F.mode,at),z.return=F,z):(z=h(z,G.children||[]),z.return=F,z)}function st(F,z,G,at,bt){return z===null||z.tag!==7?(z=Za(G,F.mode,at,bt),z.return=F,z):(z=h(z,G),z.return=F,z)}function lt(F,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=tm(""+z,F.mode,G),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return G=oh(z.type,z.key,z.props,null,F.mode,G),nc(G,z),G.return=F,G;case O:return z=em(z,F.mode,G),z.return=F,z;case A:var at=z._init;return z=at(z._payload),lt(F,z,G)}if(St(z)||V(z))return z=Za(z,F.mode,G,null),z.return=F,z;if(typeof z.then=="function")return lt(F,Sh(z),G);if(z.$$typeof===q)return lt(F,fh(F,z),G);Ah(F,z)}return null}function W(F,z,G,at){var bt=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return bt!==null?null:R(F,z,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===bt?U(F,z,G,at):null;case O:return G.key===bt?Q(F,z,G,at):null;case A:return bt=G._init,G=bt(G._payload),W(F,z,G,at)}if(St(G)||V(G))return bt!==null?null:st(F,z,G,at,null);if(typeof G.then=="function")return W(F,z,Sh(G),at);if(G.$$typeof===q)return W(F,z,fh(F,G),at);Ah(F,G)}return null}function J(F,z,G,at,bt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return F=F.get(G)||null,R(z,F,""+at,bt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case T:return F=F.get(at.key===null?G:at.key)||null,U(z,F,at,bt);case O:return F=F.get(at.key===null?G:at.key)||null,Q(z,F,at,bt);case A:var Gt=at._init;return at=Gt(at._payload),J(F,z,G,at,bt)}if(St(at)||V(at))return F=F.get(G)||null,st(z,F,at,bt,null);if(typeof at.then=="function")return J(F,z,G,Sh(at),bt);if(at.$$typeof===q)return J(F,z,G,fh(z,at),bt);Ah(z,at)}return null}function Lt(F,z,G,at){for(var bt=null,Gt=null,Rt=z,kt=z=0,_n=null;Rt!==null&&kt<G.length;kt++){Rt.index>kt?(_n=Rt,Rt=null):_n=Rt.sibling;var oe=W(F,Rt,G[kt],at);if(oe===null){Rt===null&&(Rt=_n);break}r&&Rt&&oe.alternate===null&&s(F,Rt),z=m(oe,z,kt),Gt===null?bt=oe:Gt.sibling=oe,Gt=oe,Rt=_n}if(kt===G.length)return o(F,Rt),ue&&to(F,kt),bt;if(Rt===null){for(;kt<G.length;kt++)Rt=lt(F,G[kt],at),Rt!==null&&(z=m(Rt,z,kt),Gt===null?bt=Rt:Gt.sibling=Rt,Gt=Rt);return ue&&to(F,kt),bt}for(Rt=u(Rt);kt<G.length;kt++)_n=J(Rt,F,kt,G[kt],at),_n!==null&&(r&&_n.alternate!==null&&Rt.delete(_n.key===null?kt:_n.key),z=m(_n,z,kt),Gt===null?bt=_n:Gt.sibling=_n,Gt=_n);return r&&Rt.forEach(function(Ys){return s(F,Ys)}),ue&&to(F,kt),bt}function Dt(F,z,G,at){if(G==null)throw Error(i(151));for(var bt=null,Gt=null,Rt=z,kt=z=0,_n=null,oe=G.next();Rt!==null&&!oe.done;kt++,oe=G.next()){Rt.index>kt?(_n=Rt,Rt=null):_n=Rt.sibling;var Ys=W(F,Rt,oe.value,at);if(Ys===null){Rt===null&&(Rt=_n);break}r&&Rt&&Ys.alternate===null&&s(F,Rt),z=m(Ys,z,kt),Gt===null?bt=Ys:Gt.sibling=Ys,Gt=Ys,Rt=_n}if(oe.done)return o(F,Rt),ue&&to(F,kt),bt;if(Rt===null){for(;!oe.done;kt++,oe=G.next())oe=lt(F,oe.value,at),oe!==null&&(z=m(oe,z,kt),Gt===null?bt=oe:Gt.sibling=oe,Gt=oe);return ue&&to(F,kt),bt}for(Rt=u(Rt);!oe.done;kt++,oe=G.next())oe=J(Rt,F,kt,oe.value,at),oe!==null&&(r&&oe.alternate!==null&&Rt.delete(oe.key===null?kt:oe.key),z=m(oe,z,kt),Gt===null?bt=oe:Gt.sibling=oe,Gt=oe);return r&&Rt.forEach(function(OI){return s(F,OI)}),ue&&to(F,kt),bt}function be(F,z,G,at){if(typeof G=="object"&&G!==null&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:t:{for(var bt=G.key;z!==null;){if(z.key===bt){if(bt=G.type,bt===M){if(z.tag===7){o(F,z.sibling),at=h(z,G.props.children),at.return=F,F=at;break t}}else if(z.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===A&&W0(bt)===z.type){o(F,z.sibling),at=h(z,G.props),nc(at,G),at.return=F,F=at;break t}o(F,z);break}else s(F,z);z=z.sibling}G.type===M?(at=Za(G.props.children,F.mode,at,G.key),at.return=F,F=at):(at=oh(G.type,G.key,G.props,null,F.mode,at),nc(at,G),at.return=F,F=at)}return b(F);case O:t:{for(bt=G.key;z!==null;){if(z.key===bt)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(F,z.sibling),at=h(z,G.children||[]),at.return=F,F=at;break t}else{o(F,z);break}else s(F,z);z=z.sibling}at=em(G,F.mode,at),at.return=F,F=at}return b(F);case A:return bt=G._init,G=bt(G._payload),be(F,z,G,at)}if(St(G))return Lt(F,z,G,at);if(V(G)){if(bt=V(G),typeof bt!="function")throw Error(i(150));return G=bt.call(G),Dt(F,z,G,at)}if(typeof G.then=="function")return be(F,z,Sh(G),at);if(G.$$typeof===q)return be(F,z,fh(F,G),at);Ah(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(F,z.sibling),at=h(z,G),at.return=F,F=at):(o(F,z),at=tm(G,F.mode,at),at.return=F,F=at),b(F)):o(F,z)}return function(F,z,G,at){try{ec=0;var bt=be(F,z,G,at);return pl=null,bt}catch(Rt){if(Rt===Gu||Rt===dh)throw Rt;var Gt=hr(29,Rt,null,F.mode);return Gt.lanes=at,Gt.return=F,Gt}finally{}}}var ml=Z0(!0),J0=Z0(!1),Or=Z(null),ci=null;function ks(r){var s=r.alternate;et(un,un.current&1),et(Or,r),ci===null&&(s===null||cl.current!==null||s.memoizedState!==null)&&(ci=r)}function tE(r){if(r.tag===22){if(et(un,un.current),et(Or,r),ci===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(ci=r)}}else Ps()}function Ps(){et(un,un.current),et(Or,Or.current)}function Qi(r){ot(Or),ci===r&&(ci=null),ot(un)}var un=Z(0);function Rh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||wg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function km(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Pm={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=gr(),h=Ns(u);h.payload=s,o!=null&&(h.callback=o),s=Ds(r,h,u),s!==null&&(yr(s,r,u),Qu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=gr(),h=Ns(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Ds(r,h,u),s!==null&&(yr(s,r,u),Qu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=gr(),u=Ns(o);u.tag=2,s!=null&&(u.callback=s),s=Ds(r,u,o),s!==null&&(yr(s,r,o),Qu(s,r,o))}};function eE(r,s,o,u,h,m,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,b):s.prototype&&s.prototype.isPureReactComponent?!Uu(o,u)||!Uu(h,m):!0}function nE(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Pm.enqueueReplaceState(s,s.state,null)}function oo(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=_({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Ch=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function rE(r){Ch(r)}function iE(r){console.error(r)}function sE(r){Ch(r)}function xh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function aE(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vm(r,s,o){return o=Ns(o),o.tag=3,o.payload={element:null},o.callback=function(){xh(r,s)},o}function oE(r){return r=Ns(r),r.tag=3,r}function lE(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;r.payload=function(){return h(m)},r.callback=function(){aE(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){aE(s,o,u),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function Ox(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Fu(s,o,h,!0),o=Or.current,o!==null){switch(o.tag){case 13:return ci===null?ag():o.alternate===null&&Be===0&&(Be=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===fm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),lg(r,u,h)),!1;case 22:return o.flags|=65536,u===fm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),lg(r,u,h)),!1}throw Error(i(435,o.tag))}return lg(r,u,h),ag(),!1}if(ue)return s=Or.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==im&&(r=Error(i(422),{cause:u}),Hu(Rr(r,o)))):(u!==im&&(s=Error(i(423),{cause:u}),Hu(Rr(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Rr(u,o),h=Vm(r.stateNode,u,h),pm(r,h),Be!==4&&(Be=2)),!1;var m=Error(i(520),{cause:u});if(m=Rr(m,o),uc===null?uc=[m]:uc.push(m),Be!==4&&(Be=2),s===null)return!0;u=Rr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Vm(o.stateNode,u,r),pm(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(zs===null||!zs.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=oE(h),lE(h,r,o,u),pm(o,h),!1}o=o.return}while(o!==null);return!1}var uE=Error(i(461)),yn=!1;function Sn(r,s,o,u){s.child=r===null?J0(s,null,o,u):ml(s,r.child,o,u)}function cE(r,s,o,u,h){o=o.render;var m=s.ref;if("ref"in u){var b={};for(var R in u)R!=="ref"&&(b[R]=u[R])}else b=u;return io(s),u=_m(r,s,o,b,m,h),R=Em(),r!==null&&!yn?(bm(r,s,h),Yi(r,s,h)):(ue&&R&&nm(s),s.flags|=1,Sn(r,s,u,h),s.child)}function fE(r,s,o,u,h){if(r===null){var m=o.type;return typeof m=="function"&&!Jp(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,hE(r,s,m,u,h)):(r=oh(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!qm(r,h)){var b=m.memoizedProps;if(o=o.compare,o=o!==null?o:Uu,o(b,u)&&r.ref===s.ref)return Yi(r,s,h)}return s.flags|=1,r=Hi(m,u),r.ref=s.ref,r.return=s,s.child=r}function hE(r,s,o,u,h){if(r!==null){var m=r.memoizedProps;if(Uu(m,u)&&r.ref===s.ref)if(yn=!1,s.pendingProps=u=m,qm(r,h))(r.flags&131072)!==0&&(yn=!0);else return s.lanes=r.lanes,Yi(r,s,h)}return Lm(r,s,o,u,h)}function dE(r,s,o){var u=s.pendingProps,h=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,r!==null){for(h=s.child=r.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return pE(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&hh(s,m!==null?m.cachePool:null),m!==null?h0(s,m):gm(),tE(s);else return s.lanes=s.childLanes=536870912,pE(r,s,m!==null?m.baseLanes|o:o,o)}else m!==null?(hh(s,m.cachePool),h0(s,m),Ps(),s.memoizedState=null):(r!==null&&hh(s,null),gm(),Ps());return Sn(r,s,h,o),s.child}function pE(r,s,o,u){var h=cm();return h=h===null?null:{parent:ln._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&hh(s,null),gm(),tE(s),r!==null&&Fu(r,s,u,!0),null}function Ih(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Lm(r,s,o,u,h){return io(s),o=_m(r,s,o,u,void 0,h),u=Em(),r!==null&&!yn?(bm(r,s,h),Yi(r,s,h)):(ue&&u&&nm(s),s.flags|=1,Sn(r,s,o,h),s.child)}function mE(r,s,o,u,h,m){return io(s),s.updateQueue=null,o=p0(s,u,o,h),d0(r),u=Em(),r!==null&&!yn?(bm(r,s,m),Yi(r,s,m)):(ue&&u&&nm(s),s.flags|=1,Sn(r,s,o,m),s.child)}function gE(r,s,o,u,h){if(io(s),s.stateNode===null){var m=sl,b=o.contextType;typeof b=="object"&&b!==null&&(m=Nn(b)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Pm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},hm(s),b=o.contextType,m.context=typeof b=="object"&&b!==null?Nn(b):sl,m.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(km(s,o,b,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Pm.enqueueReplaceState(m,m.state,null),Xu(s,u,m,h),Yu(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var R=s.memoizedProps,U=oo(o,R);m.props=U;var Q=m.context,st=o.contextType;b=sl,typeof st=="object"&&st!==null&&(b=Nn(st));var lt=o.getDerivedStateFromProps;st=typeof lt=="function"||typeof m.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,st||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(R||Q!==b)&&nE(s,m,u,b),Os=!1;var W=s.memoizedState;m.state=W,Xu(s,u,m,h),Yu(),Q=s.memoizedState,R||W!==Q||Os?(typeof lt=="function"&&(km(s,o,lt,u),Q=s.memoizedState),(U=Os||eE(s,o,U,u,W,Q,b))?(st||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),m.props=u,m.state=Q,m.context=b,u=U):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,dm(r,s),b=s.memoizedProps,st=oo(o,b),m.props=st,lt=s.pendingProps,W=m.context,Q=o.contextType,U=sl,typeof Q=="object"&&Q!==null&&(U=Nn(Q)),R=o.getDerivedStateFromProps,(Q=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==lt||W!==U)&&nE(s,m,u,U),Os=!1,W=s.memoizedState,m.state=W,Xu(s,u,m,h),Yu();var J=s.memoizedState;b!==lt||W!==J||Os||r!==null&&r.dependencies!==null&&ch(r.dependencies)?(typeof R=="function"&&(km(s,o,R,u),J=s.memoizedState),(st=Os||eE(s,o,st,u,W,J,U)||r!==null&&r.dependencies!==null&&ch(r.dependencies))?(Q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,J,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,J,U)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),m.props=u,m.state=J,m.context=U,u=st):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,Ih(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=ml(s,r.child,null,h),s.child=ml(s,null,o,h)):Sn(r,s,o,h),s.memoizedState=m.state,r=s.child):r=Yi(r,s,h),r}function yE(r,s,o,u){return zu(),s.flags|=256,Sn(r,s,o,u),s.child}var Um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(r){return{baseLanes:r,cachePool:i0()}}function Bm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Nr),r}function vE(r,s,o){var u=s.pendingProps,h=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=r!==null&&r.memoizedState===null?!1:(un.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(ue){if(h?ks(s):Ps(),ue){var R=je,U;if(U=R){t:{for(U=R,R=ui;U.nodeType!==8;){if(!R){R=null;break t}if(U=$r(U.nextSibling),U===null){R=null;break t}}R=U}R!==null?(s.memoizedState={dehydrated:R,treeContext:Ja!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},U=hr(18,null,null,0),U.stateNode=R,U.return=s,s.child=U,Fn=s,je=null,U=!0):U=!1}U||no(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return wg(R)?s.lanes=32:s.lanes=536870912,null;Qi(s)}return R=u.children,u=u.fallback,h?(Ps(),h=s.mode,R=Oh({mode:"hidden",children:R},h),u=Za(u,h,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,h=s.child,h.memoizedState=jm(o),h.childLanes=Bm(r,b,o),s.memoizedState=Um,u):(ks(s),zm(s,R))}if(U=r.memoizedState,U!==null&&(R=U.dehydrated,R!==null)){if(m)s.flags&256?(ks(s),s.flags&=-257,s=Hm(r,s,o)):s.memoizedState!==null?(Ps(),s.child=r.child,s.flags|=128,s=null):(Ps(),h=u.fallback,R=s.mode,u=Oh({mode:"visible",children:u.children},R),h=Za(h,R,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,ml(s,r.child,null,o),u=s.child,u.memoizedState=jm(o),u.childLanes=Bm(r,b,o),s.memoizedState=Um,s=h);else if(ks(s),wg(R)){if(b=R.nextSibling&&R.nextSibling.dataset,b)var Q=b.dgst;b=Q,u=Error(i(419)),u.stack="",u.digest=b,Hu({value:u,source:null,stack:null}),s=Hm(r,s,o)}else if(yn||Fu(r,s,o,!1),b=(o&r.childLanes)!==0,yn||b){if(b=Se,b!==null&&(u=o&-o,u=(u&42)!==0?1:Ae(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==U.retryLane))throw U.retryLane=u,il(r,u),yr(b,r,u),uE;R.data==="$?"||ag(),s=Hm(r,s,o)}else R.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=U.treeContext,je=$r(R.nextSibling),Fn=s,ue=!0,eo=null,ui=!1,r!==null&&(xr[Ir++]=Fi,xr[Ir++]=qi,xr[Ir++]=Ja,Fi=r.id,qi=r.overflow,Ja=s),s=zm(s,u.children),s.flags|=4096);return s}return h?(Ps(),h=u.fallback,R=s.mode,U=r.child,Q=U.sibling,u=Hi(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Q!==null?h=Hi(Q,h):(h=Za(h,R,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,R=r.child.memoizedState,R===null?R=jm(o):(U=R.cachePool,U!==null?(Q=ln._currentValue,U=U.parent!==Q?{parent:Q,pool:Q}:U):U=i0(),R={baseLanes:R.baseLanes|o,cachePool:U}),h.memoizedState=R,h.childLanes=Bm(r,b,o),s.memoizedState=Um,u):(ks(s),o=r.child,r=o.sibling,o=Hi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function zm(r,s){return s=Oh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Oh(r,s){return r=hr(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Hm(r,s,o){return ml(s,r.child,null,o),r=zm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function _E(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),am(r.return,s,o)}function Fm(r,s,o,u,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=h)}function EE(r,s,o){var u=s.pendingProps,h=u.revealOrder,m=u.tail;if(Sn(r,s,u.children,o),u=un.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_E(r,o,s);else if(r.tag===19)_E(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(et(un,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Rh(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Fm(s,!1,h,o,m);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Rh(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Fm(s,!0,o,null,m);break;case"together":Fm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Bs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Fu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Hi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Hi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function qm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&ch(r)))}function Nx(r,s,o){switch(s.tag){case 3:xt(s,s.stateNode.containerInfo),Is(s,ln,r.memoizedState.cache),zu();break;case 27:case 5:we(s);break;case 4:xt(s,s.stateNode.containerInfo);break;case 10:Is(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ks(s),s.flags|=128,null):(o&s.child.childLanes)!==0?vE(r,s,o):(ks(s),r=Yi(r,s,o),r!==null?r.sibling:null);ks(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Fu(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return EE(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(un,un.current),u)break;return null;case 22:case 23:return s.lanes=0,dE(r,s,o);case 24:Is(s,ln,r.memoizedState.cache)}return Yi(r,s,o)}function bE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)yn=!0;else{if(!qm(r,o)&&(s.flags&128)===0)return yn=!1,Nx(r,s,o);yn=(r.flags&131072)!==0}else yn=!1,ue&&(s.flags&1048576)!==0&&W_(s,uh,s.index);switch(s.lanes=0,s.tag){case 16:t:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")Jp(u)?(r=oo(u,r),s.tag=1,s=gE(null,s,u,r,o)):(s.tag=0,s=Lm(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===X){s.tag=11,s=cE(null,s,u,r,o);break t}else if(h===D){s.tag=14,s=fE(null,s,u,r,o);break t}}throw s=Et(u)||u,Error(i(306,s,""))}}return s;case 0:return Lm(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=oo(u,s.pendingProps),gE(r,s,u,h,o);case 3:t:{if(xt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var m=s.memoizedState;h=m.element,dm(r,s),Xu(s,u,null,o);var b=s.memoizedState;if(u=b.cache,Is(s,ln,u),u!==m.cache&&om(s,[ln],o,!0),Yu(),u=b.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=yE(r,s,u,o);break t}else if(u!==h){h=Rr(Error(i(424)),s),Hu(h),s=yE(r,s,u,o);break t}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(je=$r(r.firstChild),Fn=s,ue=!0,eo=null,ui=!0,o=J0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(zu(),u===h){s=Yi(r,s,o);break t}Sn(r,s,u,o)}s=s.child}return s;case 26:return Ih(r,s),r===null?(o=Ab(s.type,null,s.pendingProps,null))?s.memoizedState=o:ue||(o=s.type,r=s.pendingProps,u=qh(pt.current).createElement(o),u[Ie]=s,u[ae]=r,Rn(u,o,r),qe(u),s.stateNode=u):s.memoizedState=Ab(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return we(s),r===null&&ue&&(u=s.stateNode=Tb(s.type,s.pendingProps,pt.current),Fn=s,ui=!0,h=je,qs(s.type)?(Sg=h,je=$r(u.firstChild)):je=h),Sn(r,s,s.pendingProps.children,o),Ih(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&ue&&((h=u=je)&&(u=sI(u,s.type,s.pendingProps,ui),u!==null?(s.stateNode=u,Fn=s,je=$r(u.firstChild),ui=!1,h=!0):h=!1),h||no(s)),we(s),h=s.type,m=s.pendingProps,b=r!==null?r.memoizedProps:null,u=m.children,Eg(h,m)?u=null:b!==null&&Eg(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=_m(r,s,wx,null,null,o),vc._currentValue=h),Ih(r,s),Sn(r,s,u,o),s.child;case 6:return r===null&&ue&&((r=o=je)&&(o=aI(o,s.pendingProps,ui),o!==null?(s.stateNode=o,Fn=s,je=null,r=!0):r=!1),r||no(s)),null;case 13:return vE(r,s,o);case 4:return xt(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=ml(s,null,u,o):Sn(r,s,u,o),s.child;case 11:return cE(r,s,s.type,s.pendingProps,o);case 7:return Sn(r,s,s.pendingProps,o),s.child;case 8:return Sn(r,s,s.pendingProps.children,o),s.child;case 12:return Sn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Is(s,s.type,u.value),Sn(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,io(s),h=Nn(h),u=u(h),s.flags|=1,Sn(r,s,u,o),s.child;case 14:return fE(r,s,s.type,s.pendingProps,o);case 15:return hE(r,s,s.type,s.pendingProps,o);case 19:return EE(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Oh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Hi(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return dE(r,s,o);case 24:return io(s),u=Nn(ln),r===null?(h=cm(),h===null&&(h=Se,m=lm(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),s.memoizedState={parent:u,cache:h},hm(s),Is(s,ln,h)):((r.lanes&o)!==0&&(dm(r,s),Xu(s,null,null,o),Yu()),h=r.memoizedState,m=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Is(s,ln,u)):(u=m.cache,Is(s,ln,u),u!==h.cache&&om(s,[ln],o,!0))),Sn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Xi(r){r.flags|=4}function TE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Ob(s)){if(s=Or.current,s!==null&&((ie&4194048)===ie?ci!==null:(ie&62914560)!==ie&&(ie&536870912)===0||s!==ci))throw Ku=fm,s0;r.flags|=8192}}function Nh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Pa():536870912,r.lanes|=s,_l|=s)}function rc(r,s){if(!ue)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Pe(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function Dx(r,s,o){var u=s.pendingProps;switch(rm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(s),null;case 1:return Pe(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Gi(ln),pe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Bu(s)?Xi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,t0())),Pe(s),null;case 26:return o=s.memoizedState,r===null?(Xi(s),o!==null?(Pe(s),TE(s,o)):(Pe(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Xi(s),Pe(s),TE(s,o)):(Pe(s),s.flags&=-16777217):(r.memoizedProps!==u&&Xi(s),Pe(s),s.flags&=-16777217),null;case 27:le(s),o=pt.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Xi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Pe(s),null}r=ht.current,Bu(s)?Z_(s):(r=Tb(h,u,o),s.stateNode=r,Xi(s))}return Pe(s),null;case 5:if(le(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Xi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Pe(s),null}if(r=ht.current,Bu(s))Z_(s);else{switch(h=qh(pt.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Ie]=s,r[ae]=u;t:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break t;for(;h.sibling===null;){if(h.return===null||h.return===s)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;t:switch(Rn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Xi(s)}}return Pe(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Xi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=pt.current,Bu(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=Fn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Ie]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||mb(r.nodeValue,o)),r||no(s)}else r=qh(r).createTextNode(u),r[Ie]=s,s.stateNode=r}return Pe(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Bu(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Ie]=s}else zu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Pe(s),h=!1}else h=t0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Qi(s),s):(Qi(s),null)}if(Qi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Nh(s,s.updateQueue),Pe(s),null;case 4:return pe(),r===null&&mg(s.stateNode.containerInfo),Pe(s),null;case 10:return Gi(s.type),Pe(s),null;case 19:if(ot(un),h=s.memoizedState,h===null)return Pe(s),null;if(u=(s.flags&128)!==0,m=h.rendering,m===null)if(u)rc(h,!1);else{if(Be!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=Rh(r),m!==null){for(s.flags|=128,rc(h,!1),r=m.updateQueue,s.updateQueue=r,Nh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)X_(o,r),o=o.sibling;return et(un,un.current&1|2),s.child}r=r.sibling}h.tail!==null&&me()>kh&&(s.flags|=128,u=!0,rc(h,!1),s.lanes=4194304)}else{if(!u)if(r=Rh(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Nh(s,r),rc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!ue)return Pe(s),null}else 2*me()-h.renderingStartTime>kh&&o!==536870912&&(s.flags|=128,u=!0,rc(h,!1),s.lanes=4194304);h.isBackwards?(m.sibling=s.child,s.child=m):(r=h.last,r!==null?r.sibling=m:s.child=m,h.last=m)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=me(),s.sibling=null,r=un.current,et(un,u?r&1|2:r&1),s):(Pe(s),null);case 22:case 23:return Qi(s),ym(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Pe(s),s.subtreeFlags&6&&(s.flags|=8192)):Pe(s),o=s.updateQueue,o!==null&&Nh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ot(so),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Gi(ln),Pe(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Mx(r,s){switch(rm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Gi(ln),pe(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return le(s),null;case 13:if(Qi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));zu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ot(un),null;case 4:return pe(),null;case 10:return Gi(s.type),null;case 22:case 23:return Qi(s),ym(),r!==null&&ot(so),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Gi(ln),null;case 25:return null;default:return null}}function wE(r,s){switch(rm(s),s.tag){case 3:Gi(ln),pe();break;case 26:case 27:case 5:le(s);break;case 4:pe();break;case 13:Qi(s);break;case 19:ot(un);break;case 10:Gi(s.type);break;case 22:case 23:Qi(s),ym(),r!==null&&ot(so);break;case 24:Gi(ln)}}function ic(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var m=o.create,b=o.inst;u=m(),b.destroy=u}o=o.next}while(o!==h)}}catch(R){Te(s,s.return,R)}}function Vs(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&r)===r){var b=u.inst,R=b.destroy;if(R!==void 0){b.destroy=void 0,h=s;var U=o,Q=R;try{Q()}catch(st){Te(h,U,st)}}}u=u.next}while(u!==m)}}catch(st){Te(s,s.return,st)}}function SE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{f0(s,o)}catch(u){Te(r,r.return,u)}}}function AE(r,s,o){o.props=oo(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Te(r,s,u)}}function sc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){Te(r,s,h)}}function fi(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){Te(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Te(r,s,h)}else o.current=null}function RE(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){Te(r,r.return,h)}}function $m(r,s,o){try{var u=r.stateNode;tI(u,r.type,o,s),u[ae]=s}catch(h){Te(r,r.return,h)}}function CE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&qs(r.type)||r.tag===4}function Gm(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||CE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&qs(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Km(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Fh));else if(u!==4&&(u===27&&qs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Km(r,s,o),r=r.sibling;r!==null;)Km(r,s,o),r=r.sibling}function Dh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&qs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Dh(r,s,o),r=r.sibling;r!==null;)Dh(r,s,o),r=r.sibling}function xE(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Rn(s,u,o),s[Ie]=r,s[ae]=o}catch(m){Te(r,r.return,m)}}var Wi=!1,Ge=!1,Qm=!1,IE=typeof WeakSet=="function"?WeakSet:Set,vn=null;function kx(r,s){if(r=r.containerInfo,vg=Xh,r=B_(r),Gp(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var b=0,R=-1,U=-1,Q=0,st=0,lt=r,W=null;e:for(;;){for(var J;lt!==o||h!==0&&lt.nodeType!==3||(R=b+h),lt!==m||u!==0&&lt.nodeType!==3||(U=b+u),lt.nodeType===3&&(b+=lt.nodeValue.length),(J=lt.firstChild)!==null;)W=lt,lt=J;for(;;){if(lt===r)break e;if(W===o&&++Q===h&&(R=b),W===m&&++st===u&&(U=b),(J=lt.nextSibling)!==null)break;lt=W,W=lt.parentNode}lt=J}o=R===-1||U===-1?null:{start:R,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(_g={focusedElem:r,selectionRange:o},Xh=!1,vn=s;vn!==null;)if(s=vn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,vn=r;else for(;vn!==null;){switch(s=vn,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=s,h=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Lt=oo(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Lt,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Dt){Te(o,o.return,Dt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Tg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Tg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,vn=r;break}vn=s.return}}function OE(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ls(r,o),u&4&&ic(5,o);break;case 1:if(Ls(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(b){Te(o,o.return,b)}else{var h=oo(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){Te(o,o.return,b)}}u&64&&SE(o),u&512&&sc(o,o.return);break;case 3:if(Ls(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{f0(r,s)}catch(b){Te(o,o.return,b)}}break;case 27:s===null&&u&4&&xE(o);case 26:case 5:Ls(r,o),s===null&&u&4&&RE(o),u&512&&sc(o,o.return);break;case 12:Ls(r,o);break;case 13:Ls(r,o),u&4&&ME(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=Fx.bind(null,o),oI(r,o))));break;case 22:if(u=o.memoizedState!==null||Wi,!u){s=s!==null&&s.memoizedState!==null||Ge,h=Wi;var m=Ge;Wi=u,(Ge=s)&&!m?Us(r,o,(o.subtreeFlags&8772)!==0):Ls(r,o),Wi=h,Ge=m}break;case 30:break;default:Ls(r,o)}}function NE(r){var s=r.alternate;s!==null&&(r.alternate=null,NE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&As(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ne=null,Wn=!1;function Zi(r,s,o){for(o=o.child;o!==null;)DE(r,s,o),o=o.sibling}function DE(r,s,o){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Tt,o)}catch{}switch(o.tag){case 26:Ge||fi(o,s),Zi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ge||fi(o,s);var u=Ne,h=Wn;qs(o.type)&&(Ne=o.stateNode,Wn=!1),Zi(r,s,o),pc(o.stateNode),Ne=u,Wn=h;break;case 5:Ge||fi(o,s);case 6:if(u=Ne,h=Wn,Ne=null,Zi(r,s,o),Ne=u,Wn=h,Ne!==null)if(Wn)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(o.stateNode)}catch(m){Te(o,s,m)}else try{Ne.removeChild(o.stateNode)}catch(m){Te(o,s,m)}break;case 18:Ne!==null&&(Wn?(r=Ne,Eb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Tc(r)):Eb(Ne,o.stateNode));break;case 4:u=Ne,h=Wn,Ne=o.stateNode.containerInfo,Wn=!0,Zi(r,s,o),Ne=u,Wn=h;break;case 0:case 11:case 14:case 15:Ge||Vs(2,o,s),Ge||Vs(4,o,s),Zi(r,s,o);break;case 1:Ge||(fi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&AE(o,s,u)),Zi(r,s,o);break;case 21:Zi(r,s,o);break;case 22:Ge=(u=Ge)||o.memoizedState!==null,Zi(r,s,o),Ge=u;break;default:Zi(r,s,o)}}function ME(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Tc(r)}catch(o){Te(s,s.return,o)}}function Px(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new IE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new IE),s;default:throw Error(i(435,r.tag))}}function Ym(r,s){var o=Px(r);s.forEach(function(u){var h=qx.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function dr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],m=r,b=s,R=b;t:for(;R!==null;){switch(R.tag){case 27:if(qs(R.type)){Ne=R.stateNode,Wn=!1;break t}break;case 5:Ne=R.stateNode,Wn=!1;break t;case 3:case 4:Ne=R.stateNode.containerInfo,Wn=!0;break t}R=R.return}if(Ne===null)throw Error(i(160));DE(m,b,h),Ne=null,Wn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)kE(s,r),s=s.sibling}var qr=null;function kE(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:dr(s,r),pr(r),u&4&&(Vs(3,r,r.return),ic(3,r),Vs(5,r,r.return));break;case 1:dr(s,r),pr(r),u&512&&(Ge||o===null||fi(o,o.return)),u&64&&Wi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=qr;if(dr(s,r),pr(r),u&512&&(Ge||o===null||fi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){t:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;e:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Va]||m[Ie]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),Rn(m,u,o),m[Ie]=r,qe(m),u=m;break t;case"link":var b=xb("link","href",h).get(u+(o.href||""));if(b){for(var R=0;R<b.length;R++)if(m=b[R],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(R,1);break e}}m=h.createElement(u),Rn(m,u,o),h.head.appendChild(m);break;case"meta":if(b=xb("meta","content",h).get(u+(o.content||""))){for(R=0;R<b.length;R++)if(m=b[R],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(R,1);break e}}m=h.createElement(u),Rn(m,u,o),h.head.appendChild(m);break;default:throw Error(i(468,u))}m[Ie]=r,qe(m),u=m}r.stateNode=u}else Ib(h,r.type,r.stateNode);else r.stateNode=Cb(h,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Ib(h,r.type,r.stateNode):Cb(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&$m(r,r.memoizedProps,o.memoizedProps)}break;case 27:dr(s,r),pr(r),u&512&&(Ge||o===null||fi(o,o.return)),o!==null&&u&4&&$m(r,r.memoizedProps,o.memoizedProps);break;case 5:if(dr(s,r),pr(r),u&512&&(Ge||o===null||fi(o,o.return)),r.flags&32){h=r.stateNode;try{Tr(h,"")}catch(J){Te(r,r.return,J)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,$m(r,h,o!==null?o.memoizedProps:h)),u&1024&&(Qm=!0);break;case 6:if(dr(s,r),pr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(J){Te(r,r.return,J)}}break;case 3:if(Kh=null,h=qr,qr=$h(s.containerInfo),dr(s,r),qr=h,pr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tc(s.containerInfo)}catch(J){Te(r,r.return,J)}Qm&&(Qm=!1,PE(r));break;case 4:u=qr,qr=$h(r.stateNode.containerInfo),dr(s,r),pr(r),qr=u;break;case 12:dr(s,r),pr(r);break;case 13:dr(s,r),pr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(eg=me()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ym(r,u)));break;case 22:h=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Q=Wi,st=Ge;if(Wi=Q||h,Ge=st||U,dr(s,r),Ge=st,Wi=Q,pr(r),u&8192)t:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||U||Wi||Ge||lo(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){U=o=s;try{if(m=U.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{R=U.stateNode;var lt=U.memoizedProps.style,W=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;R.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(J){Te(U,U.return,J)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=h?"":U.memoizedProps}catch(J){Te(U,U.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ym(r,o))));break;case 19:dr(s,r),pr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ym(r,u)));break;case 30:break;case 21:break;default:dr(s,r),pr(r)}}function pr(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(CE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,m=Gm(r);Dh(r,m,h);break;case 5:var b=o.stateNode;o.flags&32&&(Tr(b,""),o.flags&=-33);var R=Gm(r);Dh(r,R,b);break;case 3:case 4:var U=o.stateNode.containerInfo,Q=Gm(r);Km(r,Q,U);break;default:throw Error(i(161))}}catch(st){Te(r,r.return,st)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function PE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;PE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ls(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)OE(r,s.alternate,s),s=s.sibling}function lo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Vs(4,s,s.return),lo(s);break;case 1:fi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&AE(s,s.return,o),lo(s);break;case 27:pc(s.stateNode);case 26:case 5:fi(s,s.return),lo(s);break;case 22:s.memoizedState===null&&lo(s);break;case 30:lo(s);break;default:lo(s)}r=r.sibling}}function Us(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:Us(h,m,o),ic(4,m);break;case 1:if(Us(h,m,o),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){Te(u,u.return,Q)}if(u=m,h=u.updateQueue,h!==null){var R=u.stateNode;try{var U=h.shared.hiddenCallbacks;if(U!==null)for(h.shared.hiddenCallbacks=null,h=0;h<U.length;h++)c0(U[h],R)}catch(Q){Te(u,u.return,Q)}}o&&b&64&&SE(m),sc(m,m.return);break;case 27:xE(m);case 26:case 5:Us(h,m,o),o&&u===null&&b&4&&RE(m),sc(m,m.return);break;case 12:Us(h,m,o);break;case 13:Us(h,m,o),o&&b&4&&ME(h,m);break;case 22:m.memoizedState===null&&Us(h,m,o),sc(m,m.return);break;case 30:break;default:Us(h,m,o)}s=s.sibling}}function Xm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&qu(o))}function Wm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&qu(r))}function hi(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)VE(r,s,o,u),s=s.sibling}function VE(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:hi(r,s,o,u),h&2048&&ic(9,s);break;case 1:hi(r,s,o,u);break;case 3:hi(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&qu(r)));break;case 12:if(h&2048){hi(r,s,o,u),r=s.stateNode;try{var m=s.memoizedProps,b=m.id,R=m.onPostCommit;typeof R=="function"&&R(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Te(s,s.return,U)}}else hi(r,s,o,u);break;case 13:hi(r,s,o,u);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?hi(r,s,o,u):ac(r,s):m._visibility&2?hi(r,s,o,u):(m._visibility|=2,gl(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&Xm(b,s);break;case 24:hi(r,s,o,u),h&2048&&Wm(s.alternate,s);break;default:hi(r,s,o,u)}}function gl(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,b=s,R=o,U=u,Q=b.flags;switch(b.tag){case 0:case 11:case 15:gl(m,b,R,U,h),ic(8,b);break;case 23:break;case 22:var st=b.stateNode;b.memoizedState!==null?st._visibility&2?gl(m,b,R,U,h):ac(m,b):(st._visibility|=2,gl(m,b,R,U,h)),h&&Q&2048&&Xm(b.alternate,b);break;case 24:gl(m,b,R,U,h),h&&Q&2048&&Wm(b.alternate,b);break;default:gl(m,b,R,U,h)}s=s.sibling}}function ac(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:ac(o,u),h&2048&&Xm(u.alternate,u);break;case 24:ac(o,u),h&2048&&Wm(u.alternate,u);break;default:ac(o,u)}s=s.sibling}}var oc=8192;function yl(r){if(r.subtreeFlags&oc)for(r=r.child;r!==null;)LE(r),r=r.sibling}function LE(r){switch(r.tag){case 26:yl(r),r.flags&oc&&r.memoizedState!==null&&EI(qr,r.memoizedState,r.memoizedProps);break;case 5:yl(r);break;case 3:case 4:var s=qr;qr=$h(r.stateNode.containerInfo),yl(r),qr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=oc,oc=16777216,yl(r),oc=s):yl(r));break;default:yl(r)}}function UE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function lc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];vn=u,BE(u,r)}UE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jE(r),r=r.sibling}function jE(r){switch(r.tag){case 0:case 11:case 15:lc(r),r.flags&2048&&Vs(9,r,r.return);break;case 3:lc(r);break;case 12:lc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Mh(r)):lc(r);break;default:lc(r)}}function Mh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];vn=u,BE(u,r)}UE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Vs(8,s,s.return),Mh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Mh(s));break;default:Mh(s)}r=r.sibling}}function BE(r,s){for(;vn!==null;){var o=vn;switch(o.tag){case 0:case 11:case 15:Vs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:qu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,vn=u;else t:for(o=r;vn!==null;){u=vn;var h=u.sibling,m=u.return;if(NE(u),u===o){vn=null;break t}if(h!==null){h.return=m,vn=h;break t}vn=m}}}var Vx={getCacheForType:function(r){var s=Nn(ln),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},Lx=typeof WeakMap=="function"?WeakMap:Map,ge=0,Se=null,Qt=null,ie=0,ye=0,mr=null,js=!1,vl=!1,Zm=!1,Ji=0,Be=0,Bs=0,uo=0,Jm=0,Nr=0,_l=0,uc=null,Zn=null,tg=!1,eg=0,kh=1/0,Ph=null,zs=null,An=0,Hs=null,El=null,bl=0,ng=0,rg=null,zE=null,cc=0,ig=null;function gr(){if((ge&2)!==0&&ie!==0)return ie&-ie;if(H.T!==null){var r=ll;return r!==0?r:fg()}return ur()}function HE(){Nr===0&&(Nr=(ie&536870912)===0||ue?Yn():536870912);var r=Or.current;return r!==null&&(r.flags|=32),Nr}function yr(r,s,o){(r===Se&&(ye===2||ye===9)||r.cancelPendingCommit!==null)&&(Tl(r,0),Fs(r,ie,Nr,!1)),br(r,o),((ge&2)===0||r!==Se)&&(r===Se&&((ge&2)===0&&(uo|=o),Be===4&&Fs(r,ie,Nr,!1)),di(r))}function FE(r,s,o){if((ge&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Ii(r,s),h=u?Bx(r,s):og(r,s,!0),m=u;do{if(h===0){vl&&!u&&Fs(r,s,0,!1);break}else{if(o=r.current.alternate,m&&!Ux(o)){h=og(r,s,!1),m=!1;continue}if(h===2){if(m=s,r.errorRecoveryDisabledLanes&m)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;t:{var R=r;h=uc;var U=R.current.memoizedState.isDehydrated;if(U&&(Tl(R,b).flags|=256),b=og(R,b,!1),b!==2){if(Zm&&!U){R.errorRecoveryDisabledLanes|=m,uo|=m,h=4;break t}m=Zn,Zn=h,m!==null&&(Zn===null?Zn=m:Zn.push.apply(Zn,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){Tl(r,0),Fs(r,s,0,!0);break}t:{switch(u=r,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Fs(u,s,Nr,!js);break t;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=eg+300-me(),10<h)){if(Fs(u,s,Nr,!js),Ur(u,0,!0)!==0)break t;u.timeoutHandle=vb(qE.bind(null,u,o,Zn,Ph,tg,s,Nr,uo,_l,js,m,2,-0,0),h);break t}qE(u,o,Zn,Ph,tg,s,Nr,uo,_l,js,m,0,-0,0)}}break}while(!0);di(r)}function qE(r,s,o,u,h,m,b,R,U,Q,st,lt,W,J){if(r.timeoutHandle=-1,lt=s.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(yc={stylesheets:null,count:0,unsuspend:_I},LE(s),lt=bI(),lt!==null)){r.cancelPendingCommit=lt(WE.bind(null,r,s,m,o,u,h,b,R,U,st,1,W,J)),Fs(r,m,b,!Q);return}WE(r,s,m,o,u,h,b,R,U)}function Ux(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!fr(m(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fs(r,s,o,u){s&=~Jm,s&=~uo,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var m=31-ke(h),b=1<<m;u[m]=-1,h&=~b}o!==0&&Nt(r,o,s)}function Vh(){return(ge&6)===0?(fc(0),!1):!0}function sg(){if(Qt!==null){if(ye===0)var r=Qt.return;else r=Qt,$i=ro=null,Tm(r),pl=null,ec=0,r=Qt;for(;r!==null;)wE(r.alternate,r),r=r.return;Qt=null}}function Tl(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,nI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),sg(),Se=r,Qt=o=Hi(r.current,null),ie=s,ye=0,mr=null,js=!1,vl=Ii(r,s),Zm=!1,_l=Nr=Jm=uo=Bs=Be=0,Zn=uc=null,tg=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-ke(u),m=1<<h;s|=r[h],u&=~m}return Ji=s,ih(),o}function $E(r,s){qt=null,H.H=wh,s===Gu||s===dh?(s=l0(),ye=3):s===s0?(s=l0(),ye=4):ye=s===uE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,mr=s,Qt===null&&(Be=1,xh(r,Rr(s,r.current)))}function GE(){var r=H.H;return H.H=wh,r===null?wh:r}function KE(){var r=H.A;return H.A=Vx,r}function ag(){Be=4,js||(ie&4194048)!==ie&&Or.current!==null||(vl=!0),(Bs&134217727)===0&&(uo&134217727)===0||Se===null||Fs(Se,ie,Nr,!1)}function og(r,s,o){var u=ge;ge|=2;var h=GE(),m=KE();(Se!==r||ie!==s)&&(Ph=null,Tl(r,s)),s=!1;var b=Be;t:do try{if(ye!==0&&Qt!==null){var R=Qt,U=mr;switch(ye){case 8:sg(),b=6;break t;case 3:case 2:case 9:case 6:Or.current===null&&(s=!0);var Q=ye;if(ye=0,mr=null,wl(r,R,U,Q),o&&vl){b=0;break t}break;default:Q=ye,ye=0,mr=null,wl(r,R,U,Q)}}jx(),b=Be;break}catch(st){$E(r,st)}while(!0);return s&&r.shellSuspendCounter++,$i=ro=null,ge=u,H.H=h,H.A=m,Qt===null&&(Se=null,ie=0,ih()),b}function jx(){for(;Qt!==null;)QE(Qt)}function Bx(r,s){var o=ge;ge|=2;var u=GE(),h=KE();Se!==r||ie!==s?(Ph=null,kh=me()+500,Tl(r,s)):vl=Ii(r,s);t:do try{if(ye!==0&&Qt!==null){s=Qt;var m=mr;e:switch(ye){case 1:ye=0,mr=null,wl(r,s,m,1);break;case 2:case 9:if(a0(m)){ye=0,mr=null,YE(s);break}s=function(){ye!==2&&ye!==9||Se!==r||(ye=7),di(r)},m.then(s,s);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:a0(m)?(ye=0,mr=null,YE(s)):(ye=0,mr=null,wl(r,s,m,7));break;case 5:var b=null;switch(Qt.tag){case 26:b=Qt.memoizedState;case 5:case 27:var R=Qt;if(!b||Ob(b)){ye=0,mr=null;var U=R.sibling;if(U!==null)Qt=U;else{var Q=R.return;Q!==null?(Qt=Q,Lh(Q)):Qt=null}break e}}ye=0,mr=null,wl(r,s,m,5);break;case 6:ye=0,mr=null,wl(r,s,m,6);break;case 8:sg(),Be=6;break t;default:throw Error(i(462))}}zx();break}catch(st){$E(r,st)}while(!0);return $i=ro=null,H.H=u,H.A=h,ge=o,Qt!==null?0:(Se=null,ie=0,ih(),Be)}function zx(){for(;Qt!==null&&!zt();)QE(Qt)}function QE(r){var s=bE(r.alternate,r,Ji);r.memoizedProps=r.pendingProps,s===null?Lh(r):Qt=s}function YE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=mE(o,s,s.pendingProps,s.type,void 0,ie);break;case 11:s=mE(o,s,s.pendingProps,s.type.render,s.ref,ie);break;case 5:Tm(s);default:wE(o,s),s=Qt=X_(s,Ji),s=bE(o,s,Ji)}r.memoizedProps=r.pendingProps,s===null?Lh(r):Qt=s}function wl(r,s,o,u){$i=ro=null,Tm(s),pl=null,ec=0;var h=s.return;try{if(Ox(r,h,s,o,ie)){Be=1,xh(r,Rr(o,r.current)),Qt=null;return}}catch(m){if(h!==null)throw Qt=h,m;Be=1,xh(r,Rr(o,r.current)),Qt=null;return}s.flags&32768?(ue||u===1?r=!0:vl||(ie&536870912)!==0?r=!1:(js=r=!0,(u===2||u===9||u===3||u===6)&&(u=Or.current,u!==null&&u.tag===13&&(u.flags|=16384))),XE(s,r)):Lh(s)}function Lh(r){var s=r;do{if((s.flags&32768)!==0){XE(s,js);return}r=s.return;var o=Dx(s.alternate,s,Ji);if(o!==null){Qt=o;return}if(s=s.sibling,s!==null){Qt=s;return}Qt=s=r}while(s!==null);Be===0&&(Be=5)}function XE(r,s){do{var o=Mx(r.alternate,r);if(o!==null){o.flags&=32767,Qt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Qt=r;return}Qt=r=o}while(r!==null);Be=6,Qt=null}function WE(r,s,o,u,h,m,b,R,U){r.cancelPendingCommit=null;do Uh();while(An!==0);if((ge&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Wp,ws(r,o,m,b,R,U),r===Se&&(Qt=Se=null,ie=0),El=s,Hs=r,bl=o,ng=m,rg=h,zE=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,$x(pn,function(){return nb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,h=it.p,it.p=2,b=ge,ge|=4;try{kx(r,s,o)}finally{ge=b,it.p=h,H.T=u}}An=1,ZE(),JE(),tb()}}function ZE(){if(An===1){An=0;var r=Hs,s=El,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=it.p;it.p=2;var h=ge;ge|=4;try{kE(s,r);var m=_g,b=B_(r.containerInfo),R=m.focusedElem,U=m.selectionRange;if(b!==R&&R&&R.ownerDocument&&j_(R.ownerDocument.documentElement,R)){if(U!==null&&Gp(R)){var Q=U.start,st=U.end;if(st===void 0&&(st=Q),"selectionStart"in R)R.selectionStart=Q,R.selectionEnd=Math.min(st,R.value.length);else{var lt=R.ownerDocument||document,W=lt&&lt.defaultView||window;if(W.getSelection){var J=W.getSelection(),Lt=R.textContent.length,Dt=Math.min(U.start,Lt),be=U.end===void 0?Dt:Math.min(U.end,Lt);!J.extend&&Dt>be&&(b=be,be=Dt,Dt=b);var F=U_(R,Dt),z=U_(R,be);if(F&&z&&(J.rangeCount!==1||J.anchorNode!==F.node||J.anchorOffset!==F.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var G=lt.createRange();G.setStart(F.node,F.offset),J.removeAllRanges(),Dt>be?(J.addRange(G),J.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),J.addRange(G))}}}}for(lt=[],J=R;J=J.parentNode;)J.nodeType===1&&lt.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<lt.length;R++){var at=lt[R];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}Xh=!!vg,_g=vg=null}finally{ge=h,it.p=u,H.T=o}}r.current=s,An=2}}function JE(){if(An===2){An=0;var r=Hs,s=El,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=it.p;it.p=2;var h=ge;ge|=4;try{OE(r,s.alternate,s)}finally{ge=h,it.p=u,H.T=o}}An=3}}function tb(){if(An===4||An===3){An=0,bn();var r=Hs,s=El,o=bl,u=zE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?An=5:(An=0,El=Hs=null,eb(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(zs=null),Xe(o),s=s.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Tt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=H.T,h=it.p,it.p=2,H.T=null;try{for(var m=r.onRecoverableError,b=0;b<u.length;b++){var R=u[b];m(R.value,{componentStack:R.stack})}}finally{H.T=s,it.p=h}}(bl&3)!==0&&Uh(),di(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===ig?cc++:(cc=0,ig=r):cc=0,fc(0)}}function eb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,qu(s)))}function Uh(r){return ZE(),JE(),tb(),nb()}function nb(){if(An!==5)return!1;var r=Hs,s=ng;ng=0;var o=Xe(bl),u=H.T,h=it.p;try{it.p=32>o?32:o,H.T=null,o=rg,rg=null;var m=Hs,b=bl;if(An=0,El=Hs=null,bl=0,(ge&6)!==0)throw Error(i(331));var R=ge;if(ge|=4,jE(m.current),VE(m,m.current,b,o),ge=R,fc(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Tt,m)}catch{}return!0}finally{it.p=h,H.T=u,eb(r,s)}}function rb(r,s,o){s=Rr(o,s),s=Vm(r.stateNode,s,2),r=Ds(r,s,2),r!==null&&(br(r,2),di(r))}function Te(r,s,o){if(r.tag===3)rb(r,r,o);else for(;s!==null;){if(s.tag===3){rb(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zs===null||!zs.has(u))){r=Rr(o,r),o=oE(2),u=Ds(s,o,2),u!==null&&(lE(o,u,s,r),br(u,2),di(u));break}}s=s.return}}function lg(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new Lx;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(Zm=!0,h.add(o),r=Hx.bind(null,r,s,o),s.then(r,r))}function Hx(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Se===r&&(ie&o)===o&&(Be===4||Be===3&&(ie&62914560)===ie&&300>me()-eg?(ge&2)===0&&Tl(r,0):Jm|=o,_l===ie&&(_l=0)),di(r)}function ib(r,s){s===0&&(s=Pa()),r=il(r,s),r!==null&&(br(r,s),di(r))}function Fx(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),ib(r,o)}function qx(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),ib(r,o)}function $x(r,s){return Le(r,s)}var jh=null,Sl=null,ug=!1,Bh=!1,cg=!1,co=0;function di(r){r!==Sl&&r.next===null&&(Sl===null?jh=Sl=r:Sl=Sl.next=r),Bh=!0,ug||(ug=!0,Kx())}function fc(r,s){if(!cg&&Bh){cg=!0;do for(var o=!1,u=jh;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var b=u.suspendedLanes,R=u.pingedLanes;m=(1<<31-ke(42|r)+1)-1,m&=h&~(b&~R),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,lb(u,m))}else m=ie,m=Ur(u,u===Se?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Ii(u,m)||(o=!0,lb(u,m));u=u.next}while(o);cg=!1}}function Gx(){sb()}function sb(){Bh=ug=!1;var r=0;co!==0&&(eI()&&(r=co),co=0);for(var s=me(),o=null,u=jh;u!==null;){var h=u.next,m=ab(u,s);m===0?(u.next=null,o===null?jh=h:o.next=h,h===null&&(Sl=o)):(o=u,(r!==0||(m&3)!==0)&&(Bh=!0)),u=h}fc(r)}function ab(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var b=31-ke(m),R=1<<b,U=h[b];U===-1?((R&o)===0||(R&u)!==0)&&(h[b]=Oi(R,s)):U<=s&&(r.expiredLanes|=R),m&=~R}if(s=Se,o=ie,o=Ur(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(ye===2||ye===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Me(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ii(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Me(u),Xe(o)){case 2:case 8:o=Qe;break;case 32:o=pn;break;case 268435456:o=Fe;break;default:o=pn}return u=ob.bind(null,r),o=Le(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Me(u),r.callbackPriority=2,r.callbackNode=null,2}function ob(r,s){if(An!==0&&An!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Uh()&&r.callbackNode!==o)return null;var u=ie;return u=Ur(r,r===Se?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(FE(r,u,s),ab(r,me()),r.callbackNode!=null&&r.callbackNode===o?ob.bind(null,r):null)}function lb(r,s){if(Uh())return null;FE(r,s,!0)}function Kx(){rI(function(){(ge&6)!==0?Le(He,Gx):sb()})}function fg(){return co===0&&(co=Yn()),co}function ub(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Go(""+r)}function cb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function Qx(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var m=ub((h[ae]||null).action),b=u.submitter;b&&(s=(s=b[ae]||null)?ub(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var R=new Ko("action","action",null,u,h);r.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(co!==0){var U=b?cb(h,b):new FormData(h);Nm(o,{pending:!0,data:U,method:h.method,action:m},null,U)}}else typeof m=="function"&&(R.preventDefault(),U=b?cb(h,b):new FormData(h),Nm(o,{pending:!0,data:U,method:h.method,action:m},m,U))},currentTarget:h}]})}}for(var hg=0;hg<Xp.length;hg++){var dg=Xp[hg],Yx=dg.toLowerCase(),Xx=dg[0].toUpperCase()+dg.slice(1);Fr(Yx,"on"+Xx)}Fr(F_,"onAnimationEnd"),Fr(q_,"onAnimationIteration"),Fr($_,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(dx,"onTransitionRun"),Fr(px,"onTransitionStart"),Fr(mx,"onTransitionCancel"),Fr(G_,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function fb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;t:{var m=void 0;if(s)for(var b=u.length-1;0<=b;b--){var R=u[b],U=R.instance,Q=R.currentTarget;if(R=R.listener,U!==m&&h.isPropagationStopped())break t;m=R,h.currentTarget=Q;try{m(h)}catch(st){Ch(st)}h.currentTarget=null,m=U}else for(b=0;b<u.length;b++){if(R=u[b],U=R.instance,Q=R.currentTarget,R=R.listener,U!==m&&h.isPropagationStopped())break t;m=R,h.currentTarget=Q;try{m(h)}catch(st){Ch(st)}h.currentTarget=null,m=U}}}}function Yt(r,s){var o=s[Ss];o===void 0&&(o=s[Ss]=new Set);var u=r+"__bubble";o.has(u)||(hb(s,r,2,!1),o.add(u))}function pg(r,s,o){var u=0;s&&(u|=4),hb(o,r,u,s)}var zh="_reactListening"+Math.random().toString(36).slice(2);function mg(r){if(!r[zh]){r[zh]=!0,Su.forEach(function(o){o!=="selectionchange"&&(Wx.has(o)||pg(o,!1,r),pg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[zh]||(s[zh]=!0,pg("selectionchange",!1,s))}}function hb(r,s,o,u){switch(Vb(s)){case 2:var h=SI;break;case 8:h=AI;break;default:h=Ig}o=h.bind(null,s,o,r),h=void 0,!Sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function gg(r,s,o,u,h){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var R=u.stateNode.containerInfo;if(R===h)break;if(b===4)for(b=u.return;b!==null;){var U=b.tag;if((U===3||U===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;R!==null;){if(b=Di(R),b===null)return;if(U=b.tag,U===5||U===6||U===26||U===27){u=m=b;continue t}R=R.parentNode}}u=u.return}Ff(function(){var Q=m,st=wr(o),lt=[];t:{var W=K_.get(r);if(W!==void 0){var J=Ko,Lt=r;switch(r){case"keypress":if(ii(o)===0)break t;case"keydown":case"keyup":J=Jo;break;case"focusin":Lt="focus",J=Xo;break;case"focusout":Lt="blur",J=Xo;break;case"beforeblur":case"afterblur":J=Xo;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Wf;break;case F_:case q_:case $_:J=Wo;break;case G_:J=Jf;break;case"scroll":case"scrollend":J=qf;break;case"wheel":J=tl;break;case"copy":case"cut":case"paste":J=Zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Vu;break;case"toggle":case"beforetoggle":J=eh}var Dt=(s&4)!==0,be=!Dt&&(r==="scroll"||r==="scrollend"),F=Dt?W!==null?W+"Capture":null:W;Dt=[];for(var z=Q,G;z!==null;){var at=z;if(G=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||G===null||F===null||(at=Fa(z,F),at!=null&&Dt.push(dc(z,at,G))),be)break;z=z.return}0<Dt.length&&(W=new J(W,Lt,null,o,st),lt.push({event:W,listeners:Dt}))}}if((s&7)===0){t:{if(W=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",W&&o!==Vi&&(Lt=o.relatedTarget||o.fromElement)&&(Di(Lt)||Lt[Oe]))break t;if((J||W)&&(W=st.window===st?st:(W=st.ownerDocument)?W.defaultView||W.parentWindow:window,J?(Lt=o.relatedTarget||o.toElement,J=Q,Lt=Lt?Di(Lt):null,Lt!==null&&(be=l(Lt),Dt=Lt.tag,Lt!==be||Dt!==5&&Dt!==27&&Dt!==6)&&(Lt=null)):(J=null,Lt=Q),J!==Lt)){if(Dt=Ar,at="onMouseLeave",F="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Dt=Vu,at="onPointerLeave",F="onPointerEnter",z="pointer"),be=J==null?W:ti(J),G=Lt==null?W:ti(Lt),W=new Dt(at,z+"leave",J,o,st),W.target=be,W.relatedTarget=G,at=null,Di(st)===Q&&(Dt=new Dt(F,z+"enter",Lt,o,st),Dt.target=G,Dt.relatedTarget=be,at=Dt),be=at,J&&Lt)e:{for(Dt=J,F=Lt,z=0,G=Dt;G;G=Al(G))z++;for(G=0,at=F;at;at=Al(at))G++;for(;0<z-G;)Dt=Al(Dt),z--;for(;0<G-z;)F=Al(F),G--;for(;z--;){if(Dt===F||F!==null&&Dt===F.alternate)break e;Dt=Al(Dt),F=Al(F)}Dt=null}else Dt=null;J!==null&&db(lt,W,J,Dt,!1),Lt!==null&&be!==null&&db(lt,be,Lt,Dt,!0)}}t:{if(W=Q?ti(Q):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var bt=D_;else if(on(W))if(M_)bt=cx;else{bt=lx;var Gt=ox}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&Iu(Q.elementType)&&(bt=D_):bt=ux;if(bt&&(bt=bt(r,Q))){zi(lt,bt,o,st);break t}Gt&&Gt(r,W,Q),r==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&Cs(W,"number",W.value)}switch(Gt=Q?ti(Q):window,r){case"focusin":(on(Gt)||Gt.contentEditable==="true")&&(el=Gt,Kp=Q,ju=null);break;case"focusout":ju=Kp=el=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,z_(lt,o,st);break;case"selectionchange":if(hx)break;case"keydown":case"keyup":z_(lt,o,st)}var Rt;if(oi)t:{switch(r){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else ne?nt(r,o)&&(kt="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(E&&o.locale!=="ko"&&(ne||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ne&&(Rt=Nu()):(ri=st,xs="value"in ri?ri.value:ri.textContent,ne=!0)),Gt=Hh(Q,kt),0<Gt.length&&(kt=new ku(kt,r,null,o,st),lt.push({event:kt,listeners:Gt}),Rt?kt.data=Rt:(Rt=mt(o),Rt!==null&&(kt.data=Rt)))),(Rt=y?an(r,o):re(r,o))&&(kt=Hh(Q,"onBeforeInput"),0<kt.length&&(Gt=new ku("onBeforeInput","beforeinput",null,o,st),lt.push({event:Gt,listeners:kt}),Gt.data=Rt)),Qx(lt,r,Q,o,st)}fb(lt,s)})}function dc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Hh(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Fa(r,o),h!=null&&u.unshift(dc(r,h,m)),h=Fa(r,s),h!=null&&u.push(dc(r,h,m))),r.tag===3)return u;r=r.return}return[]}function Al(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function db(r,s,o,u,h){for(var m=s._reactName,b=[];o!==null&&o!==u;){var R=o,U=R.alternate,Q=R.stateNode;if(R=R.tag,U!==null&&U===u)break;R!==5&&R!==26&&R!==27||Q===null||(U=Q,h?(Q=Fa(o,m),Q!=null&&b.unshift(dc(o,Q,U))):h||(Q=Fa(o,m),Q!=null&&b.push(dc(o,Q,U)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var Zx=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function pb(r){return(typeof r=="string"?r:""+r).replace(Zx,`
`).replace(Jx,"")}function mb(r,s){return s=pb(s),pb(r)===s}function Fh(){}function Ee(r,s,o,u,h,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Tr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Tr(r,""+u);break;case"className":ei(r,"class",u);break;case"tabIndex":ei(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(r,o,u);break;case"style":xu(r,u,m);break;case"data":if(s!=="object"){ei(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Go(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&Ee(r,s,"name",h.name,h,null),Ee(r,s,"formEncType",h.formEncType,h,null),Ee(r,s,"formMethod",h.formMethod,h,null),Ee(r,s,"formTarget",h.formTarget,h,null)):(Ee(r,s,"encType",h.encType,h,null),Ee(r,s,"method",h.method,h,null),Ee(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Go(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Fh);break;case"onScroll":u!=null&&Yt("scroll",r);break;case"onScrollEnd":u!=null&&Yt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Go(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Yt("beforetoggle",r),Yt("toggle",r),Rs(r,"popover",u);break;case"xlinkActuate":Tn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Tn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Tn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Tn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Tn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Tn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Tn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Tn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Tn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Rs(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bp.get(o)||o,Rs(r,o,u))}}function yg(r,s,o,u,h,m){switch(o){case"style":xu(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Tr(r,u):(typeof u=="number"||typeof u=="bigint")&&Tr(r,""+u);break;case"onScroll":u!=null&&Yt("scroll",r);break;case"onScrollEnd":u!=null&&Yt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Fh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),m=r[ae]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break t}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Rs(r,o,u)}}}function Rn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",r),Yt("load",r);var u=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var b=o[m];if(b!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ee(r,s,m,b,o,null)}}h&&Ee(r,s,"srcSet",o.srcSet,o,null),u&&Ee(r,s,"src",o.src,o,null);return;case"input":Yt("invalid",r);var R=m=b=h=null,U=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var st=o[u];if(st!=null)switch(u){case"name":h=st;break;case"type":b=st;break;case"checked":U=st;break;case"defaultChecked":Q=st;break;case"value":m=st;break;case"defaultValue":R=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,s));break;default:Ee(r,s,u,st,o,null)}}Ba(r,m,R,U,Q,b,h,!1),$o(r);return;case"select":Yt("invalid",r),u=b=m=null;for(h in o)if(o.hasOwnProperty(h)&&(R=o[h],R!=null))switch(h){case"value":m=R;break;case"defaultValue":b=R;break;case"multiple":u=R;default:Ee(r,s,h,R,o,null)}s=m,o=b,r.multiple=!!u,s!=null?Pi(r,!!u,s,!1):o!=null&&Pi(r,!!u,o,!0);return;case"textarea":Yt("invalid",r),m=h=u=null;for(b in o)if(o.hasOwnProperty(b)&&(R=o[b],R!=null))switch(b){case"value":u=R;break;case"defaultValue":h=R;break;case"children":m=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:Ee(r,s,b,R,o,null)}za(r,u,h,m),$o(r);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ee(r,s,U,u,o,null)}return;case"dialog":Yt("beforetoggle",r),Yt("toggle",r),Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":Yt("load",r);break;case"video":case"audio":for(u=0;u<hc.length;u++)Yt(hc[u],r);break;case"image":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"embed":case"source":case"link":Yt("error",r),Yt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ee(r,s,Q,u,o,null)}return;default:if(Iu(s)){for(st in o)o.hasOwnProperty(st)&&(u=o[st],u!==void 0&&yg(r,s,st,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&Ee(r,s,R,u,o,null))}function tI(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,R=null,U=null,Q=null,st=null;for(J in o){var lt=o[J];if(o.hasOwnProperty(J)&&lt!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":U=lt;default:u.hasOwnProperty(J)||Ee(r,s,J,null,u,lt)}}for(var W in u){var J=u[W];if(lt=o[W],u.hasOwnProperty(W)&&(J!=null||lt!=null))switch(W){case"type":m=J;break;case"name":h=J;break;case"checked":Q=J;break;case"defaultChecked":st=J;break;case"value":b=J;break;case"defaultValue":R=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==lt&&Ee(r,s,W,J,u,lt)}}cr(r,b,R,U,Q,st,m,h);return;case"select":J=b=R=W=null;for(m in o)if(U=o[m],o.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":J=U;default:u.hasOwnProperty(m)||Ee(r,s,m,null,u,U)}for(h in u)if(m=u[h],U=o[h],u.hasOwnProperty(h)&&(m!=null||U!=null))switch(h){case"value":W=m;break;case"defaultValue":R=m;break;case"multiple":b=m;default:m!==U&&Ee(r,s,h,m,u,U)}s=R,o=b,u=J,W!=null?Pi(r,!!o,W,!1):!!u!=!!o&&(s!=null?Pi(r,!!o,s,!0):Pi(r,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(R in o)if(h=o[R],o.hasOwnProperty(R)&&h!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ee(r,s,R,null,u,h)}for(b in u)if(h=u[b],m=o[b],u.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":W=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&Ee(r,s,b,h,u,m)}ve(r,W,J);return;case"option":for(var Lt in o)if(W=o[Lt],o.hasOwnProperty(Lt)&&W!=null&&!u.hasOwnProperty(Lt))switch(Lt){case"selected":r.selected=!1;break;default:Ee(r,s,Lt,null,u,W)}for(U in u)if(W=u[U],J=o[U],u.hasOwnProperty(U)&&W!==J&&(W!=null||J!=null))switch(U){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Ee(r,s,U,W,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in o)W=o[Dt],o.hasOwnProperty(Dt)&&W!=null&&!u.hasOwnProperty(Dt)&&Ee(r,s,Dt,null,u,W);for(Q in u)if(W=u[Q],J=o[Q],u.hasOwnProperty(Q)&&W!==J&&(W!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:Ee(r,s,Q,W,u,J)}return;default:if(Iu(s)){for(var be in o)W=o[be],o.hasOwnProperty(be)&&W!==void 0&&!u.hasOwnProperty(be)&&yg(r,s,be,void 0,u,W);for(st in u)W=u[st],J=o[st],!u.hasOwnProperty(st)||W===J||W===void 0&&J===void 0||yg(r,s,st,W,u,J);return}}for(var F in o)W=o[F],o.hasOwnProperty(F)&&W!=null&&!u.hasOwnProperty(F)&&Ee(r,s,F,null,u,W);for(lt in u)W=u[lt],J=o[lt],!u.hasOwnProperty(lt)||W===J||W==null&&J==null||Ee(r,s,lt,W,u,J)}var vg=null,_g=null;function qh(r){return r.nodeType===9?r:r.ownerDocument}function gb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Eg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bg=null;function eI(){var r=window.event;return r&&r.type==="popstate"?r===bg?!1:(bg=r,!0):(bg=null,!1)}var vb=typeof setTimeout=="function"?setTimeout:void 0,nI=typeof clearTimeout=="function"?clearTimeout:void 0,_b=typeof Promise=="function"?Promise:void 0,rI=typeof queueMicrotask=="function"?queueMicrotask:typeof _b<"u"?function(r){return _b.resolve(null).then(r).catch(iI)}:vb;function iI(r){setTimeout(function(){throw r})}function qs(r){return r==="head"}function Eb(r,s){var o=s,u=0,h=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var b=r.ownerDocument;if(o&1&&pc(b.documentElement),o&2&&pc(b.body),o&4)for(o=b.head,pc(o),b=o.firstChild;b;){var R=b.nextSibling,U=b.nodeName;b[Va]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=R}}if(h===0){r.removeChild(m),Tc(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);Tc(s)}function Tg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Tg(o),As(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function sI(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Va])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=$r(r.nextSibling),r===null)break}return null}function aI(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=$r(r.nextSibling),r===null))return null;return r}function wg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function oI(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function $r(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Sg=null;function bb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Tb(r,s,o){switch(s=qh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function pc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);As(r)}var Dr=new Map,wb=new Set;function $h(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ts=it.d;it.d={f:lI,r:uI,D:cI,C:fI,L:hI,m:dI,X:mI,S:pI,M:gI};function lI(){var r=ts.f(),s=Vh();return r||s}function uI(r){var s=Jr(r);s!==null&&s.tag===5&&s.type==="form"?F0(s):ts.r(r)}var Rl=typeof document>"u"?null:document;function Sb(r,s,o){var u=Rl;if(u&&typeof s=="string"&&s){var h=We(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),wb.has(h)||(wb.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),Rn(s,"link",r),qe(s),u.head.appendChild(s)))}}function cI(r){ts.D(r),Sb("dns-prefetch",r,null)}function fI(r,s){ts.C(r,s),Sb("preconnect",r,s)}function hI(r,s,o){ts.L(r,s,o);var u=Rl;if(u&&r&&s){var h='link[rel="preload"][as="'+We(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+We(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+We(o.imageSizes)+'"]')):h+='[href="'+We(r)+'"]';var m=h;switch(s){case"style":m=Cl(r);break;case"script":m=xl(r)}Dr.has(m)||(r=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Dr.set(m,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(mc(m))||s==="script"&&u.querySelector(gc(m))||(s=u.createElement("link"),Rn(s,"link",r),qe(s),u.head.appendChild(s)))}}function dI(r,s){ts.m(r,s);var o=Rl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+We(u)+'"][href="'+We(r)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=xl(r)}if(!Dr.has(m)&&(r=_({rel:"modulepreload",href:r},s),Dr.set(m,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gc(m)))return}u=o.createElement("link"),Rn(u,"link",r),qe(u),o.head.appendChild(u)}}}function pI(r,s,o){ts.S(r,s,o);var u=Rl;if(u&&r){var h=Bn(u).hoistableStyles,m=Cl(r);s=s||"default";var b=h.get(m);if(!b){var R={loading:0,preload:null};if(b=u.querySelector(mc(m)))R.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Dr.get(m))&&Ag(r,o);var U=b=u.createElement("link");qe(U),Rn(U,"link",r),U._p=new Promise(function(Q,st){U.onload=Q,U.onerror=st}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Gh(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:R},h.set(m,b)}}}function mI(r,s){ts.X(r,s);var o=Rl;if(o&&r){var u=Bn(o).hoistableScripts,h=xl(r),m=u.get(h);m||(m=o.querySelector(gc(h)),m||(r=_({src:r,async:!0},s),(s=Dr.get(h))&&Rg(r,s),m=o.createElement("script"),qe(m),Rn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function gI(r,s){ts.M(r,s);var o=Rl;if(o&&r){var u=Bn(o).hoistableScripts,h=xl(r),m=u.get(h);m||(m=o.querySelector(gc(h)),m||(r=_({src:r,async:!0,type:"module"},s),(s=Dr.get(h))&&Rg(r,s),m=o.createElement("script"),qe(m),Rn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function Ab(r,s,o,u){var h=(h=pt.current)?$h(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Cl(o.href),o=Bn(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Cl(o.href);var m=Bn(h).hoistableStyles,b=m.get(r);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,b),(m=h.querySelector(mc(r)))&&!m._p&&(b.instance=m,b.state.loading=5),Dr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Dr.set(r,o),m||yI(h,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xl(o),o=Bn(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Cl(r){return'href="'+We(r)+'"'}function mc(r){return'link[rel="stylesheet"]['+r+"]"}function Rb(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function yI(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Rn(s,"link",o),qe(s),r.head.appendChild(s))}function xl(r){return'[src="'+We(r)+'"]'}function gc(r){return"script[async]"+r}function Cb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+We(o.href)+'"]');if(u)return s.instance=u,qe(u),u;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),qe(u),Rn(u,"style",h),Gh(u,o.precedence,r),s.instance=u;case"stylesheet":h=Cl(o.href);var m=r.querySelector(mc(h));if(m)return s.state.loading|=4,s.instance=m,qe(m),m;u=Rb(o),(h=Dr.get(h))&&Ag(u,h),m=(r.ownerDocument||r).createElement("link"),qe(m);var b=m;return b._p=new Promise(function(R,U){b.onload=R,b.onerror=U}),Rn(m,"link",u),s.state.loading|=4,Gh(m,o.precedence,r),s.instance=m;case"script":return m=xl(o.src),(h=r.querySelector(gc(m)))?(s.instance=h,qe(h),h):(u=o,(h=Dr.get(m))&&(u=_({},o),Rg(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),qe(h),Rn(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Gh(u,o.precedence,r));return s.instance}function Gh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,b=0;b<u.length;b++){var R=u[b];if(R.dataset.precedence===s)m=R;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Ag(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Rg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Kh=null;function xb(r,s,o){if(Kh===null){var u=new Map,h=Kh=new Map;h.set(o,u)}else h=Kh,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var m=o[h];if(!(m[Va]||m[Ie]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=r+b;var R=u.get(b);R?R.push(m):u.set(b,[m])}}return u}function Ib(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function vI(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ob(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var yc=null;function _I(){}function EI(r,s,o){if(yc===null)throw Error(i(475));var u=yc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Cl(o.href),m=r.querySelector(mc(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Qh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,qe(m);return}m=r.ownerDocument||r,o=Rb(o),(h=Dr.get(h))&&Ag(o,h),m=m.createElement("link"),qe(m);var b=m;b._p=new Promise(function(R,U){b.onload=R,b.onerror=U}),Rn(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Qh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function bI(){if(yc===null)throw Error(i(475));var r=yc;return r.stylesheets&&r.count===0&&Cg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Cg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)Cg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Yh=null;function Cg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Yh=new Map,s.forEach(TI,r),Yh=null,Qh.call(r))}function TI(r,s){if(!(s.state.loading&4)){var o=Yh.get(r);if(o)var u=o.get(null);else{o=new Map,Yh.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}h=s.instance,b=h.getAttribute("data-precedence"),m=o.get(b)||u,m===u&&o.set(null,h),o.set(b,h),this.count++,u=Qh.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var vc={$$typeof:q,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function wI(r,s,o,u,h,m,b,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Nb(r,s,o,u,h,m,b,R,U,Q,st,lt){return r=new wI(r,s,o,b,R,U,Q,lt),s=1,m===!0&&(s|=24),m=hr(3,null,null,s),r.current=m,m.stateNode=r,s=lm(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},hm(m),r}function Db(r){return r?(r=sl,r):sl}function Mb(r,s,o,u,h,m){h=Db(h),u.context===null?u.context=h:u.pendingContext=h,u=Ns(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Ds(r,u,s),o!==null&&(yr(o,r,s),Qu(o,r,s))}function kb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function xg(r,s){kb(r,s),(r=r.alternate)&&kb(r,s)}function Pb(r){if(r.tag===13){var s=il(r,67108864);s!==null&&yr(s,r,67108864),xg(r,67108864)}}var Xh=!0;function SI(r,s,o,u){var h=H.T;H.T=null;var m=it.p;try{it.p=2,Ig(r,s,o,u)}finally{it.p=m,H.T=h}}function AI(r,s,o,u){var h=H.T;H.T=null;var m=it.p;try{it.p=8,Ig(r,s,o,u)}finally{it.p=m,H.T=h}}function Ig(r,s,o,u){if(Xh){var h=Og(u);if(h===null)gg(r,s,u,Wh,o),Lb(r,u);else if(CI(h,r,s,o,u))u.stopPropagation();else if(Lb(r,u),s&4&&-1<RI.indexOf(r)){for(;h!==null;){var m=Jr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Ye(m.pendingLanes);if(b!==0){var R=m;for(R.pendingLanes|=2,R.entangledLanes|=2;b;){var U=1<<31-ke(b);R.entanglements[1]|=U,b&=~U}di(m),(ge&6)===0&&(kh=me()+500,fc(0))}}break;case 13:R=il(m,2),R!==null&&yr(R,m,2),Vh(),xg(m,2)}if(m=Og(u),m===null&&gg(r,s,u,Wh,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else gg(r,s,u,null,o)}}function Og(r){return r=wr(r),Ng(r)}var Wh=null;function Ng(r){if(Wh=null,r=Di(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Wh=r,null}function Vb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case He:return 2;case Qe:return 8;case pn:case Re:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var Dg=!1,$s=null,Gs=null,Ks=null,_c=new Map,Ec=new Map,Qs=[],RI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lb(r,s){switch(r){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":_c.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(s.pointerId)}}function bc(r,s,o,u,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Jr(s),s!==null&&Pb(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function CI(r,s,o,u,h){switch(s){case"focusin":return $s=bc($s,r,s,o,u,h),!0;case"dragenter":return Gs=bc(Gs,r,s,o,u,h),!0;case"mouseover":return Ks=bc(Ks,r,s,o,u,h),!0;case"pointerover":var m=h.pointerId;return _c.set(m,bc(_c.get(m)||null,r,s,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,Ec.set(m,bc(Ec.get(m)||null,r,s,o,u,h)),!0}return!1}function Ub(r){var s=Di(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Ue(r.priority,function(){if(o.tag===13){var u=gr();u=Ae(u);var h=il(o,u);h!==null&&yr(h,o,u),xg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Zh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Og(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Vi=u,o.target.dispatchEvent(u),Vi=null}else return s=Jr(o),s!==null&&Pb(s),r.blockedOn=o,!1;s.shift()}return!0}function jb(r,s,o){Zh(r)&&o.delete(s)}function xI(){Dg=!1,$s!==null&&Zh($s)&&($s=null),Gs!==null&&Zh(Gs)&&(Gs=null),Ks!==null&&Zh(Ks)&&(Ks=null),_c.forEach(jb),Ec.forEach(jb)}function Jh(r,s){r.blockedOn===s&&(r.blockedOn=null,Dg||(Dg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xI)))}var td=null;function Bb(r){td!==r&&(td=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){td===r&&(td=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(Ng(u||o)===null)continue;break}var m=Jr(o);m!==null&&(r.splice(s,3),s-=3,Nm(m,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Tc(r){function s(U){return Jh(U,r)}$s!==null&&Jh($s,r),Gs!==null&&Jh(Gs,r),Ks!==null&&Jh(Ks,r),_c.forEach(s),Ec.forEach(s);for(var o=0;o<Qs.length;o++){var u=Qs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Qs.length&&(o=Qs[0],o.blockedOn===null);)Ub(o),o.blockedOn===null&&Qs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],m=o[u+1],b=h[ae]||null;if(typeof m=="function")b||Bb(o);else if(b){var R=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[ae]||null)R=b.formAction;else if(Ng(h)!==null)continue}else R=b.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),Bb(o)}}}function Mg(r){this._internalRoot=r}ed.prototype.render=Mg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=gr();Mb(o,u,r,s,null,null)},ed.prototype.unmount=Mg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Mb(r.current,2,null,r,null,null),Vh(),s[Oe]=null}};function ed(r){this._internalRoot=r}ed.prototype.unstable_scheduleHydration=function(r){if(r){var s=ur();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Qs.length&&s!==0&&s<Qs[o].priority;o++);Qs.splice(o,0,r),o===0&&Ub(r)}};var zb=t.version;if(zb!=="19.1.0")throw Error(i(527,zb,"19.1.0"));it.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var II={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{Tt=nd.inject(II),Bt=nd}catch{}}return Sc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=rE,m=iE,b=sE,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=Nb(r,1,!1,null,null,o,u,h,m,b,R,null),r[Oe]=s.current,mg(r),new Mg(s)},Sc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",m=rE,b=iE,R=sE,U=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=Nb(r,1,!0,s,o??null,u,h,m,b,R,U,Q),s.context=Db(null),o=s.current,u=gr(),u=Ae(u),h=Ns(u),h.callback=null,Ds(o,h,u),o=u,s.current.lanes=o,br(s,o),di(s),r[Oe]=s.current,mg(r),new ed(s)},Sc.version="19.1.0",Sc}var Zb;function UI(){if(Zb)return Lg.exports;Zb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Lg.exports=LI(),Lg.exports}var jI=UI(),zg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Jb;function BI(){return Jb||(Jb=1,function(n){(function(){var t={}.hasOwnProperty;function e(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=a(l,i(d)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return e.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)t.call(l,d)&&l[d]&&(c=a(c,d));return c}function a(l,c){return c?l?l+" "+c:l+c:l}n.exports?(e.default=e,n.exports=e):window.classNames=e})()}(zg)),zg.exports}var zI=BI();const wt=df(zI);function hy(){return hy=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},hy.apply(null,arguments)}function OS(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function tT(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function HI(n){var t=FI(n,"string");return typeof t=="symbol"?t:String(t)}function FI(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function qI(n,t,e){var i=w.useRef(n!==void 0),a=w.useState(t),l=a[0],c=a[1],d=n!==void 0,p=i.current;return i.current=d,!d&&p&&l!==t&&c(t),[d?n:l,w.useCallback(function(g){for(var _=arguments.length,v=new Array(_>1?_-1:0),T=1;T<_;T++)v[T-1]=arguments[T];e&&e.apply(void 0,[g].concat(v)),c(g)},[e])]}function pf(n,t){return Object.keys(t).reduce(function(e,i){var a,l=e,c=l[tT(i)],d=l[i],p=OS(l,[tT(i),i].map(HI)),g=t[i],_=qI(d,c,n[g]),v=_[0],T=_[1];return hy({},p,(a={},a[i]=v,a[g]=T,a))},n)}function dy(n,t){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},dy(n,t)}function $I(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,dy(n,t)}const GI=["xxl","xl","lg","md","sm","xs"],KI="xs",mf=w.createContext({prefixes:{},breakpoints:GI,minBreakpoint:KI}),{Consumer:UU,Provider:jU}=mf;function Mt(n,t){const{prefixes:e}=w.useContext(mf);return n||e[t]||t}function QI(){const{breakpoints:n}=w.useContext(mf);return n}function YI(){const{minBreakpoint:n}=w.useContext(mf);return n}function uv(){const{dir:n}=w.useContext(mf);return n==="rtl"}function gf(n){return n&&n.ownerDocument||document}function XI(n){var t=gf(n);return t&&t.defaultView||window}function WI(n,t){return XI(n).getComputedStyle(n,t)}var ZI=/([A-Z])/g;function JI(n){return n.replace(ZI,"-$1").toLowerCase()}var t2=/^ms-/;function id(n){return JI(n).replace(t2,"-ms-")}var e2=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function n2(n){return!!(n&&e2.test(n))}function ls(n,t){var e="",i="";if(typeof t=="string")return n.style.getPropertyValue(id(t))||WI(n).getPropertyValue(id(t));Object.keys(t).forEach(function(a){var l=t[a];!l&&l!==0?n.style.removeProperty(id(a)):n2(a)?i+=a+"("+l+") ":e+=id(a)+": "+l+";"}),i&&(e+="transform: "+i+";"),n.style.cssText+=";"+e}var Hg={exports:{}},Fg,eT;function r2(){if(eT)return Fg;eT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fg=n,Fg}var qg,nT;function i2(){if(nT)return qg;nT=1;var n=r2();function t(){}function e(){}return e.resetWarningCache=t,qg=function(){function i(c,d,p,g,_,v){if(v!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},qg}var rT;function s2(){return rT||(rT=1,Hg.exports=i2()()),Hg.exports}var a2=s2();const us=df(a2);var o2=IS();const ho=df(o2),iT={disabled:!1},NS=ct.createContext(null);var l2=function(t){return t.scrollTop},Cc="unmounted",Zs="exited",Yr="entering",ss="entered",qc="exiting",bs=function(n){$I(t,n);function t(i,a){var l;l=n.call(this,i,a)||this;var c=a,d=c&&!c.isMounting?i.enter:i.appear,p;return l.appearStatus=null,i.in?d?(p=Zs,l.appearStatus=Yr):p=ss:i.unmountOnExit||i.mountOnEnter?p=Cc:p=Zs,l.state={status:p},l.nextCallback=null,l}t.getDerivedStateFromProps=function(a,l){var c=a.in;return c&&l.status===Cc?{status:Zs}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(a){var l=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==Yr&&c!==ss&&(l=Yr):(c===Yr||c===ss)&&(l=qc)}this.updateStatus(!1,l)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var a=this.props.timeout,l,c,d;return l=c=d=a,a!=null&&typeof a!="number"&&(l=a.exit,c=a.enter,d=a.appear!==void 0?a.appear:c),{exit:l,enter:c,appear:d}},e.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===Yr){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:ho.findDOMNode(this);c&&l2(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zs&&this.setState({status:Cc})},e.performEnter=function(a){var l=this,c=this.props.enter,d=this.context?this.context.isMounting:a,p=this.props.nodeRef?[d]:[ho.findDOMNode(this),d],g=p[0],_=p[1],v=this.getTimeouts(),T=d?v.appear:v.enter;if(!a&&!c||iT.disabled){this.safeSetState({status:ss},function(){l.props.onEntered(g)});return}this.props.onEnter(g,_),this.safeSetState({status:Yr},function(){l.props.onEntering(g,_),l.onTransitionEnd(T,function(){l.safeSetState({status:ss},function(){l.props.onEntered(g,_)})})})},e.performExit=function(){var a=this,l=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:ho.findDOMNode(this);if(!l||iT.disabled){this.safeSetState({status:Zs},function(){a.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:qc},function(){a.props.onExiting(d),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:Zs},function(){a.props.onExited(d)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},e.setNextCallback=function(a){var l=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,l.nextCallback=null,a(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},e.onTransitionEnd=function(a,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:ho.findDOMNode(this),d=a==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],_=p[1];this.props.addEndListener(g,_)}a!=null&&setTimeout(this.nextCallback,a)},e.render=function(){var a=this.state.status;if(a===Cc)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=OS(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ct.createElement(NS.Provider,{value:null},typeof c=="function"?c(a,d):ct.cloneElement(ct.Children.only(c),d))},t}(ct.Component);bs.contextType=NS;bs.propTypes={};function Il(){}bs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Il,onEntering:Il,onEntered:Il,onExit:Il,onExiting:Il,onExited:Il};bs.UNMOUNTED=Cc;bs.EXITED=Zs;bs.ENTERING=Yr;bs.ENTERED=ss;bs.EXITING=qc;function u2(n){return n.code==="Escape"||n.keyCode===27}function c2(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function du(n){if(!n||typeof n=="function")return null;const{major:t}=c2();return t>=19?n.props.ref:n.ref}const pu=!!(typeof window<"u"&&window.document&&window.document.createElement);var py=!1,my=!1;try{var $g={get passive(){return py=!0},get once(){return my=py=!0}};pu&&(window.addEventListener("test",$g,$g),window.removeEventListener("test",$g,!0))}catch{}function cv(n,t,e,i){if(i&&typeof i!="boolean"&&!my){var a=i.once,l=i.capture,c=e;!my&&a&&(c=e.__once||function d(p){this.removeEventListener(t,d,l),e.call(this,p)},e.__once=c),n.addEventListener(t,c,py?i:l)}n.addEventListener(t,e,i)}function gy(n,t,e,i){var a=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(t,e,a),e.__once&&n.removeEventListener(t,e.__once,a)}function pa(n,t,e,i){return cv(n,t,e,i),function(){gy(n,t,e,i)}}function f2(n,t,e,i){if(i===void 0&&(i=!0),n){var a=document.createEvent("HTMLEvents");a.initEvent(t,e,i),n.dispatchEvent(a)}}function h2(n){var t=ls(n,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function d2(n,t,e){e===void 0&&(e=5);var i=!1,a=setTimeout(function(){i||f2(n,"transitionend",!0)},t+e),l=pa(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),l()}}function DS(n,t,e,i){e==null&&(e=h2(n)||0);var a=d2(n,e,i),l=pa(n,"transitionend",t);return function(){a(),l()}}function sT(n,t){const e=ls(n,t)||"",i=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*i}function op(n,t){const e=sT(n,"transitionDuration"),i=sT(n,"transitionDelay"),a=DS(n,l=>{l.target===n&&(a(),t(l))},e+i)}function Ac(...n){return n.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...a){t.apply(this,a),e.apply(this,a)}},null)}function fv(n){n.offsetHeight}const aT=n=>!n||typeof n=="function"?n:t=>{n.current=t};function p2(n,t){const e=aT(n),i=aT(t);return a=>{e&&e(a),i&&i(a)}}function lp(n,t){return w.useMemo(()=>p2(n,t),[n,t])}function m2(n){return n&&"setState"in n?ho.findDOMNode(n):n??null}const yf=ct.forwardRef(({onEnter:n,onEntering:t,onEntered:e,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:d,childRef:p,...g},_)=>{const v=w.useRef(null),T=lp(v,p),O=rt=>{T(m2(rt))},M=rt=>D=>{rt&&v.current&&rt(v.current,D)},j=w.useCallback(M(n),[n]),I=w.useCallback(M(t),[t]),K=w.useCallback(M(e),[e]),Y=w.useCallback(M(i),[i]),q=w.useCallback(M(a),[a]),X=w.useCallback(M(l),[l]),tt=w.useCallback(M(c),[c]);return S.jsx(bs,{ref:_,...g,onEnter:j,onEntered:K,onEntering:I,onExit:Y,onExited:X,onExiting:q,addEndListener:tt,nodeRef:v,children:typeof d=="function"?(rt,D)=>d(rt,{...D,ref:O}):ct.cloneElement(d,{ref:O})})});yf.displayName="TransitionWrapper";const g2={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function y2(n,t){const e=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=t[e],a=g2[n];return i+parseInt(ls(t,a[0]),10)+parseInt(ls(t,a[1]),10)}const v2={[Zs]:"collapse",[qc]:"collapsing",[Yr]:"collapsing",[ss]:"collapse show"},hv=ct.forwardRef(({onEnter:n,onEntering:t,onEntered:e,onExit:i,onExiting:a,className:l,children:c,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:_=!1,unmountOnExit:v=!1,appear:T=!1,getDimensionValue:O=y2,...M},j)=>{const I=typeof d=="function"?d():d,K=w.useMemo(()=>Ac(rt=>{rt.style[I]="0"},n),[I,n]),Y=w.useMemo(()=>Ac(rt=>{const D=`scroll${I[0].toUpperCase()}${I.slice(1)}`;rt.style[I]=`${rt[D]}px`},t),[I,t]),q=w.useMemo(()=>Ac(rt=>{rt.style[I]=null},e),[I,e]),X=w.useMemo(()=>Ac(rt=>{rt.style[I]=`${O(I,rt)}px`,fv(rt)},i),[i,O,I]),tt=w.useMemo(()=>Ac(rt=>{rt.style[I]=null},a),[I,a]);return S.jsx(yf,{ref:j,addEndListener:op,...M,"aria-expanded":M.role?p:null,onEnter:K,onEntering:Y,onEntered:q,onExit:X,onExiting:tt,childRef:du(c),in:p,timeout:g,mountOnEnter:_,unmountOnExit:v,appear:T,children:(rt,D)=>ct.cloneElement(c,{...D,className:wt(l,c.props.className,v2[rt],I==="width"&&"collapse-horizontal")})})});hv.displayName="Collapse";function MS(n,t){return Array.isArray(n)?n.includes(t):n===t}const vf=w.createContext({});vf.displayName="AccordionContext";const dv=w.forwardRef(({as:n="div",bsPrefix:t,className:e,children:i,eventKey:a,...l},c)=>{const{activeEventKey:d}=w.useContext(vf);return t=Mt(t,"accordion-collapse"),S.jsx(hv,{ref:c,in:MS(d,a),...l,className:wt(e,t),children:S.jsx(n,{children:w.Children.only(i)})})});dv.displayName="AccordionCollapse";const up=w.createContext({eventKey:""});up.displayName="AccordionItemContext";const kS=w.forwardRef(({as:n="div",bsPrefix:t,className:e,onEnter:i,onEntering:a,onEntered:l,onExit:c,onExiting:d,onExited:p,...g},_)=>{t=Mt(t,"accordion-body");const{eventKey:v}=w.useContext(up);return S.jsx(dv,{eventKey:v,onEnter:i,onEntering:a,onEntered:l,onExit:c,onExiting:d,onExited:p,children:S.jsx(n,{ref:_,...g,className:wt(e,t)})})});kS.displayName="AccordionBody";function _2(n,t){const{activeEventKey:e,onSelect:i,alwaysOpen:a}=w.useContext(vf);return l=>{let c=n===e?null:n;a&&(Array.isArray(e)?e.includes(n)?c=e.filter(d=>d!==n):c=[...e,n]:c=[n]),i==null||i(c,l),t==null||t(l)}}const pv=w.forwardRef(({as:n="button",bsPrefix:t,className:e,onClick:i,...a},l)=>{t=Mt(t,"accordion-button");const{eventKey:c}=w.useContext(up),d=_2(c,i),{activeEventKey:p}=w.useContext(vf);return n==="button"&&(a.type="button"),S.jsx(n,{ref:l,onClick:d,...a,"aria-expanded":Array.isArray(p)?p.includes(c):c===p,className:wt(e,t,!MS(p,c)&&"collapsed")})});pv.displayName="AccordionButton";const PS=w.forwardRef(({as:n="h2","aria-controls":t,bsPrefix:e,className:i,children:a,onClick:l,...c},d)=>(e=Mt(e,"accordion-header"),S.jsx(n,{ref:d,...c,className:wt(i,e),children:S.jsx(pv,{onClick:l,"aria-controls":t,children:a})})));PS.displayName="AccordionHeader";const VS=w.forwardRef(({as:n="div",bsPrefix:t,className:e,eventKey:i,...a},l)=>{t=Mt(t,"accordion-item");const c=w.useMemo(()=>({eventKey:i}),[i]);return S.jsx(up.Provider,{value:c,children:S.jsx(n,{ref:l,...a,className:wt(e,t)})})});VS.displayName="AccordionItem";const LS=w.forwardRef((n,t)=>{const{as:e="div",activeKey:i,bsPrefix:a,className:l,onSelect:c,flush:d,alwaysOpen:p,...g}=pf(n,{activeKey:"onSelect"}),_=Mt(a,"accordion"),v=w.useMemo(()=>({activeEventKey:i,onSelect:c,alwaysOpen:p}),[i,c,p]);return S.jsx(vf.Provider,{value:v,children:S.jsx(e,{ref:t,...g,className:wt(l,_,d&&`${_}-flush`)})})});LS.displayName="Accordion";const sd=Object.assign(LS,{Button:pv,Collapse:dv,Item:VS,Header:PS,Body:kS});var US={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oT=ct.createContext&&ct.createContext(US),E2=["attr","size","title"];function b2(n,t){if(n==null)return{};var e=T2(n,t),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function T2(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Dd(){return Dd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Dd.apply(this,arguments)}function lT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,i)}return e}function Md(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(e),!0).forEach(function(i){w2(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):lT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function w2(n,t,e){return t=S2(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function S2(n){var t=A2(n,"string");return typeof t=="symbol"?t:t+""}function A2(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function jS(n){return n&&n.map((t,e)=>ct.createElement(t.tag,Md({key:e},t.attr),jS(t.child)))}function _f(n){return t=>ct.createElement(R2,Dd({attr:Md({},n.attr)},t),jS(n.child))}function R2(n){var t=e=>{var{attr:i,size:a,title:l}=n,c=b2(n,E2),d=a||e.size||"1em",p;return e.className&&(p=e.className),n.className&&(p=(p?p+" ":"")+n.className),ct.createElement("svg",Dd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:p,style:Md(Md({color:n.color||e.color},e.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ct.createElement("title",null,l),n.children)};return oT!==void 0?ct.createElement(oT.Consumer,null,e=>t(e)):t(US)}function C2(n){return _f({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function x2(n){return _f({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(n)}function I2(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}const O2=n=>{switch(n){case"success":return M2;case"info":return P2;case"warning":return k2;case"error":return V2;default:return null}},N2=Array(12).fill(0),D2=({visible:n,className:t})=>ct.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},ct.createElement("div",{className:"sonner-spinner"},N2.map((e,i)=>ct.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),M2=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),k2=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),P2=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),V2=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),L2=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ct.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ct.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),U2=()=>{const[n,t]=ct.useState(document.hidden);return ct.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n};let yy=1;class j2{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:i,...a}=t,l=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:yy++,c=this.toasts.find(p=>p.id===l),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...t,id:l,title:i}),{...p,...t,id:l,dismissible:d,title:i}):p):this.addToast({title:i,...a,dismissible:d,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(i=>i({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let i;e.loading!==void 0&&(i=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let l=i!==void 0,c;const d=a.then(async g=>{if(c=["resolve",g],ct.isValidElement(g))l=!1,this.create({id:i,type:"default",message:g});else if(z2(g)&&!g.ok){l=!1;const v=typeof e.error=="function"?await e.error(`HTTP error! status: ${g.status}`):e.error,T=typeof e.description=="function"?await e.description(`HTTP error! status: ${g.status}`):e.description,M=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:T,...M})}else if(g instanceof Error){l=!1;const v=typeof e.error=="function"?await e.error(g):e.error,T=typeof e.description=="function"?await e.description(g):e.description,M=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:T,...M})}else if(e.success!==void 0){l=!1;const v=typeof e.success=="function"?await e.success(g):e.success,T=typeof e.description=="function"?await e.description(g):e.description,M=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:i,type:"success",description:T,...M})}}).catch(async g=>{if(c=["reject",g],e.error!==void 0){l=!1;const _=typeof e.error=="function"?await e.error(g):e.error,v=typeof e.description=="function"?await e.description(g):e.description,O=typeof _=="object"&&!ct.isValidElement(_)?_:{message:_};this.create({id:i,type:"error",description:v,...O})}}).finally(()=>{l&&(this.dismiss(i),i=void 0),e.finally==null||e.finally.call(e)}),p=()=>new Promise((g,_)=>d.then(()=>c[0]==="reject"?_(c[1]):g(c[1])).catch(_));return typeof i!="string"&&typeof i!="number"?{unwrap:p}:Object.assign(i,{unwrap:p})},this.custom=(t,e)=>{const i=(e==null?void 0:e.id)||yy++;return this.create({jsx:t(i),id:i,...e}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const nr=new j2,B2=(n,t)=>{const e=(t==null?void 0:t.id)||yy++;return nr.addToast({title:n,...t,id:e}),e},z2=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",H2=B2,F2=()=>nr.toasts,q2=()=>nr.getActiveToasts(),Xr=Object.assign(H2,{success:nr.success,info:nr.info,warning:nr.warning,error:nr.error,custom:nr.custom,message:nr.message,promise:nr.promise,dismiss:nr.dismiss,loading:nr.loading},{getHistory:F2,getToasts:q2});I2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ad(n){return n.label!==void 0}const $2=3,G2="24px",K2="16px",uT=4e3,Q2=356,Y2=14,X2=45,W2=200;function pi(...n){return n.filter(Boolean).join(" ")}function Z2(n){const[t,e]=n.split("-"),i=[];return t&&i.push(t),e&&i.push(e),i}const J2=n=>{var t,e,i,a,l,c,d,p,g;const{invert:_,toast:v,unstyled:T,interacting:O,setHeights:M,visibleToasts:j,heights:I,index:K,toasts:Y,expanded:q,removeToast:X,defaultRichColors:tt,closeButton:rt,style:D,cancelButtonStyle:A,actionButtonStyle:x,className:k="",descriptionClassName:P="",duration:V,position:N,gap:Et,expandByDefault:St,classNames:H,icons:it,closeButtonAriaLabel:dt="Close toast"}=n,[yt,L]=ct.useState(null),[Z,ot]=ct.useState(null),[et,ht]=ct.useState(!1),[vt,pt]=ct.useState(!1),[Xt,xt]=ct.useState(!1),[pe,we]=ct.useState(!1),[le,ce]=ct.useState(!1),[Le,Me]=ct.useState(0),[zt,bn]=ct.useState(0),me=ct.useRef(v.duration||V||uT),Er=ct.useRef(null),He=ct.useRef(null),Qe=K===0,pn=K+1<=j,Re=v.type,Fe=v.dismissible!==!1,rn=v.className||"",Qn=v.descriptionClassName||"",Tt=ct.useMemo(()=>I.findIndex(Nt=>Nt.toastId===v.id)||0,[I,v.id]),Bt=ct.useMemo(()=>{var Nt;return(Nt=v.closeButton)!=null?Nt:rt},[v.closeButton,rt]),Ce=ct.useMemo(()=>v.duration||V||uT,[v.duration,V]),ke=ct.useRef(0),jn=ct.useRef(0),xi=ct.useRef(0),At=ct.useRef(null),[Wt,sn]=N.split("-"),Ye=ct.useMemo(()=>I.reduce((Nt,xe,Ae)=>Ae>=Tt?Nt:Nt+xe.height,0),[I,Tt]),Ur=U2(),Ii=v.invert||_,Oi=Re==="loading";jn.current=ct.useMemo(()=>Tt*Et+Ye,[Tt,Ye]),ct.useEffect(()=>{me.current=Ce},[Ce]),ct.useEffect(()=>{ht(!0)},[]),ct.useEffect(()=>{const Nt=He.current;if(Nt){const xe=Nt.getBoundingClientRect().height;return bn(xe),M(Ae=>[{toastId:v.id,height:xe,position:v.position},...Ae]),()=>M(Ae=>Ae.filter(Xe=>Xe.toastId!==v.id))}},[M,v.id]),ct.useLayoutEffect(()=>{if(!et)return;const Nt=He.current,xe=Nt.style.height;Nt.style.height="auto";const Ae=Nt.getBoundingClientRect().height;Nt.style.height=xe,bn(Ae),M(Xe=>Xe.find(Ue=>Ue.toastId===v.id)?Xe.map(Ue=>Ue.toastId===v.id?{...Ue,height:Ae}:Ue):[{toastId:v.id,height:Ae,position:v.position},...Xe])},[et,v.title,v.description,M,v.id,v.jsx,v.action,v.cancel]);const Yn=ct.useCallback(()=>{pt(!0),Me(jn.current),M(Nt=>Nt.filter(xe=>xe.toastId!==v.id)),setTimeout(()=>{X(v)},W2)},[v,X,M,jn]);ct.useEffect(()=>{if(v.promise&&Re==="loading"||v.duration===1/0||v.type==="loading")return;let Nt;return q||O||Ur?(()=>{if(xi.current<ke.current){const Xe=new Date().getTime()-ke.current;me.current=me.current-Xe}xi.current=new Date().getTime()})():(()=>{me.current!==1/0&&(ke.current=new Date().getTime(),Nt=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Yn()},me.current))})(),()=>clearTimeout(Nt)},[q,O,v,Re,Ur,Yn]),ct.useEffect(()=>{v.delete&&(Yn(),v.onDismiss==null||v.onDismiss.call(v,v))},[Yn,v.delete]);function Pa(){var Nt;if(it!=null&&it.loading){var xe;return ct.createElement("div",{className:pi(H==null?void 0:H.loader,v==null||(xe=v.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":Re==="loading"},it.loading)}return ct.createElement(D2,{className:pi(H==null?void 0:H.loader,v==null||(Nt=v.classNames)==null?void 0:Nt.loader),visible:Re==="loading"})}const jr=v.icon||(it==null?void 0:it[Re])||O2(Re);var br,ws;return ct.createElement("li",{tabIndex:0,ref:He,className:pi(k,rn,H==null?void 0:H.toast,v==null||(t=v.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[Re],v==null||(e=v.classNames)==null?void 0:e[Re]),"data-sonner-toast":"","data-rich-colors":(br=v.richColors)!=null?br:tt,"data-styled":!(v.jsx||v.unstyled||T),"data-mounted":et,"data-promise":!!v.promise,"data-swiped":le,"data-removed":vt,"data-visible":pn,"data-y-position":Wt,"data-x-position":sn,"data-index":K,"data-front":Qe,"data-swiping":Xt,"data-dismissible":Fe,"data-type":Re,"data-invert":Ii,"data-swipe-out":pe,"data-swipe-direction":Z,"data-expanded":!!(q||St&&et),style:{"--index":K,"--toasts-before":K,"--z-index":Y.length-K,"--offset":`${vt?Le:jn.current}px`,"--initial-height":St?"auto":`${zt}px`,...D,...v.style},onDragEnd:()=>{xt(!1),L(null),At.current=null},onPointerDown:Nt=>{Oi||!Fe||(Er.current=new Date,Me(jn.current),Nt.target.setPointerCapture(Nt.pointerId),Nt.target.tagName!=="BUTTON"&&(xt(!0),At.current={x:Nt.clientX,y:Nt.clientY}))},onPointerUp:()=>{var Nt,xe,Ae;if(pe||!Fe)return;At.current=null;const Xe=Number(((Nt=He.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ur=Number(((xe=He.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ue=new Date().getTime()-((Ae=Er.current)==null?void 0:Ae.getTime()),Kt=yt==="x"?Xe:ur,Ie=Math.abs(Kt)/Ue;if(Math.abs(Kt)>=X2||Ie>.11){Me(jn.current),v.onDismiss==null||v.onDismiss.call(v,v),ot(yt==="x"?Xe>0?"right":"left":ur>0?"down":"up"),Yn(),we(!0);return}else{var ae,Oe;(ae=He.current)==null||ae.style.setProperty("--swipe-amount-x","0px"),(Oe=He.current)==null||Oe.style.setProperty("--swipe-amount-y","0px")}ce(!1),xt(!1),L(null)},onPointerMove:Nt=>{var xe,Ae,Xe;if(!At.current||!Fe||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;const Ue=Nt.clientY-At.current.y,Kt=Nt.clientX-At.current.x;var Ie;const ae=(Ie=n.swipeDirections)!=null?Ie:Z2(N);!yt&&(Math.abs(Kt)>1||Math.abs(Ue)>1)&&L(Math.abs(Kt)>Math.abs(Ue)?"x":"y");let Oe={x:0,y:0};const Ss=Br=>1/(1.5+Math.abs(Br)/20);if(yt==="y"){if(ae.includes("top")||ae.includes("bottom"))if(ae.includes("top")&&Ue<0||ae.includes("bottom")&&Ue>0)Oe.y=Ue;else{const Br=Ue*Ss(Ue);Oe.y=Math.abs(Br)<Math.abs(Ue)?Br:Ue}}else if(yt==="x"&&(ae.includes("left")||ae.includes("right")))if(ae.includes("left")&&Kt<0||ae.includes("right")&&Kt>0)Oe.x=Kt;else{const Br=Kt*Ss(Kt);Oe.x=Math.abs(Br)<Math.abs(Kt)?Br:Kt}(Math.abs(Oe.x)>0||Math.abs(Oe.y)>0)&&ce(!0),(Ae=He.current)==null||Ae.style.setProperty("--swipe-amount-x",`${Oe.x}px`),(Xe=He.current)==null||Xe.style.setProperty("--swipe-amount-y",`${Oe.y}px`)}},Bt&&!v.jsx&&Re!=="loading"?ct.createElement("button",{"aria-label":dt,"data-disabled":Oi,"data-close-button":!0,onClick:Oi||!Fe?()=>{}:()=>{Yn(),v.onDismiss==null||v.onDismiss.call(v,v)},className:pi(H==null?void 0:H.closeButton,v==null||(i=v.classNames)==null?void 0:i.closeButton)},(ws=it==null?void 0:it.close)!=null?ws:L2):null,(Re||v.icon||v.promise)&&v.icon!==null&&((it==null?void 0:it[Re])!==null||v.icon)?ct.createElement("div",{"data-icon":"",className:pi(H==null?void 0:H.icon,v==null||(a=v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Pa():null,v.type!=="loading"?jr:null):null,ct.createElement("div",{"data-content":"",className:pi(H==null?void 0:H.content,v==null||(l=v.classNames)==null?void 0:l.content)},ct.createElement("div",{"data-title":"",className:pi(H==null?void 0:H.title,v==null||(c=v.classNames)==null?void 0:c.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?ct.createElement("div",{"data-description":"",className:pi(P,Qn,H==null?void 0:H.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),ct.isValidElement(v.cancel)?v.cancel:v.cancel&&ad(v.cancel)?ct.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||A,onClick:Nt=>{ad(v.cancel)&&Fe&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Nt),Yn())},className:pi(H==null?void 0:H.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,ct.isValidElement(v.action)?v.action:v.action&&ad(v.action)?ct.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||x,onClick:Nt=>{ad(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Nt),!Nt.defaultPrevented&&Yn())},className:pi(H==null?void 0:H.actionButton,v==null||(g=v.classNames)==null?void 0:g.actionButton)},v.action.label):null)};function cT(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function tO(n,t){const e={};return[n,t].forEach((i,a)=>{const l=a===1,c=l?"--mobile-offset":"--offset",d=l?K2:G2;function p(g){["top","right","bottom","left"].forEach(_=>{e[`${c}-${_}`]=typeof g=="number"?`${g}px`:g})}typeof i=="number"||typeof i=="string"?p(i):typeof i=="object"?["top","right","bottom","left"].forEach(g=>{i[g]===void 0?e[`${c}-${g}`]=d:e[`${c}-${g}`]=typeof i[g]=="number"?`${i[g]}px`:i[g]}):p(d)}),e}const Ef=ct.forwardRef(function(t,e){const{invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:p,offset:g,mobileOffset:_,theme:v="light",richColors:T,duration:O,style:M,visibleToasts:j=$2,toastOptions:I,dir:K=cT(),gap:Y=Y2,icons:q,containerAriaLabel:X="Notifications"}=t,[tt,rt]=ct.useState([]),D=ct.useMemo(()=>Array.from(new Set([a].concat(tt.filter(Z=>Z.position).map(Z=>Z.position)))),[tt,a]),[A,x]=ct.useState([]),[k,P]=ct.useState(!1),[V,N]=ct.useState(!1),[Et,St]=ct.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=ct.useRef(null),it=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),dt=ct.useRef(null),yt=ct.useRef(!1),L=ct.useCallback(Z=>{rt(ot=>{var et;return(et=ot.find(ht=>ht.id===Z.id))!=null&&et.delete||nr.dismiss(Z.id),ot.filter(({id:ht})=>ht!==Z.id)})},[]);return ct.useEffect(()=>nr.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{rt(ot=>ot.map(et=>et.id===Z.id?{...et,delete:!0}:et))});return}setTimeout(()=>{ho.flushSync(()=>{rt(ot=>{const et=ot.findIndex(ht=>ht.id===Z.id);return et!==-1?[...ot.slice(0,et),{...ot[et],...Z},...ot.slice(et+1)]:[Z,...ot]})})})}),[tt]),ct.useEffect(()=>{if(v!=="system"){St(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?St("dark"):St("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:ot})=>{St(ot?"dark":"light")})}catch{Z.addListener(({matches:et})=>{try{St(et?"dark":"light")}catch(ht){console.error(ht)}})}},[v]),ct.useEffect(()=>{tt.length<=1&&P(!1)},[tt]),ct.useEffect(()=>{const Z=ot=>{var et;if(l.every(pt=>ot[pt]||ot.code===pt)){var vt;P(!0),(vt=H.current)==null||vt.focus()}ot.code==="Escape"&&(document.activeElement===H.current||(et=H.current)!=null&&et.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[l]),ct.useEffect(()=>{if(H.current)return()=>{dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null,yt.current=!1)}},[H.current]),ct.createElement("section",{ref:e,"aria-label":`${X} ${it}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((Z,ot)=>{var et;const[ht,vt]=Z.split("-");return tt.length?ct.createElement("ol",{key:Z,dir:K==="auto"?cT():K,tabIndex:-1,ref:H,className:p,"data-sonner-toaster":!0,"data-sonner-theme":Et,"data-y-position":ht,"data-x-position":vt,style:{"--front-toast-height":`${((et=A[0])==null?void 0:et.height)||0}px`,"--width":`${Q2}px`,"--gap":`${Y}px`,...M,...tO(g,_)},onBlur:pt=>{yt.current&&!pt.currentTarget.contains(pt.relatedTarget)&&(yt.current=!1,dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null))},onFocus:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||yt.current||(yt.current=!0,dt.current=pt.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{V||P(!1)},onDragEnd:()=>P(!1),onPointerDown:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},tt.filter(pt=>!pt.position&&ot===0||pt.position===Z).map((pt,Xt)=>{var xt,pe;return ct.createElement(J2,{key:pt.id,icons:q,index:Xt,toast:pt,defaultRichColors:T,duration:(xt=I==null?void 0:I.duration)!=null?xt:O,className:I==null?void 0:I.className,descriptionClassName:I==null?void 0:I.descriptionClassName,invert:i,visibleToasts:j,closeButton:(pe=I==null?void 0:I.closeButton)!=null?pe:d,interacting:V,position:Z,style:I==null?void 0:I.style,unstyled:I==null?void 0:I.unstyled,classNames:I==null?void 0:I.classNames,cancelButtonStyle:I==null?void 0:I.cancelButtonStyle,actionButtonStyle:I==null?void 0:I.actionButtonStyle,closeButtonAriaLabel:I==null?void 0:I.closeButtonAriaLabel,removeToast:L,toasts:tt.filter(we=>we.position==pt.position),heights:A.filter(we=>we.position==pt.position),setHeights:x,expandByDefault:c,gap:Y,expanded:k,swipeDirections:t.swipeDirections})})):null}))}),BS=w.createContext({gameMode:"",setGameMode:()=>console.log("Failed to provide setGameMode.")}),bf=()=>w.useContext(BS),zS=w.createContext({currentUser:null,loading:!0}),cp=()=>w.useContext(zS),Jt=Object.freeze({PRACTICE:"practice",CLASSIC:"classic",ROYALE:"royale"}),HS=w.createContext({darkMode:"dark",toggleDarkMode:()=>console.log("Failed to provide dark mode")}),Vo=()=>w.useContext(HS);function eO({togglePlayWordle:n}){const{gameMode:t,setGameMode:e}=bf(),{currentUser:i}=cp(),{darkMode:a}=Vo(),[l,c]=w.useState(t),d=w.useRef(null),[p,g]=w.useState(!1);return w.useEffect(()=>{t!==l&&c(t)},[t]),w.useEffect(()=>{const _=v=>{d.current&&!d.current.contains(v.target)&&g(!1)};return document.addEventListener("mousedown",v=>_(v)),()=>document.addEventListener("mousedown",v=>_(v))},[]),S.jsxs(S.Fragment,{children:[S.jsx(Ef,{richColors:!0,position:"top-center"}),S.jsxs("div",{className:`game-mode-selector ${a}`,children:[S.jsx("div",{className:"play-btn flex-center",onClick:n,children:S.jsx(x2,{})}),S.jsx(sd,{activeKey:"true",className:"game-mode",ref:d,children:S.jsxs(sd.Item,{eventKey:String(p),children:[S.jsx(sd.Header,{onClick:()=>{g(!p)},children:S.jsx("span",{className:"current-mode",children:l.toUpperCase()})}),S.jsx(sd.Body,{onExited:()=>{e(l)},children:S.jsx("ol",{children:Object.keys(Jt).map((_,v)=>Jt[_]===t?null:S.jsx("li",{className:`selector-list ${v+1===Object.keys(Jt).length&&"last"}`,onClick:()=>{i||Jt[_]===Jt.PRACTICE?(g(!1),c(Jt[_])):Xr.warning("Log in to play.")},children:S.jsx("span",{className:"mode",children:Jt[_].toUpperCase()})},v))})})]})})]})]})}const nO=()=>{};var fT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},rO=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],d=n[e++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},qS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,_=l>>2,v=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,O=g&63;p||(O=64,c||(T=64)),i.push(e[_],e[v],e[T],e[O])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(FS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):rO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||v==null)throw new iO;const T=l<<2|d>>4;if(i.push(T),g!==64){const O=d<<4&240|g>>2;if(i.push(O),v!==64){const M=g<<6&192|v;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sO=function(n){const t=FS(n);return qS.encodeByteArray(t,!0)},kd=function(n){return sO(n).replace(/\./g,"")},$S=function(n){try{return qS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=()=>aO().__FIREBASE_DEFAULTS__,lO=()=>{if(typeof process>"u"||typeof fT>"u")return;const n=fT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&$S(n[1]);return t&&JSON.parse(t)},fp=()=>{try{return nO()||oO()||lO()||uO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GS=n=>{var t,e;return(e=(t=fp())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},cO=n=>{const t=GS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},KS=()=>{var n;return(n=fp())===null||n===void 0?void 0:n.config},QS=n=>{var t;return(t=fp())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(n){return n.endsWith(".cloudworkstations.dev")}async function YS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kd(JSON.stringify(e)),kd(JSON.stringify(c)),""].join(".")}const Pc={};function dO(){const n={prod:[],emulator:[]};for(const t of Object.keys(Pc))Pc[t]?n.emulator.push(t):n.prod.push(t);return n}function pO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let hT=!1;function XS(n,t){if(typeof window>"u"||typeof document>"u"||!mu(window.location.host)||Pc[n]===t||Pc[n]||hT)return;Pc[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=dO().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,O){T.setAttribute("width","24"),T.setAttribute("id",O),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{hT=!0,c()},T}function _(T,O){T.setAttribute("id",O),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=pO(i),O=e("text"),M=document.getElementById(O)||document.createElement("span"),j=e("learnmore"),I=document.getElementById(j)||document.createElement("a"),K=e("preprendIcon"),Y=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const q=T.element;d(q),_(I,j);const X=g();p(Y,K),q.append(Y,M,I,X),document.body.appendChild(q)}l?(M.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function gO(){var n;const t=(n=fp())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _O(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EO(){const n=Un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bO(){return!gO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TO(){try{return typeof indexedDB=="object"}catch{return!1}}function wO(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="FirebaseError";class Ts extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=SO,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tf.prototype.create)}}class Tf{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?AO(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ts(a,d,i)}}function AO(n,t){return n.replace(RO,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const RO=/\{\$([^}]+)}/g;function CO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ao(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],c=t[a];if(dT(l)&&dT(c)){if(!Ao(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function dT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function xc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Ic(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function xO(n,t){const e=new IO(n,t);return e.subscribe.bind(e)}class IO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");OO(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=Gg),a.error===void 0&&(a.error=Gg),a.complete===void 0&&(a.complete=Gg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(n){return n&&n._delegate?n._delegate:n}class Ro{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new fO;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MO(t))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=fo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fo){return this.instances.has(t)}getOptions(t=fo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(t,e){var i;const a=this.normalizeInstanceIdentifier(e),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:DO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=fo){return this.component?this.component.multipleInstances?t:fo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DO(n){return n===fo?void 0:n}function MO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new NO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Zt||(Zt={}));const PO={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},VO=Zt.INFO,LO={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},UO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=LO[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mv{constructor(t){this.name=t,this._logLevel=VO,this._logHandler=UO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...t),this._logHandler(this,Zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...t),this._logHandler(this,Zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...t),this._logHandler(this,Zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...t),this._logHandler(this,Zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...t),this._logHandler(this,Zt.ERROR,...t)}}const jO=(n,t)=>t.some(e=>n instanceof e);let pT,mT;function BO(){return pT||(pT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zO(){return mT||(mT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WS=new WeakMap,vy=new WeakMap,ZS=new WeakMap,Kg=new WeakMap,gv=new WeakMap;function HO(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(ga(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&WS.set(e,n)}).catch(()=>{}),gv.set(t,n),t}function FO(n){if(vy.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});vy.set(n,t)}let _y={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return vy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ZS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ga(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function qO(n){_y=n(_y)}function $O(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Qg(this),t,...e);return ZS.set(i,t.sort?t.sort():[t]),ga(i)}:zO().includes(n)?function(...t){return n.apply(Qg(this),t),ga(WS.get(this))}:function(...t){return ga(n.apply(Qg(this),t))}}function GO(n){return typeof n=="function"?$O(n):(n instanceof IDBTransaction&&FO(n),jO(n,BO())?new Proxy(n,_y):n)}function ga(n){if(n instanceof IDBRequest)return HO(n);if(Kg.has(n))return Kg.get(n);const t=GO(n);return t!==n&&(Kg.set(n,t),gv.set(t,n)),t}const Qg=n=>gv.get(n);function KO(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),d=ga(c);return i&&c.addEventListener("upgradeneeded",p=>{i(ga(c.result),p.oldVersion,p.newVersion,ga(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const QO=["get","getKey","getAll","getAllKeys","count"],YO=["put","add","delete","clear"],Yg=new Map;function gT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Yg.get(t))return Yg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=YO.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||QO.includes(e)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),a&&p.done]))[0]};return Yg.set(t,l),l}qO(n=>({...n,get:(t,e,i)=>gT(t,e)||n.get(t,e,i),has:(t,e)=>!!gT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(WO(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function WO(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ey="@firebase/app",yT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new mv("@firebase/app"),ZO="@firebase/app-compat",JO="@firebase/analytics-compat",tN="@firebase/analytics",eN="@firebase/app-check-compat",nN="@firebase/app-check",rN="@firebase/auth",iN="@firebase/auth-compat",sN="@firebase/database",aN="@firebase/data-connect",oN="@firebase/database-compat",lN="@firebase/functions",uN="@firebase/functions-compat",cN="@firebase/installations",fN="@firebase/installations-compat",hN="@firebase/messaging",dN="@firebase/messaging-compat",pN="@firebase/performance",mN="@firebase/performance-compat",gN="@firebase/remote-config",yN="@firebase/remote-config-compat",vN="@firebase/storage",_N="@firebase/storage-compat",EN="@firebase/firestore",bN="@firebase/ai",TN="@firebase/firestore-compat",wN="firebase",SN="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="[DEFAULT]",AN={[Ey]:"fire-core",[ZO]:"fire-core-compat",[tN]:"fire-analytics",[JO]:"fire-analytics-compat",[nN]:"fire-app-check",[eN]:"fire-app-check-compat",[rN]:"fire-auth",[iN]:"fire-auth-compat",[sN]:"fire-rtdb",[aN]:"fire-data-connect",[oN]:"fire-rtdb-compat",[lN]:"fire-fn",[uN]:"fire-fn-compat",[cN]:"fire-iid",[fN]:"fire-iid-compat",[hN]:"fire-fcm",[dN]:"fire-fcm-compat",[pN]:"fire-perf",[mN]:"fire-perf-compat",[gN]:"fire-rc",[yN]:"fire-rc-compat",[vN]:"fire-gcs",[_N]:"fire-gcs-compat",[EN]:"fire-fst",[TN]:"fire-fst-compat",[bN]:"fire-vertex","fire-js":"fire-js",[wN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new Map,RN=new Map,Ty=new Map;function vT(n,t){try{n.container.addComponent(t)}catch(e){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Jl(n){const t=n.name;if(Ty.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;Ty.set(t,n);for(const e of Pd.values())vT(e,n);for(const e of RN.values())vT(e,n);return!0}function yv(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Pr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new Tf("app","Firebase",CN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=SN;function JS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:by,automaticDataCollectionEnabled:!0},t),a=i.name;if(typeof a!="string"||!a)throw ya.create("bad-app-name",{appName:String(a)});if(e||(e=KS()),!e)throw ya.create("no-options");const l=Pd.get(a);if(l){if(Ao(e,l.options)&&Ao(i,l.config))return l;throw ya.create("duplicate-app",{appName:a})}const c=new kO(a);for(const p of Ty.values())c.addComponent(p);const d=new xN(e,i,c);return Pd.set(a,d),d}function t1(n=by){const t=Pd.get(n);if(!t&&n===by&&KS())return JS();if(!t)throw ya.create("no-app",{appName:n});return t}function va(n,t,e){var i;let a=(i=AN[n])!==null&&i!==void 0?i:n;e&&(a+=`-${e}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}Jl(new Ro(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="firebase-heartbeat-database",ON=1,$c="firebase-heartbeat-store";let Xg=null;function e1(){return Xg||(Xg=KO(IN,ON,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore($c)}catch(e){console.warn(e)}}}}).catch(n=>{throw ya.create("idb-open",{originalErrorMessage:n.message})})),Xg}async function NN(n){try{const e=(await e1()).transaction($c),i=await e.objectStore($c).get(n1(n));return await e.done,i}catch(t){if(t instanceof Ts)ds.warn(t.message);else{const e=ya.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ds.warn(e.message)}}}async function _T(n,t){try{const i=(await e1()).transaction($c,"readwrite");await i.objectStore($c).put(t,n1(n)),await i.done}catch(e){if(e instanceof Ts)ds.warn(e.message);else{const i=ya.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ds.warn(i.message)}}}function n1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=1024,MN=30;class kN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new VN(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ET();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>MN){const c=LN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ds.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ET(),{heartbeatsToSend:i,unsentEntries:a}=PN(this._heartbeatsCache.heartbeats),l=kd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ds.warn(e),""}}}function ET(){return new Date().toISOString().substring(0,10)}function PN(n,t=DN){const e=[];let i=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),bT(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),bT(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class VN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TO()?wO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await NN(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return _T(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return _T(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function bT(n){return kd(JSON.stringify({version:2,heartbeats:n})).length}function LN(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(n){Jl(new Ro("platform-logger",t=>new XO(t),"PRIVATE")),Jl(new Ro("heartbeat",t=>new kN(t),"PRIVATE")),va(Ey,yT,n),va(Ey,yT,"esm2017"),va("fire-js","")}UN("");var TT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _a,r1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,A){function x(){}x.prototype=A.prototype,D.D=A.prototype,D.prototype=new x,D.prototype.constructor=D,D.C=function(k,P,V){for(var N=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)N[Et-2]=arguments[Et];return A.prototype[P].apply(k,N)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,A,x){x||(x=0);var k=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)k[P]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(P=0;16>P;++P)k[P]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=D.g[0],x=D.g[1],P=D.g[2];var V=D.g[3],N=A+(V^x&(P^V))+k[0]+3614090360&4294967295;A=x+(N<<7&4294967295|N>>>25),N=V+(P^A&(x^P))+k[1]+3905402710&4294967295,V=A+(N<<12&4294967295|N>>>20),N=P+(x^V&(A^x))+k[2]+606105819&4294967295,P=V+(N<<17&4294967295|N>>>15),N=x+(A^P&(V^A))+k[3]+3250441966&4294967295,x=P+(N<<22&4294967295|N>>>10),N=A+(V^x&(P^V))+k[4]+4118548399&4294967295,A=x+(N<<7&4294967295|N>>>25),N=V+(P^A&(x^P))+k[5]+1200080426&4294967295,V=A+(N<<12&4294967295|N>>>20),N=P+(x^V&(A^x))+k[6]+2821735955&4294967295,P=V+(N<<17&4294967295|N>>>15),N=x+(A^P&(V^A))+k[7]+4249261313&4294967295,x=P+(N<<22&4294967295|N>>>10),N=A+(V^x&(P^V))+k[8]+1770035416&4294967295,A=x+(N<<7&4294967295|N>>>25),N=V+(P^A&(x^P))+k[9]+2336552879&4294967295,V=A+(N<<12&4294967295|N>>>20),N=P+(x^V&(A^x))+k[10]+4294925233&4294967295,P=V+(N<<17&4294967295|N>>>15),N=x+(A^P&(V^A))+k[11]+2304563134&4294967295,x=P+(N<<22&4294967295|N>>>10),N=A+(V^x&(P^V))+k[12]+1804603682&4294967295,A=x+(N<<7&4294967295|N>>>25),N=V+(P^A&(x^P))+k[13]+4254626195&4294967295,V=A+(N<<12&4294967295|N>>>20),N=P+(x^V&(A^x))+k[14]+2792965006&4294967295,P=V+(N<<17&4294967295|N>>>15),N=x+(A^P&(V^A))+k[15]+1236535329&4294967295,x=P+(N<<22&4294967295|N>>>10),N=A+(P^V&(x^P))+k[1]+4129170786&4294967295,A=x+(N<<5&4294967295|N>>>27),N=V+(x^P&(A^x))+k[6]+3225465664&4294967295,V=A+(N<<9&4294967295|N>>>23),N=P+(A^x&(V^A))+k[11]+643717713&4294967295,P=V+(N<<14&4294967295|N>>>18),N=x+(V^A&(P^V))+k[0]+3921069994&4294967295,x=P+(N<<20&4294967295|N>>>12),N=A+(P^V&(x^P))+k[5]+3593408605&4294967295,A=x+(N<<5&4294967295|N>>>27),N=V+(x^P&(A^x))+k[10]+38016083&4294967295,V=A+(N<<9&4294967295|N>>>23),N=P+(A^x&(V^A))+k[15]+3634488961&4294967295,P=V+(N<<14&4294967295|N>>>18),N=x+(V^A&(P^V))+k[4]+3889429448&4294967295,x=P+(N<<20&4294967295|N>>>12),N=A+(P^V&(x^P))+k[9]+568446438&4294967295,A=x+(N<<5&4294967295|N>>>27),N=V+(x^P&(A^x))+k[14]+3275163606&4294967295,V=A+(N<<9&4294967295|N>>>23),N=P+(A^x&(V^A))+k[3]+4107603335&4294967295,P=V+(N<<14&4294967295|N>>>18),N=x+(V^A&(P^V))+k[8]+1163531501&4294967295,x=P+(N<<20&4294967295|N>>>12),N=A+(P^V&(x^P))+k[13]+2850285829&4294967295,A=x+(N<<5&4294967295|N>>>27),N=V+(x^P&(A^x))+k[2]+4243563512&4294967295,V=A+(N<<9&4294967295|N>>>23),N=P+(A^x&(V^A))+k[7]+1735328473&4294967295,P=V+(N<<14&4294967295|N>>>18),N=x+(V^A&(P^V))+k[12]+2368359562&4294967295,x=P+(N<<20&4294967295|N>>>12),N=A+(x^P^V)+k[5]+4294588738&4294967295,A=x+(N<<4&4294967295|N>>>28),N=V+(A^x^P)+k[8]+2272392833&4294967295,V=A+(N<<11&4294967295|N>>>21),N=P+(V^A^x)+k[11]+1839030562&4294967295,P=V+(N<<16&4294967295|N>>>16),N=x+(P^V^A)+k[14]+4259657740&4294967295,x=P+(N<<23&4294967295|N>>>9),N=A+(x^P^V)+k[1]+2763975236&4294967295,A=x+(N<<4&4294967295|N>>>28),N=V+(A^x^P)+k[4]+1272893353&4294967295,V=A+(N<<11&4294967295|N>>>21),N=P+(V^A^x)+k[7]+4139469664&4294967295,P=V+(N<<16&4294967295|N>>>16),N=x+(P^V^A)+k[10]+3200236656&4294967295,x=P+(N<<23&4294967295|N>>>9),N=A+(x^P^V)+k[13]+681279174&4294967295,A=x+(N<<4&4294967295|N>>>28),N=V+(A^x^P)+k[0]+3936430074&4294967295,V=A+(N<<11&4294967295|N>>>21),N=P+(V^A^x)+k[3]+3572445317&4294967295,P=V+(N<<16&4294967295|N>>>16),N=x+(P^V^A)+k[6]+76029189&4294967295,x=P+(N<<23&4294967295|N>>>9),N=A+(x^P^V)+k[9]+3654602809&4294967295,A=x+(N<<4&4294967295|N>>>28),N=V+(A^x^P)+k[12]+3873151461&4294967295,V=A+(N<<11&4294967295|N>>>21),N=P+(V^A^x)+k[15]+530742520&4294967295,P=V+(N<<16&4294967295|N>>>16),N=x+(P^V^A)+k[2]+3299628645&4294967295,x=P+(N<<23&4294967295|N>>>9),N=A+(P^(x|~V))+k[0]+4096336452&4294967295,A=x+(N<<6&4294967295|N>>>26),N=V+(x^(A|~P))+k[7]+1126891415&4294967295,V=A+(N<<10&4294967295|N>>>22),N=P+(A^(V|~x))+k[14]+2878612391&4294967295,P=V+(N<<15&4294967295|N>>>17),N=x+(V^(P|~A))+k[5]+4237533241&4294967295,x=P+(N<<21&4294967295|N>>>11),N=A+(P^(x|~V))+k[12]+1700485571&4294967295,A=x+(N<<6&4294967295|N>>>26),N=V+(x^(A|~P))+k[3]+2399980690&4294967295,V=A+(N<<10&4294967295|N>>>22),N=P+(A^(V|~x))+k[10]+4293915773&4294967295,P=V+(N<<15&4294967295|N>>>17),N=x+(V^(P|~A))+k[1]+2240044497&4294967295,x=P+(N<<21&4294967295|N>>>11),N=A+(P^(x|~V))+k[8]+1873313359&4294967295,A=x+(N<<6&4294967295|N>>>26),N=V+(x^(A|~P))+k[15]+4264355552&4294967295,V=A+(N<<10&4294967295|N>>>22),N=P+(A^(V|~x))+k[6]+2734768916&4294967295,P=V+(N<<15&4294967295|N>>>17),N=x+(V^(P|~A))+k[13]+1309151649&4294967295,x=P+(N<<21&4294967295|N>>>11),N=A+(P^(x|~V))+k[4]+4149444226&4294967295,A=x+(N<<6&4294967295|N>>>26),N=V+(x^(A|~P))+k[11]+3174756917&4294967295,V=A+(N<<10&4294967295|N>>>22),N=P+(A^(V|~x))+k[2]+718787259&4294967295,P=V+(N<<15&4294967295|N>>>17),N=x+(V^(P|~A))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+V&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var x=A-this.blockSize,k=this.B,P=this.h,V=0;V<A;){if(P==0)for(;V<=x;)a(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<A;)if(k[P++]=D.charCodeAt(V++),P==this.blockSize){a(this,k),P=0;break}}else for(;V<A;)if(k[P++]=D[V++],P==this.blockSize){a(this,k),P=0;break}}this.h=P,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var x=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=x&255,x/=256;for(this.u(D),D=Array(16),A=x=0;4>A;++A)for(var k=0;32>k;k+=8)D[x++]=this.g[A]>>>k&255;return D};function l(D,A){var x=d;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=A(D)}function c(D,A){this.h=A;for(var x=[],k=!0,P=D.length-1;0<=P;P--){var V=D[P]|0;k&&V==A||(x[P]=V,k=!1)}this.g=x}var d={};function p(D){return-128<=D&&128>D?l(D,function(A){return new c([A|0],0>A?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return I(g(-D));for(var A=[],x=1,k=0;D>=x;k++)A[k]=D/x|0,x*=4294967296;return new c(A,0)}function _(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return I(_(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(A,8)),k=v,P=0;P<D.length;P+=8){var V=Math.min(8,D.length-P),N=parseInt(D.substring(P,P+V),A);8>V?(V=g(Math.pow(A,V)),k=k.j(V).add(g(N))):(k=k.j(x),k=k.add(g(N)))}return k}var v=p(0),T=p(1),O=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-I(this).m();for(var D=0,A=1,x=0;x<this.g.length;x++){var k=this.i(x);D+=(0<=k?k:4294967296+k)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(j(this))return"-"+I(this).toString(D);for(var A=g(Math.pow(D,6)),x=this,k="";;){var P=X(x,A).g;x=K(x,P.j(A));var V=((0<x.g.length?x.g[0]:x.h)>>>0).toString(D);if(x=P,M(x))return V+k;for(;6>V.length;)V="0"+V;k=V+k}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function j(D){return D.h==-1}n.l=function(D){return D=K(this,D),j(D)?-1:M(D)?0:1};function I(D){for(var A=D.g.length,x=[],k=0;k<A;k++)x[k]=~D.g[k];return new c(x,~D.h).add(T)}n.abs=function(){return j(this)?I(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),x=[],k=0,P=0;P<=A;P++){var V=k+(this.i(P)&65535)+(D.i(P)&65535),N=(V>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);k=N>>>16,V&=65535,N&=65535,x[P]=N<<16|V}return new c(x,x[x.length-1]&-2147483648?-1:0)};function K(D,A){return D.add(I(A))}n.j=function(D){if(M(this)||M(D))return v;if(j(this))return j(D)?I(this).j(I(D)):I(I(this).j(D));if(j(D))return I(this.j(I(D)));if(0>this.l(O)&&0>D.l(O))return g(this.m()*D.m());for(var A=this.g.length+D.g.length,x=[],k=0;k<2*A;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<D.g.length;P++){var V=this.i(k)>>>16,N=this.i(k)&65535,Et=D.i(P)>>>16,St=D.i(P)&65535;x[2*k+2*P]+=N*St,Y(x,2*k+2*P),x[2*k+2*P+1]+=V*St,Y(x,2*k+2*P+1),x[2*k+2*P+1]+=N*Et,Y(x,2*k+2*P+1),x[2*k+2*P+2]+=V*Et,Y(x,2*k+2*P+2)}for(k=0;k<A;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=A;k<2*A;k++)x[k]=0;return new c(x,0)};function Y(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function q(D,A){this.g=D,this.h=A}function X(D,A){if(M(A))throw Error("division by zero");if(M(D))return new q(v,v);if(j(D))return A=X(I(D),A),new q(I(A.g),I(A.h));if(j(A))return A=X(D,I(A)),new q(I(A.g),A.h);if(30<D.g.length){if(j(D)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var x=T,k=A;0>=k.l(D);)x=tt(x),k=tt(k);var P=rt(x,1),V=rt(k,1);for(k=rt(k,2),x=rt(x,2);!M(k);){var N=V.add(k);0>=N.l(D)&&(P=P.add(x),V=N),k=rt(k,1),x=rt(x,1)}return A=K(D,P.j(A)),new q(P,A)}for(P=v;0<=D.l(A);){for(x=Math.max(1,Math.floor(D.m()/A.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),V=g(x),N=V.j(A);j(N)||0<N.l(D);)x-=k,V=g(x),N=V.j(A);M(V)&&(V=T),P=P.add(V),D=K(D,N)}return new q(P,D)}n.A=function(D){return X(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),x=[],k=0;k<A;k++)x[k]=this.i(k)&D.i(k);return new c(x,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),x=[],k=0;k<A;k++)x[k]=this.i(k)|D.i(k);return new c(x,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),x=[],k=0;k<A;k++)x[k]=this.i(k)^D.i(k);return new c(x,this.h^D.h)};function tt(D){for(var A=D.g.length+1,x=[],k=0;k<A;k++)x[k]=D.i(k)<<1|D.i(k-1)>>>31;return new c(x,D.h)}function rt(D,A){var x=A>>5;A%=32;for(var k=D.g.length-x,P=[],V=0;V<k;V++)P[V]=0<A?D.i(V+x)>>>A|D.i(V+x+1)<<32-A:D.i(V+x);return new c(P,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,r1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,_a=c}).apply(typeof TT<"u"?TT:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i1,Oc,s1,Ed,wy,a1,o1,l1;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function a(f,y){if(y)t:{var E=i;f=f.split(".");for(var C=0;C<f.length-1;C++){var $=f[C];if(!($ in E))break t;E=E[$]}f=f[f.length-1],C=E[f],y=y(C),y!=C&&y!=null&&t(E,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var E=0,C=!1,$={next:function(){if(!C&&E<f.length){var nt=E++;return{value:y(nt,f[nt]),done:!1}}return C=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,E){return f.call.apply(f.bind,arguments)}function v(f,y,E){if(!f)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,C),f.apply(y,$)}}return function(){return f.apply(y,arguments)}}function T(f,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,T.apply(null,arguments)}function O(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function M(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(C,$,nt){for(var mt=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)mt[ne-2]=arguments[ne];return y.prototype[$].apply(C,mt)}}function j(f){const y=f.length;if(0<y){const E=Array(y);for(let C=0;C<y;C++)E[C]=f[C];return E}return[]}function I(f,y){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(p(C)){const $=f.length||0,nt=C.length||0;f.length=$+nt;for(let mt=0;mt<nt;mt++)f[$+mt]=C[mt]}else f.push(C)}}class K{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(f){return/^[\s\xa0]*$/.test(f)}function q(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function X(f){return X[" "](f),f}X[" "]=function(){};var tt=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function rt(f,y,E){for(const C in f)y.call(E,f[C],C,f)}function D(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function A(f){const y={};for(const E in f)y[E]=f[E];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,y){let E,C;for(let $=1;$<arguments.length;$++){C=arguments[$];for(E in C)f[E]=C[E];for(let nt=0;nt<x.length;nt++)E=x[nt],Object.prototype.hasOwnProperty.call(C,E)&&(f[E]=C[E])}}function P(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function V(f){d.setTimeout(()=>{throw f},0)}function N(){var f=yt;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Et{constructor(){this.h=this.g=null}add(y,E){const C=St.get();C.set(y,E),this.h?this.h.next=C:this.g=C,this.h=C}}var St=new K(()=>new H,f=>f.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let it,dt=!1,yt=new Et,L=()=>{const f=d.Promise.resolve(void 0);it=()=>{f.then(Z)}};var Z=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(E){V(E)}var y=St;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}dt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return f}();function vt(f,y){if(et.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(tt){t:{try{X(y.nodeName);var $=!0;break t}catch{}$=!1}$||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:pt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&vt.aa.h.call(this)}}M(vt,et);var pt={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xt="closure_listenable_"+(1e6*Math.random()|0),xt=0;function pe(f,y,E,C,$){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!C,this.ha=$,this.key=++xt,this.da=this.fa=!1}function we(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function le(f){this.src=f,this.g={},this.h=0}le.prototype.add=function(f,y,E,C,$){var nt=f.toString();f=this.g[nt],f||(f=this.g[nt]=[],this.h++);var mt=Le(f,y,C,$);return-1<mt?(y=f[mt],E||(y.fa=!1)):(y=new pe(y,this.src,nt,!!C,$),y.fa=E,f.push(y)),y};function ce(f,y){var E=y.type;if(E in f.g){var C=f.g[E],$=Array.prototype.indexOf.call(C,y,void 0),nt;(nt=0<=$)&&Array.prototype.splice.call(C,$,1),nt&&(we(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Le(f,y,E,C){for(var $=0;$<f.length;++$){var nt=f[$];if(!nt.da&&nt.listener==y&&nt.capture==!!E&&nt.ha==C)return $}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),zt={};function bn(f,y,E,C,$){if(Array.isArray(y)){for(var nt=0;nt<y.length;nt++)bn(f,y[nt],E,C,$);return null}return E=Qn(E),f&&f[Xt]?f.K(y,E,g(C)?!!C.capture:!1,$):me(f,y,E,!1,C,$)}function me(f,y,E,C,$,nt){if(!y)throw Error("Invalid event type");var mt=g($)?!!$.capture:!!$,ne=Fe(f);if(ne||(f[Me]=ne=new le(f)),E=ne.add(y,E,C,mt,nt),E.proxy)return E;if(C=Er(),E.proxy=C,C.src=f,C.listener=E,f.addEventListener)ht||($=mt),$===void 0&&($=!1),f.addEventListener(y.toString(),C,$);else if(f.attachEvent)f.attachEvent(pn(y.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Er(){function f(E){return y.call(f.src,f.listener,E)}const y=Re;return f}function He(f,y,E,C,$){if(Array.isArray(y))for(var nt=0;nt<y.length;nt++)He(f,y[nt],E,C,$);else C=g(C)?!!C.capture:!!C,E=Qn(E),f&&f[Xt]?(f=f.i,y=String(y).toString(),y in f.g&&(nt=f.g[y],E=Le(nt,E,C,$),-1<E&&(we(nt[E]),Array.prototype.splice.call(nt,E,1),nt.length==0&&(delete f.g[y],f.h--)))):f&&(f=Fe(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Le(y,E,C,$)),(E=-1<f?y[f]:null)&&Qe(E))}function Qe(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Xt])ce(y.i,f);else{var E=f.type,C=f.proxy;y.removeEventListener?y.removeEventListener(E,C,f.capture):y.detachEvent?y.detachEvent(pn(E),C):y.addListener&&y.removeListener&&y.removeListener(C),(E=Fe(y))?(ce(E,f),E.h==0&&(E.src=null,y[Me]=null)):we(f)}}}function pn(f){return f in zt?zt[f]:zt[f]="on"+f}function Re(f,y){if(f.da)f=!0;else{y=new vt(y,this);var E=f.listener,C=f.ha||f.src;f.fa&&Qe(f),f=E.call(C,y)}return f}function Fe(f){return f=f[Me],f instanceof le?f:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qn(f){return typeof f=="function"?f:(f[rn]||(f[rn]=function(y){return f.handleEvent(y)}),f[rn])}function Tt(){ot.call(this),this.i=new le(this),this.M=this,this.F=null}M(Tt,ot),Tt.prototype[Xt]=!0,Tt.prototype.removeEventListener=function(f,y,E,C){He(this,f,y,E,C)};function Bt(f,y){var E,C=f.F;if(C)for(E=[];C;C=C.F)E.push(C);if(f=f.M,C=y.type||y,typeof y=="string")y=new et(y,f);else if(y instanceof et)y.target=y.target||f;else{var $=y;y=new et(C,f),k(y,$)}if($=!0,E)for(var nt=E.length-1;0<=nt;nt--){var mt=y.g=E[nt];$=Ce(mt,C,!0,y)&&$}if(mt=y.g=f,$=Ce(mt,C,!0,y)&&$,$=Ce(mt,C,!1,y)&&$,E)for(nt=0;nt<E.length;nt++)mt=y.g=E[nt],$=Ce(mt,C,!1,y)&&$}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],C=0;C<E.length;C++)we(E[C]);delete f.g[y],f.h--}}this.F=null},Tt.prototype.K=function(f,y,E,C){return this.i.add(String(f),y,!1,E,C)},Tt.prototype.L=function(f,y,E,C){return this.i.add(String(f),y,!0,E,C)};function Ce(f,y,E,C){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,nt=0;nt<y.length;++nt){var mt=y[nt];if(mt&&!mt.da&&mt.capture==E){var ne=mt.listener,an=mt.ha||mt.src;mt.fa&&ce(f.i,mt),$=ne.call(an,C)!==!1&&$}}return $&&!C.defaultPrevented}function ke(f,y,E){if(typeof f=="function")E&&(f=T(f,E));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function jn(f){f.g=ke(()=>{f.g=null,f.i&&(f.i=!1,jn(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class xi extends ot{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(f){ot.call(this),this.h=f,this.g={}}M(At,ot);var Wt=[];function sn(f){rt(f.g,function(y,E){this.g.hasOwnProperty(E)&&Qe(y)},f),f.g={}}At.prototype.N=function(){At.aa.N.call(this),sn(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=d.JSON.stringify,Ur=d.JSON.parse,Ii=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Oi(){}Oi.prototype.h=null;function Yn(f){return f.h||(f.h=f.i())}function Pa(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){et.call(this,"d")}M(br,et);function ws(){et.call(this,"c")}M(ws,et);var Nt={},xe=null;function Ae(){return xe=xe||new Tt}Nt.La="serverreachability";function Xe(f){et.call(this,Nt.La,f)}M(Xe,et);function ur(f){const y=Ae();Bt(y,new Xe(y))}Nt.STAT_EVENT="statevent";function Ue(f,y){et.call(this,Nt.STAT_EVENT,f),this.stat=y}M(Ue,et);function Kt(f){const y=Ae();Bt(y,new Ue(y,f))}Nt.Ma="timingevent";function Ie(f,y){et.call(this,Nt.Ma,f),this.size=y}M(Ie,et);function ae(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Oe(){this.g=!0}Oe.prototype.xa=function(){this.g=!1};function Ss(f,y,E,C,$,nt){f.info(function(){if(f.g)if(nt)for(var mt="",ne=nt.split("&"),an=0;an<ne.length;an++){var re=ne[an].split("=");if(1<re.length){var gn=re[0];re=re[1];var on=gn.split("_");mt=2<=on.length&&on[1]=="type"?mt+(gn+"="+re+"&"):mt+(gn+"=redacted&")}}else mt=null;else mt=nt;return"XMLHTTP REQ ("+C+") [attempt "+$+"]: "+y+`
`+E+`
`+mt})}function Br(f,y,E,C,$,nt,mt){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+$+"]: "+y+`
`+E+`
`+nt+" "+mt})}function Ni(f,y,E,C){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Va(f,E)+(C?" "+C:"")})}function Lf(f,y){f.info(function(){return"TIMEOUT: "+y})}Oe.prototype.info=function(){};function Va(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var C=E[f];if(!(2>C.length)){var $=C[1];if(Array.isArray($)&&!(1>$.length)){var nt=$[0];if(nt!="noop"&&nt!="stop"&&nt!="close")for(var mt=1;mt<$.length;mt++)$[mt]=""}}}}return Ye(E)}catch{return y}}var As={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jr;function ti(){}M(ti,Oi),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},Jr=new ti;function Bn(f,y,E,C){this.j=f,this.i=y,this.l=E,this.R=C||1,this.U=new At(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}var Su={},zo={};function zr(f,y,E){f.L=1,f.v=za(cr(y)),f.m=E,f.P=!0,Mi(f,null)}function Mi(f,y){f.F=Date.now(),La(f),f.A=cr(f.v);var E=f.A,C=f.R;Array.isArray(C)||(C=[String(C)]),Ou(E.i,"t",C),f.C=0,E=f.j.J,f.h=new qe,f.g=Jf(f.j,E?y:null,!f.m),0<f.O&&(f.M=new xi(T(f.Y,f,f.g),f.O)),y=f.U,E=f.g,C=f.ca;var $="readystatechange";Array.isArray($)||($&&(Wt[0]=$.toString()),$=Wt);for(var nt=0;nt<$.length;nt++){var mt=bn(E,$[nt],C||y.handleEvent,!1,y.h||y);if(!mt)break;y.g[mt.key]=mt}y=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),ur(),Ss(f.i,f.u,f.A,f.l,f.R,f.m)}Bn.prototype.ca=function(f){f=f.target;const y=this.M;y&&Ar(f)==3?y.j():this.Y(f)},Bn.prototype.Y=function(f){try{if(f==this.g)t:{const on=Ar(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||$f(this.g)))){this.J||on!=4||y==7||(y==8||0>=zi?ur(3):ur(2)),Rs(this);var E=this.g.Z();this.X=E;e:if(Uf(this)){var C=$f(this.g);f="";var $=C.length,nt=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),ei(this);var mt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,f+=this.h.i.decode(C[y],{stream:!(nt&&y==$-1)});C.length=0,this.h.g+=f,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=E==200,Br(this.i,this.u,this.A,this.l,this.R,on,E),this.o){if(this.T&&!this.K){e:{if(this.g){var ne,an=this.g;if((ne=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ne)){var re=ne;break e}}re=null}if(E=re)Ni(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ua(this,E);else{this.o=!1,this.s=3,Kt(12),Tn(this),ei(this);break t}}if(this.P){E=!0;let wn;for(;!this.J&&this.C<mt.length;)if(wn=jf(this,mt),wn==zo){on==4&&(this.s=4,Kt(14),E=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Su){this.s=4,Kt(15),Ni(this.i,this.l,mt,"[Invalid Chunk]"),E=!1;break}else Ni(this.i,this.l,wn,null),Ua(this,wn);if(Uf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||mt.length!=0||this.h.h||(this.s=1,Kt(16),E=!1),this.o=this.o&&E,!E)Ni(this.i,this.l,mt,"[Invalid Chunked Response]"),Tn(this),ei(this);else if(0<mt.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Ya(gn),gn.M=!0,Kt(11))}}else Ni(this.i,this.l,mt,null),Ua(this,mt);on==4&&Tn(this),this.o&&!this.J&&(on==4?Xf(this.j,this):(this.o=!1,La(this)))}else Hp(this.g),E==400&&0<mt.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Tn(this),ei(this)}}}catch{}finally{}};function Uf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function jf(f,y){var E=f.C,C=y.indexOf(`
`,E);return C==-1?zo:(E=Number(y.substring(E,C)),isNaN(E)?Su:(C+=1,C+E>y.length?zo:(y=y.slice(C,C+E),f.C=C+E,y)))}Bn.prototype.cancel=function(){this.J=!0,Tn(this)};function La(f){f.S=Date.now()+f.I,Bf(f,f.I)}function Bf(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ae(T(f.ba,f),y)}function Rs(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Bn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Lf(this.i,this.A),this.L!=2&&(ur(),Kt(17)),Tn(this),this.s=2,ei(this)):Bf(this,this.S-f)};function ei(f){f.j.G==0||f.J||Xf(f.j,f)}function Tn(f){Rs(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,sn(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Ua(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||Au(E.h,f))){if(!f.K&&Au(E.h,f)&&E.G==3){try{var C=E.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var $=C;if($[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Jo(E),Wo(E);else break t;Pu(E),Kt(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=ae(T(E.Za,E),6e3));if(1>=Fo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Bi(E,11)}else if((f.K||E.g==f)&&Jo(E),!Y(y))for($=E.Da.g.parse(y),y=0;y<$.length;y++){let re=$[y];if(E.T=re[0],re=re[1],E.G==2)if(re[0]=="c"){E.K=re[1],E.ia=re[2];const gn=re[3];gn!=null&&(E.la=gn,E.j.info("VER="+E.la));const on=re[4];on!=null&&(E.Aa=on,E.j.info("SVER="+E.Aa));const zi=re[5];zi!=null&&typeof zi=="number"&&0<zi&&(C=1.5*zi,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const wn=f.g;if(wn){const li=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var nt=C.h;nt.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(qo(nt,nt.h),nt.h=null))}if(C.D){const Lu=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Lu&&(C.ya=Lu,ve(C.I,C.D,Lu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var mt=f;if(C.qa=Zf(C,C.J?C.ia:null,C.W),mt.K){zn(C.h,mt);var ne=mt,an=C.L;an&&(ne.I=an),ne.B&&(Rs(ne),La(ne)),C.g=mt}else Qf(C);0<E.i.length&&Zo(E)}else re[0]!="stop"&&re[0]!="close"||Bi(E,7);else E.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?Bi(E,7):Mu(E):re[0]!="noop"&&E.l&&E.l.ta(re),E.v=0)}}ur(4)}catch{}}var zf=class{constructor(f,y){this.g=f,this.map=y}};function ki(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ho(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Fo(f){return f.h?1:f.g?f.g.size:0}function Au(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function qo(f,y){f.g?f.g.add(y):f.h=y}function zn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ki.prototype.cancel=function(){if(this.i=Ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ru(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return j(f.i)}function Up(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],E=f.length,C=0;C<E;C++)y.push(f[C]);return y}y=[],E=0;for(C in f)y[E++]=f[C];return y}function $o(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const C in f)y[E++]=C;return y}}}function Cu(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=$o(f),C=Up(f),$=C.length,nt=0;nt<$;nt++)y.call(void 0,C[nt],E&&E[nt],f)}var ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jp(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var C=f[E].indexOf("="),$=null;if(0<=C){var nt=f[E].substring(0,C);$=f[E].substring(C+1)}else nt=f[E];y(nt,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function We(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof We){this.h=f.h,Ba(this,f.j),this.o=f.o,this.g=f.g,Cs(this,f.s),this.l=f.l;var y=f.i,E=new Vi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Pi(this,E),this.m=f.m}else f&&(y=String(f).match(ja))?(this.h=!1,Ba(this,y[1]||"",!0),this.o=Tr(y[2]||""),this.g=Tr(y[3]||"",!0),Cs(this,y[4]),this.l=Tr(y[5]||"",!0),Pi(this,y[6]||"",!0),this.m=Tr(y[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}We.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Ha(y,xu,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Ha(y,xu,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ha(E,E.charAt(0)=="/"?Bp:Iu,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ha(E,Go)),f.join("")};function cr(f){return new We(f)}function Ba(f,y,E){f.j=E?Tr(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Cs(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Pi(f,y,E){y instanceof Vi?(f.i=y,Ff(f.i,f.h)):(E||(y=Ha(y,zp)),f.i=new Vi(y,f.h))}function ve(f,y,E){f.i.set(y,E)}function za(f){return ve(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Tr(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ha(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,Hf),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Hf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xu=/[#\/\?@]/g,Iu=/[#\?:]/g,Bp=/[#\?]/g,zp=/[#\?@]/g,Go=/#/g;function Vi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function wr(f){f.g||(f.g=new Map,f.h=0,f.i&&jp(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Vi.prototype,n.add=function(f,y){wr(this),this.i=null,f=ni(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function Li(f,y){wr(f),y=ni(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Ui(f,y){return wr(f),y=ni(f,y),f.g.has(y)}n.forEach=function(f,y){wr(this),this.g.forEach(function(E,C){E.forEach(function($){f.call(y,$,C,this)},this)},this)},n.na=function(){wr(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let C=0;C<y.length;C++){const $=f[C];for(let nt=0;nt<$.length;nt++)E.push(y[C])}return E},n.V=function(f){wr(this);let y=[];if(typeof f=="string")Ui(this,f)&&(y=y.concat(this.g.get(ni(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},n.set=function(f,y){return wr(this),this.i=null,f=ni(this,f),Ui(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Ou(f,y,E){Li(f,y),0<E.length&&(f.i=null,f.g.set(ni(f,y),j(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var C=y[E];const nt=encodeURIComponent(String(C)),mt=this.V(C);for(C=0;C<mt.length;C++){var $=nt;mt[C]!==""&&($+="="+encodeURIComponent(String(mt[C]))),f.push($)}}return this.i=f.join("&")};function ni(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Ff(f,y){y&&!f.j&&(wr(f),f.i=null,f.g.forEach(function(E,C){var $=C.toLowerCase();C!=$&&(Li(this,C),Ou(this,$,E))},f)),f.j=y}function Fa(f,y){const E=new Oe;if(d.Image){const C=new Image;C.onload=O(Sr,E,"TestLoadImage: loaded",!0,y,C),C.onerror=O(Sr,E,"TestLoadImage: error",!1,y,C),C.onabort=O(Sr,E,"TestLoadImage: abort",!1,y,C),C.ontimeout=O(Sr,E,"TestLoadImage: timeout",!1,y,C),d.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else y(!1)}function Hr(f,y){const E=new Oe,C=new AbortController,$=setTimeout(()=>{C.abort(),Sr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:C.signal}).then(nt=>{clearTimeout($),nt.ok?Sr(E,"TestPingServer: ok",!0,y):Sr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),Sr(E,"TestPingServer: error",!1,y)})}function Sr(f,y,E,C,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),C(E)}catch{}}function qa(){this.g=new Ii}function ri(f,y,E){const C=E||"";try{Cu(f,function($,nt){let mt=$;g($)&&(mt=Ye($)),y.push(C+nt+"="+encodeURIComponent(mt))})}catch($){throw y.push(C+"type="+encodeURIComponent("_badmap")),$}}function xs(f){this.l=f.Ub||null,this.j=f.eb||!1}M(xs,Oi),xs.prototype.g=function(){return new ji(this.l,this.j)},xs.prototype.i=function(f){return function(){return f}}({});function ji(f,y){Tt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ji,Tt),n=ji.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,si(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ii(this):si(this),this.readyState==3&&Nu(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,ii(this))},n.Qa=function(f){this.g&&(this.response=f,ii(this))},n.ga=function(){this.g&&ii(this)};function ii(f){f.readyState=4,f.l=null,f.j=null,f.v=null,si(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function si(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Du(f){let y="";return rt(f,function(E,C){y+=C,y+=":",y+=E,y+=`\r
`}),y}function mn(f,y,E){t:{for(C in E){var C=!1;break t}C=!0}C||(E=Du(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):ve(f,y,E))}function fe(f){Tt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(fe,Tt);var Ko=/^https?$/i,$a=["POST","PUT"];n=fe.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jr.g(),this.v=this.o?Yn(this.o):Yn(Jr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(nt){qf(this,nt);return}if(f=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var $ in C)E.set($,C[$]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const nt of C.keys())E.set(nt,C.get(nt));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(nt=>nt.toLowerCase()=="content-type"),$=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call($a,y,void 0))||C||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,mt]of E)this.g.setRequestHeader(nt,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ga(this),this.u=!0,this.g.send(f),this.u=!1}catch(nt){qf(this,nt)}};function qf(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Qo(f),ai(f)}function Qo(f){f.A||(f.A=!0,Bt(f,"complete"),Bt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Bt(this,"complete"),Bt(this,"abort"),ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Yo(this):this.bb())},n.bb=function(){Yo(this)};function Yo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Ar(f)!=4||f.Z()!=2)){if(f.u&&Ar(f)==4)ke(f.Ea,0,f);else if(Bt(f,"readystatechange"),Ar(f)==4){f.h=!1;try{const mt=f.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var C;if(C=mt===0){var $=String(f.D).match(ja)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),C=!Ko.test($?$.toLowerCase():"")}E=C}if(E)Bt(f,"complete"),Bt(f,"success");else{f.m=6;try{var nt=2<Ar(f)?f.g.statusText:""}catch{nt=""}f.l=nt+" ["+f.Z()+"]",Qo(f)}}finally{ai(f)}}}}function ai(f,y){if(f.g){Ga(f);const E=f.g,C=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Bt(f,"ready");try{E.onreadystatechange=C}catch{}}}function Ga(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Ar(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Ur(y)}};function $f(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Hp(f){const y={};f=(f.g&&2<=Ar(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(Y(f[C]))continue;var E=P(f[C]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const nt=y[$]||[];y[$]=nt,nt.push(E)}D(y,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function Xo(f){this.Aa=0,this.i=[],this.j=new Oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,f),this.cb=Ka("retryDelaySeedMs",1e4,f),this.Wa=Ka("forwardChannelMaxRetries",2,f),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(f&&f.concurrentRequestLimit),this.Da=new qa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xo.prototype,n.la=8,n.G=1,n.connect=function(f,y,E,C){Kt(0),this.W=f,this.H=y||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=Zf(this,null,this.W),Zo(this)};function Mu(f){if(Gf(f),f.G==3){var y=f.U++,E=cr(f.I);if(ve(E,"SID",f.K),ve(E,"RID",y),ve(E,"TYPE","terminate"),Qa(f,E),y=new Bn(f,f.j,y),y.L=2,y.v=za(cr(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=Jf(y.j,null),y.g.ea(y.v)),y.F=Date.now(),La(y)}Wf(f)}function Wo(f){f.g&&(Ya(f),f.g.cancel(),f.g=null)}function Gf(f){Wo(f),f.u&&(d.clearTimeout(f.u),f.u=null),Jo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Zo(f){if(!Ho(f.h)&&!f.s){f.s=!0;var y=f.Ga;it||L(),dt||(it(),dt=!0),yt.add(y,f),f.B=0}}function Fp(f,y){return Fo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ae(T(f.Ga,f,y),Vu(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Bn(this,this.j,f);let nt=this.o;if(this.S&&(nt?(nt=A(nt),k(nt,this.S)):nt=this.S),this.m!==null||this.O||($.H=nt,nt=null),this.P)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Kf(this,$,y),E=cr(this.I),ve(E,"RID",f),ve(E,"CVER",22),this.D&&ve(E,"X-HTTP-Session-Id",this.D),Qa(this,E),nt&&(this.O?y="headers="+encodeURIComponent(String(Du(nt)))+"&"+y:this.m&&mn(E,this.m,nt)),qo(this.h,$),this.Ua&&ve(E,"TYPE","init"),this.P?(ve(E,"$req",y),ve(E,"SID","null"),$.T=!0,zr($,E,null)):zr($,E,y),this.G=2}}else this.G==3&&(f?ku(this,f):this.i.length==0||Ho(this.h)||ku(this))};function ku(f,y){var E;y?E=y.l:E=f.U++;const C=cr(f.I);ve(C,"SID",f.K),ve(C,"RID",E),ve(C,"AID",f.T),Qa(f,C),f.m&&f.o&&mn(C,f.m,f.o),E=new Bn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Kf(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),qo(f.h,E),zr(E,C,y)}function Qa(f,y){f.H&&rt(f.H,function(E,C){ve(y,C,E)}),f.l&&Cu({},function(E,C){ve(y,C,E)})}function Kf(f,y,E){E=Math.min(f.i.length,E);var C=f.l?T(f.l.Na,f.l,f):null;t:{var $=f.i;let nt=-1;for(;;){const mt=["count="+E];nt==-1?0<E?(nt=$[0].g,mt.push("ofs="+nt)):nt=0:mt.push("ofs="+nt);let ne=!0;for(let an=0;an<E;an++){let re=$[an].g;const gn=$[an].map;if(re-=nt,0>re)nt=Math.max(0,$[an].g-100),ne=!1;else try{ri(gn,mt,"req"+re+"_")}catch{C&&C(gn)}}if(ne){C=mt.join("&");break t}}}return f=f.i.splice(0,E),y.D=f,C}function Qf(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;it||L(),dt||(it(),dt=!0),yt.add(y,f),f.v=0}}function Pu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ae(T(f.Fa,f),Vu(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Yf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ae(T(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),Wo(this),Yf(this))};function Ya(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Yf(f){f.g=new Bn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=cr(f.qa);ve(y,"RID","rpc"),ve(y,"SID",f.K),ve(y,"AID",f.T),ve(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&ve(y,"TO",f.ja),ve(y,"TYPE","xmlhttp"),Qa(f,y),f.m&&f.o&&mn(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=za(cr(y)),E.m=null,E.P=!0,Mi(E,f)}n.Za=function(){this.C!=null&&(this.C=null,Wo(this),Pu(this),Kt(19))};function Jo(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Xf(f,y){var E=null;if(f.g==y){Jo(f),Ya(f),f.g=null;var C=2}else if(Au(f.h,y))E=y.D,zn(f.h,y),C=1;else return;if(f.G!=0){if(y.o)if(C==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var $=f.B;C=Ae(),Bt(C,new Ie(C,E)),Zo(f)}else Qf(f);else if($=y.s,$==3||$==0&&0<y.X||!(C==1&&Fp(f,y)||C==2&&Pu(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),$){case 1:Bi(f,5);break;case 4:Bi(f,10);break;case 3:Bi(f,6);break;default:Bi(f,2)}}}function Vu(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function Bi(f,y){if(f.j.info("Error code "+y),y==2){var E=T(f.fb,f),C=f.Xa;const $=!C;C=new We(C||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ba(C,"https"),za(C),$?Fa(C.toString(),E):Hr(C.toString(),E)}else Kt(2);f.G=0,f.l&&f.l.sa(y),Wf(f),Gf(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Wf(f){if(f.G=0,f.ka=[],f.l){const y=Ru(f.h);(y.length!=0||f.i.length!=0)&&(I(f.ka,y),I(f.ka,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.ra()}}function Zf(f,y,E){var C=E instanceof We?cr(E):new We(E);if(C.g!="")y&&(C.g=y+"."+C.g),Cs(C,C.s);else{var $=d.location;C=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var nt=new We(null);C&&Ba(nt,C),y&&(nt.g=y),$&&Cs(nt,$),E&&(nt.l=E),C=nt}return E=f.D,y=f.ya,E&&y&&ve(C,E,y),ve(C,"VER",f.la),Qa(f,C),C}function Jf(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new fe(new xs({eb:E})):new fe(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}n=th.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function tl(){}tl.prototype.g=function(f,y){return new Hn(f,y)};function Hn(f,y){Tt.call(this),this.g=new Xo(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!Y(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Y(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new oi(this)}M(Hn,Tt),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Mu(this.g)},Hn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Ye(f),f=E);y.i.push(new zf(y.Ya++,f)),y.G==3&&Zo(y)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Mu(this.g),delete this.g,Hn.aa.N.call(this)};function eh(f){br.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const E in y){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}M(eh,br);function nh(){ws.call(this),this.status=1}M(nh,ws);function oi(f){this.g=f}M(oi,th),oi.prototype.ua=function(){Bt(this.g,"a")},oi.prototype.ta=function(f){Bt(this.g,new eh(f))},oi.prototype.sa=function(f){Bt(this.g,new nh)},oi.prototype.ra=function(){Bt(this.g,"b")},tl.prototype.createWebChannel=tl.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,l1=function(){return new tl},o1=function(){return Ae()},a1=Nt,wy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,Ed=As,Di.COMPLETE="complete",s1=Di,Pa.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Oc=Pa,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha,i1=fe}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});const wT="@firebase/firestore",ST="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new mv("@firebase/firestore");function Nl(){return Co.logLevel}function _t(n,...t){if(Co.logLevel<=Zt.DEBUG){const e=t.map(vv);Co.debug(`Firestore (${yu}): ${n}`,...e)}}function ps(n,...t){if(Co.logLevel<=Zt.ERROR){const e=t.map(vv);Co.error(`Firestore (${yu}): ${n}`,...e)}}function tu(n,...t){if(Co.logLevel<=Zt.WARN){const e=t.map(vv);Co.warn(`Firestore (${yu}): ${n}`,...e)}}function vv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,u1(n,i,e)}function u1(n,t,e){let i=`FIRESTORE (${yu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ps(i),new Error(i)}function de(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||u1(t,a,i)}function jt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends Ts{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Pn.UNAUTHENTICATED))}shutdown(){}}class BN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class zN{constructor(t){this.t=t,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){de(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,e(p)):Promise.resolve();let l=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new cs,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new cs)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string",31837,{l:i}),new c1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return de(t===null||typeof t=="string",2055,{h:t}),new Pn(t)}}class HN{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FN{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new HN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){de(this.o===void 0,3512);const i=l=>{l.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,_t("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const a=l=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(de(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new AT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=$N(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function $t(n,t){return n<t?-1:n>t?1:0}function Sy(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),a=t.codePointAt(e);if(i!==a){if(i<128&&a<128)return $t(i,a);{const l=f1(),c=GN(l.encode(RT(n,e)),l.encode(RT(t,e)));return c!==0?c:$t(i,a)}}e+=i>65535?2:1}return $t(n.length,t.length)}function RT(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function GN(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return $t(n[e],t[e]);return $t(n.length,t.length)}function eu(n,t,e){return n.length===t.length&&n.every((i,a)=>e(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=-62135596800,xT=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(t){return hn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*xT);return new hn(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<CT)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xT}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-CT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{static fromTimestamp(t){return new Ut(t)}static min(){return new Ut(new hn(0,0))}static max(){return new Ut(new hn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="__name__";class mi{constructor(t,e,i){e===void 0?e=0:e>t.length&&Vt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Vt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return mi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof mi?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=mi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return $t(t.length,e.length)}static compareSegments(t,e){const i=mi.isNumericId(t),a=mi.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?mi.extractNumericId(t).compare(mi.extractNumericId(e)):Sy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _a.fromString(t.substring(4,t.length-2))}}class De extends mi{construct(t,e,i){return new De(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ct(ft.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(a=>a.length>0))}return new De(e)}static emptyPath(){return new De([])}}const KN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends mi{construct(t,e,i){return new xn(t,e,i)}static isValidIdentifier(t){return KN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IT}static keyField(){return new xn([IT])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ct(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new Ct(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ct(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new Ct(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xn(e)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(De.fromString(t))}static fromName(t){return new Ot(De.fromString(t).popFirst(5))}static empty(){return new Ot(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&De.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return De.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new De(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=-1;function QN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ut.fromTimestamp(i===1e9?new hn(e+1,0):new hn(e,i));return new Ta(a,Ot.empty(),t)}function YN(n){return new Ta(n.readTime,n.key,Gc)}class Ta{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ta(Ut.min(),Ot.empty(),Gc)}static max(){return new Ta(Ut.max(),Ot.empty(),Gc)}}function XN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Ot.comparator(n.documentKey,t.documentKey),e!==0?e:$t(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(n){if(n.code!==ft.FAILED_PRECONDITION||n.message!==WN)throw n;_t("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ut((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ut?e:ut.resolve(e)}catch(e){return ut.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.reject(e)}static resolve(t){return new ut((e,i)=>{e(t)})}static reject(t){return new ut((e,i)=>{i(t)})}static waitFor(t){return new ut((e,i)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&e()},p=>i(p))}),c=!0,l===a&&e()})}static or(t){let e=ut.resolve(!1);for(const i of t)e=e.next(a=>a?ut.resolve(a):i());return e}static forEach(t,e){const i=[];return t.forEach((a,l)=>{i.push(e.call(this,a,l))}),this.waitFor(i)}static mapArray(t,e){return new ut((i,a)=>{const l=t.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;e(t[g]).next(_=>{c[g]=_,++d,d===l&&i(c)},_=>a(_))}})}static doWhile(t,e){return new ut((i,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):i()};l()})}}function JN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function _u(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}hp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=-1;function dp(n){return n==null}function Vd(n){return n===0&&1/n==-1/0}function tD(n){return typeof n=="number"&&Number.isInteger(n)&&!Vd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="";function eD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=OT(t)),t=nD(n.get(e),t);return OT(t)}function nD(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case d1:e+="";break;default:e+=l}}return e}function OT(n){return n+d1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Oa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function p1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,e){this.comparator=t,this.root=e||Cn.EMPTY}insert(t,e){return new Ve(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(t){return new Ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ld(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ld(this.root,t,this.comparator,!1)}getReverseIterator(){return new ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ld(this.root,t,this.comparator,!0)}}class ld{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Cn{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??Cn.RED,this.left=a??Cn.EMPTY,this.right=l??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new Cn(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Vt(27949);return t+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new Cn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.comparator=t,this.data=new Ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new DT(this.data.getIterator())}getIteratorFrom(t){return new DT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof dn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new dn(this.comparator);return e.data=t,e}}class DT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t){this.fields=t,t.sort(xn.comparator)}static empty(){return new vr([])}unionWith(t){let e=new dn(xn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new vr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return eu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new m1("Invalid base64 string: "+l):l}}(t);return new On(e)}static fromUint8Array(t){const e=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new On(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}On.EMPTY_BYTE_STRING=new On("");const rD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(n){if(de(!!n,39018),typeof n=="string"){let t=0;const e=rD.exec(n);if(de(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ke(n.seconds),nanos:Ke(n.nanos)}}function Ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Sa(n){return typeof n=="string"?On.fromBase64String(n):On.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="server_timestamp",y1="__type__",v1="__previous_value__",_1="__local_write_time__";function Ev(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[y1])===null||e===void 0?void 0:e.stringValue)===g1}function pp(n){const t=n.mapValue.fields[v1];return Ev(t)?pp(t):t}function Kc(n){const t=wa(n.mapValue.fields[_1].timestampValue);return new hn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t,e,i,a,l,c,d,p,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Ld="(default)";class Qc{constructor(t,e){this.projectId=t,this.database=e||Ld}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database===Ld}isEqual(t){return t instanceof Qc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="__type__",sD="__max__",ud={mapValue:{}},b1="__vector__",Ud="value";function Aa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ev(n)?4:oD(n)?9007199254740991:aD(n)?10:11:Vt(28295,{value:n})}function Ri(n,t){if(n===t)return!0;const e=Aa(n);if(e!==Aa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Kc(n).isEqual(Kc(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=wa(a.timestampValue),d=wa(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,l){return Sa(a.bytesValue).isEqual(Sa(l.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,l){return Ke(a.geoPointValue.latitude)===Ke(l.geoPointValue.latitude)&&Ke(a.geoPointValue.longitude)===Ke(l.geoPointValue.longitude)}(n,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ke(a.integerValue)===Ke(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ke(a.doubleValue),d=Ke(l.doubleValue);return c===d?Vd(c)===Vd(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return eu(n.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(NT(c)!==NT(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Ri(c[p],d[p])))return!1;return!0}(n,t);default:return Vt(52216,{left:n})}}function Yc(n,t){return(n.values||[]).find(e=>Ri(e,t))!==void 0}function nu(n,t){if(n===t)return 0;const e=Aa(n),i=Aa(t);if(e!==i)return $t(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,t.booleanValue);case 2:return function(l,c){const d=Ke(l.integerValue||l.doubleValue),p=Ke(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return MT(n.timestampValue,t.timestampValue);case 4:return MT(Kc(n),Kc(t));case 5:return Sy(n.stringValue,t.stringValue);case 6:return function(l,c){const d=Sa(l),p=Sa(c);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=$t(d[g],p[g]);if(_!==0)return _}return $t(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,c){const d=$t(Ke(l.latitude),Ke(c.latitude));return d!==0?d:$t(Ke(l.longitude),Ke(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return kT(n.arrayValue,t.arrayValue);case 10:return function(l,c){var d,p,g,_;const v=l.fields||{},T=c.fields||{},O=(d=v[Ud])===null||d===void 0?void 0:d.arrayValue,M=(p=T[Ud])===null||p===void 0?void 0:p.arrayValue,j=$t(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((_=M==null?void 0:M.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:kT(O,M)}(n.mapValue,t.mapValue);case 11:return function(l,c){if(l===ud.mapValue&&c===ud.mapValue)return 0;if(l===ud.mapValue)return 1;if(c===ud.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let v=0;v<p.length&&v<_.length;++v){const T=Sy(p[v],_[v]);if(T!==0)return T;const O=nu(d[p[v]],g[_[v]]);if(O!==0)return O}return $t(p.length,_.length)}(n.mapValue,t.mapValue);default:throw Vt(23264,{Pe:e})}}function MT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return $t(n,t);const e=wa(n),i=wa(t),a=$t(e.seconds,i.seconds);return a!==0?a:$t(e.nanos,i.nanos)}function kT(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=nu(e[a],i[a]);if(l)return l}return $t(e.length,i.length)}function ru(n){return Ay(n)}function Ay(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=wa(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Sa(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Ot.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=Ay(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Ay(e.fields[c])}`;return a+"}"}(n.mapValue):Vt(61005,{value:n})}function bd(n){switch(Aa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=pp(n);return t?16+bd(t):16;case 5:return 2*n.stringValue.length;case 6:return Sa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+bd(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Oa(i.fields,(l,c)=>{a+=l.length+bd(c)}),a}(n.mapValue);default:throw Vt(13486,{value:n})}}function Ry(n){return!!n&&"integerValue"in n}function bv(n){return!!n&&"arrayValue"in n}function PT(n){return!!n&&"nullValue"in n}function VT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Td(n){return!!n&&"mapValue"in n}function aD(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[E1])===null||e===void 0?void 0:e.stringValue)===b1}function Vc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Oa(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Vc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Vc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function oD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t){this.value=t}static empty(){return new ir({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Td(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vc(e)}setAll(t){let e=xn.emptyPath(),i={},a=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,a),i={},a=[],e=d.popLast()}c?i[d.lastSegment()]=Vc(c):a.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());Td(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Td(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Oa(e,(a,l)=>t[a]=l);for(const a of i)delete t[a]}clone(){return new ir(Vc(this.value))}}function T1(n){const t=[];return Oa(n.fields,(e,i)=>{const a=new xn([e]);if(Td(i)){const l=T1(i.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new vr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t,e,i,a,l,c,d){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Vn(t,0,Ut.min(),Ut.min(),Ut.min(),ir.empty(),0)}static newFoundDocument(t,e,i,a){return new Vn(t,1,e,Ut.min(),i,a,0)}static newNoDocument(t,e){return new Vn(t,2,e,Ut.min(),Ut.min(),ir.empty(),0)}static newUnknownDocument(t,e){return new Vn(t,3,e,Ut.min(),Ut.min(),ir.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,e){this.position=t,this.inclusive=e}}function LT(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?i=Ot.comparator(Ot.fromName(c.referenceValue),e.key):i=nu(c,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function UT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ri(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(t,e="asc"){this.field=t,this.dir=e}}function lD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{}class fn extends w1{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new cD(t,e,i):e==="array-contains"?new dD(t,i):e==="in"?new pD(t,i):e==="not-in"?new mD(t,i):e==="array-contains-any"?new gD(t,i):new fn(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new fD(t,i):new hD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(nu(e,this.value)):e!==null&&Aa(this.value)===Aa(e)&&this.matchesComparison(nu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends w1{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Ci(t,e)}matches(t){return S1(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function S1(n){return n.op==="and"}function A1(n){return uD(n)&&S1(n)}function uD(n){for(const t of n.filters)if(t instanceof Ci)return!1;return!0}function Cy(n){if(n instanceof fn)return n.field.canonicalString()+n.op.toString()+ru(n.value);if(A1(n))return n.filters.map(t=>Cy(t)).join(",");{const t=n.filters.map(e=>Cy(e)).join(",");return`${n.op}(${t})`}}function R1(n,t){return n instanceof fn?function(i,a){return a instanceof fn&&i.op===a.op&&i.field.isEqual(a.field)&&Ri(i.value,a.value)}(n,t):n instanceof Ci?function(i,a){return a instanceof Ci&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&R1(c,a.filters[d]),!0):!1}(n,t):void Vt(19439)}function C1(n){return n instanceof fn?function(e){return`${e.field.canonicalString()} ${e.op} ${ru(e.value)}`}(n):n instanceof Ci?function(e){return e.op.toString()+" {"+e.getFilters().map(C1).join(" ,")+"}"}(n):"Filter"}class cD extends fn{constructor(t,e,i){super(t,e,i),this.key=Ot.fromName(i.referenceValue)}matches(t){const e=Ot.comparator(t.key,this.key);return this.matchesComparison(e)}}class fD extends fn{constructor(t,e){super(t,"in",e),this.keys=x1("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class hD extends fn{constructor(t,e){super(t,"not-in",e),this.keys=x1("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function x1(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Ot.fromName(i.referenceValue))}class dD extends fn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return bv(e)&&Yc(e.arrayValue,this.value)}}class pD extends fn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Yc(this.value.arrayValue,e)}}class mD extends fn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Yc(this.value.arrayValue,e)}}class gD extends fn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!bv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Yc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,e=null,i=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function jT(n,t=null,e=[],i=[],a=null,l=null,c=null){return new yD(n,t,e,i,a,l,c)}function Tv(n){const t=jt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Cy(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),dp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ru(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ru(i)).join(",")),t.Ie=e}return t.Ie}function wv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!lD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!R1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!UT(n.startAt,t.startAt)&&UT(n.endAt,t.endAt)}function xy(n){return Ot.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(t,e=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function vD(n,t,e,i,a,l,c,d){return new mp(n,t,e,i,a,l,c,d)}function Sv(n){return new mp(n)}function BT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _D(n){return n.collectionGroup!==null}function Lc(n){const t=jt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new dn(xn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Bd(l,i))}),e.has(xn.keyField().canonicalString())||t.Ee.push(new Bd(xn.keyField(),i))}return t.Ee}function _i(n){const t=jt(n);return t.de||(t.de=ED(t,Lc(n))),t.de}function ED(n,t){if(n.limitType==="F")return jT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Bd(a.field,l)});const e=n.endAt?new jd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new jd(n.startAt.position,n.startAt.inclusive):null;return jT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Iy(n,t,e){return new mp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function gp(n,t){return wv(_i(n),_i(t))&&n.limitType===t.limitType}function I1(n){return`${Tv(_i(n))}|lt:${n.limitType}`}function Dl(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(a=>C1(a)).join(", ")}]`),dp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ru(a)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ru(a)).join(",")),`Target(${i})`}(_i(n))}; limitType=${n.limitType})`}function yp(n,t){return t.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ot.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,t)&&function(i,a){for(const l of Lc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,t)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,t)&&function(i,a){return!(i.startAt&&!function(c,d,p){const g=LT(c,d,p);return c.inclusive?g<=0:g<0}(i.startAt,Lc(i),a)||i.endAt&&!function(c,d,p){const g=LT(c,d,p);return c.inclusive?g>=0:g>0}(i.endAt,Lc(i),a))}(n,t)}function bD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function O1(n){return(t,e)=>{let i=!1;for(const a of Lc(n)){const l=TD(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function TD(n,t,e){const i=n.field.isKeyField()?Ot.comparator(t.key,e.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?nu(p,g):Vt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Vt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Oa(this.inner,(e,i)=>{for(const[a,l]of i)t(a,l)})}isEmpty(){return p1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new Ve(Ot.comparator);function ms(){return wD}const N1=new Ve(Ot.comparator);function Nc(...n){let t=N1;for(const e of n)t=t.insert(e.key,e);return t}function D1(n){let t=N1;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function po(){return Uc()}function M1(){return Uc()}function Uc(){return new Lo(n=>n.toString(),(n,t)=>n.isEqual(t))}const SD=new Ve(Ot.comparator),AD=new dn(Ot.comparator);function te(...n){let t=AD;for(const e of n)t=t.add(e);return t}const RD=new dn($t);function CD(){return RD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(t)?"-0":t}}function k1(n){return{integerValue:""+n}}function xD(n,t){return tD(t)?k1(t):Av(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this._=void 0}}function ID(n,t,e){return n instanceof zd?function(a,l){const c={fields:{[y1]:{stringValue:g1},[_1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ev(l)&&(l=pp(l)),l&&(c.fields[v1]=l),{mapValue:c}}(e,t):n instanceof Xc?V1(n,t):n instanceof Wc?L1(n,t):function(a,l){const c=P1(a,l),d=zT(c)+zT(a.Re);return Ry(c)&&Ry(a.Re)?k1(d):Av(a.serializer,d)}(n,t)}function OD(n,t,e){return n instanceof Xc?V1(n,t):n instanceof Wc?L1(n,t):e}function P1(n,t){return n instanceof Hd?function(i){return Ry(i)||function(l){return!!l&&"doubleValue"in l}(i)}(t)?t:{integerValue:0}:null}class zd extends vp{}class Xc extends vp{constructor(t){super(),this.elements=t}}function V1(n,t){const e=U1(t);for(const i of n.elements)e.some(a=>Ri(a,i))||e.push(i);return{arrayValue:{values:e}}}class Wc extends vp{constructor(t){super(),this.elements=t}}function L1(n,t){let e=U1(t);for(const i of n.elements)e=e.filter(a=>!Ri(a,i));return{arrayValue:{values:e}}}class Hd extends vp{constructor(t,e){super(),this.serializer=t,this.Re=e}}function zT(n){return Ke(n.integerValue||n.doubleValue)}function U1(n){return bv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ND(n,t){return n.field.isEqual(t.field)&&function(i,a){return i instanceof Xc&&a instanceof Xc||i instanceof Wc&&a instanceof Wc?eu(i.elements,a.elements,Ri):i instanceof Hd&&a instanceof Hd?Ri(i.Re,a.Re):i instanceof zd&&a instanceof zd}(n.transform,t.transform)}class DD{constructor(t,e){this.version=t,this.transformResults=e}}class Ei{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}let _p=class{};function j1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new z1(n.key,Ei.none()):new Sf(n.key,n.data,Ei.none());{const e=n.data,i=ir.empty();let a=new dn(xn.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Na(n.key,i,new vr(a.toArray()),Ei.none())}}function MD(n,t,e){n instanceof Sf?function(a,l,c){const d=a.value.clone(),p=FT(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof Na?function(a,l,c){if(!wd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=FT(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(B1(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,t,e):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function jc(n,t,e,i){return n instanceof Sf?function(l,c,d,p){if(!wd(l.precondition,c))return d;const g=l.value.clone(),_=qT(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof Na?function(l,c,d,p){if(!wd(l.precondition,c))return d;const g=qT(l.fieldTransforms,p,c),_=c.data;return _.setAll(B1(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(l,c,d){return wd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,t,e)}function kD(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=P1(i.transform,a||null);l!=null&&(e===null&&(e=ir.empty()),e.set(i.field,l))}return e||null}function HT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&eu(i,a,(l,c)=>ND(l,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Sf extends _p{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Na extends _p{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function B1(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function FT(n,t,e){const i=new Map;de(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,d=t.data.field(l.field);i.set(l.field,OD(c,d,e[a]))}return i}function qT(n,t,e){const i=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);i.set(a.field,ID(l,c,t))}return i}class z1 extends _p{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PD extends _p{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&MD(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=jc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=jc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=M1();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(a.key)?null:d;const p=j1(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Ut.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),te())}isEqual(t){return this.batchId===t.batchId&&eu(this.mutations,t.mutations,(e,i)=>HT(e,i))&&eu(this.baseMutations,t.baseMutations,(e,i)=>HT(e,i))}}class Rv{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){de(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let a=function(){return SD}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Rv(t,e,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,se;function jD(n){switch(n){case ft.OK:return Vt(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return Vt(15467,{code:n})}}function H1(n){if(n===void 0)return ps("GRPC error has no .code"),ft.UNKNOWN;switch(n){case tn.OK:return ft.OK;case tn.CANCELLED:return ft.CANCELLED;case tn.UNKNOWN:return ft.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ft.INTERNAL;case tn.UNAVAILABLE:return ft.UNAVAILABLE;case tn.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case tn.NOT_FOUND:return ft.NOT_FOUND;case tn.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case tn.ABORTED:return ft.ABORTED;case tn.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case tn.DATA_LOSS:return ft.DATA_LOSS;default:return Vt(39323,{code:n})}}(se=tn||(tn={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new _a([4294967295,4294967295],0);function $T(n){const t=f1().encode(n),e=new r1;return e.update(t),new Uint8Array(e.digest())}function GT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new _a([e,i],0),new _a([a,l],0)]}class Cv{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Dc(`Invalid padding: ${e}`);if(i<0)throw new Dc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=_a.fromNumber(this.pe)}we(t,e,i){let a=t.add(e.multiply(_a.fromNumber(i)));return a.compare(BD)===1&&(a=new _a([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=$T(t),[i,a]=GT(e);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Cv(l,a,e);return i.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const e=$T(t),[i,a]=GT(e);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,Af.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Ep(Ut.min(),a,new Ve($t),ms(),te())}}class Af{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Af(i,e,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,e,i,a){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=a}}class F1{constructor(t,e){this.targetId=t,this.Ce=e}}class q1{constructor(t,e,i=On.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class KT{constructor(){this.Fe=0,this.Me=QT(),this.xe=On.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=te(),e=te(),i=te();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:Vt(38017,{changeType:l})}}),new Af(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=QT()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,de(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class zD{constructor(t){this.ze=t,this.je=new Map,this.He=ms(),this.Je=cd(),this.Ye=cd(),this.Ze=new Ve($t)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:Vt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,a)=>{this.it(a)&&e(a)})}ot(t){const e=t.targetId,i=t.Ce.count,a=this._t(e);if(a){const l=a.target;if(xy(l))if(i===0){const c=new Ot(l.path);this.tt(e,c,Vn.newNoDocument(c,Ut.min()))}else de(i===1,20013,{expectedCount:i});else{const c=this.ut(e);if(c!==i){const d=this.ct(t),p=d?this.lt(d,t,c):1;if(p!==0){this.st(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let c,d;try{c=Sa(i).toUint8Array()}catch(p){if(p instanceof m1)return tu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Cv(c,a,l)}catch(p){return tu(p instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,l,null),a++)}),a}It(t){const e=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&xy(d.target)){const p=new Ot(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,Vn.newNoDocument(p,t))}l.Le&&(e.set(c,l.qe()),l.Qe())}});let i=te();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new Ep(t,e,this.Ze,this.He,i);return this.He=ms(),this.Je=cd(),this.Ye=cd(),this.Ze=new Ve($t),a}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const a=this.rt(t);this.dt(t,e)?a.$e(e,1):a.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new KT,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new dn($t),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new dn($t),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||_t("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new KT),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function cd(){return new Ve(Ot.comparator)}function QT(){return new Ve(Ot.comparator)}const HD={asc:"ASCENDING",desc:"DESCENDING"},FD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qD={and:"AND",or:"OR"};class $D{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Oy(n,t){return n.useProto3Json||dp(t)?t:{value:t}}function Fd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function GD(n,t){return Fd(n,t.toTimestamp())}function bi(n){return de(!!n,49232),Ut.fromTimestamp(function(e){const i=wa(e);return new hn(i.seconds,i.nanos)}(n))}function xv(n,t){return Ny(n,t).canonicalString()}function Ny(n,t){const e=function(a){return new De(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function G1(n){const t=De.fromString(n);return de(W1(t),10190,{key:t.toString()}),t}function Dy(n,t){return xv(n.databaseId,t.path)}function Wg(n,t){const e=G1(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ot(Q1(e))}function K1(n,t){return xv(n.databaseId,t)}function KD(n){const t=G1(n);return t.length===4?De.emptyPath():Q1(t)}function My(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q1(n){return de(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function YT(n,t,e){return{name:Dy(n,t),fields:e.value.mapValue.fields}}function QD(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Vt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(de(_===void 0||typeof _=="string",58123),On.fromBase64String(_||"")):(de(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),On.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(g){const _=g.code===void 0?ft.UNKNOWN:H1(g.code);return new Ct(_,g.message||"")}(c);e=new q1(i,a,l,d||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Wg(n,i.document.name),l=bi(i.document.updateTime),c=i.document.createTime?bi(i.document.createTime):Ut.min(),d=new ir({mapValue:{fields:i.document.fields}}),p=Vn.newFoundDocument(a,l,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];e=new Sd(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Wg(n,i.document),l=i.readTime?bi(i.readTime):Ut.min(),c=Vn.newNoDocument(a,l),d=i.removedTargetIds||[];e=new Sd([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Wg(n,i.document),l=i.removedTargetIds||[];e=new Sd([],l,a,null)}else{if(!("filter"in t))return Vt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new UD(a,l),d=i.targetId;e=new F1(d,c)}}return e}function YD(n,t){let e;if(t instanceof Sf)e={update:YT(n,t.key,t.value)};else if(t instanceof z1)e={delete:Dy(n,t.key)};else if(t instanceof Na)e={update:YT(n,t.key,t.data),updateMask:iM(t.fieldMask)};else{if(!(t instanceof PD))return Vt(16599,{ft:t.type});e={verify:Dy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof zd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Hd)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Vt(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:GD(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Vt(27497)}(n,t.precondition)),e}function XD(n,t){return n&&n.length>0?(de(t!==void 0,14353),n.map(e=>function(a,l){let c=a.updateTime?bi(a.updateTime):bi(l);return c.isEqual(Ut.min())&&(c=bi(l)),new DD(c,a.transformResults||[])}(e,t))):[]}function WD(n,t){return{documents:[K1(n,t.path)]}}function ZD(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=K1(n,a);const l=function(g){if(g.length!==0)return X1(Ci.create(g,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:Ml(T.field),direction:eM(T.dir)}}(_))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=Oy(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:a}}function JD(n){let t=KD(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){de(i===1,65062);const _=e.from[0];_.allDescendants?a=_.collectionId:t=t.child(_.collectionId)}let l=[];e.where&&(l=function(v){const T=Y1(v);return T instanceof Ci&&A1(T)?T.getFilters():[T]}(e.where));let c=[];e.orderBy&&(c=function(v){return v.map(T=>function(M){return new Bd(kl(M.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(T))}(e.orderBy));let d=null;e.limit&&(d=function(v){let T;return T=typeof v=="object"?v.value:v,dp(T)?null:T}(e.limit));let p=null;e.startAt&&(p=function(v){const T=!!v.before,O=v.values||[];return new jd(O,T)}(e.startAt));let g=null;return e.endAt&&(g=function(v){const T=!v.before,O=v.values||[];return new jd(O,T)}(e.endAt)),vD(t,a,c,l,d,"F",p,g)}function tM(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Y1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=kl(e.unaryFilter.field);return fn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=kl(e.unaryFilter.field);return fn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=kl(e.unaryFilter.field);return fn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=kl(e.unaryFilter.field);return fn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}}(n):n.fieldFilter!==void 0?function(e){return fn.create(kl(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Ci.create(e.compositeFilter.filters.map(i=>Y1(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}}(e.compositeFilter.op))}(n):Vt(30097,{filter:n})}function eM(n){return HD[n]}function nM(n){return FD[n]}function rM(n){return qD[n]}function Ml(n){return{fieldPath:n.canonicalString()}}function kl(n){return xn.fromServerFormat(n.fieldPath)}function X1(n){return n instanceof fn?function(e){if(e.op==="=="){if(VT(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NAN"}};if(PT(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(VT(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NOT_NAN"}};if(PT(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(e.field),op:nM(e.op),value:e.value}}}(n):n instanceof Ci?function(e){const i=e.getFilters().map(a=>X1(a));return i.length===1?i[0]:{compositeFilter:{op:rM(e.op),filters:i}}}(n):Vt(54877,{filter:n})}function iM(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function W1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,e,i,a,l=Ut.min(),c=Ut.min(),d=On.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new ma(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t){this.wt=t}}function aM(n){const t=JD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Iy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.Cn=new lM}addToCollectionParentIndex(t,e){return this.Cn.add(e),ut.resolve()}getCollectionParents(t,e){return ut.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ut.resolve()}deleteFieldIndex(t,e){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,e){return ut.resolve()}getDocumentsMatchingTarget(t,e){return ut.resolve(null)}getIndexType(t,e){return ut.resolve(0)}getFieldIndexes(t,e){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,e){return ut.resolve(Ta.min())}getMinOffsetFromCollectionGroup(t,e){return ut.resolve(Ta.min())}updateCollectionGroup(t,e,i){return ut.resolve()}updateIndexEntries(t,e){return ut.resolve()}}class lM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new dn(De.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new dn(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z1=41943040;class rr{static withCacheSize(t){return new rr(t,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(Z1,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new iu(0)}static lr(){return new iu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="LruGarbageCollector",uM=1048576;function ZT([n,t],[e,i]){const a=$t(n,e);return a===0?$t(t,i):a}class cM{constructor(t){this.Er=t,this.buffer=new dn(ZT),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();ZT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class fM{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){_t(WT,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_u(e)?_t(WT,"Ignoring IndexedDB error during garbage collection: ",e):await vu(e)}await this.mr(3e5)})}}class hM{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return ut.resolve(hp.le);const i=new cM(e);return this.gr.forEachTarget(t,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(t,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.gr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(XT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XT):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let i,a,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a))).next(v=>(i=v,d=Date.now(),this.removeTargets(t,i,e))).next(v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(g=Date.now(),Nl()<=Zt.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v})))}}function dM(n,t){return new hM(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.changes=new Lo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Vn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ut.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(i!==null&&jc(i.mutation,a,vr.empty(),hn.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,te()).next(()=>i))}getLocalViewOfDocuments(t,e,i=te()){const a=po();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,i).next(l=>{let c=Nc();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=po();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,te()))}populateOverlays(t,e,i){const a=[];return i.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,a){let l=ms();const c=Uc(),d=function(){return Uc()}();return e.forEach((p,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof Na)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),jc(_.mutation,g,_.mutation.getFieldMask(),hn.now())):c.set(g.key,vr.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((g,_)=>c.set(g,_)),e.forEach((g,_)=>{var v;return d.set(g,new mM(_,(v=c.get(g))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(t,e){const i=Uc();let a=new Ve((c,d)=>c-d),l=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=e.get(p);if(g===null)return;let _=i.get(p)||vr.empty();_=d.applyToLocalView(g,_),i.set(p,_);const v=(a.get(d.batchId)||te()).add(p);a=a.insert(d.batchId,v)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,v=M1();_.forEach(T=>{if(!l.has(T)){const O=j1(e.get(T),i.get(T));O!==null&&v.set(T,O),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return ut.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,a){return function(c){return Ot.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):_D(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):ut.resolve(po());let d=Gc,p=l;return c.next(g=>ut.forEach(g,(_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(_)?ut.resolve():this.remoteDocumentCache.getEntry(t,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(t,g,l)).next(()=>this.computeViews(t,p,g,te())).next(_=>({batchId:d,changes:D1(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ot(e)).next(i=>{let a=Nc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let c=Nc();return this.indexManager.getCollectionParents(t,l).next(d=>ut.forEach(d,p=>{const g=function(v,T){return new mp(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,i,a).next(_=>{_.forEach((v,T)=>{c=c.insert(v,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a))).next(c=>{l.forEach((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Vn.newInvalidDocument(_)))});let d=Nc();return c.forEach((p,g)=>{const _=l.get(p);_!==void 0&&jc(_.mutation,g,vr.empty(),hn.now()),yp(e,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return ut.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:bi(a.createTime)}}(e)),ut.resolve()}getNamedQuery(t,e){return ut.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(a){return{name:a.name,query:aM(a.bundledQuery),readTime:bi(a.readTime)}}(e)),ut.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.overlays=new Ve(Ot.comparator),this.Qr=new Map}getOverlay(t,e){return ut.resolve(this.overlays.get(e))}getOverlays(t,e){const i=po();return ut.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((a,l)=>{this.St(t,e,l)}),ut.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),ut.resolve()}getOverlaysForCollection(t,e,i){const a=po(),l=e.length+1,c=new Ot(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ut.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new Ve((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=po(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=po(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=a)););return ut.resolve(d)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new LD(e,i));let l=this.Qr.get(e);l===void 0&&(l=te(),this.Qr.set(e,l)),this.Qr.set(e,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ut.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.$r=new dn(En.Ur),this.Kr=new dn(En.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const i=new En(t,e);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.zr(new En(t,e))}jr(t,e){t.forEach(i=>this.removeReference(i,e))}Hr(t){const e=new Ot(new De([])),i=new En(e,t),a=new En(e,t+1),l=[];return this.Kr.forEachInRange([i,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Ot(new De([])),i=new En(e,t),a=new En(e,t+1);let l=te();return this.Kr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new En(t,0),i=this.$r.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class En{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Ot.comparator(t.key,e.key)||$t(t.Zr,e.Zr)}static Wr(t,e){return $t(t.Zr,e.Zr)||Ot.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new dn(En.Ur)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VD(l,e,i,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new En(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ut.resolve(c)}lookupMutationBatch(t,e){return ut.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ti(i),l=a<0?0:a;return ut.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?_v:this.nr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new En(e,0),a=new En(e,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],c=>{const d=this.ei(c.Zr);l.push(d)}),ut.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new dn($t);return e.forEach(a=>{const l=new En(a,0),c=new En(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{i=i.add(d.Zr)})}),ut.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;Ot.isDocumentKey(l)||(l=l.child(""));const c=new En(new Ot(l),0);let d=new dn($t);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Zr)),!0)},c),ut.resolve(this.ni(d))}ni(t){const e=[];return t.forEach(i=>{const a=this.ei(i);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){de(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ut.forEach(e.mutations,a=>{const l=new En(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,e){const i=new En(e,0),a=this.Xr.firstAfterOrEqual(i);return ut.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.ii=t,this.docs=function(){return new Ve(Ot.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,c=this.ii(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ut.resolve(i?i.document.mutableCopy():Vn.newInvalidDocument(e))}getEntries(t,e){let i=ms();return e.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Vn.newInvalidDocument(a))}),ut.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=ms();const c=e.path,d=new Ot(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||XN(YN(_),i)<=0||(a.has(_.key)||yp(e,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ut.resolve(l)}getAllFromCollectionGroup(t,e,i,a){Vt(9500)}si(t,e){return ut.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new TM(this)}getSize(t){return ut.resolve(this.size)}}class TM extends pM{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?e.push(this.Br.addEntry(t,a)):this.Br.removeEntry(i)}),ut.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t){this.persistence=t,this.oi=new Lo(e=>Tv(e),wv),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this._i=0,this.ai=new Iv,this.targetCount=0,this.ui=iu.cr()}forEachTarget(t,e){return this.oi.forEach((i,a)=>e(a)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this._i&&(this._i=e),ut.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new iu(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,ut.resolve()}updateTargetData(t,e){return this.Tr(e),ut.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=e&&i.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),ut.waitFor(l).next(()=>a)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,e){const i=this.oi.get(e)||null;return ut.resolve(i)}addMatchingKeys(t,e,i){return this.ai.Gr(e,i),ut.resolve()}removeMatchingKeys(t,e,i){this.ai.jr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),ut.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),ut.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ai.Yr(e);return ut.resolve(i)}containsKey(t,e){return ut.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t,e){this.ci={},this.overlays={},this.li=new hp(0),this.hi=!1,this.hi=!0,this.Pi=new _M,this.referenceDelegate=t(this),this.Ti=new wM(this),this.indexManager=new oM,this.remoteDocumentCache=function(a){return new bM(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new sM(e),this.Ei=new yM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new vM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ci[t.toKey()];return i||(i=new EM(e,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,i){_t("MemoryPersistence","Starting transaction:",t);const a=new SM(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(t,e){return ut.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,e)))}}class SM extends ZN{constructor(t){super(),this.currentSequenceNumber=t}}class Ov{constructor(t){this.persistence=t,this.Vi=new Iv,this.mi=null}static fi(t){return new Ov(t)}get gi(){if(this.mi)return this.mi;throw Vt(60996)}addReference(t,e,i){return this.Vi.addReference(i,e),this.gi.delete(i.toString()),ut.resolve()}removeReference(t,e,i){return this.Vi.removeReference(i,e),this.gi.add(i.toString()),ut.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),ut.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.gi,i=>{const a=Ot.fromPath(i);return this.pi(t,a).next(l=>{l||e.removeEntry(a,Ut.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(i=>{i?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return ut.or([()=>ut.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class qd{constructor(t,e){this.persistence=t,this.yi=new Lo(i=>eD(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=dM(this,e)}static fi(t,e){return new qd(t,e)}di(){}Ai(t){return ut.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(a=>i+a))}br(t){let e=0;return this.yr(t,i=>{e++}).next(()=>e)}yr(t,e){return ut.forEach(this.yi,(i,a)=>this.Dr(t,i,a).next(l=>l?ut.resolve():e(a)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(t,c=>this.Dr(t,c,e).next(d=>{d||(i++,l.removeEntry(c,Ut.min()))})).next(()=>l.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),ut.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),ut.resolve()}removeReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),ut.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=bd(t.data.value)),e}Dr(t,e,i){return ut.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.yi.get(e);return ut.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.ds=i,this.As=a}static Rs(t,e){let i=te(),a=te();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Nv(t,e.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return bO()?8:JN(Un())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.ws(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(t,e,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new AM;return this.Ss(t,e,c).next(d=>{if(l.result=d,this.fs)return this.Ds(t,e,c,d.size)})}).next(()=>l.result)}Ds(t,e,i,a){return i.documentReadCount<this.gs?(Nl()<=Zt.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",Dl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ut.resolve()):(Nl()<=Zt.DEBUG&&_t("QueryEngine","Query:",Dl(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(Nl()<=Zt.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",Dl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,_i(e))):ut.resolve())}ws(t,e){if(BT(e))return ut.resolve(null);let i=_i(e);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=Iy(e,null,"F"),i=_i(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(l=>{const c=te(...l);return this.ys.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(p=>{const g=this.vs(e,d);return this.Cs(e,g,c,p.readTime)?this.ws(t,Iy(e,null,"F")):this.Fs(t,g,e,p)}))})))}bs(t,e,i,a){return BT(e)||a.isEqual(Ut.min())?ut.resolve(null):this.ys.getDocuments(t,i).next(l=>{const c=this.vs(e,l);return this.Cs(e,c,i,a)?ut.resolve(null):(Nl()<=Zt.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Dl(e)),this.Fs(t,c,e,QN(a,Gc)).next(d=>d))})}vs(t,e){let i=new dn(O1(t));return e.forEach((a,l)=>{yp(t,l)&&(i=i.add(l))}),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,e,i){return Nl()<=Zt.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",Dl(e)),this.ys.getDocumentsMatchingQuery(t,e,Ta.min(),i)}Fs(t,e,i,a){return this.ys.getDocumentsMatchingQuery(t,i,a).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="LocalStore",CM=3e8;class xM{constructor(t,e,i,a){this.persistence=t,this.Ms=e,this.serializer=a,this.xs=new Ve($t),this.Os=new Lo(l=>Tv(l),wv),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function IM(n,t,e,i){return new xM(n,t,e,i)}async function tA(n,t){const e=jt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,e.Ls(t),e.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=te();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return e.localDocuments.getDocuments(i,p).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function OM(n,t){const e=jt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),l=e.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const v=g.batch,T=v.keys();let O=ut.resolve();return T.forEach(M=>{O=O.next(()=>_.getEntry(p,M)).next(j=>{const I=g.docVersions.get(M);de(I!==null,48541),j.version.compareTo(I)<0&&(v.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),_.addEntry(j)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(p,v))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=te();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>e.localDocuments.getDocuments(i,a))})}function eA(n){const t=jt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function NM(n,t){const e=jt(n),i=t.snapshotVersion;let a=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.Bs.newChangeBuffer({trackRemovals:!0});a=e.xs;const d=[];t.targetChanges.forEach((_,v)=>{const T=a.get(v);if(!T)return;d.push(e.Ti.removeMatchingKeys(l,_.removedDocuments,v).next(()=>e.Ti.addMatchingKeys(l,_.addedDocuments,v)));let O=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?O=O.withResumeToken(On.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,i)),a=a.insert(v,O),function(j,I,K){return j.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=CM?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(T,O,_)&&d.push(e.Ti.updateTargetData(l,O))});let p=ms(),g=te();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(DM(l,c,t.documentUpdates).next(_=>{p=_.qs,g=_.Qs})),!i.isEqual(Ut.min())){const _=e.Ti.getLastRemoteSnapshotVersion(l).next(v=>e.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return ut.waitFor(d).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(e.xs=a,l))}function DM(n,t,e){let i=te(),a=te();return e.forEach(l=>i=i.add(l)),t.getEntries(n,i).next(l=>{let c=ms();return e.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Ut.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):_t(Dv,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{qs:c,Qs:a}})}function MM(n,t){const e=jt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=_v),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function kM(n,t){const e=jt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return e.Ti.getTargetData(i,t).next(l=>l?(a=l,ut.resolve(a)):e.Ti.allocateTargetId(i).next(c=>(a=new ma(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=e.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.xs=e.xs.insert(i.targetId,i),e.Os.set(t,i.targetId)),i})}async function ky(n,t,e){const i=jt(n),a=i.xs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!_u(c))throw c;_t(Dv,`Failed to update sequence numbers for target ${t}: ${c}`)}i.xs=i.xs.remove(t),i.Os.delete(a.target)}function JT(n,t,e){const i=jt(n);let a=Ut.min(),l=te();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,_){const v=jt(p),T=v.Os.get(_);return T!==void 0?ut.resolve(v.xs.get(T)):v.Ti.getTargetData(g,_)}(i,c,_i(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,t,e?a:Ut.min(),e?l:te())).next(d=>(PM(i,bD(t),d),{documents:d,$s:l})))}function PM(n,t,e){let i=n.Ns.get(t)||Ut.min();e.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(t,i)}class tw{constructor(){this.activeTargetIds=CD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VM{constructor(){this.xo=new tw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,i){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new tw,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="ConnectivityMonitor";class nw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_t(ew,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){_t(ew,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd=null;function Py(){return fd===null?fd=function(){return 268435456+Math.round(2147483648*Math.random())}():fd++,"0x"+fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="RestConnection",UM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jM{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===Ld?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(t,e,i,a,l){const c=Py(),d=this.jo(t,e.toUriEncodedString());_t(Zg,`Sending RPC '${t}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,a,l);const{host:g}=new URL(d),_=mu(g);return this.Jo(t,d,p,i,_).then(v=>(_t(Zg,`Received RPC '${t}' ${c}: `,v),v),v=>{throw tu(Zg,`RPC '${t}' ${c} failed with error: `,v,"url: ",d,"request:",i),v})}Yo(t,e,i,a,l,c){return this.zo(t,e,i,a,l)}Ho(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),i&&i.headers.forEach((a,l)=>t[l]=a)}jo(t,e){const i=UM[t];return`${this.Ko}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class zM extends jM{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,l){const c=Py();return new Promise((d,p)=>{const g=new i1;g.setWithCredentials(!0),g.listenOnce(s1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ed.NO_ERROR:const v=g.getResponseJson();_t(Mn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),d(v);break;case Ed.TIMEOUT:_t(Mn,`RPC '${t}' ${c} timed out`),p(new Ct(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:const T=g.getStatus();if(_t(Mn,`RPC '${t}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const M=O==null?void 0:O.error;if(M&&M.status&&M.message){const j=function(K){const Y=K.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(Y)>=0?Y:ft.UNKNOWN}(M.status);p(new Ct(j,M.message))}else p(new Ct(ft.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ct(ft.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{h_:t,streamId:c,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{_t(Mn,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(a);_t(Mn,`RPC '${t}' ${c} sending request:`,a),g.send(e,"POST",_,i,15)})}I_(t,e,i){const a=Py(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=l1(),d=o1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,e,i),p.encodeInitMessageHeaders=!0;const _=l.join("");_t(Mn,`Creating RPC '${t}' stream ${a}: ${_}`,p);const v=c.createWebChannel(_,p);this.E_(v);let T=!1,O=!1;const M=new BM({Zo:I=>{O?_t(Mn,`Not sending because RPC '${t}' stream ${a} is closed:`,I):(T||(_t(Mn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),T=!0),_t(Mn,`RPC '${t}' stream ${a} sending:`,I),v.send(I))},Xo:()=>v.close()}),j=(I,K,Y)=>{I.listen(K,q=>{try{Y(q)}catch(X){setTimeout(()=>{throw X},0)}})};return j(v,Oc.EventType.OPEN,()=>{O||(_t(Mn,`RPC '${t}' stream ${a} transport opened.`),M.__())}),j(v,Oc.EventType.CLOSE,()=>{O||(O=!0,_t(Mn,`RPC '${t}' stream ${a} transport closed`),M.u_(),this.d_(v))}),j(v,Oc.EventType.ERROR,I=>{O||(O=!0,tu(Mn,`RPC '${t}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),M.u_(new Ct(ft.UNAVAILABLE,"The operation could not be completed")))}),j(v,Oc.EventType.MESSAGE,I=>{var K;if(!O){const Y=I.data[0];de(!!Y,16349);const q=Y,X=(q==null?void 0:q.error)||((K=q[0])===null||K===void 0?void 0:K.error);if(X){_t(Mn,`RPC '${t}' stream ${a} received error:`,X);const tt=X.status;let rt=function(x){const k=tn[x];if(k!==void 0)return H1(k)}(tt),D=X.message;rt===void 0&&(rt=ft.INTERNAL,D="Unknown error status: "+tt+" with message "+X.message),O=!0,M.u_(new Ct(rt,D)),v.close()}else _t(Mn,`RPC '${t}' stream ${a} received:`,Y),M.c_(Y)}}),j(d,a1.STAT_EVENT,I=>{I.stat===wy.PROXY?_t(Mn,`RPC '${t}' stream ${a} detected buffering proxy`):I.stat===wy.NOPROXY&&_t(Mn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{M.a_()},0),M}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function Jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n){return new $D(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t,e,i=1e3,a=1.5,l=6e4){this.xi=t,this.timerId=e,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,e-i);a>0&&_t("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="PersistentStream";class rA{constructor(t,e,i,a,l,c,d,p){this.xi=t,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new nA(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===ft.RESOURCE_EXHAUSTED?(ps(e.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===e&&this.z_(i,a)},i=>{t(()=>{const a=new Ct(ft.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(t,e){const i=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return _t(rw,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(_t(rw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HM extends rA{constructor(t,e,i,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=l}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=QD(this.serializer,t),i=function(l){if(!("targetChange"in l))return Ut.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ut.min():c.readTime?bi(c.readTime):Ut.min()}(t);return this.listener.Y_(e,i)}Z_(t){const e={};e.database=My(this.serializer),e.addTarget=function(l,c){let d;const p=c.target;if(d=xy(p)?{documents:WD(l,p)}:{query:ZD(l,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=$1(l,c.resumeToken);const g=Oy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ut.min())>0){d.readTime=Fd(l,c.snapshotVersion.toTimestamp());const g=Oy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const i=tM(this.serializer,t);i&&(e.labels=i),this.Q_(e)}X_(t){const e={};e.database=My(this.serializer),e.removeTarget=t,this.Q_(e)}}class FM extends rA{constructor(t,e,i,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return de(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,de(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){de(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=XD(t.writeResults,t.commitTime),i=bi(t.commitTime);return this.listener.ra(i,e)}ia(){const t={};t.database=My(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>YD(this.serializer,i))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{}class $M extends qM{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Ct(ft.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(t,Ny(e,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(ft.UNKNOWN,l.toString())})}Yo(t,e,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(t,Ny(e,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(ft.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class GM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ps(e),this.ua=!1):_t("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="RemoteStore";class KM{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{Uo(this)&&(_t(xo,"Restarting streams for network reachability change."),await async function(p){const g=jt(p);g.da.add(4),await Rf(g),g.Va.set("Unknown"),g.da.delete(4),await Tp(g)}(this))})}),this.Va=new GM(i,a)}}async function Tp(n){if(Uo(n))for(const t of n.Aa)await t(!0)}async function Rf(n){for(const t of n.Aa)await t(!1)}function iA(n,t){const e=jt(n);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),Vv(e)?Pv(e):Eu(e).N_()&&kv(e,t))}function Mv(n,t){const e=jt(n),i=Eu(e);e.Ea.delete(t),i.N_()&&sA(e,t),e.Ea.size===0&&(i.N_()?i.k_():Uo(e)&&e.Va.set("Unknown"))}function kv(n,t){if(n.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ut.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Eu(n).Z_(t)}function sA(n,t){n.ma.Ke(t),Eu(n).X_(t)}function Pv(n){n.ma=new zD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Ea.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),Eu(n).start(),n.Va.ca()}function Vv(n){return Uo(n)&&!Eu(n).O_()&&n.Ea.size>0}function Uo(n){return jt(n).da.size===0}function aA(n){n.ma=void 0}async function QM(n){n.Va.set("Online")}async function YM(n){n.Ea.forEach((t,e)=>{kv(n,t)})}async function XM(n,t){aA(n),Vv(n)?(n.Va.Pa(t),Pv(n)):n.Va.set("Unknown")}async function WM(n,t,e){if(n.Va.set("Online"),t instanceof q1&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ea.delete(d),a.ma.removeTarget(d))}(n,t)}catch(i){_t(xo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await $d(n,i)}else if(t instanceof Sd?n.ma.Xe(t):t instanceof F1?n.ma.ot(t):n.ma.nt(t),!e.isEqual(Ut.min()))try{const i=await eA(n.localStore);e.compareTo(i)>=0&&await function(l,c){const d=l.ma.It(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ea.get(g);_&&l.Ea.set(g,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const _=l.Ea.get(p);if(!_)return;l.Ea.set(p,_.withResumeToken(On.EMPTY_BYTE_STRING,_.snapshotVersion)),sA(l,p);const v=new ma(_.target,p,g,_.sequenceNumber);kv(l,v)}),l.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(i){_t(xo,"Failed to raise snapshot:",i),await $d(n,i)}}async function $d(n,t,e){if(!_u(t))throw t;n.da.add(1),await Rf(n),n.Va.set("Offline"),e||(e=()=>eA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_t(xo,"Retrying IndexedDB access"),await e(),n.da.delete(1),await Tp(n)})}function oA(n,t){return t().catch(e=>$d(n,e,t))}async function wp(n){const t=jt(n),e=Ra(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:_v;for(;ZM(t);)try{const a=await MM(t.localStore,i);if(a===null){t.Ia.length===0&&e.k_();break}i=a.batchId,JM(t,a)}catch(a){await $d(t,a)}lA(t)&&uA(t)}function ZM(n){return Uo(n)&&n.Ia.length<10}function JM(n,t){n.Ia.push(t);const e=Ra(n);e.N_()&&e.ea&&e.ta(t.mutations)}function lA(n){return Uo(n)&&!Ra(n).O_()&&n.Ia.length>0}function uA(n){Ra(n).start()}async function t4(n){Ra(n).ia()}async function e4(n){const t=Ra(n);for(const e of n.Ia)t.ta(e.mutations)}async function n4(n,t,e){const i=n.Ia.shift(),a=Rv.from(i,t,e);await oA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await wp(n)}async function r4(n,t){t&&Ra(n).ea&&await async function(i,a){if(function(c){return jD(c)&&c!==ft.ABORTED}(a.code)){const l=i.Ia.shift();Ra(i).L_(),await oA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await wp(i)}}(n,t),lA(n)&&uA(n)}async function iw(n,t){const e=jt(n);e.asyncQueue.verifyOperationInProgress(),_t(xo,"RemoteStore received new credentials");const i=Uo(e);e.da.add(3),await Rf(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Tp(e)}async function i4(n,t){const e=jt(n);t?(e.da.delete(2),await Tp(e)):t||(e.da.add(2),await Rf(e),e.Va.set("Unknown"))}function Eu(n){return n.fa||(n.fa=function(e,i,a){const l=jt(e);return l.oa(),new HM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:QM.bind(null,n),n_:YM.bind(null,n),i_:XM.bind(null,n),Y_:WM.bind(null,n)}),n.Aa.push(async t=>{t?(n.fa.L_(),Vv(n)?Pv(n):n.Va.set("Unknown")):(await n.fa.stop(),aA(n))})),n.fa}function Ra(n){return n.ga||(n.ga=function(e,i,a){const l=jt(e);return l.oa(),new FM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:t4.bind(null,n),i_:r4.bind(null,n),na:e4.bind(null,n),ra:n4.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await wp(n)):(await n.ga.stop(),n.Ia.length>0&&(_t(xo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const c=Date.now()+i,d=new Lv(t,e,c,a,l);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uv(n,t){if(ps("AsyncQueue",`${t}: ${n}`),_u(n))return new Ct(ft.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static emptySet(t){return new Ll(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ot.comparator(e.key,i.key):(e,i)=>Ot.comparator(e.key,i.key),this.keyedMap=Nc(),this.sortedSet=new Ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ll)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Ll;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.pa=new Ve(Ot.comparator)}track(t){const e=t.doc.key,i=this.pa.get(e);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(e,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(e):t.type===1&&i.type===2?this.pa=this.pa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):Vt(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,i)=>{t.push(i)}),t}}class su{constructor(t,e,i,a,l,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,a,l){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new su(t,e,Ll.emptySet(e),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class a4{constructor(){this.queries=aw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=jt(e),l=a.queries;a.queries=aw(),l.forEach((c,d)=>{for(const p of d.Sa)p.onError(i)})})(this,new Ct(ft.ABORTED,"Firestore shutting down"))}}function aw(){return new Lo(n=>I1(n),gp)}async function cA(n,t){const e=jt(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.Da()&&t.va()&&(i=2):(l=new s4,i=t.va()?0:1);try{switch(i){case 0:l.ba=await e.onListen(a,!0);break;case 1:l.ba=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=Uv(c,`Initialization of query '${Dl(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.Sa.push(t),t.Fa(e.onlineState),l.ba&&t.Ma(l.ba)&&jv(e)}async function fA(n,t){const e=jt(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.va()?0:1:!l.Da()&&t.va()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function o4(n,t){const e=jt(n);let i=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const d of c.Sa)d.Ma(a)&&(i=!0);c.ba=a}}i&&jv(e)}function l4(n,t,e){const i=jt(n),a=i.queries.get(t);if(a)for(const l of a.Sa)l.onError(e);i.queries.delete(t)}function jv(n){n.Ca.forEach(t=>{t.next()})}var Vy,ow;(ow=Vy||(Vy={})).xa="default",ow.Cache="cache";class hA{constructor(t,e,i){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new su(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const i=e!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=su.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Vy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t){this.key=t}}class pA{constructor(t){this.key=t}}class u4{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=te(),this.mutatedKeys=te(),this.Za=O1(t),this.Xa=new Ll(this.Za)}get eu(){return this.Ha}tu(t,e){const i=e?e.nu:new sw,a=e?e.Xa:this.Xa;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((_,v)=>{const T=a.get(_),O=yp(this.query,v)?v:null,M=!!T&&this.mutatedKeys.has(T.key),j=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let I=!1;T&&O?T.data.isEqual(O.data)?M!==j&&(i.track({type:3,doc:O}),I=!0):this.ru(T,O)||(i.track({type:2,doc:O}),I=!0,(p&&this.Za(O,p)>0||g&&this.Za(O,g)<0)&&(d=!0)):!T&&O?(i.track({type:0,doc:O}),I=!0):T&&!O&&(i.track({type:1,doc:T}),I=!0,(p||g)&&(d=!0)),I&&(O?(c=c.add(O),l=j?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{Xa:c,nu:i,Cs:d,mutatedKeys:l}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const c=t.nu.wa();c.sort((_,v)=>function(O,M){const j=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Vt:I})}};return j(O)-j(M)}(_.type,v.type)||this.Za(_.doc,v.doc)),this.iu(i),a=a!=null&&a;const d=e&&!a?this.su():[],p=this.Ya.size===0&&this.current&&!a?1:0,g=p!==this.Ja;return this.Ja=p,c.length!==0||g?{snapshot:new su(this.query,t.Xa,l,c,t.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new sw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=te(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const e=[];return t.forEach(i=>{this.Ya.has(i)||e.push(new pA(i))}),this.Ya.forEach(i=>{t.has(i)||e.push(new dA(i))}),e}au(t){this.Ha=t.$s,this.Ya=te();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return su.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Bv="SyncEngine";class c4{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class f4{constructor(t){this.key=t,this.cu=!1}}class h4{constructor(t,e,i,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Lo(d=>I1(d),gp),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ve(Ot.comparator),this.Eu=new Map,this.du=new Iv,this.Au={},this.Ru=new Map,this.Vu=iu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function d4(n,t,e=!0){const i=EA(n);let a;const l=i.hu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await mA(i,t,e,!0),a}async function p4(n,t){const e=EA(n);await mA(e,t,!0,!1)}async function mA(n,t,e,i){const a=await kM(n.localStore,_i(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let d;return i&&(d=await m4(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&iA(n.remoteStore,a),d}async function m4(n,t,e,i,a){n.fu=(v,T,O)=>async function(j,I,K,Y){let q=I.view.tu(K);q.Cs&&(q=await JT(j.localStore,I.query,!1).then(({documents:D})=>I.view.tu(D,q)));const X=Y&&Y.targetChanges.get(I.targetId),tt=Y&&Y.targetMismatches.get(I.targetId)!=null,rt=I.view.applyChanges(q,j.isPrimaryClient,X,tt);return uw(j,I.targetId,rt.ou),rt.snapshot}(n,v,T,O);const l=await JT(n.localStore,t,!0),c=new u4(t,l.$s),d=c.tu(l.documents),p=Af.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);uw(n,e,g.ou);const _=new c4(t,e,c);return n.hu.set(t,_),n.Pu.has(e)?n.Pu.get(e).push(t):n.Pu.set(e,[t]),g.snapshot}async function g4(n,t,e){const i=jt(n),a=i.hu.get(t),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(c=>!gp(c,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ky(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),e&&Mv(i.remoteStore,a.targetId),Ly(i,a.targetId)}).catch(vu)):(Ly(i,a.targetId),await ky(i.localStore,a.targetId,!0))}async function y4(n,t){const e=jt(n),i=e.hu.get(t),a=e.Pu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Mv(e.remoteStore,i.targetId))}async function v4(n,t,e){const i=A4(n);try{const a=await function(c,d){const p=jt(c),g=hn.now(),_=d.reduce((O,M)=>O.add(M.key),te());let v,T;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=ms(),j=te();return p.Bs.getEntries(O,_).next(I=>{M=I,M.forEach((K,Y)=>{Y.isValidDocument()||(j=j.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,M)).next(I=>{v=I;const K=[];for(const Y of d){const q=kD(Y,v.get(Y.key).overlayedDocument);q!=null&&K.push(new Na(Y.key,q,T1(q.value.mapValue),Ei.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,K,d)}).next(I=>{T=I;const K=I.applyToLocalDocumentSet(v,j);return p.documentOverlayCache.saveOverlays(O,I.batchId,K)})}).then(()=>({batchId:T.batchId,changes:D1(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.Au[c.currentUser.toKey()];g||(g=new Ve($t)),g=g.insert(d,p),c.Au[c.currentUser.toKey()]=g}(i,a.batchId,e),await Cf(i,a.changes),await wp(i.remoteStore)}catch(a){const l=Uv(a,"Failed to persist write");e.reject(l)}}async function gA(n,t){const e=jt(n);try{const i=await NM(e.localStore,t);t.targetChanges.forEach((a,l)=>{const c=e.Eu.get(l);c&&(de(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?de(c.cu,14607):a.removedDocuments.size>0&&(de(c.cu,42227),c.cu=!1))}),await Cf(e,i,t)}catch(i){await vu(i)}}function lw(n,t,e){const i=jt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.hu.forEach((l,c)=>{const d=c.view.Fa(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=jt(c);p.onlineState=d;let g=!1;p.queries.forEach((_,v)=>{for(const T of v.Sa)T.Fa(d)&&(g=!0)}),g&&jv(p)}(i.eventManager,t),a.length&&i.lu.Y_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function _4(n,t,e){const i=jt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Eu.get(t),l=a&&a.key;if(l){let c=new Ve(Ot.comparator);c=c.insert(l,Vn.newNoDocument(l,Ut.min()));const d=te().add(l),p=new Ep(Ut.min(),new Map,new Ve($t),c,d);await gA(i,p),i.Iu=i.Iu.remove(l),i.Eu.delete(t),zv(i)}else await ky(i.localStore,t,!1).then(()=>Ly(i,t,e)).catch(vu)}async function E4(n,t){const e=jt(n),i=t.batch.batchId;try{const a=await OM(e.localStore,t);vA(e,i,null),yA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Cf(e,a)}catch(a){await vu(a)}}async function b4(n,t,e){const i=jt(n);try{const a=await function(c,d){const p=jt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(v=>(de(v!==null,37113),_=v.keys(),p.mutationQueue.removeMutationBatch(g,v))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(i.localStore,t);vA(i,t,e),yA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Cf(i,a)}catch(a){await vu(a)}}function yA(n,t){(n.Ru.get(t)||[]).forEach(e=>{e.resolve()}),n.Ru.delete(t)}function vA(n,t,e){const i=jt(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.Au[i.currentUser.toKey()]=a}}function Ly(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Pu.get(t))n.hu.delete(i),e&&n.lu.gu(i,e);n.Pu.delete(t),n.isPrimaryClient&&n.du.Hr(t).forEach(i=>{n.du.containsKey(i)||_A(n,i)})}function _A(n,t){n.Tu.delete(t.path.canonicalString());const e=n.Iu.get(t);e!==null&&(Mv(n.remoteStore,e),n.Iu=n.Iu.remove(t),n.Eu.delete(e),zv(n))}function uw(n,t,e){for(const i of e)i instanceof dA?(n.du.addReference(i.key,t),T4(n,i)):i instanceof pA?(_t(Bv,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,t),n.du.containsKey(i.key)||_A(n,i.key)):Vt(19791,{pu:i})}function T4(n,t){const e=t.key,i=e.path.canonicalString();n.Iu.get(e)||n.Tu.has(i)||(_t(Bv,"New document in limbo: "+e),n.Tu.add(i),zv(n))}function zv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const t=n.Tu.values().next().value;n.Tu.delete(t);const e=new Ot(De.fromString(t)),i=n.Vu.next();n.Eu.set(i,new f4(e)),n.Iu=n.Iu.insert(e,i),iA(n.remoteStore,new ma(_i(Sv(e.path)),i,"TargetPurposeLimboResolution",hp.le))}}async function Cf(n,t,e){const i=jt(n),a=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((d,p)=>{c.push(i.fu(p,t,e).then(g=>{var _;if((g||e)&&i.isPrimaryClient){const v=g?!g.fromCache:(_=e==null?void 0:e.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=Nv.Rs(p.targetId,g);l.push(v)}}))}),await Promise.all(c),i.lu.Y_(a),await async function(p,g){const _=jt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ut.forEach(g,T=>ut.forEach(T.ds,O=>_.persistence.referenceDelegate.addReference(v,T.targetId,O)).next(()=>ut.forEach(T.As,O=>_.persistence.referenceDelegate.removeReference(v,T.targetId,O)))))}catch(v){if(!_u(v))throw v;_t(Dv,"Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const O=_.xs.get(T),M=O.snapshotVersion,j=O.withLastLimboFreeSnapshotVersion(M);_.xs=_.xs.insert(T,j)}}}(i.localStore,l))}async function w4(n,t){const e=jt(n);if(!e.currentUser.isEqual(t)){_t(Bv,"User change. New user:",t.toKey());const i=await tA(e.localStore,t);e.currentUser=t,function(l,c){l.Ru.forEach(d=>{d.forEach(p=>{p.reject(new Ct(ft.CANCELLED,c))})}),l.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Cf(e,i.ks)}}function S4(n,t){const e=jt(n),i=e.Eu.get(t);if(i&&i.cu)return te().add(i.key);{let a=te();const l=e.Pu.get(t);if(!l)return a;for(const c of l){const d=e.hu.get(c);a=a.unionWith(d.view.eu)}return a}}function EA(n){const t=jt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=gA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=S4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_4.bind(null,t),t.lu.Y_=o4.bind(null,t.eventManager),t.lu.gu=l4.bind(null,t.eventManager),t}function A4(n){const t=jt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=E4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,t),t}class Gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return IM(this.persistence,new RM,t.initialUser,this.serializer)}Su(t){return new J1(Ov.fi,this.serializer)}bu(t){return new VM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gd.provider={build:()=>new Gd};class R4 extends Gd{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){de(this.persistence.referenceDelegate instanceof qd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new fM(i,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new J1(i=>qd.fi(i,e),this.serializer)}}class Uy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=w4.bind(null,this.syncEngine),await i4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new a4}()}createDatastore(t){const e=bp(t.databaseInfo.databaseId),i=function(l){return new zM(l)}(t.databaseInfo);return function(l,c,d,p){return new $M(l,c,d,p)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,a,l,c,d){return new KM(i,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>lw(this.syncEngine,e,0),function(){return nw.C()?new nw:new LM}())}createSyncEngine(t,e){return function(a,l,c,d,p,g,_){const v=new h4(a,l,c,d,p,g);return _&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const l=jt(a);_t(xo,"RemoteStore shutting down."),l.da.add(5),await Rf(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Uy.provider={build:()=>new Uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="FirestoreClient";class C4{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=Pn.UNAUTHENTICATED,this.clientId=h1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{_t(Ca,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(_t(Ca,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Uv(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function ty(n,t){n.asyncQueue.verifyOperationInProgress(),_t(Ca,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await tA(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function cw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await x4(n);_t(Ca,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>iw(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>iw(t.remoteStore,a)),n._onlineComponents=t}async function x4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_t(Ca,"Using user provided OfflineComponentProvider");try{await ty(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===ft.FAILED_PRECONDITION||a.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;tu("Error using user provided cache. Falling back to memory cache: "+e),await ty(n,new Gd)}}else _t(Ca,"Using default OfflineComponentProvider"),await ty(n,new R4(void 0));return n._offlineComponents}async function TA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_t(Ca,"Using user provided OnlineComponentProvider"),await cw(n,n._uninitializedComponentsProvider._online)):(_t(Ca,"Using default OnlineComponentProvider"),await cw(n,new Uy))),n._onlineComponents}function I4(n){return TA(n).then(t=>t.syncEngine)}async function wA(n){const t=await TA(n),e=t.eventManager;return e.onListen=d4.bind(null,t.syncEngine),e.onUnlisten=g4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=p4.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=y4.bind(null,t.syncEngine),e}function O4(n,t,e={}){const i=new cs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new bA({next:T=>{_.xu(),c.enqueueAndForget(()=>fA(l,v));const O=T.docs.has(d);!O&&T.fromCache?g.reject(new Ct(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&T.fromCache&&p&&p.source==="server"?g.reject(new Ct(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new hA(Sv(d.path),_,{includeMetadataChanges:!0,Qa:!0});return cA(l,v)}(await wA(n),n.asyncQueue,t,e,i)),i.promise}function N4(n,t,e={}){const i=new cs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new bA({next:T=>{_.xu(),c.enqueueAndForget(()=>fA(l,v)),T.fromCache&&p.source==="server"?g.reject(new Ct(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new hA(d,_,{includeMetadataChanges:!0,Qa:!0});return cA(l,v)}(await wA(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n,t,e){if(!e)throw new Ct(ft.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function D4(n,t,e,i){if(t===!0&&i===!0)throw new Ct(ft.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function hw(n){if(!Ot.isDocumentKey(n))throw new Ct(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dw(n){if(Ot.isDocumentKey(n))throw new Ct(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Vt(12329,{type:typeof n})}function gs(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Hv(n);throw new Ct(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firestore.googleapis.com",pw=!0;class mw{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RA,this.ssl=pw}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:pw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Z1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uM)throw new Ct(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}D4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sp{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new jN;switch(i.type){case"firstParty":return new FN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ct(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=fw.get(e);i&&(_t("ComponentProvider","Removing Datastore"),fw.delete(e),i.terminate())}(this),Promise.resolve()}}function M4(n,t,e,i={}){var a;n=gs(n,Sp);const l=mu(t),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${t}:${e}`;l&&(YS(`https://${p}`),XS("Firestore",!0)),c.host!==RA&&c.host!==p&&tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!Ao(g,d)&&(n._setSettings(g),i.mockUserToken)){let _,v;if(typeof i.mockUserToken=="string")_=i.mockUserToken,v=Pn.MOCK_USER;else{_=hO(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Ct(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Pn(T)}n._authCredentials=new BN(new c1(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CA=class xA{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new xA(this.firestore,t,this._query)}};class ar{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ar(this.firestore,t,this._key)}}class Ea extends CA{constructor(t,e,i){super(t,e,Sv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ar(this.firestore,null,new Ot(t))}withConverter(t){return new Ea(this.firestore,t,this._path)}}function k4(n,t,...e){if(n=In(n),AA("collection","path",t),n instanceof Sp){const i=De.fromString(t,...e);return dw(i),new Ea(n,null,i)}{if(!(n instanceof ar||n instanceof Ea))throw new Ct(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(De.fromString(t,...e));return dw(i),new Ea(n.firestore,null,i)}}function Io(n,t,...e){if(n=In(n),arguments.length===1&&(t=h1.newId()),AA("doc","path",t),n instanceof Sp){const i=De.fromString(t,...e);return hw(i),new ar(n,null,new Ot(i))}{if(!(n instanceof ar||n instanceof Ea))throw new Ct(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(De.fromString(t,...e));return hw(i),new ar(n.firestore,n instanceof Ea?n.converter:null,new Ot(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="AsyncQueue";class yw{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new nA(this,"async_queue_retry"),this.rc=()=>{const i=Jg();i&&_t(gw,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const e=Jg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=Jg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new cs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!_u(t))throw t;_t(gw,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,ps("INTERNAL UNHANDLED ERROR: ",vw(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=e,e}enqueueAfterDelay(t,e,i){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const a=Lv.createAndSchedule(this,t,e,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Vt(47125,{cc:vw(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function vw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class xf extends Sp{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new yw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yw(t),this._firestoreClient=void 0,await t}}}function P4(n,t){const e=typeof n=="object"?n:t1(),i=typeof n=="string"?n:Ld,a=yv(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=cO("firestore");l&&M4(a,...l)}return a}function Fv(n){if(n._terminated)throw new Ct(ft.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||V4(n),n._firestoreClient}function V4(n){var t,e,i;const a=n._freezeSettings(),l=function(d,p,g,_){return new iD(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,SA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new C4(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t){this._byteString=t}static fromBase64String(t){try{return new au(On.fromBase64String(t))}catch(e){throw new Ct(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new au(On.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ct(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=/^__.*__$/;class U4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Na(t,this.data,this.fieldMask,e,this.fieldTransforms):new Sf(t,this.data,e,this.fieldTransforms)}}class IA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Na(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function OA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{Ic:n})}}class Kv{constructor(t,e,i,a,l,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Kv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.dc({path:i,Rc:!1});return a.Vc(t),a}mc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Kd(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(OA(this.Ic)&&L4.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class j4{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||bp(t)}bc(t,e,i,a=!1){return new Kv({Ic:t,methodName:e,wc:i,path:xn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NA(n){const t=n._freezeSettings(),e=bp(n._databaseId);return new j4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function B4(n,t,e,i,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,t,e,a);Qv("Data must be an object, but it was:",c,i);const d=DA(i,c);let p,g;if(l.merge)p=new vr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const T=jy(t,v,e);if(!c.contains(T))throw new Ct(ft.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);kA(_,T)||_.push(T)}p=new vr(_),g=c.fieldTransforms.filter(v=>p.covers(v.field))}else p=null,g=c.fieldTransforms;return new U4(new ir(d),p,g)}class Rp extends qv{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rp}}function z4(n,t,e,i){const a=n.bc(1,t,e);Qv("Data must be an object, but it was:",a,i);const l=[],c=ir.empty();Oa(i,(p,g)=>{const _=Yv(t,p,e);g=In(g);const v=a.mc(_);if(g instanceof Rp)l.push(_);else{const T=Cp(g,v);T!=null&&(l.push(_),c.set(_,T))}});const d=new vr(l);return new IA(c,d,a.fieldTransforms)}function H4(n,t,e,i,a,l){const c=n.bc(1,t,e),d=[jy(t,i,e)],p=[a];if(l.length%2!=0)throw new Ct(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(jy(t,l[T])),p.push(l[T+1]);const g=[],_=ir.empty();for(let T=d.length-1;T>=0;--T)if(!kA(g,d[T])){const O=d[T];let M=p[T];M=In(M);const j=c.mc(O);if(M instanceof Rp)g.push(O);else{const I=Cp(M,j);I!=null&&(g.push(O),_.set(O,I))}}const v=new vr(g);return new IA(_,v,c.fieldTransforms)}function Cp(n,t){if(MA(n=In(n)))return Qv("Unsupported field value:",t,n),DA(n,t);if(n instanceof qv)return function(i,a){if(!OA(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=Cp(d,a.fc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,t)}return function(i,a){if((i=In(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xD(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=hn.fromDate(i);return{timestampValue:Fd(a.serializer,l)}}if(i instanceof hn){const l=new hn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fd(a.serializer,l)}}if(i instanceof $v)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof au)return{bytesValue:$1(a.serializer,i._byteString)};if(i instanceof ar){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:xv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Gv)return function(c,d){return{mapValue:{fields:{[E1]:{stringValue:b1},[Ud]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return Av(d.serializer,g)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${Hv(i)}`)}(n,t)}function DA(n,t){const e={};return p1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Oa(n,(i,a)=>{const l=Cp(a,t.Ac(i));l!=null&&(e[i]=l)}),{mapValue:{fields:e}}}function MA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof hn||n instanceof $v||n instanceof au||n instanceof ar||n instanceof qv||n instanceof Gv)}function Qv(n,t,e){if(!MA(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const i=Hv(e);throw i==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+i)}}function jy(n,t,e){if((t=In(t))instanceof Ap)return t._internalPath;if(typeof t=="string")return Yv(n,t);throw Kd("Field path arguments must be of type string or ",n,!1,void 0,e)}const F4=new RegExp("[~\\*/\\[\\]]");function Yv(n,t,e){if(t.search(F4)>=0)throw Kd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ap(...t.split("."))._internalPath}catch{throw Kd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Kd(n,t,e,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Ct(ft.INVALID_ARGUMENT,d+n+p)}function kA(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(VA("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class q4 extends PA{data(){return super.data()}}function VA(n,t){return typeof t=="string"?Yv(n,t):t instanceof Ap?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ct(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G4{convertValue(t,e="none"){switch(Aa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Sa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Vt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Oa(t,(a,l)=>{i[a]=this.convertValue(l,e)}),i}convertVectorValue(t){var e,i,a;const l=(a=(i=(e=t.fields)===null||e===void 0?void 0:e[Ud].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Ke(c.doubleValue));return new Gv(l)}convertGeoPoint(t){return new $v(Ke(t.latitude),Ke(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=pp(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Kc(t));default:return null}}convertTimestamp(t){const e=wa(t);return new hn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=De.fromString(t);de(W1(i),9688,{name:t});const a=new Qc(i.get(1),i.get(3)),l=new Ot(i.popFirst(5));return a.isEqual(e)||ps(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class LA extends PA{constructor(t,e,i,a,l,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(VA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Ad extends LA{data(t={}){return super.data(t)}}class Q4{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Mc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Ad(this._firestore,this._userDataWriter,i.key,i,new Mc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new Ad(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Ad(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:Y4(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Y4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){n=gs(n,ar);const t=gs(n.firestore,xf);return O4(Fv(t),n._key).then(e=>J4(t,n,e))}class UA extends G4{constructor(t){super(),this.firestore=t}convertBytes(t){return new au(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ar(this.firestore,null,e)}}function X4(n){n=gs(n,CA);const t=gs(n.firestore,xf),e=Fv(t),i=new UA(t);return $4(n._query),N4(e,n._query).then(a=>new Q4(t,i,n,a))}function W4(n,t,e){n=gs(n,ar);const i=gs(n.firestore,xf),a=K4(n.converter,t);return jA(i,[B4(NA(i),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,Ei.none())])}function Z4(n,t,e,...i){n=gs(n,ar);const a=gs(n.firestore,xf),l=NA(a);let c;return c=typeof(t=In(t))=="string"||t instanceof Ap?H4(l,"updateDoc",n._key,t,e,i):z4(l,"updateDoc",n._key,t),jA(a,[c.toMutation(n._key,Ei.exists(!0))])}function jA(n,t){return function(i,a){const l=new cs;return i.asyncQueue.enqueueAndForget(async()=>v4(await I4(i),a,l)),l.promise}(Fv(n),t)}function J4(n,t,e){const i=e.docs.get(t._key),a=new UA(n);return new LA(n,a,t._key,i,new Mc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){yu=a})(gu),Jl(new Ro("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new xf(new zN(i.getProvider("auth-internal")),new qN(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ct(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(g.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),va(wT,ST,t),va(wT,ST,"esm2017")})();var tk="firebase",ek="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */va(tk,ek,"app");function Xv(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(e[i[a]]=n[i[a]]);return e}function BA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nk=BA,zA=new Tf("auth","Firebase",BA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new mv("@firebase/auth");function rk(n,...t){Qd.logLevel<=Zt.WARN&&Qd.warn(`Auth (${gu}): ${n}`,...t)}function Rd(n,...t){Qd.logLevel<=Zt.ERROR&&Qd.error(`Auth (${gu}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(n,...t){throw Wv(n,...t)}function Ti(n,...t){return Wv(n,...t)}function HA(n,t,e){const i=Object.assign(Object.assign({},nk()),{[t]:e});return new Tf("auth","Firebase",i).create(t,{appName:n.name})}function fs(n){return HA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wv(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return zA.create(n,...t)}function Pt(n,t,...e){if(!n)throw Wv(t,...e)}function as(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Rd(t),new Error(t)}function ys(n,t){n||as(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ik(){return _w()==="http:"||_w()==="https:"}function _w(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ik()||vO()||"connection"in navigator)?navigator.onLine:!0}function ak(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,e){this.shortDelay=t,this.longDelay=e,ys(e>t,"Short delay should be less than long delay!"),this.isMobile=mO()||_O()}get(){return sk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(n,t){ys(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uk=new If(3e4,6e4);function Da(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Ma(n,t,e,i,a={}){return qA(n,a,async()=>{let l={},c={};i&&(t==="GET"?c=i:l={body:JSON.stringify(i)});const d=wf(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:p},l);return yO()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&mu(n.emulatorConfig.host)&&(g.credentials="include"),FA.fetch()(await $A(n,n.config.apiHost,e,d),g)})}async function qA(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},ok),t);try{const a=new fk(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw hd(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw hd(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw hd(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw HA(n,_,g);Zr(n,_)}}catch(a){if(a instanceof Ts)throw a;Zr(n,"network-request-failed",{message:String(a)})}}async function Of(n,t,e,i,a={}){const l=await Ma(n,t,e,i,a);return"mfaPendingCredential"in l&&Zr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function $A(n,t,e,i){const a=`${t}${e}?${i}`,l=n,c=l.config.emulator?Zv(n.config,a):`${n.config.apiScheme}://${a}`;return lk.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function ck(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ti(this.auth,"network-request-failed")),uk.get())})}}function hd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Ti(n,t,i);return a.customData._tokenResponse=e,a}function Ew(n){return n!==void 0&&n.enterprise!==void 0}class hk{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return ck(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dk(n,t){return Ma(n,"GET","/v2/recaptchaConfig",Da(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(n,t){return Ma(n,"POST","/v1/accounts:delete",t)}async function Yd(n,t){return Ma(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function mk(n,t=!1){const e=In(n),i=await e.getIdToken(t),a=Jv(i);Pt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Bc(ey(a.auth_time)),issuedAtTime:Bc(ey(a.iat)),expirationTime:Bc(ey(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ey(n){return Number(n)*1e3}function Jv(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const a=$S(e);return a?JSON.parse(a):(Rd("Failed to decode base64 JWT payload"),null)}catch(a){return Rd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function bw(n){const t=Jv(n);return Pt(t,"internal-error"),Pt(typeof t.exp<"u","internal-error"),Pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ts&&gk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function gk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xd(n){var t;const e=n.auth,i=await n.getIdToken(),a=await Jc(n,Yd(e,{idToken:i}));Pt(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?GA(l.providerUserInfo):[],d=_k(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?g:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new zy(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function vk(n){const t=In(n);await Xd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _k(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function GA(n){return n.map(t=>{var{providerId:e}=t,i=Xv(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(n,t){const e=await qA(n,{},async()=>{const i=wf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await $A(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&mu(n.emulatorConfig.host)&&(p.credentials="include"),FA.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function bk(n,t){return Ma(n,"POST","/v2/accounts:revokeToken",Da(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Pt(t.idToken,"internal-error"),Pt(typeof t.idToken<"u","internal-error"),Pt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Pt(t.length!==0,"internal-error");const e=bw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:l}=await Ek(t,e);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:l}=e,c=new Ul;return i&&(Pt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(Pt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Pt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ul,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(n,t){Pt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Wr{constructor(t){var{uid:e,auth:i,stsTokenManager:a}=t,l=Xv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new zy(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await Jc(this,this.stsTokenManager.getToken(this.auth,t));return Pt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return mk(this,t)}reload(){return vk(this)}_assign(t){this!==t&&(Pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Wr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Xd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(fs(this.auth));const t=await this.getIdToken();return await Jc(this,pk(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,a,l,c,d,p,g,_;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,T=(a=e.email)!==null&&a!==void 0?a:void 0,O=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,M=(c=e.photoURL)!==null&&c!==void 0?c:void 0,j=(d=e.tenantId)!==null&&d!==void 0?d:void 0,I=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=e.createdAt)!==null&&g!==void 0?g:void 0,Y=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:q,emailVerified:X,isAnonymous:tt,providerData:rt,stsTokenManager:D}=e;Pt(q&&D,t,"internal-error");const A=Ul.fromJSON(this.name,D);Pt(typeof q=="string",t,"internal-error"),Xs(v,t.name),Xs(T,t.name),Pt(typeof X=="boolean",t,"internal-error"),Pt(typeof tt=="boolean",t,"internal-error"),Xs(O,t.name),Xs(M,t.name),Xs(j,t.name),Xs(I,t.name),Xs(K,t.name),Xs(Y,t.name);const x=new Wr({uid:q,auth:t,email:T,emailVerified:X,displayName:v,isAnonymous:tt,photoURL:M,phoneNumber:O,tenantId:j,stsTokenManager:A,createdAt:K,lastLoginAt:Y});return rt&&Array.isArray(rt)&&(x.providerData=rt.map(k=>Object.assign({},k))),I&&(x._redirectEventId=I),x}static async _fromIdTokenResponse(t,e,i=!1){const a=new Ul;a.updateFromServerResponse(e);const l=new Wr({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Xd(l),l}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];Pt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?GA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Ul;d.updateFromIdToken(i);const p=new Wr({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new zy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Map;function os(n){ys(n instanceof Function,"Expected a class definition");let t=Tw.get(n);return t?(ys(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Tw.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}KA.type="NONE";const ww=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(n,t,e){return`firebase:${n}:${t}:${e}`}class jl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Cd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Cd("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Yd(this.auth,{idToken:t}).catch(()=>{});return e?Wr._fromGetAccountInfoResponse(this.auth,e,t):null}return Wr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new jl(os(ww),t,i);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||os(ww);const c=Cd(i,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=await g._get(c);if(_){let v;if(typeof _=="string"){const T=await Yd(t,{idToken:_}).catch(()=>{});if(!T)break;v=await Wr._fromGetAccountInfoResponse(t,T,_)}else v=Wr._fromJSON(t,_);g!==l&&(d=v),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new jl(l,t,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new jl(l,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(JA(t))return"Blackberry";if(tR(t))return"Webos";if(YA(t))return"Safari";if((t.includes("chrome/")||XA(t))&&!t.includes("edge/"))return"Chrome";if(ZA(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function QA(n=Un()){return/firefox\//i.test(n)}function YA(n=Un()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function XA(n=Un()){return/crios\//i.test(n)}function WA(n=Un()){return/iemobile/i.test(n)}function ZA(n=Un()){return/android/i.test(n)}function JA(n=Un()){return/blackberry/i.test(n)}function tR(n=Un()){return/webos/i.test(n)}function t_(n=Un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Tk(n=Un()){var t;return t_(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function wk(){return EO()&&document.documentMode===10}function eR(n=Un()){return t_(n)||ZA(n)||tR(n)||JA(n)||/windows phone/i.test(n)||WA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(n,t=[]){let e;switch(n){case"Browser":e=Sw(Un());break;case"Worker":e=`${Sw(Un())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${gu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((c,d)=>{try{const p=t(l);c(p)}catch(p){d(p)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(n,t={}){return Ma(n,"GET","/v2/passwordPolicy",Da(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=6;class Ck{constructor(t){var e,i,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:Rk,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Aw(this),this.idTokenSubscription=new Aw(this),this.beforeStateQueue=new Sk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=os(e)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await jl.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Yd(this,{idToken:t}),i=await Wr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Pr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Xd(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ak()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pr(this.app))return Promise.reject(fs(this));const e=t?In(t):null;return e&&Pt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pr(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ak(this),e=new Ck(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Tf("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await bk(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&os(t)||this._popupRedirectResolver;Pt(e,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[os(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,i,a);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&rk(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function jo(n){return In(n)}class Aw{constructor(t){this.auth=t,this.observer=null,this.addObserver=xO(e=>this.observer=e)}get next(){return Pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ik(n){xp=n}function rR(n){return xp.loadJS(n)}function Ok(){return xp.recaptchaEnterpriseScript}function Nk(){return xp.gapiScript}function Dk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Mk{constructor(){this.enterprise=new kk}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class kk{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const Pk="recaptcha-enterprise",iR="NO_RECAPTCHA";class Vk{constructor(t){this.type=Pk,this.auth=jo(t)}async verify(t="verify",e=!1){async function i(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{dk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new hk(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;Ew(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(iR)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mk().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!e&&Ew(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Ok();p.length!==0&&(p+=d),rR(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function Rw(n,t,e,i=!1,a=!1){const l=new Vk(n);let c;if(a)c=iR;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Hy(n,t,e,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Rw(n,t,e,e==="getOobCode");return i(n,c)}else return i(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Rw(n,t,e,e==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(n,t){const e=yv(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Ao(l,t??{}))return a;Zr(a,"already-initialized")}return e.initialize({options:t})}function Uk(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(os);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function jk(n,t,e){const i=jo(n);Pt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=sR(t),{host:c,port:d}=Bk(t),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Pt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Pt(Ao(g,i.config.emulator)&&Ao(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,mu(c)?(YS(`${l}//${c}${p}`),XS("Auth",!0)):zk()}function sR(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Bk(n){const t=sR(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Cw(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Cw(c)}}}function Cw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function zk(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,e){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}async function Hk(n,t){return Ma(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(n,t){return Of(n,"POST","/v1/accounts:signInWithPassword",Da(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,t){return Of(n,"POST","/v1/accounts:signInWithEmailLink",Da(n,t))}async function $k(n,t){return Of(n,"POST","/v1/accounts:signInWithEmailLink",Da(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends e_{constructor(t,e,i,a=null){super("password",i),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new tf(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new tf(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hy(t,e,"signInWithPassword",Fk);case"emailLink":return qk(t,{email:this._email,oobCode:this._password});default:Zr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hy(t,i,"signUpPassword",Hk);case"emailLink":return $k(t,{idToken:e,email:this._email,oobCode:this._password});default:Zr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(n,t){return Of(n,"POST","/v1/accounts:signInWithIdp",Da(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="http://localhost";class Oo extends e_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Oo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Zr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a}=e,l=Xv(e,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Oo(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Bl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Bl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Bl(t,e)}buildRequest(){const t={requestUri:Gk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=wf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qk(n){const t=xc(Ic(n)).link,e=t?xc(Ic(t)).deep_link_id:null,i=xc(Ic(n)).deep_link_id;return(i?xc(Ic(i)).link:null)||i||e||t||n}class n_{constructor(t){var e,i,a,l,c,d;const p=xc(Ic(t)),g=(e=p.apiKey)!==null&&e!==void 0?e:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,v=Kk((a=p.mode)!==null&&a!==void 0?a:null);Pt(g&&_&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=Qk(t);try{return new n_(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.providerId=bu.PROVIDER_ID}static credential(t,e){return tf._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=n_.parseLink(e);return Pt(i,"argument-error"),tf._fromEmailAndCode(t,i.code,i.tenantId)}}bu.PROVIDER_ID="password";bu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends aR{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Nf{constructor(){super("facebook.com")}static credential(t){return Oo._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ta.credential(t.oauthAccessToken)}catch{return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Nf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Oo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ea.credential(e,i)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Nf{constructor(){super("github.com")}static credential(t){return Oo._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return na.credentialFromTaggedObject(t)}static credentialFromError(t){return na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return na.credential(t.oauthAccessToken)}catch{return null}}}na.GITHUB_SIGN_IN_METHOD="github.com";na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Nf{constructor(){super("twitter.com")}static credential(t,e){return Oo._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ra.credentialFromTaggedObject(t)}static credentialFromError(t){return ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return ra.credential(e,i)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,t){return Of(n,"POST","/v1/accounts:signUp",Da(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const l=await Wr._fromIdTokenResponse(t,i,a),c=xw(i);return new No({user:l,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=xw(i);return new No({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function xw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends Ts{constructor(t,e,i,a){var l;super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Wd.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new Wd(t,e,i,a)}}function oR(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wd._fromErrorAndOperation(n,l,t,i):l})}async function Xk(n,t,e=!1){const i=await Jc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return No._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(n,t,e=!1){const{auth:i}=n;if(Pr(i.app))return Promise.reject(fs(i));const a="reauthenticate";try{const l=await Jc(n,oR(i,a,t,n),e);Pt(l.idToken,i,"internal-error");const c=Jv(l.idToken);Pt(c,i,"internal-error");const{sub:d}=c;return Pt(n.uid===d,i,"user-mismatch"),No._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Zr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(n,t,e=!1){if(Pr(n.app))return Promise.reject(fs(n));const i="signIn",a=await oR(n,i,t),l=await No._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(l.user),l}async function Zk(n,t){return lR(jo(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(n){const t=jo(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Jk(n,t,e){if(Pr(n.app))return Promise.reject(fs(n));const i=jo(n),c=await Hy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yk).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&uR(n),p}),d=await No._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function tP(n,t,e){return Pr(n.app)?Promise.reject(fs(n)):Zk(In(n),bu.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&uR(n),i})}function eP(n,t,e,i){return In(n).onIdTokenChanged(t,e,i)}function nP(n,t,e){return In(n).beforeAuthStateChanged(t,e)}function rP(n,t,e,i){return In(n).onAuthStateChanged(t,e,i)}function iP(n){return In(n).signOut()}const Zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=1e3,aP=10;class fR extends cR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);wk()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,aP):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},sP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}fR.type="LOCAL";const oP=fR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR extends cR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}hR.type="SESSION";const dR=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Ip(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(e.origin,l)),p=await lP(d);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ip.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=r_("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function cP(n){wi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function fP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function dP(){return pR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebaseLocalStorageDb",pP=1,Jd="firebaseLocalStorage",gR="fbase_key";class Df{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Op(n,t){return n.transaction([Jd],t?"readwrite":"readonly").objectStore(Jd)}function mP(){const n=indexedDB.deleteDatabase(mR);return new Df(n).toPromise()}function Fy(){const n=indexedDB.open(mR,pP);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Jd,{keyPath:gR})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Jd)?t(i):(i.close(),await mP(),t(await Fy()))})})}async function Iw(n,t,e){const i=Op(n,!0).put({[gR]:t,value:e});return new Df(i).toPromise()}async function gP(n,t){const e=Op(n,!1).get(t),i=await new Df(e).toPromise();return i===void 0?null:i.value}function Ow(n,t){const e=Op(n,!0).delete(t);return new Df(e).toPromise()}const yP=800,vP=3;class yR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>vP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ip._getInstance(dP()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await fP(),!this.activeServiceWorker)return;this.sender=new uP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fy();return await Iw(t,Zd,"1"),await Ow(t,Zd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Iw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>gP(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Ow(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Op(a,!1).getAll();return new Df(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yR.type="LOCAL";const _P=yR;new If(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n,t){return t?os(t):(Pt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends e_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Bl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Bl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function bP(n){return lR(n.auth,new i_(n),n.bypassAuthState)}function TP(n){const{auth:t,user:e}=n;return Pt(e,t,"internal-error"),Wk(e,new i_(n),n.bypassAuthState)}async function wP(n){const{auth:t,user:e}=n;return Pt(e,t,"internal-error"),Xk(e,new i_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,e,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bP;case"linkViaPopup":case"linkViaRedirect":return wP;case"reauthViaPopup":case"reauthViaRedirect":return TP;default:Zr(this.auth,"internal-error")}}resolve(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new If(2e3,1e4);class Vl extends vR{constructor(t,e,i,a,l){super(t,e,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Vl.currentPopupAction&&Vl.currentPopupAction.cancel(),Vl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Pt(t,this.auth,"internal-error"),t}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const t=r_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,SP.get())};t()}}Vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="pendingRedirect",xd=new Map;class RP extends vR{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=xd.get(this.auth._key());if(!t){try{const i=await CP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}xd.set(this.auth._key(),t)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CP(n,t){const e=OP(t),i=IP(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function xP(n,t){xd.set(n._key(),t)}function IP(n){return os(n._redirectPersistence)}function OP(n){return Cd(AP,n.config.apiKey,n.name)}async function NP(n,t,e=!1){if(Pr(n.app))return Promise.reject(fs(n));const i=jo(n),a=EP(i,t),c=await new RP(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=10*60*1e3;class MP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kP(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!_R(t)){const a=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Ti(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(t))}saveEventToCache(t){this.cachedEventUids.add(Nw(t)),this.lastProcessedEventTime=Date.now()}}function Nw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function _R({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function kP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _R(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(n,t={}){return Ma(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LP=/^https?/;async function UP(n){if(n.config.emulator)return;const{authorizedDomains:t}=await PP(n);for(const e of t)try{if(jP(e))return}catch{}Zr(n,"unauthorized-domain")}function jP(n){const t=By(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!LP.test(e))return!1;if(VP.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=new If(3e4,6e4);function Dw(){const n=wi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function zP(n){return new Promise((t,e)=>{var i,a,l;function c(){Dw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dw(),e(Ti(n,"network-request-failed"))},timeout:BP.get()})}if(!((a=(i=wi().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=wi().gapi)===null||l===void 0)&&l.load)c();else{const d=Dk("iframefcb");return wi()[d]=()=>{gapi.load?c():e(Ti(n,"network-request-failed"))},rR(`${Nk()}?onload=${d}`).catch(p=>e(p))}}).catch(t=>{throw Id=null,t})}let Id=null;function HP(n){return Id=Id||zP(n),Id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new If(5e3,15e3),qP="__/auth/iframe",$P="emulator/auth/iframe",GP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QP(n){const t=n.config;Pt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Zv(t,$P):`https://${n.config.authDomain}/${qP}`,i={apiKey:t.apiKey,appName:n.name,v:gu},a=KP.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${wf(i).slice(1)}`}async function YP(n){const t=await HP(n),e=wi().gapi;return Pt(e,n,"internal-error"),t.open({where:document.body,url:QP(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ti(n,"network-request-failed"),d=wi().setTimeout(()=>{l(c)},FP.get());function p(){wi().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WP=500,ZP=600,JP="_blank",tV="http://localhost";class Mw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eV(n,t,e,i=WP,a=ZP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},XP),{width:i.toString(),height:a.toString(),top:l,left:c}),g=Un().toLowerCase();e&&(d=XA(g)?JP:e),QA(g)&&(t=t||tV,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[O,M])=>`${T}${O}=${M},`,"");if(Tk(g)&&d!=="_self")return nV(t||"",d),new Mw(null);const v=window.open(t||"",d,_);Pt(v,n,"popup-blocked");try{v.focus()}catch{}return new Mw(v)}function nV(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="__/auth/handler",iV="emulator/auth/handler",sV=encodeURIComponent("fac");async function kw(n,t,e,i,a,l){Pt(n.config.authDomain,n,"auth-domain-config-required"),Pt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:gu,eventId:a};if(t instanceof aR){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",CO(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(t instanceof Nf){const _=t.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),g=p?`#${sV}=${encodeURIComponent(p)}`:"";return`${aV(n)}?${wf(d).slice(1)}${g}`}function aV({config:n}){return n.emulator?Zv(n,iV):`https://${n.authDomain}/${rV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="webStorageSupport";class oV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dR,this._completeRedirectFn=NP,this._overrideRedirectResult=xP}async _openPopup(t,e,i,a){var l;ys((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await kw(t,e,i,By(),a);return eV(t,c,r_())}async _openRedirect(t,e,i,a){await this._originValidation(t);const l=await kw(t,e,i,By(),a);return cP(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(ys(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await YP(t),i=new MP(t);return e.register("authEvent",a=>(Pt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ny,{type:ny},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[ny];c!==void 0&&e(!!c),Zr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=UP(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return eR()||YA()||t_()}}const lV=oV;var Pw="@firebase/auth",Vw="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fV(n){Jl(new Ro("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Pt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nR(n)},g=new xk(i,a,l,p);return Uk(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Jl(new Ro("auth-internal",t=>{const e=jo(t.getProvider("auth").getImmediate());return(i=>new uV(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),va(Pw,Vw,cV(n)),va(Pw,Vw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=5*60,dV=QS("authIdTokenMaxAge")||hV;let Lw=null;const pV=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>dV)return;const a=e==null?void 0:e.token;Lw!==a&&(Lw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function mV(n=t1()){const t=yv(n,"auth");if(t.isInitialized())return t.getImmediate();const e=Lk(n,{popupRedirectResolver:lV,persistence:[_P,oP,dR]}),i=QS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=pV(l.toString());nP(e,c,()=>c(e.currentUser)),eP(e,d=>c(d))}}const a=GS("auth");return a&&jk(e,`http://${a}`),e}function gV(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}Ik({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const l=Ti("internal-error");l.customData=a,e(l)},i.type="text/javascript",i.charset="UTF-8",gV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fV("Browser");const yV={apiKey:"AIzaSyBozVVinEK5nlXi4xR7_ZE_2tQeSMwN8Us",authDomain:"login-auth-366ba.firebaseapp.com",projectId:"login-auth-366ba",storageBucket:"login-auth-366ba.firebasestorage.app",messagingSenderId:"559443453077",appId:"1:559443453077:web:c5689dced0e72da81ce79c"},vV=JS(yV),ef=mV(),xa=P4(vV);function _V({togglePlayWordle:n}){return S.jsx("div",{className:"homepage flex-center",children:S.jsx(eO,{togglePlayWordle:n})})}const EV=["as","disabled"];function bV(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function TV(n){return!n||n.trim()==="#"}function s_({tagName:n,disabled:t,href:e,target:i,rel:a,role:l,onClick:c,tabIndex:d=0,type:p}){n||(e!=null||i!=null||a!=null?n="a":n="button");const g={tagName:n};if(n==="button")return[{type:p||"button",disabled:t},g];const _=T=>{if((t||n==="a"&&TV(e))&&T.preventDefault(),t){T.stopPropagation();return}c==null||c(T)},v=T=>{T.key===" "&&(T.preventDefault(),_(T))};return n==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:d,href:e,target:n==="a"?i:void 0,"aria-disabled":t||void 0,rel:n==="a"?a:void 0,onClick:_,onKeyDown:v},g]}const a_=w.forwardRef((n,t)=>{let{as:e,disabled:i}=n,a=bV(n,EV);const[l,{tagName:c}]=s_(Object.assign({tagName:e,disabled:i},a));return S.jsx(c,Object.assign({},a,l,{ref:t}))});a_.displayName="Button";const sr=w.forwardRef(({as:n,bsPrefix:t,variant:e="primary",size:i,active:a=!1,disabled:l=!1,className:c,...d},p)=>{const g=Mt(t,"btn"),[_,{tagName:v}]=s_({tagName:n,disabled:l,...d}),T=v;return S.jsx(T,{..._,...d,ref:p,disabled:l,className:wt(c,g,a&&"active",e&&`${g}-${e}`,i&&`${g}-${i}`,d.href&&l&&"disabled")})});sr.displayName="Button";const wV={type:us.string,tooltip:us.bool,as:us.elementType},Np=w.forwardRef(({as:n="div",className:t,type:e="valid",tooltip:i=!1,...a},l)=>S.jsx(n,{...a,ref:l,className:wt(t,`${e}-${i?"tooltip":"feedback"}`)}));Np.displayName="Feedback";Np.propTypes=wV;const vs=w.createContext({}),o_=w.forwardRef(({id:n,bsPrefix:t,className:e,type:i="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...d},p)=>{const{controlId:g}=w.useContext(vs);return t=Mt(t,"form-check-input"),S.jsx(c,{...d,ref:p,type:i,id:n||g,className:wt(e,t,a&&"is-valid",l&&"is-invalid")})});o_.displayName="FormCheckInput";const tp=w.forwardRef(({bsPrefix:n,className:t,htmlFor:e,...i},a)=>{const{controlId:l}=w.useContext(vs);return n=Mt(n,"form-check-label"),S.jsx("label",{...i,ref:a,htmlFor:e||l,className:wt(t,n)})});tp.displayName="FormCheckLabel";function Uw(n,t){let e=0;return w.Children.map(n,i=>w.isValidElement(i)?t(i,e++):i)}function SV(n,t){let e=0;w.Children.forEach(n,i=>{w.isValidElement(i)&&t(i,e++)})}function AV(n,t){return w.Children.toArray(n).some(e=>w.isValidElement(e)&&e.type===t)}const ER=w.forwardRef(({id:n,bsPrefix:t,bsSwitchPrefix:e,inline:i=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:_,className:v,style:T,title:O="",type:M="checkbox",label:j,children:I,as:K="input",...Y},q)=>{t=Mt(t,"form-check"),e=Mt(e,"form-switch");const{controlId:X}=w.useContext(vs),tt=w.useMemo(()=>({controlId:n||X}),[X,n]),rt=!I&&j!=null&&j!==!1||AV(I,tp),D=S.jsx(o_,{...Y,type:M==="switch"?"checkbox":M,ref:q,isValid:c,isInvalid:d,disabled:l,as:K});return S.jsx(vs.Provider,{value:tt,children:S.jsx("div",{style:T,className:wt(v,rt&&t,i&&`${t}-inline`,a&&`${t}-reverse`,M==="switch"&&e),children:I||S.jsxs(S.Fragment,{children:[D,rt&&S.jsx(tp,{title:O,children:j}),g&&S.jsx(Np,{type:_,tooltip:p,children:g})]})})})});ER.displayName="FormCheck";const ep=Object.assign(ER,{Input:o_,Label:tp});var ry,jw;function RV(){if(jw)return ry;jw=1;var n=function(){};return ry=n,ry}var CV=RV();const xV=df(CV),bR=w.forwardRef(({bsPrefix:n,type:t,size:e,htmlSize:i,id:a,className:l,isValid:c=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:_="input",...v},T)=>{const{controlId:O}=w.useContext(vs);return n=Mt(n,"form-control"),S.jsx(_,{...v,type:t,size:i,ref:T,readOnly:g,id:a||O,className:wt(l,p?`${n}-plaintext`:n,e&&`${n}-${e}`,t==="color"&&`${n}-color`,c&&"is-valid",d&&"is-invalid")})});bR.displayName="FormControl";const IV=Object.assign(bR,{Feedback:Np}),TR=w.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},a)=>(t=Mt(t,"form-floating"),S.jsx(e,{ref:a,className:wt(n,t),...i})));TR.displayName="FormFloating";const l_=w.forwardRef(({controlId:n,as:t="div",...e},i)=>{const a=w.useMemo(()=>({controlId:n}),[n]);return S.jsx(vs.Provider,{value:a,children:S.jsx(t,{...e,ref:i})})});l_.displayName="FormGroup";function OV({as:n,bsPrefix:t,className:e,...i}){t=Mt(t,"col");const a=QI(),l=YI(),c=[],d=[];return a.forEach(p=>{const g=i[p];delete i[p];let _,v,T;typeof g=="object"&&g!=null?{span:_,offset:v,order:T}=g:_=g;const O=p!==l?`-${p}`:"";_&&c.push(_===!0?`${t}${O}`:`${t}${O}-${_}`),T!=null&&d.push(`order${O}-${T}`),v!=null&&d.push(`offset${O}-${v}`)}),[{...i,className:wt(e,...c,...d)},{as:n,bsPrefix:t,spans:c}]}const wR=w.forwardRef((n,t)=>{const[{className:e,...i},{as:a="div",bsPrefix:l,spans:c}]=OV(n);return S.jsx(a,{...i,ref:t,className:wt(e,!c.length&&l)})});wR.displayName="Col";const SR=w.forwardRef(({as:n="label",bsPrefix:t,column:e=!1,visuallyHidden:i=!1,className:a,htmlFor:l,...c},d)=>{const{controlId:p}=w.useContext(vs);t=Mt(t,"form-label");let g="col-form-label";typeof e=="string"&&(g=`${g} ${g}-${e}`);const _=wt(a,t,i&&"visually-hidden",e&&g);return l=l||p,e?S.jsx(wR,{ref:d,as:"label",className:_,htmlFor:l,...c}):S.jsx(n,{ref:d,className:_,htmlFor:l,...c})});SR.displayName="FormLabel";const AR=w.forwardRef(({bsPrefix:n,className:t,id:e,...i},a)=>{const{controlId:l}=w.useContext(vs);return n=Mt(n,"form-range"),S.jsx("input",{...i,type:"range",ref:a,className:wt(t,n),id:e||l})});AR.displayName="FormRange";const RR=w.forwardRef(({bsPrefix:n,size:t,htmlSize:e,className:i,isValid:a=!1,isInvalid:l=!1,id:c,...d},p)=>{const{controlId:g}=w.useContext(vs);return n=Mt(n,"form-select"),S.jsx("select",{...d,size:e,ref:p,className:wt(i,n,t&&`${n}-${t}`,a&&"is-valid",l&&"is-invalid"),id:c||g})});RR.displayName="FormSelect";const CR=w.forwardRef(({bsPrefix:n,className:t,as:e="small",muted:i,...a},l)=>(n=Mt(n,"form-text"),S.jsx(e,{...a,ref:l,className:wt(t,n,i&&"text-muted")})));CR.displayName="FormText";const xR=w.forwardRef((n,t)=>S.jsx(ep,{...n,ref:t,type:"switch"}));xR.displayName="Switch";const NV=Object.assign(xR,{Input:ep.Input,Label:ep.Label}),IR=w.forwardRef(({bsPrefix:n,className:t,children:e,controlId:i,label:a,...l},c)=>(n=Mt(n,"form-floating"),S.jsxs(l_,{ref:c,className:wt(t,n),controlId:i,...l,children:[e,S.jsx("label",{htmlFor:i,children:a})]})));IR.displayName="FloatingLabel";const DV={_ref:us.any,validated:us.bool,as:us.elementType},u_=w.forwardRef(({className:n,validated:t,as:e="form",...i},a)=>S.jsx(e,{...i,ref:a,className:wt(n,t&&"was-validated")}));u_.displayName="Form";u_.propTypes=DV;const en=Object.assign(u_,{Group:l_,Control:IV,Floating:TR,Check:ep,Switch:NV,Label:SR,Text:CR,Range:AR,Select:RR,FloatingLabel:IR});var dd;function Bw(n){if((!dd&&dd!==0||n)&&pu){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),dd=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return dd}function MV(){return w.useState(null)}function OR(n){const t=w.useRef(n);return w.useEffect(()=>{t.current=n},[n]),t}function _s(n){const t=OR(n);return w.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function kV(n){const t=w.useRef(n);return t.current=n,t}function NR(n){const t=kV(n);w.useEffect(()=>()=>t.current(),[])}function iy(n){n===void 0&&(n=gf());try{var t=n.activeElement;return!t||!t.nodeName?null:t}catch{return n.body}}function np(n,t){if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return n===t||!!(n.compareDocumentPosition(t)&16)}function DR(){const n=w.useRef(!0),t=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),t.current}function PV(n){const t=w.useRef(n);return t.current=n,t}function VV(n){const t=PV(n);w.useEffect(()=>()=>t.current(),[])}function MR(n){const t=w.useRef(null);return w.useEffect(()=>{t.current=n}),t.current}function LV(n){const t=w.useRef(n);return w.useEffect(()=>{t.current=n},[n]),t}function Ln(n){const t=LV(n);return w.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const UV="data-rr-ui-",jV="rrUi";function Tu(n){return`${UV}${n}`}function BV(n){return`${jV}${n}`}function zV(n=document){const t=n.defaultView;return Math.abs(t.innerWidth-n.documentElement.clientWidth)}const zw=Tu("modal-open");class c_{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:i=!1}={}){this.handleContainerOverflow=e,this.isRTL=i,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return zV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();t.style={overflow:a.style.overflow,[i]:a.style[i]},t.scrollBarWidth&&(e[i]=`${parseInt(ls(a,i)||"0",10)+t.scrollBarWidth}px`),a.setAttribute(zw,""),ls(a,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(zw),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const kR=w.createContext(pu?window:void 0);kR.Provider;function Dp(){return w.useContext(kR)}const sy=(n,t)=>pu?n==null?(t||gf()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function HV(n,t){const e=Dp(),[i,a]=w.useState(()=>sy(n,e==null?void 0:e.document));if(!i){const l=sy(n);l&&a(l)}return w.useEffect(()=>{},[t,i]),w.useEffect(()=>{const l=sy(n);l!==i&&a(l)},[n,i]),i}const Hw=n=>!n||typeof n=="function"?n:t=>{n.current=t};function FV(n,t){const e=Hw(n),i=Hw(t);return a=>{e&&e(a),i&&i(a)}}function Mp(n,t){return w.useMemo(()=>FV(n,t),[n,t])}const qV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",$V=typeof document<"u",Fw=$V||qV?w.useLayoutEffect:w.useEffect;function GV({children:n,in:t,onExited:e,mountOnEnter:i,unmountOnExit:a}){const l=w.useRef(null),c=w.useRef(t),d=Ln(e);w.useEffect(()=>{t?c.current=!0:d(l.current)},[t,d]);const p=Mp(l,du(n)),g=w.cloneElement(n,{ref:p});return t?g:a||!c.current&&i?null:g}const KV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function QV(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function YV(n){let{onEnter:t,onEntering:e,onEntered:i,onExit:a,onExiting:l,onExited:c,addEndListener:d,children:p}=n,g=QV(n,KV);const _=w.useRef(null),v=Mp(_,du(p)),T=X=>tt=>{X&&_.current&&X(_.current,tt)},O=w.useCallback(T(t),[t]),M=w.useCallback(T(e),[e]),j=w.useCallback(T(i),[i]),I=w.useCallback(T(a),[a]),K=w.useCallback(T(l),[l]),Y=w.useCallback(T(c),[c]),q=w.useCallback(T(d),[d]);return Object.assign({},g,{nodeRef:_},t&&{onEnter:O},e&&{onEntering:M},i&&{onEntered:j},a&&{onExit:I},l&&{onExiting:K},c&&{onExited:Y},d&&{addEndListener:q},{children:typeof p=="function"?(X,tt)=>p(X,Object.assign({},tt,{ref:v})):w.cloneElement(p,{ref:v})})}const XV=["component"];function WV(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}const ZV=w.forwardRef((n,t)=>{let{component:e}=n,i=WV(n,XV);const a=YV(i);return S.jsx(e,Object.assign({ref:t},a))});function JV({in:n,onTransition:t}){const e=w.useRef(null),i=w.useRef(!0),a=Ln(t);return Fw(()=>{if(!e.current)return;let l=!1;return a({in:n,element:e.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[n,a]),Fw(()=>(i.current=!1,()=>{i.current=!0}),[]),e}function t6({children:n,in:t,onExited:e,onEntered:i,transition:a}){const[l,c]=w.useState(!t);t&&l&&c(!1);const d=JV({in:!!t,onTransition:g=>{const _=()=>{g.isStale()||(g.in?i==null||i(g.element,g.initial):(c(!0),e==null||e(g.element)))};Promise.resolve(a(g)).then(_,v=>{throw g.in||c(!0),v})}}),p=Mp(d,du(n));return l&&!t?null:w.cloneElement(n,{ref:p})}function qw(n,t,e){return n?S.jsx(ZV,Object.assign({},e,{component:n})):t?S.jsx(t6,Object.assign({},e,{transition:t})):S.jsx(GV,Object.assign({},e))}const e6=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function n6(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}let ay;function r6(n){return ay||(ay=new c_({ownerDocument:n==null?void 0:n.document})),ay}function i6(n){const t=Dp(),e=n||r6(t),i=w.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>e.add(i.current),remove:()=>e.remove(i.current),isTopModal:()=>e.isTopModal(i.current),setDialogRef:w.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:w.useCallback(a=>{i.current.backdrop=a},[])})}const PR=w.forwardRef((n,t)=>{let{show:e=!1,role:i="dialog",className:a,style:l,children:c,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:_,transition:v,runTransition:T,backdropTransition:O,runBackdropTransition:M,autoFocus:j=!0,enforceFocus:I=!0,restoreFocus:K=!0,restoreFocusOptions:Y,renderDialog:q,renderBackdrop:X=zt=>S.jsx("div",Object.assign({},zt)),manager:tt,container:rt,onShow:D,onHide:A=()=>{},onExit:x,onExited:k,onExiting:P,onEnter:V,onEntering:N,onEntered:Et}=n,St=n6(n,e6);const H=Dp(),it=HV(rt),dt=i6(tt),yt=DR(),L=MR(e),[Z,ot]=w.useState(!e),et=w.useRef(null);w.useImperativeHandle(t,()=>dt,[dt]),pu&&!L&&e&&(et.current=iy(H==null?void 0:H.document)),e&&Z&&ot(!1);const ht=Ln(()=>{if(dt.add(),we.current=pa(document,"keydown",xt),pe.current=pa(document,"focus",()=>setTimeout(pt),!0),D&&D(),j){var zt,bn;const me=iy((zt=(bn=dt.dialog)==null?void 0:bn.ownerDocument)!=null?zt:H==null?void 0:H.document);dt.dialog&&me&&!np(dt.dialog,me)&&(et.current=me,dt.dialog.focus())}}),vt=Ln(()=>{if(dt.remove(),we.current==null||we.current(),pe.current==null||pe.current(),K){var zt;(zt=et.current)==null||zt.focus==null||zt.focus(Y),et.current=null}});w.useEffect(()=>{!e||!it||ht()},[e,it,ht]),w.useEffect(()=>{Z&&vt()},[Z,vt]),VV(()=>{vt()});const pt=Ln(()=>{if(!I||!yt()||!dt.isTopModal())return;const zt=iy(H==null?void 0:H.document);dt.dialog&&zt&&!np(dt.dialog,zt)&&dt.dialog.focus()}),Xt=Ln(zt=>{zt.target===zt.currentTarget&&(g==null||g(zt),d===!0&&A())}),xt=Ln(zt=>{p&&u2(zt)&&dt.isTopModal()&&(_==null||_(zt),zt.defaultPrevented||A())}),pe=w.useRef(),we=w.useRef(),le=(...zt)=>{ot(!0),k==null||k(...zt)};if(!it)return null;const ce=Object.assign({role:i,ref:dt.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},St,{style:l,className:a,tabIndex:-1});let Le=q?q(ce):S.jsx("div",Object.assign({},ce,{children:w.cloneElement(c,{role:"document"})}));Le=qw(v,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:x,onExiting:P,onExited:le,onEnter:V,onEntering:N,onEntered:Et,children:Le});let Me=null;return d&&(Me=X({ref:dt.setBackdropRef,onClick:Xt}),Me=qw(O,M,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Me})),S.jsx(S.Fragment,{children:ho.createPortal(S.jsxs(S.Fragment,{children:[Me,Le]}),it)})});PR.displayName="Modal";const VR=Object.assign(PR,{Manager:c_});function s6(n,t){return n.classList?n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function a6(n,t){n.classList?n.classList.add(t):s6(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}var o6=Function.prototype.bind.call(Function.prototype.call,[].slice);function ns(n,t){return o6(n.querySelectorAll(t))}function $w(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function l6(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=$w(n.className,t):n.setAttribute("class",$w(n.className&&n.className.baseVal||"",t))}const Ol={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class LR extends c_{adjustAndStore(t,e,i){const a=e.style[t];e.dataset[t]=a,ls(e,{[t]:`${parseFloat(ls(e,t))+i}px`})}restore(t,e){const i=e.dataset[t];i!==void 0&&(delete e.dataset[t],ls(e,{[t]:i}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(a6(e,"modal-open"),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";ns(e,Ol.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,t.scrollBarWidth)),ns(e,Ol.STICKY_CONTENT).forEach(l=>this.adjustAndStore(a,l,-t.scrollBarWidth)),ns(e,Ol.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(a,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();l6(e,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";ns(e,Ol.FIXED_CONTENT).forEach(l=>this.restore(i,l)),ns(e,Ol.STICKY_CONTENT).forEach(l=>this.restore(a,l)),ns(e,Ol.NAVBAR_TOGGLER).forEach(l=>this.restore(a,l))}}let oy;function UR(n){return oy||(oy=new LR(n)),oy}const u6={[Yr]:"show",[ss]:"show"},kp=w.forwardRef(({className:n,children:t,transitionClasses:e={},onEnter:i,...a},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},d=w.useCallback((p,g)=>{fv(p),i==null||i(p,g)},[i]);return S.jsx(yf,{ref:l,addEndListener:op,...c,onEnter:d,childRef:du(t),children:(p,g)=>w.cloneElement(t,{...g,className:wt("fade",n,t.props.className,u6[p],e[p])})})});kp.displayName="Fade";const jR=w.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},a)=>(t=Mt(t,"modal-body"),S.jsx(e,{ref:a,className:wt(n,t),...i})));jR.displayName="ModalBody";const f_=w.createContext({onHide(){}}),h_=w.forwardRef(({bsPrefix:n,className:t,contentClassName:e,centered:i,size:a,fullscreen:l,children:c,scrollable:d,...p},g)=>{n=Mt(n,"modal");const _=`${n}-dialog`,v=typeof l=="string"?`${n}-fullscreen-${l}`:`${n}-fullscreen`;return S.jsx("div",{...p,ref:g,className:wt(_,t,a&&`${n}-${a}`,i&&`${_}-centered`,d&&`${_}-scrollable`,l&&v),children:S.jsx("div",{className:wt(`${n}-content`,e),children:c})})});h_.displayName="ModalDialog";const BR=w.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},a)=>(t=Mt(t,"modal-footer"),S.jsx(e,{ref:a,className:wt(n,t),...i})));BR.displayName="ModalFooter";const c6={"aria-label":us.string,onClick:us.func,variant:us.oneOf(["white"])},d_=w.forwardRef(({className:n,variant:t,"aria-label":e="Close",...i},a)=>S.jsx("button",{ref:a,type:"button",className:wt("btn-close",t&&`btn-close-${t}`,n),"aria-label":e,...i}));d_.displayName="CloseButton";d_.propTypes=c6;const p_=w.forwardRef(({closeLabel:n="Close",closeVariant:t,closeButton:e=!1,onHide:i,children:a,...l},c)=>{const d=w.useContext(f_),p=_s(()=>{d==null||d.onHide(),i==null||i()});return S.jsxs("div",{ref:c,...l,children:[a,e&&S.jsx(d_,{"aria-label":n,variant:t,onClick:p})]})});p_.displayName="AbstractModalHeader";const zR=w.forwardRef(({bsPrefix:n,className:t,closeLabel:e="Close",closeButton:i=!1,...a},l)=>(n=Mt(n,"modal-header"),S.jsx(p_,{ref:l,...a,className:wt(t,n),closeLabel:e,closeButton:i})));zR.displayName="ModalHeader";const HR=n=>w.forwardRef((t,e)=>S.jsx("div",{...t,ref:e,className:wt(t.className,n)})),f6=HR("h4"),FR=w.forwardRef(({className:n,bsPrefix:t,as:e=f6,...i},a)=>(t=Mt(t,"modal-title"),S.jsx(e,{ref:a,className:wt(n,t),...i})));FR.displayName="ModalTitle";function h6(n){return S.jsx(kp,{...n,timeout:null})}function d6(n){return S.jsx(kp,{...n,timeout:null})}const qR=w.forwardRef(({bsPrefix:n,className:t,style:e,dialogClassName:i,contentClassName:a,children:l,dialogAs:c=h_,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":_,show:v=!1,animation:T=!0,backdrop:O=!0,keyboard:M=!0,onEscapeKeyDown:j,onShow:I,onHide:K,container:Y,autoFocus:q=!0,enforceFocus:X=!0,restoreFocus:tt=!0,restoreFocusOptions:rt,onEntered:D,onExit:A,onExiting:x,onEnter:k,onEntering:P,onExited:V,backdropClassName:N,manager:Et,...St},H)=>{const[it,dt]=w.useState({}),[yt,L]=w.useState(!1),Z=w.useRef(!1),ot=w.useRef(!1),et=w.useRef(null),[ht,vt]=MV(),pt=lp(H,vt),Xt=_s(K),xt=uv();n=Mt(n,"modal");const pe=w.useMemo(()=>({onHide:Xt}),[Xt]);function we(){return Et||UR({isRTL:xt})}function le(Tt){if(!pu)return;const Bt=we().getScrollbarWidth()>0,Ce=Tt.scrollHeight>gf(Tt).documentElement.clientHeight;dt({paddingRight:Bt&&!Ce?Bw():void 0,paddingLeft:!Bt&&Ce?Bw():void 0})}const ce=_s(()=>{ht&&le(ht.dialog)});NR(()=>{gy(window,"resize",ce),et.current==null||et.current()});const Le=()=>{Z.current=!0},Me=Tt=>{Z.current&&ht&&Tt.target===ht.dialog&&(ot.current=!0),Z.current=!1},zt=()=>{L(!0),et.current=DS(ht.dialog,()=>{L(!1)})},bn=Tt=>{Tt.target===Tt.currentTarget&&zt()},me=Tt=>{if(O==="static"){bn(Tt);return}if(ot.current||Tt.target!==Tt.currentTarget){ot.current=!1;return}K==null||K()},Er=Tt=>{M?j==null||j(Tt):(Tt.preventDefault(),O==="static"&&zt())},He=(Tt,Bt)=>{Tt&&le(Tt),k==null||k(Tt,Bt)},Qe=Tt=>{et.current==null||et.current(),A==null||A(Tt)},pn=(Tt,Bt)=>{P==null||P(Tt,Bt),cv(window,"resize",ce)},Re=Tt=>{Tt&&(Tt.style.display=""),V==null||V(Tt),gy(window,"resize",ce)},Fe=w.useCallback(Tt=>S.jsx("div",{...Tt,className:wt(`${n}-backdrop`,N,!T&&"show")}),[T,N,n]),rn={...e,...it};rn.display="block";const Qn=Tt=>S.jsx("div",{role:"dialog",...Tt,style:rn,className:wt(t,n,yt&&`${n}-static`,!T&&"show"),onClick:O?me:void 0,onMouseUp:Me,"data-bs-theme":d,"aria-label":_,"aria-labelledby":p,"aria-describedby":g,children:S.jsx(c,{...St,onMouseDown:Le,className:i,contentClassName:a,children:l})});return S.jsx(f_.Provider,{value:pe,children:S.jsx(VR,{show:v,ref:pt,backdrop:O,container:Y,keyboard:!0,autoFocus:q,enforceFocus:X,restoreFocus:tt,restoreFocusOptions:rt,onEscapeKeyDown:Er,onShow:I,onHide:K,onEnter:He,onEntering:pn,onEntered:D,onExit:Qe,onExiting:x,onExited:Re,manager:we(),transition:T?h6:void 0,backdropTransition:T?d6:void 0,renderBackdrop:Fe,renderDialog:Qn})})});qR.displayName="Modal";const nn=Object.assign(qR,{Body:jR,Header:zR,Title:FR,Footer:BR,Dialog:h_,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Kn=w.forwardRef(({bsPrefix:n,fluid:t=!1,as:e="div",className:i,...a},l)=>{const c=Mt(n,"container"),d=typeof t=="string"?`-${t}`:"-fluid";return S.jsx(e,{ref:l,...a,className:wt(i,t?`${c}${d}`:c)})});Kn.displayName="Container";function p6({logInOpen:n,toggleLogIn:t,toggleSignUp:e}){const[i,a]=w.useState(""),[l,c]=w.useState(""),d=async p=>{p.preventDefault();try{await tP(ef,i,l),console.log("User logged in."),Xr.success("Logged in."),t()}catch(g){console.log(g.message),Xr.error(g.message)}};return S.jsxs(S.Fragment,{children:[S.jsx(Ef,{richColors:!0,position:"top-center"}),S.jsxs(nn,{show:n,onHide:t,children:[S.jsx(nn.Header,{closeButton:!0,children:S.jsx(Kn,{className:"flex-center",children:S.jsx(nn.Title,{children:"Log in"})})}),S.jsx(nn.Body,{children:S.jsxs(en,{onSubmit:p=>d(p),children:[S.jsxs(en.Group,{className:"mb-3",controlId:"email-input",children:[S.jsx(en.Label,{children:"Email"}),S.jsx(en.Control,{autoFocus:!0,required:!0,type:"text",value:i,onChange:p=>a(p.target.value)})]}),S.jsxs(en.Group,{className:"mb-3",controlId:"password-input",children:[S.jsx(en.Label,{children:"Password"}),S.jsx(en.Control,{required:!0,type:"password",value:l,onChange:p=>c(p.target.value)})]}),S.jsx(sr,{variant:"primary",type:"submit",children:"Log in"})]})}),S.jsxs(nn.Footer,{className:"flex-center",children:[S.jsx(Kn,{className:"flex-center",children:S.jsx("h5",{children:"OR"})}),S.jsx(Kn,{className:"flex-center",children:S.jsx(sr,{variant:"primary",onClick:()=>{t(),e()},children:"Sign up"})})]})]})]})}function m6({signUpOpen:n,toggleSignUp:t}){const[e,i]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState(""),[p,g]=w.useState(""),_=async v=>{if(v.preventDefault(),c!==p)console.log("Passwords dont match!"),Xr.warning("Passwords don't match!");else if(c.length<6)console.log("Password needs to be at least 6 characters long!"),Xr.warning("Password is too short - at least 6 characters.");else try{await Jk(ef,a,c);const T=ef.currentUser;await W4(Io(xa,"Users",T.uid),{email:T.email,nickname:e,statistics:{gameModes:{classic:{dailyStreak:0,dailyStreakMax:0,gamesPlayed:0,gamesGuessed:new Array(6).fill(0),playedToday:!1,finishedToday:!1,currentState:{guesses:new Array(6).fill(null).map(()=>({word:"",colors:["black","black","black","black","black"]})),keyColors:{},rowIndex:0}},royale:{dailyStreak:0,dailyStreakMax:0,gamesPlayed:0,gamesGuessed:new Array(5).fill(0),playedToday:!1,finishedToday:!1,currentState:{roundStates:new Array(5).fill(null).map(()=>({guesses:new Array(6).fill(null).map(()=>({word:"",colors:["black","black","black","black","black"]})),keyColors:{},rowIndex:0})),gameRound:0}}}},achievements:[]}),Xr.success("Signed up."),console.log("User registered successfully."),t()}catch(T){console.log(T.message),Xr.error(T.message)}};return S.jsxs(S.Fragment,{children:[S.jsx(Ef,{richColors:!0,position:"top-center"}),S.jsxs(nn,{show:n,onHide:t,backdrop:"static",children:[S.jsx(nn.Header,{closeButton:!0,children:S.jsx(Kn,{className:"flex-center",children:S.jsx(nn.Title,{children:"Sign up"})})}),S.jsx(nn.Body,{children:S.jsxs(en,{onSubmit:_,children:[S.jsxs(en.Group,{className:"mb-3",controlId:"nickname-input",children:[S.jsx(en.Label,{children:"Nickname"}),S.jsx(en.Control,{required:!0,type:"text",autoFocus:!0,value:e,onChange:v=>i(v.target.value),placeholder:"example123"})]}),S.jsxs(en.Group,{required:!0,className:"mb-3",controlId:"email-input",children:[S.jsx(en.Label,{children:"Email address"}),S.jsx(en.Control,{required:!0,type:"email",value:a,onChange:v=>l(v.target.value),placeholder:"name@example.com"})]}),S.jsxs(en.Group,{className:"mb-3",controlId:"password-input",children:[S.jsx(en.Label,{children:"Password"}),S.jsx(en.Control,{required:!0,type:"password",value:c,onChange:v=>d(v.target.value),placeholder:"PasswordExample123?!"})]}),S.jsxs(en.Group,{className:"mb-3",controlId:"repeat-password-input",children:[S.jsx(en.Label,{children:"Repeat password"}),S.jsx(en.Control,{required:!0,type:"password",value:p,onChange:v=>g(v.target.value),placeholder:"PasswordExample123?!"})]}),S.jsx(sr,{variant:"primary",type:"submit",children:"Sign up"})]})}),S.jsxs(nn.Footer,{className:"flex-center",children:[S.jsx(Kn,{className:"flex-center",children:S.jsx("h5",{children:"OR"})}),S.jsx(Kn,{className:"flex-center",children:S.jsx(sr,{variant:"primary",onClick:()=>{console.log("Hello"),t()},children:"Continue with Google"})})]})]})]})}function Pl(n=!1){const[t,e]=w.useState(n),i=w.useCallback(()=>{e(a=>!a)},[]);return[t,i]}function $R(){const[,n]=w.useReducer(t=>t+1,0);return n}const Pp=w.createContext(null);Pp.displayName="NavContext";const Do=w.createContext(null),nf=(n,t=null)=>n!=null?String(n):t||null,GR=w.createContext(null),g6=["as","active","eventKey"];function y6(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function KR({key:n,onClick:t,active:e,id:i,role:a,disabled:l}){const c=w.useContext(Do),d=w.useContext(Pp),p=w.useContext(GR);let g=e;const _={role:a};if(d){!a&&d.role==="tablist"&&(_.role="tab");const v=d.getControllerId(n??null),T=d.getControlledId(n??null);_[Tu("event-key")]=n,_.id=v||i,g=e==null&&n!=null?d.activeKey===n:e,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(_["aria-controls"]=T)}return _.role==="tab"&&(_["aria-selected"]=g,g||(_.tabIndex=-1),l&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=Ln(v=>{l||(t==null||t(v),n!=null&&c&&!v.isPropagationStopped()&&c(n,v))}),[_,{isActive:g}]}const QR=w.forwardRef((n,t)=>{let{as:e=a_,active:i,eventKey:a}=n,l=y6(n,g6);const[c,d]=KR(Object.assign({key:nf(a,l.href),active:i},l));return c[Tu("active")]=d.isActive,S.jsx(e,Object.assign({},l,c,{ref:t}))});QR.displayName="NavItem";const v6=["as","onSelect","activeKey","role","onKeyDown"];function _6(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}const Gw=()=>{},Kw=Tu("event-key"),YR=w.forwardRef((n,t)=>{let{as:e="div",onSelect:i,activeKey:a,role:l,onKeyDown:c}=n,d=_6(n,v6);const p=$R(),g=w.useRef(!1),_=w.useContext(Do),v=w.useContext(GR);let T,O;v&&(l=l||"tablist",a=v.activeKey,T=v.getControlledId,O=v.getControllerId);const M=w.useRef(null),j=q=>{const X=M.current;if(!X)return null;const tt=ns(X,`[${Kw}]:not([aria-disabled=true])`),rt=X.querySelector("[aria-selected=true]");if(!rt||rt!==document.activeElement)return null;const D=tt.indexOf(rt);if(D===-1)return null;let A=D+q;return A>=tt.length&&(A=0),A<0&&(A=tt.length-1),tt[A]},I=(q,X)=>{q!=null&&(i==null||i(q,X),_==null||_(q,X))},K=q=>{if(c==null||c(q),!v)return;let X;switch(q.key){case"ArrowLeft":case"ArrowUp":X=j(-1);break;case"ArrowRight":case"ArrowDown":X=j(1);break;default:return}X&&(q.preventDefault(),I(X.dataset[BV("EventKey")]||null,q),g.current=!0,p())};w.useEffect(()=>{if(M.current&&g.current){const q=M.current.querySelector(`[${Kw}][aria-selected=true]`);q==null||q.focus()}g.current=!1});const Y=Mp(t,M);return S.jsx(Do.Provider,{value:I,children:S.jsx(Pp.Provider,{value:{role:l,activeKey:nf(a),getControlledId:T||Gw,getControllerId:O||Gw},children:S.jsx(e,Object.assign({},d,{onKeyDown:K,ref:Y,role:l}))})})});YR.displayName="Nav";const E6=Object.assign(YR,{Item:QR}),Bo=w.createContext(null);Bo.displayName="NavbarContext";const XR=w.createContext(null);XR.displayName="CardHeaderContext";const WR=w.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},a)=>(t=Mt(t,"nav-item"),S.jsx(e,{ref:a,className:wt(n,t),...i})));WR.displayName="NavItem";function b6(){return w.useState(null)}function T6(n,t,e,i=!1){const a=Ln(e);w.useEffect(()=>{const l=typeof n=="function"?n():n;return l.addEventListener(t,a,i),()=>l.removeEventListener(t,a,i)},[n])}const w6=["onKeyDown"];function S6(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function A6(n){return!n||n.trim()==="#"}const rf=w.forwardRef((n,t)=>{let{onKeyDown:e}=n,i=S6(n,w6);const[a]=s_(Object.assign({tagName:"a"},i)),l=Ln(c=>{a.onKeyDown(c),e==null||e(c)});return A6(i.href)||i.role==="button"?S.jsx("a",Object.assign({ref:t},i,a,{onKeyDown:l})):S.jsx("a",Object.assign({ref:t},i,{onKeyDown:e}))});rf.displayName="Anchor";const ZR=w.forwardRef(({bsPrefix:n,className:t,as:e=rf,active:i,eventKey:a,disabled:l=!1,...c},d)=>{n=Mt(n,"nav-link");const[p,g]=KR({key:nf(a,c.href),active:i,disabled:l,...c});return S.jsx(e,{...c,...p,ref:d,disabled:l,className:wt(t,n,l&&"disabled",g.isActive&&"active")})});ZR.displayName="NavLink";const JR=w.forwardRef((n,t)=>{const{as:e="div",bsPrefix:i,variant:a,fill:l=!1,justify:c=!1,navbar:d,navbarScroll:p,className:g,activeKey:_,...v}=pf(n,{activeKey:"onSelect"}),T=Mt(i,"nav");let O,M,j=!1;const I=w.useContext(Bo),K=w.useContext(XR);return I?(O=I.bsPrefix,j=d??!0):K&&({cardHeaderBsPrefix:M}=K),S.jsx(E6,{as:e,ref:t,activeKey:_,className:wt(g,{[T]:!j,[`${O}-nav`]:j,[`${O}-nav-scroll`]:j&&p,[`${M}-${a}`]:!!M,[`${T}-${a}`]:!!a,[`${T}-fill`]:l,[`${T}-justified`]:c}),...v})});JR.displayName="Nav";const R6=Object.assign(JR,{Item:WR,Link:ZR}),tC=w.forwardRef(({bsPrefix:n,className:t,as:e,...i},a)=>{n=Mt(n,"navbar-brand");const l=e||(i.href?"a":"span");return S.jsx(l,{...i,ref:a,className:wt(t,n)})});tC.displayName="NavbarBrand";const eC=w.forwardRef(({children:n,bsPrefix:t,...e},i)=>{t=Mt(t,"navbar-collapse");const a=w.useContext(Bo);return S.jsx(hv,{in:!!(a&&a.expanded),...e,children:S.jsx("div",{ref:i,className:t,children:n})})});eC.displayName="NavbarCollapse";const nC=w.forwardRef(({bsPrefix:n,className:t,children:e,label:i="Toggle navigation",as:a="button",onClick:l,...c},d)=>{n=Mt(n,"navbar-toggler");const{onToggle:p,expanded:g}=w.useContext(Bo)||{},_=_s(v=>{l&&l(v),p&&p()});return a==="button"&&(c.type="button"),S.jsx(a,{...c,ref:d,onClick:_,"aria-label":i,className:wt(t,n,!g&&"collapsed"),children:e||S.jsx("span",{className:`${n}-icon`})})});nC.displayName="NavbarToggle";const C6=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",x6=typeof document<"u",rC=x6||C6?w.useLayoutEffect:w.useEffect,qy=new WeakMap,Qw=(n,t)=>{if(!n||!t)return;const e=qy.get(t)||new Map;qy.set(t,e);let i=e.get(n);return i||(i=t.matchMedia(n),i.refCount=0,e.set(i.media,i)),i};function I6(n,t=typeof window>"u"?void 0:window){const e=Qw(n,t),[i,a]=w.useState(()=>e?e.matches:!1);return rC(()=>{let l=Qw(n,t);if(!l)return a(!1);let c=qy.get(t);const d=()=>{a(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&(c==null||c.delete(l.media)),l=void 0}},[n]),i}function O6(n){const t=Object.keys(n);function e(d,p){return d===p?p:d?`${d} and ${p}`:p}function i(d){return t[Math.min(t.indexOf(d)+1,t.length-1)]}function a(d){const p=i(d);let g=n[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(d){let p=n[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function c(d,p,g){let _;typeof d=="object"?(_=d,g=p,p=!0):(p=p||!0,_={[d]:p});let v=w.useMemo(()=>Object.entries(_).reduce((T,[O,M])=>((M==="up"||M===!0)&&(T=e(T,l(O))),(M==="down"||M===!0)&&(T=e(T,a(O))),T),""),[JSON.stringify(_)]);return I6(v,g)}return c}const N6=O6({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),iC=w.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},a)=>(t=Mt(t,"offcanvas-body"),S.jsx(e,{ref:a,className:wt(n,t),...i})));iC.displayName="OffcanvasBody";const D6={[Yr]:"show",[ss]:"show"},sC=w.forwardRef(({bsPrefix:n,className:t,children:e,in:i=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:c=!1,...d},p)=>(n=Mt(n,"offcanvas"),S.jsx(yf,{ref:p,addEndListener:op,in:i,mountOnEnter:a,unmountOnExit:l,appear:c,...d,childRef:du(e),children:(g,_)=>w.cloneElement(e,{..._,className:wt(t,e.props.className,(g===Yr||g===qc)&&`${n}-toggling`,D6[g])})})));sC.displayName="OffcanvasToggling";const aC=w.forwardRef(({bsPrefix:n,className:t,closeLabel:e="Close",closeButton:i=!1,...a},l)=>(n=Mt(n,"offcanvas-header"),S.jsx(p_,{ref:l,...a,className:wt(t,n),closeLabel:e,closeButton:i})));aC.displayName="OffcanvasHeader";const M6=HR("h5"),oC=w.forwardRef(({className:n,bsPrefix:t,as:e=M6,...i},a)=>(t=Mt(t,"offcanvas-title"),S.jsx(e,{ref:a,className:wt(n,t),...i})));oC.displayName="OffcanvasTitle";function k6(n){return S.jsx(sC,{...n})}function P6(n){return S.jsx(kp,{...n})}const lC=w.forwardRef(({bsPrefix:n,className:t,children:e,"aria-labelledby":i,placement:a="start",responsive:l,show:c=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:_,onShow:v,onHide:T,container:O,autoFocus:M=!0,enforceFocus:j=!0,restoreFocus:I=!0,restoreFocusOptions:K,onEntered:Y,onExit:q,onExiting:X,onEnter:tt,onEntering:rt,onExited:D,backdropClassName:A,manager:x,renderStaticNode:k=!1,...P},V)=>{const N=w.useRef();n=Mt(n,"offcanvas");const[Et,St]=w.useState(!1),H=_s(T),it=N6(l||"xs","up");w.useEffect(()=>{St(l?c&&!it:c)},[c,l,it]);const dt=w.useMemo(()=>({onHide:H}),[H]);function yt(){return x||(g?(N.current||(N.current=new LR({handleContainerOverflow:!1})),N.current):UR())}const L=(ht,...vt)=>{ht&&(ht.style.visibility="visible"),tt==null||tt(ht,...vt)},Z=(ht,...vt)=>{ht&&(ht.style.visibility=""),D==null||D(...vt)},ot=w.useCallback(ht=>S.jsx("div",{...ht,className:wt(`${n}-backdrop`,A)}),[A,n]),et=ht=>S.jsx("div",{...ht,...P,className:wt(t,l?`${n}-${l}`:n,`${n}-${a}`),"aria-labelledby":i,children:e});return S.jsxs(S.Fragment,{children:[!Et&&(l||k)&&et({}),S.jsx(f_.Provider,{value:dt,children:S.jsx(VR,{show:Et,ref:V,backdrop:d,container:O,keyboard:p,autoFocus:M,enforceFocus:j&&!g,restoreFocus:I,restoreFocusOptions:K,onEscapeKeyDown:_,onShow:v,onHide:H,onEnter:L,onEntering:rt,onEntered:Y,onExit:q,onExiting:X,onExited:Z,manager:yt(),transition:k6,backdropTransition:P6,renderBackdrop:ot,renderDialog:et})})]})});lC.displayName="Offcanvas";const V6=Object.assign(lC,{Body:iC,Header:aC,Title:oC}),uC=w.forwardRef(({onHide:n,...t},e)=>{const i=w.useContext(Bo),a=_s(()=>{i==null||i.onToggle==null||i.onToggle(),n==null||n()});return S.jsx(V6,{ref:e,show:!!(i!=null&&i.expanded),...t,renderStaticNode:!0,onHide:a})});uC.displayName="NavbarOffcanvas";const cC=w.forwardRef(({className:n,bsPrefix:t,as:e="span",...i},a)=>(t=Mt(t,"navbar-text"),S.jsx(e,{ref:a,className:wt(n,t),...i})));cC.displayName="NavbarText";const fC=w.forwardRef((n,t)=>{const{bsPrefix:e,expand:i=!0,variant:a="light",bg:l,fixed:c,sticky:d,className:p,as:g="nav",expanded:_,onToggle:v,onSelect:T,collapseOnSelect:O=!1,...M}=pf(n,{expanded:"onToggle"}),j=Mt(e,"navbar"),I=w.useCallback((...q)=>{T==null||T(...q),O&&_&&(v==null||v(!1))},[T,O,_,v]);M.role===void 0&&g!=="nav"&&(M.role="navigation");let K=`${j}-expand`;typeof i=="string"&&(K=`${K}-${i}`);const Y=w.useMemo(()=>({onToggle:()=>v==null?void 0:v(!_),bsPrefix:j,expanded:!!_,expand:i}),[j,_,i,v]);return S.jsx(Bo.Provider,{value:Y,children:S.jsx(Do.Provider,{value:I,children:S.jsx(g,{ref:t,...M,className:wt(p,j,i&&K,a&&`${j}-${a}`,l&&`bg-${l}`,d&&`sticky-${d}`,c&&`fixed-${c}`)})})})});fC.displayName="Navbar";const pd=Object.assign(fC,{Brand:tC,Collapse:eC,Offcanvas:uC,Text:cC,Toggle:nC});function L6(){const{toggleDarkMode:n}=Vo();return S.jsx(S.Fragment,{children:S.jsxs("div",{className:"dark-mode-button flex-center",children:[S.jsx("input",{type:"checkbox",id:"dark-mode-input",className:"dark-mode-input",onClick:n}),S.jsxs("label",{htmlFor:"dark-mode-input",className:"dark-mode-label",children:[S.jsx("div",{className:"night",children:"night"}),S.jsx("div",{className:"day",children:"day"})]})]})})}function U6(n){return _f({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M135.19 390.14a28.79 28.79 0 0 0 21.68 9.86h246.26A29 29 0 0 0 432 371.13V140.87A29 29 0 0 0 403.13 112H156.87a28.84 28.84 0 0 0-21.67 9.84L46.33 256l88.86 134.11z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336.67 192.33 206.66 322.34m130.01 0L206.66 192.33m130.01 0L206.66 322.34m130.01 0L206.66 192.33"},child:[]}]})(n)}function j6(n){return _f({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"28",d:"M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296"},child:[]},{tag:"circle",attr:{cx:"250",cy:"348",r:"20"},child:[]}]})(n)}function B6(n){return _f({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 496H72a24 24 0 0 1-24-24V328a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v144a24 24 0 0 1-24 24zm224 0h-32a24 24 0 0 1-24-24V232a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v240a24 24 0 0 1-24 24zm112 0h-32a24 24 0 0 1-24-24V120a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v352a24 24 0 0 1-24 24zm-224 0h-32a24 24 0 0 1-24-24V40a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v432a24 24 0 0 1-24 24z"},child:[]}]})(n)}function z6({toggleLogIn:n,playWordle:t,togglePlayWordle:e,toggleStats:i}){const{currentUser:a}=cp(),{setGameMode:l}=bf(),{darkMode:c}=Vo(),d=async()=>{try{await iP(ef),window.location.reload()}catch(p){console.error("Error signing out:",p.message),Xr.error(p.message)}};return S.jsxs(S.Fragment,{children:[S.jsx(Ef,{richColors:!0,position:"top-center"}),S.jsx(pd,{className:c,children:S.jsxs(Kn,{children:[S.jsx(pd.Brand,{className:"nav-brand",onClick:()=>t&&e(),children:"Wordle"}),S.jsx(pd.Toggle,{"aria-controls":"basic-navbar-nav"}),S.jsx(pd.Collapse,{id:"basic-navbar-nav",children:S.jsxs(R6,{className:"me-auto",children:[S.jsx(Kn,{className:"stats flex-center",children:S.jsx(B6,{size:"50%",className:"stats-icon",onClick:()=>{a?(l(Jt.CLASSIC),i()):Xr.error("Log in to see stats")}})}),S.jsx(Kn,{className:"info flex-center",children:S.jsx(j6,{size:"60%",className:"info-icon"})}),a?S.jsx(Kn,{className:"button flex-center",children:S.jsx(sr,{variant:"primary",onClick:d,style:{fontSize:"12px",width:"60px"},children:"Log out"})}):S.jsx(Kn,{className:"button flex-center",children:S.jsx(sr,{variant:"primary",onClick:n,style:{fontSize:"12px",width:"60px"},children:"Log in"})}),S.jsx(L6,{})]})})]})})]})}const m_=w.createContext({handleKeyClick:()=>console.warn("KeyBoardContext: No handleKeyClick provider found!")}),H6=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["ENTER","Z","X","C","V","B","N","M","BACKSPACE"]];function F6({keyColors:n}){const{handleKeyClick:t}=w.useContext(m_),{darkMode:e}=Vo();return S.jsx("div",{className:`keyboard ${e}`,children:H6.map((i,a)=>S.jsx(q6,{keyboardRow:i,index:a,handleKeyClick:t,keyColors:n},a))})}function q6({keyboardRow:n,index:t,keyColors:e}){const i=`keyboard-row ${t+1}`;return S.jsx("div",{className:i,children:n.map((a,l)=>S.jsx($6,{keyboardKey:a,keyColors:e},l))})}function $6({keyboardKey:n,keyColors:t}){const{handleKeyClick:e}=w.useContext(m_),a=`keyboard-key ${n.length>1?n.toLowerCase():"key-letter"} ${t.get(n)}`,l=n==="BACKSPACE"?null:n;return S.jsxs("button",{className:a,onClick:e,id:n,children:[n==="BACKSPACE"&&S.jsx(U6,{className:"backspace-img"}),l]})}function G6({guesses:n,wordLength:t,highLight:e}){const{darkMode:i}=Vo();return S.jsx("div",{className:`wordle-board ${i}`,children:n.map((a,l)=>S.jsx(K6,{guess:a,wordLength:t,highLight:l===e-1?"highlight":""},l))})}function K6({guess:n,wordLength:t,highLight:e}){const i=[];for(let a=0;a<t;a++){let l=n.word[a],c=`tile ${n.colors[a]}`,d=`letter ${n.colors[a]}`;i.push(S.jsx("div",{className:c+" "+e,style:{"--index":a},children:S.jsxs("div",{className:"tile-inner",style:{"--index":a},children:[S.jsx("div",{className:"letter black",style:{"--index":a},children:S.jsx("span",{children:l})}),S.jsx("div",{className:d,style:{"--index":a},children:S.jsx("span",{children:l})})]})},a))}return S.jsx(S.Fragment,{children:i})}const hC=w.createContext({userData:null,isLoading:!0}),Mf=()=>w.useContext(hC);function g_({solution:n,wordSet:t,gameResult:e,setGameResult:i,rowIndex:a,numOfGuesses:l,wordLength:c,highLight:d,guesses:p,setGuesses:g,keyColors:_,setKeyColors:v,baseColors:T}){const{userData:O}=Mf(),{gameMode:M}=bf(),{darkMode:j}=Vo(),I=w.useRef({word:"",colors:T}),K=w.useRef(!0),Y=A=>new Promise(x=>setTimeout(x,A)),q=(A,x)=>{setTimeout(()=>{_.get(A)!=="green"&&v(k=>{const P=new Map(k);return P.set(A,x),P})},1700)},X=A=>{const x=[...p];x[a.current]={...A},g(x)},tt=async()=>{const A=new Array(c).fill(void 0),x=new Map,k=[];let P=0;const V=new Map;n.forEach(N=>V.has(N)?V.set(N,V.get(N)+1):V.set(N,1)),I.current.word.split("").forEach((N,Et)=>{N===n[Et]?(A[Et]="green",x.set(N,"green"),P++,V.set(N,V.get(N)-1)):k.push(Et)}),k.forEach(N=>{const Et=I.current.word[N];V.get(Et)&&n.includes(Et)?(A[N]="orange",V.set(Et,V.get(Et)-1),!x.has(Et)&&x.set(Et,"orange")):(A[N]="grey",!x.has(Et)&&x.set(Et,"grey"))}),x.forEach((N,Et)=>{q(Et,N)}),I.current={word:I.current.word,colors:A},X(I.current),await Y(1700),P===c&&(await Y(1e3),i("guessed"))},rt=A=>{D(A.target.id)},D=async A=>{(M==="practice"||M!=="practice"&&!(O!=null&&O.statistics.gameModes[M].finishedToday))&&!e&&K.current&&(A==="ENTER"?I.current.word.length===c?t.current.has(I.current.word.toLowerCase())?(K.current=!1,await tt(),a.current++,I.current={word:"",colors:T},K.current=!0,!e&&a.current>=l&&(i("failed"),a.current++)):Xr.warning("Not in the word bank."):Xr.warning("Too short."):a.current<l&&(A==="BACKSPACE"&&I.current.word.length>0?(I.current.word=I.current.word.slice(0,-1),X(I.current)):/[A-Z]/.test(A)&&A.length===1&&I.current.word.length<c&&(I.current.word=I.current.word+A,X(I.current))))};return w.useEffect(()=>{const A=x=>{D(x.key.toUpperCase())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[p]),S.jsxs(S.Fragment,{children:[S.jsx(Ef,{richColors:!0,position:"top-center"}),S.jsx("h3",{className:`game-mode ${j}`,children:M}),S.jsx(G6,{guesses:p,wordLength:c,highLight:d}),S.jsx(m_.Provider,{value:{handleKeyClick:rt},children:S.jsx(F6,{keyColors:_})})]})}function y_({showDialog:n,setGameResult:t,toggleRestart:e,togglePlayWordle:i,solution:a}){const{gameMode:l}=bf();return S.jsx(S.Fragment,{children:S.jsxs(nn,{show:n,onHide:()=>t(""),backdrop:"static",children:[S.jsx(nn.Header,{closeButton:!0,children:S.jsx(Kn,{className:"flex-center",children:S.jsx(nn.Title,{children:S.jsx("h1",{children:a})})})}),S.jsx(nn.Body,{}),S.jsx(nn.Footer,{className:"flex-center",children:S.jsxs(Kn,{children:[S.jsx(sr,{onClick:()=>{t(""),i()},children:"Go home"}),l===Jt.PRACTICE&&S.jsx(sr,{onClick:()=>{t(""),e()},children:"Play again"})]})})]})})}function Q6({togglePlayWordle:n,wordLength:t,numOfGuesses:e,guesses:i,setGuesses:a,keyColors:l,setKeyColors:c,rowIndex:d,baseColors:p,gameResult:g,setGameResult:_,mutateUserData:v}){const{userData:T}=Mf(),[O,M]=w.useState([]),j=w.useRef([]),I=w.useRef(new Set);return w.useEffect(()=>{(async()=>{try{d.current=0;let Y=await Zc(Io(xa,"wordleWords","wordBank")),q=Y.data();I.current=new Set(q.allWords),Y=await Zc(Io(xa,"wordleWords","dailyWords")),q=Y.data();const X=q.classicWord;M(X.toUpperCase().split("")),j.current=X.toUpperCase().split(""),console.log(j.current.join(""))}catch(Y){console.error(Y)}})()},[]),w.useEffect(()=>{g&&(async()=>{const Y={...T};Y.statistics.gameModes.classic.finishedToday=!0,Y.statistics.gameModes.classic.gamesPlayed++,Y.statistics.gameModes.classic.dailyStreak++,Y.statistics.gameModes.classic.dailyStreak>T.statistics.gameModes.classic.dailyStreakMax&&(Y.statistics.gameModes.classic.dailyStreakMax=Y.statistics.gameModes.classic.dailyStreak),g==="guessed"&&Y.statistics.gameModes.classic.gamesGuessed[d.current-1]++;try{await v(Y)}catch(q){console.error(q)}})()},[g]),S.jsxs(S.Fragment,{children:[S.jsx(g_,{solution:O,wordSet:I,rowIndex:d,guesses:i,setGuesses:a,keyColors:l,setKeyColors:c,baseColors:p,gameResult:g,setGameResult:_,wordLength:t,numOfGuesses:e}),S.jsx(y_,{showDialog:g,setGameResult:_,togglePlayWordle:n})]})}function Y6({togglePlayWordle:n,wordLength:t,numOfGuesses:e,guesses:i,setGuesses:a,keyColors:l,setKeyColors:c,rowIndex:d,baseColors:p,gameRound:g,gameResult:_,setGameResult:v,mutateUserData:T}){const{userData:O}=Mf(),M=w.useRef([]),[j,I]=w.useState([]),[K,Y]=Pl(!1),q=w.useRef(new Set),[X,tt]=w.useState(!1);w.useEffect(()=>{(async()=>{try{let A=await Zc(Io(xa,"wordleWords","wordBank")),x=A.data();q.current=new Set(x.allWords),A=await Zc(Io(xa,"wordleWords","dailyWords")),x=A.data(),M.current=x.royaleWords,I(M.current[g.current-1].toUpperCase().split("")),M.current.forEach(k=>console.log(k))}catch(A){console.error(A)}})()},[]),w.useEffect(()=>{_&&(_!=="failed"&&g.current<e-1?rt()?tt(!0):(I(M.current[g.current].toUpperCase().split("")),g.current++,v(""),d.current=0,c(new Map),a(new Array(6).fill({word:"",colors:p})),Y()):tt(!0))},[_]),w.useEffect(()=>{X&&(async()=>{const A={...O};A.statistics.gameModes.royale.finishedToday=!0,A.statistics.gameModes.royale.gamesPlayed++,A.statistics.gameModes.royale.dailyStreak++,A.statistics.gameModes.royale.dailyStreak>O.statistics.gameModes.royale.dailyStreakMax&&(A.statistics.gameModes.royale.dailyStreakMax=A.statistics.gameModes.royale.dailyStreak),_==="guessed"&&A.statistics.gameModes.royale.gamesGuessed[g.current-1]++;try{T(A)}catch(x){console.error(x)}})()},[X]);const rt=()=>g.current+d.current>e;return S.jsxs(S.Fragment,{children:[S.jsx(g_,{solution:j,wordSet:q,rowIndex:d,guesses:i,setGuesses:a,keyColors:l,setKeyColors:c,gameResult:_,setGameResult:v,wordLength:t,numOfGuesses:e,highLight:e-g.current,baseColors:p},K),S.jsx(y_,{showDialog:X,setGameResult:v,toggleRestart:Y,togglePlayWordle:n,solution:j})]})}const X6="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function W6({togglePlayWordle:n,wordLength:t,numOfGuesses:e,guesses:i,setGuesses:a,keyColors:l,setKeyColors:c,rowIndex:d,baseColors:p,toggleRestart:g}){const[_,v]=w.useState([]),T=w.useRef([]),O=w.useRef(new Set),[M,j]=w.useState("");return w.useEffect(()=>{(async()=>{try{d.current=0;const q=[...(await(await fetch(X6)).json()).words];q.forEach(tt=>O.current.add(tt));const X=q[Math.floor(Math.random()*(q.length-1))];v(X.toUpperCase().split("")),T.current=X.toUpperCase().split(""),console.log(T.current.join(""))}catch(K){console.error(K)}})()},[]),S.jsxs(S.Fragment,{children:[S.jsx(g_,{solution:_,wordSet:O,rowIndex:d,gameResult:M,setGameResult:j,wordLength:t,numOfGuesses:e,guesses:i,setGuesses:a,keyColors:l,setKeyColors:c,baseColors:p}),S.jsx(y_,{showDialog:M,setGameResult:j,toggleRestart:g,togglePlayWordle:n,solution:_})]})}var wu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mo=typeof window>"u"||"Deno"in globalThis;function Gn(){}function Z6(n,t){return typeof n=="function"?n(t):n}function $y(n){return typeof n=="number"&&n>=0&&n!==1/0}function dC(n,t){return Math.max(n+(t||0)-Date.now(),0)}function ba(n,t){return typeof n=="function"?n(t):n}function kr(n,t){return typeof n=="function"?n(t):n}function Yw(n,t){const{type:e="all",exact:i,fetchStatus:a,predicate:l,queryKey:c,stale:d}=n;if(c){if(i){if(t.queryHash!==v_(c,t.options))return!1}else if(!sf(t.queryKey,c))return!1}if(e!=="all"){const p=t.isActive();if(e==="active"&&!p||e==="inactive"&&p)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||l&&!l(t))}function Xw(n,t){const{exact:e,status:i,predicate:a,mutationKey:l}=n;if(l){if(!t.options.mutationKey)return!1;if(e){if(ko(t.options.mutationKey)!==ko(l))return!1}else if(!sf(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||a&&!a(t))}function v_(n,t){return((t==null?void 0:t.queryKeyHashFn)||ko)(n)}function ko(n){return JSON.stringify(n,(t,e)=>Gy(e)?Object.keys(e).sort().reduce((i,a)=>(i[a]=e[a],i),{}):e)}function sf(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?Object.keys(t).every(e=>sf(n[e],t[e])):!1}function pC(n,t){if(n===t)return n;const e=Ww(n)&&Ww(t);if(e||Gy(n)&&Gy(t)){const i=e?n:Object.keys(n),a=i.length,l=e?t:Object.keys(t),c=l.length,d=e?[]:{},p=new Set(i);let g=0;for(let _=0;_<c;_++){const v=e?_:l[_];(!e&&p.has(v)||e)&&n[v]===void 0&&t[v]===void 0?(d[v]=void 0,g++):(d[v]=pC(n[v],t[v]),d[v]===n[v]&&n[v]!==void 0&&g++)}return a===c&&g===a?n:d}return t}function rp(n,t){if(!t||Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}function Ww(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Gy(n){if(!Zw(n))return!1;const t=n.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!Zw(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Zw(n){return Object.prototype.toString.call(n)==="[object Object]"}function J6(n){return new Promise(t=>{setTimeout(t,n)})}function Ky(n,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(n,t):e.structuralSharing!==!1?pC(n,t):t}function t3(n,t,e=0){const i=[...n,t];return e&&i.length>e?i.slice(1):i}function e3(n,t,e=0){const i=[t,...n];return e&&i.length>e?i.slice(0,-1):i}var __=Symbol();function mC(n,t){return!n.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!n.queryFn||n.queryFn===__?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function gC(n,t){return typeof n=="function"?n(...t):!!n}var mo,ia,zl,_S,n3=(_S=class extends wu{constructor(){super();It(this,mo);It(this,ia);It(this,zl);gt(this,zl,t=>{if(!Mo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){B(this,ia)||this.setEventListener(B(this,zl))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,ia))==null||t.call(this),gt(this,ia,void 0))}setEventListener(t){var e;gt(this,zl,t),(e=B(this,ia))==null||e.call(this),gt(this,ia,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){B(this,mo)!==t&&(gt(this,mo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof B(this,mo)=="boolean"?B(this,mo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},mo=new WeakMap,ia=new WeakMap,zl=new WeakMap,_S),E_=new n3,Hl,sa,Fl,ES,r3=(ES=class extends wu{constructor(){super();It(this,Hl,!0);It(this,sa);It(this,Fl);gt(this,Fl,t=>{if(!Mo&&window.addEventListener){const e=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",i)}}})}onSubscribe(){B(this,sa)||this.setEventListener(B(this,Fl))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,sa))==null||t.call(this),gt(this,sa,void 0))}setEventListener(t){var e;gt(this,Fl,t),(e=B(this,sa))==null||e.call(this),gt(this,sa,t(this.setOnline.bind(this)))}setOnline(t){B(this,Hl)!==t&&(gt(this,Hl,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return B(this,Hl)}},Hl=new WeakMap,sa=new WeakMap,Fl=new WeakMap,ES),ip=new r3;function Qy(){let n,t;const e=new Promise((a,l)=>{n=a,t=l});e.status="pending",e.catch(()=>{});function i(a){Object.assign(e,a),delete e.resolve,delete e.reject}return e.resolve=a=>{i({status:"fulfilled",value:a}),n(a)},e.reject=a=>{i({status:"rejected",reason:a}),t(a)},e}function i3(n){return Math.min(1e3*2**n,3e4)}function yC(n){return(n??"online")==="online"?ip.isOnline():!0}var vC=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function ly(n){return n instanceof vC}function _C(n){let t=!1,e=0,i=!1,a;const l=Qy(),c=j=>{var I;i||(T(new vC(j)),(I=n.abort)==null||I.call(n))},d=()=>{t=!0},p=()=>{t=!1},g=()=>E_.isFocused()&&(n.networkMode==="always"||ip.isOnline())&&n.canRun(),_=()=>yC(n.networkMode)&&n.canRun(),v=j=>{var I;i||(i=!0,(I=n.onSuccess)==null||I.call(n,j),a==null||a(),l.resolve(j))},T=j=>{var I;i||(i=!0,(I=n.onError)==null||I.call(n,j),a==null||a(),l.reject(j))},O=()=>new Promise(j=>{var I;a=K=>{(i||g())&&j(K)},(I=n.onPause)==null||I.call(n)}).then(()=>{var j;a=void 0,i||(j=n.onContinue)==null||j.call(n)}),M=()=>{if(i)return;let j;const I=e===0?n.initialPromise:void 0;try{j=I??n.fn()}catch(K){j=Promise.reject(K)}Promise.resolve(j).then(v).catch(K=>{var rt;if(i)return;const Y=n.retry??(Mo?0:3),q=n.retryDelay??i3,X=typeof q=="function"?q(e,K):q,tt=Y===!0||typeof Y=="number"&&e<Y||typeof Y=="function"&&Y(e,K);if(t||!tt){T(K);return}e++,(rt=n.onFail)==null||rt.call(n,e,K),J6(X).then(()=>g()?void 0:O()).then(()=>{t?T(K):M()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:d,continueRetry:p,canStart:_,start:()=>(_()?M():O().then(M),l)}}var s3=n=>setTimeout(n,0);function a3(){let n=[],t=0,e=d=>{d()},i=d=>{d()},a=s3;const l=d=>{t?n.push(d):a(()=>{e(d)})},c=()=>{const d=n;n=[],d.length&&a(()=>{i(()=>{d.forEach(p=>{e(p)})})})};return{batch:d=>{let p;t++;try{p=d()}finally{t--,t||c()}return p},batchCalls:d=>(...p)=>{l(()=>{d(...p)})},schedule:l,setNotifyFunction:d=>{e=d},setBatchNotifyFunction:d=>{i=d},setScheduler:d=>{a=d}}}var cn=a3(),go,bS,EC=(bS=class{constructor(){It(this,go)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$y(this.gcTime)&&gt(this,go,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Mo?1/0:5*60*1e3))}clearGcTimeout(){B(this,go)&&(clearTimeout(B(this,go)),gt(this,go,void 0))}},go=new WeakMap,bS),ql,yo,Mr,vo,kn,uf,_o,Kr,es,TS,o3=(TS=class extends EC{constructor(t){super();It(this,Kr);It(this,ql);It(this,yo);It(this,Mr);It(this,vo);It(this,kn);It(this,uf);It(this,_o);gt(this,_o,!1),gt(this,uf,t.defaultOptions),this.setOptions(t.options),this.observers=[],gt(this,vo,t.client),gt(this,Mr,B(this,vo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,gt(this,ql,l3(this.options)),this.state=t.state??B(this,ql),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,kn))==null?void 0:t.promise}setOptions(t){this.options={...B(this,uf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Mr).remove(this)}setData(t,e){const i=Ky(this.state.data,t,this.options);return Ft(this,Kr,es).call(this,{data:i,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),i}setState(t,e){Ft(this,Kr,es).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var i,a;const e=(i=B(this,kn))==null?void 0:i.promise;return(a=B(this,kn))==null||a.cancel(t),e?e.then(Gn).catch(Gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,ql))}isActive(){return this.observers.some(t=>kr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===__||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ba(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!dC(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=B(this,kn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=B(this,kn))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Mr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(B(this,kn)&&(B(this,_o)?B(this,kn).cancel({revert:!0}):B(this,kn).cancelRetry()),this.scheduleGc()),B(this,Mr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ft(this,Kr,es).call(this,{type:"invalidate"})}fetch(t,e){var g,_,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(B(this,kn))return B(this,kn).continueRetry(),B(this,kn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const T=this.observers.find(O=>O.options.queryFn);T&&this.setOptions(T.options)}const i=new AbortController,a=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(gt(this,_o,!0),i.signal)})},l=()=>{const T=mC(this.options,e),M=(()=>{const j={client:B(this,vo),queryKey:this.queryKey,meta:this.meta};return a(j),j})();return gt(this,_o,!1),this.options.persister?this.options.persister(T,M,this):T(M)},d=(()=>{const T={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:B(this,vo),state:this.state,fetchFn:l};return a(T),T})();(g=this.options.behavior)==null||g.onFetch(d,this),gt(this,yo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=d.fetchOptions)==null?void 0:_.meta))&&Ft(this,Kr,es).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta});const p=T=>{var O,M,j,I;ly(T)&&T.silent||Ft(this,Kr,es).call(this,{type:"error",error:T}),ly(T)||((M=(O=B(this,Mr).config).onError)==null||M.call(O,T,this),(I=(j=B(this,Mr).config).onSettled)==null||I.call(j,this.state.data,T,this)),this.scheduleGc()};return gt(this,kn,_C({initialPromise:e==null?void 0:e.initialPromise,fn:d.fetchFn,abort:i.abort.bind(i),onSuccess:T=>{var O,M,j,I;if(T===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(T)}catch(K){p(K);return}(M=(O=B(this,Mr).config).onSuccess)==null||M.call(O,T,this),(I=(j=B(this,Mr).config).onSettled)==null||I.call(j,T,this.state.error,this),this.scheduleGc()},onError:p,onFail:(T,O)=>{Ft(this,Kr,es).call(this,{type:"failed",failureCount:T,error:O})},onPause:()=>{Ft(this,Kr,es).call(this,{type:"pause"})},onContinue:()=>{Ft(this,Kr,es).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),B(this,kn).start()}},ql=new WeakMap,yo=new WeakMap,Mr=new WeakMap,vo=new WeakMap,kn=new WeakMap,uf=new WeakMap,_o=new WeakMap,Kr=new WeakSet,es=function(t){const e=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...bC(i.data,this.options),fetchMeta:t.meta??null};case"success":return gt(this,yo,void 0),{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return ly(a)&&a.revert&&B(this,yo)?{...B(this,yo),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=e(this.state),cn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),B(this,Mr).notify({query:this,type:"updated",action:t})})},TS);function bC(n,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yC(t.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function l3(n){const t=typeof n.initialData=="function"?n.initialData():n.initialData,e=t!==void 0,i=e?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var gi,wS,u3=(wS=class extends wu{constructor(t={}){super();It(this,gi);this.config=t,gt(this,gi,new Map)}build(t,e,i){const a=e.queryKey,l=e.queryHash??v_(a,e);let c=this.get(l);return c||(c=new o3({client:t,queryKey:a,queryHash:l,options:t.defaultQueryOptions(e),state:i,defaultOptions:t.getQueryDefaults(a)}),this.add(c)),c}add(t){B(this,gi).has(t.queryHash)||(B(this,gi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=B(this,gi).get(t.queryHash);e&&(t.destroy(),e===t&&B(this,gi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,gi).get(t)}getAll(){return[...B(this,gi).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(i=>Yw(e,i))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(i=>Yw(t,i)):e}notify(t){cn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gi=new WeakMap,wS),yi,qn,Eo,vi,Ws,SS,c3=(SS=class extends EC{constructor(t){super();It(this,vi);It(this,yi);It(this,qn);It(this,Eo);this.mutationId=t.mutationId,gt(this,qn,t.mutationCache),gt(this,yi,[]),this.state=t.state||TC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,yi).includes(t)||(B(this,yi).push(t),this.clearGcTimeout(),B(this,qn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){gt(this,yi,B(this,yi).filter(e=>e!==t)),this.scheduleGc(),B(this,qn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,yi).length||(this.state.status==="pending"?this.scheduleGc():B(this,qn).remove(this))}continue(){var t;return((t=B(this,Eo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,c,d,p,g,_,v,T,O,M,j,I,K,Y,q,X,tt,rt,D,A;const e=()=>{Ft(this,vi,Ws).call(this,{type:"continue"})};gt(this,Eo,_C({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(x,k)=>{Ft(this,vi,Ws).call(this,{type:"failed",failureCount:x,error:k})},onPause:()=>{Ft(this,vi,Ws).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,qn).canRun(this)}));const i=this.state.status==="pending",a=!B(this,Eo).canStart();try{if(i)e();else{Ft(this,vi,Ws).call(this,{type:"pending",variables:t,isPaused:a}),await((c=(l=B(this,qn).config).onMutate)==null?void 0:c.call(l,t,this));const k=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,t));k!==this.state.context&&Ft(this,vi,Ws).call(this,{type:"pending",context:k,variables:t,isPaused:a})}const x=await B(this,Eo).start();return await((_=(g=B(this,qn).config).onSuccess)==null?void 0:_.call(g,x,t,this.state.context,this)),await((T=(v=this.options).onSuccess)==null?void 0:T.call(v,x,t,this.state.context)),await((M=(O=B(this,qn).config).onSettled)==null?void 0:M.call(O,x,null,this.state.variables,this.state.context,this)),await((I=(j=this.options).onSettled)==null?void 0:I.call(j,x,null,t,this.state.context)),Ft(this,vi,Ws).call(this,{type:"success",data:x}),x}catch(x){try{throw await((Y=(K=B(this,qn).config).onError)==null?void 0:Y.call(K,x,t,this.state.context,this)),await((X=(q=this.options).onError)==null?void 0:X.call(q,x,t,this.state.context)),await((rt=(tt=B(this,qn).config).onSettled)==null?void 0:rt.call(tt,void 0,x,this.state.variables,this.state.context,this)),await((A=(D=this.options).onSettled)==null?void 0:A.call(D,void 0,x,t,this.state.context)),x}finally{Ft(this,vi,Ws).call(this,{type:"error",error:x})}}finally{B(this,qn).runNext(this)}}},yi=new WeakMap,qn=new WeakMap,Eo=new WeakMap,vi=new WeakSet,Ws=function(t){const e=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),cn.batch(()=>{B(this,yi).forEach(i=>{i.onMutationUpdate(t)}),B(this,qn).notify({mutation:this,type:"updated",action:t})})},SS);function TC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rs,Qr,cf,AS,f3=(AS=class extends wu{constructor(t={}){super();It(this,rs);It(this,Qr);It(this,cf);this.config=t,gt(this,rs,new Set),gt(this,Qr,new Map),gt(this,cf,0)}build(t,e,i){const a=new c3({mutationCache:this,mutationId:++rd(this,cf)._,options:t.defaultMutationOptions(e),state:i});return this.add(a),a}add(t){B(this,rs).add(t);const e=md(t);if(typeof e=="string"){const i=B(this,Qr).get(e);i?i.push(t):B(this,Qr).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,rs).delete(t)){const e=md(t);if(typeof e=="string"){const i=B(this,Qr).get(e);if(i)if(i.length>1){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}else i[0]===t&&B(this,Qr).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=md(t);if(typeof e=="string"){const i=B(this,Qr).get(e),a=i==null?void 0:i.find(l=>l.state.status==="pending");return!a||a===t}else return!0}runNext(t){var i;const e=md(t);if(typeof e=="string"){const a=(i=B(this,Qr).get(e))==null?void 0:i.find(l=>l!==t&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cn.batch(()=>{B(this,rs).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,rs).clear(),B(this,Qr).clear()})}getAll(){return Array.from(B(this,rs))}find(t){const e={exact:!0,...t};return this.getAll().find(i=>Xw(e,i))}findAll(t={}){return this.getAll().filter(e=>Xw(t,e))}notify(t){cn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return cn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Gn))))}},rs=new WeakMap,Qr=new WeakMap,cf=new WeakMap,AS);function md(n){var t;return(t=n.options.scope)==null?void 0:t.id}function Jw(n){return{onFetch:(t,e)=>{var _,v,T,O,M;const i=t.options,a=(T=(v=(_=t.fetchOptions)==null?void 0:_.meta)==null?void 0:v.fetchMore)==null?void 0:T.direction,l=((O=t.state.data)==null?void 0:O.pages)||[],c=((M=t.state.data)==null?void 0:M.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const g=async()=>{let j=!1;const I=q=>{Object.defineProperty(q,"signal",{enumerable:!0,get:()=>(t.signal.aborted?j=!0:t.signal.addEventListener("abort",()=>{j=!0}),t.signal)})},K=mC(t.options,t.fetchOptions),Y=async(q,X,tt)=>{if(j)return Promise.reject();if(X==null&&q.pages.length)return Promise.resolve(q);const D=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:X,direction:tt?"backward":"forward",meta:t.options.meta};return I(P),P})(),A=await K(D),{maxPages:x}=t.options,k=tt?e3:t3;return{pages:k(q.pages,A,x),pageParams:k(q.pageParams,X,x)}};if(a&&l.length){const q=a==="backward",X=q?h3:tS,tt={pages:l,pageParams:c},rt=X(i,tt);d=await Y(tt,rt,q)}else{const q=n??l.length;do{const X=p===0?c[0]??i.initialPageParam:tS(i,d);if(p>0&&X==null)break;d=await Y(d,X),p++}while(p<q)}return d};t.options.persister?t.fetchFn=()=>{var j,I;return(I=(j=t.options).persister)==null?void 0:I.call(j,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=g}}}function tS(n,{pages:t,pageParams:e}){const i=t.length-1;return t.length>0?n.getNextPageParam(t[i],t,e[i],e):void 0}function h3(n,{pages:t,pageParams:e}){var i;return t.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,t[0],t,e[0],e):void 0}var ze,aa,oa,$l,Gl,la,Kl,Ql,RS,d3=(RS=class{constructor(n={}){It(this,ze);It(this,aa);It(this,oa);It(this,$l);It(this,Gl);It(this,la);It(this,Kl);It(this,Ql);gt(this,ze,n.queryCache||new u3),gt(this,aa,n.mutationCache||new f3),gt(this,oa,n.defaultOptions||{}),gt(this,$l,new Map),gt(this,Gl,new Map),gt(this,la,0)}mount(){rd(this,la)._++,B(this,la)===1&&(gt(this,Kl,E_.subscribe(async n=>{n&&(await this.resumePausedMutations(),B(this,ze).onFocus())})),gt(this,Ql,ip.subscribe(async n=>{n&&(await this.resumePausedMutations(),B(this,ze).onOnline())})))}unmount(){var n,t;rd(this,la)._--,B(this,la)===0&&((n=B(this,Kl))==null||n.call(this),gt(this,Kl,void 0),(t=B(this,Ql))==null||t.call(this),gt(this,Ql,void 0))}isFetching(n){return B(this,ze).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return B(this,aa).findAll({...n,status:"pending"}).length}getQueryData(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=B(this,ze).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),e=B(this,ze).build(this,t),i=e.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&e.isStaleByTime(ba(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(n){return B(this,ze).findAll(n).map(({queryKey:t,state:e})=>{const i=e.data;return[t,i]})}setQueryData(n,t,e){const i=this.defaultQueryOptions({queryKey:n}),a=B(this,ze).get(i.queryHash),l=a==null?void 0:a.state.data,c=Z6(t,l);if(c!==void 0)return B(this,ze).build(this,i).setData(c,{...e,manual:!0})}setQueriesData(n,t,e){return cn.batch(()=>B(this,ze).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,t,e)]))}getQueryState(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=B(this,ze).get(t.queryHash))==null?void 0:e.state}removeQueries(n){const t=B(this,ze);cn.batch(()=>{t.findAll(n).forEach(e=>{t.remove(e)})})}resetQueries(n,t){const e=B(this,ze);return cn.batch(()=>(e.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const e={revert:!0,...t},i=cn.batch(()=>B(this,ze).findAll(n).map(a=>a.cancel(e)));return Promise.all(i).then(Gn).catch(Gn)}invalidateQueries(n,t={}){return cn.batch(()=>(B(this,ze).findAll(n).forEach(e=>{e.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},i=cn.batch(()=>B(this,ze).findAll(n).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,e);return e.throwOnError||(l=l.catch(Gn)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(Gn)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const e=B(this,ze).build(this,t);return e.isStaleByTime(ba(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Gn).catch(Gn)}fetchInfiniteQuery(n){return n.behavior=Jw(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Gn).catch(Gn)}ensureInfiniteQueryData(n){return n.behavior=Jw(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return ip.isOnline()?B(this,aa).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,ze)}getMutationCache(){return B(this,aa)}getDefaultOptions(){return B(this,oa)}setDefaultOptions(n){gt(this,oa,n)}setQueryDefaults(n,t){B(this,$l).set(ko(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...B(this,$l).values()],e={};return t.forEach(i=>{sf(n,i.queryKey)&&Object.assign(e,i.defaultOptions)}),e}setMutationDefaults(n,t){B(this,Gl).set(ko(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...B(this,Gl).values()],e={};return t.forEach(i=>{sf(n,i.mutationKey)&&Object.assign(e,i.defaultOptions)}),e}defaultQueryOptions(n){if(n._defaulted)return n;const t={...B(this,oa).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=v_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===__&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...B(this,oa).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){B(this,ze).clear(),B(this,aa).clear()}},ze=new WeakMap,aa=new WeakMap,oa=new WeakMap,$l=new WeakMap,Gl=new WeakMap,la=new WeakMap,Kl=new WeakMap,Ql=new WeakMap,RS),Jn,ee,ff,$n,bo,Yl,ua,ca,hf,Xl,Wl,To,wo,fa,Zl,he,kc,Yy,Xy,Wy,Zy,Jy,tv,ev,wC,CS,p3=(CS=class extends wu{constructor(t,e){super();It(this,he);It(this,Jn);It(this,ee);It(this,ff);It(this,$n);It(this,bo);It(this,Yl);It(this,ua);It(this,ca);It(this,hf);It(this,Xl);It(this,Wl);It(this,To);It(this,wo);It(this,fa);It(this,Zl,new Set);this.options=e,gt(this,Jn,t),gt(this,ca,null),gt(this,ua,Qy()),this.options.experimental_prefetchInRender||B(this,ua).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,ee).addObserver(this),eS(B(this,ee),this.options)?Ft(this,he,kc).call(this):this.updateResult(),Ft(this,he,Zy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nv(B(this,ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nv(B(this,ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ft(this,he,Jy).call(this),Ft(this,he,tv).call(this),B(this,ee).removeObserver(this)}setOptions(t){const e=this.options,i=B(this,ee);if(this.options=B(this,Jn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof kr(this.options.enabled,B(this,ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ft(this,he,ev).call(this),B(this,ee).setOptions(this.options),e._defaulted&&!rp(this.options,e)&&B(this,Jn).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,ee),observer:this});const a=this.hasListeners();a&&nS(B(this,ee),i,this.options,e)&&Ft(this,he,kc).call(this),this.updateResult(),a&&(B(this,ee)!==i||kr(this.options.enabled,B(this,ee))!==kr(e.enabled,B(this,ee))||ba(this.options.staleTime,B(this,ee))!==ba(e.staleTime,B(this,ee)))&&Ft(this,he,Yy).call(this);const l=Ft(this,he,Xy).call(this);a&&(B(this,ee)!==i||kr(this.options.enabled,B(this,ee))!==kr(e.enabled,B(this,ee))||l!==B(this,fa))&&Ft(this,he,Wy).call(this,l)}getOptimisticResult(t){const e=B(this,Jn).getQueryCache().build(B(this,Jn),t),i=this.createResult(e,t);return g3(this,i)&&(gt(this,$n,i),gt(this,Yl,this.options),gt(this,bo,B(this,ee).state)),i}getCurrentResult(){return B(this,$n)}trackResult(t,e){return new Proxy(t,{get:(i,a)=>(this.trackProp(a),e==null||e(a),Reflect.get(i,a))})}trackProp(t){B(this,Zl).add(t)}getCurrentQuery(){return B(this,ee)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=B(this,Jn).defaultQueryOptions(t),i=B(this,Jn).getQueryCache().build(B(this,Jn),e);return i.fetch().then(()=>this.createResult(i,e))}fetch(t){return Ft(this,he,kc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,$n)))}createResult(t,e){var x;const i=B(this,ee),a=this.options,l=B(this,$n),c=B(this,bo),d=B(this,Yl),g=t!==i?t.state:B(this,ff),{state:_}=t;let v={..._},T=!1,O;if(e._optimisticResults){const k=this.hasListeners(),P=!k&&eS(t,e),V=k&&nS(t,i,e,a);(P||V)&&(v={...v,...bC(_.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:M,errorUpdatedAt:j,status:I}=v;O=v.data;let K=!1;if(e.placeholderData!==void 0&&O===void 0&&I==="pending"){let k;l!=null&&l.isPlaceholderData&&e.placeholderData===(d==null?void 0:d.placeholderData)?(k=l.data,K=!0):k=typeof e.placeholderData=="function"?e.placeholderData((x=B(this,Wl))==null?void 0:x.state.data,B(this,Wl)):e.placeholderData,k!==void 0&&(I="success",O=Ky(l==null?void 0:l.data,k,e),T=!0)}if(e.select&&O!==void 0&&!K)if(l&&O===(c==null?void 0:c.data)&&e.select===B(this,hf))O=B(this,Xl);else try{gt(this,hf,e.select),O=e.select(O),O=Ky(l==null?void 0:l.data,O,e),gt(this,Xl,O),gt(this,ca,null)}catch(k){gt(this,ca,k)}B(this,ca)&&(M=B(this,ca),O=B(this,Xl),j=Date.now(),I="error");const Y=v.fetchStatus==="fetching",q=I==="pending",X=I==="error",tt=q&&Y,rt=O!==void 0,A={status:I,fetchStatus:v.fetchStatus,isPending:q,isSuccess:I==="success",isError:X,isInitialLoading:tt,isLoading:tt,data:O,dataUpdatedAt:v.dataUpdatedAt,error:M,errorUpdatedAt:j,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:Y,isRefetching:Y&&!q,isLoadingError:X&&!rt,isPaused:v.fetchStatus==="paused",isPlaceholderData:T,isRefetchError:X&&rt,isStale:b_(t,e),refetch:this.refetch,promise:B(this,ua),isEnabled:kr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=N=>{A.status==="error"?N.reject(A.error):A.data!==void 0&&N.resolve(A.data)},P=()=>{const N=gt(this,ua,A.promise=Qy());k(N)},V=B(this,ua);switch(V.status){case"pending":t.queryHash===i.queryHash&&k(V);break;case"fulfilled":(A.status==="error"||A.data!==V.value)&&P();break;case"rejected":(A.status!=="error"||A.error!==V.reason)&&P();break}}return A}updateResult(){const t=B(this,$n),e=this.createResult(B(this,ee),this.options);if(gt(this,bo,B(this,ee).state),gt(this,Yl,this.options),B(this,bo).data!==void 0&&gt(this,Wl,B(this,ee)),rp(e,t))return;gt(this,$n,e);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!B(this,Zl).size)return!0;const c=new Set(l??B(this,Zl));return this.options.throwOnError&&c.add("error"),Object.keys(B(this,$n)).some(d=>{const p=d;return B(this,$n)[p]!==t[p]&&c.has(p)})};Ft(this,he,wC).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ft(this,he,Zy).call(this)}},Jn=new WeakMap,ee=new WeakMap,ff=new WeakMap,$n=new WeakMap,bo=new WeakMap,Yl=new WeakMap,ua=new WeakMap,ca=new WeakMap,hf=new WeakMap,Xl=new WeakMap,Wl=new WeakMap,To=new WeakMap,wo=new WeakMap,fa=new WeakMap,Zl=new WeakMap,he=new WeakSet,kc=function(t){Ft(this,he,ev).call(this);let e=B(this,ee).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Gn)),e},Yy=function(){Ft(this,he,Jy).call(this);const t=ba(this.options.staleTime,B(this,ee));if(Mo||B(this,$n).isStale||!$y(t))return;const i=dC(B(this,$n).dataUpdatedAt,t)+1;gt(this,To,setTimeout(()=>{B(this,$n).isStale||this.updateResult()},i))},Xy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,ee)):this.options.refetchInterval)??!1},Wy=function(t){Ft(this,he,tv).call(this),gt(this,fa,t),!(Mo||kr(this.options.enabled,B(this,ee))===!1||!$y(B(this,fa))||B(this,fa)===0)&&gt(this,wo,setInterval(()=>{(this.options.refetchIntervalInBackground||E_.isFocused())&&Ft(this,he,kc).call(this)},B(this,fa)))},Zy=function(){Ft(this,he,Yy).call(this),Ft(this,he,Wy).call(this,Ft(this,he,Xy).call(this))},Jy=function(){B(this,To)&&(clearTimeout(B(this,To)),gt(this,To,void 0))},tv=function(){B(this,wo)&&(clearInterval(B(this,wo)),gt(this,wo,void 0))},ev=function(){const t=B(this,Jn).getQueryCache().build(B(this,Jn),this.options);if(t===B(this,ee))return;const e=B(this,ee);gt(this,ee,t),gt(this,ff,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},wC=function(t){cn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(B(this,$n))}),B(this,Jn).getQueryCache().notify({query:B(this,ee),type:"observerResultsUpdated"})})},CS);function m3(n,t){return kr(t.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&t.retryOnMount===!1)}function eS(n,t){return m3(n,t)||n.state.data!==void 0&&nv(n,t,t.refetchOnMount)}function nv(n,t,e){if(kr(t.enabled,n)!==!1&&ba(t.staleTime,n)!=="static"){const i=typeof e=="function"?e(n):e;return i==="always"||i!==!1&&b_(n,t)}return!1}function nS(n,t,e,i){return(n!==t||kr(i.enabled,n)===!1)&&(!e.suspense||n.state.status!=="error")&&b_(n,e)}function b_(n,t){return kr(t.enabled,n)!==!1&&n.isStaleByTime(ba(t.staleTime,n))}function g3(n,t){return!rp(n.getCurrentResult(),t)}var ha,da,tr,is,hs,Od,rv,xS,y3=(xS=class extends wu{constructor(e,i){super();It(this,hs);It(this,ha);It(this,da);It(this,tr);It(this,is);gt(this,ha,e),this.setOptions(i),this.bindMethods(),Ft(this,hs,Od).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var a;const i=this.options;this.options=B(this,ha).defaultMutationOptions(e),rp(this.options,i)||B(this,ha).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,tr),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&ko(i.mutationKey)!==ko(this.options.mutationKey)?this.reset():((a=B(this,tr))==null?void 0:a.state.status)==="pending"&&B(this,tr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=B(this,tr))==null||e.removeObserver(this)}onMutationUpdate(e){Ft(this,hs,Od).call(this),Ft(this,hs,rv).call(this,e)}getCurrentResult(){return B(this,da)}reset(){var e;(e=B(this,tr))==null||e.removeObserver(this),gt(this,tr,void 0),Ft(this,hs,Od).call(this),Ft(this,hs,rv).call(this)}mutate(e,i){var a;return gt(this,is,i),(a=B(this,tr))==null||a.removeObserver(this),gt(this,tr,B(this,ha).getMutationCache().build(B(this,ha),this.options)),B(this,tr).addObserver(this),B(this,tr).execute(e)}},ha=new WeakMap,da=new WeakMap,tr=new WeakMap,is=new WeakMap,hs=new WeakSet,Od=function(){var i;const e=((i=B(this,tr))==null?void 0:i.state)??TC();gt(this,da,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},rv=function(e){cn.batch(()=>{var i,a,l,c,d,p,g,_;if(B(this,is)&&this.hasListeners()){const v=B(this,da).variables,T=B(this,da).context;(e==null?void 0:e.type)==="success"?((a=(i=B(this,is)).onSuccess)==null||a.call(i,e.data,v,T),(c=(l=B(this,is)).onSettled)==null||c.call(l,e.data,null,v,T)):(e==null?void 0:e.type)==="error"&&((p=(d=B(this,is)).onError)==null||p.call(d,e.error,v,T),(_=(g=B(this,is)).onSettled)==null||_.call(g,void 0,e.error,v,T))}this.listeners.forEach(v=>{v(B(this,da))})})},xS),SC=w.createContext(void 0),T_=n=>{const t=w.useContext(SC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},v3=({client:n,children:t})=>(w.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),S.jsx(SC.Provider,{value:n,children:t})),AC=w.createContext(!1),_3=()=>w.useContext(AC);AC.Provider;function E3(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var b3=w.createContext(E3()),T3=()=>w.useContext(b3),w3=(n,t)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(t.isReset()||(n.retryOnMount=!1))},S3=n=>{w.useEffect(()=>{n.clearReset()},[n])},A3=({result:n,errorResetBoundary:t,throwOnError:e,query:i,suspense:a})=>n.isError&&!t.isReset()&&!n.isFetching&&i&&(a&&n.data===void 0||gC(e,[n.error,i])),R3=n=>{if(n.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),e=n.staleTime;n.staleTime=typeof e=="function"?(...i)=>t(e(...i)):t(e),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},C3=(n,t)=>n.isLoading&&n.isFetching&&!t,x3=(n,t)=>(n==null?void 0:n.suspense)&&t.isPending,rS=(n,t,e)=>t.fetchOptimistic(n).catch(()=>{e.clearReset()});function I3(n,t,e){var v,T,O,M,j;const i=_3(),a=T3(),l=T_(),c=l.defaultQueryOptions(n);(T=(v=l.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||T.call(v,c),c._optimisticResults=i?"isRestoring":"optimistic",R3(c),w3(c,a),S3(a);const d=!l.getQueryCache().get(c.queryHash),[p]=w.useState(()=>new t(l,c)),g=p.getOptimisticResult(c),_=!i&&n.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(I=>{const K=_?p.subscribe(cn.batchCalls(I)):Gn;return p.updateResult(),K},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),w.useEffect(()=>{p.setOptions(c)},[c,p]),x3(c,g))throw rS(c,p,a);if(A3({result:g,errorResetBoundary:a,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw g.error;if((M=(O=l.getDefaultOptions().queries)==null?void 0:O._experimental_afterQuery)==null||M.call(O,c,g),c.experimental_prefetchInRender&&!Mo&&C3(g,i)){const I=d?rS(c,p,a):(j=l.getQueryCache().get(c.queryHash))==null?void 0:j.promise;I==null||I.catch(Gn).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?g:p.trackResult(g)}function RC(n,t){return I3(n,p3)}function O3(n,t){const e=T_(),[i]=w.useState(()=>new y3(e,n));w.useEffect(()=>{i.setOptions(n)},[i,n]);const a=w.useSyncExternalStore(w.useCallback(c=>i.subscribe(cn.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=w.useCallback((c,d)=>{i.mutate(c,d).catch(Gn)},[i]);if(a.error&&gC(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}async function N3(n){try{const t=Io(xa,"Users",n),e=await Zc(t);return console.log("User data fetched."),e.data()}catch(t){console.error(t)}}async function D3(){try{const n=k4(xa,"Users"),t=await X4(n);return console.log("All users fetched"),t}catch(n){console.error(n)}}async function M3(n,t){try{const e=Io(xa,"Users",n);await Z4(e,t),console.log("User data updated.")}catch(e){console.error(e)}}const gd=["black","black","black","black","black"];function k3(n){const{currentUser:t}=cp(),{userData:e}=Mf(),{gameMode:i}=bf(),[a,l]=w.useState(new Array(6).fill({word:"",colors:gd})),[c,d]=w.useState(new Map),p=w.useRef(0),g=w.useRef(1),[_,v]=w.useState(""),T=w.useRef(!1),O=T_(),{mutateAsync:M}=O3({mutationFn:async j=>M3(t.uid,j),onSuccess:()=>{O.invalidateQueries({queryKey:["user",t==null?void 0:t.uid]})}});return w.useEffect(()=>{const j=()=>{const I=e==null?void 0:e.statistics.gameModes[i];i===Jt.ROYALE?(l([...I.currentState.roundStates[I.currentState.gameRound-1].guesses]),d(new Map(Object.entries(I.currentState.roundStates[I.currentState.gameRound-1].keyColors))),p.current=I.currentState.roundStates[I.currentState.gameRound-1].rowIndex,g.current=I.currentState.gameRound):(l([...I.currentState.guesses]),d(new Map(Object.entries(I.currentState.keyColors))),p.current=I.currentState.rowIndex),console.log("Game state loaded.")};i!==Jt.PRACTICE&&j()},[]),w.useEffect(()=>{i==="royale"&&(()=>{l(e==null?void 0:e.statistics.gameModes.royale.currentState.roundStates[g.current-1].guesses),d(new Map(Object.entries(e==null?void 0:e.statistics.gameModes.royale.currentState.roundStates[g.current-1].keyColors)))})()},[g.current]),w.useEffect(()=>{const j=async()=>{const I={...e};i===Jt.CLASSIC?(I.statistics.gameModes.classic.playedToday=!0,I.statistics.gameModes.classic.currentState.guesses=a,I.statistics.gameModes.classic.currentState.keyColors=Object.fromEntries(c),I.statistics.gameModes.classic.currentState.rowIndex=p.current):(I.statistics.gameModes.royale.playedToday=!0,I.statistics.gameModes.royale.currentState.roundStates[g.current-1].guesses=a,I.statistics.gameModes.royale.currentState.roundStates[g.current-1].keyColors=Object.fromEntries(c),I.statistics.gameModes.royale.currentState.roundStates[g.current-1].rowIndex=p.current,I.statistics.gameModes.royale.currentState.gameRound=g.current);try{await M(I)}catch(K){console.log(K.message)}};i!=="practice"&&a[0].word!==""&&e&&!(e!=null&&e.statistics.gameModes[i].finishedToday)&&j()},[c]),S.jsxs(S.Fragment,{children:[i===Jt.CLASSIC&&S.jsx(Q6,{...n,guesses:a,setGuesses:l,keyColors:c,setKeyColors:d,rowIndex:p,baseColors:gd,dailyStreak:T,gameResult:_,setGameResult:v,mutateUserData:M}),i===Jt.ROYALE&&S.jsx(Y6,{...n,guesses:a,setGuesses:l,keyColors:c,setKeyColors:d,rowIndex:p,gameRound:g,baseColors:gd,gameResult:_,setGameResult:v,mutateUserData:M}),i===Jt.PRACTICE&&S.jsx(W6,{...n,guesses:a,setGuesses:l,keyColors:c,setKeyColors:d,rowIndex:p,baseColors:gd})]})}const iv=w.forwardRef(({bsPrefix:n,size:t,vertical:e=!1,className:i,role:a="group",as:l="div",...c},d)=>{const p=Mt(n,"btn-group");let g=p;return e&&(g=`${p}-vertical`),S.jsx(l,{...c,ref:d,role:a,className:wt(i,g,t&&`${p}-${t}`)})});iv.displayName="ButtonGroup";function er({children:n}){return S.jsx("div",{className:"stats-window",children:n})}function P3({children:n,className:t}){return S.jsx("div",{className:`stats-container${t?" "+t:""}`,children:n})}function V3({value:n,category:t}){return S.jsxs("div",{className:"stat-unit flex-center",children:[S.jsx("span",{className:"unit-value",children:n}),S.jsx("span",{className:"unit-category",children:t})]})}function L3({value:n,label:t}){return S.jsx("div",{className:"stat-index flex-center",children:S.jsxs("div",{children:[S.jsx("span",{className:"index-value",children:n}),S.jsx("span",{className:"index-label",children:t})]})})}function U3({gamesPlayed:n}){return S.jsxs("div",{className:"stats-lock flex-center",children:[S.jsx(C2,{className:"lock-svg"}),S.jsx("div",{className:"lock-message",children:typeof n=="number"?`Play ${5-n} more ${5-n===1?"game.":"games."}`:"Log in to see your stats."})]})}er.Container=P3;er.Unit=V3;er.Index=L3;er.StatLock=U3;const CC=w.createContext({data:[10,2,5,13,5],categories:[]});function sp({children:n,data:t,categories:e}){return S.jsx(CC,{value:{data:t,categories:e},children:S.jsx("div",{className:"bar-chart flex-center",children:S.jsx("div",{className:"chart",children:n})})})}function j3({axis:n="show",layout:t="horizontal"}){const{data:e,categories:i}=w.useContext(CC);return S.jsx("div",{className:"graph",children:e.map((a,l)=>S.jsxs("div",{className:`bar b-${l+1}`,style:{width:`${a!==0?a/Math.max(...e)*100:2}%`,height:"100%"},children:[S.jsx("span",{className:"category",children:i.length===e.length?i[l]:`category ${l+1}`}),S.jsx("span",{className:`value v-${l+1}`,children:a||""})]},l))})}function B3({children:n}){return S.jsx("div",{className:"header",children:S.jsx("h2",{children:n})})}sp.Header=B3;sp.Graph=j3;function af(n,t){return n==null?void 0:n.statistics.gameModes[t].dailyStreakMax}function xC(n,t){return n==null?void 0:n.statistics.gameModes[t].gamesGuessed}function Js(n,t){return n==null?void 0:n.statistics.gameModes[t].gamesPlayed}const ou=(n,t)=>{var i;const e=(i=xC(n,t))==null?void 0:i.reduce((a,l,c)=>a+l*(c+1));return Math.round(e/Js(n,t)*10)/10},lu=(n,t)=>{var e;return Math.round(((e=xC(n,t))==null?void 0:e.reduce((i,a)=>i+a))/Js(n,t)*100)},Gr=Object.freeze({INDEX:"index",WIN_RATE:"win rate",DAILY_STREAK:"daily streak"});function z3(n,t){const e=n.data(),i=t.data();return ou(e,Jt.CLASSIC)-ou(i,Jt.CLASSIC)}function H3(n,t){const e=n.data(),i=t.data();return ou(i,Jt.ROYALE)-ou(e,Jt.ROYALE)}function F3(n,t){const e=n.data(),i=t.data();return lu(i,Jt.CLASSIC)-lu(e,Jt.CLASSIC)}function q3(n,t){const e=n.data(),i=t.data();return lu(i,Jt.ROYALE)-lu(e,Jt.ROYALE)}function $3(n,t){const e=n.data(),i=t.data();return af(i,Jt.CLASSIC)-af(e,Jt.CLASSIC)}function G3(n,t){const e=n.data(),i=t.data();return af(i,Jt.ROYALE)-af(e,Jt.ROYALE)}function K3(n,t){const e=w.useRef(!0);w.useEffect(()=>{if(e.current){e.current=!1;return}return n()},t)}function Q3(){const n=w.useRef(!0),t=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),t.current}const sv=2**31-1;function IC(n,t,e){const i=e-Date.now();n.current=i<=sv?setTimeout(t,i):setTimeout(()=>IC(n,t,e),sv)}function Y3(){const n=Q3(),t=w.useRef();return NR(()=>clearTimeout(t.current)),w.useMemo(()=>{const e=()=>clearTimeout(t.current);function i(a,l=0){n()&&(e(),l<=sv?t.current=setTimeout(a,l):IC(t,a,Date.now()+l))}return{set:i,clear:e,handleRef:t}},[])}const OC=w.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},a)=>(t=Mt(t,"carousel-caption"),S.jsx(e,{ref:a,className:wt(n,t),...i})));OC.displayName="CarouselCaption";const NC=w.forwardRef(({as:n="div",bsPrefix:t,className:e,...i},a)=>{const l=wt(e,Mt(t,"carousel-item"));return S.jsx(n,{ref:a,...i,className:l})});NC.displayName="CarouselItem";const X3=40;function W3(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const t=getComputedStyle(n);return t.display!=="none"&&t.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const DC=w.forwardRef(({defaultActiveIndex:n=0,...t},e)=>{const{as:i="div",bsPrefix:a,slide:l=!0,fade:c=!1,controls:d=!0,indicators:p=!0,indicatorLabels:g=[],activeIndex:_,onSelect:v,onSlide:T,onSlid:O,interval:M=5e3,keyboard:j=!0,onKeyDown:I,pause:K="hover",onMouseOver:Y,onMouseOut:q,wrap:X=!0,touch:tt=!0,onTouchStart:rt,onTouchMove:D,onTouchEnd:A,prevIcon:x=S.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:k="Previous",nextIcon:P=S.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:V="Next",variant:N,className:Et,children:St,...H}=pf({defaultActiveIndex:n,...t},{activeIndex:"onSelect"}),it=Mt(a,"carousel"),dt=uv(),yt=w.useRef(null),[L,Z]=w.useState("next"),[ot,et]=w.useState(!1),[ht,vt]=w.useState(!1),[pt,Xt]=w.useState(_||0);w.useEffect(()=>{!ht&&_!==pt&&(yt.current?Z(yt.current):Z((_||0)>pt?"next":"prev"),l&&vt(!0),Xt(_||0))},[_,ht,pt,l]),w.useEffect(()=>{yt.current&&(yt.current=null)});let xt=0,pe;SV(St,(At,Wt)=>{++xt,Wt===_&&(pe=At.props.interval)});const we=OR(pe),le=w.useCallback(At=>{if(ht)return;let Wt=pt-1;if(Wt<0){if(!X)return;Wt=xt-1}yt.current="prev",v==null||v(Wt,At)},[ht,pt,v,X,xt]),ce=_s(At=>{if(ht)return;let Wt=pt+1;if(Wt>=xt){if(!X)return;Wt=0}yt.current="next",v==null||v(Wt,At)}),Le=w.useRef();w.useImperativeHandle(e,()=>({element:Le.current,prev:le,next:ce}));const Me=_s(()=>{!document.hidden&&W3(Le.current)&&(dt?le():ce())}),zt=L==="next"?"start":"end";K3(()=>{l||(T==null||T(pt,zt),O==null||O(pt,zt))},[pt]);const bn=`${it}-item-${L}`,me=`${it}-item-${zt}`,Er=w.useCallback(At=>{fv(At),T==null||T(pt,zt)},[T,pt,zt]),He=w.useCallback(()=>{vt(!1),O==null||O(pt,zt)},[O,pt,zt]),Qe=w.useCallback(At=>{if(j&&!/input|textarea/i.test(At.target.tagName))switch(At.key){case"ArrowLeft":At.preventDefault(),dt?ce(At):le(At);return;case"ArrowRight":At.preventDefault(),dt?le(At):ce(At);return}I==null||I(At)},[j,I,le,ce,dt]),pn=w.useCallback(At=>{K==="hover"&&et(!0),Y==null||Y(At)},[K,Y]),Re=w.useCallback(At=>{et(!1),q==null||q(At)},[q]),Fe=w.useRef(0),rn=w.useRef(0),Qn=Y3(),Tt=w.useCallback(At=>{Fe.current=At.touches[0].clientX,rn.current=0,K==="hover"&&et(!0),rt==null||rt(At)},[K,rt]),Bt=w.useCallback(At=>{At.touches&&At.touches.length>1?rn.current=0:rn.current=At.touches[0].clientX-Fe.current,D==null||D(At)},[D]),Ce=w.useCallback(At=>{if(tt){const Wt=rn.current;Math.abs(Wt)>X3&&(Wt>0?le(At):ce(At))}K==="hover"&&Qn.set(()=>{et(!1)},M||void 0),A==null||A(At)},[tt,K,le,ce,Qn,M,A]),ke=M!=null&&!ot&&!ht,jn=w.useRef();w.useEffect(()=>{var At,Wt;if(!ke)return;const sn=dt?le:ce;return jn.current=window.setInterval(document.visibilityState?Me:sn,(At=(Wt=we.current)!=null?Wt:M)!=null?At:void 0),()=>{jn.current!==null&&clearInterval(jn.current)}},[ke,le,ce,we,M,Me,dt]);const xi=w.useMemo(()=>p&&Array.from({length:xt},(At,Wt)=>sn=>{v==null||v(Wt,sn)}),[p,xt,v]);return S.jsxs(i,{ref:Le,...H,onKeyDown:Qe,onMouseOver:pn,onMouseOut:Re,onTouchStart:Tt,onTouchMove:Bt,onTouchEnd:Ce,className:wt(Et,it,l&&"slide",c&&`${it}-fade`,N&&`${it}-${N}`),children:[p&&S.jsx("div",{className:`${it}-indicators`,children:Uw(St,(At,Wt)=>S.jsx("button",{type:"button","data-bs-target":"","aria-label":g!=null&&g.length?g[Wt]:`Slide ${Wt+1}`,className:Wt===pt?"active":void 0,onClick:xi?xi[Wt]:void 0,"aria-current":Wt===pt},Wt))}),S.jsx("div",{className:`${it}-inner`,children:Uw(St,(At,Wt)=>{const sn=Wt===pt;return l?S.jsx(yf,{in:sn,onEnter:sn?Er:void 0,onEntered:sn?He:void 0,addEndListener:op,children:(Ye,Ur)=>w.cloneElement(At,{...Ur,className:wt(At.props.className,sn&&Ye!=="entered"&&bn,(Ye==="entered"||Ye==="exiting")&&"active",(Ye==="entering"||Ye==="exiting")&&me)})}):w.cloneElement(At,{className:wt(At.props.className,sn&&"active")})})}),d&&S.jsxs(S.Fragment,{children:[(X||_!==0)&&S.jsxs(rf,{className:`${it}-control-prev`,onClick:le,children:[x,k&&S.jsx("span",{className:"visually-hidden",children:k})]}),(X||_!==xt-1)&&S.jsxs(rf,{className:`${it}-control-next`,onClick:ce,children:[P,V&&S.jsx("span",{className:"visually-hidden",children:V})]})]})]})});DC.displayName="Carousel";const uy=Object.assign(DC,{Caption:OC,Item:NC});function Z3(n,t,e){const i=w.useRef(n!==void 0),[a,l]=w.useState(t),c=n!==void 0,d=i.current;return i.current=c,!c&&d&&a!==t&&l(t),[c?n:a,w.useCallback((...p)=>{const[g,..._]=p;let v=e==null?void 0:e(g,..._);return l(g),v},[e])]}const Vp=w.createContext(null);var iS=Object.prototype.hasOwnProperty;function sS(n,t,e){for(e of n.keys())if(zc(e,t))return e}function zc(n,t){var e,i,a;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&zc(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(a=i,a&&typeof a=="object"&&(a=sS(t,a),!a)||!t.has(a))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(a=i[0],a&&typeof a=="object"&&(a=sS(t,a),!a)||!zc(i[1],t.get(a)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(iS.call(n,e)&&++i&&!iS.call(t,e)||!(e in t)||!zc(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}function J3(n){const t=DR();return[n[0],w.useCallback(e=>{if(t())return n[1](e)},[t,n[1]])]}var or="top",Vr="bottom",Lr="right",lr="left",w_="auto",kf=[or,Vr,Lr,lr],uu="start",of="end",tL="clippingParents",MC="viewport",Rc="popper",eL="reference",aS=kf.reduce(function(n,t){return n.concat([t+"-"+uu,t+"-"+of])},[]),kC=[].concat(kf,[w_]).reduce(function(n,t){return n.concat([t,t+"-"+uu,t+"-"+of])},[]),nL="beforeRead",rL="read",iL="afterRead",sL="beforeMain",aL="main",oL="afterMain",lL="beforeWrite",uL="write",cL="afterWrite",fL=[nL,rL,iL,sL,aL,oL,lL,uL,cL];function Si(n){return n.split("-")[0]}function _r(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Po(n){var t=_r(n).Element;return n instanceof t||n instanceof Element}function Ai(n){var t=_r(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function S_(n){if(typeof ShadowRoot>"u")return!1;var t=_r(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}var So=Math.max,ap=Math.min,cu=Math.round;function av(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function PC(){return!/^((?!chrome|android).)*safari/i.test(av())}function fu(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=n.getBoundingClientRect(),a=1,l=1;t&&Ai(n)&&(a=n.offsetWidth>0&&cu(i.width)/n.offsetWidth||1,l=n.offsetHeight>0&&cu(i.height)/n.offsetHeight||1);var c=Po(n)?_r(n):window,d=c.visualViewport,p=!PC()&&e,g=(i.left+(p&&d?d.offsetLeft:0))/a,_=(i.top+(p&&d?d.offsetTop:0))/l,v=i.width/a,T=i.height/l;return{width:v,height:T,top:_,right:g+v,bottom:_+T,left:g,x:g,y:_}}function A_(n){var t=fu(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function VC(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&S_(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ia(n){return n?(n.nodeName||"").toLowerCase():null}function Es(n){return _r(n).getComputedStyle(n)}function hL(n){return["table","td","th"].indexOf(Ia(n))>=0}function ka(n){return((Po(n)?n.ownerDocument:n.document)||window.document).documentElement}function Lp(n){return Ia(n)==="html"?n:n.assignedSlot||n.parentNode||(S_(n)?n.host:null)||ka(n)}function oS(n){return!Ai(n)||Es(n).position==="fixed"?null:n.offsetParent}function dL(n){var t=/firefox/i.test(av()),e=/Trident/i.test(av());if(e&&Ai(n)){var i=Es(n);if(i.position==="fixed")return null}var a=Lp(n);for(S_(a)&&(a=a.host);Ai(a)&&["html","body"].indexOf(Ia(a))<0;){var l=Es(a);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||t&&l.willChange==="filter"||t&&l.filter&&l.filter!=="none")return a;a=a.parentNode}return null}function Pf(n){for(var t=_r(n),e=oS(n);e&&hL(e)&&Es(e).position==="static";)e=oS(e);return e&&(Ia(e)==="html"||Ia(e)==="body"&&Es(e).position==="static")?t:e||dL(n)||t}function R_(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Hc(n,t,e){return So(n,ap(t,e))}function pL(n,t,e){var i=Hc(n,t,e);return i>e?e:i}function LC(){return{top:0,right:0,bottom:0,left:0}}function UC(n){return Object.assign({},LC(),n)}function jC(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}var mL=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,UC(typeof t!="number"?t:jC(t,kf))};function gL(n){var t,e=n.state,i=n.name,a=n.options,l=e.elements.arrow,c=e.modifiersData.popperOffsets,d=Si(e.placement),p=R_(d),g=[lr,Lr].indexOf(d)>=0,_=g?"height":"width";if(!(!l||!c)){var v=mL(a.padding,e),T=A_(l),O=p==="y"?or:lr,M=p==="y"?Vr:Lr,j=e.rects.reference[_]+e.rects.reference[p]-c[p]-e.rects.popper[_],I=c[p]-e.rects.reference[p],K=Pf(l),Y=K?p==="y"?K.clientHeight||0:K.clientWidth||0:0,q=j/2-I/2,X=v[O],tt=Y-T[_]-v[M],rt=Y/2-T[_]/2+q,D=Hc(X,rt,tt),A=p;e.modifiersData[i]=(t={},t[A]=D,t.centerOffset=D-rt,t)}}function yL(n){var t=n.state,e=n.options,i=e.element,a=i===void 0?"[data-popper-arrow]":i;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||VC(t.elements.popper,a)&&(t.elements.arrow=a))}const vL={name:"arrow",enabled:!0,phase:"main",fn:gL,effect:yL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hu(n){return n.split("-")[1]}var _L={top:"auto",right:"auto",bottom:"auto",left:"auto"};function EL(n,t){var e=n.x,i=n.y,a=t.devicePixelRatio||1;return{x:cu(e*a)/a||0,y:cu(i*a)/a||0}}function lS(n){var t,e=n.popper,i=n.popperRect,a=n.placement,l=n.variation,c=n.offsets,d=n.position,p=n.gpuAcceleration,g=n.adaptive,_=n.roundOffsets,v=n.isFixed,T=c.x,O=T===void 0?0:T,M=c.y,j=M===void 0?0:M,I=typeof _=="function"?_({x:O,y:j}):{x:O,y:j};O=I.x,j=I.y;var K=c.hasOwnProperty("x"),Y=c.hasOwnProperty("y"),q=lr,X=or,tt=window;if(g){var rt=Pf(e),D="clientHeight",A="clientWidth";if(rt===_r(e)&&(rt=ka(e),Es(rt).position!=="static"&&d==="absolute"&&(D="scrollHeight",A="scrollWidth")),rt=rt,a===or||(a===lr||a===Lr)&&l===of){X=Vr;var x=v&&rt===tt&&tt.visualViewport?tt.visualViewport.height:rt[D];j-=x-i.height,j*=p?1:-1}if(a===lr||(a===or||a===Vr)&&l===of){q=Lr;var k=v&&rt===tt&&tt.visualViewport?tt.visualViewport.width:rt[A];O-=k-i.width,O*=p?1:-1}}var P=Object.assign({position:d},g&&_L),V=_===!0?EL({x:O,y:j},_r(e)):{x:O,y:j};if(O=V.x,j=V.y,p){var N;return Object.assign({},P,(N={},N[X]=Y?"0":"",N[q]=K?"0":"",N.transform=(tt.devicePixelRatio||1)<=1?"translate("+O+"px, "+j+"px)":"translate3d("+O+"px, "+j+"px, 0)",N))}return Object.assign({},P,(t={},t[X]=Y?j+"px":"",t[q]=K?O+"px":"",t.transform="",t))}function bL(n){var t=n.state,e=n.options,i=e.gpuAcceleration,a=i===void 0?!0:i,l=e.adaptive,c=l===void 0?!0:l,d=e.roundOffsets,p=d===void 0?!0:d,g={placement:Si(t.placement),variation:hu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,lS(Object.assign({},g,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:p})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,lS(Object.assign({},g,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const TL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bL,data:{}};var yd={passive:!0};function wL(n){var t=n.state,e=n.instance,i=n.options,a=i.scroll,l=a===void 0?!0:a,c=i.resize,d=c===void 0?!0:c,p=_r(t.elements.popper),g=[].concat(t.scrollParents.reference,t.scrollParents.popper);return l&&g.forEach(function(_){_.addEventListener("scroll",e.update,yd)}),d&&p.addEventListener("resize",e.update,yd),function(){l&&g.forEach(function(_){_.removeEventListener("scroll",e.update,yd)}),d&&p.removeEventListener("resize",e.update,yd)}}const SL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wL,data:{}};var AL={left:"right",right:"left",bottom:"top",top:"bottom"};function Nd(n){return n.replace(/left|right|bottom|top/g,function(t){return AL[t]})}var RL={start:"end",end:"start"};function uS(n){return n.replace(/start|end/g,function(t){return RL[t]})}function C_(n){var t=_r(n),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function x_(n){return fu(ka(n)).left+C_(n).scrollLeft}function CL(n,t){var e=_r(n),i=ka(n),a=e.visualViewport,l=i.clientWidth,c=i.clientHeight,d=0,p=0;if(a){l=a.width,c=a.height;var g=PC();(g||!g&&t==="fixed")&&(d=a.offsetLeft,p=a.offsetTop)}return{width:l,height:c,x:d+x_(n),y:p}}function xL(n){var t,e=ka(n),i=C_(n),a=(t=n.ownerDocument)==null?void 0:t.body,l=So(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=So(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),d=-i.scrollLeft+x_(n),p=-i.scrollTop;return Es(a||e).direction==="rtl"&&(d+=So(e.clientWidth,a?a.clientWidth:0)-l),{width:l,height:c,x:d,y:p}}function I_(n){var t=Es(n),e=t.overflow,i=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+a+i)}function BC(n){return["html","body","#document"].indexOf(Ia(n))>=0?n.ownerDocument.body:Ai(n)&&I_(n)?n:BC(Lp(n))}function Fc(n,t){var e;t===void 0&&(t=[]);var i=BC(n),a=i===((e=n.ownerDocument)==null?void 0:e.body),l=_r(i),c=a?[l].concat(l.visualViewport||[],I_(i)?i:[]):i,d=t.concat(c);return a?d:d.concat(Fc(Lp(c)))}function ov(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function IL(n,t){var e=fu(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function cS(n,t,e){return t===MC?ov(CL(n,e)):Po(t)?IL(t,e):ov(xL(ka(n)))}function OL(n){var t=Fc(Lp(n)),e=["absolute","fixed"].indexOf(Es(n).position)>=0,i=e&&Ai(n)?Pf(n):n;return Po(i)?t.filter(function(a){return Po(a)&&VC(a,i)&&Ia(a)!=="body"}):[]}function NL(n,t,e,i){var a=t==="clippingParents"?OL(n):[].concat(t),l=[].concat(a,[e]),c=l[0],d=l.reduce(function(p,g){var _=cS(n,g,i);return p.top=So(_.top,p.top),p.right=ap(_.right,p.right),p.bottom=ap(_.bottom,p.bottom),p.left=So(_.left,p.left),p},cS(n,c,i));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function zC(n){var t=n.reference,e=n.element,i=n.placement,a=i?Si(i):null,l=i?hu(i):null,c=t.x+t.width/2-e.width/2,d=t.y+t.height/2-e.height/2,p;switch(a){case or:p={x:c,y:t.y-e.height};break;case Vr:p={x:c,y:t.y+t.height};break;case Lr:p={x:t.x+t.width,y:d};break;case lr:p={x:t.x-e.width,y:d};break;default:p={x:t.x,y:t.y}}var g=a?R_(a):null;if(g!=null){var _=g==="y"?"height":"width";switch(l){case uu:p[g]=p[g]-(t[_]/2-e[_]/2);break;case of:p[g]=p[g]+(t[_]/2-e[_]/2);break}}return p}function lf(n,t){t===void 0&&(t={});var e=t,i=e.placement,a=i===void 0?n.placement:i,l=e.strategy,c=l===void 0?n.strategy:l,d=e.boundary,p=d===void 0?tL:d,g=e.rootBoundary,_=g===void 0?MC:g,v=e.elementContext,T=v===void 0?Rc:v,O=e.altBoundary,M=O===void 0?!1:O,j=e.padding,I=j===void 0?0:j,K=UC(typeof I!="number"?I:jC(I,kf)),Y=T===Rc?eL:Rc,q=n.rects.popper,X=n.elements[M?Y:T],tt=NL(Po(X)?X:X.contextElement||ka(n.elements.popper),p,_,c),rt=fu(n.elements.reference),D=zC({reference:rt,element:q,placement:a}),A=ov(Object.assign({},q,D)),x=T===Rc?A:rt,k={top:tt.top-x.top+K.top,bottom:x.bottom-tt.bottom+K.bottom,left:tt.left-x.left+K.left,right:x.right-tt.right+K.right},P=n.modifiersData.offset;if(T===Rc&&P){var V=P[a];Object.keys(k).forEach(function(N){var Et=[Lr,Vr].indexOf(N)>=0?1:-1,St=[or,Vr].indexOf(N)>=0?"y":"x";k[N]+=V[St]*Et})}return k}function DL(n,t){t===void 0&&(t={});var e=t,i=e.placement,a=e.boundary,l=e.rootBoundary,c=e.padding,d=e.flipVariations,p=e.allowedAutoPlacements,g=p===void 0?kC:p,_=hu(i),v=_?d?aS:aS.filter(function(M){return hu(M)===_}):kf,T=v.filter(function(M){return g.indexOf(M)>=0});T.length===0&&(T=v);var O=T.reduce(function(M,j){return M[j]=lf(n,{placement:j,boundary:a,rootBoundary:l,padding:c})[Si(j)],M},{});return Object.keys(O).sort(function(M,j){return O[M]-O[j]})}function ML(n){if(Si(n)===w_)return[];var t=Nd(n);return[uS(n),t,uS(t)]}function kL(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var a=e.mainAxis,l=a===void 0?!0:a,c=e.altAxis,d=c===void 0?!0:c,p=e.fallbackPlacements,g=e.padding,_=e.boundary,v=e.rootBoundary,T=e.altBoundary,O=e.flipVariations,M=O===void 0?!0:O,j=e.allowedAutoPlacements,I=t.options.placement,K=Si(I),Y=K===I,q=p||(Y||!M?[Nd(I)]:ML(I)),X=[I].concat(q).reduce(function(ht,vt){return ht.concat(Si(vt)===w_?DL(t,{placement:vt,boundary:_,rootBoundary:v,padding:g,flipVariations:M,allowedAutoPlacements:j}):vt)},[]),tt=t.rects.reference,rt=t.rects.popper,D=new Map,A=!0,x=X[0],k=0;k<X.length;k++){var P=X[k],V=Si(P),N=hu(P)===uu,Et=[or,Vr].indexOf(V)>=0,St=Et?"width":"height",H=lf(t,{placement:P,boundary:_,rootBoundary:v,altBoundary:T,padding:g}),it=Et?N?Lr:lr:N?Vr:or;tt[St]>rt[St]&&(it=Nd(it));var dt=Nd(it),yt=[];if(l&&yt.push(H[V]<=0),d&&yt.push(H[it]<=0,H[dt]<=0),yt.every(function(ht){return ht})){x=P,A=!1;break}D.set(P,yt)}if(A)for(var L=M?3:1,Z=function(vt){var pt=X.find(function(Xt){var xt=D.get(Xt);if(xt)return xt.slice(0,vt).every(function(pe){return pe})});if(pt)return x=pt,"break"},ot=L;ot>0;ot--){var et=Z(ot);if(et==="break")break}t.placement!==x&&(t.modifiersData[i]._skip=!0,t.placement=x,t.reset=!0)}}const PL={name:"flip",enabled:!0,phase:"main",fn:kL,requiresIfExists:["offset"],data:{_skip:!1}};function fS(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function hS(n){return[or,Lr,Vr,lr].some(function(t){return n[t]>=0})}function VL(n){var t=n.state,e=n.name,i=t.rects.reference,a=t.rects.popper,l=t.modifiersData.preventOverflow,c=lf(t,{elementContext:"reference"}),d=lf(t,{altBoundary:!0}),p=fS(c,i),g=fS(d,a,l),_=hS(p),v=hS(g);t.modifiersData[e]={referenceClippingOffsets:p,popperEscapeOffsets:g,isReferenceHidden:_,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":v})}const LL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VL};function UL(n,t,e){var i=Si(n),a=[lr,or].indexOf(i)>=0?-1:1,l=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,c=l[0],d=l[1];return c=c||0,d=(d||0)*a,[lr,Lr].indexOf(i)>=0?{x:d,y:c}:{x:c,y:d}}function jL(n){var t=n.state,e=n.options,i=n.name,a=e.offset,l=a===void 0?[0,0]:a,c=kC.reduce(function(_,v){return _[v]=UL(v,t.rects,l),_},{}),d=c[t.placement],p=d.x,g=d.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=p,t.modifiersData.popperOffsets.y+=g),t.modifiersData[i]=c}const BL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jL};function zL(n){var t=n.state,e=n.name;t.modifiersData[e]=zC({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const HL={name:"popperOffsets",enabled:!0,phase:"read",fn:zL,data:{}};function FL(n){return n==="x"?"y":"x"}function qL(n){var t=n.state,e=n.options,i=n.name,a=e.mainAxis,l=a===void 0?!0:a,c=e.altAxis,d=c===void 0?!1:c,p=e.boundary,g=e.rootBoundary,_=e.altBoundary,v=e.padding,T=e.tether,O=T===void 0?!0:T,M=e.tetherOffset,j=M===void 0?0:M,I=lf(t,{boundary:p,rootBoundary:g,padding:v,altBoundary:_}),K=Si(t.placement),Y=hu(t.placement),q=!Y,X=R_(K),tt=FL(X),rt=t.modifiersData.popperOffsets,D=t.rects.reference,A=t.rects.popper,x=typeof j=="function"?j(Object.assign({},t.rects,{placement:t.placement})):j,k=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(rt){if(l){var N,Et=X==="y"?or:lr,St=X==="y"?Vr:Lr,H=X==="y"?"height":"width",it=rt[X],dt=it+I[Et],yt=it-I[St],L=O?-A[H]/2:0,Z=Y===uu?D[H]:A[H],ot=Y===uu?-A[H]:-D[H],et=t.elements.arrow,ht=O&&et?A_(et):{width:0,height:0},vt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:LC(),pt=vt[Et],Xt=vt[St],xt=Hc(0,D[H],ht[H]),pe=q?D[H]/2-L-xt-pt-k.mainAxis:Z-xt-pt-k.mainAxis,we=q?-D[H]/2+L+xt+Xt+k.mainAxis:ot+xt+Xt+k.mainAxis,le=t.elements.arrow&&Pf(t.elements.arrow),ce=le?X==="y"?le.clientTop||0:le.clientLeft||0:0,Le=(N=P==null?void 0:P[X])!=null?N:0,Me=it+pe-Le-ce,zt=it+we-Le,bn=Hc(O?ap(dt,Me):dt,it,O?So(yt,zt):yt);rt[X]=bn,V[X]=bn-it}if(d){var me,Er=X==="x"?or:lr,He=X==="x"?Vr:Lr,Qe=rt[tt],pn=tt==="y"?"height":"width",Re=Qe+I[Er],Fe=Qe-I[He],rn=[or,lr].indexOf(K)!==-1,Qn=(me=P==null?void 0:P[tt])!=null?me:0,Tt=rn?Re:Qe-D[pn]-A[pn]-Qn+k.altAxis,Bt=rn?Qe+D[pn]+A[pn]-Qn-k.altAxis:Fe,Ce=O&&rn?pL(Tt,Qe,Bt):Hc(O?Tt:Re,Qe,O?Bt:Fe);rt[tt]=Ce,V[tt]=Ce-Qe}t.modifiersData[i]=V}}const $L={name:"preventOverflow",enabled:!0,phase:"main",fn:qL,requiresIfExists:["offset"]};function GL(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function KL(n){return n===_r(n)||!Ai(n)?C_(n):GL(n)}function QL(n){var t=n.getBoundingClientRect(),e=cu(t.width)/n.offsetWidth||1,i=cu(t.height)/n.offsetHeight||1;return e!==1||i!==1}function YL(n,t,e){e===void 0&&(e=!1);var i=Ai(t),a=Ai(t)&&QL(t),l=ka(t),c=fu(n,a,e),d={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!e)&&((Ia(t)!=="body"||I_(l))&&(d=KL(t)),Ai(t)?(p=fu(t,!0),p.x+=t.clientLeft,p.y+=t.clientTop):l&&(p.x=x_(l))),{x:c.left+d.scrollLeft-p.x,y:c.top+d.scrollTop-p.y,width:c.width,height:c.height}}function XL(n){var t=new Map,e=new Set,i=[];n.forEach(function(l){t.set(l.name,l)});function a(l){e.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(d){if(!e.has(d)){var p=t.get(d);p&&a(p)}}),i.push(l)}return n.forEach(function(l){e.has(l.name)||a(l)}),i}function WL(n){var t=XL(n);return fL.reduce(function(e,i){return e.concat(t.filter(function(a){return a.phase===i}))},[])}function ZL(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function JL(n){var t=n.reduce(function(e,i){var a=e[i.name];return e[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var dS={placement:"bottom",modifiers:[],strategy:"absolute"};function pS(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function tU(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,i=e===void 0?[]:e,a=t.defaultOptions,l=a===void 0?dS:a;return function(d,p,g){g===void 0&&(g=l);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},dS,l),modifiersData:{},elements:{reference:d,popper:p},attributes:{},styles:{}},v=[],T=!1,O={state:_,setOptions:function(K){var Y=typeof K=="function"?K(_.options):K;j(),_.options=Object.assign({},l,_.options,Y),_.scrollParents={reference:Po(d)?Fc(d):d.contextElement?Fc(d.contextElement):[],popper:Fc(p)};var q=WL(JL([].concat(i,_.options.modifiers)));return _.orderedModifiers=q.filter(function(X){return X.enabled}),M(),O.update()},forceUpdate:function(){if(!T){var K=_.elements,Y=K.reference,q=K.popper;if(pS(Y,q)){_.rects={reference:YL(Y,Pf(q),_.options.strategy==="fixed"),popper:A_(q)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(k){return _.modifiersData[k.name]=Object.assign({},k.data)});for(var X=0;X<_.orderedModifiers.length;X++){if(_.reset===!0){_.reset=!1,X=-1;continue}var tt=_.orderedModifiers[X],rt=tt.fn,D=tt.options,A=D===void 0?{}:D,x=tt.name;typeof rt=="function"&&(_=rt({state:_,options:A,name:x,instance:O})||_)}}}},update:ZL(function(){return new Promise(function(I){O.forceUpdate(),I(_)})}),destroy:function(){j(),T=!0}};if(!pS(d,p))return O;O.setOptions(g).then(function(I){!T&&g.onFirstUpdate&&g.onFirstUpdate(I)});function M(){_.orderedModifiers.forEach(function(I){var K=I.name,Y=I.options,q=Y===void 0?{}:Y,X=I.effect;if(typeof X=="function"){var tt=X({state:_,name:K,instance:O,options:q}),rt=function(){};v.push(tt||rt)}})}function j(){v.forEach(function(I){return I()}),v=[]}return O}}const eU=tU({defaultModifiers:[LL,HL,TL,SL,BL,PL,$L,vL]}),nU=["enabled","placement","strategy","modifiers"];function rU(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}const iU={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},sU={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:t,popper:e}=n.elements;if("removeAttribute"in t){const i=(t.getAttribute("aria-describedby")||"").split(",").filter(a=>a.trim()!==e.id);i.length?t.setAttribute("aria-describedby",i.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:n})=>{var t;const{popper:e,reference:i}=n.elements,a=(t=e.getAttribute("role"))==null?void 0:t.toLowerCase();if(e.id&&a==="tooltip"&&"setAttribute"in i){const l=i.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(e.id)!==-1)return;i.setAttribute("aria-describedby",l?`${l},${e.id}`:e.id)}}},aU=[];function oU(n,t,e={}){let{enabled:i=!0,placement:a="bottom",strategy:l="absolute",modifiers:c=aU}=e,d=rU(e,nU);const p=w.useRef(c),g=w.useRef(),_=w.useCallback(()=>{var I;(I=g.current)==null||I.update()},[]),v=w.useCallback(()=>{var I;(I=g.current)==null||I.forceUpdate()},[]),[T,O]=J3(w.useState({placement:a,update:_,forceUpdate:v,attributes:{},styles:{popper:{},arrow:{}}})),M=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:I})=>{const K={},Y={};Object.keys(I.elements).forEach(q=>{K[q]=I.styles[q],Y[q]=I.attributes[q]}),O({state:I,styles:K,attributes:Y,update:_,forceUpdate:v,placement:I.placement})}}),[_,v,O]),j=w.useMemo(()=>(zc(p.current,c)||(p.current=c),p.current),[c]);return w.useEffect(()=>{!g.current||!i||g.current.setOptions({placement:a,strategy:l,modifiers:[...j,M,iU]})},[l,a,M,i,j]),w.useEffect(()=>{if(!(!i||n==null||t==null))return g.current=eU(n,t,Object.assign({},d,{placement:a,strategy:l,modifiers:[...j,sU,M]})),()=>{g.current!=null&&(g.current.destroy(),g.current=void 0,O(I=>Object.assign({},I,{attributes:{},styles:{popper:{}}})))}},[i,n,t]),T}const mS=()=>{};function lU(n){return n.button===0}function uU(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const cy=n=>n&&("current"in n?n.current:n),gS={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function cU(n,t=mS,{disabled:e,clickTrigger:i="click"}={}){const a=w.useRef(!1),l=w.useRef(!1),c=w.useCallback(g=>{const _=cy(n);xV(!!_,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!_||uU(g)||!lU(g)||!!np(_,g.target)||l.current,l.current=!1},[n]),d=Ln(g=>{const _=cy(n);_&&np(_,g.target)?l.current=!0:l.current=!1}),p=Ln(g=>{a.current||t(g)});w.useEffect(()=>{var g,_;if(e||n==null)return;const v=gf(cy(n)),T=v.defaultView||window;let O=(g=T.event)!=null?g:(_=T.parent)==null?void 0:_.event,M=null;gS[i]&&(M=pa(v,gS[i],d,!0));const j=pa(v,i,c,!0),I=pa(v,i,Y=>{if(Y===O){O=void 0;return}p(Y)});let K=[];return"ontouchstart"in v.documentElement&&(K=[].slice.call(v.body.children).map(Y=>pa(Y,"mousemove",mS))),()=>{M==null||M(),j(),I(),K.forEach(Y=>Y())}},[n,e,i,c,d,p])}function fU(n){const t={};return Array.isArray(n)?(n==null||n.forEach(e=>{t[e.name]=e}),t):n||t}function hU(n={}){return Array.isArray(n)?n:Object.keys(n).map(t=>(n[t].name=t,n[t]))}function dU({enabled:n,enableEvents:t,placement:e,flip:i,offset:a,fixed:l,containerPadding:c,arrowElement:d,popperConfig:p={}}){var g,_,v,T,O;const M=fU(p.modifiers);return Object.assign({},p,{placement:e,enabled:n,strategy:l?"fixed":p.strategy,modifiers:hU(Object.assign({},M,{eventListeners:{enabled:t,options:(g=M.eventListeners)==null?void 0:g.options},preventOverflow:Object.assign({},M.preventOverflow,{options:c?Object.assign({padding:c},(_=M.preventOverflow)==null?void 0:_.options):(v=M.preventOverflow)==null?void 0:v.options}),offset:{options:Object.assign({offset:a},(T=M.offset)==null?void 0:T.options)},arrow:Object.assign({},M.arrow,{enabled:!!d,options:Object.assign({},(O=M.arrow)==null?void 0:O.options,{element:d})}),flip:Object.assign({enabled:!!i},M.flip)}))})}const pU=["children","usePopper"];function mU(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}const gU=()=>{};function HC(n={}){const t=w.useContext(Vp),[e,i]=b6(),a=w.useRef(!1),{flip:l,offset:c,rootCloseEvent:d,fixed:p=!1,placement:g,popperConfig:_={},enableEventListeners:v=!0,usePopper:T=!!t}=n,O=(t==null?void 0:t.show)==null?!!n.show:t.show;O&&!a.current&&(a.current=!0);const M=rt=>{t==null||t.toggle(!1,rt)},{placement:j,setMenu:I,menuElement:K,toggleElement:Y}=t||{},q=oU(Y,K,dU({placement:g||j||"bottom-start",enabled:T,enableEvents:v??O,offset:c,flip:l,fixed:p,arrowElement:e,popperConfig:_})),X=Object.assign({ref:I||gU,"aria-labelledby":Y==null?void 0:Y.id},q.attributes.popper,{style:q.styles.popper}),tt={show:O,placement:j,hasShown:a.current,toggle:t==null?void 0:t.toggle,popper:T?q:null,arrowProps:T?Object.assign({ref:i},q.attributes.arrow,{style:q.styles.arrow}):{}};return cU(K,M,{clickTrigger:d,disabled:!O}),[X,tt]}function FC(n){let{children:t,usePopper:e=!0}=n,i=mU(n,pU);const[a,l]=HC(Object.assign({},i,{usePopper:e}));return S.jsx(S.Fragment,{children:t(a,l)})}FC.displayName="DropdownMenu";const qC={prefix:String(Math.round(Math.random()*1e10)),current:0},$C=ct.createContext(qC),yU=ct.createContext(!1);let fy=new WeakMap;function vU(n=!1){let t=w.useContext($C),e=w.useRef(null);if(e.current===null&&!n){var i,a;let l=(a=ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||a===void 0||(i=a.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(l){let c=fy.get(l);c==null?fy.set(l,{id:t.current,state:l.memoizedState}):l.memoizedState!==c.state&&(t.current=c.id,fy.delete(l))}e.current=++t.current}return e.current}function _U(n){let t=w.useContext($C),e=vU(!!n),i=`react-aria${t.prefix}`;return n||`${i}-${e}`}function EU(n){let t=ct.useId(),[e]=w.useState(AU()),i=e?"react-aria":`react-aria${qC.prefix}`;return n||`${i}-${t}`}const bU=typeof ct.useId=="function"?EU:_U;function TU(){return!1}function wU(){return!0}function SU(n){return()=>{}}function AU(){return typeof ct.useSyncExternalStore=="function"?ct.useSyncExternalStore(SU,TU,wU):w.useContext(yU)}const GC=n=>{var t;return((t=n.getAttribute("role"))==null?void 0:t.toLowerCase())==="menu"},yS=()=>{};function KC(){const n=bU(),{show:t=!1,toggle:e=yS,setToggle:i,menuElement:a}=w.useContext(Vp)||{},l=w.useCallback(d=>{e(!t,d)},[t,e]),c={id:n,ref:i||yS,onClick:l,"aria-expanded":!!t};return a&&GC(a)&&(c["aria-haspopup"]=!0),[c,{show:t,toggle:e}]}function QC({children:n}){const[t,e]=KC();return S.jsx(S.Fragment,{children:n(t,e)})}QC.displayName="DropdownToggle";const RU=["eventKey","disabled","onClick","active","as"];function CU(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function YC({key:n,href:t,active:e,disabled:i,onClick:a}){const l=w.useContext(Do),c=w.useContext(Pp),{activeKey:d}=c||{},p=nf(n,t),g=e==null&&n!=null?nf(d)===p:e;return[{onClick:Ln(v=>{i||(a==null||a(v),l&&!v.isPropagationStopped()&&l(p,v))}),"aria-disabled":i||void 0,"aria-selected":g,[Tu("dropdown-item")]:""},{isActive:g}]}const XC=w.forwardRef((n,t)=>{let{eventKey:e,disabled:i,onClick:a,active:l,as:c=a_}=n,d=CU(n,RU);const[p]=YC({key:e,href:d.href,disabled:i,onClick:a,active:l});return S.jsx(c,Object.assign({},d,{ref:t},p))});XC.displayName="DropdownItem";function vS(){const n=$R(),t=w.useRef(null),e=w.useCallback(i=>{t.current=i,n()},[n]);return[t,e]}function Vf({defaultShow:n,show:t,onSelect:e,onToggle:i,itemSelector:a=`* [${Tu("dropdown-item")}]`,focusFirstItemOnShow:l,placement:c="bottom-start",children:d}){const p=Dp(),[g,_]=Z3(t,n,i),[v,T]=vS(),O=v.current,[M,j]=vS(),I=M.current,K=MR(g),Y=w.useRef(null),q=w.useRef(!1),X=w.useContext(Do),tt=w.useCallback((P,V,N=V==null?void 0:V.type)=>{_(P,{originalEvent:V,source:N})},[_]),rt=Ln((P,V)=>{e==null||e(P,V),tt(!1,V,"select"),V.isPropagationStopped()||X==null||X(P,V)}),D=w.useMemo(()=>({toggle:tt,placement:c,show:g,menuElement:O,toggleElement:I,setMenu:T,setToggle:j}),[tt,c,g,O,I,T,j]);O&&K&&!g&&(q.current=O.contains(O.ownerDocument.activeElement));const A=Ln(()=>{I&&I.focus&&I.focus()}),x=Ln(()=>{const P=Y.current;let V=l;if(V==null&&(V=v.current&&GC(v.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(P))return;const N=ns(v.current,a)[0];N&&N.focus&&N.focus()});w.useEffect(()=>{g?x():q.current&&(q.current=!1,A())},[g,q,A,x]),w.useEffect(()=>{Y.current=null});const k=(P,V)=>{if(!v.current)return null;const N=ns(v.current,a);let Et=N.indexOf(P)+V;return Et=Math.max(0,Math.min(Et,N.length)),N[Et]};return T6(w.useCallback(()=>p.document,[p]),"keydown",P=>{var V,N;const{key:Et}=P,St=P.target,H=(V=v.current)==null?void 0:V.contains(St),it=(N=M.current)==null?void 0:N.contains(St);if(/input|textarea/i.test(St.tagName)&&(Et===" "||Et!=="Escape"&&H||Et==="Escape"&&St.type==="search")||!H&&!it||Et==="Tab"&&(!v.current||!g))return;Y.current=P.type;const yt={originalEvent:P,source:P.type};switch(Et){case"ArrowUp":{const L=k(St,-1);L&&L.focus&&L.focus(),P.preventDefault();return}case"ArrowDown":if(P.preventDefault(),!g)_(!0,yt);else{const L=k(St,1);L&&L.focus&&L.focus()}return;case"Tab":cv(St.ownerDocument,"keyup",L=>{var Z;(L.key==="Tab"&&!L.target||!((Z=v.current)!=null&&Z.contains(L.target)))&&_(!1,yt)},{once:!0});break;case"Escape":Et==="Escape"&&(P.preventDefault(),P.stopPropagation()),_(!1,yt);break}}),S.jsx(Do.Provider,{value:rt,children:S.jsx(Vp.Provider,{value:D,children:d})})}Vf.displayName="Dropdown";Vf.Menu=FC;Vf.Toggle=QC;Vf.Item=XC;const O_=w.createContext({});O_.displayName="DropdownContext";const WC=w.forwardRef(({className:n,bsPrefix:t,as:e="hr",role:i="separator",...a},l)=>(t=Mt(t,"dropdown-divider"),S.jsx(e,{ref:l,className:wt(n,t),role:i,...a})));WC.displayName="DropdownDivider";const ZC=w.forwardRef(({className:n,bsPrefix:t,as:e="div",role:i="heading",...a},l)=>(t=Mt(t,"dropdown-header"),S.jsx(e,{ref:l,className:wt(n,t),role:i,...a})));ZC.displayName="DropdownHeader";const JC=w.forwardRef(({bsPrefix:n,className:t,eventKey:e,disabled:i=!1,onClick:a,active:l,as:c=rf,...d},p)=>{const g=Mt(n,"dropdown-item"),[_,v]=YC({key:e,href:d.href,disabled:i,onClick:a,active:l});return S.jsx(c,{...d,..._,ref:p,className:wt(t,g,v.isActive&&"active",i&&"disabled")})});JC.displayName="DropdownItem";const tx=w.forwardRef(({className:n,bsPrefix:t,as:e="span",...i},a)=>(t=Mt(t,"dropdown-item-text"),S.jsx(e,{ref:a,className:wt(n,t),...i})));tx.displayName="DropdownItemText";const N_=w.createContext(null);N_.displayName="InputGroupContext";function ex(n,t){return n}function nx(n,t,e){const i=e?"top-end":"top-start",a=e?"top-start":"top-end",l=e?"bottom-end":"bottom-start",c=e?"bottom-start":"bottom-end",d=e?"right-start":"left-start",p=e?"right-end":"left-end",g=e?"left-start":"right-start",_=e?"left-end":"right-end";let v=n?c:l;return t==="up"?v=n?a:i:t==="end"?v=n?_:g:t==="start"?v=n?p:d:t==="down-centered"?v="bottom":t==="up-centered"&&(v="top"),v}const rx=w.forwardRef(({bsPrefix:n,className:t,align:e,rootCloseEvent:i,flip:a=!0,show:l,renderOnMount:c,as:d="div",popperConfig:p,variant:g,..._},v)=>{let T=!1;const O=w.useContext(Bo),M=Mt(n,"dropdown-menu"),{align:j,drop:I,isRTL:K}=w.useContext(O_);e=e||j;const Y=w.useContext(N_),q=[];if(e)if(typeof e=="object"){const P=Object.keys(e);if(P.length){const V=P[0],N=e[V];T=N==="start",q.push(`${M}-${V}-${N}`)}}else e==="end"&&(T=!0);const X=nx(T,I,K),[tt,{hasShown:rt,popper:D,show:A,toggle:x}]=HC({flip:a,rootCloseEvent:i,show:l,usePopper:!O&&q.length===0,offset:[0,2],popperConfig:p,placement:X});if(tt.ref=lp(ex(v),tt.ref),rC(()=>{A&&(D==null||D.update())},[A]),!rt&&!c&&!Y)return null;typeof d!="string"&&(tt.show=A,tt.close=()=>x==null?void 0:x(!1),tt.align=e);let k=_.style;return D!=null&&D.placement&&(k={..._.style,...tt.style},_["x-placement"]=D.placement),S.jsx(d,{..._,...tt,style:k,...(q.length||O)&&{"data-bs-popper":"static"},className:wt(t,M,A&&"show",T&&`${M}-end`,g&&`${M}-${g}`,...q)})});rx.displayName="DropdownMenu";const ix=w.forwardRef(({bsPrefix:n,split:t,className:e,childBsPrefix:i,as:a=sr,...l},c)=>{const d=Mt(n,"dropdown-toggle"),p=w.useContext(Vp);i!==void 0&&(l.bsPrefix=i);const[g]=KC();return g.ref=lp(g.ref,ex(c)),S.jsx(a,{className:wt(e,d,t&&`${d}-split`,(p==null?void 0:p.show)&&"show"),...g,...l})});ix.displayName="DropdownToggle";const sx=w.forwardRef((n,t)=>{const{bsPrefix:e,drop:i="down",show:a,className:l,align:c="start",onSelect:d,onToggle:p,focusFirstItemOnShow:g,as:_="div",navbar:v,autoClose:T=!0,...O}=pf(n,{show:"onToggle"}),M=w.useContext(N_),j=Mt(e,"dropdown"),I=uv(),K=D=>T===!1?D==="click":T==="inside"?D!=="rootClose":T==="outside"?D!=="select":!0,Y=_s((D,A)=>{var x;!((x=A.originalEvent)==null||(x=x.target)==null)&&x.classList.contains("dropdown-toggle")&&A.source==="mousedown"||(A.originalEvent.currentTarget===document&&(A.source!=="keydown"||A.originalEvent.key==="Escape")&&(A.source="rootClose"),K(A.source)&&(p==null||p(D,A)))}),X=nx(c==="end",i,I),tt=w.useMemo(()=>({align:c,drop:i,isRTL:I}),[c,i,I]),rt={down:j,"down-centered":`${j}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return S.jsx(O_.Provider,{value:tt,children:S.jsx(Vf,{placement:X,show:a,onSelect:d,onToggle:Y,focusFirstItemOnShow:g,itemSelector:`.${j}-item:not(.disabled):not(:disabled)`,children:M?O.children:S.jsx(_,{...O,ref:t,className:wt(l,a&&"show",rt[i])})})})});sx.displayName="Dropdown";const vd=Object.assign(sx,{Toggle:ix,Menu:rx,Item:JC,ItemText:tx,Divider:WC,Header:ZC}),ax=w.forwardRef(({bsPrefix:n,className:t,striped:e,bordered:i,borderless:a,hover:l,size:c,variant:d,responsive:p,...g},_)=>{const v=Mt(n,"table"),T=wt(t,v,d&&`${v}-${d}`,c&&`${v}-${c}`,e&&`${v}-${typeof e=="string"?`striped-${e}`:"striped"}`,i&&`${v}-bordered`,a&&`${v}-borderless`,l&&`${v}-hover`),O=S.jsx("table",{...g,className:T,ref:_});if(p){let M=`${v}-responsive`;return typeof p=="string"&&(M=`${M}-${p}`),S.jsx("div",{className:M,children:O})}return O});ax.displayName="Table";function xU({gameMode:n}){const{data:t,isLoading:e}=RC({queryKey:["users"],queryFn:D3}),[i,a]=w.useState(Gr.INDEX),[l,c]=w.useState([]);return w.useEffect(()=>{t&&(()=>{switch(i){case Gr.INDEX:c(n===Jt.CLASSIC?t.docs.filter(p=>Js(p.data(),n)>=5).toSorted(z3):t.docs.filter(p=>Js(p.data(),n)>=5).toSorted(H3));break;case Gr.WIN_RATE:c(n===Jt.CLASSIC?t.docs.filter(p=>Js(p.data(),n)>=5).toSorted(F3):t.docs.filter(p=>Js(p.data(),n)>=5).toSorted(q3));break;case Gr.DAILY_STREAK:c(n===Jt.CLASSIC?t.docs.filter(p=>Js(p.data(),n)>=5).toSorted($3):t.docs.filter(p=>Js(p.data(),n)>=5).toSorted(G3));break}})()},[t,n,i]),S.jsx("div",{className:"leader-board",children:S.jsxs(ax,{hover:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"#"}),S.jsx("th",{children:"Nickname"}),S.jsx("th",{children:S.jsxs(vd,{align:"end",children:[S.jsx(vd.Toggle,{children:i}),S.jsx(vd.Menu,{children:Object.keys(Gr).map((d,p)=>Gr[d]===i?null:S.jsx(vd.Item,{onClick:()=>a(Gr[d]),children:Gr[d]},p))})]})})]})}),S.jsx("tbody",{children:l.map((d,p)=>{let g;switch(i){case Gr.INDEX:g=ou(d.data(),n);break;case Gr.WIN_RATE:g=lu(d.data(),n);break;case Gr.DAILY_STREAK:g=af(d.data(),n);break}return S.jsxs("tr",{children:[S.jsx("td",{children:p+1}),S.jsx("td",{children:d.get("nickname")}),S.jsx("td",{children:g})]},p)})})]})})}function IU({statsOpen:n,toggleStats:t}){const[e,i]=w.useState(Jt.CLASSIC),{userData:a,isLoading:l}=Mf(),[c,d]=w.useState(1);return S.jsx(S.Fragment,{children:e!==Jt.PRACTICE&&S.jsxs(nn,{show:n,onHide:t,children:[S.jsx(nn.Header,{closeButton:!0,children:S.jsx(Kn,{className:"flex-center",children:S.jsx(nn.Title,{children:e})})}),S.jsxs(nn.Body,{children:[S.jsx("div",{className:"c-1 flex-center",children:S.jsxs(iv,{className:"me-2","aria-label":"First group",children:[S.jsx(sr,{onClick:()=>{i(Jt.CLASSIC)},children:"Classic"}),S.jsx(sr,{onClick:()=>{i(Jt.ROYALE)},children:"Royale"})]})}),S.jsxs(er,{gameModeData:a==null?void 0:a.statistics.gameModes[e],children:[S.jsx(er.Container,{children:S.jsx(er.Index,{value:ou(a,e),label:"index"})}),S.jsxs(er.Container,{children:[S.jsx(er.Unit,{value:a==null?void 0:a.statistics.gameModes[e].gamesPlayed,category:"Games played"}),S.jsx(er.Unit,{value:lu(a,e)+"%",category:"Win rate"}),S.jsx(er.Unit,{value:a==null?void 0:a.statistics.gameModes[e].dailyStreak,category:"Daily streak"})]}),S.jsx(er.Container,{className:"flex-center",children:S.jsxs("div",{className:"btn-group-container",children:[S.jsxs(iv,{children:[S.jsx(sr,{onClick:()=>c===0&&d(c+1),className:"distribution-btn",children:"Guess distribution"}),S.jsx(sr,{onClick:()=>c===1&&d(c-1),className:"leaderboard-btn",children:"Leaderboard"})]}),S.jsx("div",{className:`highlight-bar slide-${c}`})]})}),S.jsx(er.Container,{children:S.jsxs(uy,{style:{aspectRatio:"2",flex:2},interval:null,touch:!0,indicatorLabels:["Guess distribution","Leaderboard"],controls:!1,indicators:!1,activeIndex:c,children:[S.jsx(uy.Item,{children:S.jsx(xU,{gameMode:e})}),S.jsx(uy.Item,{children:S.jsx(sp,{data:e==="classic"?a==null?void 0:a.statistics.gameModes[e].gamesGuessed:a==null?void 0:a.statistics.gameModes[e].gamesGuessed.toReversed(),categories:e===Jt.CLASSIC?[1,2,3,4,5,6]:[5,4,3,2,1],children:S.jsx(sp.Graph,{axis:"show",layout:"vertical"})})})]})}),(a==null?void 0:a.statistics.gameModes[e].gamesPlayed)<5&&S.jsx(er.StatLock,{gamesPlayed:a==null?void 0:a.statistics.gameModes[e].gamesPlayed})]})]}),S.jsx(nn.Footer,{className:"flex-center"})]})})}function OU(){const[n,t]=Pl(!1),[e,i]=Pl(!1),[a,l]=Pl(!1),[c,d]=Pl(!1),[p,g]=Pl(!1),{darkMode:_}=Vo();return document.querySelector("body").classList.value=`${_}`,S.jsxs(S.Fragment,{children:[S.jsx(z6,{toggleLogIn:i,playWordle:n,togglePlayWordle:t,toggleStats:d}),S.jsx("main",{className:`flex-center ${_}`,children:n?S.jsx(k3,{togglePlayWordle:t,wordLength:5,numOfGuesses:6,toggleRestart:g},p):S.jsx(S.Fragment,{children:S.jsx(_V,{togglePlayWordle:t})})}),S.jsx(p6,{logInOpen:e,toggleLogIn:i,toggleSignUp:l}),S.jsx(m6,{signUpOpen:a,toggleSignUp:l}),S.jsx(IU,{statsOpen:c,toggleStats:d})]})}const NU=()=>S.jsx("div",{className:"wordle-loader",children:[...Array(5)].map((n,t)=>S.jsx("div",{className:"tile",style:{animationDelay:`${t*.15}s`}},t))});function DU({children:n}){const[t,e]=w.useState(null),[i,a]=w.useState(!0);w.useEffect(()=>{const c=rP(ef,d=>{e(d),a(!1)});return()=>c()},[]);const l={currentUser:t,loading:i};return S.jsx(zS.Provider,{value:l,children:i?S.jsxs("div",{children:[S.jsx("h1",{children:"Loading Wordle..."}),S.jsx(NU,{})]}):n})}function MU({children:n}){const{currentUser:t,loading:e}=cp(),{data:i,isLoading:a}=RC({queryKey:["user",t==null?void 0:t.uid],queryFn:({queryKey:c})=>{const[,d]=c;return N3(d)},enabled:!!t&&!e}),l={userData:i,isLoading:a};return S.jsx(hC.Provider,{value:l,children:n})}function kU({children:n}){const[t,e]=w.useState(Jt.PRACTICE),i={gameMode:t,setGameMode:e};return S.jsx(BS.Provider,{value:i,children:n})}const _d=Object.freeze({DARK:"dark",LIGHT:"light"});function PU({children:n}){const[t,e]=w.useState(_d.DARK),i=()=>{e(t===_d.DARK?_d.LIGHT:_d.DARK)};w.useEffect(()=>{document.documentElement.setAttribute("data-bs-theme",t)},[t]);const a={darkMode:t,toggleDarkMode:i};return S.jsx(HS.Provider,{value:a,children:n})}const VU=new d3;jI.createRoot(document.getElementById("root")).render(S.jsx(w.StrictMode,{children:S.jsx(DU,{children:S.jsx(v3,{client:VU,children:S.jsx(MU,{children:S.jsx(kU,{children:S.jsx(PU,{children:S.jsx(OU,{})})})})})})}));
