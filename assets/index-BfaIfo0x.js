var CE=i=>{throw TypeError(i)};var kp=(i,t,e)=>t.has(i)||CE("Cannot "+e);var L=(i,t,e)=>(kp(i,t,"read from private field"),e?e.call(i):t.get(i)),St=(i,t,e)=>t.has(i)?CE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),gt=(i,t,e,s)=>(kp(i,t,"write to private field"),s?s.call(i,e):t.set(i,e),e),Ut=(i,t,e)=>(kp(i,t,"access private method"),e);var ff=(i,t,e,s)=>({set _(o){gt(i,t,o,e)},get _(){return L(i,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function cd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Vp={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function uC(){if(IE)return Xu;IE=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Xu.Fragment=t,Xu.jsx=e,Xu.jsxs=e,Xu}var xE;function cC(){return xE||(xE=1,Vp.exports=uC()),Vp.exports}var R=cC(),Pp={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function hC(){if(OE)return Lt;OE=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),v=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,z={};function O(V,Y,st){this.props=V,this.context=Y,this.refs=z,this.updater=st||N}O.prototype.isReactComponent={},O.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},O.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function et(){}et.prototype=O.prototype;function ot(V,Y,st){this.props=V,this.context=Y,this.refs=z,this.updater=st||N}var Z=ot.prototype=new et;Z.constructor=ot,j(Z,O.prototype),Z.isPureReactComponent=!0;var rt=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},lt=Object.prototype.hasOwnProperty;function k(V,Y,st,W,ft,bt){return st=bt.ref,{$$typeof:i,type:V,key:Y,ref:st!==void 0?st:null,props:bt}}function A(V,Y){return k(V.type,Y,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function M(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return Y[st]})}var P=/\/+/g;function U(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):Y.toString(36)}function x(){}function Tt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(x,x):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function kt(V,Y,st,W,ft){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var pt=!1;if(V===null)pt=!0;else switch(bt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(V.$$typeof){case i:case t:pt=!0;break;case E:return pt=V._init,kt(pt(V._payload),Y,st,W,ft)}}if(pt)return ft=ft(V),pt=W===""?"."+U(V,0):W,rt(ft)?(st="",pt!=null&&(st=pt.replace(P,"$&/")+"/"),kt(ft,Y,st,"",function(Ae){return Ae})):ft!=null&&(C(ft)&&(ft=A(ft,st+(ft.key==null||V&&V.key===ft.key?"":(""+ft.key).replace(P,"$&/")+"/")+pt)),Y.push(ft)),1;pt=0;var le=W===""?".":W+":";if(rt(V))for(var qt=0;qt<V.length;qt++)W=V[qt],bt=le+U(W,qt),pt+=kt(W,Y,st,bt,ft);else if(qt=b(V),typeof qt=="function")for(V=qt.call(V),qt=0;!(W=V.next()).done;)W=W.value,bt=le+U(W,qt++),pt+=kt(W,Y,st,bt,ft);else if(bt==="object"){if(typeof V.then=="function")return kt(Tt(V),Y,st,W,ft);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return pt}function F(V,Y,st){if(V==null)return V;var W=[],ft=0;return kt(V,W,"","",function(bt){return Y.call(st,bt,ft++)}),W}function ut(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function xt(){}return Lt.Children={map:F,forEach:function(V,Y,st){F(V,function(){Y.apply(this,arguments)},st)},count:function(V){var Y=0;return F(V,function(){Y++}),Y},toArray:function(V){return F(V,function(Y){return Y})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Lt.Component=O,Lt.Fragment=e,Lt.Profiler=o,Lt.PureComponent=ot,Lt.StrictMode=s,Lt.Suspense=p,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return at.H.useMemoCache(V)}},Lt.cache=function(V){return function(){return V.apply(null,arguments)}},Lt.cloneElement=function(V,Y,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var W=j({},V.props),ft=V.key,bt=void 0;if(Y!=null)for(pt in Y.ref!==void 0&&(bt=void 0),Y.key!==void 0&&(ft=""+Y.key),Y)!lt.call(Y,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Y.ref===void 0||(W[pt]=Y[pt]);var pt=arguments.length-2;if(pt===1)W.children=st;else if(1<pt){for(var le=Array(pt),qt=0;qt<pt;qt++)le[qt]=arguments[qt+2];W.children=le}return k(V.type,ft,void 0,void 0,bt,W)},Lt.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Lt.createElement=function(V,Y,st){var W,ft={},bt=null;if(Y!=null)for(W in Y.key!==void 0&&(bt=""+Y.key),Y)lt.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ft[W]=Y[W]);var pt=arguments.length-2;if(pt===1)ft.children=st;else if(1<pt){for(var le=Array(pt),qt=0;qt<pt;qt++)le[qt]=arguments[qt+2];ft.children=le}if(V&&V.defaultProps)for(W in pt=V.defaultProps,pt)ft[W]===void 0&&(ft[W]=pt[W]);return k(V,bt,void 0,void 0,null,ft)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(V){return{$$typeof:d,render:V}},Lt.isValidElement=C,Lt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ut}},Lt.memo=function(V,Y){return{$$typeof:g,type:V,compare:Y===void 0?null:Y}},Lt.startTransition=function(V){var Y=at.T,st={};at.T=st;try{var W=V(),ft=at.S;ft!==null&&ft(st,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(xt,dt)}catch(bt){dt(bt)}finally{at.T=Y}},Lt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Lt.use=function(V){return at.H.use(V)},Lt.useActionState=function(V,Y,st){return at.H.useActionState(V,Y,st)},Lt.useCallback=function(V,Y){return at.H.useCallback(V,Y)},Lt.useContext=function(V){return at.H.useContext(V)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(V,Y){return at.H.useDeferredValue(V,Y)},Lt.useEffect=function(V,Y,st){var W=at.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(V,Y)},Lt.useId=function(){return at.H.useId()},Lt.useImperativeHandle=function(V,Y,st){return at.H.useImperativeHandle(V,Y,st)},Lt.useInsertionEffect=function(V,Y){return at.H.useInsertionEffect(V,Y)},Lt.useLayoutEffect=function(V,Y){return at.H.useLayoutEffect(V,Y)},Lt.useMemo=function(V,Y){return at.H.useMemo(V,Y)},Lt.useOptimistic=function(V,Y){return at.H.useOptimistic(V,Y)},Lt.useReducer=function(V,Y,st){return at.H.useReducer(V,Y,st)},Lt.useRef=function(V){return at.H.useRef(V)},Lt.useState=function(V){return at.H.useState(V)},Lt.useSyncExternalStore=function(V,Y,st){return at.H.useSyncExternalStore(V,Y,st)},Lt.useTransition=function(){return at.H.useTransition()},Lt.version="19.1.0",Lt}var NE;function ey(){return NE||(NE=1,Pp.exports=hC()),Pp.exports}var I=ey();const ct=cd(I);var Lp={exports:{}},Wu={},Up={exports:{}},jp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function fC(){return DE||(DE=1,function(i){function t(F,ut){var dt=F.length;F.push(ut);t:for(;0<dt;){var xt=dt-1>>>1,V=F[xt];if(0<o(V,ut))F[xt]=ut,F[dt]=V,dt=xt;else break t}}function e(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ut=F[0],dt=F.pop();if(dt!==ut){F[0]=dt;t:for(var xt=0,V=F.length,Y=V>>>1;xt<Y;){var st=2*(xt+1)-1,W=F[st],ft=st+1,bt=F[ft];if(0>o(W,dt))ft<V&&0>o(bt,W)?(F[xt]=bt,F[ft]=dt,xt=ft):(F[xt]=W,F[st]=dt,xt=st);else if(ft<V&&0>o(bt,dt))F[xt]=bt,F[ft]=dt,xt=ft;else break t}}return ut}function o(F,ut){var dt=F.sortIndex-ut.sortIndex;return dt!==0?dt:F.id-ut.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,v=null,b=3,N=!1,j=!1,z=!1,O=!1,et=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function rt(F){for(var ut=e(g);ut!==null;){if(ut.callback===null)s(g);else if(ut.startTime<=F)s(g),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=e(g)}}function at(F){if(z=!1,rt(F),!j)if(e(p)!==null)j=!0,lt||(lt=!0,U());else{var ut=e(g);ut!==null&&kt(at,ut.startTime-F)}}var lt=!1,k=-1,A=5,C=-1;function M(){return O?!0:!(i.unstable_now()-C<A)}function P(){if(O=!1,lt){var F=i.unstable_now();C=F;var ut=!0;try{t:{j=!1,z&&(z=!1,ot(k),k=-1),N=!0;var dt=b;try{e:{for(rt(F),v=e(p);v!==null&&!(v.expirationTime>F&&M());){var xt=v.callback;if(typeof xt=="function"){v.callback=null,b=v.priorityLevel;var V=xt(v.expirationTime<=F);if(F=i.unstable_now(),typeof V=="function"){v.callback=V,rt(F),ut=!0;break e}v===e(p)&&s(p),rt(F)}else s(p);v=e(p)}if(v!==null)ut=!0;else{var Y=e(g);Y!==null&&kt(at,Y.startTime-F),ut=!1}}break t}finally{v=null,b=dt,N=!1}ut=void 0}}finally{ut?U():lt=!1}}}var U;if(typeof Z=="function")U=function(){Z(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Tt=x.port2;x.port1.onmessage=P,U=function(){Tt.postMessage(null)}}else U=function(){et(P,0)};function kt(F,ut){k=et(function(){F(i.unstable_now())},ut)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(F){switch(b){case 1:case 2:case 3:var ut=3;break;default:ut=b}var dt=b;b=ut;try{return F()}finally{b=dt}},i.unstable_requestPaint=function(){O=!0},i.unstable_runWithPriority=function(F,ut){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=b;b=F;try{return ut()}finally{b=dt}},i.unstable_scheduleCallback=function(F,ut,dt){var xt=i.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?xt+dt:xt):dt=xt,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,F={id:E++,callback:ut,priorityLevel:F,startTime:dt,expirationTime:V,sortIndex:-1},dt>xt?(F.sortIndex=dt,t(g,F),e(p)===null&&F===e(g)&&(z?(ot(k),k=-1):z=!0,kt(at,dt-xt))):(F.sortIndex=V,t(p,F),j||N||(j=!0,lt||(lt=!0,U()))),F},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(F){var ut=b;return function(){var dt=b;b=ut;try{return F.apply(this,arguments)}finally{b=dt}}}}(jp)),jp}var ME;function dC(){return ME||(ME=1,Up.exports=fC()),Up.exports}var Bp={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function mC(){if(kE)return En;kE=1;var i=ey();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,E){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,En.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,E)},En.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},En.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},En.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},En.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,v=d(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},En.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},En.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,v=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},En.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},En.requestFormReset=function(p){s.d.r(p)},En.unstable_batchedUpdates=function(p,g){return p(g)},En.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},En.useFormStatus=function(){return h.H.useHostTransitionStatus()},En.version="19.1.0",En}var VE;function Wb(){if(VE)return Bp.exports;VE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Bp.exports=mC(),Bp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function pC(){if(PE)return Wu;PE=1;var i=dC(),t=ey(),e=Wb();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===u)return d(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,u=m;break}if(S===u){T=!0,u=f,a=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===a){T=!0,a=m,u=f;break}if(S===u){T=!0,u=m,a=f;break}S=S.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function Tt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case O:return"Profiler";case z:return"StrictMode";case at:return"Suspense";case lt:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case Z:return(n.displayName||"Context")+".Provider";case ot:return(n._context.displayName||"Context")+".Consumer";case rt:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return r=n.displayName||null,r!==null?r:Tt(n.type)||"Memo";case A:r=n._payload,n=n._init;try{return Tt(n(r))}catch{}}return null}var kt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},xt=[],V=-1;function Y(n){return{current:n}}function st(n){0>V||(n.current=xt[V],xt[V]=null,V--)}function W(n,r){V++,xt[V]=n.current,n.current=r}var ft=Y(null),bt=Y(null),pt=Y(null),le=Y(null);function qt(n,r){switch(W(pt,r),W(bt,n),W(ft,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?eE(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=eE(r),n=nE(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}st(ft),W(ft,n)}function Ae(){st(ft),st(bt),st(pt)}function Ne(n){n.memoizedState!==null&&W(le,n);var r=ft.current,a=nE(r,n.type);r!==a&&(W(bt,n),W(ft,a))}function vn(n){bt.current===n&&(st(ft),st(bt)),le.current===n&&(st(le),Gu._currentValue=dt)}var ln=Object.prototype.hasOwnProperty,In=i.unstable_scheduleCallback,tn=i.unstable_cancelCallback,ee=i.unstable_shouldYield,si=i.unstable_requestPaint,ve=i.unstable_now,ss=i.unstable_getCurrentPriorityLevel,un=i.unstable_ImmediatePriority,Pi=i.unstable_UserBlockingPriority,Ti=i.unstable_NormalPriority,qe=i.unstable_LowPriority,xn=i.unstable_IdlePriority,Li=i.log,as=i.unstable_setDisableYieldValue,_t=null,Ht=null;function Ge(n){if(typeof Li=="function"&&as(n),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(_t,n)}catch{}}var Pe=Math.clz32?Math.clz32:Ln,bi=Math.log,vo=Math.LN2;function Ln(n){return n>>>=0,n===0?32:31-(bi(n)/vo|0)|0}var fr=256,dr=4194304;function Un(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function mr(n,r,a){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?f=Un(u):(T&=S,T!==0?f=Un(T):a||(a=S&~n,a!==0&&(f=Un(a))))):(S=u&~m,S!==0?f=Un(S):T!==0?f=Un(T):a||(a=u&~n,a!==0&&(f=Un(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function pr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function gr(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(){var n=fr;return fr<<=1,(fr&4194048)===0&&(fr=256),n}function ma(){var n=dr;return dr<<=1,(dr&62914560)===0&&(dr=4194304),n}function Si(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ai(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function os(n,r,a,u,f,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,K=n.hiddenUpdates;for(a=T&~a;0<a;){var J=31-Pe(a),nt=1<<J;S[J]=0,D[J]=-1;var Q=K[J];if(Q!==null)for(K[J]=null,J=0;J<Q.length;J++){var $=Q[J];$!==null&&($.lane&=-536870913)}a&=~nt}u!==0&&At(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~r))}function At(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Pe(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194090}function _e(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-Pe(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function ye(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Le(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function $n(){var n=ut.p;return n!==0?n:(n=window.event,n===void 0?32:TE(n.type))}function Re(n,r){var a=ut.p;try{return ut.p=n,r()}finally{ut.p=a}}var Gt=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Gt,ne="__reactProps$"+Gt,Te="__reactContainer$"+Gt,ls="__reactEvents$"+Gt,wi="__reactListeners$"+Gt,yr="__reactHandles$"+Gt,Gc="__reactResources$"+Gt,pa="__reactMarker$"+Gt;function us(n){delete n[Ee],delete n[ne],delete n[ls],delete n[wi],delete n[yr]}function vr(n){var r=n[Ee];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Te]||a[Ee]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=aE(n);n!==null;){if(a=n[Ee])return a;n=aE(n)}return r}n=a,a=n.parentNode}return null}function Ui(n){if(n=n[Ee]||n[Te]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ji(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function On(n){var r=n[Gc];return r||(r=n[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function De(n){n[pa]=!0}var Wl=new Set,_o={};function Ai(n,r){_r(n,r),_r(n+"Capture",r)}function _r(n,r){for(_o[n]=r,n=0;n<r.length;n++)Wl.add(r[n])}var Kc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qc={},ga={};function $c(n){return ln.call(ga,n)?!0:ln.call(Qc,n)?!1:Kc.test(n)?ga[n]=!0:(Qc[n]=!0,!1)}function cs(n,r,a){if($c(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Bi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function cn(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}var ya,Yc;function Er(n){if(ya===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ya=r&&r[1]||"",Yc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+n+Yc}var Eo=!1;function To(n,r){if(!n||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var Q=$}Reflect.construct(n,[],nt)}else{try{nt.call()}catch($){Q=$}n.call(nt.prototype)}}else{try{throw Error()}catch($){Q=$}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&Q&&typeof $.stack=="string")return[$.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var D=T.split(`
`),K=S.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===K.length)for(u=D.length-1,f=K.length-1;1<=u&&0<=f&&D[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==K[f]){var J=`
`+D[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=f);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Er(a):""}function Zl(n){switch(n.tag){case 26:case 27:case 5:return Er(n.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 15:return To(n.type,!1);case 11:return To(n.type.render,!1);case 1:return To(n.type,!0);case 31:return Er("Activity");default:return""}}function bo(n){try{var r="";do r+=Zl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ud(n){var r=Jl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function So(n){n._valueTracker||(n._valueTracker=Ud(n))}function tu(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=Jl(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function va(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var jd=/[\n"\\]/g;function Ue(n){return n.replace(jd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Yn(n,r,a,u,f,m,T,S){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Nn(r)):n.value!==""+Nn(r)&&(n.value=""+Nn(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?hs(n,T,Nn(r)):a!=null?hs(n,T,Nn(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Nn(S):n.removeAttribute("name")}function _a(n,r,a,u,f,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+Nn(a):"",r=r!=null?""+Nn(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function hs(n,r,a){r==="number"&&va(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Tr(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Nn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function he(n,r,a){if(r!=null&&(r=""+Nn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Nn(a):""}function Ea(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(kt(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Nn(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function oi(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xc(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||Ta.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function eu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&Xc(n,f,u)}else for(var m in r)r.hasOwnProperty(m)&&Xc(n,m,r[m])}function nu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(n){return zd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var br=null;function li(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Sr=null,wr=null;function iu(n){var r=Ui(n);if(r&&(n=r.stateNode)){var a=n[ne]||null;t:switch(n=r.stateNode,r.type){case"input":if(Yn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ue(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[ne]||null;if(!f)throw Error(s(90));Yn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&tu(u)}break t;case"textarea":he(n,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Tr(n,!!a.multiple,r,!1)}}}var zi=!1;function Wc(n,r,a){if(zi)return n(r,a);zi=!0;try{var u=n(r);return u}finally{if(zi=!1,(Sr!==null||wr!==null)&&(qh(),Sr&&(r=Sr,n=wr,wr=Sr=null,iu(r),n)))for(r=0;r<n.length;r++)iu(n[r])}}function ba(n,r){var a=n.stateNode;if(a===null)return null;var u=a[ne]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=!1;if(Ri)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){ui=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{ui=!1}var Hi=null,fs=null,Ar=null;function ru(){if(Ar)return Ar;var n,r=fs,a=r.length,u,f="value"in Hi?Hi.value:Hi.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(u=1;u<=T&&r[a-u]===f[m-u];u++);return Ar=f.slice(n,1<u?1-u:void 0)}function Fi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function qi(){return!0}function su(){return!1}function en(n){function r(a,u,f,m,T){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?qi:su,this.isPropagationStopped=su,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),r}var se={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=en(se),wa=E({},se,{view:0,detail:0}),Zc=en(wa),Ro,Co,Gi,Aa=E({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gi&&(Gi&&n.type==="mousemove"?(Ro=n.screenX-Gi.screenX,Co=n.screenY-Gi.screenY):Co=Ro=0,Gi=n),Ro)},movementY:function(n){return"movementY"in n?n.movementY:Co}}),ci=en(Aa),Jc=E({},Aa,{dataTransfer:0}),Hd=en(Jc),Ra=E({},wa,{relatedTarget:0}),Io=en(Ra),au=E({},se,{animationName:0,elapsedTime:0,pseudoElement:0}),xo=en(au),th=E({},se,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Oo=en(th),Fd=E({},se,{data:0}),ou=en(Fd),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=nh[n])?!!r[n]:!1}function Ia(){return lu}var ih=E({},wa,{key:function(n){if(n.key){var r=Ca[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Fi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?eh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(n){return n.type==="keypress"?Fi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),No=en(ih),rh=E({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=en(rh),Rr=E({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),sh=en(Rr),ah=E({},se,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=en(ah),lh=E({},Aa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Do=en(lh),Dn=E({},se,{newState:0,oldState:0}),uh=en(Dn),ch=[9,13,27,32],Ki=Ri&&"CompositionEvent"in window,c=null;Ri&&"documentMode"in document&&(c=document.documentMode);var y=Ri&&"TextEvent"in window&&!c,_=Ri&&(!Ki||c&&8<c&&11>=c),w=" ",q=!1;function X(n,r){switch(n){case"keyup":return ch.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wt=!1;function Ke(n,r){switch(n){case"compositionend":return mt(r);case"keypress":return r.which!==32?null:(q=!0,w);case"textInput":return n=r.data,n===w&&q?null:n;default:return null}}function Zt(n,r){if(Wt)return n==="compositionend"||!Ki&&X(n,r)?(n=ru(),Ar=fs=Hi=null,Wt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qe(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!nn[n.type]:r==="textarea"}function Cr(n,r,a,u){Sr?wr?wr.push(u):wr=[u]:Sr=u,r=Xh(r,"onChange"),0<r.length&&(a=new Ao("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var hn=null,Qi=null;function cu(n){X0(n,0)}function hh(n){var r=ji(n);if(tu(r))return n}function yv(n,r){if(n==="change")return r}var vv=!1;if(Ri){var qd;if(Ri){var Gd="oninput"in document;if(!Gd){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),Gd=typeof _v.oninput=="function"}qd=Gd}else qd=!1;vv=qd&&(!document.documentMode||9<document.documentMode)}function Ev(){hn&&(hn.detachEvent("onpropertychange",Tv),Qi=hn=null)}function Tv(n){if(n.propertyName==="value"&&hh(Qi)){var r=[];Cr(r,Qi,n,li(n)),Wc(cu,r)}}function jA(n,r,a){n==="focusin"?(Ev(),hn=r,Qi=a,hn.attachEvent("onpropertychange",Tv)):n==="focusout"&&Ev()}function BA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hh(Qi)}function zA(n,r){if(n==="click")return hh(r)}function HA(n,r){if(n==="input"||n==="change")return hh(r)}function FA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Xn=typeof Object.is=="function"?Object.is:FA;function hu(n,r){if(Xn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!ln.call(r,f)||!Xn(n[f],r[f]))return!1}return!0}function bv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sv(n,r){var a=bv(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=bv(a)}}function wv(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?wv(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Av(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=va(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=va(n.document)}return r}function Kd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var qA=Ri&&"documentMode"in document&&11>=document.documentMode,Mo=null,Qd=null,fu=null,$d=!1;function Rv(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$d||Mo==null||Mo!==va(u)||(u=Mo,"selectionStart"in u&&Kd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fu&&hu(fu,u)||(fu=u,u=Xh(Qd,"onSelect"),0<u.length&&(r=new Ao("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=Mo)))}function xa(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var ko={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},Yd={},Cv={};Ri&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Oa(n){if(Yd[n])return Yd[n];if(!ko[n])return n;var r=ko[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Cv)return Yd[n]=r[a];return n}var Iv=Oa("animationend"),xv=Oa("animationiteration"),Ov=Oa("animationstart"),GA=Oa("transitionrun"),KA=Oa("transitionstart"),QA=Oa("transitioncancel"),Nv=Oa("transitionend"),Dv=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xd.push("scrollEnd");function Ci(n,r){Dv.set(n,r),Ai(r,[n])}var Mv=new WeakMap;function hi(n,r){if(typeof n=="object"&&n!==null){var a=Mv.get(n);return a!==void 0?a:(r={value:n,source:r,stack:bo(r)},Mv.set(n,r),r)}return{value:n,source:r,stack:bo(r)}}var fi=[],Vo=0,Wd=0;function fh(){for(var n=Vo,r=Wd=Vo=0;r<n;){var a=fi[r];fi[r++]=null;var u=fi[r];fi[r++]=null;var f=fi[r];fi[r++]=null;var m=fi[r];if(fi[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&kv(a,f,m)}}function dh(n,r,a,u){fi[Vo++]=n,fi[Vo++]=r,fi[Vo++]=a,fi[Vo++]=u,Wd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Zd(n,r,a,u){return dh(n,r,a,u),mh(n)}function Po(n,r){return dh(n,null,null,r),mh(n)}function kv(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-Pe(a),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=a|536870912),m):null}function mh(n){if(50<Lu)throw Lu=0,rp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Lo={};function $A(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(n,r,a,u){return new $A(n,r,a,u)}function Jd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ir(n,r){var a=n.alternate;return a===null?(a=Wn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Vv(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function ph(n,r,a,u,f,m){var T=0;if(u=n,typeof n=="function")Jd(n)&&(T=1);else if(typeof n=="string")T=XR(n,a,ft.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case C:return n=Wn(31,a,r,f),n.elementType=C,n.lanes=m,n;case j:return Na(a.children,f,m,r);case z:T=8,f|=24;break;case O:return n=Wn(12,a,r,f|2),n.elementType=O,n.lanes=m,n;case at:return n=Wn(13,a,r,f),n.elementType=at,n.lanes=m,n;case lt:return n=Wn(19,a,r,f),n.elementType=lt,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case et:case Z:T=10;break t;case ot:T=9;break t;case rt:T=11;break t;case k:T=14;break t;case A:T=16,u=null;break t}T=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Wn(T,a,r,f),r.elementType=n,r.type=u,r.lanes=m,r}function Na(n,r,a,u){return n=Wn(7,n,u,r),n.lanes=a,n}function tm(n,r,a){return n=Wn(6,n,null,r),n.lanes=a,n}function em(n,r,a){return r=Wn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Uo=[],jo=0,gh=null,yh=0,di=[],mi=0,Da=null,xr=1,Or="";function Ma(n,r){Uo[jo++]=yh,Uo[jo++]=gh,gh=n,yh=r}function Pv(n,r,a){di[mi++]=xr,di[mi++]=Or,di[mi++]=Da,Da=n;var u=xr;n=Or;var f=32-Pe(u)-1;u&=~(1<<f),a+=1;var m=32-Pe(r)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,xr=1<<32-Pe(r)+f|a<<f|u,Or=m+n}else xr=1<<m|a<<f|u,Or=n}function nm(n){n.return!==null&&(Ma(n,1),Pv(n,1,0))}function im(n){for(;n===gh;)gh=Uo[--jo],Uo[jo]=null,yh=Uo[--jo],Uo[jo]=null;for(;n===Da;)Da=di[--mi],di[mi]=null,Or=di[--mi],di[mi]=null,xr=di[--mi],di[mi]=null}var Mn=null,Ce=null,re=!1,ka=null,$i=!1,rm=Error(s(519));function Va(n){var r=Error(s(418,""));throw pu(hi(r,n)),rm}function Lv(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Ee]=n,r[ne]=u,a){case"dialog":Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(a=0;a<ju.length;a++)Qt(ju[a],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"input":Qt("invalid",r),_a(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),So(r);break;case"select":Qt("invalid",r);break;case"textarea":Qt("invalid",r),Ea(r,u.value,u.defaultValue,u.children),So(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||tE(r.textContent,a)?(u.popover!=null&&(Qt("beforetoggle",r),Qt("toggle",r)),u.onScroll!=null&&Qt("scroll",r),u.onScrollEnd!=null&&Qt("scrollend",r),u.onClick!=null&&(r.onclick=Wh),r=!0):r=!1,r||Va(n)}function Uv(n){for(Mn=n.return;Mn;)switch(Mn.tag){case 5:case 13:$i=!1;return;case 27:case 3:$i=!0;return;default:Mn=Mn.return}}function du(n){if(n!==Mn)return!1;if(!re)return Uv(n),re=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Ep(n.type,n.memoizedProps)),a=!a),a&&Ce&&Va(n),Uv(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Ce=xi(n.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Ce=null}}else r===27?(r=Ce,Is(n.type)?(n=wp,wp=null,Ce=n):Ce=r):Ce=Mn?xi(n.stateNode.nextSibling):null;return!0}function mu(){Ce=Mn=null,re=!1}function jv(){var n=ka;return n!==null&&(Hn===null?Hn=n:Hn.push.apply(Hn,n),ka=null),n}function pu(n){ka===null?ka=[n]:ka.push(n)}var sm=Y(null),Pa=null,Nr=null;function ds(n,r,a){W(sm,r._currentValue),r._currentValue=a}function Dr(n){n._currentValue=sm.current,st(sm)}function am(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function om(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var D=0;D<r.length;D++)if(S.context===r[D]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),am(m.return,a,n),u||(T=null);break t}m=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),am(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function gu(n,r,a,u){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=f.type;Xn(f.pendingProps.value,T.value)||(n!==null?n.push(S):n=[S])}}else if(f===le.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Gu):n=[Gu])}f=f.return}n!==null&&om(r,n,a,u),r.flags|=262144}function vh(n){for(n=n.firstContext;n!==null;){if(!Xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function La(n){Pa=n,Nr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function _n(n){return Bv(Pa,n)}function _h(n,r){return Pa===null&&La(n),Bv(n,r)}function Bv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Nr===null){if(n===null)throw Error(s(308));Nr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Nr=Nr.next=r;return a}var YA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},XA=i.unstable_scheduleCallback,WA=i.unstable_NormalPriority,$e={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new YA,data:new Map,refCount:0}}function yu(n){n.refCount--,n.refCount===0&&XA(WA,function(){n.controller.abort()})}var vu=null,um=0,Bo=0,zo=null;function ZA(n,r){if(vu===null){var a=vu=[];um=0,Bo=hp(),zo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return um++,r.then(zv,zv),r}function zv(){if(--um===0&&vu!==null){zo!==null&&(zo.status="fulfilled");var n=vu;vu=null,Bo=0,zo=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function JA(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Hv=F.S;F.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZA(n,r),Hv!==null&&Hv(n,r)};var Ua=Y(null);function cm(){var n=Ua.current;return n!==null?n:ge.pooledCache}function Eh(n,r){r===null?W(Ua,Ua.current):W(Ua,r.pool)}function Fv(){var n=cm();return n===null?null:{parent:$e._currentValue,pool:n}}var _u=Error(s(460)),qv=Error(s(474)),Th=Error(s(542)),hm={then:function(){}};function Gv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bh(){}function Kv(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(bh,bh),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,$v(n),n;default:if(typeof r.status=="string")r.then(bh,bh);else{if(n=ge,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,$v(n),n}throw Eu=r,_u}}var Eu=null;function Qv(){if(Eu===null)throw Error(s(459));var n=Eu;return Eu=null,n}function $v(n){if(n===_u||n===Th)throw Error(s(483))}var ms=!1;function fm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dm(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ps(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function gs(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ue&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=mh(n),kv(n,null,a),r}return dh(n,u,r,a),mh(n)}function Tu(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,_e(n,a)}}function mm(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var pm=!1;function bu(){if(pm){var n=zo;if(n!==null)throw n}}function Su(n,r,a,u){pm=!1;var f=n.updateQueue;ms=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,K=D.next;D.next=null,T===null?m=K:T.next=K,T=D;var J=n.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==T&&(S===null?J.firstBaseUpdate=K:S.next=K,J.lastBaseUpdate=D))}if(m!==null){var nt=f.baseState;T=0,J=K=D=null,S=m;do{var Q=S.lane&-536870913,$=Q!==S.lane;if($?(Jt&Q)===Q:(u&Q)===Q){Q!==0&&Q===Bo&&(pm=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Nt=n,Rt=S;Q=r;var me=a;switch(Rt.tag){case 1:if(Nt=Rt.payload,typeof Nt=="function"){nt=Nt.call(me,nt,Q);break t}nt=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Rt.payload,Q=typeof Nt=="function"?Nt.call(me,nt,Q):Nt,Q==null)break t;nt=E({},nt,Q);break t;case 2:ms=!0}}Q=S.callback,Q!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[Q]:$.push(Q))}else $={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(K=J=$,D=nt):J=J.next=$,T|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);J===null&&(D=nt),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),ws|=T,n.lanes=T,n.memoizedState=nt}}function Yv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Xv(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Yv(a[n],r)}var Ho=Y(null),Sh=Y(0);function Wv(n,r){n=jr,W(Sh,n),W(Ho,r),jr=n|r.baseLanes}function gm(){W(Sh,jr),W(Ho,Ho.current)}function ym(){jr=Sh.current,st(Ho),st(Sh)}var ys=0,Bt=null,fe=null,je=null,wh=!1,Fo=!1,ja=!1,Ah=0,wu=0,qo=null,tR=0;function Me(){throw Error(s(321))}function vm(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Xn(n[a],r[a]))return!1;return!0}function _m(n,r,a,u,f,m){return ys=m,Bt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=n===null||n.memoizedState===null?k_:V_,ja=!1,m=a(u,f),ja=!1,Fo&&(m=Jv(r,a,u,f)),Zv(n),m}function Zv(n){F.H=Nh;var r=fe!==null&&fe.next!==null;if(ys=0,je=fe=Bt=null,wh=!1,wu=0,qo=null,r)throw Error(s(300));n===null||rn||(n=n.dependencies,n!==null&&vh(n)&&(rn=!0))}function Jv(n,r,a,u){Bt=n;var f=0;do{if(Fo&&(qo=null),wu=0,Fo=!1,25<=f)throw Error(s(301));if(f+=1,je=fe=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=oR,m=r(a,u)}while(Fo);return m}function eR(){var n=F.H,r=n.useState()[0];return r=typeof r.then=="function"?Au(r):r,n=n.useState()[0],(fe!==null?fe.memoizedState:null)!==n&&(Bt.flags|=1024),r}function Em(){var n=Ah!==0;return Ah=0,n}function Tm(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function bm(n){if(wh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}wh=!1}ys=0,je=fe=Bt=null,Fo=!1,wu=Ah=0,qo=null}function Bn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Bt.memoizedState=je=n:je=je.next=n,je}function Be(){if(fe===null){var n=Bt.alternate;n=n!==null?n.memoizedState:null}else n=fe.next;var r=je===null?Bt.memoizedState:je.next;if(r!==null)je=r,fe=n;else{if(n===null)throw Bt.alternate===null?Error(s(467)):Error(s(310));fe=n,n={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},je===null?Bt.memoizedState=je=n:je=je.next=n}return je}function Sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(n){var r=wu;return wu+=1,qo===null&&(qo=[]),n=Kv(qo,n,r),r=Bt,(je===null?r.memoizedState:je.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?k_:V_),n}function Rh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Au(n);if(n.$$typeof===Z)return _n(n)}throw Error(s(438,String(n)))}function wm(n){var r=null,a=Bt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Bt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Sm(),Bt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=M;return r.index++,a}function Mr(n,r){return typeof r=="function"?r(n):r}function Ch(n){var r=Be();return Am(r,fe,n)}function Am(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var S=T=null,D=null,K=r,J=!1;do{var nt=K.lane&-536870913;if(nt!==K.lane?(Jt&nt)===nt:(ys&nt)===nt){var Q=K.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),nt===Bo&&(J=!0);else if((ys&Q)===Q){K=K.next,Q===Bo&&(J=!0);continue}else nt={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(S=D=nt,T=m):D=D.next=nt,Bt.lanes|=Q,ws|=Q;nt=K.action,ja&&a(m,nt),m=K.hasEagerState?K.eagerState:a(m,nt)}else Q={lane:nt,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(S=D=Q,T=m):D=D.next=Q,Bt.lanes|=nt,ws|=nt;K=K.next}while(K!==null&&K!==r);if(D===null?T=m:D.next=S,!Xn(m,n.memoizedState)&&(rn=!0,J&&(a=zo,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Rm(n){var r=Be(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=n(m,T.action),T=T.next;while(T!==f);Xn(m,r.memoizedState)||(rn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,u]}function t_(n,r,a){var u=Bt,f=Be(),m=re;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!Xn((fe||f).memoizedState,a);T&&(f.memoizedState=a,rn=!0),f=f.queue;var S=i_.bind(null,u,f,n);if(Ru(2048,8,S,[n]),f.getSnapshot!==r||T||je!==null&&je.memoizedState.tag&1){if(u.flags|=2048,Go(9,Ih(),n_.bind(null,u,f,a,r),null),ge===null)throw Error(s(349));m||(ys&124)!==0||e_(u,r,a)}return a}function e_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Bt.updateQueue,r===null?(r=Sm(),Bt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function n_(n,r,a,u){r.value=a,r.getSnapshot=u,r_(r)&&s_(n)}function i_(n,r,a){return a(function(){r_(r)&&s_(n)})}function r_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Xn(n,a)}catch{return!0}}function s_(n){var r=Po(n,2);r!==null&&ni(r,n,2)}function Cm(n){var r=Bn();if(typeof n=="function"){var a=n;if(n=a(),ja){Ge(!0);try{a()}finally{Ge(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:n},r}function a_(n,r,a,u){return n.baseState=a,Am(n,fe,typeof u=="function"?u:Mr)}function nR(n,r,a,u,f){if(Oh(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};F.T!==null?a(!0):m.isTransition=!1,u(m),a=r.pending,a===null?(m.next=r.pending=m,o_(r,m)):(m.next=a.next,r.pending=a.next=m)}}function o_(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var m=F.T,T={};F.T=T;try{var S=a(f,u),D=F.S;D!==null&&D(T,S),l_(n,r,S)}catch(K){Im(n,r,K)}finally{F.T=m}}else try{m=a(f,u),l_(n,r,m)}catch(K){Im(n,r,K)}}function l_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){u_(n,r,u)},function(u){return Im(n,r,u)}):u_(n,r,a)}function u_(n,r,a){r.status="fulfilled",r.value=a,c_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,o_(n,a)))}function Im(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,c_(r),r=r.next;while(r!==u)}n.action=null}function c_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function h_(n,r){return r}function f_(n,r){if(re){var a=ge.formState;if(a!==null){t:{var u=Bt;if(re){if(Ce){e:{for(var f=Ce,m=$i;f.nodeType!==8;){if(!m){f=null;break e}if(f=xi(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ce=xi(f.nextSibling),u=f.data==="F!";break t}}Va(u)}u=!1}u&&(r=a[0])}}return a=Bn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h_,lastRenderedState:r},a.queue=u,a=N_.bind(null,Bt,u),u.dispatch=a,u=Cm(!1),m=Mm.bind(null,Bt,!1,u.queue),u=Bn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=nR.bind(null,Bt,f,m,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function d_(n){var r=Be();return m_(r,fe,n)}function m_(n,r,a){if(r=Am(n,r,h_)[0],n=Ch(Mr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Au(r)}catch(T){throw T===_u?Th:T}else u=r;r=Be();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Bt.flags|=2048,Go(9,Ih(),iR.bind(null,f,a),null)),[u,m,n]}function iR(n,r){n.action=r}function p_(n){var r=Be(),a=fe;if(a!==null)return m_(r,a,n);Be(),r=r.memoizedState,a=Be();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Go(n,r,a,u){return n={tag:n,create:a,deps:u,inst:r,next:null},r=Bt.updateQueue,r===null&&(r=Sm(),Bt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function Ih(){return{destroy:void 0,resource:void 0}}function g_(){return Be().memoizedState}function xh(n,r,a,u){var f=Bn();u=u===void 0?null:u,Bt.flags|=n,f.memoizedState=Go(1|r,Ih(),a,u)}function Ru(n,r,a,u){var f=Be();u=u===void 0?null:u;var m=f.memoizedState.inst;fe!==null&&u!==null&&vm(u,fe.memoizedState.deps)?f.memoizedState=Go(r,m,a,u):(Bt.flags|=n,f.memoizedState=Go(1|r,m,a,u))}function y_(n,r){xh(8390656,8,n,r)}function v_(n,r){Ru(2048,8,n,r)}function __(n,r){return Ru(4,2,n,r)}function E_(n,r){return Ru(4,4,n,r)}function T_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function b_(n,r,a){a=a!=null?a.concat([n]):null,Ru(4,4,T_.bind(null,r,n),a)}function xm(){}function S_(n,r){var a=Be();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&vm(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function w_(n,r){var a=Be();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&vm(r,u[1]))return u[0];if(u=n(),ja){Ge(!0);try{n()}finally{Ge(!1)}}return a.memoizedState=[u,r],u}function Om(n,r,a){return a===void 0||(ys&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=C0(),Bt.lanes|=n,ws|=n,a)}function A_(n,r,a,u){return Xn(a,r)?a:Ho.current!==null?(n=Om(n,a,u),Xn(n,r)||(rn=!0),n):(ys&42)===0?(rn=!0,n.memoizedState=a):(n=C0(),Bt.lanes|=n,ws|=n,r)}function R_(n,r,a,u,f){var m=ut.p;ut.p=m!==0&&8>m?m:8;var T=F.T,S={};F.T=S,Mm(n,!1,r,a);try{var D=f(),K=F.S;if(K!==null&&K(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=JA(D,u);Cu(n,r,J,ei(n))}else Cu(n,r,u,ei(n))}catch(nt){Cu(n,r,{then:function(){},status:"rejected",reason:nt},ei())}finally{ut.p=m,F.T=T}}function rR(){}function Nm(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=C_(n).queue;R_(n,f,r,dt,a===null?rR:function(){return I_(n),a(u)})}function C_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:dt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function I_(n){var r=C_(n).next.queue;Cu(n,r,{},ei())}function Dm(){return _n(Gu)}function x_(){return Be().memoizedState}function O_(){return Be().memoizedState}function sR(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=ei();n=ps(a);var u=gs(r,n,a);u!==null&&(ni(u,r,a),Tu(u,r,a)),r={cache:lm()},n.payload=r;return}r=r.return}}function aR(n,r,a){var u=ei();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Oh(n)?D_(r,a):(a=Zd(n,r,a,u),a!==null&&(ni(a,n,u),M_(a,r,u)))}function N_(n,r,a){var u=ei();Cu(n,r,a,u)}function Cu(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oh(n))D_(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,S=m(T,a);if(f.hasEagerState=!0,f.eagerState=S,Xn(S,T))return dh(n,r,f,0),ge===null&&fh(),!1}catch{}finally{}if(a=Zd(n,r,f,u),a!==null)return ni(a,n,u),M_(a,r,u),!0}return!1}function Mm(n,r,a,u){if(u={lane:2,revertLane:hp(),action:u,hasEagerState:!1,eagerState:null,next:null},Oh(n)){if(r)throw Error(s(479))}else r=Zd(n,a,u,2),r!==null&&ni(r,n,2)}function Oh(n){var r=n.alternate;return n===Bt||r!==null&&r===Bt}function D_(n,r){Fo=wh=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function M_(n,r,a){if((a&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,_e(n,a)}}var Nh={readContext:_n,use:Rh,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},k_={readContext:_n,use:Rh,useCallback:function(n,r){return Bn().memoizedState=[n,r===void 0?null:r],n},useContext:_n,useEffect:y_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,xh(4194308,4,T_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return xh(4194308,4,n,r)},useInsertionEffect:function(n,r){xh(4,2,n,r)},useMemo:function(n,r){var a=Bn();r=r===void 0?null:r;var u=n();if(ja){Ge(!0);try{n()}finally{Ge(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=Bn();if(a!==void 0){var f=a(r);if(ja){Ge(!0);try{a(r)}finally{Ge(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=aR.bind(null,Bt,n),[u.memoizedState,n]},useRef:function(n){var r=Bn();return n={current:n},r.memoizedState=n},useState:function(n){n=Cm(n);var r=n.queue,a=N_.bind(null,Bt,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:xm,useDeferredValue:function(n,r){var a=Bn();return Om(a,n,r)},useTransition:function(){var n=Cm(!1);return n=R_.bind(null,Bt,n.queue,!0,!1),Bn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Bt,f=Bn();if(re){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ge===null)throw Error(s(349));(Jt&124)!==0||e_(u,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,y_(i_.bind(null,u,m,n),[n]),u.flags|=2048,Go(9,Ih(),n_.bind(null,u,m,a,r),null),a},useId:function(){var n=Bn(),r=ge.identifierPrefix;if(re){var a=Or,u=xr;a=(u&~(1<<32-Pe(u)-1)).toString(32)+a,r="«"+r+"R"+a,a=Ah++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=tR++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Dm,useFormState:f_,useActionState:f_,useOptimistic:function(n){var r=Bn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Mm.bind(null,Bt,!0,a),a.dispatch=r,[n,r]},useMemoCache:wm,useCacheRefresh:function(){return Bn().memoizedState=sR.bind(null,Bt)}},V_={readContext:_n,use:Rh,useCallback:S_,useContext:_n,useEffect:v_,useImperativeHandle:b_,useInsertionEffect:__,useLayoutEffect:E_,useMemo:w_,useReducer:Ch,useRef:g_,useState:function(){return Ch(Mr)},useDebugValue:xm,useDeferredValue:function(n,r){var a=Be();return A_(a,fe.memoizedState,n,r)},useTransition:function(){var n=Ch(Mr)[0],r=Be().memoizedState;return[typeof n=="boolean"?n:Au(n),r]},useSyncExternalStore:t_,useId:x_,useHostTransitionStatus:Dm,useFormState:d_,useActionState:d_,useOptimistic:function(n,r){var a=Be();return a_(a,fe,n,r)},useMemoCache:wm,useCacheRefresh:O_},oR={readContext:_n,use:Rh,useCallback:S_,useContext:_n,useEffect:v_,useImperativeHandle:b_,useInsertionEffect:__,useLayoutEffect:E_,useMemo:w_,useReducer:Rm,useRef:g_,useState:function(){return Rm(Mr)},useDebugValue:xm,useDeferredValue:function(n,r){var a=Be();return fe===null?Om(a,n,r):A_(a,fe.memoizedState,n,r)},useTransition:function(){var n=Rm(Mr)[0],r=Be().memoizedState;return[typeof n=="boolean"?n:Au(n),r]},useSyncExternalStore:t_,useId:x_,useHostTransitionStatus:Dm,useFormState:p_,useActionState:p_,useOptimistic:function(n,r){var a=Be();return fe!==null?a_(a,fe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:wm,useCacheRefresh:O_},Ko=null,Iu=0;function Dh(n){var r=Iu;return Iu+=1,Ko===null&&(Ko=[]),Kv(Ko,n,r)}function xu(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Mh(n,r){throw r.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function P_(n){var r=n._init;return r(n._payload)}function L_(n){function r(H,B){if(n){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function a(H,B){if(!n)return null;for(;B!==null;)r(H,B),B=B.sibling;return null}function u(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=Ir(H,B),H.index=0,H.sibling=null,H}function m(H,B,G){return H.index=G,n?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=67108866,B):G):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function T(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function S(H,B,G,tt){return B===null||B.tag!==6?(B=tm(G,H.mode,tt),B.return=H,B):(B=f(B,G),B.return=H,B)}function D(H,B,G,tt){var vt=G.type;return vt===j?J(H,B,G.props.children,tt,G.key):B!==null&&(B.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&P_(vt)===B.type)?(B=f(B,G.props),xu(B,G),B.return=H,B):(B=ph(G.type,G.key,G.props,null,H.mode,tt),xu(B,G),B.return=H,B)}function K(H,B,G,tt){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=em(G,H.mode,tt),B.return=H,B):(B=f(B,G.children||[]),B.return=H,B)}function J(H,B,G,tt,vt){return B===null||B.tag!==7?(B=Na(G,H.mode,tt,vt),B.return=H,B):(B=f(B,G),B.return=H,B)}function nt(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=tm(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return G=ph(B.type,B.key,B.props,null,H.mode,G),xu(G,B),G.return=H,G;case N:return B=em(B,H.mode,G),B.return=H,B;case A:var tt=B._init;return B=tt(B._payload),nt(H,B,G)}if(kt(B)||U(B))return B=Na(B,H.mode,G,null),B.return=H,B;if(typeof B.then=="function")return nt(H,Dh(B),G);if(B.$$typeof===Z)return nt(H,_h(H,B),G);Mh(H,B)}return null}function Q(H,B,G,tt){var vt=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return vt!==null?null:S(H,B,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===vt?D(H,B,G,tt):null;case N:return G.key===vt?K(H,B,G,tt):null;case A:return vt=G._init,G=vt(G._payload),Q(H,B,G,tt)}if(kt(G)||U(G))return vt!==null?null:J(H,B,G,tt,null);if(typeof G.then=="function")return Q(H,B,Dh(G),tt);if(G.$$typeof===Z)return Q(H,B,_h(H,G),tt);Mh(H,G)}return null}function $(H,B,G,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return H=H.get(G)||null,S(B,H,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return H=H.get(tt.key===null?G:tt.key)||null,D(B,H,tt,vt);case N:return H=H.get(tt.key===null?G:tt.key)||null,K(B,H,tt,vt);case A:var Ft=tt._init;return tt=Ft(tt._payload),$(H,B,G,tt,vt)}if(kt(tt)||U(tt))return H=H.get(G)||null,J(B,H,tt,vt,null);if(typeof tt.then=="function")return $(H,B,G,Dh(tt),vt);if(tt.$$typeof===Z)return $(H,B,G,_h(B,tt),vt);Mh(B,tt)}return null}function Nt(H,B,G,tt){for(var vt=null,Ft=null,Et=B,It=B=0,an=null;Et!==null&&It<G.length;It++){Et.index>It?(an=Et,Et=null):an=Et.sibling;var ie=Q(H,Et,G[It],tt);if(ie===null){Et===null&&(Et=an);break}n&&Et&&ie.alternate===null&&r(H,Et),B=m(ie,B,It),Ft===null?vt=ie:Ft.sibling=ie,Ft=ie,Et=an}if(It===G.length)return a(H,Et),re&&Ma(H,It),vt;if(Et===null){for(;It<G.length;It++)Et=nt(H,G[It],tt),Et!==null&&(B=m(Et,B,It),Ft===null?vt=Et:Ft.sibling=Et,Ft=Et);return re&&Ma(H,It),vt}for(Et=u(Et);It<G.length;It++)an=$(Et,H,It,G[It],tt),an!==null&&(n&&an.alternate!==null&&Et.delete(an.key===null?It:an.key),B=m(an,B,It),Ft===null?vt=an:Ft.sibling=an,Ft=an);return n&&Et.forEach(function(Ms){return r(H,Ms)}),re&&Ma(H,It),vt}function Rt(H,B,G,tt){if(G==null)throw Error(s(151));for(var vt=null,Ft=null,Et=B,It=B=0,an=null,ie=G.next();Et!==null&&!ie.done;It++,ie=G.next()){Et.index>It?(an=Et,Et=null):an=Et.sibling;var Ms=Q(H,Et,ie.value,tt);if(Ms===null){Et===null&&(Et=an);break}n&&Et&&Ms.alternate===null&&r(H,Et),B=m(Ms,B,It),Ft===null?vt=Ms:Ft.sibling=Ms,Ft=Ms,Et=an}if(ie.done)return a(H,Et),re&&Ma(H,It),vt;if(Et===null){for(;!ie.done;It++,ie=G.next())ie=nt(H,ie.value,tt),ie!==null&&(B=m(ie,B,It),Ft===null?vt=ie:Ft.sibling=ie,Ft=ie);return re&&Ma(H,It),vt}for(Et=u(Et);!ie.done;It++,ie=G.next())ie=$(Et,H,It,ie.value,tt),ie!==null&&(n&&ie.alternate!==null&&Et.delete(ie.key===null?It:ie.key),B=m(ie,B,It),Ft===null?vt=ie:Ft.sibling=ie,Ft=ie);return n&&Et.forEach(function(lC){return r(H,lC)}),re&&Ma(H,It),vt}function me(H,B,G,tt){if(typeof G=="object"&&G!==null&&G.type===j&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var vt=G.key;B!==null;){if(B.key===vt){if(vt=G.type,vt===j){if(B.tag===7){a(H,B.sibling),tt=f(B,G.props.children),tt.return=H,H=tt;break t}}else if(B.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&P_(vt)===B.type){a(H,B.sibling),tt=f(B,G.props),xu(tt,G),tt.return=H,H=tt;break t}a(H,B);break}else r(H,B);B=B.sibling}G.type===j?(tt=Na(G.props.children,H.mode,tt,G.key),tt.return=H,H=tt):(tt=ph(G.type,G.key,G.props,null,H.mode,tt),xu(tt,G),tt.return=H,H=tt)}return T(H);case N:t:{for(vt=G.key;B!==null;){if(B.key===vt)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){a(H,B.sibling),tt=f(B,G.children||[]),tt.return=H,H=tt;break t}else{a(H,B);break}else r(H,B);B=B.sibling}tt=em(G,H.mode,tt),tt.return=H,H=tt}return T(H);case A:return vt=G._init,G=vt(G._payload),me(H,B,G,tt)}if(kt(G))return Nt(H,B,G,tt);if(U(G)){if(vt=U(G),typeof vt!="function")throw Error(s(150));return G=vt.call(G),Rt(H,B,G,tt)}if(typeof G.then=="function")return me(H,B,Dh(G),tt);if(G.$$typeof===Z)return me(H,B,_h(H,G),tt);Mh(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(a(H,B.sibling),tt=f(B,G),tt.return=H,H=tt):(a(H,B),tt=tm(G,H.mode,tt),tt.return=H,H=tt),T(H)):a(H,B)}return function(H,B,G,tt){try{Iu=0;var vt=me(H,B,G,tt);return Ko=null,vt}catch(Et){if(Et===_u||Et===Th)throw Et;var Ft=Wn(29,Et,null,H.mode);return Ft.lanes=tt,Ft.return=H,Ft}finally{}}}var Qo=L_(!0),U_=L_(!1),pi=Y(null),Yi=null;function vs(n){var r=n.alternate;W(Ye,Ye.current&1),W(pi,n),Yi===null&&(r===null||Ho.current!==null||r.memoizedState!==null)&&(Yi=n)}function j_(n){if(n.tag===22){if(W(Ye,Ye.current),W(pi,n),Yi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Yi=n)}}else _s()}function _s(){W(Ye,Ye.current),W(pi,pi.current)}function kr(n){st(pi),Yi===n&&(Yi=null),st(Ye)}var Ye=Y(0);function kh(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Sp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function km(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:E({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Vm={enqueueSetState:function(n,r,a){n=n._reactInternals;var u=ei(),f=ps(u);f.payload=r,a!=null&&(f.callback=a),r=gs(n,f,u),r!==null&&(ni(r,n,u),Tu(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=ei(),f=ps(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=gs(n,f,u),r!==null&&(ni(r,n,u),Tu(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=ei(),u=ps(a);u.tag=2,r!=null&&(u.callback=r),r=gs(n,u,a),r!==null&&(ni(r,n,a),Tu(r,n,a))}};function B_(n,r,a,u,f,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,T):r.prototype&&r.prototype.isPureReactComponent?!hu(a,u)||!hu(f,m):!0}function z_(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&Vm.enqueueReplaceState(r,r.state,null)}function Ba(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Vh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function H_(n){Vh(n)}function F_(n){console.error(n)}function q_(n){Vh(n)}function Ph(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function G_(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Pm(n,r,a){return a=ps(a),a.tag=3,a.payload={element:null},a.callback=function(){Ph(n,r)},a}function K_(n){return n=ps(n),n.tag=3,n}function Q_(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){G_(r,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){G_(r,a,u),typeof f!="function"&&(As===null?As=new Set([this]):As.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function lR(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&gu(r,a,f,!0),a=pi.current,a!==null){switch(a.tag){case 13:return Yi===null?ap():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===hm?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),lp(n,u,f)),!1;case 22:return a.flags|=65536,u===hm?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),lp(n,u,f)),!1}throw Error(s(435,a.tag))}return lp(n,u,f),ap(),!1}if(re)return r=pi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==rm&&(n=Error(s(422),{cause:u}),pu(hi(n,a)))):(u!==rm&&(r=Error(s(423),{cause:u}),pu(hi(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=hi(u,a),f=Pm(n.stateNode,u,f),mm(n,f),Ie!==4&&(Ie=2)),!1;var m=Error(s(520),{cause:u});if(m=hi(m,a),Pu===null?Pu=[m]:Pu.push(m),Ie!==4&&(Ie=2),r===null)return!0;u=hi(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Pm(a.stateNode,u,n),mm(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(As===null||!As.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=K_(f),Q_(f,n,a,u),mm(a,f),!1}a=a.return}while(a!==null);return!1}var $_=Error(s(461)),rn=!1;function fn(n,r,a,u){r.child=n===null?U_(r,null,a,u):Qo(r,n.child,a,u)}function Y_(n,r,a,u,f){a=a.render;var m=r.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return La(r),u=_m(n,r,a,T,m,f),S=Em(),n!==null&&!rn?(Tm(n,r,f),Vr(n,r,f)):(re&&S&&nm(r),r.flags|=1,fn(n,r,u,f),r.child)}function X_(n,r,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!Jd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,W_(n,r,m,u,f)):(n=ph(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!qm(n,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:hu,a(T,u)&&n.ref===r.ref)return Vr(n,r,f)}return r.flags|=1,n=Ir(m,u),n.ref=r.ref,n.return=r,r.child=n}function W_(n,r,a,u,f){if(n!==null){var m=n.memoizedProps;if(hu(m,u)&&n.ref===r.ref)if(rn=!1,r.pendingProps=u=m,qm(n,f))(n.flags&131072)!==0&&(rn=!0);else return r.lanes=n.lanes,Vr(n,r,f)}return Lm(n,r,a,u,f)}function Z_(n,r,a){var u=r.pendingProps,f=u.children,m=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=m!==null?m.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return J_(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Eh(r,m!==null?m.cachePool:null),m!==null?Wv(r,m):gm(),j_(r);else return r.lanes=r.childLanes=536870912,J_(n,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(Eh(r,m.cachePool),Wv(r,m),_s(),r.memoizedState=null):(n!==null&&Eh(r,null),gm(),_s());return fn(n,r,f,a),r.child}function J_(n,r,a,u){var f=cm();return f=f===null?null:{parent:$e._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Eh(r,null),gm(),j_(r),n!==null&&gu(n,r,u,!0),null}function Lh(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Lm(n,r,a,u,f){return La(r),a=_m(n,r,a,u,void 0,f),u=Em(),n!==null&&!rn?(Tm(n,r,f),Vr(n,r,f)):(re&&u&&nm(r),r.flags|=1,fn(n,r,a,f),r.child)}function t0(n,r,a,u,f,m){return La(r),r.updateQueue=null,a=Jv(r,u,a,f),Zv(n),u=Em(),n!==null&&!rn?(Tm(n,r,m),Vr(n,r,m)):(re&&u&&nm(r),r.flags|=1,fn(n,r,a,m),r.child)}function e0(n,r,a,u,f){if(La(r),r.stateNode===null){var m=Lo,T=a.contextType;typeof T=="object"&&T!==null&&(m=_n(T)),m=new a(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Vm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},fm(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?_n(T):Lo,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(km(r,a,T,u),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Vm.enqueueReplaceState(m,m.state,null),Su(r,u,m,f),bu(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var S=r.memoizedProps,D=Ba(a,S);m.props=D;var K=m.context,J=a.contextType;T=Lo,typeof J=="object"&&J!==null&&(T=_n(J));var nt=a.getDerivedStateFromProps;J=typeof nt=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||K!==T)&&z_(r,m,u,T),ms=!1;var Q=r.memoizedState;m.state=Q,Su(r,u,m,f),bu(),K=r.memoizedState,S||Q!==K||ms?(typeof nt=="function"&&(km(r,a,nt,u),K=r.memoizedState),(D=ms||B_(r,a,D,u,Q,K,T))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),m.props=u,m.state=K,m.context=T,u=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,dm(n,r),T=r.memoizedProps,J=Ba(a,T),m.props=J,nt=r.pendingProps,Q=m.context,K=a.contextType,D=Lo,typeof K=="object"&&K!==null&&(D=_n(K)),S=a.getDerivedStateFromProps,(K=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==nt||Q!==D)&&z_(r,m,u,D),ms=!1,Q=r.memoizedState,m.state=Q,Su(r,u,m,f),bu();var $=r.memoizedState;T!==nt||Q!==$||ms||n!==null&&n.dependencies!==null&&vh(n.dependencies)?(typeof S=="function"&&(km(r,a,S,u),$=r.memoizedState),(J=ms||B_(r,a,J,u,Q,$,D)||n!==null&&n.dependencies!==null&&vh(n.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,$,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,$,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),m.props=u,m.state=$,m.context=D,u=J):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,Lh(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=Qo(r,n.child,null,f),r.child=Qo(r,null,a,f)):fn(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Vr(n,r,f),n}function n0(n,r,a,u){return mu(),r.flags|=256,fn(n,r,a,u),r.child}var Um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(n){return{baseLanes:n,cachePool:Fv()}}function Bm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=gi),n}function i0(n,r,a){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Ye.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(re){if(f?vs(r):_s(),re){var S=Ce,D;if(D=S){t:{for(D=S,S=$i;D.nodeType!==8;){if(!S){S=null;break t}if(D=xi(D.nextSibling),D===null){S=null;break t}}S=D}S!==null?(r.memoizedState={dehydrated:S,treeContext:Da!==null?{id:xr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},D=Wn(18,null,null,0),D.stateNode=S,D.return=r,r.child=D,Mn=r,Ce=null,D=!0):D=!1}D||Va(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Sp(S)?r.lanes=32:r.lanes=536870912,null;kr(r)}return S=u.children,u=u.fallback,f?(_s(),f=r.mode,S=Uh({mode:"hidden",children:S},f),u=Na(u,f,a,null),S.return=r,u.return=r,S.sibling=u,r.child=S,f=r.child,f.memoizedState=jm(a),f.childLanes=Bm(n,T,a),r.memoizedState=Um,u):(vs(r),zm(r,S))}if(D=n.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(m)r.flags&256?(vs(r),r.flags&=-257,r=Hm(n,r,a)):r.memoizedState!==null?(_s(),r.child=n.child,r.flags|=128,r=null):(_s(),f=u.fallback,S=r.mode,u=Uh({mode:"visible",children:u.children},S),f=Na(f,S,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Qo(r,n.child,null,a),u=r.child,u.memoizedState=jm(a),u.childLanes=Bm(n,T,a),r.memoizedState=Um,r=f);else if(vs(r),Sp(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(s(419)),u.stack="",u.digest=T,pu({value:u,source:null,stack:null}),r=Hm(n,r,a)}else if(rn||gu(n,r,a,!1),T=(a&n.childLanes)!==0,rn||T){if(T=ge,T!==null&&(u=a&-a,u=(u&42)!==0?1:ye(u),u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Po(n,u),ni(T,n,u),$_;S.data==="$?"||ap(),r=Hm(n,r,a)}else S.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,Ce=xi(S.nextSibling),Mn=r,re=!0,ka=null,$i=!1,n!==null&&(di[mi++]=xr,di[mi++]=Or,di[mi++]=Da,xr=n.id,Or=n.overflow,Da=r),r=zm(r,u.children),r.flags|=4096);return r}return f?(_s(),f=u.fallback,S=r.mode,D=n.child,K=D.sibling,u=Ir(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,K!==null?f=Ir(K,f):(f=Na(f,S,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,S=n.child.memoizedState,S===null?S=jm(a):(D=S.cachePool,D!==null?(K=$e._currentValue,D=D.parent!==K?{parent:K,pool:K}:D):D=Fv(),S={baseLanes:S.baseLanes|a,cachePool:D}),f.memoizedState=S,f.childLanes=Bm(n,T,a),r.memoizedState=Um,u):(vs(r),a=n.child,n=a.sibling,a=Ir(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function zm(n,r){return r=Uh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Uh(n,r){return n=Wn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Hm(n,r,a){return Qo(r,n.child,null,a),n=zm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function r0(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),am(n.return,r,a)}function Fm(n,r,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function s0(n,r,a){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if(fn(n,r,u.children,a),u=Ye.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&r0(n,a,r);else if(n.tag===19)r0(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(W(Ye,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&kh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Fm(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&kh(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Fm(r,!0,a,null,m);break;case"together":Fm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Vr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ws|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(gu(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Ir(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Ir(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function qm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&vh(n)))}function uR(n,r,a){switch(r.tag){case 3:qt(r,r.stateNode.containerInfo),ds(r,$e,n.memoizedState.cache),mu();break;case 27:case 5:Ne(r);break;case 4:qt(r,r.stateNode.containerInfo);break;case 10:ds(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(vs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?i0(n,r,a):(vs(r),n=Vr(n,r,a),n!==null?n.sibling:null);vs(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(gu(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return s0(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(Ye,Ye.current),u)break;return null;case 22:case 23:return r.lanes=0,Z_(n,r,a);case 24:ds(r,$e,n.memoizedState.cache)}return Vr(n,r,a)}function a0(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)rn=!0;else{if(!qm(n,a)&&(r.flags&128)===0)return rn=!1,uR(n,r,a);rn=(n.flags&131072)!==0}else rn=!1,re&&(r.flags&1048576)!==0&&Pv(r,yh,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Jd(u)?(n=Ba(u,n),r.tag=1,r=e0(null,r,u,n,a)):(r.tag=0,r=Lm(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===rt){r.tag=11,r=Y_(null,r,u,n,a);break t}else if(f===k){r.tag=14,r=X_(null,r,u,n,a);break t}}throw r=Tt(u)||u,Error(s(306,r,""))}}return r;case 0:return Lm(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=Ba(u,r.pendingProps),e0(n,r,u,f,a);case 3:t:{if(qt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,dm(n,r),Su(r,u,null,a);var T=r.memoizedState;if(u=T.cache,ds(r,$e,u),u!==m.cache&&om(r,[$e],a,!0),bu(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=n0(n,r,u,a);break t}else if(u!==f){f=hi(Error(s(424)),r),pu(f),r=n0(n,r,u,a);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ce=xi(n.firstChild),Mn=r,re=!0,ka=null,$i=!0,a=U_(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(mu(),u===f){r=Vr(n,r,a);break t}fn(n,r,u,a)}r=r.child}return r;case 26:return Lh(n,r),n===null?(a=cE(r.type,null,r.pendingProps,null))?r.memoizedState=a:re||(a=r.type,n=r.pendingProps,u=Zh(pt.current).createElement(a),u[Ee]=r,u[ne]=n,mn(u,a,n),De(u),r.stateNode=u):r.memoizedState=cE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ne(r),n===null&&re&&(u=r.stateNode=oE(r.type,r.pendingProps,pt.current),Mn=r,$i=!0,f=Ce,Is(r.type)?(wp=f,Ce=xi(u.firstChild)):Ce=f),fn(n,r,r.pendingProps.children,a),Lh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&re&&((f=u=Ce)&&(u=LR(u,r.type,r.pendingProps,$i),u!==null?(r.stateNode=u,Mn=r,Ce=xi(u.firstChild),$i=!1,f=!0):f=!1),f||Va(r)),Ne(r),f=r.type,m=r.pendingProps,T=n!==null?n.memoizedProps:null,u=m.children,Ep(f,m)?u=null:T!==null&&Ep(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=_m(n,r,eR,null,null,a),Gu._currentValue=f),Lh(n,r),fn(n,r,u,a),r.child;case 6:return n===null&&re&&((n=a=Ce)&&(a=UR(a,r.pendingProps,$i),a!==null?(r.stateNode=a,Mn=r,Ce=null,n=!0):n=!1),n||Va(r)),null;case 13:return i0(n,r,a);case 4:return qt(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Qo(r,null,u,a):fn(n,r,u,a),r.child;case 11:return Y_(n,r,r.type,r.pendingProps,a);case 7:return fn(n,r,r.pendingProps,a),r.child;case 8:return fn(n,r,r.pendingProps.children,a),r.child;case 12:return fn(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,ds(r,r.type,u.value),fn(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,La(r),f=_n(f),u=u(f),r.flags|=1,fn(n,r,u,a),r.child;case 14:return X_(n,r,r.type,r.pendingProps,a);case 15:return W_(n,r,r.type,r.pendingProps,a);case 19:return s0(n,r,a);case 31:return u=r.pendingProps,a=r.mode,u={mode:u.mode,children:u.children},n===null?(a=Uh(u,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Ir(n.child,u),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Z_(n,r,a);case 24:return La(r),u=_n($e),n===null?(f=cm(),f===null&&(f=ge,m=lm(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:u,cache:f},fm(r),ds(r,$e,f)):((n.lanes&a)!==0&&(dm(n,r),Su(r,null,null,a),bu()),f=n.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ds(r,$e,u)):(u=m.cache,ds(r,$e,u),u!==f.cache&&om(r,[$e],a,!0))),fn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Pr(n){n.flags|=4}function o0(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!pE(r)){if(r=pi.current,r!==null&&((Jt&4194048)===Jt?Yi!==null:(Jt&62914560)!==Jt&&(Jt&536870912)===0||r!==Yi))throw Eu=hm,qv;n.flags|=8192}}function jh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?ma():536870912,n.lanes|=r,Wo|=r)}function Ou(n,r){if(!re)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Se(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function cR(n,r,a){var u=r.pendingProps;switch(im(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(r),null;case 1:return Se(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Dr($e),Ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(du(r)?Pr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jv())),Se(r),null;case 26:return a=r.memoizedState,n===null?(Pr(r),a!==null?(Se(r),o0(r,a)):(Se(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Pr(r),Se(r),o0(r,a)):(Se(r),r.flags&=-16777217):(n.memoizedProps!==u&&Pr(r),Se(r),r.flags&=-16777217),null;case 27:vn(r),a=pt.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Pr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Se(r),null}n=ft.current,du(r)?Lv(r):(n=oE(f,u,a),r.stateNode=n,Pr(r))}return Se(r),null;case 5:if(vn(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Pr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Se(r),null}if(n=ft.current,du(r))Lv(r);else{switch(f=Zh(pt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Ee]=r,n[ne]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;t:switch(mn(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Pr(r)}}return Se(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Pr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=pt.current,du(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Ee]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||tE(n.nodeValue,a)),n||Va(r)}else n=Zh(n).createTextNode(u),n[Ee]=r,r.stateNode=n}return Se(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=du(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ee]=r}else mu(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Se(r),f=!1}else f=jv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(kr(r),r):(kr(r),null)}if(kr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),jh(r,r.updateQueue),Se(r),null;case 4:return Ae(),n===null&&pp(r.stateNode.containerInfo),Se(r),null;case 10:return Dr(r.type),Se(r),null;case 19:if(st(Ye),f=r.memoizedState,f===null)return Se(r),null;if(u=(r.flags&128)!==0,m=f.rendering,m===null)if(u)Ou(f,!1);else{if(Ie!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=kh(n),m!==null){for(r.flags|=128,Ou(f,!1),n=m.updateQueue,r.updateQueue=n,jh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Vv(a,n),a=a.sibling;return W(Ye,Ye.current&1|2),r.child}n=n.sibling}f.tail!==null&&ve()>Hh&&(r.flags|=128,u=!0,Ou(f,!1),r.lanes=4194304)}else{if(!u)if(n=kh(m),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,jh(r,n),Ou(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!re)return Se(r),null}else 2*ve()-f.renderingStartTime>Hh&&a!==536870912&&(r.flags|=128,u=!0,Ou(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=ve(),r.sibling=null,n=Ye.current,W(Ye,u?n&1|2:n&1),r):(Se(r),null);case 22:case 23:return kr(r),ym(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Se(r),r.subtreeFlags&6&&(r.flags|=8192)):Se(r),a=r.updateQueue,a!==null&&jh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&st(Ua),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Dr($e),Se(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function hR(n,r){switch(im(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Dr($e),Ae(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return vn(r),null;case 13:if(kr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));mu()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return st(Ye),null;case 4:return Ae(),null;case 10:return Dr(r.type),null;case 22:case 23:return kr(r),ym(),n!==null&&st(Ua),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Dr($e),null;case 25:return null;default:return null}}function l0(n,r){switch(im(r),r.tag){case 3:Dr($e),Ae();break;case 26:case 27:case 5:vn(r);break;case 4:Ae();break;case 13:kr(r);break;case 19:st(Ye);break;case 10:Dr(r.type);break;case 22:case 23:kr(r),ym(),n!==null&&st(Ua);break;case 24:Dr($e)}}function Nu(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,T=a.inst;u=m(),T.destroy=u}a=a.next}while(a!==f)}}catch(S){pe(r,r.return,S)}}function Es(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var D=a,K=S;try{K()}catch(J){pe(f,D,J)}}}u=u.next}while(u!==m)}}catch(J){pe(r,r.return,J)}}function u0(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Xv(r,a)}catch(u){pe(n,n.return,u)}}}function c0(n,r,a){a.props=Ba(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){pe(n,r,u)}}function Du(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(f){pe(n,r,f)}}function Xi(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){pe(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){pe(n,r,f)}else a.current=null}function h0(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){pe(n,n.return,f)}}function Gm(n,r,a){try{var u=n.stateNode;DR(u,n.type,a,r),u[ne]=r}catch(f){pe(n,n.return,f)}}function f0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Is(n.type)||n.tag===4}function Km(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||f0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Is(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Qm(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Wh));else if(u!==4&&(u===27&&Is(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Qm(n,r,a),n=n.sibling;n!==null;)Qm(n,r,a),n=n.sibling}function Bh(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&(u===27&&Is(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Bh(n,r,a),n=n.sibling;n!==null;)Bh(n,r,a),n=n.sibling}function d0(n){var r=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);mn(r,u,a),r[Ee]=n,r[ne]=a}catch(m){pe(n,n.return,m)}}var Lr=!1,ke=!1,$m=!1,m0=typeof WeakSet=="function"?WeakSet:Set,sn=null;function fR(n,r){if(n=n.containerInfo,vp=sf,n=Av(n),Kd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,S=-1,D=-1,K=0,J=0,nt=n,Q=null;e:for(;;){for(var $;nt!==a||f!==0&&nt.nodeType!==3||(S=T+f),nt!==m||u!==0&&nt.nodeType!==3||(D=T+u),nt.nodeType===3&&(T+=nt.nodeValue.length),($=nt.firstChild)!==null;)Q=nt,nt=$;for(;;){if(nt===n)break e;if(Q===a&&++K===f&&(S=T),Q===m&&++J===u&&(D=T),($=nt.nextSibling)!==null)break;nt=Q,Q=nt.parentNode}nt=$}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(_p={focusedElem:n,selectionRange:a},sf=!1,sn=r;sn!==null;)if(r=sn,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,sn=n;else for(;sn!==null;){switch(r=sn,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var Nt=Ba(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(Nt,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Rt){pe(a,a.return,Rt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)bp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,sn=n;break}sn=r.return}}function p0(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Ts(n,a),u&4&&Nu(5,a);break;case 1:if(Ts(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){pe(a,a.return,T)}else{var f=Ba(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){pe(a,a.return,T)}}u&64&&u0(a),u&512&&Du(a,a.return);break;case 3:if(Ts(n,a),u&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Xv(n,r)}catch(T){pe(a,a.return,T)}}break;case 27:r===null&&u&4&&d0(a);case 26:case 5:Ts(n,a),r===null&&u&4&&h0(a),u&512&&Du(a,a.return);break;case 12:Ts(n,a);break;case 13:Ts(n,a),u&4&&v0(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=TR.bind(null,a),jR(n,a))));break;case 22:if(u=a.memoizedState!==null||Lr,!u){r=r!==null&&r.memoizedState!==null||ke,f=Lr;var m=ke;Lr=u,(ke=r)&&!m?bs(n,a,(a.subtreeFlags&8772)!==0):Ts(n,a),Lr=f,ke=m}break;case 30:break;default:Ts(n,a)}}function g0(n){var r=n.alternate;r!==null&&(n.alternate=null,g0(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&us(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var be=null,zn=!1;function Ur(n,r,a){for(a=a.child;a!==null;)y0(n,r,a),a=a.sibling}function y0(n,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(_t,a)}catch{}switch(a.tag){case 26:ke||Xi(a,r),Ur(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ke||Xi(a,r);var u=be,f=zn;Is(a.type)&&(be=a.stateNode,zn=!1),Ur(n,r,a),zu(a.stateNode),be=u,zn=f;break;case 5:ke||Xi(a,r);case 6:if(u=be,f=zn,be=null,Ur(n,r,a),be=u,zn=f,be!==null)if(zn)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(a.stateNode)}catch(m){pe(a,r,m)}else try{be.removeChild(a.stateNode)}catch(m){pe(a,r,m)}break;case 18:be!==null&&(zn?(n=be,sE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Yu(n)):sE(be,a.stateNode));break;case 4:u=be,f=zn,be=a.stateNode.containerInfo,zn=!0,Ur(n,r,a),be=u,zn=f;break;case 0:case 11:case 14:case 15:ke||Es(2,a,r),ke||Es(4,a,r),Ur(n,r,a);break;case 1:ke||(Xi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&c0(a,r,u)),Ur(n,r,a);break;case 21:Ur(n,r,a);break;case 22:ke=(u=ke)||a.memoizedState!==null,Ur(n,r,a),ke=u;break;default:Ur(n,r,a)}}function v0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yu(n)}catch(a){pe(r,r.return,a)}}function dR(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new m0),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new m0),r;default:throw Error(s(435,n.tag))}}function Ym(n,r){var a=dR(n);r.forEach(function(u){var f=bR.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Zn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(Is(S.type)){be=S.stateNode,zn=!1;break t}break;case 5:be=S.stateNode,zn=!1;break t;case 3:case 4:be=S.stateNode.containerInfo,zn=!0;break t}S=S.return}if(be===null)throw Error(s(160));y0(m,T,f),be=null,zn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)_0(r,n),r=r.sibling}var Ii=null;function _0(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Zn(r,n),Jn(n),u&4&&(Es(3,n,n.return),Nu(3,n),Es(5,n,n.return));break;case 1:Zn(r,n),Jn(n),u&512&&(ke||a===null||Xi(a,a.return)),u&64&&Lr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Ii;if(Zn(r,n),Jn(n),u&512&&(ke||a===null||Xi(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){t:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[pa]||m[Ee]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),mn(m,u,a),m[Ee]=n,De(m),u=m;break t;case"link":var T=dE("link","href",f).get(u+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break e}}m=f.createElement(u),mn(m,u,a),f.head.appendChild(m);break;case"meta":if(T=dE("meta","content",f).get(u+(a.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break e}}m=f.createElement(u),mn(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Ee]=n,De(m),u=m}n.stateNode=u}else mE(f,n.type,n.stateNode);else n.stateNode=fE(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?mE(f,n.type,n.stateNode):fE(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Gm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Zn(r,n),Jn(n),u&512&&(ke||a===null||Xi(a,a.return)),a!==null&&u&4&&Gm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Zn(r,n),Jn(n),u&512&&(ke||a===null||Xi(a,a.return)),n.flags&32){f=n.stateNode;try{oi(f,"")}catch($){pe(n,n.return,$)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Gm(n,f,a!==null?a.memoizedProps:f)),u&1024&&($m=!0);break;case 6:if(Zn(r,n),Jn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch($){pe(n,n.return,$)}}break;case 3:if(ef=null,f=Ii,Ii=Jh(r.containerInfo),Zn(r,n),Ii=f,Jn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Yu(r.containerInfo)}catch($){pe(n,n.return,$)}$m&&($m=!1,E0(n));break;case 4:u=Ii,Ii=Jh(n.stateNode.containerInfo),Zn(r,n),Jn(n),Ii=u;break;case 12:Zn(r,n),Jn(n);break;case 13:Zn(r,n),Jn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ep=ve()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ym(n,u)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,K=Lr,J=ke;if(Lr=K||f,ke=J||D,Zn(r,n),ke=J,Lr=K,Jn(n),u&8192)t:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||Lr||ke||za(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(m=D.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=D.stateNode;var nt=D.memoizedProps.style,Q=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch($){pe(D,D.return,$)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch($){pe(D,D.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Ym(n,a))));break;case 19:Zn(r,n),Jn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ym(n,u)));break;case 30:break;case 21:break;default:Zn(r,n),Jn(n)}}function Jn(n){var r=n.flags;if(r&2){try{for(var a,u=n.return;u!==null;){if(f0(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Km(n);Bh(n,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(oi(T,""),a.flags&=-33);var S=Km(n);Bh(n,S,T);break;case 3:case 4:var D=a.stateNode.containerInfo,K=Km(n);Qm(n,K,D);break;default:throw Error(s(161))}}catch(J){pe(n,n.return,J)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function E0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;E0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ts(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)p0(n,r.alternate,r),r=r.sibling}function za(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Es(4,r,r.return),za(r);break;case 1:Xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&c0(r,r.return,a),za(r);break;case 27:zu(r.stateNode);case 26:case 5:Xi(r,r.return),za(r);break;case 22:r.memoizedState===null&&za(r);break;case 30:za(r);break;default:za(r)}n=n.sibling}}function bs(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:bs(f,m,a),Nu(4,m);break;case 1:if(bs(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){pe(u,u.return,K)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Yv(D[f],S)}catch(K){pe(u,u.return,K)}}a&&T&64&&u0(m),Du(m,m.return);break;case 27:d0(m);case 26:case 5:bs(f,m,a),a&&u===null&&T&4&&h0(m),Du(m,m.return);break;case 12:bs(f,m,a);break;case 13:bs(f,m,a),a&&T&4&&v0(f,m);break;case 22:m.memoizedState===null&&bs(f,m,a),Du(m,m.return);break;case 30:break;default:bs(f,m,a)}r=r.sibling}}function Xm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&yu(a))}function Wm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yu(n))}function Wi(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)T0(n,r,a,u),r=r.sibling}function T0(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(n,r,a,u),f&2048&&Nu(9,r);break;case 1:Wi(n,r,a,u);break;case 3:Wi(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yu(n)));break;case 12:if(f&2048){Wi(n,r,a,u),n=r.stateNode;try{var m=r.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){pe(r,r.return,D)}}else Wi(n,r,a,u);break;case 13:Wi(n,r,a,u);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?Wi(n,r,a,u):Mu(n,r):m._visibility&2?Wi(n,r,a,u):(m._visibility|=2,$o(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&Xm(T,r);break;case 24:Wi(n,r,a,u),f&2048&&Wm(r.alternate,r);break;default:Wi(n,r,a,u)}}function $o(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,T=r,S=a,D=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:$o(m,T,S,D,f),Nu(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?$o(m,T,S,D,f):Mu(m,T):(J._visibility|=2,$o(m,T,S,D,f)),f&&K&2048&&Xm(T.alternate,T);break;case 24:$o(m,T,S,D,f),f&&K&2048&&Wm(T.alternate,T);break;default:$o(m,T,S,D,f)}r=r.sibling}}function Mu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Mu(a,u),f&2048&&Xm(u.alternate,u);break;case 24:Mu(a,u),f&2048&&Wm(u.alternate,u);break;default:Mu(a,u)}r=r.sibling}}var ku=8192;function Yo(n){if(n.subtreeFlags&ku)for(n=n.child;n!==null;)b0(n),n=n.sibling}function b0(n){switch(n.tag){case 26:Yo(n),n.flags&ku&&n.memoizedState!==null&&ZR(Ii,n.memoizedState,n.memoizedProps);break;case 5:Yo(n);break;case 3:case 4:var r=Ii;Ii=Jh(n.stateNode.containerInfo),Yo(n),Ii=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=ku,ku=16777216,Yo(n),ku=r):Yo(n));break;default:Yo(n)}}function S0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Vu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];sn=u,A0(u,n)}S0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)w0(n),n=n.sibling}function w0(n){switch(n.tag){case 0:case 11:case 15:Vu(n),n.flags&2048&&Es(9,n,n.return);break;case 3:Vu(n);break;case 12:Vu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,zh(n)):Vu(n);break;default:Vu(n)}}function zh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];sn=u,A0(u,n)}S0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Es(8,r,r.return),zh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,zh(r));break;default:zh(r)}n=n.sibling}}function A0(n,r){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:Es(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yu(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,sn=u;else t:for(a=n;sn!==null;){u=sn;var f=u.sibling,m=u.return;if(g0(u),u===a){sn=null;break t}if(f!==null){f.return=m,sn=f;break t}sn=m}}}var mR={getCacheForType:function(n){var r=_n($e),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},pR=typeof WeakMap=="function"?WeakMap:Map,ue=0,ge=null,Kt=null,Jt=0,ce=0,ti=null,Ss=!1,Xo=!1,Zm=!1,jr=0,Ie=0,ws=0,Ha=0,Jm=0,gi=0,Wo=0,Pu=null,Hn=null,tp=!1,ep=0,Hh=1/0,Fh=null,As=null,dn=0,Rs=null,Zo=null,Jo=0,np=0,ip=null,R0=null,Lu=0,rp=null;function ei(){if((ue&2)!==0&&Jt!==0)return Jt&-Jt;if(F.T!==null){var n=Bo;return n!==0?n:hp()}return $n()}function C0(){gi===0&&(gi=(Jt&536870912)===0||re?jn():536870912);var n=pi.current;return n!==null&&(n.flags|=32),gi}function ni(n,r,a){(n===ge&&(ce===2||ce===9)||n.cancelPendingCommit!==null)&&(tl(n,0),Cs(n,Jt,gi,!1)),ai(n,a),((ue&2)===0||n!==ge)&&(n===ge&&((ue&2)===0&&(Ha|=a),Ie===4&&Cs(n,Jt,gi,!1)),Zi(n))}function I0(n,r,a){if((ue&6)!==0)throw Error(s(327));var u=!a&&(r&124)===0&&(r&n.expiredLanes)===0||pr(n,r),f=u?vR(n,r):op(n,r,!0),m=u;do{if(f===0){Xo&&!u&&Cs(n,r,0,!1);break}else{if(a=n.current.alternate,m&&!gR(a)){f=op(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=n;f=Pu;var D=S.current.memoizedState.isDehydrated;if(D&&(tl(S,T).flags|=256),T=op(S,T,!1),T!==2){if(Zm&&!D){S.errorRecoveryDisabledLanes|=m,Ha|=m,f=4;break t}m=Hn,Hn=f,m!==null&&(Hn===null?Hn=m:Hn.push.apply(Hn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){tl(n,0),Cs(n,r,0,!0);break}t:{switch(u=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Cs(u,r,gi,!Ss);break t;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=ep+300-ve(),10<f)){if(Cs(u,r,gi,!Ss),mr(u,0,!0)!==0)break t;u.timeoutHandle=iE(x0.bind(null,u,a,Hn,Fh,tp,r,gi,Ha,Wo,Ss,m,2,-0,0),f);break t}x0(u,a,Hn,Fh,tp,r,gi,Ha,Wo,Ss,m,0,-0,0)}}break}while(!0);Zi(n)}function x0(n,r,a,u,f,m,T,S,D,K,J,nt,Q,$){if(n.timeoutHandle=-1,nt=r.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(qu={stylesheets:null,count:0,unsuspend:WR},b0(r),nt=JR(),nt!==null)){n.cancelPendingCommit=nt(P0.bind(null,n,r,m,a,u,f,T,S,D,J,1,Q,$)),Cs(n,m,T,!K);return}P0(n,r,m,a,u,f,T,S,D)}function gR(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!Xn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Cs(n,r,a,u){r&=~Jm,r&=~Ha,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var m=31-Pe(f),T=1<<m;u[m]=-1,f&=~T}a!==0&&At(n,a,r)}function qh(){return(ue&6)===0?(Uu(0),!1):!0}function sp(){if(Kt!==null){if(ce===0)var n=Kt.return;else n=Kt,Nr=Pa=null,bm(n),Ko=null,Iu=0,n=Kt;for(;n!==null;)l0(n.alternate,n),n=n.return;Kt=null}}function tl(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,kR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),sp(),ge=n,Kt=a=Ir(n.current,null),Jt=r,ce=0,ti=null,Ss=!1,Xo=pr(n,r),Zm=!1,Wo=gi=Jm=Ha=ws=Ie=0,Hn=Pu=null,tp=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-Pe(u),m=1<<f;r|=n[f],u&=~m}return jr=r,fh(),a}function O0(n,r){Bt=null,F.H=Nh,r===_u||r===Th?(r=Qv(),ce=3):r===qv?(r=Qv(),ce=4):ce=r===$_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ti=r,Kt===null&&(Ie=1,Ph(n,hi(r,n.current)))}function N0(){var n=F.H;return F.H=Nh,n===null?Nh:n}function D0(){var n=F.A;return F.A=mR,n}function ap(){Ie=4,Ss||(Jt&4194048)!==Jt&&pi.current!==null||(Xo=!0),(ws&134217727)===0&&(Ha&134217727)===0||ge===null||Cs(ge,Jt,gi,!1)}function op(n,r,a){var u=ue;ue|=2;var f=N0(),m=D0();(ge!==n||Jt!==r)&&(Fh=null,tl(n,r)),r=!1;var T=Ie;t:do try{if(ce!==0&&Kt!==null){var S=Kt,D=ti;switch(ce){case 8:sp(),T=6;break t;case 3:case 2:case 9:case 6:pi.current===null&&(r=!0);var K=ce;if(ce=0,ti=null,el(n,S,D,K),a&&Xo){T=0;break t}break;default:K=ce,ce=0,ti=null,el(n,S,D,K)}}yR(),T=Ie;break}catch(J){O0(n,J)}while(!0);return r&&n.shellSuspendCounter++,Nr=Pa=null,ue=u,F.H=f,F.A=m,Kt===null&&(ge=null,Jt=0,fh()),T}function yR(){for(;Kt!==null;)M0(Kt)}function vR(n,r){var a=ue;ue|=2;var u=N0(),f=D0();ge!==n||Jt!==r?(Fh=null,Hh=ve()+500,tl(n,r)):Xo=pr(n,r);t:do try{if(ce!==0&&Kt!==null){r=Kt;var m=ti;e:switch(ce){case 1:ce=0,ti=null,el(n,r,m,1);break;case 2:case 9:if(Gv(m)){ce=0,ti=null,k0(r);break}r=function(){ce!==2&&ce!==9||ge!==n||(ce=7),Zi(n)},m.then(r,r);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:Gv(m)?(ce=0,ti=null,k0(r)):(ce=0,ti=null,el(n,r,m,7));break;case 5:var T=null;switch(Kt.tag){case 26:T=Kt.memoizedState;case 5:case 27:var S=Kt;if(!T||pE(T)){ce=0,ti=null;var D=S.sibling;if(D!==null)Kt=D;else{var K=S.return;K!==null?(Kt=K,Gh(K)):Kt=null}break e}}ce=0,ti=null,el(n,r,m,5);break;case 6:ce=0,ti=null,el(n,r,m,6);break;case 8:sp(),Ie=6;break t;default:throw Error(s(462))}}_R();break}catch(J){O0(n,J)}while(!0);return Nr=Pa=null,F.H=u,F.A=f,ue=a,Kt!==null?0:(ge=null,Jt=0,fh(),Ie)}function _R(){for(;Kt!==null&&!ee();)M0(Kt)}function M0(n){var r=a0(n.alternate,n,jr);n.memoizedProps=n.pendingProps,r===null?Gh(n):Kt=r}function k0(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=t0(a,r,r.pendingProps,r.type,void 0,Jt);break;case 11:r=t0(a,r,r.pendingProps,r.type.render,r.ref,Jt);break;case 5:bm(r);default:l0(a,r),r=Kt=Vv(r,jr),r=a0(a,r,jr)}n.memoizedProps=n.pendingProps,r===null?Gh(n):Kt=r}function el(n,r,a,u){Nr=Pa=null,bm(r),Ko=null,Iu=0;var f=r.return;try{if(lR(n,f,r,a,Jt)){Ie=1,Ph(n,hi(a,n.current)),Kt=null;return}}catch(m){if(f!==null)throw Kt=f,m;Ie=1,Ph(n,hi(a,n.current)),Kt=null;return}r.flags&32768?(re||u===1?n=!0:Xo||(Jt&536870912)!==0?n=!1:(Ss=n=!0,(u===2||u===9||u===3||u===6)&&(u=pi.current,u!==null&&u.tag===13&&(u.flags|=16384))),V0(r,n)):Gh(r)}function Gh(n){var r=n;do{if((r.flags&32768)!==0){V0(r,Ss);return}n=r.return;var a=cR(r.alternate,r,jr);if(a!==null){Kt=a;return}if(r=r.sibling,r!==null){Kt=r;return}Kt=r=n}while(r!==null);Ie===0&&(Ie=5)}function V0(n,r){do{var a=hR(n.alternate,n);if(a!==null){a.flags&=32767,Kt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Kt=n;return}Kt=n=a}while(n!==null);Ie=6,Kt=null}function P0(n,r,a,u,f,m,T,S,D){n.cancelPendingCommit=null;do Kh();while(dn!==0);if((ue&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Wd,os(n,a,m,T,S,D),n===ge&&(Kt=ge=null,Jt=0),Zo=r,Rs=n,Jo=a,np=m,ip=f,R0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,SR(Ti,function(){return z0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=F.T,F.T=null,f=ut.p,ut.p=2,T=ue,ue|=4;try{fR(n,r,a)}finally{ue=T,ut.p=f,F.T=u}}dn=1,L0(),U0(),j0()}}function L0(){if(dn===1){dn=0;var n=Rs,r=Zo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var u=ut.p;ut.p=2;var f=ue;ue|=4;try{_0(r,n);var m=_p,T=Av(n.containerInfo),S=m.focusedElem,D=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&wv(S.ownerDocument.documentElement,S)){if(D!==null&&Kd(S)){var K=D.start,J=D.end;if(J===void 0&&(J=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(J,S.value.length);else{var nt=S.ownerDocument||document,Q=nt&&nt.defaultView||window;if(Q.getSelection){var $=Q.getSelection(),Nt=S.textContent.length,Rt=Math.min(D.start,Nt),me=D.end===void 0?Rt:Math.min(D.end,Nt);!$.extend&&Rt>me&&(T=me,me=Rt,Rt=T);var H=Sv(S,Rt),B=Sv(S,me);if(H&&B&&($.rangeCount!==1||$.anchorNode!==H.node||$.anchorOffset!==H.offset||$.focusNode!==B.node||$.focusOffset!==B.offset)){var G=nt.createRange();G.setStart(H.node,H.offset),$.removeAllRanges(),Rt>me?($.addRange(G),$.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),$.addRange(G))}}}}for(nt=[],$=S;$=$.parentNode;)$.nodeType===1&&nt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var tt=nt[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}sf=!!vp,_p=vp=null}finally{ue=f,ut.p=u,F.T=a}}n.current=r,dn=2}}function U0(){if(dn===2){dn=0;var n=Rs,r=Zo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var u=ut.p;ut.p=2;var f=ue;ue|=4;try{p0(n,r.alternate,r)}finally{ue=f,ut.p=u,F.T=a}}dn=3}}function j0(){if(dn===4||dn===3){dn=0,si();var n=Rs,r=Zo,a=Jo,u=R0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?dn=5:(dn=0,Zo=Rs=null,B0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(As=null),Le(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(_t,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=F.T,f=ut.p,ut.p=2,F.T=null;try{for(var m=n.onRecoverableError,T=0;T<u.length;T++){var S=u[T];m(S.value,{componentStack:S.stack})}}finally{F.T=r,ut.p=f}}(Jo&3)!==0&&Kh(),Zi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===rp?Lu++:(Lu=0,rp=n):Lu=0,Uu(0)}}function B0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,yu(r)))}function Kh(n){return L0(),U0(),j0(),z0()}function z0(){if(dn!==5)return!1;var n=Rs,r=np;np=0;var a=Le(Jo),u=F.T,f=ut.p;try{ut.p=32>a?32:a,F.T=null,a=ip,ip=null;var m=Rs,T=Jo;if(dn=0,Zo=Rs=null,Jo=0,(ue&6)!==0)throw Error(s(331));var S=ue;if(ue|=4,w0(m.current),T0(m,m.current,T,a),ue=S,Uu(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(_t,m)}catch{}return!0}finally{ut.p=f,F.T=u,B0(n,r)}}function H0(n,r,a){r=hi(a,r),r=Pm(n.stateNode,r,2),n=gs(n,r,2),n!==null&&(ai(n,2),Zi(n))}function pe(n,r,a){if(n.tag===3)H0(n,n,a);else for(;r!==null;){if(r.tag===3){H0(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(As===null||!As.has(u))){n=hi(a,n),a=K_(2),u=gs(r,a,2),u!==null&&(Q_(a,u,r,n),ai(u,2),Zi(u));break}}r=r.return}}function lp(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new pR;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Zm=!0,f.add(a),n=ER.bind(null,n,r,a),r.then(n,n))}function ER(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ge===n&&(Jt&a)===a&&(Ie===4||Ie===3&&(Jt&62914560)===Jt&&300>ve()-ep?(ue&2)===0&&tl(n,0):Jm|=a,Wo===Jt&&(Wo=0)),Zi(n)}function F0(n,r){r===0&&(r=ma()),n=Po(n,r),n!==null&&(ai(n,r),Zi(n))}function TR(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),F0(n,a)}function bR(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),F0(n,a)}function SR(n,r){return In(n,r)}var Qh=null,nl=null,up=!1,$h=!1,cp=!1,Fa=0;function Zi(n){n!==nl&&n.next===null&&(nl===null?Qh=nl=n:nl=nl.next=n),$h=!0,up||(up=!0,AR())}function Uu(n,r){if(!cp&&$h){cp=!0;do for(var a=!1,u=Qh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Pe(42|n)+1)-1,m&=f&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Q0(u,m))}else m=Jt,m=mr(u,u===ge?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||pr(u,m)||(a=!0,Q0(u,m));u=u.next}while(a);cp=!1}}function wR(){q0()}function q0(){$h=up=!1;var n=0;Fa!==0&&(MR()&&(n=Fa),Fa=0);for(var r=ve(),a=null,u=Qh;u!==null;){var f=u.next,m=G0(u,r);m===0?(u.next=null,a===null?Qh=f:a.next=f,f===null&&(nl=a)):(a=u,(n!==0||(m&3)!==0)&&($h=!0)),u=f}Uu(n)}function G0(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Pe(m),S=1<<T,D=f[T];D===-1?((S&a)===0||(S&u)!==0)&&(f[T]=gr(S,r)):D<=r&&(n.expiredLanes|=S),m&=~S}if(r=ge,a=Jt,a=mr(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===r&&(ce===2||ce===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&tn(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||pr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&tn(u),Le(a)){case 2:case 8:a=Pi;break;case 32:a=Ti;break;case 268435456:a=xn;break;default:a=Ti}return u=K0.bind(null,n),a=In(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&tn(u),n.callbackPriority=2,n.callbackNode=null,2}function K0(n,r){if(dn!==0&&dn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Kh()&&n.callbackNode!==a)return null;var u=Jt;return u=mr(n,n===ge?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(I0(n,u,r),G0(n,ve()),n.callbackNode!=null&&n.callbackNode===a?K0.bind(null,n):null)}function Q0(n,r){if(Kh())return null;I0(n,r,!0)}function AR(){VR(function(){(ue&6)!==0?In(un,wR):q0()})}function hp(){return Fa===0&&(Fa=jn()),Fa}function $0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:wo(""+n)}function Y0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function RR(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var m=$0((f[ne]||null).action),T=u.submitter;T&&(r=(r=T[ne]||null)?$0(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var S=new Ao("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Fa!==0){var D=T?Y0(f,T):new FormData(f);Nm(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=T?Y0(f,T):new FormData(f),Nm(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var fp=0;fp<Xd.length;fp++){var dp=Xd[fp],CR=dp.toLowerCase(),IR=dp[0].toUpperCase()+dp.slice(1);Ci(CR,"on"+IR)}Ci(Iv,"onAnimationEnd"),Ci(xv,"onAnimationIteration"),Ci(Ov,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(GA,"onTransitionRun"),Ci(KA,"onTransitionStart"),Ci(QA,"onTransitionCancel"),Ci(Nv,"onTransitionEnd"),_r("onMouseEnter",["mouseout","mouseover"]),_r("onMouseLeave",["mouseout","mouseover"]),_r("onPointerEnter",["pointerout","pointerover"]),_r("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function X0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;t:{var m=void 0;if(r)for(var T=u.length-1;0<=T;T--){var S=u[T],D=S.instance,K=S.currentTarget;if(S=S.listener,D!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=K;try{m(f)}catch(J){Vh(J)}f.currentTarget=null,m=D}else for(T=0;T<u.length;T++){if(S=u[T],D=S.instance,K=S.currentTarget,S=S.listener,D!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=K;try{m(f)}catch(J){Vh(J)}f.currentTarget=null,m=D}}}}function Qt(n,r){var a=r[ls];a===void 0&&(a=r[ls]=new Set);var u=n+"__bubble";a.has(u)||(W0(r,n,2,!1),a.add(u))}function mp(n,r,a){var u=0;r&&(u|=4),W0(a,n,u,r)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function pp(n){if(!n[Yh]){n[Yh]=!0,Wl.forEach(function(a){a!=="selectionchange"&&(xR.has(a)||mp(a,!1,n),mp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Yh]||(r[Yh]=!0,mp("selectionchange",!1,r))}}function W0(n,r,a,u){switch(TE(r)){case 2:var f=nC;break;case 8:f=iC;break;default:f=xp}a=f.bind(null,r,a,n),f=void 0,!ui||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function gp(n,r,a,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=u.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=vr(S),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){u=m=T;continue t}S=S.parentNode}}u=u.return}Wc(function(){var K=m,J=li(a),nt=[];t:{var Q=Dv.get(n);if(Q!==void 0){var $=Ao,Nt=n;switch(n){case"keypress":if(Fi(a)===0)break t;case"keydown":case"keyup":$=No;break;case"focusin":Nt="focus",$=Io;break;case"focusout":Nt="blur",$=Io;break;case"beforeblur":case"afterblur":$=Io;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ci;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Hd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=sh;break;case Iv:case xv:case Ov:$=xo;break;case Nv:$=oh;break;case"scroll":case"scrollend":$=Zc;break;case"wheel":$=Do;break;case"copy":case"cut":case"paste":$=Oo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=uu;break;case"toggle":case"beforetoggle":$=uh}var Rt=(r&4)!==0,me=!Rt&&(n==="scroll"||n==="scrollend"),H=Rt?Q!==null?Q+"Capture":null:Q;Rt=[];for(var B=K,G;B!==null;){var tt=B;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||H===null||(tt=ba(B,H),tt!=null&&Rt.push(Bu(B,tt,G))),me)break;B=B.return}0<Rt.length&&(Q=new $(Q,Nt,null,a,J),nt.push({event:Q,listeners:Rt}))}}if((r&7)===0){t:{if(Q=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",Q&&a!==br&&(Nt=a.relatedTarget||a.fromElement)&&(vr(Nt)||Nt[Te]))break t;if(($||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,$?(Nt=a.relatedTarget||a.toElement,$=K,Nt=Nt?vr(Nt):null,Nt!==null&&(me=l(Nt),Rt=Nt.tag,Nt!==me||Rt!==5&&Rt!==27&&Rt!==6)&&(Nt=null)):($=null,Nt=K),$!==Nt)){if(Rt=ci,tt="onMouseLeave",H="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Rt=uu,tt="onPointerLeave",H="onPointerEnter",B="pointer"),me=$==null?Q:ji($),G=Nt==null?Q:ji(Nt),Q=new Rt(tt,B+"leave",$,a,J),Q.target=me,Q.relatedTarget=G,tt=null,vr(J)===K&&(Rt=new Rt(H,B+"enter",Nt,a,J),Rt.target=G,Rt.relatedTarget=me,tt=Rt),me=tt,$&&Nt)e:{for(Rt=$,H=Nt,B=0,G=Rt;G;G=il(G))B++;for(G=0,tt=H;tt;tt=il(tt))G++;for(;0<B-G;)Rt=il(Rt),B--;for(;0<G-B;)H=il(H),G--;for(;B--;){if(Rt===H||H!==null&&Rt===H.alternate)break e;Rt=il(Rt),H=il(H)}Rt=null}else Rt=null;$!==null&&Z0(nt,Q,$,Rt,!1),Nt!==null&&me!==null&&Z0(nt,me,Nt,Rt,!0)}}t:{if(Q=K?ji(K):window,$=Q.nodeName&&Q.nodeName.toLowerCase(),$==="select"||$==="input"&&Q.type==="file")var vt=yv;else if(Qe(Q))if(vv)vt=HA;else{vt=BA;var Ft=jA}else $=Q.nodeName,!$||$.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&nu(K.elementType)&&(vt=yv):vt=zA;if(vt&&(vt=vt(n,K))){Cr(nt,vt,a,J);break t}Ft&&Ft(n,Q,K),n==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&hs(Q,"number",Q.value)}switch(Ft=K?ji(K):window,n){case"focusin":(Qe(Ft)||Ft.contentEditable==="true")&&(Mo=Ft,Qd=K,fu=null);break;case"focusout":fu=Qd=Mo=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,Rv(nt,a,J);break;case"selectionchange":if(qA)break;case"keydown":case"keyup":Rv(nt,a,J)}var Et;if(Ki)t:{switch(n){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else Wt?X(n,a)&&(It="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(It="onCompositionStart");It&&(_&&a.locale!=="ko"&&(Wt||It!=="onCompositionStart"?It==="onCompositionEnd"&&Wt&&(Et=ru()):(Hi=J,fs="value"in Hi?Hi.value:Hi.textContent,Wt=!0)),Ft=Xh(K,It),0<Ft.length&&(It=new ou(It,n,null,a,J),nt.push({event:It,listeners:Ft}),Et?It.data=Et:(Et=mt(a),Et!==null&&(It.data=Et)))),(Et=y?Ke(n,a):Zt(n,a))&&(It=Xh(K,"onBeforeInput"),0<It.length&&(Ft=new ou("onBeforeInput","beforeinput",null,a,J),nt.push({event:Ft,listeners:It}),Ft.data=Et)),RR(nt,n,K,a,J)}X0(nt,r)})}function Bu(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Xh(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ba(n,a),f!=null&&u.unshift(Bu(n,f,m)),f=ba(n,r),f!=null&&u.push(Bu(n,f,m))),n.tag===3)return u;n=n.return}return[]}function il(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Z0(n,r,a,u,f){for(var m=r._reactName,T=[];a!==null&&a!==u;){var S=a,D=S.alternate,K=S.stateNode;if(S=S.tag,D!==null&&D===u)break;S!==5&&S!==26&&S!==27||K===null||(D=K,f?(K=ba(a,m),K!=null&&T.unshift(Bu(a,K,D))):f||(K=ba(a,m),K!=null&&T.push(Bu(a,K,D)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var OR=/\r\n?/g,NR=/\u0000|\uFFFD/g;function J0(n){return(typeof n=="string"?n:""+n).replace(OR,`
`).replace(NR,"")}function tE(n,r){return r=J0(r),J0(n)===r}function Wh(){}function de(n,r,a,u,f,m){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||oi(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&oi(n,""+u);break;case"className":Bi(n,"class",u);break;case"tabIndex":Bi(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(n,a,u);break;case"style":eu(n,u,m);break;case"data":if(r!=="object"){Bi(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=wo(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&de(n,r,"name",f.name,f,null),de(n,r,"formEncType",f.formEncType,f,null),de(n,r,"formMethod",f.formMethod,f,null),de(n,r,"formTarget",f.formTarget,f,null)):(de(n,r,"encType",f.encType,f,null),de(n,r,"method",f.method,f,null),de(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=wo(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Wh);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=wo(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Qt("beforetoggle",n),Qt("toggle",n),cs(n,"popover",u);break;case"xlinkActuate":cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":cn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":cn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":cn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":cn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":cs(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bd.get(a)||a,cs(n,a,u))}}function yp(n,r,a,u,f,m){switch(a){case"style":eu(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?oi(n,u):(typeof u=="number"||typeof u=="bigint")&&oi(n,""+u);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Wh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[ne]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break t}a in n?n[a]=u:u===!0?n.setAttribute(a,""):cs(n,a,u)}}}function mn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",n),Qt("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:de(n,r,m,T,a,null)}}f&&de(n,r,"srcSet",a.srcSet,a,null),u&&de(n,r,"src",a.src,a,null);return;case"input":Qt("invalid",n);var S=m=T=f=null,D=null,K=null;for(u in a)if(a.hasOwnProperty(u)){var J=a[u];if(J!=null)switch(u){case"name":f=J;break;case"type":T=J;break;case"checked":D=J;break;case"defaultChecked":K=J;break;case"value":m=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:de(n,r,u,J,a,null)}}_a(n,m,S,D,K,T,f,!1),So(n);return;case"select":Qt("invalid",n),u=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:de(n,r,f,S,a,null)}r=m,a=T,n.multiple=!!u,r!=null?Tr(n,!!u,r,!1):a!=null&&Tr(n,!!u,a,!0);return;case"textarea":Qt("invalid",n),m=f=u=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:de(n,r,T,S,a,null)}Ea(n,u,f,m),So(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:de(n,r,D,u,a,null)}return;case"dialog":Qt("beforetoggle",n),Qt("toggle",n),Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":Qt("load",n);break;case"video":case"audio":for(u=0;u<ju.length;u++)Qt(ju[u],n);break;case"image":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"embed":case"source":case"link":Qt("error",n),Qt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(u=a[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:de(n,r,K,u,a,null)}return;default:if(nu(r)){for(J in a)a.hasOwnProperty(J)&&(u=a[J],u!==void 0&&yp(n,r,J,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&de(n,r,S,u,a,null))}function DR(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,S=null,D=null,K=null,J=null;for($ in a){var nt=a[$];if(a.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=nt;default:u.hasOwnProperty($)||de(n,r,$,null,u,nt)}}for(var Q in u){var $=u[Q];if(nt=a[Q],u.hasOwnProperty(Q)&&($!=null||nt!=null))switch(Q){case"type":m=$;break;case"name":f=$;break;case"checked":K=$;break;case"defaultChecked":J=$;break;case"value":T=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==nt&&de(n,r,Q,$,u,nt)}}Yn(n,T,S,D,K,J,m,f);return;case"select":$=T=S=Q=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":$=D;default:u.hasOwnProperty(m)||de(n,r,m,null,u,D)}for(f in u)if(m=u[f],D=a[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":Q=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==D&&de(n,r,f,m,u,D)}r=S,a=T,u=$,Q!=null?Tr(n,!!a,Q,!1):!!u!=!!a&&(r!=null?Tr(n,!!a,r,!0):Tr(n,!!a,a?[]:"",!1));return;case"textarea":$=Q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:de(n,r,S,null,u,f)}for(T in u)if(f=u[T],m=a[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":Q=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&de(n,r,T,f,u,m)}he(n,Q,$);return;case"option":for(var Nt in a)if(Q=a[Nt],a.hasOwnProperty(Nt)&&Q!=null&&!u.hasOwnProperty(Nt))switch(Nt){case"selected":n.selected=!1;break;default:de(n,r,Nt,null,u,Q)}for(D in u)if(Q=u[D],$=a[D],u.hasOwnProperty(D)&&Q!==$&&(Q!=null||$!=null))switch(D){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:de(n,r,D,Q,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in a)Q=a[Rt],a.hasOwnProperty(Rt)&&Q!=null&&!u.hasOwnProperty(Rt)&&de(n,r,Rt,null,u,Q);for(K in u)if(Q=u[K],$=a[K],u.hasOwnProperty(K)&&Q!==$&&(Q!=null||$!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:de(n,r,K,Q,u,$)}return;default:if(nu(r)){for(var me in a)Q=a[me],a.hasOwnProperty(me)&&Q!==void 0&&!u.hasOwnProperty(me)&&yp(n,r,me,void 0,u,Q);for(J in u)Q=u[J],$=a[J],!u.hasOwnProperty(J)||Q===$||Q===void 0&&$===void 0||yp(n,r,J,Q,u,$);return}}for(var H in a)Q=a[H],a.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&de(n,r,H,null,u,Q);for(nt in u)Q=u[nt],$=a[nt],!u.hasOwnProperty(nt)||Q===$||Q==null&&$==null||de(n,r,nt,Q,u,$)}var vp=null,_p=null;function Zh(n){return n.nodeType===9?n:n.ownerDocument}function eE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nE(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Ep(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tp=null;function MR(){var n=window.event;return n&&n.type==="popstate"?n===Tp?!1:(Tp=n,!0):(Tp=null,!1)}var iE=typeof setTimeout=="function"?setTimeout:void 0,kR=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,VR=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(n){return rE.resolve(null).then(n).catch(PR)}:iE;function PR(n){setTimeout(function(){throw n})}function Is(n){return n==="head"}function sE(n,r){var a=r,u=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<u&&8>u){a=u;var T=n.ownerDocument;if(a&1&&zu(T.documentElement),a&2&&zu(T.body),a&4)for(a=T.head,zu(a),T=a.firstChild;T;){var S=T.nextSibling,D=T.nodeName;T[pa]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(f===0){n.removeChild(m),Yu(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=m}while(a);Yu(r)}function bp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bp(a),us(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function LR(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[pa])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=xi(n.nextSibling),n===null)break}return null}function UR(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=xi(n.nextSibling),n===null))return null;return n}function Sp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function jR(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function xi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var wp=null;function aE(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function oE(n,r,a){switch(r=Zh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function zu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);us(n)}var yi=new Map,lE=new Set;function Jh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Br=ut.d;ut.d={f:BR,r:zR,D:HR,C:FR,L:qR,m:GR,X:QR,S:KR,M:$R};function BR(){var n=Br.f(),r=qh();return n||r}function zR(n){var r=Ui(n);r!==null&&r.tag===5&&r.type==="form"?I_(r):Br.r(n)}var rl=typeof document>"u"?null:document;function uE(n,r,a){var u=rl;if(u&&typeof r=="string"&&r){var f=Ue(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),lE.has(f)||(lE.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),mn(r,"link",n),De(r),u.head.appendChild(r)))}}function HR(n){Br.D(n),uE("dns-prefetch",n,null)}function FR(n,r){Br.C(n,r),uE("preconnect",n,r)}function qR(n,r,a){Br.L(n,r,a);var u=rl;if(u&&n&&r){var f='link[rel="preload"][as="'+Ue(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ue(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ue(a.imageSizes)+'"]')):f+='[href="'+Ue(n)+'"]';var m=f;switch(r){case"style":m=sl(n);break;case"script":m=al(n)}yi.has(m)||(n=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),yi.set(m,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Hu(m))||r==="script"&&u.querySelector(Fu(m))||(r=u.createElement("link"),mn(r,"link",n),De(r),u.head.appendChild(r)))}}function GR(n,r){Br.m(n,r);var a=rl;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ue(u)+'"][href="'+Ue(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=al(n)}if(!yi.has(m)&&(n=E({rel:"modulepreload",href:n},r),yi.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fu(m)))return}u=a.createElement("link"),mn(u,"link",n),De(u),a.head.appendChild(u)}}}function KR(n,r,a){Br.S(n,r,a);var u=rl;if(u&&n){var f=On(u).hoistableStyles,m=sl(n);r=r||"default";var T=f.get(m);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(Hu(m)))S.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},a),(a=yi.get(m))&&Ap(n,a);var D=T=u.createElement("link");De(D),mn(D,"link",n),D._p=new Promise(function(K,J){D.onload=K,D.onerror=J}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,tf(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(m,T)}}}function QR(n,r){Br.X(n,r);var a=rl;if(a&&n){var u=On(a).hoistableScripts,f=al(n),m=u.get(f);m||(m=a.querySelector(Fu(f)),m||(n=E({src:n,async:!0},r),(r=yi.get(f))&&Rp(n,r),m=a.createElement("script"),De(m),mn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function $R(n,r){Br.M(n,r);var a=rl;if(a&&n){var u=On(a).hoistableScripts,f=al(n),m=u.get(f);m||(m=a.querySelector(Fu(f)),m||(n=E({src:n,async:!0,type:"module"},r),(r=yi.get(f))&&Rp(n,r),m=a.createElement("script"),De(m),mn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function cE(n,r,a,u){var f=(f=pt.current)?Jh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=sl(a.href),a=On(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=sl(a.href);var m=On(f).hoistableStyles,T=m.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=f.querySelector(Hu(n)))&&!m._p&&(T.instance=m,T.state.loading=5),yi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yi.set(n,a),m||YR(f,n,a,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=al(a),a=On(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function sl(n){return'href="'+Ue(n)+'"'}function Hu(n){return'link[rel="stylesheet"]['+n+"]"}function hE(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function YR(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),mn(r,"link",a),De(r),n.head.appendChild(r))}function al(n){return'[src="'+Ue(n)+'"]'}function Fu(n){return"script[async]"+n}function fE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Ue(a.href)+'"]');if(u)return r.instance=u,De(u),u;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),De(u),mn(u,"style",f),tf(u,a.precedence,n),r.instance=u;case"stylesheet":f=sl(a.href);var m=n.querySelector(Hu(f));if(m)return r.state.loading|=4,r.instance=m,De(m),m;u=hE(a),(f=yi.get(f))&&Ap(u,f),m=(n.ownerDocument||n).createElement("link"),De(m);var T=m;return T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),mn(m,"link",u),r.state.loading|=4,tf(m,a.precedence,n),r.instance=m;case"script":return m=al(a.src),(f=n.querySelector(Fu(m)))?(r.instance=f,De(f),f):(u=a,(f=yi.get(m))&&(u=E({},a),Rp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),De(f),mn(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,tf(u,a.precedence,n));return r.instance}function tf(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Ap(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Rp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var ef=null;function dE(n,r,a){if(ef===null){var u=new Map,f=ef=new Map;f.set(a,u)}else f=ef,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[pa]||m[Ee]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=n+T;var S=u.get(T);S?S.push(m):u.set(T,[m])}}return u}function mE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function XR(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function pE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var qu=null;function WR(){}function ZR(n,r,a){if(qu===null)throw Error(s(475));var u=qu;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=sl(a.href),m=n.querySelector(Hu(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=nf.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=m,De(m);return}m=n.ownerDocument||n,a=hE(a),(f=yi.get(f))&&Ap(a,f),m=m.createElement("link"),De(m);var T=m;T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),mn(m,"link",a),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=nf.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function JR(){if(qu===null)throw Error(s(475));var n=qu;return n.stylesheets&&n.count===0&&Cp(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Cp(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function nf(){if(this.count--,this.count===0){if(this.stylesheets)Cp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rf=null;function Cp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rf=new Map,r.forEach(tC,n),rf=null,nf.call(n))}function tC(n,r){if(!(r.state.loading&4)){var a=rf.get(n);if(a)var u=a.get(null);else{a=new Map,rf.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||u,m===u&&a.set(null,f),a.set(T,f),this.count++,u=nf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Gu={$$typeof:Z,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function eC(n,r,a,u,f,m,T,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function gE(n,r,a,u,f,m,T,S,D,K,J,nt){return n=new eC(n,r,a,T,S,D,K,nt),r=1,m===!0&&(r|=24),m=Wn(3,null,null,r),n.current=m,m.stateNode=n,r=lm(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:r},fm(m),n}function yE(n){return n?(n=Lo,n):Lo}function vE(n,r,a,u,f,m){f=yE(f),u.context===null?u.context=f:u.pendingContext=f,u=ps(r),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=gs(n,u,r),a!==null&&(ni(a,n,r),Tu(a,n,r))}function _E(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Ip(n,r){_E(n,r),(n=n.alternate)&&_E(n,r)}function EE(n){if(n.tag===13){var r=Po(n,67108864);r!==null&&ni(r,n,67108864),Ip(n,67108864)}}var sf=!0;function nC(n,r,a,u){var f=F.T;F.T=null;var m=ut.p;try{ut.p=2,xp(n,r,a,u)}finally{ut.p=m,F.T=f}}function iC(n,r,a,u){var f=F.T;F.T=null;var m=ut.p;try{ut.p=8,xp(n,r,a,u)}finally{ut.p=m,F.T=f}}function xp(n,r,a,u){if(sf){var f=Op(u);if(f===null)gp(n,r,u,af,a),bE(n,u);else if(sC(f,n,r,a,u))u.stopPropagation();else if(bE(n,u),r&4&&-1<rC.indexOf(n)){for(;f!==null;){var m=Ui(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Un(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var D=1<<31-Pe(T);S.entanglements[1]|=D,T&=~D}Zi(m),(ue&6)===0&&(Hh=ve()+500,Uu(0))}}break;case 13:S=Po(m,2),S!==null&&ni(S,m,2),qh(),Ip(m,2)}if(m=Op(u),m===null&&gp(n,r,u,af,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else gp(n,r,u,null,a)}}function Op(n){return n=li(n),Np(n)}var af=null;function Np(n){if(af=null,n=vr(n),n!==null){var r=l(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return af=n,null}function TE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ss()){case un:return 2;case Pi:return 8;case Ti:case qe:return 32;case xn:return 268435456;default:return 32}default:return 32}}var Dp=!1,xs=null,Os=null,Ns=null,Ku=new Map,Qu=new Map,Ds=[],rC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bE(n,r){switch(n){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Ku.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(r.pointerId)}}function $u(n,r,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Ui(r),r!==null&&EE(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function sC(n,r,a,u,f){switch(r){case"focusin":return xs=$u(xs,n,r,a,u,f),!0;case"dragenter":return Os=$u(Os,n,r,a,u,f),!0;case"mouseover":return Ns=$u(Ns,n,r,a,u,f),!0;case"pointerover":var m=f.pointerId;return Ku.set(m,$u(Ku.get(m)||null,n,r,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Qu.set(m,$u(Qu.get(m)||null,n,r,a,u,f)),!0}return!1}function SE(n){var r=vr(n.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Re(n.priority,function(){if(a.tag===13){var u=ei();u=ye(u);var f=Po(a,u);f!==null&&ni(f,a,u),Ip(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function of(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Op(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);br=u,a.target.dispatchEvent(u),br=null}else return r=Ui(a),r!==null&&EE(r),n.blockedOn=a,!1;r.shift()}return!0}function wE(n,r,a){of(n)&&a.delete(r)}function aC(){Dp=!1,xs!==null&&of(xs)&&(xs=null),Os!==null&&of(Os)&&(Os=null),Ns!==null&&of(Ns)&&(Ns=null),Ku.forEach(wE),Qu.forEach(wE)}function lf(n,r){n.blockedOn===r&&(n.blockedOn=null,Dp||(Dp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,aC)))}var uf=null;function AE(n){uf!==n&&(uf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){uf===n&&(uf=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Np(u||a)===null)continue;break}var m=Ui(a);m!==null&&(n.splice(r,3),r-=3,Nm(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Yu(n){function r(D){return lf(D,n)}xs!==null&&lf(xs,n),Os!==null&&lf(Os,n),Ns!==null&&lf(Ns,n),Ku.forEach(r),Qu.forEach(r);for(var a=0;a<Ds.length;a++){var u=Ds[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ds.length&&(a=Ds[0],a.blockedOn===null);)SE(a),a.blockedOn===null&&Ds.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],T=f[ne]||null;if(typeof m=="function")T||AE(a);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[ne]||null)S=T.formAction;else if(Np(f)!==null)continue}else S=T.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),AE(a)}}}function Mp(n){this._internalRoot=n}cf.prototype.render=Mp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=ei();vE(a,u,n,r,null,null)},cf.prototype.unmount=Mp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;vE(n.current,2,null,n,null,null),qh(),r[Te]=null}};function cf(n){this._internalRoot=n}cf.prototype.unstable_scheduleHydration=function(n){if(n){var r=$n();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Ds.length&&r!==0&&r<Ds[a].priority;a++);Ds.splice(a,0,n),a===0&&SE(n)}};var RE=t.version;if(RE!=="19.1.0")throw Error(s(527,RE,"19.1.0"));ut.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var oC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{_t=hf.inject(oC),Ht=hf}catch{}}return Wu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=H_,m=F_,T=q_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=gE(n,1,!1,null,null,a,u,f,m,T,S,null),n[Te]=r.current,pp(n),new Mp(r)},Wu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=H_,T=F_,S=q_,D=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),r=gE(n,1,!0,r,a??null,u,f,m,T,S,D,K),r.context=yE(null),a=r.current,u=ei(),u=ye(u),f=ps(u),f.callback=null,gs(a,f,u),a=u,r.current.lanes=a,ai(r,a),Zi(r),n[Te]=r.current,pp(n),new cf(r)},Wu.version="19.1.0",Wu}var LE;function gC(){if(LE)return Lp.exports;LE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Lp.exports=pC(),Lp.exports}var yC=gC();const ny=I.createContext({handleKeyClick:()=>console.warn("KeyBoardContext: No handleKeyClick provider found!")});var Zb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UE=ct.createContext&&ct.createContext(Zb),vC=["attr","size","title"];function _C(i,t){if(i==null)return{};var e=EC(i,t),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)s=l[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(e[s]=i[s])}return e}function EC(i,t){if(i==null)return{};var e={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function Pf(){return Pf=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},Pf.apply(this,arguments)}function jE(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),e.push.apply(e,s)}return e}function Lf(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(e),!0).forEach(function(s){TC(i,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):jE(Object(e)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(e,s))})}return i}function TC(i,t,e){return t=bC(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function bC(i){var t=SC(i,"string");return typeof t=="symbol"?t:t+""}function SC(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var s=e.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function Jb(i){return i&&i.map((t,e)=>ct.createElement(t.tag,Lf({key:e},t.attr),Jb(t.child)))}function Nc(i){return t=>ct.createElement(wC,Pf({attr:Lf({},i.attr)},t),Jb(i.child))}function wC(i){var t=e=>{var{attr:s,size:o,title:l}=i,h=_C(i,vC),d=o||e.size||"1em",p;return e.className&&(p=e.className),i.className&&(p=(p?p+" ":"")+i.className),ct.createElement("svg",Pf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,h,{className:p,style:Lf(Lf({color:i.color||e.color},e.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ct.createElement("title",null,l),i.children)};return UE!==void 0?ct.createElement(UE.Consumer,null,e=>t(e)):t(Zb)}function AC(i){return Nc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M135.19 390.14a28.79 28.79 0 0 0 21.68 9.86h246.26A29 29 0 0 0 432 371.13V140.87A29 29 0 0 0 403.13 112H156.87a28.84 28.84 0 0 0-21.67 9.84L46.33 256l88.86 134.11z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336.67 192.33 206.66 322.34m130.01 0L206.66 192.33m130.01 0L206.66 322.34m130.01 0L206.66 192.33"},child:[]}]})(i)}function RC(i){return Nc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"28",d:"M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296"},child:[]},{tag:"circle",attr:{cx:"250",cy:"348",r:"20"},child:[]}]})(i)}function CC(i){return Nc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 496H72a24 24 0 0 1-24-24V328a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v144a24 24 0 0 1-24 24zm224 0h-32a24 24 0 0 1-24-24V232a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v240a24 24 0 0 1-24 24zm112 0h-32a24 24 0 0 1-24-24V120a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v352a24 24 0 0 1-24 24zm-224 0h-32a24 24 0 0 1-24-24V40a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v432a24 24 0 0 1-24 24z"},child:[]}]})(i)}const IC=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["ENTER","Z","X","C","V","B","N","M","BACKSPACE"]];function xC({className:i,keyColors:t}){const{handleKeyClick:e}=I.useContext(ny);return R.jsx("div",{className:`keyboard ${i}`,children:IC.map((s,o)=>R.jsx(OC,{keyboardRow:s,index:o,handleKeyClick:e,keyColors:t},o))})}function OC({keyboardRow:i,index:t,keyColors:e}){const s=`keyboard-row ${t+1}`;return R.jsx("div",{className:s,children:i.map((o,l)=>R.jsx(NC,{keyboardKey:o,keyColors:e},l))})}function NC({keyboardKey:i,keyColors:t}){const{handleKeyClick:e}=I.useContext(ny),o=`keyboard-key ${i.length>1?i.toLowerCase():"key-letter"} ${t.get(i)}`,l=i==="BACKSPACE"?null:i;return R.jsxs("button",{className:o,onClick:e,id:i,children:[i==="BACKSPACE"&&R.jsx(AC,{className:"backspace-img"}),l]})}var DC=Wb();const Ka=cd(DC);function MC(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}const kC=i=>{switch(i){case"success":return LC;case"info":return jC;case"warning":return UC;case"error":return BC;default:return null}},VC=Array(12).fill(0),PC=({visible:i,className:t})=>ct.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},ct.createElement("div",{className:"sonner-spinner"},VC.map((e,s)=>ct.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),LC=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UC=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jC=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BC=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zC=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ct.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ct.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HC=()=>{const[i,t]=ct.useState(document.hidden);return ct.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),i};let ug=1;class FC{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:s,...o}=t,l=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ug++,h=this.toasts.find(p=>p.id===l),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),h?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...t,id:l,title:s}),{...p,...t,id:l,dismissible:d,title:s}):p):this.addToast({title:s,...o,dismissible:d,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let l=s!==void 0,h;const d=o.then(async g=>{if(h=["resolve",g],ct.isValidElement(g))l=!1,this.create({id:s,type:"default",message:g});else if(GC(g)&&!g.ok){l=!1;const v=typeof e.error=="function"?await e.error(`HTTP error! status: ${g.status}`):e.error,b=typeof e.description=="function"?await e.description(`HTTP error! status: ${g.status}`):e.description,j=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:b,...j})}else if(g instanceof Error){l=!1;const v=typeof e.error=="function"?await e.error(g):e.error,b=typeof e.description=="function"?await e.description(g):e.description,j=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:b,...j})}else if(e.success!==void 0){l=!1;const v=typeof e.success=="function"?await e.success(g):e.success,b=typeof e.description=="function"?await e.description(g):e.description,j=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:s,type:"success",description:b,...j})}}).catch(async g=>{if(h=["reject",g],e.error!==void 0){l=!1;const E=typeof e.error=="function"?await e.error(g):e.error,v=typeof e.description=="function"?await e.description(g):e.description,N=typeof E=="object"&&!ct.isValidElement(E)?E:{message:E};this.create({id:s,type:"error",description:v,...N})}}).finally(()=>{l&&(this.dismiss(s),s=void 0),e.finally==null||e.finally.call(e)}),p=()=>new Promise((g,E)=>d.then(()=>h[0]==="reject"?E(h[1]):g(h[1])).catch(E));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(t,e)=>{const s=(e==null?void 0:e.id)||ug++;return this.create({jsx:t(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Gn=new FC,qC=(i,t)=>{const e=(t==null?void 0:t.id)||ug++;return Gn.addToast({title:i,...t,id:e}),e},GC=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",KC=qC,QC=()=>Gn.toasts,$C=()=>Gn.getActiveToasts(),rr=Object.assign(KC,{success:Gn.success,info:Gn.info,warning:Gn.warning,error:Gn.error,custom:Gn.custom,message:Gn.message,promise:Gn.promise,dismiss:Gn.dismiss,loading:Gn.loading},{getHistory:QC,getToasts:$C});MC("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function df(i){return i.label!==void 0}const YC=3,XC="24px",WC="16px",BE=4e3,ZC=356,JC=14,tI=45,eI=200;function Ji(...i){return i.filter(Boolean).join(" ")}function nI(i){const[t,e]=i.split("-"),s=[];return t&&s.push(t),e&&s.push(e),s}const iI=i=>{var t,e,s,o,l,h,d,p,g;const{invert:E,toast:v,unstyled:b,interacting:N,setHeights:j,visibleToasts:z,heights:O,index:et,toasts:ot,expanded:Z,removeToast:rt,defaultRichColors:at,closeButton:lt,style:k,cancelButtonStyle:A,actionButtonStyle:C,className:M="",descriptionClassName:P="",duration:U,position:x,gap:Tt,expandByDefault:kt,classNames:F,icons:ut,closeButtonAriaLabel:dt="Close toast"}=i,[xt,V]=ct.useState(null),[Y,st]=ct.useState(null),[W,ft]=ct.useState(!1),[bt,pt]=ct.useState(!1),[le,qt]=ct.useState(!1),[Ae,Ne]=ct.useState(!1),[vn,ln]=ct.useState(!1),[In,tn]=ct.useState(0),[ee,si]=ct.useState(0),ve=ct.useRef(v.duration||U||BE),ss=ct.useRef(null),un=ct.useRef(null),Pi=et===0,Ti=et+1<=z,qe=v.type,xn=v.dismissible!==!1,Li=v.className||"",as=v.descriptionClassName||"",_t=ct.useMemo(()=>O.findIndex(At=>At.toastId===v.id)||0,[O,v.id]),Ht=ct.useMemo(()=>{var At;return(At=v.closeButton)!=null?At:lt},[v.closeButton,lt]),Ge=ct.useMemo(()=>v.duration||U||BE,[v.duration,U]),Pe=ct.useRef(0),bi=ct.useRef(0),vo=ct.useRef(0),Ln=ct.useRef(null),[fr,dr]=x.split("-"),Un=ct.useMemo(()=>O.reduce((At,_e,ye)=>ye>=_t?At:At+_e.height,0),[O,_t]),mr=HC(),pr=v.invert||E,gr=qe==="loading";bi.current=ct.useMemo(()=>_t*Tt+Un,[_t,Un]),ct.useEffect(()=>{ve.current=Ge},[Ge]),ct.useEffect(()=>{ft(!0)},[]),ct.useEffect(()=>{const At=un.current;if(At){const _e=At.getBoundingClientRect().height;return si(_e),j(ye=>[{toastId:v.id,height:_e,position:v.position},...ye]),()=>j(ye=>ye.filter(Le=>Le.toastId!==v.id))}},[j,v.id]),ct.useLayoutEffect(()=>{if(!W)return;const At=un.current,_e=At.style.height;At.style.height="auto";const ye=At.getBoundingClientRect().height;At.style.height=_e,si(ye),j(Le=>Le.find(Re=>Re.toastId===v.id)?Le.map(Re=>Re.toastId===v.id?{...Re,height:ye}:Re):[{toastId:v.id,height:ye,position:v.position},...Le])},[W,v.title,v.description,j,v.id,v.jsx,v.action,v.cancel]);const jn=ct.useCallback(()=>{pt(!0),tn(bi.current),j(At=>At.filter(_e=>_e.toastId!==v.id)),setTimeout(()=>{rt(v)},eI)},[v,rt,j,bi]);ct.useEffect(()=>{if(v.promise&&qe==="loading"||v.duration===1/0||v.type==="loading")return;let At;return Z||N||mr?(()=>{if(vo.current<Pe.current){const Le=new Date().getTime()-Pe.current;ve.current=ve.current-Le}vo.current=new Date().getTime()})():(()=>{ve.current!==1/0&&(Pe.current=new Date().getTime(),At=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),jn()},ve.current))})(),()=>clearTimeout(At)},[Z,N,v,qe,mr,jn]),ct.useEffect(()=>{v.delete&&(jn(),v.onDismiss==null||v.onDismiss.call(v,v))},[jn,v.delete]);function ma(){var At;if(ut!=null&&ut.loading){var _e;return ct.createElement("div",{className:Ji(F==null?void 0:F.loader,v==null||(_e=v.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":qe==="loading"},ut.loading)}return ct.createElement(PC,{className:Ji(F==null?void 0:F.loader,v==null||(At=v.classNames)==null?void 0:At.loader),visible:qe==="loading"})}const Si=v.icon||(ut==null?void 0:ut[qe])||kC(qe);var ai,os;return ct.createElement("li",{tabIndex:0,ref:un,className:Ji(M,Li,F==null?void 0:F.toast,v==null||(t=v.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[qe],v==null||(e=v.classNames)==null?void 0:e[qe]),"data-sonner-toast":"","data-rich-colors":(ai=v.richColors)!=null?ai:at,"data-styled":!(v.jsx||v.unstyled||b),"data-mounted":W,"data-promise":!!v.promise,"data-swiped":vn,"data-removed":bt,"data-visible":Ti,"data-y-position":fr,"data-x-position":dr,"data-index":et,"data-front":Pi,"data-swiping":le,"data-dismissible":xn,"data-type":qe,"data-invert":pr,"data-swipe-out":Ae,"data-swipe-direction":Y,"data-expanded":!!(Z||kt&&W),style:{"--index":et,"--toasts-before":et,"--z-index":ot.length-et,"--offset":`${bt?In:bi.current}px`,"--initial-height":kt?"auto":`${ee}px`,...k,...v.style},onDragEnd:()=>{qt(!1),V(null),Ln.current=null},onPointerDown:At=>{gr||!xn||(ss.current=new Date,tn(bi.current),At.target.setPointerCapture(At.pointerId),At.target.tagName!=="BUTTON"&&(qt(!0),Ln.current={x:At.clientX,y:At.clientY}))},onPointerUp:()=>{var At,_e,ye;if(Ae||!xn)return;Ln.current=null;const Le=Number(((At=un.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$n=Number(((_e=un.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Re=new Date().getTime()-((ye=ss.current)==null?void 0:ye.getTime()),Gt=xt==="x"?Le:$n,Ee=Math.abs(Gt)/Re;if(Math.abs(Gt)>=tI||Ee>.11){tn(bi.current),v.onDismiss==null||v.onDismiss.call(v,v),st(xt==="x"?Le>0?"right":"left":$n>0?"down":"up"),jn(),Ne(!0);return}else{var ne,Te;(ne=un.current)==null||ne.style.setProperty("--swipe-amount-x","0px"),(Te=un.current)==null||Te.style.setProperty("--swipe-amount-y","0px")}ln(!1),qt(!1),V(null)},onPointerMove:At=>{var _e,ye,Le;if(!Ln.current||!xn||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;const Re=At.clientY-Ln.current.y,Gt=At.clientX-Ln.current.x;var Ee;const ne=(Ee=i.swipeDirections)!=null?Ee:nI(x);!xt&&(Math.abs(Gt)>1||Math.abs(Re)>1)&&V(Math.abs(Gt)>Math.abs(Re)?"x":"y");let Te={x:0,y:0};const ls=wi=>1/(1.5+Math.abs(wi)/20);if(xt==="y"){if(ne.includes("top")||ne.includes("bottom"))if(ne.includes("top")&&Re<0||ne.includes("bottom")&&Re>0)Te.y=Re;else{const wi=Re*ls(Re);Te.y=Math.abs(wi)<Math.abs(Re)?wi:Re}}else if(xt==="x"&&(ne.includes("left")||ne.includes("right")))if(ne.includes("left")&&Gt<0||ne.includes("right")&&Gt>0)Te.x=Gt;else{const wi=Gt*ls(Gt);Te.x=Math.abs(wi)<Math.abs(Gt)?wi:Gt}(Math.abs(Te.x)>0||Math.abs(Te.y)>0)&&ln(!0),(ye=un.current)==null||ye.style.setProperty("--swipe-amount-x",`${Te.x}px`),(Le=un.current)==null||Le.style.setProperty("--swipe-amount-y",`${Te.y}px`)}},Ht&&!v.jsx&&qe!=="loading"?ct.createElement("button",{"aria-label":dt,"data-disabled":gr,"data-close-button":!0,onClick:gr||!xn?()=>{}:()=>{jn(),v.onDismiss==null||v.onDismiss.call(v,v)},className:Ji(F==null?void 0:F.closeButton,v==null||(s=v.classNames)==null?void 0:s.closeButton)},(os=ut==null?void 0:ut.close)!=null?os:zC):null,(qe||v.icon||v.promise)&&v.icon!==null&&((ut==null?void 0:ut[qe])!==null||v.icon)?ct.createElement("div",{"data-icon":"",className:Ji(F==null?void 0:F.icon,v==null||(o=v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||ma():null,v.type!=="loading"?Si:null):null,ct.createElement("div",{"data-content":"",className:Ji(F==null?void 0:F.content,v==null||(l=v.classNames)==null?void 0:l.content)},ct.createElement("div",{"data-title":"",className:Ji(F==null?void 0:F.title,v==null||(h=v.classNames)==null?void 0:h.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?ct.createElement("div",{"data-description":"",className:Ji(P,as,F==null?void 0:F.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),ct.isValidElement(v.cancel)?v.cancel:v.cancel&&df(v.cancel)?ct.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||A,onClick:At=>{df(v.cancel)&&xn&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,At),jn())},className:Ji(F==null?void 0:F.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,ct.isValidElement(v.action)?v.action:v.action&&df(v.action)?ct.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||C,onClick:At=>{df(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,At),!At.defaultPrevented&&jn())},className:Ji(F==null?void 0:F.actionButton,v==null||(g=v.classNames)==null?void 0:g.actionButton)},v.action.label):null)};function zE(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function rI(i,t){const e={};return[i,t].forEach((s,o)=>{const l=o===1,h=l?"--mobile-offset":"--offset",d=l?WC:XC;function p(g){["top","right","bottom","left"].forEach(E=>{e[`${h}-${E}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?e[`${h}-${g}`]=d:e[`${h}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):p(d)}),e}const Dc=ct.forwardRef(function(t,e){const{invert:s,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:h,closeButton:d,className:p,offset:g,mobileOffset:E,theme:v="light",richColors:b,duration:N,style:j,visibleToasts:z=YC,toastOptions:O,dir:et=zE(),gap:ot=JC,icons:Z,containerAriaLabel:rt="Notifications"}=t,[at,lt]=ct.useState([]),k=ct.useMemo(()=>Array.from(new Set([o].concat(at.filter(Y=>Y.position).map(Y=>Y.position)))),[at,o]),[A,C]=ct.useState([]),[M,P]=ct.useState(!1),[U,x]=ct.useState(!1),[Tt,kt]=ct.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=ct.useRef(null),ut=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),dt=ct.useRef(null),xt=ct.useRef(!1),V=ct.useCallback(Y=>{lt(st=>{var W;return(W=st.find(ft=>ft.id===Y.id))!=null&&W.delete||Gn.dismiss(Y.id),st.filter(({id:ft})=>ft!==Y.id)})},[]);return ct.useEffect(()=>Gn.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{lt(st=>st.map(W=>W.id===Y.id?{...W,delete:!0}:W))});return}setTimeout(()=>{Ka.flushSync(()=>{lt(st=>{const W=st.findIndex(ft=>ft.id===Y.id);return W!==-1?[...st.slice(0,W),{...st[W],...Y},...st.slice(W+1)]:[Y,...st]})})})}),[at]),ct.useEffect(()=>{if(v!=="system"){kt(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?kt("dark"):kt("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:st})=>{kt(st?"dark":"light")})}catch{Y.addListener(({matches:W})=>{try{kt(W?"dark":"light")}catch(ft){console.error(ft)}})}},[v]),ct.useEffect(()=>{at.length<=1&&P(!1)},[at]),ct.useEffect(()=>{const Y=st=>{var W;if(l.every(pt=>st[pt]||st.code===pt)){var bt;P(!0),(bt=F.current)==null||bt.focus()}st.code==="Escape"&&(document.activeElement===F.current||(W=F.current)!=null&&W.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[l]),ct.useEffect(()=>{if(F.current)return()=>{dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null,xt.current=!1)}},[F.current]),ct.createElement("section",{ref:e,"aria-label":`${rt} ${ut}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((Y,st)=>{var W;const[ft,bt]=Y.split("-");return at.length?ct.createElement("ol",{key:Y,dir:et==="auto"?zE():et,tabIndex:-1,ref:F,className:p,"data-sonner-toaster":!0,"data-sonner-theme":Tt,"data-y-position":ft,"data-x-position":bt,style:{"--front-toast-height":`${((W=A[0])==null?void 0:W.height)||0}px`,"--width":`${ZC}px`,"--gap":`${ot}px`,...j,...rI(g,E)},onBlur:pt=>{xt.current&&!pt.currentTarget.contains(pt.relatedTarget)&&(xt.current=!1,dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null))},onFocus:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||xt.current||(xt.current=!0,dt.current=pt.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{U||P(!1)},onDragEnd:()=>P(!1),onPointerDown:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||x(!0)},onPointerUp:()=>x(!1)},at.filter(pt=>!pt.position&&st===0||pt.position===Y).map((pt,le)=>{var qt,Ae;return ct.createElement(iI,{key:pt.id,icons:Z,index:le,toast:pt,defaultRichColors:b,duration:(qt=O==null?void 0:O.duration)!=null?qt:N,className:O==null?void 0:O.className,descriptionClassName:O==null?void 0:O.descriptionClassName,invert:s,visibleToasts:z,closeButton:(Ae=O==null?void 0:O.closeButton)!=null?Ae:d,interacting:U,position:Y,style:O==null?void 0:O.style,unstyled:O==null?void 0:O.unstyled,classNames:O==null?void 0:O.classNames,cancelButtonStyle:O==null?void 0:O.cancelButtonStyle,actionButtonStyle:O==null?void 0:O.actionButtonStyle,closeButtonAriaLabel:O==null?void 0:O.closeButtonAriaLabel,removeToast:V,toasts:at.filter(Ne=>Ne.position==pt.position),heights:A.filter(Ne=>Ne.position==pt.position),setHeights:C,expandByDefault:h,gap:ot,expanded:M,swipeDirections:t.swipeDirections})})):null}))});function sI({guesses:i,className:t,wordLength:e,highLight:s}){return R.jsx("div",{className:`wordle-board ${t}`,children:i.map((o,l)=>R.jsx(aI,{guess:o,wordLength:e,highLight:l===s-1?"highlight":""},l))})}function aI({guess:i,wordLength:t,highLight:e}){const s=[];for(let o=0;o<t;o++){let l=i.word[o],h=`tile ${i.colors[o]}`,d=`letter ${i.colors[o]}`;s.push(R.jsx("div",{className:h+" "+e,style:{"--index":o},children:R.jsxs("div",{className:"tile-inner",style:{"--index":o},children:[R.jsx("div",{className:"letter black",style:{"--index":o},children:R.jsx("span",{children:l})}),R.jsx("div",{className:d,style:{"--index":o},children:R.jsx("span",{children:l})})]})},o))}return R.jsx(R.Fragment,{children:s})}function iy({darkMode:i,gameMode:t,solution:e,wordSet:s,gameResult:o,setGameResult:l,rowIndex:h,numOfGuesses:d,wordLength:p,highLight:g,guesses:E,setGuesses:v,keyColors:b,setKeyColors:N,baseColors:j,userData:z}){const O=I.useRef({word:"",colors:j}),et=I.useRef(!0),ot=A=>new Promise(C=>setTimeout(C,A)),Z=(A,C)=>{setTimeout(()=>{b.get(A)!=="green"&&N(M=>{const P=new Map(M);return P.set(A,C),P})},1700)},rt=A=>{const C=[...E];C[h.current]={...A},v(C)},at=async()=>{const A=new Array(p).fill(void 0),C=new Map,M=[];let P=0;const U=new Map;e.forEach(x=>U.has(x)?U.set(x,U.get(x)+1):U.set(x,1)),O.current.word.split("").forEach((x,Tt)=>{x===e[Tt]?(A[Tt]="green",C.set(x,"green"),P++,U.set(x,U.get(x)-1)):M.push(Tt)}),M.forEach(x=>{const Tt=O.current.word[x];U.get(Tt)&&e.includes(Tt)?(A[x]="orange",U.set(Tt,U.get(Tt)-1),!C.has(Tt)&&C.set(Tt,"orange")):(A[x]="grey",!C.has(Tt)&&C.set(Tt,"grey"))}),C.forEach((x,Tt)=>{Z(Tt,x)}),O.current={word:O.current.word,colors:A},rt(O.current),await ot(1700),P===p&&(await ot(1e3),l("guessed"))},lt=A=>{k(A.target.id)},k=async A=>{(t==="practice"||t!=="practice"&&!(z!=null&&z.statistics.gameModes[t].finishedToday))&&!o&&et.current&&(A==="ENTER"?O.current.word.length===p?s.current.has(O.current.word.toLowerCase())?(et.current=!1,await at(),h.current++,O.current={word:"",colors:j},et.current=!0,!o&&h.current>=d&&(l("failed"),h.current++)):rr.warning("Not in the word bank."):rr.warning("Too short."):h.current<d&&(A==="BACKSPACE"&&O.current.word.length>0?(O.current.word=O.current.word.slice(0,-1),rt(O.current)):/[A-Z]/.test(A)&&A.length===1&&O.current.word.length<p&&(O.current.word=O.current.word+A,rt(O.current))))};return I.useEffect(()=>{const A=C=>{k(C.key.toUpperCase())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[E]),R.jsxs(R.Fragment,{children:[R.jsx(Dc,{richColors:!0,position:"top-center"}),R.jsx("h3",{className:`game-mode ${i}`,children:t}),R.jsx(sI,{guesses:E,className:i,wordLength:p,highLight:g}),R.jsx(ny.Provider,{value:{handleKeyClick:lt},children:R.jsx(xC,{className:i,keyColors:b})})]})}const oI=(i=!0)=>{const t=I.useRef(i),[e,s]=I.useState(t.current?"dark":"light"),o=I.useCallback(()=>{t.current=!t.current,s(t.current?"dark":"light")},[]);return[e,o]};var zp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var HE;function lI(){return HE||(HE=1,function(i){(function(){var t={}.hasOwnProperty;function e(){for(var l="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(l=o(l,s(d)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return e.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var d in l)t.call(l,d)&&l[d]&&(h=o(h,d));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(e.default=e,i.exports=e):window.classNames=e})()}(zp)),zp.exports}var uI=lI();const Mt=cd(uI);function cg(){return cg=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},cg.apply(null,arguments)}function tS(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)!==-1)continue;e[s]=i[s]}return e}function FE(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function cI(i){var t=hI(i,"string");return typeof t=="symbol"?t:String(t)}function hI(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var s=e.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function fI(i,t,e){var s=I.useRef(i!==void 0),o=I.useState(t),l=o[0],h=o[1],d=i!==void 0,p=s.current;return s.current=d,!d&&p&&l!==t&&h(t),[d?i:l,I.useCallback(function(g){for(var E=arguments.length,v=new Array(E>1?E-1:0),b=1;b<E;b++)v[b-1]=arguments[b];e&&e.apply(void 0,[g].concat(v)),h(g)},[e])]}function ry(i,t){return Object.keys(t).reduce(function(e,s){var o,l=e,h=l[FE(s)],d=l[s],p=tS(l,[FE(s),s].map(cI)),g=t[s],E=fI(d,h,i[g]),v=E[0],b=E[1];return cg({},p,(o={},o[s]=v,o[g]=b,o))},i)}function hg(i,t){return hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},hg(i,t)}function dI(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,hg(i,t)}const mI=["xxl","xl","lg","md","sm","xs"],pI="xs",Mc=I.createContext({prefixes:{},breakpoints:mI,minBreakpoint:pI}),{Consumer:OP,Provider:NP}=Mc;function jt(i,t){const{prefixes:e}=I.useContext(Mc);return i||e[t]||t}function gI(){const{breakpoints:i}=I.useContext(Mc);return i}function yI(){const{minBreakpoint:i}=I.useContext(Mc);return i}function vI(){const{dir:i}=I.useContext(Mc);return i==="rtl"}function hd(i){return i&&i.ownerDocument||document}function _I(i){var t=hd(i);return t&&t.defaultView||window}function EI(i,t){return _I(i).getComputedStyle(i,t)}var TI=/([A-Z])/g;function bI(i){return i.replace(TI,"-$1").toLowerCase()}var SI=/^ms-/;function mf(i){return bI(i).replace(SI,"-ms-")}var wI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function AI(i){return!!(i&&wI.test(i))}function $r(i,t){var e="",s="";if(typeof t=="string")return i.style.getPropertyValue(mf(t))||EI(i).getPropertyValue(mf(t));Object.keys(t).forEach(function(o){var l=t[o];!l&&l!==0?i.style.removeProperty(mf(o)):AI(o)?s+=o+"("+l+") ":e+=mf(o)+": "+l+";"}),s&&(e+="transform: "+s+";"),i.style.cssText+=";"+e}var Hp={exports:{}},Fp,qE;function RI(){if(qE)return Fp;qE=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fp=i,Fp}var qp,GE;function CI(){if(GE)return qp;GE=1;var i=RI();function t(){}function e(){}return e.resetWarningCache=t,qp=function(){function s(h,d,p,g,E,v){if(v!==i){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},qp}var KE;function II(){return KE||(KE=1,Hp.exports=CI()()),Hp.exports}var xI=II();const Yr=cd(xI),QE={disabled:!1},eS=ct.createContext(null);var OI=function(t){return t.scrollTop},Ju="unmounted",Ps="exited",Di="entering",qr="entered",dc="exiting",is=function(i){dI(t,i);function t(s,o){var l;l=i.call(this,s,o)||this;var h=o,d=h&&!h.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?d?(p=Ps,l.appearStatus=Di):p=qr:s.unmountOnExit||s.mountOnEnter?p=Ju:p=Ps,l.state={status:p},l.nextCallback=null,l}t.getDerivedStateFromProps=function(o,l){var h=o.in;return h&&l.status===Ju?{status:Ps}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(o){var l=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==Di&&h!==qr&&(l=Di):(h===Di||h===qr)&&(l=dc)}this.updateStatus(!1,l)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o=this.props.timeout,l,h,d;return l=h=d=o,o!=null&&typeof o!="number"&&(l=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:l,enter:h,appear:d}},e.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===Di){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:Ka.findDOMNode(this);h&&OI(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ps&&this.setState({status:Ju})},e.performEnter=function(o){var l=this,h=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[Ka.findDOMNode(this),d],g=p[0],E=p[1],v=this.getTimeouts(),b=d?v.appear:v.enter;if(!o&&!h||QE.disabled){this.safeSetState({status:qr},function(){l.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:Di},function(){l.props.onEntering(g,E),l.onTransitionEnd(b,function(){l.safeSetState({status:qr},function(){l.props.onEntered(g,E)})})})},e.performExit=function(){var o=this,l=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:Ka.findDOMNode(this);if(!l||QE.disabled){this.safeSetState({status:Ps},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:dc},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:Ps},function(){o.props.onExited(d)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},e.setNextCallback=function(o){var l=this,h=!0;return this.nextCallback=function(d){h&&(h=!1,l.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},e.onTransitionEnd=function(o,l){this.setNextCallback(l);var h=this.props.nodeRef?this.props.nodeRef.current:Ka.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}o!=null&&setTimeout(this.nextCallback,o)},e.render=function(){var o=this.state.status;if(o===Ju)return null;var l=this.props,h=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=tS(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ct.createElement(eS.Provider,{value:null},typeof h=="function"?h(o,d):ct.cloneElement(ct.Children.only(h),d))},t}(ct.Component);is.contextType=eS;is.propTypes={};function ol(){}is.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ol,onEntering:ol,onEntered:ol,onExit:ol,onExiting:ol,onExited:ol};is.UNMOUNTED=Ju;is.EXITED=Ps;is.ENTERING=Di;is.ENTERED=qr;is.EXITING=dc;function NI(i){return i.code==="Escape"||i.keyCode===27}function DI(){const i=I.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Bl(i){if(!i||typeof i=="function")return null;const{major:t}=DI();return t>=19?i.props.ref:i.ref}const zl=!!(typeof window<"u"&&window.document&&window.document.createElement);var fg=!1,dg=!1;try{var Gp={get passive(){return fg=!0},get once(){return dg=fg=!0}};zl&&(window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,!0))}catch{}function nS(i,t,e,s){if(s&&typeof s!="boolean"&&!dg){var o=s.once,l=s.capture,h=e;!dg&&o&&(h=e.__once||function d(p){this.removeEventListener(t,d,l),e.call(this,p)},e.__once=h),i.addEventListener(t,h,fg?s:l)}i.addEventListener(t,e,s)}function mg(i,t,e,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(t,e,o),e.__once&&i.removeEventListener(t,e.__once,o)}function Uf(i,t,e,s){return nS(i,t,e,s),function(){mg(i,t,e,s)}}function MI(i,t,e,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(t,e,s),i.dispatchEvent(o)}}function kI(i){var t=$r(i,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function VI(i,t,e){e===void 0&&(e=5);var s=!1,o=setTimeout(function(){s||MI(i,"transitionend",!0)},t+e),l=Uf(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function iS(i,t,e,s){e==null&&(e=kI(i)||0);var o=VI(i,e,s),l=Uf(i,"transitionend",t);return function(){o(),l()}}function $E(i,t){const e=$r(i,t)||"",s=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*s}function sy(i,t){const e=$E(i,"transitionDuration"),s=$E(i,"transitionDelay"),o=iS(i,l=>{l.target===i&&(o(),t(l))},e+s)}function Zu(...i){return i.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...o){t.apply(this,o),e.apply(this,o)}},null)}function rS(i){i.offsetHeight}const YE=i=>!i||typeof i=="function"?i:t=>{i.current=t};function PI(i,t){const e=YE(i),s=YE(t);return o=>{e&&e(o),s&&s(o)}}function sS(i,t){return I.useMemo(()=>PI(i,t),[i,t])}function LI(i){return i&&"setState"in i?Ka.findDOMNode(i):i??null}const fd=ct.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:s,onExiting:o,onExited:l,addEndListener:h,children:d,childRef:p,...g},E)=>{const v=I.useRef(null),b=sS(v,p),N=lt=>{b(LI(lt))},j=lt=>k=>{lt&&v.current&&lt(v.current,k)},z=I.useCallback(j(i),[i]),O=I.useCallback(j(t),[t]),et=I.useCallback(j(e),[e]),ot=I.useCallback(j(s),[s]),Z=I.useCallback(j(o),[o]),rt=I.useCallback(j(l),[l]),at=I.useCallback(j(h),[h]);return R.jsx(is,{ref:E,...g,onEnter:z,onEntered:et,onEntering:O,onExit:ot,onExited:rt,onExiting:Z,addEndListener:at,nodeRef:v,children:typeof d=="function"?(lt,k)=>d(lt,{...k,ref:N}):ct.cloneElement(d,{ref:N})})});fd.displayName="TransitionWrapper";const UI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function jI(i,t){const e=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=t[e],o=UI[i];return s+parseInt($r(t,o[0]),10)+parseInt($r(t,o[1]),10)}const BI={[Ps]:"collapse",[dc]:"collapsing",[Di]:"collapsing",[qr]:"collapse show"},ay=ct.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:s,onExiting:o,className:l,children:h,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:E=!1,unmountOnExit:v=!1,appear:b=!1,getDimensionValue:N=jI,...j},z)=>{const O=typeof d=="function"?d():d,et=I.useMemo(()=>Zu(lt=>{lt.style[O]="0"},i),[O,i]),ot=I.useMemo(()=>Zu(lt=>{const k=`scroll${O[0].toUpperCase()}${O.slice(1)}`;lt.style[O]=`${lt[k]}px`},t),[O,t]),Z=I.useMemo(()=>Zu(lt=>{lt.style[O]=null},e),[O,e]),rt=I.useMemo(()=>Zu(lt=>{lt.style[O]=`${N(O,lt)}px`,rS(lt)},s),[s,N,O]),at=I.useMemo(()=>Zu(lt=>{lt.style[O]=null},o),[O,o]);return R.jsx(fd,{ref:z,addEndListener:sy,...j,"aria-expanded":j.role?p:null,onEnter:et,onEntering:ot,onEntered:Z,onExit:rt,onExiting:at,childRef:Bl(h),in:p,timeout:g,mountOnEnter:E,unmountOnExit:v,appear:b,children:(lt,k)=>ct.cloneElement(h,{...k,className:Mt(l,h.props.className,BI[lt],O==="width"&&"collapse-horizontal")})})});ay.displayName="Collapse";function aS(i,t){return Array.isArray(i)?i.includes(t):i===t}const kc=I.createContext({});kc.displayName="AccordionContext";const oy=I.forwardRef(({as:i="div",bsPrefix:t,className:e,children:s,eventKey:o,...l},h)=>{const{activeEventKey:d}=I.useContext(kc);return t=jt(t,"accordion-collapse"),R.jsx(ay,{ref:h,in:aS(d,o),...l,className:Mt(e,t),children:R.jsx(i,{children:I.Children.only(s)})})});oy.displayName="AccordionCollapse";const dd=I.createContext({eventKey:""});dd.displayName="AccordionItemContext";const oS=I.forwardRef(({as:i="div",bsPrefix:t,className:e,onEnter:s,onEntering:o,onEntered:l,onExit:h,onExiting:d,onExited:p,...g},E)=>{t=jt(t,"accordion-body");const{eventKey:v}=I.useContext(dd);return R.jsx(oy,{eventKey:v,onEnter:s,onEntering:o,onEntered:l,onExit:h,onExiting:d,onExited:p,children:R.jsx(i,{ref:E,...g,className:Mt(e,t)})})});oS.displayName="AccordionBody";function zI(i,t){const{activeEventKey:e,onSelect:s,alwaysOpen:o}=I.useContext(kc);return l=>{let h=i===e?null:i;o&&(Array.isArray(e)?e.includes(i)?h=e.filter(d=>d!==i):h=[...e,i]:h=[i]),s==null||s(h,l),t==null||t(l)}}const ly=I.forwardRef(({as:i="button",bsPrefix:t,className:e,onClick:s,...o},l)=>{t=jt(t,"accordion-button");const{eventKey:h}=I.useContext(dd),d=zI(h,s),{activeEventKey:p}=I.useContext(kc);return i==="button"&&(o.type="button"),R.jsx(i,{ref:l,onClick:d,...o,"aria-expanded":Array.isArray(p)?p.includes(h):h===p,className:Mt(e,t,!aS(p,h)&&"collapsed")})});ly.displayName="AccordionButton";const lS=I.forwardRef(({as:i="h2","aria-controls":t,bsPrefix:e,className:s,children:o,onClick:l,...h},d)=>(e=jt(e,"accordion-header"),R.jsx(i,{ref:d,...h,className:Mt(s,e),children:R.jsx(ly,{onClick:l,"aria-controls":t,children:o})})));lS.displayName="AccordionHeader";const uS=I.forwardRef(({as:i="div",bsPrefix:t,className:e,eventKey:s,...o},l)=>{t=jt(t,"accordion-item");const h=I.useMemo(()=>({eventKey:s}),[s]);return R.jsx(dd.Provider,{value:h,children:R.jsx(i,{ref:l,...o,className:Mt(e,t)})})});uS.displayName="AccordionItem";const cS=I.forwardRef((i,t)=>{const{as:e="div",activeKey:s,bsPrefix:o,className:l,onSelect:h,flush:d,alwaysOpen:p,...g}=ry(i,{activeKey:"onSelect"}),E=jt(o,"accordion"),v=I.useMemo(()=>({activeEventKey:s,onSelect:h,alwaysOpen:p}),[s,h,p]);return R.jsx(kc.Provider,{value:v,children:R.jsx(e,{ref:t,...g,className:Mt(l,E,d&&`${E}-flush`)})})});cS.displayName="Accordion";const pf=Object.assign(cS,{Button:ly,Collapse:oy,Item:uS,Header:lS,Body:oS});function HI(i){return Nc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(i)}function FI(i){return Nc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(i)}const qI=()=>{};var XE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},GI=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const o=i[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[e++];t[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[e++],h=i[e++],d=i[e++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[e++],h=i[e++];t[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return t.join("")},fS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=l>>2,v=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,N=g&63;p||(N=64,h||(b=64)),s.push(e[E],e[v],e[b],e[N])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(hS(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):GI(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=e[i.charAt(o++)],d=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const v=o<i.length?e[i.charAt(o)]:64;if(++o,l==null||d==null||g==null||v==null)throw new KI;const b=l<<2|d>>4;if(s.push(b),g!==64){const N=d<<4&240|g>>2;if(s.push(N),v!==64){const j=g<<6&192|v;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class KI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QI=function(i){const t=hS(i);return fS.encodeByteArray(t,!0)},jf=function(i){return QI(i).replace(/\./g,"")},dS=function(i){try{return fS.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=()=>$I().__FIREBASE_DEFAULTS__,XI=()=>{if(typeof process>"u"||typeof XE>"u")return;const i=XE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},WI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&dS(i[1]);return t&&JSON.parse(t)},md=()=>{try{return qI()||YI()||XI()||WI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},mS=i=>{var t,e;return(e=(t=md())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},ZI=i=>{const t=mS(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},pS=()=>{var i;return(i=md())===null||i===void 0?void 0:i.config},gS=i=>{var t;return(t=md())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(i){return i.endsWith(".cloudworkstations.dev")}async function yS(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[jf(JSON.stringify(e)),jf(JSON.stringify(h)),""].join(".")}const ac={};function e2(){const i={prod:[],emulator:[]};for(const t of Object.keys(ac))ac[t]?i.emulator.push(t):i.prod.push(t);return i}function n2(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let WE=!1;function vS(i,t){if(typeof window>"u"||typeof document>"u"||!Hl(window.location.host)||ac[i]===t||ac[i]||WE)return;ac[i]=t;function e(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=e2().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,N){b.setAttribute("width","24"),b.setAttribute("id",N),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{WE=!0,h()},b}function E(b,N){b.setAttribute("id",N),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=n2(s),N=e("text"),j=document.getElementById(N)||document.createElement("span"),z=e("learnmore"),O=document.getElementById(z)||document.createElement("a"),et=e("preprendIcon"),ot=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Z=b.element;d(Z),E(O,z);const rt=g();p(ot,et),Z.append(ot,j,O,rt),document.body.appendChild(Z)}l?(j.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function r2(){var i;const t=(i=md())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function o2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l2(){const i=Rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function u2(){return!r2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c2(){try{return typeof indexedDB=="object"}catch{return!1}}function h2(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="FirebaseError";class rs extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=f2,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],h=l?d2(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new rs(o,d,s)}}function d2(i,t){return i.replace(m2,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const m2=/\{\$([^}]+)}/g;function p2(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function io(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const l=i[o],h=t[o];if(ZE(l)&&ZE(h)){if(!io(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function ZE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(i){const t=[];for(const[e,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function tc(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function ec(i){const t=i.indexOf("?");if(!t)return"";const e=i.indexOf("#",t);return i.substring(t,e>0?e:void 0)}function g2(i,t){const e=new y2(i,t);return e.subscribe.bind(e)}class y2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");v2(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=Kp),o.error===void 0&&(o.error=Kp),o.complete===void 0&&(o.complete=Kp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v2(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(i){return i&&i._delegate?i._delegate:i}class ro{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new JI;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(T2(t))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(t=qa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qa){return this.instances.has(t)}getOptions(t=qa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(t,e){var s;const o=this.normalizeInstanceIdentifier(e),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&t(h,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:E2(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=qa){return this.component?this.component.multipleInstances?t:qa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E2(i){return i===qa?void 0:i}function T2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new _2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})($t||($t={}));const S2={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},w2=$t.INFO,A2={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},R2=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=A2[t];if(o)console[o](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class uy{constructor(t){this.name=t,this._logLevel=w2,this._logHandler=R2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?S2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const C2=(i,t)=>t.some(e=>i instanceof e);let JE,tT;function I2(){return JE||(JE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x2(){return tT||(tT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _S=new WeakMap,pg=new WeakMap,ES=new WeakMap,Qp=new WeakMap,cy=new WeakMap;function O2(i){const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{e(Zs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&_S.set(e,i)}).catch(()=>{}),cy.set(t,i),t}function N2(i){if(pg.has(i))return;const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{e(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});pg.set(i,t)}let gg={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return pg.get(i);if(t==="objectStoreNames")return i.objectStoreNames||ES.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Zs(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function D2(i){gg=i(gg)}function M2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call($p(this),t,...e);return ES.set(s,t.sort?t.sort():[t]),Zs(s)}:x2().includes(i)?function(...t){return i.apply($p(this),t),Zs(_S.get(this))}:function(...t){return Zs(i.apply($p(this),t))}}function k2(i){return typeof i=="function"?M2(i):(i instanceof IDBTransaction&&N2(i),C2(i,I2())?new Proxy(i,gg):i)}function Zs(i){if(i instanceof IDBRequest)return O2(i);if(Qp.has(i))return Qp.get(i);const t=k2(i);return t!==i&&(Qp.set(i,t),cy.set(t,i)),t}const $p=i=>cy.get(i);function V2(i,t,{blocked:e,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,t),d=Zs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Zs(h.result),p.oldVersion,p.newVersion,Zs(h.transaction),p)}),e&&h.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const P2=["get","getKey","getAll","getAllKeys","count"],L2=["put","add","delete","clear"],Yp=new Map;function eT(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Yp.get(t))return Yp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=L2.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||P2.includes(e)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return Yp.set(t,l),l}D2(i=>({...i,get:(t,e,s)=>eT(t,e)||i.get(t,e,s),has:(t,e)=>!!eT(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(j2(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function j2(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const yg="@firebase/app",nT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new uy("@firebase/app"),B2="@firebase/app-compat",z2="@firebase/analytics-compat",H2="@firebase/analytics",F2="@firebase/app-check-compat",q2="@firebase/app-check",G2="@firebase/auth",K2="@firebase/auth-compat",Q2="@firebase/database",$2="@firebase/data-connect",Y2="@firebase/database-compat",X2="@firebase/functions",W2="@firebase/functions-compat",Z2="@firebase/installations",J2="@firebase/installations-compat",tx="@firebase/messaging",ex="@firebase/messaging-compat",nx="@firebase/performance",ix="@firebase/performance-compat",rx="@firebase/remote-config",sx="@firebase/remote-config-compat",ax="@firebase/storage",ox="@firebase/storage-compat",lx="@firebase/firestore",ux="@firebase/ai",cx="@firebase/firestore-compat",hx="firebase",fx="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="[DEFAULT]",dx={[yg]:"fire-core",[B2]:"fire-core-compat",[H2]:"fire-analytics",[z2]:"fire-analytics-compat",[q2]:"fire-app-check",[F2]:"fire-app-check-compat",[G2]:"fire-auth",[K2]:"fire-auth-compat",[Q2]:"fire-rtdb",[$2]:"fire-data-connect",[Y2]:"fire-rtdb-compat",[X2]:"fire-fn",[W2]:"fire-fn-compat",[Z2]:"fire-iid",[J2]:"fire-iid-compat",[tx]:"fire-fcm",[ex]:"fire-fcm-compat",[nx]:"fire-perf",[ix]:"fire-perf-compat",[rx]:"fire-rc",[sx]:"fire-rc-compat",[ax]:"fire-gcs",[ox]:"fire-gcs-compat",[lx]:"fire-fst",[cx]:"fire-fst-compat",[ux]:"fire-vertex","fire-js":"fire-js",[hx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new Map,mx=new Map,_g=new Map;function iT(i,t){try{i.container.addComponent(t)}catch(e){Zr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Nl(i){const t=i.name;if(_g.has(t))return Zr.debug(`There were multiple attempts to register component ${t}.`),!1;_g.set(t,i);for(const e of Bf.values())iT(e,i);for(const e of mx.values())iT(e,i);return!0}function hy(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Ei(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Vc("app","Firebase",px);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=fx;function TS(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:vg,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Js.create("bad-app-name",{appName:String(o)});if(e||(e=pS()),!e)throw Js.create("no-options");const l=Bf.get(o);if(l){if(io(e,l.options)&&io(s,l.config))return l;throw Js.create("duplicate-app",{appName:o})}const h=new b2(o);for(const p of _g.values())h.addComponent(p);const d=new gx(e,s,h);return Bf.set(o,d),d}function bS(i=vg){const t=Bf.get(i);if(!t&&i===vg&&pS())return TS();if(!t)throw Js.create("no-app",{appName:i});return t}function ta(i,t,e){var s;let o=(s=dx[i])!==null&&s!==void 0?s:i;e&&(o+=`-${e}`);const l=o.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${t}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zr.warn(d.join(" "));return}Nl(new ro(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="firebase-heartbeat-database",vx=1,mc="firebase-heartbeat-store";let Xp=null;function SS(){return Xp||(Xp=V2(yx,vx,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(mc)}catch(e){console.warn(e)}}}}).catch(i=>{throw Js.create("idb-open",{originalErrorMessage:i.message})})),Xp}async function _x(i){try{const e=(await SS()).transaction(mc),s=await e.objectStore(mc).get(wS(i));return await e.done,s}catch(t){if(t instanceof rs)Zr.warn(t.message);else{const e=Js.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Zr.warn(e.message)}}}async function rT(i,t){try{const s=(await SS()).transaction(mc,"readwrite");await s.objectStore(mc).put(t,wS(i)),await s.done}catch(e){if(e instanceof rs)Zr.warn(e.message);else{const s=Js.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(s.message)}}}function wS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=1024,Tx=30;class bx{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new wx(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=sT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>Tx){const h=Ax(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Zr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sT(),{heartbeatsToSend:s,unsentEntries:o}=Sx(this._heartbeatsCache.heartbeats),l=jf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Zr.warn(e),""}}}function sT(){return new Date().toISOString().substring(0,10)}function Sx(i,t=Ex){const e=[];let s=i.slice();for(const o of i){const l=e.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),aT(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),aT(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class wx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c2()?h2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await _x(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return rT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return rT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function aT(i){return jf(JSON.stringify({version:2,heartbeats:i})).length}function Ax(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(i){Nl(new ro("platform-logger",t=>new U2(t),"PRIVATE")),Nl(new ro("heartbeat",t=>new bx(t),"PRIVATE")),ta(yg,nT,i),ta(yg,nT,"esm2017"),ta("fire-js","")}Rx("");var Cx="firebase",Ix="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(Cx,Ix,"app");function fy(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(e[s[o]]=i[s[o]]);return e}function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xx=AS,RS=new Vc("auth","Firebase",AS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new uy("@firebase/auth");function Ox(i,...t){zf.logLevel<=$t.WARN&&zf.warn(`Auth (${Fl}): ${i}`,...t)}function Rf(i,...t){zf.logLevel<=$t.ERROR&&zf.error(`Auth (${Fl}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(i,...t){throw dy(i,...t)}function sr(i,...t){return dy(i,...t)}function CS(i,t,e){const s=Object.assign(Object.assign({},xx()),{[t]:e});return new Vc("auth","Firebase",s).create(t,{appName:i.name})}function Xr(i){return CS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dy(i,...t){if(typeof i!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(e,...s)}return RS.create(i,...t)}function Ot(i,t,...e){if(!i)throw dy(t,...e)}function Kr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Rf(t),new Error(t)}function Jr(i,t){i||Kr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Nx(){return oT()==="http:"||oT()==="https:"}function oT(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nx()||a2()||"connection"in navigator)?navigator.onLine:!0}function Mx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Jr(e>t,"Short delay should be less than long delay!"),this.isMobile=i2()||o2()}get(){return Dx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(i,t){Jr(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Px=new Lc(3e4,6e4);function ca(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function ha(i,t,e,s,o={}){return xS(i,o,async()=>{let l={},h={};s&&(t==="GET"?h=s:l={body:JSON.stringify(s)});const d=Pc(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},l);return s2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Hl(i.emulatorConfig.host)&&(g.credentials="include"),IS.fetch()(await OS(i,i.config.apiHost,e,d),g)})}async function xS(i,t,e){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},kx),t);try{const o=new Ux(i),l=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw gf(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gf(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw gf(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw gf(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw CS(i,E,g);ki(i,E)}}catch(o){if(o instanceof rs)throw o;ki(i,"network-request-failed",{message:String(o)})}}async function Uc(i,t,e,s,o={}){const l=await ha(i,t,e,s,o);return"mfaPendingCredential"in l&&ki(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function OS(i,t,e,s){const o=`${t}${e}?${s}`,l=i,h=l.config.emulator?my(i.config,o):`${i.config.apiScheme}://${o}`;return Vx.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function Lx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ux{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(sr(this.auth,"network-request-failed")),Px.get())})}}function gf(i,t,e){const s={appName:i.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=sr(i,t,s);return o.customData._tokenResponse=e,o}function lT(i){return i!==void 0&&i.enterprise!==void 0}class jx{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Lx(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Bx(i,t){return ha(i,"GET","/v2/recaptchaConfig",ca(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(i,t){return ha(i,"POST","/v1/accounts:delete",t)}async function Hf(i,t){return ha(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Hx(i,t=!1){const e=Cn(i),s=await e.getIdToken(t),o=py(s);Ot(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:oc(Wp(o.auth_time)),issuedAtTime:oc(Wp(o.iat)),expirationTime:oc(Wp(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Wp(i){return Number(i)*1e3}function py(i){const[t,e,s]=i.split(".");if(t===void 0||e===void 0||s===void 0)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const o=dS(e);return o?JSON.parse(o):(Rf("Failed to decode base64 JWT payload"),null)}catch(o){return Rf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function uT(i){const t=py(i);return Ot(t,"internal-error"),Ot(typeof t.exp<"u","internal-error"),Ot(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(i,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof rs&&Fx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Fx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(i){var t;const e=i.auth,s=await i.getIdToken(),o=await pc(i,Hf(e,{idToken:s}));Ot(o==null?void 0:o.users.length,e,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?NS(l.providerUserInfo):[],d=Kx(i.providerData,h),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Tg(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(i,v)}async function Gx(i){const t=Cn(i);await Ff(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Kx(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function NS(i){return i.map(t=>{var{providerId:e}=t,s=fy(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(i,t){const e=await xS(i,{},async()=>{const s=Pc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=await OS(i,o,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return i.emulatorConfig&&Hl(i.emulatorConfig.host)&&(p.credentials="include"),IS.fetch()(h,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function $x(i,t){return ha(i,"POST","/v2/accounts:revokeToken",ca(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ot(t.idToken,"internal-error"),Ot(typeof t.idToken<"u","internal-error"),Ot(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ot(t.length!==0,"internal-error");const e=uT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:l}=await Qx(t,e);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:l}=e,h=new pl;return s&&(Ot(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(Ot(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),l&&(Ot(typeof l=="number","internal-error",{appName:t}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(i,t){Ot(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Mi{constructor(t){var{uid:e,auth:s,stsTokenManager:o}=t,l=fy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Tg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await pc(this,this.stsTokenManager.getToken(this.auth,t));return Ot(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Hx(this,t)}reload(){return Gx(this)}_assign(t){this!==t&&(Ot(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Mi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Ff(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(Xr(this.auth));const t=await this.getIdToken();return await pc(this,zx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,o,l,h,d,p,g,E;const v=(s=e.displayName)!==null&&s!==void 0?s:void 0,b=(o=e.email)!==null&&o!==void 0?o:void 0,N=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,j=(h=e.photoURL)!==null&&h!==void 0?h:void 0,z=(d=e.tenantId)!==null&&d!==void 0?d:void 0,O=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,et=(g=e.createdAt)!==null&&g!==void 0?g:void 0,ot=(E=e.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Z,emailVerified:rt,isAnonymous:at,providerData:lt,stsTokenManager:k}=e;Ot(Z&&k,t,"internal-error");const A=pl.fromJSON(this.name,k);Ot(typeof Z=="string",t,"internal-error"),ks(v,t.name),ks(b,t.name),Ot(typeof rt=="boolean",t,"internal-error"),Ot(typeof at=="boolean",t,"internal-error"),ks(N,t.name),ks(j,t.name),ks(z,t.name),ks(O,t.name),ks(et,t.name),ks(ot,t.name);const C=new Mi({uid:Z,auth:t,email:b,emailVerified:rt,displayName:v,isAnonymous:at,photoURL:j,phoneNumber:N,tenantId:z,stsTokenManager:A,createdAt:et,lastLoginAt:ot});return lt&&Array.isArray(lt)&&(C.providerData=lt.map(M=>Object.assign({},M))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(t,e,s=!1){const o=new pl;o.updateFromServerResponse(e);const l=new Mi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ff(l),l}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];Ot(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?NS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new pl;d.updateFromIdToken(s);const p=new Mi({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Tg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new Map;function Qr(i){Jr(i instanceof Function,"Expected a class definition");let t=cT.get(i);return t?(Jr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,cT.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}DS.type="NONE";const hT=DS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(i,t,e){return`firebase:${i}:${t}:${e}`}class gl{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Cf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Cf("persistence",o.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Hf(this.auth,{idToken:t}).catch(()=>{});return e?Mi._fromGetAccountInfoResponse(this.auth,e,t):null}return Mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new gl(Qr(hT),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Qr(hT);const h=Cf(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const E=await g._get(h);if(E){let v;if(typeof E=="string"){const b=await Hf(t,{idToken:E}).catch(()=>{});if(!b)break;v=await Mi._fromGetAccountInfoResponse(t,b,E)}else v=Mi._fromJSON(t,E);g!==l&&(d=v),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new gl(l,t,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new gl(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(US(t))return"Blackberry";if(jS(t))return"Webos";if(kS(t))return"Safari";if((t.includes("chrome/")||VS(t))&&!t.includes("edge/"))return"Chrome";if(LS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function MS(i=Rn()){return/firefox\//i.test(i)}function kS(i=Rn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function VS(i=Rn()){return/crios\//i.test(i)}function PS(i=Rn()){return/iemobile/i.test(i)}function LS(i=Rn()){return/android/i.test(i)}function US(i=Rn()){return/blackberry/i.test(i)}function jS(i=Rn()){return/webos/i.test(i)}function gy(i=Rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Yx(i=Rn()){var t;return gy(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Xx(){return l2()&&document.documentMode===10}function BS(i=Rn()){return gy(i)||LS(i)||jS(i)||US(i)||/windows phone/i.test(i)||PS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(i,t=[]){let e;switch(i){case"Browser":e=fT(Rn());break;case"Worker":e=`${fT(Rn())}-${i}`;break;default:e=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((h,d)=>{try{const p=t(l);h(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(i,t={}){return ha(i,"GET","/v2/passwordPolicy",ca(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=6;class tO{constructor(t){var e,s,o,l;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=h.minPasswordLength)!==null&&e!==void 0?e:Jx,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dT(this),this.idTokenSubscription=new dT(this),this.beforeStateQueue=new Wx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Qr(e)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await gl.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Hf(this,{idToken:t}),s=await Mi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ei(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ff(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Mx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ei(this.app))return Promise.reject(Xr(this));const e=t?Cn(t):null;return e&&Ot(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ot(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ei(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Zx(this),e=new tO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vc("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await $x(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Qr(t)||this._popupRedirectResolver;Ot(e,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Qr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(e);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=zS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&Ox(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function po(i){return Cn(i)}class dT{constructor(t){this.auth=t,this.observer=null,this.addObserver=g2(e=>this.observer=e)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nO(i){pd=i}function HS(i){return pd.loadJS(i)}function iO(){return pd.recaptchaEnterpriseScript}function rO(){return pd.gapiScript}function sO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class aO{constructor(){this.enterprise=new oO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class oO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const lO="recaptcha-enterprise",FS="NO_RECAPTCHA";class uO{constructor(t){this.type=lO,this.auth=po(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{Bx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new jx(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,h,d){const p=window.grecaptcha;lT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(g=>{h(g)}).catch(()=>{h(FS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aO().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(d=>{if(!e&&lT(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=iO();p.length!==0&&(p+=d),HS(p).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function mT(i,t,e,s=!1,o=!1){const l=new uO(i);let h;if(o)h=FS;else try{h=await l.verify(e)}catch{h=await l.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function bg(i,t,e,s,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await mT(i,t,e,e==="getOobCode");return s(i,h)}else return s(i,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await mT(i,t,e,e==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(i,t){const e=hy(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),l=e.getOptions();if(io(l,t??{}))return o;ki(o,"already-initialized")}return e.initialize({options:t})}function hO(i,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(Qr);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function fO(i,t,e){const s=po(i);Ot(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,l=qS(t),{host:h,port:d}=dO(t),p=d===null?"":`:${d}`,g={url:`${l}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ot(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ot(io(g,s.config.emulator)&&io(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Hl(h)?(yS(`${l}//${h}${p}`),vS("Auth",!0)):mO()}function qS(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function dO(i){const t=qS(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:pT(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:pT(h)}}}function pT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function mO(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Kr("not implemented")}_getIdTokenResponse(t){return Kr("not implemented")}_linkToIdToken(t,e){return Kr("not implemented")}_getReauthenticationResolver(t){return Kr("not implemented")}}async function pO(i,t){return ha(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(i,t){return Uc(i,"POST","/v1/accounts:signInWithPassword",ca(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(i,t){return Uc(i,"POST","/v1/accounts:signInWithEmailLink",ca(i,t))}async function vO(i,t){return Uc(i,"POST","/v1/accounts:signInWithEmailLink",ca(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends yy{constructor(t,e,s,o=null){super("password",s),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new gc(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new gc(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(t,e,"signInWithPassword",gO);case"emailLink":return yO(t,{email:this._email,oobCode:this._password});default:ki(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(t,s,"signUpPassword",pO);case"emailLink":return vO(t,{idToken:e,email:this._email,oobCode:this._password});default:ki(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(i,t){return Uc(i,"POST","/v1/accounts:signInWithIdp",ca(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="http://localhost";class so extends yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new so(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ki("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=e,l=fy(e,["providerId","signInMethod"]);if(!s||!o)return null;const h=new so(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return yl(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,yl(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,yl(t,e)}buildRequest(){const t={requestUri:_O,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Pc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TO(i){const t=tc(ec(i)).link,e=t?tc(ec(t)).deep_link_id:null,s=tc(ec(i)).deep_link_id;return(s?tc(ec(s)).link:null)||s||e||t||i}class vy{constructor(t){var e,s,o,l,h,d;const p=tc(ec(t)),g=(e=p.apiKey)!==null&&e!==void 0?e:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,v=EO((o=p.mode)!==null&&o!==void 0?o:null);Ot(g&&E&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=E,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=TO(t);try{return new vy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.providerId=ql.PROVIDER_ID}static credential(t,e){return gc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=vy.parseLink(e);return Ot(s,"argument-error"),gc._fromEmailAndCode(t,s.code,s.tenantId)}}ql.PROVIDER_ID="password";ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends GS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends jc{constructor(){super("facebook.com")}static credential(t){return so._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return so._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return Us.credential(e,s)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends jc{constructor(){super("github.com")}static credential(t){return so._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends jc{constructor(){super("twitter.com")}static credential(t,e){return so._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Bs.credential(e,s)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(i,t){return Uc(i,"POST","/v1/accounts:signUp",ca(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const l=await Mi._fromIdTokenResponse(t,s,o),h=gT(s);return new ao({user:l,providerId:h,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=gT(s);return new ao({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function gT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends rs{constructor(t,e,s,o){var l;super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new qf(t,e,s,o)}}function KS(i,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(i,l,t,s):l})}async function SO(i,t,e=!1){const s=await pc(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return ao._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(i,t,e=!1){const{auth:s}=i;if(Ei(s.app))return Promise.reject(Xr(s));const o="reauthenticate";try{const l=await pc(i,KS(s,o,t,i),e);Ot(l.idToken,s,"internal-error");const h=py(l.idToken);Ot(h,s,"internal-error");const{sub:d}=h;return Ot(i.uid===d,s,"user-mismatch"),ao._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ki(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(i,t,e=!1){if(Ei(i.app))return Promise.reject(Xr(i));const s="signIn",o=await KS(i,s,t),l=await ao._fromIdTokenResponse(i,s,o);return e||await i._updateCurrentUser(l.user),l}async function AO(i,t){return QS(po(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(i){const t=po(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function RO(i,t,e){if(Ei(i.app))return Promise.reject(Xr(i));const s=po(i),h=await bg(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$S(i),p}),d=await ao._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function CO(i,t,e){return Ei(i.app)?Promise.reject(Xr(i)):AO(Cn(i),ql.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$S(i),s})}function IO(i,t,e,s){return Cn(i).onIdTokenChanged(t,e,s)}function xO(i,t,e){return Cn(i).beforeAuthStateChanged(t,e)}function OO(i,t,e,s){return Cn(i).onAuthStateChanged(t,e,s)}function NO(i){return Cn(i).signOut()}const Gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1e3,MO=10;class XS extends YS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!e&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);Xx()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,MO):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}XS.type="LOCAL";const kO=XS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS extends YS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}WS.type="SESSION";const ZS=WS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new gd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:l}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(e.origin,l)),p=await VO(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(i="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=_y("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(v){const b=v;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return window}function LO(i){ar().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function UO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function BO(){return JS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebaseLocalStorageDb",zO=1,Kf="firebaseLocalStorage",e1="fbase_key";class Bc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function yd(i,t){return i.transaction([Kf],t?"readwrite":"readonly").objectStore(Kf)}function HO(){const i=indexedDB.deleteDatabase(t1);return new Bc(i).toPromise()}function Sg(){const i=indexedDB.open(t1,zO);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kf,{keyPath:e1})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kf)?t(s):(s.close(),await HO(),t(await Sg()))})})}async function yT(i,t,e){const s=yd(i,!0).put({[e1]:t,value:e});return new Bc(s).toPromise()}async function FO(i,t){const e=yd(i,!1).get(t),s=await new Bc(e).toPromise();return s===void 0?null:s.value}function vT(i,t){const e=yd(i,!0).delete(t);return new Bc(e).toPromise()}const qO=800,GO=3;class n1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>GO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(BO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await UO(),!this.activeServiceWorker)return;this.sender=new PO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sg();return await yT(t,Gf,"1"),await vT(t,Gf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>yT(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>FO(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>vT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=yd(o,!1).getAll();return new Bc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n1.type="LOCAL";const KO=n1;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(i,t){return t?Qr(t):(Ot(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends yy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return yl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return yl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return yl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function $O(i){return QS(i.auth,new Ey(i),i.bypassAuthState)}function YO(i){const{auth:t,user:e}=i;return Ot(e,t,"internal-error"),wO(e,new Ey(i),i.bypassAuthState)}async function XO(i){const{auth:t,user:e}=i;return Ot(e,t,"internal-error"),SO(e,new Ey(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,e,s,o,l=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $O;case"linkViaPopup":case"linkViaRedirect":return XO;case"reauthViaPopup":case"reauthViaRedirect":return YO;default:ki(this.auth,"internal-error")}}resolve(t){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Lc(2e3,1e4);class ml extends i1{constructor(t,e,s,o,l){super(t,e,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ot(t,this.auth,"internal-error"),t}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const t=_y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WO.get())};t()}}ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="pendingRedirect",If=new Map;class JO extends i1{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=If.get(this.auth._key());if(!t){try{const s=await tN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}If.set(this.auth._key(),t)}return this.bypassAuthState||If.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tN(i,t){const e=iN(t),s=nN(i);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function eN(i,t){If.set(i._key(),t)}function nN(i){return Qr(i._redirectPersistence)}function iN(i){return Cf(ZO,i.config.apiKey,i.name)}async function rN(i,t,e=!1){if(Ei(i.app))return Promise.reject(Xr(i));const s=po(i),o=QO(s,t),h=await new JO(s,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=10*60*1e3;class aN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!oN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!r1(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(sr(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sN&&this.cachedEventUids.clear(),this.cachedEventUids.has(_T(t))}saveEventToCache(t){this.cachedEventUids.add(_T(t)),this.lastProcessedEventTime=Date.now()}}function _T(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function r1({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function oN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(i,t={}){return ha(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cN=/^https?/;async function hN(i){if(i.config.emulator)return;const{authorizedDomains:t}=await lN(i);for(const e of t)try{if(fN(e))return}catch{}ki(i,"unauthorized-domain")}function fN(i){const t=Eg(),{protocol:e,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===s}if(!cN.test(e))return!1;if(uN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Lc(3e4,6e4);function ET(){const i=ar().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function mN(i){return new Promise((t,e)=>{var s,o,l;function h(){ET(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ET(),e(sr(i,"network-request-failed"))},timeout:dN.get()})}if(!((o=(s=ar().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((l=ar().gapi)===null||l===void 0)&&l.load)h();else{const d=sO("iframefcb");return ar()[d]=()=>{gapi.load?h():e(sr(i,"network-request-failed"))},HS(`${rO()}?onload=${d}`).catch(p=>e(p))}}).catch(t=>{throw xf=null,t})}let xf=null;function pN(i){return xf=xf||mN(i),xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new Lc(5e3,15e3),yN="__/auth/iframe",vN="emulator/auth/iframe",_N={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TN(i){const t=i.config;Ot(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?my(t,vN):`https://${i.config.authDomain}/${yN}`,s={apiKey:t.apiKey,appName:i.name,v:Fl},o=EN.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${Pc(s).slice(1)}`}async function bN(i){const t=await pN(i),e=ar().gapi;return Ot(e,i,"internal-error"),t.open({where:document.body,url:TN(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_N,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=sr(i,"network-request-failed"),d=ar().setTimeout(()=>{l(h)},gN.get());function p(){ar().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wN=500,AN=600,RN="_blank",CN="http://localhost";class TT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IN(i,t,e,s=wN,o=AN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},SN),{width:s.toString(),height:o.toString(),top:l,left:h}),g=Rn().toLowerCase();e&&(d=VS(g)?RN:e),MS(g)&&(t=t||CN,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[N,j])=>`${b}${N}=${j},`,"");if(Yx(g)&&d!=="_self")return xN(t||"",d),new TT(null);const v=window.open(t||"",d,E);Ot(v,i,"popup-blocked");try{v.focus()}catch{}return new TT(v)}function xN(i,t){const e=document.createElement("a");e.href=i,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="__/auth/handler",NN="emulator/auth/handler",DN=encodeURIComponent("fac");async function bT(i,t,e,s,o,l){Ot(i.config.authDomain,i,"auth-domain-config-required"),Ot(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:s,v:Fl,eventId:o};if(t instanceof GS){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",p2(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,v]of Object.entries({}))h[E]=v}if(t instanceof jc){const E=t.getScopes().filter(v=>v!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await i._getAppCheckToken(),g=p?`#${DN}=${encodeURIComponent(p)}`:"";return`${MN(i)}?${Pc(d).slice(1)}${g}`}function MN({config:i}){return i.emulator?my(i,NN):`https://${i.authDomain}/${ON}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="webStorageSupport";class kN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZS,this._completeRedirectFn=rN,this._overrideRedirectResult=eN}async _openPopup(t,e,s,o){var l;Jr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await bT(t,e,s,Eg(),o);return IN(t,h,_y())}async _openRedirect(t,e,s,o){await this._originValidation(t);const l=await bT(t,e,s,Eg(),o);return LO(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:l}=this.eventManagers[e];return o?Promise.resolve(o):(Jr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await bN(t),s=new aN(t);return e.register("authEvent",o=>(Ot(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Zp,{type:Zp},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Zp];h!==void 0&&e(!!h),ki(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=hN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return BS()||kS()||gy()}}const VN=kN;var ST="@firebase/auth",wT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UN(i){Nl(new ro("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ot(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zS(i)},g=new eO(s,o,l,p);return hO(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Nl(new ro("auth-internal",t=>{const e=po(t.getProvider("auth").getImmediate());return(s=>new PN(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ta(ST,wT,LN(i)),ta(ST,wT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=5*60,BN=gS("authIdTokenMaxAge")||jN;let AT=null;const zN=i=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>BN)return;const o=e==null?void 0:e.token;AT!==o&&(AT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HN(i=bS()){const t=hy(i,"auth");if(t.isInitialized())return t.getImmediate();const e=cO(i,{popupRedirectResolver:VN,persistence:[KO,kO,ZS]}),s=gS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=zN(l.toString());xO(e,h,()=>h(e.currentUser)),IO(e,d=>h(d))}}const o=mS("auth");return o&&fO(e,`http://${o}`),e}function FN(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}nO({loadJS(i){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const l=sr("internal-error");l.customData=o,e(l)},s.type="text/javascript",s.charset="UTF-8",FN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UN("Browser");var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,s1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,A){function C(){}C.prototype=A.prototype,k.D=A.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(M,P,U){for(var x=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)x[Tt-2]=arguments[Tt];return A.prototype[P].apply(M,x)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,C){C||(C=0);var M=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)M[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;16>P;++P)M[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=k.g[0],C=k.g[1],P=k.g[2];var U=k.g[3],x=A+(U^C&(P^U))+M[0]+3614090360&4294967295;A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+M[1]+3905402710&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+M[2]+606105819&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+M[3]+3250441966&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(U^C&(P^U))+M[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+M[5]+1200080426&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+M[6]+2821735955&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+M[7]+4249261313&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(U^C&(P^U))+M[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+M[9]+2336552879&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+M[10]+4294925233&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+M[11]+2304563134&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(U^C&(P^U))+M[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+M[13]+4254626195&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+M[14]+2792965006&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+M[15]+1236535329&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(P^U&(C^P))+M[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+M[6]+3225465664&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+M[11]+643717713&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+M[0]+3921069994&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^U&(C^P))+M[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+M[10]+38016083&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+M[15]+3634488961&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+M[4]+3889429448&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^U&(C^P))+M[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+M[14]+3275163606&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+M[3]+4107603335&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+M[8]+1163531501&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^U&(C^P))+M[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+M[2]+4243563512&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+M[7]+1735328473&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+M[12]+2368359562&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(C^P^U)+M[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+M[8]+2272392833&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+M[11]+1839030562&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+M[14]+4259657740&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^U)+M[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+M[4]+1272893353&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+M[7]+4139469664&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+M[10]+3200236656&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^U)+M[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+M[0]+3936430074&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+M[3]+3572445317&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+M[6]+76029189&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^U)+M[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+M[12]+3873151461&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+M[15]+530742520&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+M[2]+3299628645&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(P^(C|~U))+M[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+M[7]+1126891415&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+M[14]+2878612391&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+M[5]+4237533241&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~U))+M[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+M[3]+2399980690&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+M[10]+4293915773&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+M[1]+2240044497&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~U))+M[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+M[15]+4264355552&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+M[6]+2734768916&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+M[13]+1309151649&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~U))+M[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+M[11]+3174756917&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+M[2]+718787259&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+U&4294967295}s.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var C=A-this.blockSize,M=this.B,P=this.h,U=0;U<A;){if(P==0)for(;U<=C;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<A;)if(M[P++]=k.charCodeAt(U++),P==this.blockSize){o(this,M),P=0;break}}else for(;U<A;)if(M[P++]=k[U++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=A},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var C=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=C&255,C/=256;for(this.u(k),k=Array(16),A=C=0;4>A;++A)for(var M=0;32>M;M+=8)k[C++]=this.g[A]>>>M&255;return k};function l(k,A){var C=d;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=A(k)}function h(k,A){this.h=A;for(var C=[],M=!0,P=k.length-1;0<=P;P--){var U=k[P]|0;M&&U==A||(C[P]=U,M=!1)}this.g=C}var d={};function p(k){return-128<=k&&128>k?l(k,function(A){return new h([A|0],0>A?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return O(g(-k));for(var A=[],C=1,M=0;k>=C;M++)A[M]=k/C|0,C*=4294967296;return new h(A,0)}function E(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return O(E(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(A,8)),M=v,P=0;P<k.length;P+=8){var U=Math.min(8,k.length-P),x=parseInt(k.substring(P,P+U),A);8>U?(U=g(Math.pow(A,U)),M=M.j(U).add(g(x))):(M=M.j(C),M=M.add(g(x)))}return M}var v=p(0),b=p(1),N=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-O(this).m();for(var k=0,A=1,C=0;C<this.g.length;C++){var M=this.i(C);k+=(0<=M?M:4294967296+M)*A,A*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(j(this))return"0";if(z(this))return"-"+O(this).toString(k);for(var A=g(Math.pow(k,6)),C=this,M="";;){var P=rt(C,A).g;C=et(C,P.j(A));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=P,j(C))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function j(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function z(k){return k.h==-1}i.l=function(k){return k=et(this,k),z(k)?-1:j(k)?0:1};function O(k){for(var A=k.g.length,C=[],M=0;M<A;M++)C[M]=~k.g[M];return new h(C,~k.h).add(b)}i.abs=function(){return z(this)?O(this):this},i.add=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],M=0,P=0;P<=A;P++){var U=M+(this.i(P)&65535)+(k.i(P)&65535),x=(U>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);M=x>>>16,U&=65535,x&=65535,C[P]=x<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function et(k,A){return k.add(O(A))}i.j=function(k){if(j(this)||j(k))return v;if(z(this))return z(k)?O(this).j(O(k)):O(O(this).j(k));if(z(k))return O(this.j(O(k)));if(0>this.l(N)&&0>k.l(N))return g(this.m()*k.m());for(var A=this.g.length+k.g.length,C=[],M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<k.g.length;P++){var U=this.i(M)>>>16,x=this.i(M)&65535,Tt=k.i(P)>>>16,kt=k.i(P)&65535;C[2*M+2*P]+=x*kt,ot(C,2*M+2*P),C[2*M+2*P+1]+=U*kt,ot(C,2*M+2*P+1),C[2*M+2*P+1]+=x*Tt,ot(C,2*M+2*P+1),C[2*M+2*P+2]+=U*Tt,ot(C,2*M+2*P+2)}for(M=0;M<A;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=A;M<2*A;M++)C[M]=0;return new h(C,0)};function ot(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function Z(k,A){this.g=k,this.h=A}function rt(k,A){if(j(A))throw Error("division by zero");if(j(k))return new Z(v,v);if(z(k))return A=rt(O(k),A),new Z(O(A.g),O(A.h));if(z(A))return A=rt(k,O(A)),new Z(O(A.g),A.h);if(30<k.g.length){if(z(k)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var C=b,M=A;0>=M.l(k);)C=at(C),M=at(M);var P=lt(C,1),U=lt(M,1);for(M=lt(M,2),C=lt(C,2);!j(M);){var x=U.add(M);0>=x.l(k)&&(P=P.add(C),U=x),M=lt(M,1),C=lt(C,1)}return A=et(k,P.j(A)),new Z(P,A)}for(P=v;0<=k.l(A);){for(C=Math.max(1,Math.floor(k.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(C),x=U.j(A);z(x)||0<x.l(k);)C-=M,U=g(C),x=U.j(A);j(U)&&(U=b),P=P.add(U),k=et(k,x)}return new Z(P,k)}i.A=function(k){return rt(this,k).h},i.and=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],M=0;M<A;M++)C[M]=this.i(M)&k.i(M);return new h(C,this.h&k.h)},i.or=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],M=0;M<A;M++)C[M]=this.i(M)|k.i(M);return new h(C,this.h|k.h)},i.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],M=0;M<A;M++)C[M]=this.i(M)^k.i(M);return new h(C,this.h^k.h)};function at(k){for(var A=k.g.length+1,C=[],M=0;M<A;M++)C[M]=k.i(M)<<1|k.i(M-1)>>>31;return new h(C,k.h)}function lt(k,A){var C=A>>5;A%=32;for(var M=k.g.length-C,P=[],U=0;U<M;U++)P[U]=0<A?k.i(U+C)>>>A|k.i(U+C+1)<<32-A:k.i(U+C);return new h(P,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,s1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ea=h}).apply(typeof RT<"u"?RT:typeof self<"u"?self:typeof window<"u"?window:{});var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a1,nc,o1,Of,wg,l1,u1,c1;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yf=="object"&&yf];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in _))break t;_=_[q]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var _=0,w=!1,q={next:function(){if(!w&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function v(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:v,b.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function j(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,q,X){for(var mt=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)mt[Wt-2]=arguments[Wt];return y.prototype[q].apply(w,mt)}}function z(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function O(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const q=c.length||0,X=w.length||0;c.length=q+X;for(let mt=0;mt<X;mt++)c[q+mt]=w[mt]}else c.push(w)}}class et{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ot(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function rt(c){return rt[" "](c),c}rt[" "]=function(){};var at=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function lt(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(_ in w)c[_]=w[_];for(let X=0;X<C.length;X++)_=C[X],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){d.setTimeout(()=>{throw c},0)}function x(){var c=xt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Tt{constructor(){this.h=this.g=null}add(y,_){const w=kt.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var kt=new et(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,dt=!1,xt=new Tt,V=()=>{const c=d.Promise.resolve(void 0);ut=()=>{c.then(Y)}};var Y=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){U(_)}var y=kt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}dt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function bt(c,y){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(at){t:{try{rt(y.nodeName);var q=!0;break t}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&bt.aa.h.call(this)}}j(bt,W);var pt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Ae(c,y,_,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=q,this.key=++qt,this.da=this.fa=!1}function Ne(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vn(c){this.src=c,this.g={},this.h=0}vn.prototype.add=function(c,y,_,w,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var mt=In(c,y,w,q);return-1<mt?(y=c[mt],_||(y.fa=!1)):(y=new Ae(y,this.src,X,!!w,q),y.fa=_,c.push(y)),y};function ln(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],q=Array.prototype.indexOf.call(w,y,void 0),X;(X=0<=q)&&Array.prototype.splice.call(w,q,1),X&&(Ne(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function In(c,y,_,w){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==w)return q}return-1}var tn="closure_lm_"+(1e6*Math.random()|0),ee={};function si(c,y,_,w,q){if(Array.isArray(y)){for(var X=0;X<y.length;X++)si(c,y[X],_,w,q);return null}return _=as(_),c&&c[le]?c.K(y,_,g(w)?!!w.capture:!1,q):ve(c,y,_,!1,w,q)}function ve(c,y,_,w,q,X){if(!y)throw Error("Invalid event type");var mt=g(q)?!!q.capture:!!q,Wt=xn(c);if(Wt||(c[tn]=Wt=new vn(c)),_=Wt.add(y,_,w,mt,X),_.proxy)return _;if(w=ss(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)ft||(q=mt),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(Ti(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ss(){function c(_){return y.call(c.src,c.listener,_)}const y=qe;return c}function un(c,y,_,w,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)un(c,y[X],_,w,q);else w=g(w)?!!w.capture:!!w,_=as(_),c&&c[le]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=In(X,_,w,q),-1<_&&(Ne(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=xn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=In(y,_,w,q)),(_=-1<c?y[c]:null)&&Pi(_))}function Pi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[le])ln(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(Ti(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=xn(y))?(ln(_,c),_.h==0&&(_.src=null,y[tn]=null)):Ne(c)}}}function Ti(c){return c in ee?ee[c]:ee[c]="on"+c}function qe(c,y){if(c.da)c=!0;else{y=new bt(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&Pi(c),c=_.call(w,y)}return c}function xn(c){return c=c[tn],c instanceof vn?c:null}var Li="__closure_events_fn_"+(1e9*Math.random()>>>0);function as(c){return typeof c=="function"?c:(c[Li]||(c[Li]=function(y){return c.handleEvent(y)}),c[Li])}function _t(){st.call(this),this.i=new vn(this),this.M=this,this.F=null}j(_t,st),_t.prototype[le]=!0,_t.prototype.removeEventListener=function(c,y,_,w){un(this,c,y,_,w)};function Ht(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new W(y,c);else if(y instanceof W)y.target=y.target||c;else{var q=y;y=new W(w,c),M(y,q)}if(q=!0,_)for(var X=_.length-1;0<=X;X--){var mt=y.g=_[X];q=Ge(mt,w,!0,y)&&q}if(mt=y.g=c,q=Ge(mt,w,!0,y)&&q,q=Ge(mt,w,!1,y)&&q,_)for(X=0;X<_.length;X++)mt=y.g=_[X],q=Ge(mt,w,!1,y)&&q}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)Ne(_[w]);delete c.g[y],c.h--}}this.F=null},_t.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},_t.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function Ge(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,X=0;X<y.length;++X){var mt=y[X];if(mt&&!mt.da&&mt.capture==_){var Wt=mt.listener,Ke=mt.ha||mt.src;mt.fa&&ln(c.i,mt),q=Wt.call(Ke,w)!==!1&&q}}return q&&!w.defaultPrevented}function Pe(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function bi(c){c.g=Pe(()=>{c.g=null,c.i&&(c.i=!1,bi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class vo extends st{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(c){st.call(this),this.h=c,this.g={}}j(Ln,st);var fr=[];function dr(c){lt(c.g,function(y,_){this.g.hasOwnProperty(_)&&Pi(y)},c),c.g={}}Ln.prototype.N=function(){Ln.aa.N.call(this),dr(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=d.JSON.stringify,mr=d.JSON.parse,pr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function gr(){}gr.prototype.h=null;function jn(c){return c.h||(c.h=c.i())}function ma(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){W.call(this,"d")}j(ai,W);function os(){W.call(this,"c")}j(os,W);var At={},_e=null;function ye(){return _e=_e||new _t}At.La="serverreachability";function Le(c){W.call(this,At.La,c)}j(Le,W);function $n(c){const y=ye();Ht(y,new Le(y))}At.STAT_EVENT="statevent";function Re(c,y){W.call(this,At.STAT_EVENT,c),this.stat=y}j(Re,W);function Gt(c){const y=ye();Ht(y,new Re(y,c))}At.Ma="timingevent";function Ee(c,y){W.call(this,At.Ma,c),this.size=y}j(Ee,W);function ne(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Te(){this.g=!0}Te.prototype.xa=function(){this.g=!1};function ls(c,y,_,w,q,X){c.info(function(){if(c.g)if(X)for(var mt="",Wt=X.split("&"),Ke=0;Ke<Wt.length;Ke++){var Zt=Wt[Ke].split("=");if(1<Zt.length){var nn=Zt[0];Zt=Zt[1];var Qe=nn.split("_");mt=2<=Qe.length&&Qe[1]=="type"?mt+(nn+"="+Zt+"&"):mt+(nn+"=redacted&")}}else mt=null;else mt=X;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+_+`
`+mt})}function wi(c,y,_,w,q,X,mt){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+_+`
`+X+" "+mt})}function yr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+pa(c,_)+(w?" "+w:"")})}function Gc(c,y){c.info(function(){return"TIMEOUT: "+y})}Te.prototype.info=function(){};function pa(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var mt=1;mt<q.length;mt++)q[mt]=""}}}}return Un(_)}catch{return y}}var us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ui;function ji(){}j(ji,gr),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},Ui=new ji;function On(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new Ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var Wl={},_o={};function Ai(c,y,_){c.L=1,c.v=Ea(Yn(y)),c.m=_,c.P=!0,_r(c,null)}function _r(c,y){c.F=Date.now(),ga(c),c.A=Yn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),iu(_.i,"t",w),c.C=0,_=c.j.J,c.h=new De,c.g=oh(c.j,_?y:null,!c.m),0<c.O&&(c.M=new vo(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(fr[0]=q.toString()),q=fr);for(var X=0;X<q.length;X++){var mt=si(_,q[X],w||y.handleEvent,!1,y.h||y);if(!mt)break;y.g[mt.key]=mt}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),$n(),ls(c.i,c.u,c.A,c.l,c.R,c.m)}On.prototype.ca=function(c){c=c.target;const y=this.M;y&&ci(c)==3?y.j():this.Y(c)},On.prototype.Y=function(c){try{if(c==this.g)t:{const Qe=ci(this.g);var y=this.g.Ba();const Cr=this.g.Z();if(!(3>Qe)&&(Qe!=3||this.g&&(this.h.h||this.g.oa()||Jc(this.g)))){this.J||Qe!=4||y==7||(y==8||0>=Cr?$n(3):$n(2)),cs(this);var _=this.g.Z();this.X=_;e:if(Kc(this)){var w=Jc(this.g);c="";var q=w.length,X=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),Bi(this);var mt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(X&&y==q-1)});w.length=0,this.h.g+=c,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=_==200,wi(this.i,this.u,this.A,this.l,this.R,Qe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Wt,Ke=this.g;if((Wt=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Wt)){var Zt=Wt;break e}}Zt=null}if(_=Zt)yr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,_);else{this.o=!1,this.s=3,Gt(12),cn(this),Bi(this);break t}}if(this.P){_=!0;let hn;for(;!this.J&&this.C<mt.length;)if(hn=Qc(this,mt),hn==_o){Qe==4&&(this.s=4,Gt(14),_=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Wl){this.s=4,Gt(15),yr(this.i,this.l,mt,"[Invalid Chunk]"),_=!1;break}else yr(this.i,this.l,hn,null),ya(this,hn);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||mt.length!=0||this.h.h||(this.s=1,Gt(16),_=!1),this.o=this.o&&_,!_)yr(this.i,this.l,mt,"[Invalid Chunked Response]"),cn(this),Bi(this);else if(0<mt.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Ia(nn),nn.M=!0,Gt(11))}}else yr(this.i,this.l,mt,null),ya(this,mt);Qe==4&&cn(this),this.o&&!this.J&&(Qe==4?rh(this.j,this):(this.o=!1,ga(this)))}else Hd(this.g),_==400&&0<mt.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),cn(this),Bi(this)}}}catch{}finally{}};function Kc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Qc(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?_o:(_=Number(y.substring(_,w)),isNaN(_)?Wl:(w+=1,w+_>y.length?_o:(y=y.slice(w,w+_),c.C=w+_,y)))}On.prototype.cancel=function(){this.J=!0,cn(this)};function ga(c){c.S=Date.now()+c.I,$c(c,c.I)}function $c(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ne(b(c.ba,c),y)}function cs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}On.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gc(this.i,this.A),this.L!=2&&($n(),Gt(17)),cn(this),this.s=2,Bi(this)):$c(this,this.S-c)};function Bi(c){c.j.G==0||c.J||rh(c.j,c)}function cn(c){cs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,dr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ya(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Zl(_.h,c))){if(!c.K&&Zl(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)No(_),xo(_);else break t;lu(_),Gt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=ne(b(_.Za,_),6e3));if(1>=To(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Rr(_,11)}else if((c.K||_.g==c)&&No(_),!ot(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let Zt=q[y];if(_.T=Zt[0],Zt=Zt[1],_.G==2)if(Zt[0]=="c"){_.K=Zt[1],_.ia=Zt[2];const nn=Zt[3];nn!=null&&(_.la=nn,_.j.info("VER="+_.la));const Qe=Zt[4];Qe!=null&&(_.Aa=Qe,_.j.info("SVER="+_.Aa));const Cr=Zt[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(w=1.5*Cr,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const hn=c.g;if(hn){const Qi=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qi){var X=w.h;X.g||Qi.indexOf("spdy")==-1&&Qi.indexOf("quic")==-1&&Qi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(bo(X,X.h),X.h=null))}if(w.D){const cu=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;cu&&(w.ya=cu,he(w.I,w.D,cu))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var mt=c;if(w.qa=ah(w,w.J?w.ia:null,w.W),mt.K){Nn(w.h,mt);var Wt=mt,Ke=w.L;Ke&&(Wt.I=Ke),Wt.B&&(cs(Wt),ga(Wt)),w.g=mt}else nh(w);0<_.i.length&&Oo(_)}else Zt[0]!="stop"&&Zt[0]!="close"||Rr(_,7);else _.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Rr(_,7):au(_):Zt[0]!="noop"&&_.l&&_.l.ta(Zt),_.v=0)}}$n(4)}catch{}}var Yc=class{constructor(c,y){this.g=c,this.map=y}};function Er(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function To(c){return c.h?1:c.g?c.g.size:0}function Zl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function bo(c,y){c.g?c.g.add(y):c.h=y}function Nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Er.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return z(c.i)}function Ud(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function So(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function tu(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=So(c),w=Ud(c),q=w.length,X=0;X<q;X++)y.call(void 0,w[X],_&&_[X],c)}var va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jd(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),q=null;if(0<=w){var X=c[_].substring(0,w);q=c[_].substring(w+1)}else X=c[_];y(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ue(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ue){this.h=c.h,_a(this,c.j),this.o=c.o,this.g=c.g,hs(this,c.s),this.l=c.l;var y=c.i,_=new br;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Tr(this,_),this.m=c.m}else c&&(y=String(c).match(va))?(this.h=!1,_a(this,y[1]||"",!0),this.o=oi(y[2]||""),this.g=oi(y[3]||"",!0),hs(this,y[4]),this.l=oi(y[5]||"",!0),Tr(this,y[6]||"",!0),this.m=oi(y[7]||"")):(this.h=!1,this.i=new br(null,this.h))}Ue.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ta(y,eu,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ta(y,eu,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ta(_,_.charAt(0)=="/"?Bd:nu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ta(_,wo)),c.join("")};function Yn(c){return new Ue(c)}function _a(c,y,_){c.j=_?oi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function hs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Tr(c,y,_){y instanceof br?(c.i=y,Wc(c.i,c.h)):(_||(y=Ta(y,zd)),c.i=new br(y,c.h))}function he(c,y,_){c.i.set(y,_)}function Ea(c){return he(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function oi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ta(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Xc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var eu=/[#\/\?@]/g,nu=/[#\?:]/g,Bd=/[#\?]/g,zd=/[#\?@]/g,wo=/#/g;function br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function li(c){c.g||(c.g=new Map,c.h=0,c.i&&jd(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=br.prototype,i.add=function(c,y){li(this),this.i=null,c=zi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Sr(c,y){li(c),y=zi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function wr(c,y){return li(c),y=zi(c,y),c.g.has(y)}i.forEach=function(c,y){li(this),this.g.forEach(function(_,w){_.forEach(function(q){c.call(y,q,w,this)},this)},this)},i.na=function(){li(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const q=c[w];for(let X=0;X<q.length;X++)_.push(y[w])}return _},i.V=function(c){li(this);let y=[];if(typeof c=="string")wr(this,c)&&(y=y.concat(this.g.get(zi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return li(this),this.i=null,c=zi(this,c),wr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function iu(c,y,_){Sr(c,y),0<_.length&&(c.i=null,c.g.set(zi(c,y),z(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const X=encodeURIComponent(String(w)),mt=this.V(w);for(w=0;w<mt.length;w++){var q=X;mt[w]!==""&&(q+="="+encodeURIComponent(String(mt[w]))),c.push(q)}}return this.i=c.join("&")};function zi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Wc(c,y){y&&!c.j&&(li(c),c.i=null,c.g.forEach(function(_,w){var q=w.toLowerCase();w!=q&&(Sr(this,w),iu(this,q,_))},c)),c.j=y}function ba(c,y){const _=new Te;if(d.Image){const w=new Image;w.onload=N(ui,_,"TestLoadImage: loaded",!0,y,w),w.onerror=N(ui,_,"TestLoadImage: error",!1,y,w),w.onabort=N(ui,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=N(ui,_,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Ri(c,y){const _=new Te,w=new AbortController,q=setTimeout(()=>{w.abort(),ui(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(X=>{clearTimeout(q),X.ok?ui(_,"TestPingServer: ok",!0,y):ui(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),ui(_,"TestPingServer: error",!1,y)})}function ui(c,y,_,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(_)}catch{}}function Sa(){this.g=new pr}function Hi(c,y,_){const w=_||"";try{tu(c,function(q,X){let mt=q;g(q)&&(mt=Un(q)),y.push(w+X+"="+encodeURIComponent(mt))})}catch(q){throw y.push(w+"type="+encodeURIComponent("_badmap")),q}}function fs(c){this.l=c.Ub||null,this.j=c.eb||!1}j(fs,gr),fs.prototype.g=function(){return new Ar(this.l,this.j)},fs.prototype.i=function(c){return function(){return c}}({});function Ar(c,y){_t.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Ar,_t),i=Ar.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,qi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ru(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ru(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Fi(this):qi(this),this.readyState==3&&ru(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Fi(this))},i.Qa=function(c){this.g&&(this.response=c,Fi(this))},i.ga=function(){this.g&&Fi(this)};function Fi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function qi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function su(c){let y="";return lt(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function en(c,y,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=su(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):he(c,y,_))}function se(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(se,_t);var Ao=/^https?$/i,wa=["POST","PUT"];i=se.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ui.g(),this.v=this.o?jn(this.o):jn(Ui),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Zc(this,X);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)_.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())_.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(wa,y,void 0))||w||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,mt]of _)this.g.setRequestHeader(X,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Aa(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Zc(this,X)}};function Zc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ro(c),Gi(c)}function Ro(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),Gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),se.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Co(this):this.bb())},i.bb=function(){Co(this)};function Co(c){if(c.h&&typeof h<"u"&&(!c.v[1]||ci(c)!=4||c.Z()!=2)){if(c.u&&ci(c)==4)Pe(c.Ea,0,c);else if(Ht(c,"readystatechange"),ci(c)==4){c.h=!1;try{const mt=c.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var w;if(w=mt===0){var q=String(c.D).match(va)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),w=!Ao.test(q?q.toLowerCase():"")}_=w}if(_)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var X=2<ci(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Ro(c)}}finally{Gi(c)}}}}function Gi(c,y){if(c.g){Aa(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ht(c,"ready");try{_.onreadystatechange=w}catch{}}}function Aa(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function ci(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mr(y)}};function Jc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hd(c){const y={};c=(c.g&&2<=ci(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ot(c[w]))continue;var _=P(c[w]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[q]||[];y[q]=X,X.push(_)}k(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Io(c){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,c),this.cb=Ra("retryDelaySeedMs",1e4,c),this.Wa=Ra("forwardChannelMaxRetries",2,c),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Er(c&&c.concurrentRequestLimit),this.Da=new Sa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Io.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){Gt(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=ah(this,null,this.W),Oo(this)};function au(c){if(th(c),c.G==3){var y=c.U++,_=Yn(c.I);if(he(_,"SID",c.K),he(_,"RID",y),he(_,"TYPE","terminate"),Ca(c,_),y=new On(c,c.j,y),y.L=2,y.v=Ea(Yn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=oh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ga(y)}sh(c)}function xo(c){c.g&&(Ia(c),c.g.cancel(),c.g=null)}function th(c){xo(c),c.u&&(d.clearTimeout(c.u),c.u=null),No(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Oo(c){if(!Eo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ut||V(),dt||(ut(),dt=!0),xt.add(y,c),c.B=0}}function Fd(c,y){return To(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ne(b(c.Ga,c,y),uu(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new On(this,this.j,c);let X=this.o;if(this.S&&(X?(X=A(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=eh(this,q,y),_=Yn(this.I),he(_,"RID",c),he(_,"CVER",22),this.D&&he(_,"X-HTTP-Session-Id",this.D),Ca(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(su(X)))+"&"+y:this.m&&en(_,this.m,X)),bo(this.h,q),this.Ua&&he(_,"TYPE","init"),this.P?(he(_,"$req",y),he(_,"SID","null"),q.T=!0,Ai(q,_,null)):Ai(q,_,y),this.G=2}}else this.G==3&&(c?ou(this,c):this.i.length==0||Eo(this.h)||ou(this))};function ou(c,y){var _;y?_=y.l:_=c.U++;const w=Yn(c.I);he(w,"SID",c.K),he(w,"RID",_),he(w,"AID",c.T),Ca(c,w),c.m&&c.o&&en(w,c.m,c.o),_=new On(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=eh(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),bo(c.h,_),Ai(_,w,y)}function Ca(c,y){c.H&&lt(c.H,function(_,w){he(y,w,_)}),c.l&&tu({},function(_,w){he(y,w,_)})}function eh(c,y,_){_=Math.min(c.i.length,_);var w=c.l?b(c.l.Na,c.l,c):null;t:{var q=c.i;let X=-1;for(;;){const mt=["count="+_];X==-1?0<_?(X=q[0].g,mt.push("ofs="+X)):X=0:mt.push("ofs="+X);let Wt=!0;for(let Ke=0;Ke<_;Ke++){let Zt=q[Ke].g;const nn=q[Ke].map;if(Zt-=X,0>Zt)X=Math.max(0,q[Ke].g-100),Wt=!1;else try{Hi(nn,mt,"req"+Zt+"_")}catch{w&&w(nn)}}if(Wt){w=mt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,w}function nh(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ut||V(),dt||(ut(),dt=!0),xt.add(y,c),c.v=0}}function lu(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ne(b(c.Fa,c),uu(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ne(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),xo(this),ih(this))};function Ia(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function ih(c){c.g=new On(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Yn(c.qa);he(y,"RID","rpc"),he(y,"SID",c.K),he(y,"AID",c.T),he(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&he(y,"TO",c.ja),he(y,"TYPE","xmlhttp"),Ca(c,y),c.m&&c.o&&en(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ea(Yn(y)),_.m=null,_.P=!0,_r(_,c)}i.Za=function(){this.C!=null&&(this.C=null,xo(this),lu(this),Gt(19))};function No(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function rh(c,y){var _=null;if(c.g==y){No(c),Ia(c),c.g=null;var w=2}else if(Zl(c.h,y))_=y.D,Nn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;w=ye(),Ht(w,new Ee(w,_)),Oo(c)}else nh(c);else if(q=y.s,q==3||q==0&&0<y.X||!(w==1&&Fd(c,y)||w==2&&lu(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),q){case 1:Rr(c,5);break;case 4:Rr(c,10);break;case 3:Rr(c,6);break;default:Rr(c,2)}}}function uu(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Rr(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),w=c.Xa;const q=!w;w=new Ue(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||_a(w,"https"),Ea(w),q?ba(w.toString(),_):Ri(w.toString(),_)}else Gt(2);c.G=0,c.l&&c.l.sa(y),sh(c),th(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function sh(c){if(c.G=0,c.ka=[],c.l){const y=Jl(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ka,y),O(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function ah(c,y,_){var w=_ instanceof Ue?Yn(_):new Ue(_);if(w.g!="")y&&(w.g=y+"."+w.g),hs(w,w.s);else{var q=d.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var X=new Ue(null);w&&_a(X,w),y&&(X.g=y),q&&hs(X,q),_&&(X.l=_),w=X}return _=c.D,y=c.ya,_&&y&&he(w,_,y),he(w,"VER",c.la),Ca(c,w),w}function oh(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new se(new fs({eb:_})):new se(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}i=lh.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Do(){}Do.prototype.g=function(c,y){return new Dn(c,y)};function Dn(c,y){_t.call(this),this.g=new Io(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ot(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ot(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ki(this)}j(Dn,_t),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){au(this.g)},Dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Un(c),c=_);y.i.push(new Yc(y.Ya++,c)),y.G==3&&Oo(y)},Dn.prototype.N=function(){this.g.l=null,delete this.j,au(this.g),delete this.g,Dn.aa.N.call(this)};function uh(c){ai.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(uh,ai);function ch(){os.call(this),this.status=1}j(ch,os);function Ki(c){this.g=c}j(Ki,lh),Ki.prototype.ua=function(){Ht(this.g,"a")},Ki.prototype.ta=function(c){Ht(this.g,new uh(c))},Ki.prototype.sa=function(c){Ht(this.g,new ch)},Ki.prototype.ra=function(){Ht(this.g,"b")},Do.prototype.createWebChannel=Do.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,c1=function(){return new Do},u1=function(){return ye()},l1=At,wg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,Of=us,vr.COMPLETE="complete",o1=vr,ma.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",_t.prototype.listen=_t.prototype.K,nc=ma,se.prototype.listenOnce=se.prototype.L,se.prototype.getLastError=se.prototype.Ka,se.prototype.getLastErrorCode=se.prototype.Ba,se.prototype.getStatus=se.prototype.Z,se.prototype.getResponseJson=se.prototype.Oa,se.prototype.getResponseText=se.prototype.oa,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Ha,a1=se}).apply(typeof yf<"u"?yf:typeof self<"u"?self:typeof window<"u"?window:{});const CT="@firebase/firestore",IT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new uy("@firebase/firestore");function ul(){return oo.logLevel}function yt(i,...t){if(oo.logLevel<=$t.DEBUG){const e=t.map(Ty);oo.debug(`Firestore (${Gl}): ${i}`,...e)}}function ts(i,...t){if(oo.logLevel<=$t.ERROR){const e=t.map(Ty);oo.error(`Firestore (${Gl}): ${i}`,...e)}}function Dl(i,...t){if(oo.logLevel<=$t.WARN){const e=t.map(Ty);oo.warn(`Firestore (${Gl}): ${i}`,...e)}}function Ty(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,h1(i,s,e)}function h1(i,t,e){let s=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw ts(s),new Error(s)}function oe(i,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,i||h1(t,o,s)}function Pt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends rs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Sn.UNAUTHENTICATED))}shutdown(){}}class GN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class KN{constructor(t){this.t=t,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){oe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let l=new na;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new na,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new na)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(oe(typeof s.accessToken=="string",31837,{l:s}),new f1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return oe(t===null||typeof t=="string",2055,{h:t}),new Sn(t)}}class QN{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $N{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new QN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){oe(this.o===void 0,3512);const s=l=>{l.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,yt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const o=l=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(oe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new xT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XN(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<e&&(s+=t.charAt(o[l]%62))}return s}}function zt(i,t){return i<t?-1:i>t?1:0}function Ag(i,t){let e=0;for(;e<i.length&&e<t.length;){const s=i.codePointAt(e),o=t.codePointAt(e);if(s!==o){if(s<128&&o<128)return zt(s,o);{const l=d1(),h=WN(l.encode(OT(i,e)),l.encode(OT(t,e)));return h!==0?h:zt(s,o)}}e+=s>65535?2:1}return zt(i.length,t.length)}function OT(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function WN(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return zt(i[e],t[e]);return zt(i.length,t.length)}function Ml(i,t,e){return i.length===t.length&&i.every((s,o)=>e(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=-62135596800,DT=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(t){return Ze.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*DT);return new Ze(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new wt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new wt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<NT)throw new wt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DT}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-NT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(t){return new Vt(t)}static min(){return new Vt(new Ze(0,0))}static max(){return new Vt(new Ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="__name__";class tr{constructor(t,e,s){e===void 0?e=0:e>t.length&&Dt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Dt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return tr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof tr?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const l=tr.compareSegments(t.get(o),e.get(o));if(l!==0)return l}return zt(t.length,e.length)}static compareSegments(t,e){const s=tr.isNumericId(t),o=tr.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?tr.extractNumericId(t).compare(tr.extractNumericId(e)):Ag(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ea.fromString(t.substring(4,t.length-2))}}class Oe extends tr{construct(t,e,s){return new Oe(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new wt(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(o=>o.length>0))}return new Oe(e)}static emptyPath(){return new Oe([])}}const ZN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends tr{construct(t,e,s){return new gn(t,e,s)}static isValidIdentifier(t){return ZN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MT}static keyField(){return new gn([MT])}static fromServerFormat(t){const e=[];let s="",o=0;const l=()=>{if(s.length===0)throw new wt(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new wt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new wt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new wt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(e)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.path=t}static fromPath(t){return new Ct(Oe.fromString(t))}static fromName(t){return new Ct(Oe.fromString(t).popFirst(5))}static empty(){return new Ct(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ct(new Oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=-1;function JN(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Vt.fromTimestamp(s===1e9?new Ze(e+1,0):new Ze(e,s));return new ra(o,Ct.empty(),t)}function tD(i){return new ra(i.readTime,i.key,yc)}class ra{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ra(Vt.min(),Ct.empty(),yc)}static max(){return new ra(Vt.max(),Ct.empty(),yc)}}function eD(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Ct.comparator(i.documentKey,t.documentKey),e!==0?e:zt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(i){if(i.code!==ht.FAILED_PRECONDITION||i.message!==nD)throw i;yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):it.reject(e)}static resolve(t){return new it((e,s)=>{e(t)})}static reject(t){return new it((e,s)=>{s(t)})}static waitFor(t){return new it((e,s)=>{let o=0,l=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&e()},p=>s(p))}),h=!0,l===o&&e()})}static or(t){let e=it.resolve(!1);for(const s of t)e=e.next(o=>o?it.resolve(o):s());return e}static forEach(t,e){const s=[];return t.forEach((o,l)=>{s.push(e.call(this,o,l))}),this.waitFor(s)}static mapArray(t,e){return new it((s,o)=>{const l=t.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;e(t[g]).next(E=>{h[g]=E,++d,d===l&&s(h)},E=>o(E))}})}static doWhile(t,e){return new it((s,o)=>{const l=()=>{t()===!0?e().next(()=>{l()},o):s()};l()})}}function rD(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ql(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}vd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-1;function _d(i){return i==null}function Qf(i){return i===0&&1/i==-1/0}function sD(i){return typeof i=="number"&&Number.isInteger(i)&&!Qf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="";function aD(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=kT(t)),t=oD(i.get(e),t);return kT(t)}function oD(i,t){let e=t;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":e+="";break;case p1:e+="";break;default:e+=l}}return e}function kT(i){return i+p1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function fa(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function g1(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t,e){this.comparator=t,this.root=e||pn.EMPTY}insert(t,e){return new we(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(t){return new we(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vf(this.root,t,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vf(this.root,t,this.comparator,!0)}}class vf{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pn{constructor(t,e,s,o,l){this.key=t,this.value=e,this.color=s??pn.RED,this.left=o??pn.EMPTY,this.right=l??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,l){return new pn(t??this.key,e??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const l=s(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,s),null):l===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return pn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Dt(27949);return t+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(t,e,s,o,l){return this}insert(t,e,s){return new pn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.comparator=t,this.data=new we(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new PT(this.data.getIterator())}getIteratorFrom(t){return new PT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Je)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Je(this.comparator);return e.data=t,e}}class PT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new ii([])}unionWith(t){let e=new Je(gn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new ii(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ml(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new y1("Invalid base64 string: "+l):l}}(t);return new yn(e)}static fromUint8Array(t){const e=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(t);return new yn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const lD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(i){if(oe(!!i,39018),typeof i=="string"){let t=0;const e=lD.exec(i);if(oe(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ve(i.seconds),nanos:Ve(i.nanos)}}function Ve(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function aa(i){return typeof i=="string"?yn.fromBase64String(i):yn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="server_timestamp",_1="__type__",E1="__previous_value__",T1="__local_write_time__";function Sy(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[_1])===null||e===void 0?void 0:e.stringValue)===v1}function Ed(i){const t=i.mapValue.fields[E1];return Sy(t)?Ed(t):t}function vc(i){const t=sa(i.mapValue.fields[T1].timestampValue);return new Ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,e,s,o,l,h,d,p,g,E){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const $f="(default)";class _c{constructor(t,e){this.projectId=t,this.database=e||$f}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database===$f}isEqual(t){return t instanceof _c&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="__type__",cD="__max__",_f={mapValue:{}},S1="__vector__",Yf="value";function oa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Sy(i)?4:fD(i)?9007199254740991:hD(i)?10:11:Dt(28295,{value:i})}function cr(i,t){if(i===t)return!0;const e=oa(i);if(e!==oa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return vc(i).isEqual(vc(t));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=sa(o.timestampValue),d=sa(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,l){return aa(o.bytesValue).isEqual(aa(l.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,l){return Ve(o.geoPointValue.latitude)===Ve(l.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(l.geoPointValue.longitude)}(i,t);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ve(o.integerValue)===Ve(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Ve(o.doubleValue),d=Ve(l.doubleValue);return h===d?Qf(h)===Qf(d):isNaN(h)&&isNaN(d)}return!1}(i,t);case 9:return Ml(i.arrayValue.values||[],t.arrayValue.values||[],cr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(VT(h)!==VT(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!cr(h[p],d[p])))return!1;return!0}(i,t);default:return Dt(52216,{left:i})}}function Ec(i,t){return(i.values||[]).find(e=>cr(e,t))!==void 0}function kl(i,t){if(i===t)return 0;const e=oa(i),s=oa(t);if(e!==s)return zt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(i.booleanValue,t.booleanValue);case 2:return function(l,h){const d=Ve(l.integerValue||l.doubleValue),p=Ve(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,t);case 3:return LT(i.timestampValue,t.timestampValue);case 4:return LT(vc(i),vc(t));case 5:return Ag(i.stringValue,t.stringValue);case 6:return function(l,h){const d=aa(l),p=aa(h);return d.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=zt(d[g],p[g]);if(E!==0)return E}return zt(d.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(l,h){const d=zt(Ve(l.latitude),Ve(h.latitude));return d!==0?d:zt(Ve(l.longitude),Ve(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return UT(i.arrayValue,t.arrayValue);case 10:return function(l,h){var d,p,g,E;const v=l.fields||{},b=h.fields||{},N=(d=v[Yf])===null||d===void 0?void 0:d.arrayValue,j=(p=b[Yf])===null||p===void 0?void 0:p.arrayValue,z=zt(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((E=j==null?void 0:j.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:UT(N,j)}(i.mapValue,t.mapValue);case 11:return function(l,h){if(l===_f.mapValue&&h===_f.mapValue)return 0;if(l===_f.mapValue)return 1;if(h===_f.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let v=0;v<p.length&&v<E.length;++v){const b=Ag(p[v],E[v]);if(b!==0)return b;const N=kl(d[p[v]],g[E[v]]);if(N!==0)return N}return zt(p.length,E.length)}(i.mapValue,t.mapValue);default:throw Dt(23264,{Pe:e})}}function LT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return zt(i,t);const e=sa(i),s=sa(t),o=zt(e.seconds,s.seconds);return o!==0?o:zt(e.nanos,s.nanos)}function UT(i,t){const e=i.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const l=kl(e[o],s[o]);if(l)return l}return zt(e.length,s.length)}function Vl(i){return Rg(i)}function Rg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const s=sa(e);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return aa(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return Ct.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let s="[",o=!0;for(const l of e.values||[])o?o=!1:s+=",",s+=Rg(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(e){const s=Object.keys(e.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Rg(e.fields[h])}`;return o+"}"}(i.mapValue):Dt(61005,{value:i})}function Nf(i){switch(oa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ed(i);return t?16+Nf(t):16;case 5:return 2*i.stringValue.length;case 6:return aa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Nf(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return fa(s.fields,(l,h)=>{o+=l.length+Nf(h)}),o}(i.mapValue);default:throw Dt(13486,{value:i})}}function Cg(i){return!!i&&"integerValue"in i}function wy(i){return!!i&&"arrayValue"in i}function jT(i){return!!i&&"nullValue"in i}function BT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Df(i){return!!i&&"mapValue"in i}function hD(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[b1])===null||e===void 0?void 0:e.stringValue)===S1}function lc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return fa(i.mapValue.fields,(e,s)=>t.mapValue.fields[e]=lc(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=lc(i.arrayValue.values[e]);return t}return Object.assign({},i)}function fD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===cD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.value=t}static empty(){return new Qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Df(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=lc(e)}setAll(t){let e=gn.emptyPath(),s={},o=[];t.forEach((h,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=d.popLast()}h?s[d.lastSegment()]=lc(h):o.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,s,o)}delete(t){const e=this.field(t.popLast());Df(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return cr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];Df(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){fa(e,(o,l)=>t[o]=l);for(const o of s)delete t[o]}clone(){return new Qn(lc(this.value))}}function w1(i){const t=[];return fa(i.fields,(e,s)=>{const o=new gn([e]);if(Df(s)){const l=w1(s.mapValue).fields;if(l.length===0)t.push(o);else for(const h of l)t.push(o.child(h))}else t.push(o)}),new ii(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t,e,s,o,l,h,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(t){return new wn(t,0,Vt.min(),Vt.min(),Vt.min(),Qn.empty(),0)}static newFoundDocument(t,e,s,o){return new wn(t,1,e,Vt.min(),s,o,0)}static newNoDocument(t,e){return new wn(t,2,e,Vt.min(),Vt.min(),Qn.empty(),0)}static newUnknownDocument(t,e){return new wn(t,3,e,Vt.min(),Vt.min(),Qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof wn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t,e){this.position=t,this.inclusive=e}}function zT(i,t,e){let s=0;for(let o=0;o<i.position.length;o++){const l=t[o],h=i.position[o];if(l.field.isKeyField()?s=Ct.comparator(Ct.fromName(h.referenceValue),e.key):s=kl(h,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function HT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!cr(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,e="asc"){this.field=t,this.dir=e}}function dD(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{}class We extends A1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new pD(t,e,s):e==="array-contains"?new vD(t,s):e==="in"?new _D(t,s):e==="not-in"?new ED(t,s):e==="array-contains-any"?new TD(t,s):new We(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new gD(t,s):new yD(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(kl(e,this.value)):e!==null&&oa(this.value)===oa(e)&&this.matchesComparison(kl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends A1{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new hr(t,e)}matches(t){return R1(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function R1(i){return i.op==="and"}function C1(i){return mD(i)&&R1(i)}function mD(i){for(const t of i.filters)if(t instanceof hr)return!1;return!0}function Ig(i){if(i instanceof We)return i.field.canonicalString()+i.op.toString()+Vl(i.value);if(C1(i))return i.filters.map(t=>Ig(t)).join(",");{const t=i.filters.map(e=>Ig(e)).join(",");return`${i.op}(${t})`}}function I1(i,t){return i instanceof We?function(s,o){return o instanceof We&&s.op===o.op&&s.field.isEqual(o.field)&&cr(s.value,o.value)}(i,t):i instanceof hr?function(s,o){return o instanceof hr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&I1(h,o.filters[d]),!0):!1}(i,t):void Dt(19439)}function x1(i){return i instanceof We?function(e){return`${e.field.canonicalString()} ${e.op} ${Vl(e.value)}`}(i):i instanceof hr?function(e){return e.op.toString()+" {"+e.getFilters().map(x1).join(" ,")+"}"}(i):"Filter"}class pD extends We{constructor(t,e,s){super(t,e,s),this.key=Ct.fromName(s.referenceValue)}matches(t){const e=Ct.comparator(t.key,this.key);return this.matchesComparison(e)}}class gD extends We{constructor(t,e){super(t,"in",e),this.keys=O1("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class yD extends We{constructor(t,e){super(t,"not-in",e),this.keys=O1("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function O1(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>Ct.fromName(s.referenceValue))}class vD extends We{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return wy(e)&&Ec(e.arrayValue,this.value)}}class _D extends We{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ec(this.value.arrayValue,e)}}class ED extends We{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ec(this.value.arrayValue,e)}}class TD extends We{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!wy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Ec(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t,e=null,s=[],o=[],l=null,h=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.Ie=null}}function FT(i,t=null,e=[],s=[],o=null,l=null,h=null){return new bD(i,t,e,s,o,l,h)}function Ay(i){const t=Pt(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>Ig(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),_d(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>Vl(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>Vl(s)).join(",")),t.Ie=e}return t.Ie}function Ry(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!dD(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!I1(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!HT(i.startAt,t.startAt)&&HT(i.endAt,t.endAt)}function xg(i){return Ct.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,e=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function SD(i,t,e,s,o,l,h,d){return new Td(i,t,e,s,o,l,h,d)}function Cy(i){return new Td(i)}function qT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function wD(i){return i.collectionGroup!==null}function uc(i){const t=Pt(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Je(gn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Wf(l,s))}),e.has(gn.keyField().canonicalString())||t.Ee.push(new Wf(gn.keyField(),s))}return t.Ee}function or(i){const t=Pt(i);return t.de||(t.de=AD(t,uc(i))),t.de}function AD(i,t){if(i.limitType==="F")return FT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Wf(o.field,l)});const e=i.endAt?new Xf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Xf(i.startAt.position,i.startAt.inclusive):null;return FT(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function Og(i,t,e){return new Td(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function bd(i,t){return Ry(or(i),or(t))&&i.limitType===t.limitType}function N1(i){return`${Ay(or(i))}|lt:${i.limitType}`}function cl(i){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(o=>x1(o)).join(", ")}]`),_d(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(o=>Vl(o)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(o=>Vl(o)).join(",")),`Target(${s})`}(or(i))}; limitType=${i.limitType})`}function Sd(i,t){return t.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ct.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,t)&&function(s,o){for(const l of uc(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=zT(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,uc(s),o)||s.endAt&&!function(h,d,p){const g=zT(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,uc(s),o))}(i,t)}function RD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function D1(i){return(t,e)=>{let s=!1;for(const o of uc(i)){const l=CD(o,t,e);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function CD(i,t,e){const s=i.field.isKeyField()?Ct.comparator(t.key,e.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?kl(p,g):Dt(42886)}(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Dt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){fa(this.inner,(e,s)=>{for(const[o,l]of s)t(o,l)})}isEmpty(){return g1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new we(Ct.comparator);function es(){return ID}const M1=new we(Ct.comparator);function ic(...i){let t=M1;for(const e of i)t=t.insert(e.key,e);return t}function k1(i){let t=M1;return i.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function Qa(){return cc()}function V1(){return cc()}function cc(){return new go(i=>i.toString(),(i,t)=>i.isEqual(t))}const xD=new we(Ct.comparator),OD=new Je(Ct.comparator);function Yt(...i){let t=OD;for(const e of i)t=t.add(e);return t}const ND=new Je(zt);function DD(){return ND}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(t)?"-0":t}}function P1(i){return{integerValue:""+i}}function MD(i,t){return sD(t)?P1(t):Iy(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this._=void 0}}function kD(i,t,e){return i instanceof Zf?function(o,l){const h={fields:{[_1]:{stringValue:v1},[T1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Sy(l)&&(l=Ed(l)),l&&(h.fields[E1]=l),{mapValue:h}}(e,t):i instanceof Tc?U1(i,t):i instanceof bc?j1(i,t):function(o,l){const h=L1(o,l),d=GT(h)+GT(o.Re);return Cg(h)&&Cg(o.Re)?P1(d):Iy(o.serializer,d)}(i,t)}function VD(i,t,e){return i instanceof Tc?U1(i,t):i instanceof bc?j1(i,t):e}function L1(i,t){return i instanceof Jf?function(s){return Cg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class Zf extends wd{}class Tc extends wd{constructor(t){super(),this.elements=t}}function U1(i,t){const e=B1(t);for(const s of i.elements)e.some(o=>cr(o,s))||e.push(s);return{arrayValue:{values:e}}}class bc extends wd{constructor(t){super(),this.elements=t}}function j1(i,t){let e=B1(t);for(const s of i.elements)e=e.filter(o=>!cr(o,s));return{arrayValue:{values:e}}}class Jf extends wd{constructor(t,e){super(),this.serializer=t,this.Re=e}}function GT(i){return Ve(i.integerValue||i.doubleValue)}function B1(i){return wy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function PD(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof Tc&&o instanceof Tc||s instanceof bc&&o instanceof bc?Ml(s.elements,o.elements,cr):s instanceof Jf&&o instanceof Jf?cr(s.Re,o.Re):s instanceof Zf&&o instanceof Zf}(i.transform,t.transform)}class LD{constructor(t,e){this.version=t,this.transformResults=e}}class lr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new lr}static exists(t){return new lr(void 0,t)}static updateTime(t){return new lr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}let Ad=class{};function z1(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new F1(i.key,lr.none()):new zc(i.key,i.data,lr.none());{const e=i.data,s=Qn.empty();let o=new Je(gn.comparator);for(let l of t.fields)if(!o.has(l)){let h=e.field(l);h===null&&l.length>1&&(l=l.popLast(),h=e.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new da(i.key,s,new ii(o.toArray()),lr.none())}}function UD(i,t,e){i instanceof zc?function(o,l,h){const d=o.value.clone(),p=QT(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,t,e):i instanceof da?function(o,l,h){if(!Mf(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=QT(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(H1(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,t,e):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function hc(i,t,e,s){return i instanceof zc?function(l,h,d,p){if(!Mf(l.precondition,h))return d;const g=l.value.clone(),E=$T(l.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,e,s):i instanceof da?function(l,h,d,p){if(!Mf(l.precondition,h))return d;const g=$T(l.fieldTransforms,p,h),E=h.data;return E.setAll(H1(l)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(i,t,e,s):function(l,h,d){return Mf(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,t,e)}function jD(i,t){let e=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),l=L1(s.transform,o||null);l!=null&&(e===null&&(e=Qn.empty()),e.set(s.field,l))}return e||null}function KT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ml(s,o,(l,h)=>PD(l,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class zc extends Ad{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class da extends Ad{constructor(t,e,s,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function H1(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}}),t}function QT(i,t,e){const s=new Map;oe(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let o=0;o<e.length;o++){const l=i[o],h=l.transform,d=t.data.field(l.field);s.set(l.field,VD(h,d,e[o]))}return s}function $T(i,t,e){const s=new Map;for(const o of i){const l=o.transform,h=e.data.field(o.field);s.set(o.field,kD(l,h,t))}return s}class F1 extends Ad{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BD extends Ad{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&UD(l,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=hc(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=hc(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=V1();return this.mutations.forEach(o=>{const l=t.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=e.has(o.key)?null:d;const p=z1(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Vt.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Yt())}isEqual(t){return this.batchId===t.batchId&&Ml(this.mutations,t.mutations,(e,s)=>KT(e,s))&&Ml(this.baseMutations,t.baseMutations,(e,s)=>KT(e,s))}}class xy{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){oe(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return xD}();const l=t.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new xy(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,te;function qD(i){switch(i){case ht.OK:return Dt(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Dt(15467,{code:i})}}function q1(i){if(i===void 0)return ts("GRPC error has no .code"),ht.UNKNOWN;switch(i){case ze.OK:return ht.OK;case ze.CANCELLED:return ht.CANCELLED;case ze.UNKNOWN:return ht.UNKNOWN;case ze.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case ze.INTERNAL:return ht.INTERNAL;case ze.UNAVAILABLE:return ht.UNAVAILABLE;case ze.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case ze.NOT_FOUND:return ht.NOT_FOUND;case ze.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case ze.ABORTED:return ht.ABORTED;case ze.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case ze.DATA_LOSS:return ht.DATA_LOSS;default:return Dt(39323,{code:i})}}(te=ze||(ze={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new ea([4294967295,4294967295],0);function YT(i){const t=d1().encode(i),e=new s1;return e.update(t),new Uint8Array(e.digest())}function XT(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ea([e,s],0),new ea([o,l],0)]}class Oy{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new rc(`Invalid padding: ${e}`);if(s<0)throw new rc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new rc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=ea.fromNumber(this.pe)}we(t,e,s){let o=t.add(e.multiply(ea.fromNumber(s)));return o.compare(GD)===1&&(o=new ea([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=YT(t),[s,o]=XT(e);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);if(!this.be(h))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),h=new Oy(l,o,e);return s.forEach(d=>h.insert(d)),h}insert(t){if(this.pe===0)return;const e=YT(t),[s,o]=XT(e);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);this.Se(h)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t,e,s,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Hc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Rd(Vt.min(),o,new we(zt),es(),Yt())}}class Hc{constructor(t,e,s,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Hc(s,e,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,e,s,o){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=o}}class G1{constructor(t,e){this.targetId=t,this.Ce=e}}class K1{constructor(t,e,s=yn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class WT{constructor(){this.Fe=0,this.Me=ZT(),this.xe=yn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Yt(),e=Yt(),s=Yt();return this.Me.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Dt(38017,{changeType:l})}}),new Hc(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=ZT()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,oe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class KD{constructor(t){this.ze=t,this.je=new Map,this.He=es(),this.Je=Ef(),this.Ye=Ef(),this.Ze=new we(zt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:Dt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,o)=>{this.it(o)&&e(o)})}ot(t){const e=t.targetId,s=t.Ce.count,o=this._t(e);if(o){const l=o.target;if(xg(l))if(s===0){const h=new Ct(l.path);this.tt(e,h,wn.newNoDocument(h,Vt.min()))}else oe(s===1,20013,{expectedCount:s});else{const h=this.ut(e);if(h!==s){const d=this.ct(t),p=d?this.lt(d,t,h):1;if(p!==0){this.st(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=e;let h,d;try{h=aa(s).toUint8Array()}catch(p){if(p instanceof y1)return Dl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Oy(h,o,l)}catch(p){return Dl(p instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let o=0;return s.forEach(l=>{const h=this.ze.Pt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,l,null),o++)}),o}It(t){const e=new Map;this.je.forEach((l,h)=>{const d=this._t(h);if(d){if(l.current&&xg(d.target)){const p=new Ct(d.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,wn.newNoDocument(p,t))}l.Le&&(e.set(h,l.qe()),l.Qe())}});let s=Yt();this.Ye.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,h)=>h.setReadTime(t));const o=new Rd(t,e,this.Ze,this.He,s);return this.He=es(),this.Je=Ef(),this.Ye=Ef(),this.Ze=new we(zt),o}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,e)?o.$e(e,1):o.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new WT,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Je(zt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Je(zt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||yt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new WT),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Ef(){return new we(Ct.comparator)}function ZT(){return new we(Ct.comparator)}const QD={asc:"ASCENDING",desc:"DESCENDING"},$D={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YD={and:"AND",or:"OR"};class XD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ng(i,t){return i.useProto3Json||_d(t)?t:{value:t}}function td(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Q1(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function WD(i,t){return td(i,t.toTimestamp())}function ur(i){return oe(!!i,49232),Vt.fromTimestamp(function(e){const s=sa(e);return new Ze(s.seconds,s.nanos)}(i))}function Ny(i,t){return Dg(i,t).canonicalString()}function Dg(i,t){const e=function(o){return new Oe(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?e:e.child(t)}function $1(i){const t=Oe.fromString(i);return oe(J1(t),10190,{key:t.toString()}),t}function Mg(i,t){return Ny(i.databaseId,t.path)}function Jp(i,t){const e=$1(t);if(e.get(1)!==i.databaseId.projectId)throw new wt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new wt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Ct(X1(e))}function Y1(i,t){return Ny(i.databaseId,t)}function ZD(i){const t=$1(i);return t.length===4?Oe.emptyPath():X1(t)}function kg(i){return new Oe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function X1(i){return oe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function JT(i,t,e){return{name:Mg(i,t),fields:e.value.mapValue.fields}}function JD(i,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Dt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(oe(E===void 0||typeof E=="string",58123),yn.fromBase64String(E||"")):(oe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),yn.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const E=g.code===void 0?ht.UNKNOWN:q1(g.code);return new wt(E,g.message||"")}(h);e=new K1(s,o,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jp(i,s.document.name),l=ur(s.document.updateTime),h=s.document.createTime?ur(s.document.createTime):Vt.min(),d=new Qn({mapValue:{fields:s.document.fields}}),p=wn.newFoundDocument(o,l,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];e=new kf(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Jp(i,s.document),l=s.readTime?ur(s.readTime):Vt.min(),h=wn.newNoDocument(o,l),d=s.removedTargetIds||[];e=new kf([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Jp(i,s.document),l=s.removedTargetIds||[];e=new kf([],l,o,null)}else{if(!("filter"in t))return Dt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new FD(o,l),d=s.targetId;e=new G1(d,h)}}return e}function tM(i,t){let e;if(t instanceof zc)e={update:JT(i,t.key,t.value)};else if(t instanceof F1)e={delete:Mg(i,t.key)};else if(t instanceof da)e={update:JT(i,t.key,t.data),updateMask:uM(t.fieldMask)};else{if(!(t instanceof BD))return Dt(16599,{ft:t.type});e={verify:Mg(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Zf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof bc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Jf)return{fieldPath:h.field.canonicalString(),increment:d.Re};throw Dt(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:WD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Dt(27497)}(i,t.precondition)),e}function eM(i,t){return i&&i.length>0?(oe(t!==void 0,14353),i.map(e=>function(o,l){let h=o.updateTime?ur(o.updateTime):ur(l);return h.isEqual(Vt.min())&&(h=ur(l)),new LD(h,o.transformResults||[])}(e,t))):[]}function nM(i,t){return{documents:[Y1(i,t.path)]}}function iM(i,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=Y1(i,o);const l=function(g){if(g.length!==0)return Z1(hr.create(g,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:hl(b.field),direction:aM(b.dir)}}(E))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const d=Ng(i,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:o}}function rM(i){let t=ZD(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){oe(s===1,65062);const E=e.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let l=[];e.where&&(l=function(v){const b=W1(v);return b instanceof hr&&C1(b)?b.getFilters():[b]}(e.where));let h=[];e.orderBy&&(h=function(v){return v.map(b=>function(j){return new Wf(fl(j.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(b))}(e.orderBy));let d=null;e.limit&&(d=function(v){let b;return b=typeof v=="object"?v.value:v,_d(b)?null:b}(e.limit));let p=null;e.startAt&&(p=function(v){const b=!!v.before,N=v.values||[];return new Xf(N,b)}(e.startAt));let g=null;return e.endAt&&(g=function(v){const b=!v.before,N=v.values||[];return new Xf(N,b)}(e.endAt)),SD(t,o,h,l,d,"F",p,g)}function sM(i,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function W1(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=fl(e.unaryFilter.field);return We.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fl(e.unaryFilter.field);return We.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=fl(e.unaryFilter.field);return We.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fl(e.unaryFilter.field);return We.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}}(i):i.fieldFilter!==void 0?function(e){return We.create(fl(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return hr.create(e.compositeFilter.filters.map(s=>W1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}}(e.compositeFilter.op))}(i):Dt(30097,{filter:i})}function aM(i){return QD[i]}function oM(i){return $D[i]}function lM(i){return YD[i]}function hl(i){return{fieldPath:i.canonicalString()}}function fl(i){return gn.fromServerFormat(i.fieldPath)}function Z1(i){return i instanceof We?function(e){if(e.op==="=="){if(BT(e.value))return{unaryFilter:{field:hl(e.field),op:"IS_NAN"}};if(jT(e.value))return{unaryFilter:{field:hl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(BT(e.value))return{unaryFilter:{field:hl(e.field),op:"IS_NOT_NAN"}};if(jT(e.value))return{unaryFilter:{field:hl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(e.field),op:oM(e.op),value:e.value}}}(i):i instanceof hr?function(e){const s=e.getFilters().map(o=>Z1(o));return s.length===1?s[0]:{compositeFilter:{op:lM(e.op),filters:s}}}(i):Dt(54877,{filter:i})}function uM(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function J1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,e,s,o,l=Vt.min(),h=Vt.min(),d=yn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Ws(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t){this.wt=t}}function hM(i){const t=rM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Og(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.Cn=new dM}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(ra.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(ra.min())}updateCollectionGroup(t,e,s){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class dM{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Je(Oe.comparator),l=!o.has(s);return this.index[e]=o.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Je(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tw=41943040;class Kn{static withCacheSize(t){return new Kn(t,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(tw,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Pl(0)}static lr(){return new Pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="LruGarbageCollector",mM=1048576;function nb([i,t],[e,s]){const o=zt(i,e);return o===0?zt(t,s):o}class pM{constructor(t){this.Er=t,this.buffer=new Je(nb),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();nb(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class gM{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){yt(eb,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ql(e)?yt(eb,"Ignoring IndexedDB error during garbage collection: ",e):await Kl(e)}await this.mr(3e5)})}}class yM{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return it.resolve(vd.le);const s=new pM(e);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(tb)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tb):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,o,l,h,d,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,h=Date.now(),this.nthSequenceNumber(t,o))).next(v=>(s=v,d=Date.now(),this.removeTargets(t,s,e))).next(v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(v=>(g=Date.now(),ul()<=$t.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:v})))}}function vM(i,t){return new yM(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.changes=new go(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,wn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?it.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(s!==null&&hc(s.mutation,o,ii.empty(),Ze.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Yt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Yt()){const o=Qa();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,s).next(l=>{let h=ic();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const s=Qa();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Yt()))}populateOverlays(t,e,s){const o=[];return s.forEach(l=>{e.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((h,d)=>{e.set(h,d)})})}computeViews(t,e,s,o){let l=es();const h=cc(),d=function(){return cc()}();return e.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof da)?l=l.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),hc(E.mutation,g,E.mutation.getFieldMask(),Ze.now())):h.set(g.key,ii.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((g,E)=>h.set(g,E)),e.forEach((g,E)=>{var v;return d.set(g,new EM(E,(v=h.get(g))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(t,e){const s=cc();let o=new we((h,d)=>h-d),l=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=e.get(p);if(g===null)return;let E=s.get(p)||ii.empty();E=d.applyToLocalView(g,E),s.set(p,E);const v=(o.get(d.batchId)||Yt()).add(p);o=o.insert(d.batchId,v)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,v=V1();E.forEach(b=>{if(!l.has(b)){const N=z1(e.get(b),s.get(b));N!==null&&v.set(b,N),l=l.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,v))}return it.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,o){return function(h){return Ct.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):wD(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-l.size):it.resolve(Qa());let d=yc,p=l;return h.next(g=>it.forEach(g,(E,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(E)?it.resolve():this.remoteDocumentCache.getEntry(t,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(t,g,l)).next(()=>this.computeViews(t,p,g,Yt())).next(E=>({batchId:d,changes:k1(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ct(e)).next(s=>{let o=ic();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const l=e.collectionGroup;let h=ic();return this.indexManager.getCollectionParents(t,l).next(d=>it.forEach(d,p=>{const g=function(v,b){return new Td(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((v,b)=>{h=h.insert(v,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,o))).next(h=>{l.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,wn.newInvalidDocument(E)))});let d=ic();return h.forEach((p,g)=>{const E=l.get(p);E!==void 0&&hc(E.mutation,g,ii.empty(),Ze.now()),Sd(e,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return it.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:ur(o.createTime)}}(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(o){return{name:o.name,query:hM(o.bundledQuery),readTime:ur(o.readTime)}}(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.overlays=new we(Ct.comparator),this.Qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Qa();return it.forEach(e,o=>this.getOverlay(t,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((o,l)=>{this.St(t,e,l)}),it.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),it.resolve()}getOverlaysForCollection(t,e,s){const o=Qa(),l=e.length+1,h=new Ct(e.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let l=new we((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let E=l.get(g.largestBatchId);E===null&&(E=Qa(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=Qa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return it.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new HD(e,s));let l=this.Qr.get(e);l===void 0&&(l=Yt(),this.Qr.set(e,l)),this.Qr.set(e,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.$r=new Je(on.Ur),this.Kr=new Je(on.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new on(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new on(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new Ct(new Oe([])),s=new on(e,t),o=new on(e,t+1),l=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),l.push(h.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Ct(new Oe([])),s=new on(e,t),o=new on(e,t+1);let l=Yt();return this.Kr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(t){const e=new on(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class on{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Ct.comparator(t.key,e.key)||zt(t.Zr,e.Zr)}static Wr(t,e){return zt(t.Zr,e.Zr)||Ct.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Je(on.Ur)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new zD(l,e,s,o);this.mutationQueue.push(h);for(const d of o)this.Xr=this.Xr.add(new on(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(h)}lookupMutationBatch(t,e){return it.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ti(s),l=o<0?0:o;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?by:this.nr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new on(e,0),o=new on(e,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,o],h=>{const d=this.ei(h.Zr);l.push(d)}),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Je(zt);return e.forEach(o=>{const l=new on(o,0),h=new on(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,h],d=>{s=s.add(d.Zr)})}),it.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let l=s;Ct.isDocumentKey(l)||(l=l.child(""));const h=new on(new Ct(l),0);let d=new Je(zt);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Zr)),!0)},h),it.resolve(this.ni(d))}ni(t){const e=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){oe(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return it.forEach(e.mutations,o=>{const l=new on(o.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new on(e,0),o=this.Xr.firstAfterOrEqual(s);return it.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t){this.ii=t,this.docs=function(){return new we(Ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),l=o?o.size:0,h=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return it.resolve(s?s.document.mutableCopy():wn.newInvalidDocument(e))}getEntries(t,e){let s=es();return e.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():wn.newInvalidDocument(o))}),it.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let l=es();const h=e.path,d=new Ct(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||eD(tD(E),s)<=0||(o.has(E.key)||Sd(e,E))&&(l=l.insert(E.key,E.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,e,s,o){Dt(9500)}si(t,e){return it.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new CM(this)}getSize(t){return it.resolve(this.size)}}class CM extends _M{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?e.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),it.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t){this.persistence=t,this.oi=new go(e=>Ay(e),Ry),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this._i=0,this.ai=new Dy,this.targetCount=0,this.ui=Pl.cr()}forEachTarget(t,e){return this.oi.forEach((s,o)=>e(o)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),it.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Pl(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Tr(e),it.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,s){let o=0;const l=[];return this.oi.forEach((h,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.oi.delete(h),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),it.waitFor(l).next(()=>o)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return it.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),it.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(h=>{l.push(o.markPotentiallyOrphaned(t,h))}),it.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return it.resolve(s)}containsKey(t,e){return it.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,e){this.ci={},this.overlays={},this.li=new vd(0),this.hi=!1,this.hi=!0,this.Pi=new wM,this.referenceDelegate=t(this),this.Ti=new IM(this),this.indexManager=new fM,this.remoteDocumentCache=function(o){return new RM(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new cM(e),this.Ei=new bM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new SM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new AM(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){yt("MemoryPersistence","Starting transaction:",t);const o=new xM(this.li.next());return this.referenceDelegate.di(),s(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(t,e){return it.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class xM extends iD{constructor(t){super(),this.currentSequenceNumber=t}}class My{constructor(t){this.persistence=t,this.Vi=new Dy,this.mi=null}static fi(t){return new My(t)}get gi(){if(this.mi)return this.mi;throw Dt(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),it.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.gi,s=>{const o=Ct.fromPath(s);return this.pi(t,o).next(l=>{l||e.removeEntry(o,Vt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return it.or([()=>it.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class ed{constructor(t,e){this.persistence=t,this.yi=new go(s=>aD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=vM(this,e)}static fi(t,e){return new ed(t,e)}di(){}Ai(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(o=>s+o))}br(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return it.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(l=>l?it.resolve():e(o)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(t,h=>this.Dr(t,h,e).next(d=>{d||(s++,l.removeEntry(h,Vt.min()))})).next(()=>l.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),it.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Nf(t.data.value)),e}Dr(t,e,s){return it.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.yi.get(e);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.ds=s,this.As=o}static Rs(t,e){let s=Yt(),o=Yt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ky(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return u2()?8:rD(Rn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,o){const l={result:null};return this.ws(t,e).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.bs(t,e,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new OM;return this.Ss(t,e,h).next(d=>{if(l.result=d,this.fs)return this.Ds(t,e,h,d.size)})}).next(()=>l.result)}Ds(t,e,s,o){return s.documentReadCount<this.gs?(ul()<=$t.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",cl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),it.resolve()):(ul()<=$t.DEBUG&&yt("QueryEngine","Query:",cl(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(ul()<=$t.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",cl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,or(e))):it.resolve())}ws(t,e){if(qT(e))return it.resolve(null);let s=or(e);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=Og(e,null,"F"),s=or(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const h=Yt(...l);return this.ys.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.vs(e,d);return this.Cs(e,g,h,p.readTime)?this.ws(t,Og(e,null,"F")):this.Fs(t,g,e,p)}))})))}bs(t,e,s,o){return qT(e)||o.isEqual(Vt.min())?it.resolve(null):this.ys.getDocuments(t,s).next(l=>{const h=this.vs(e,l);return this.Cs(e,h,s,o)?it.resolve(null):(ul()<=$t.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),cl(e)),this.Fs(t,h,e,JN(o,yc)).next(d=>d))})}vs(t,e){let s=new Je(D1(t));return e.forEach((o,l)=>{Sd(t,l)&&(s=s.add(l))}),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(t,e,s){return ul()<=$t.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",cl(e)),this.ys.getDocumentsMatchingQuery(t,e,ra.min(),s)}Fs(t,e,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(l=>(e.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LocalStore",DM=3e8;class MM{constructor(t,e,s,o){this.persistence=t,this.Ms=e,this.serializer=o,this.xs=new we(zt),this.Os=new go(l=>Ay(l),Ry),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function kM(i,t,e,s){return new MM(i,t,e,s)}async function nw(i,t){const e=Pt(i);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=Yt();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of l){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return e.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:d}))})})}function VM(i,t){const e=Pt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),l=e.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const v=g.batch,b=v.keys();let N=it.resolve();return b.forEach(j=>{N=N.next(()=>E.getEntry(p,j)).next(z=>{const O=g.docVersions.get(j);oe(O!==null,48541),z.version.compareTo(O)<0&&(v.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(p,v))}(e,s,t,l).next(()=>l.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Yt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>e.localDocuments.getDocuments(s,o))})}function iw(i){const t=Pt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function PM(i,t){const e=Pt(i),s=t.snapshotVersion;let o=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=e.Bs.newChangeBuffer({trackRemovals:!0});o=e.xs;const d=[];t.targetChanges.forEach((E,v)=>{const b=o.get(v);if(!b)return;d.push(e.Ti.removeMatchingKeys(l,E.removedDocuments,v).next(()=>e.Ti.addMatchingKeys(l,E.addedDocuments,v)));let N=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?N=N.withResumeToken(yn.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(v,N),function(z,O,et){return z.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=DM?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(b,N,E)&&d.push(e.Ti.updateTargetData(l,N))});let p=es(),g=Yt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(LM(l,h,t.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(Vt.min())){const E=e.Ti.getLastRemoteSnapshotVersion(l).next(v=>e.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(E)}return it.waitFor(d).next(()=>h.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(e.xs=o,l))}function LM(i,t,e){let s=Yt(),o=Yt();return e.forEach(l=>s=s.add(l)),t.getEntries(i,s).next(l=>{let h=es();return e.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Vt.min())?(t.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(d,p)):yt(Vy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function UM(i,t){const e=Pt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=by),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function jM(i,t){const e=Pt(i);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return e.Ti.getTargetData(s,t).next(l=>l?(o=l,it.resolve(o)):e.Ti.allocateTargetId(s).next(h=>(o=new Ws(t,h,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=e.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function Vg(i,t,e){const s=Pt(i),o=s.xs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ql(h))throw h;yt(Vy,`Failed to update sequence numbers for target ${t}: ${h}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function ib(i,t,e){const s=Pt(i);let o=Vt.min(),l=Yt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const v=Pt(p),b=v.Os.get(E);return b!==void 0?it.resolve(v.xs.get(b)):v.Ti.getTargetData(g,E)}(s,h,or(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,t,e?o:Vt.min(),e?l:Yt())).next(d=>(BM(s,RD(t),d),{documents:d,$s:l})))}function BM(i,t,e){let s=i.Ns.get(t)||Vt.min();e.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Ns.set(t,s)}class rb{constructor(){this.activeTargetIds=DD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zM{constructor(){this.xo=new rb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new rb,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="ConnectivityMonitor";class ab{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){yt(sb,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){yt(sb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=null;function Pg(){return Tf===null?Tf=function(){return 268435456+Math.round(2147483648*Math.random())}():Tf++,"0x"+Tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",FM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qM{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===$f?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,e,s,o,l){const h=Pg(),d=this.jo(t,e.toUriEncodedString());yt(tg,`Sending RPC '${t}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,l);const{host:g}=new URL(d),E=Hl(g);return this.Jo(t,d,p,s,E).then(v=>(yt(tg,`Received RPC '${t}' ${h}: `,v),v),v=>{throw Dl(tg,`RPC '${t}' ${h} failed with error: `,v,"url: ",d,"request:",s),v})}Yo(t,e,s,o,l,h){return this.zo(t,e,s,o,l)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),s&&s.headers.forEach((o,l)=>t[l]=o)}jo(t,e){const s=FM[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class KM extends qM{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,l){const h=Pg();return new Promise((d,p)=>{const g=new a1;g.setWithCredentials(!0),g.listenOnce(o1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Of.NO_ERROR:const v=g.getResponseJson();yt(Tn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(v)),d(v);break;case Of.TIMEOUT:yt(Tn,`RPC '${t}' ${h} timed out`),p(new wt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const b=g.getStatus();if(yt(Tn,`RPC '${t}' ${h} failed with status:`,b,"response text:",g.getResponseText()),b>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const j=N==null?void 0:N.error;if(j&&j.status&&j.message){const z=function(et){const ot=et.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(ot)>=0?ot:ht.UNKNOWN}(j.status);p(new wt(z,j.message))}else p(new wt(ht.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new wt(ht.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{h_:t,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{yt(Tn,`RPC '${t}' ${h} completed.`)}});const E=JSON.stringify(o);yt(Tn,`RPC '${t}' ${h} sending request:`,o),g.send(e,"POST",E,s,15)})}I_(t,e,s){const o=Pg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=c1(),d=u1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const E=l.join("");yt(Tn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const v=h.createWebChannel(E,p);this.E_(v);let b=!1,N=!1;const j=new GM({Zo:O=>{N?yt(Tn,`Not sending because RPC '${t}' stream ${o} is closed:`,O):(b||(yt(Tn,`Opening RPC '${t}' stream ${o} transport.`),v.open(),b=!0),yt(Tn,`RPC '${t}' stream ${o} sending:`,O),v.send(O))},Xo:()=>v.close()}),z=(O,et,ot)=>{O.listen(et,Z=>{try{ot(Z)}catch(rt){setTimeout(()=>{throw rt},0)}})};return z(v,nc.EventType.OPEN,()=>{N||(yt(Tn,`RPC '${t}' stream ${o} transport opened.`),j.__())}),z(v,nc.EventType.CLOSE,()=>{N||(N=!0,yt(Tn,`RPC '${t}' stream ${o} transport closed`),j.u_(),this.d_(v))}),z(v,nc.EventType.ERROR,O=>{N||(N=!0,Dl(Tn,`RPC '${t}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),j.u_(new wt(ht.UNAVAILABLE,"The operation could not be completed")))}),z(v,nc.EventType.MESSAGE,O=>{var et;if(!N){const ot=O.data[0];oe(!!ot,16349);const Z=ot,rt=(Z==null?void 0:Z.error)||((et=Z[0])===null||et===void 0?void 0:et.error);if(rt){yt(Tn,`RPC '${t}' stream ${o} received error:`,rt);const at=rt.status;let lt=function(C){const M=ze[C];if(M!==void 0)return q1(M)}(at),k=rt.message;lt===void 0&&(lt=ht.INTERNAL,k="Unknown error status: "+at+" with message "+rt.message),N=!0,j.u_(new wt(lt,k)),v.close()}else yt(Tn,`RPC '${t}' stream ${o} received:`,ot),j.c_(ot)}}),z(d,l1.STAT_EVENT,O=>{O.stat===wg.PROXY?yt(Tn,`RPC '${t}' stream ${o} detected buffering proxy`):O.stat===wg.NOPROXY&&yt(Tn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.a_()},0),j}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(i){return new XD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,e,s=1e3,o=1.5,l=6e4){this.xi=t,this.timerId=e,this.A_=s,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,e-s);o>0&&yt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="PersistentStream";class sw{constructor(t,e,s,o,l,h,d,p){this.xi=t,this.S_=s,this.D_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new rw(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===ht.RESOURCE_EXHAUSTED?(ts(e.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===e&&this.z_(s,o)},s=>{t(()=>{const o=new wt(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,e){const s=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return yt(ob,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(yt(ob,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QM extends sw{constructor(t,e,s,o,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,h),this.serializer=l}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=JD(this.serializer,t),s=function(l){if(!("targetChange"in l))return Vt.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Vt.min():h.readTime?ur(h.readTime):Vt.min()}(t);return this.listener.Y_(e,s)}Z_(t){const e={};e.database=kg(this.serializer),e.addTarget=function(l,h){let d;const p=h.target;if(d=xg(p)?{documents:nM(l,p)}:{query:iM(l,p).gt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Q1(l,h.resumeToken);const g=Ng(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Vt.min())>0){d.readTime=td(l,h.snapshotVersion.toTimestamp());const g=Ng(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=sM(this.serializer,t);s&&(e.labels=s),this.Q_(e)}X_(t){const e={};e.database=kg(this.serializer),e.removeTarget=t,this.Q_(e)}}class $M extends sw{constructor(t,e,s,o,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,h),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return oe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,oe(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){oe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=eM(t.writeResults,t.commitTime),s=ur(t.commitTime);return this.listener.ra(s,e)}ia(){const t={};t.database=kg(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>tM(this.serializer,s))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{}class XM extends YM{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new wt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.zo(t,Dg(e,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new wt(ht.UNKNOWN,l.toString())})}Yo(t,e,s,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Yo(t,Dg(e,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new wt(ht.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class WM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ts(e),this.ua=!1):yt("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class ZM{constructor(t,e,s,o,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(h=>{s.enqueueAndForget(async()=>{yo(this)&&(yt(lo,"Restarting streams for network reachability change."),await async function(p){const g=Pt(p);g.da.add(4),await Fc(g),g.Va.set("Unknown"),g.da.delete(4),await Id(g)}(this))})}),this.Va=new WM(s,o)}}async function Id(i){if(yo(i))for(const t of i.Aa)await t(!0)}async function Fc(i){for(const t of i.Aa)await t(!1)}function aw(i,t){const e=Pt(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),jy(e)?Uy(e):$l(e).N_()&&Ly(e,t))}function Py(i,t){const e=Pt(i),s=$l(e);e.Ea.delete(t),s.N_()&&ow(e,t),e.Ea.size===0&&(s.N_()?s.k_():yo(e)&&e.Va.set("Unknown"))}function Ly(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}$l(i).Z_(t)}function ow(i,t){i.ma.Ke(t),$l(i).X_(t)}function Uy(i){i.ma=new KD({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),$l(i).start(),i.Va.ca()}function jy(i){return yo(i)&&!$l(i).O_()&&i.Ea.size>0}function yo(i){return Pt(i).da.size===0}function lw(i){i.ma=void 0}async function JM(i){i.Va.set("Online")}async function t4(i){i.Ea.forEach((t,e)=>{Ly(i,t)})}async function e4(i,t){lw(i),jy(i)?(i.Va.Pa(t),Uy(i)):i.Va.set("Unknown")}async function n4(i,t,e){if(i.Va.set("Online"),t instanceof K1&&t.state===2&&t.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ea.delete(d),o.ma.removeTarget(d))}(i,t)}catch(s){yt(lo,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await nd(i,s)}else if(t instanceof kf?i.ma.Xe(t):t instanceof G1?i.ma.ot(t):i.ma.nt(t),!e.isEqual(Vt.min()))try{const s=await iw(i.localStore);e.compareTo(s)>=0&&await function(l,h){const d=l.ma.It(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.Ea.get(g);E&&l.Ea.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=l.Ea.get(p);if(!E)return;l.Ea.set(p,E.withResumeToken(yn.EMPTY_BYTE_STRING,E.snapshotVersion)),ow(l,p);const v=new Ws(E.target,p,g,E.sequenceNumber);Ly(l,v)}),l.remoteSyncer.applyRemoteEvent(d)}(i,e)}catch(s){yt(lo,"Failed to raise snapshot:",s),await nd(i,s)}}async function nd(i,t,e){if(!Ql(t))throw t;i.da.add(1),await Fc(i),i.Va.set("Offline"),e||(e=()=>iw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{yt(lo,"Retrying IndexedDB access"),await e(),i.da.delete(1),await Id(i)})}function uw(i,t){return t().catch(e=>nd(i,e,t))}async function xd(i){const t=Pt(i),e=la(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:by;for(;i4(t);)try{const o=await UM(t.localStore,s);if(o===null){t.Ia.length===0&&e.k_();break}s=o.batchId,r4(t,o)}catch(o){await nd(t,o)}cw(t)&&hw(t)}function i4(i){return yo(i)&&i.Ia.length<10}function r4(i,t){i.Ia.push(t);const e=la(i);e.N_()&&e.ea&&e.ta(t.mutations)}function cw(i){return yo(i)&&!la(i).O_()&&i.Ia.length>0}function hw(i){la(i).start()}async function s4(i){la(i).ia()}async function a4(i){const t=la(i);for(const e of i.Ia)t.ta(e.mutations)}async function o4(i,t,e){const s=i.Ia.shift(),o=xy.from(s,t,e);await uw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await xd(i)}async function l4(i,t){t&&la(i).ea&&await async function(s,o){if(function(h){return qD(h)&&h!==ht.ABORTED}(o.code)){const l=s.Ia.shift();la(s).L_(),await uw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await xd(s)}}(i,t),cw(i)&&hw(i)}async function lb(i,t){const e=Pt(i);e.asyncQueue.verifyOperationInProgress(),yt(lo,"RemoteStore received new credentials");const s=yo(e);e.da.add(3),await Fc(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Id(e)}async function u4(i,t){const e=Pt(i);t?(e.da.delete(2),await Id(e)):t||(e.da.add(2),await Fc(e),e.Va.set("Unknown"))}function $l(i){return i.fa||(i.fa=function(e,s,o){const l=Pt(e);return l.oa(),new QM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{e_:JM.bind(null,i),n_:t4.bind(null,i),i_:e4.bind(null,i),Y_:n4.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),jy(i)?Uy(i):i.Va.set("Unknown")):(await i.fa.stop(),lw(i))})),i.fa}function la(i){return i.ga||(i.ga=function(e,s,o){const l=Pt(e);return l.oa(),new $M(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:s4.bind(null,i),i_:l4.bind(null,i),na:a4.bind(null,i),ra:o4.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await xd(i)):(await i.ga.stop(),i.Ia.length>0&&(yt(lo,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(t,e,s,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,l){const h=Date.now()+s,d=new By(t,e,h,o,l);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zy(i,t){if(ts("AsyncQueue",`${t}: ${i}`),Ql(i))return new wt(ht.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static emptySet(t){return new vl(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||Ct.comparator(e.key,s.key):(e,s)=>Ct.comparator(e.key,s.key),this.keyedMap=ic(),this.sortedSet=new we(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof vl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new vl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.pa=new we(Ct.comparator)}track(t){const e=t.doc.key,s=this.pa.get(e);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(e,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(e):t.type===1&&s.type===2?this.pa=this.pa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):Dt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,s)=>{t.push(s)}),t}}class Ll{constructor(t,e,s,o,l,h,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,l){const h=[];return e.forEach(d=>{h.push({type:0,doc:d})}),new Ll(t,e,vl.emptySet(e),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class h4{constructor(){this.queries=cb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Pt(e),l=o.queries;o.queries=cb(),l.forEach((h,d)=>{for(const p of d.Sa)p.onError(s)})})(this,new wt(ht.ABORTED,"Firestore shutting down"))}}function cb(){return new go(i=>N1(i),bd)}async function f4(i,t){const e=Pt(i);let s=3;const o=t.query;let l=e.queries.get(o);l?!l.Da()&&t.va()&&(s=2):(l=new c4,s=t.va()?0:1);try{switch(s){case 0:l.ba=await e.onListen(o,!0);break;case 1:l.ba=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const d=zy(h,`Initialization of query '${cl(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,l),l.Sa.push(t),t.Fa(e.onlineState),l.ba&&t.Ma(l.ba)&&Hy(e)}async function d4(i,t){const e=Pt(i),s=t.query;let o=3;const l=e.queries.get(s);if(l){const h=l.Sa.indexOf(t);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=t.va()?0:1:!l.Da()&&t.va()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function m4(i,t){const e=Pt(i);let s=!1;for(const o of t){const l=o.query,h=e.queries.get(l);if(h){for(const d of h.Sa)d.Ma(o)&&(s=!0);h.ba=o}}s&&Hy(e)}function p4(i,t,e){const s=Pt(i),o=s.queries.get(t);if(o)for(const l of o.Sa)l.onError(e);s.queries.delete(t)}function Hy(i){i.Ca.forEach(t=>{t.next()})}var Lg,hb;(hb=Lg||(Lg={})).xa="default",hb.Cache="cache";class g4{constructor(t,e,s){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ll(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const s=e!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t){this.key=t}}class dw{constructor(t){this.key=t}}class y4{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Yt(),this.mutatedKeys=Yt(),this.Za=D1(t),this.Xa=new vl(this.Za)}get eu(){return this.Ha}tu(t,e){const s=e?e.nu:new ub,o=e?e.Xa:this.Xa;let l=e?e.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,v)=>{const b=o.get(E),N=Sd(this.query,v)?v:null,j=!!b&&this.mutatedKeys.has(b.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let O=!1;b&&N?b.data.isEqual(N.data)?j!==z&&(s.track({type:3,doc:N}),O=!0):this.ru(b,N)||(s.track({type:2,doc:N}),O=!0,(p&&this.Za(N,p)>0||g&&this.Za(N,g)<0)&&(d=!0)):!b&&N?(s.track({type:0,doc:N}),O=!0):b&&!N&&(s.track({type:1,doc:b}),O=!0,(p||g)&&(d=!0)),O&&(N?(h=h.add(N),l=z?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{Xa:h,nu:s,Cs:d,mutatedKeys:l}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const l=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const h=t.nu.wa();h.sort((E,v)=>function(N,j){const z=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Vt:O})}};return z(N)-z(j)}(E.type,v.type)||this.Za(E.doc,v.doc)),this.iu(s),o=o!=null&&o;const d=e&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new Ll(this.query,t.Xa,l,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new ub,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Yt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const e=[];return t.forEach(s=>{this.Ya.has(s)||e.push(new dw(s))}),this.Ya.forEach(s=>{t.has(s)||e.push(new fw(s))}),e}au(t){this.Ha=t.$s,this.Ya=Yt();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Ll.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Fy="SyncEngine";class v4{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class _4{constructor(t){this.key=t,this.cu=!1}}class E4{constructor(t,e,s,o,l,h){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new go(d=>N1(d),bd),this.Pu=new Map,this.Tu=new Set,this.Iu=new we(Ct.comparator),this.Eu=new Map,this.du=new Dy,this.Au={},this.Ru=new Map,this.Vu=Pl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function T4(i,t,e=!0){const s=_w(i);let o;const l=s.hu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await mw(s,t,e,!0),o}async function b4(i,t){const e=_w(i);await mw(e,t,!0,!1)}async function mw(i,t,e,s){const o=await jM(i.localStore,or(t)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,e);let d;return s&&(d=await S4(i,t,l,h==="current",o.resumeToken)),i.isPrimaryClient&&e&&aw(i.remoteStore,o),d}async function S4(i,t,e,s,o){i.fu=(v,b,N)=>async function(z,O,et,ot){let Z=O.view.tu(et);Z.Cs&&(Z=await ib(z.localStore,O.query,!1).then(({documents:k})=>O.view.tu(k,Z)));const rt=ot&&ot.targetChanges.get(O.targetId),at=ot&&ot.targetMismatches.get(O.targetId)!=null,lt=O.view.applyChanges(Z,z.isPrimaryClient,rt,at);return db(z,O.targetId,lt.ou),lt.snapshot}(i,v,b,N);const l=await ib(i.localStore,t,!0),h=new y4(t,l.$s),d=h.tu(l.documents),p=Hc.createSynthesizedTargetChangeForCurrentChange(e,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);db(i,e,g.ou);const E=new v4(t,e,h);return i.hu.set(t,E),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),g.snapshot}async function w4(i,t,e){const s=Pt(i),o=s.hu.get(t),l=s.Pu.get(o.targetId);if(l.length>1)return s.Pu.set(o.targetId,l.filter(h=>!bd(h,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),e&&Py(s.remoteStore,o.targetId),Ug(s,o.targetId)}).catch(Kl)):(Ug(s,o.targetId),await Vg(s.localStore,o.targetId,!0))}async function A4(i,t){const e=Pt(i),s=e.hu.get(t),o=e.Pu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Py(e.remoteStore,s.targetId))}async function R4(i,t,e){const s=M4(i);try{const o=await function(h,d){const p=Pt(h),g=Ze.now(),E=d.reduce((N,j)=>N.add(j.key),Yt());let v,b;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let j=es(),z=Yt();return p.Bs.getEntries(N,E).next(O=>{j=O,j.forEach((et,ot)=>{ot.isValidDocument()||(z=z.add(et))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,j)).next(O=>{v=O;const et=[];for(const ot of d){const Z=jD(ot,v.get(ot.key).overlayedDocument);Z!=null&&et.push(new da(ot.key,Z,w1(Z.value.mapValue),lr.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,et,d)}).next(O=>{b=O;const et=O.applyToLocalDocumentSet(v,z);return p.documentOverlayCache.saveOverlays(N,O.batchId,et)})}).then(()=>({batchId:b.batchId,changes:k1(v)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Au[h.currentUser.toKey()];g||(g=new we(zt)),g=g.insert(d,p),h.Au[h.currentUser.toKey()]=g}(s,o.batchId,e),await qc(s,o.changes),await xd(s.remoteStore)}catch(o){const l=zy(o,"Failed to persist write");e.reject(l)}}async function pw(i,t){const e=Pt(i);try{const s=await PM(e.localStore,t);t.targetChanges.forEach((o,l)=>{const h=e.Eu.get(l);h&&(oe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?oe(h.cu,14607):o.removedDocuments.size>0&&(oe(h.cu,42227),h.cu=!1))}),await qc(e,s,t)}catch(s){await Kl(s)}}function fb(i,t,e){const s=Pt(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.hu.forEach((l,h)=>{const d=h.view.Fa(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Pt(h);p.onlineState=d;let g=!1;p.queries.forEach((E,v)=>{for(const b of v.Sa)b.Fa(d)&&(g=!0)}),g&&Hy(p)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function C4(i,t,e){const s=Pt(i);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Eu.get(t),l=o&&o.key;if(l){let h=new we(Ct.comparator);h=h.insert(l,wn.newNoDocument(l,Vt.min()));const d=Yt().add(l),p=new Rd(Vt.min(),new Map,new we(zt),h,d);await pw(s,p),s.Iu=s.Iu.remove(l),s.Eu.delete(t),qy(s)}else await Vg(s.localStore,t,!1).then(()=>Ug(s,t,e)).catch(Kl)}async function I4(i,t){const e=Pt(i),s=t.batch.batchId;try{const o=await VM(e.localStore,t);yw(e,s,null),gw(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await qc(e,o)}catch(o){await Kl(o)}}async function x4(i,t,e){const s=Pt(i);try{const o=await function(h,d){const p=Pt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(v=>(oe(v!==null,37113),E=v.keys(),p.mutationQueue.removeMutationBatch(g,v))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);yw(s,t,e),gw(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await qc(s,o)}catch(o){await Kl(o)}}function gw(i,t){(i.Ru.get(t)||[]).forEach(e=>{e.resolve()}),i.Ru.delete(t)}function yw(i,t,e){const s=Pt(i);let o=s.Au[s.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function Ug(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Pu.get(t))i.hu.delete(s),e&&i.lu.gu(s,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(s=>{i.du.containsKey(s)||vw(i,s)})}function vw(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(Py(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),qy(i))}function db(i,t,e){for(const s of e)s instanceof fw?(i.du.addReference(s.key,t),O4(i,s)):s instanceof dw?(yt(Fy,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,t),i.du.containsKey(s.key)||vw(i,s.key)):Dt(19791,{pu:s})}function O4(i,t){const e=t.key,s=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(s)||(yt(Fy,"New document in limbo: "+e),i.Tu.add(s),qy(i))}function qy(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new Ct(Oe.fromString(t)),s=i.Vu.next();i.Eu.set(s,new _4(e)),i.Iu=i.Iu.insert(e,s),aw(i.remoteStore,new Ws(or(Cy(e.path)),s,"TargetPurposeLimboResolution",vd.le))}}async function qc(i,t,e){const s=Pt(i),o=[],l=[],h=[];s.hu.isEmpty()||(s.hu.forEach((d,p)=>{h.push(s.fu(p,t,e).then(g=>{var E;if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:(E=e==null?void 0:e.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=ky.Rs(p.targetId,g);l.push(v)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(p,g){const E=Pt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>it.forEach(g,b=>it.forEach(b.ds,N=>E.persistence.referenceDelegate.addReference(v,b.targetId,N)).next(()=>it.forEach(b.As,N=>E.persistence.referenceDelegate.removeReference(v,b.targetId,N)))))}catch(v){if(!Ql(v))throw v;yt(Vy,"Failed to update sequence numbers: "+v)}for(const v of g){const b=v.targetId;if(!v.fromCache){const N=E.xs.get(b),j=N.snapshotVersion,z=N.withLastLimboFreeSnapshotVersion(j);E.xs=E.xs.insert(b,z)}}}(s.localStore,l))}async function N4(i,t){const e=Pt(i);if(!e.currentUser.isEqual(t)){yt(Fy,"User change. New user:",t.toKey());const s=await nw(e.localStore,t);e.currentUser=t,function(l,h){l.Ru.forEach(d=>{d.forEach(p=>{p.reject(new wt(ht.CANCELLED,h))})}),l.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await qc(e,s.ks)}}function D4(i,t){const e=Pt(i),s=e.Eu.get(t);if(s&&s.cu)return Yt().add(s.key);{let o=Yt();const l=e.Pu.get(t);if(!l)return o;for(const h of l){const d=e.hu.get(h);o=o.unionWith(d.view.eu)}return o}}function _w(i){const t=Pt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=pw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=D4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=C4.bind(null,t),t.lu.Y_=m4.bind(null,t.eventManager),t.lu.gu=p4.bind(null,t.eventManager),t}function M4(i){const t=Pt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=I4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x4.bind(null,t),t}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return kM(this.persistence,new NM,t.initialUser,this.serializer)}Su(t){return new ew(My.fi,this.serializer)}bu(t){return new zM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class k4 extends id{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){oe(this.persistence.referenceDelegate instanceof ed,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gM(s,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new ew(s=>ed.fi(s,e),this.serializer)}}class jg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=N4.bind(null,this.syncEngine),await u4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new h4}()}createDatastore(t){const e=Cd(t.databaseInfo.databaseId),s=function(l){return new KM(l)}(t.databaseInfo);return function(l,h,d,p){return new XM(l,h,d,p)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,o,l,h,d){return new ZM(s,o,l,h,d)}(this.localStore,this.datastore,t.asyncQueue,e=>fb(this.syncEngine,e,0),function(){return ab.C()?new ab:new HM}())}createSyncEngine(t,e){return function(o,l,h,d,p,g,E){const v=new E4(o,l,h,d,p,g);return E&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const l=Pt(o);yt(lo,"RemoteStore shutting down."),l.da.add(5),await Fc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="FirestoreClient";class P4{constructor(t,e,s,o,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=m1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{yt(ua,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(yt(ua,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=zy(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function ng(i,t){i.asyncQueue.verifyOperationInProgress(),yt(ua,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await nw(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function mb(i,t){i.asyncQueue.verifyOperationInProgress();const e=await L4(i);yt(ua,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(s=>lb(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>lb(t.remoteStore,o)),i._onlineComponents=t}async function L4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){yt(ua,"Using user provided OfflineComponentProvider");try{await ng(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===ht.FAILED_PRECONDITION||o.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;Dl("Error using user provided cache. Falling back to memory cache: "+e),await ng(i,new id)}}else yt(ua,"Using default OfflineComponentProvider"),await ng(i,new k4(void 0));return i._offlineComponents}async function Ew(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(yt(ua,"Using user provided OnlineComponentProvider"),await mb(i,i._uninitializedComponentsProvider._online)):(yt(ua,"Using default OnlineComponentProvider"),await mb(i,new jg))),i._onlineComponents}function U4(i){return Ew(i).then(t=>t.syncEngine)}async function j4(i){const t=await Ew(i),e=t.eventManager;return e.onListen=T4.bind(null,t.syncEngine),e.onUnlisten=w4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=b4.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=A4.bind(null,t.syncEngine),e}function B4(i,t,e={}){const s=new na;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new V4({next:b=>{E.xu(),h.enqueueAndForget(()=>d4(l,v));const N=b.docs.has(d);!N&&b.fromCache?g.reject(new wt(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&b.fromCache&&p&&p.source==="server"?g.reject(new wt(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new g4(Cy(d.path),E,{includeMetadataChanges:!0,Qa:!0});return f4(l,v)}(await j4(i),i.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(i,t,e){if(!e)throw new wt(ht.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function H4(i,t,e,s){if(t===!0&&s===!0)throw new wt(ht.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function gb(i){if(!Ct.isDocumentKey(i))throw new wt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Gy(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Dt(12329,{type:typeof i})}function uo(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new wt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Gy(i);throw new wt(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="firestore.googleapis.com",yb=!0;class vb{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new wt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bw,this.ssl=yb}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:yb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mM)throw new wt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}H4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tw((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new wt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new wt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new wt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ky{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new wt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qN;switch(s.type){case"firstParty":return new $N(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new wt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=pb.get(e);s&&(yt("ComponentProvider","Removing Datastore"),pb.delete(e),s.terminate())}(this),Promise.resolve()}}function F4(i,t,e,s={}){var o;i=uo(i,Ky);const l=Hl(t),h=i._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${e}`;l&&(yS(`https://${p}`),vS("Firestore",!0)),h.host!==bw&&h.host!==p&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:s});if(!io(g,d)&&(i._setSettings(g),s.mockUserToken)){let E,v;if(typeof s.mockUserToken=="string")E=s.mockUserToken,v=Sn.MOCK_USER;else{E=t2(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new wt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Sn(b)}i._authCredentials=new GN(new f1(E,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q4=class Sw{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Sw(this.firestore,t,this._query)}};class ri{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ri(this.firestore,t,this._key)}}class Sc extends q4{constructor(t,e,s){super(t,e,Cy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ri(this.firestore,null,new Ct(t))}withConverter(t){return new Sc(this.firestore,t,this._path)}}function co(i,t,...e){if(i=Cn(i),arguments.length===1&&(t=m1.newId()),z4("doc","path",t),i instanceof Ky){const s=Oe.fromString(t,...e);return gb(s),new ri(i,null,new Ct(s))}{if(!(i instanceof ri||i instanceof Sc))throw new wt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Oe.fromString(t,...e));return gb(s),new ri(i.firestore,i instanceof Sc?i.converter:null,new Ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="AsyncQueue";class Eb{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new rw(this,"async_queue_retry"),this.rc=()=>{const s=eg();s&&yt(_b,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const e=eg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=eg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new na;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Ql(t))throw t;yt(_b,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,ts("INTERNAL UNHANDLED ERROR: ",Tb(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=e,e}enqueueAfterDelay(t,e,s){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const o=By.createAndSchedule(this,t,e,s,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&Dt(47125,{cc:Tb(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function Tb(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Od extends Ky{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new Eb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Eb(t),this._firestoreClient=void 0,await t}}}function G4(i,t){const e=typeof i=="object"?i:bS(),s=typeof i=="string"?i:$f,o=hy(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=ZI("firestore");l&&F4(o,...l)}return o}function ww(i){if(i._terminated)throw new wt(ht.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||K4(i),i._firestoreClient}function K4(i){var t,e,s;const o=i._freezeSettings(),l=function(d,p,g,E){return new uD(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Tw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new P4(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ul(yn.fromBase64String(t))}catch(e){throw new wt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ul(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new wt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new wt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new wt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^__.*__$/;class $4{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new da(t,this.data,this.fieldMask,e,this.fieldTransforms):new zc(t,this.data,e,this.fieldTransforms)}}class Aw{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new da(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Rw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ic:i})}}class Xy{constructor(t,e,s,o,l,h){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Xy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return rd(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(Rw(this.Ic)&&Q4.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class Y4{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Cd(t)}bc(t,e,s,o=!1){return new Xy({Ic:t,methodName:e,wc:s,path:gn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cw(i){const t=i._freezeSettings(),e=Cd(i._databaseId);return new Y4(i._databaseId,!!t.ignoreUndefinedProperties,e)}function X4(i,t,e,s,o,l={}){const h=i.bc(l.merge||l.mergeFields?2:0,t,e,o);Wy("Data must be an object, but it was:",h,s);const d=Iw(s,h);let p,g;if(l.merge)p=new ii(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const v of l.mergeFields){const b=Bg(t,v,e);if(!h.contains(b))throw new wt(ht.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Ow(E,b)||E.push(b)}p=new ii(E),g=h.fieldTransforms.filter(v=>p.covers(v.field))}else p=null,g=h.fieldTransforms;return new $4(new Qn(d),p,g)}class Dd extends Qy{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dd}}function W4(i,t,e,s){const o=i.bc(1,t,e);Wy("Data must be an object, but it was:",o,s);const l=[],h=Qn.empty();fa(s,(p,g)=>{const E=Zy(t,p,e);g=Cn(g);const v=o.mc(E);if(g instanceof Dd)l.push(E);else{const b=Md(g,v);b!=null&&(l.push(E),h.set(E,b))}});const d=new ii(l);return new Aw(h,d,o.fieldTransforms)}function Z4(i,t,e,s,o,l){const h=i.bc(1,t,e),d=[Bg(t,s,e)],p=[o];if(l.length%2!=0)throw new wt(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Bg(t,l[b])),p.push(l[b+1]);const g=[],E=Qn.empty();for(let b=d.length-1;b>=0;--b)if(!Ow(g,d[b])){const N=d[b];let j=p[b];j=Cn(j);const z=h.mc(N);if(j instanceof Dd)g.push(N);else{const O=Md(j,z);O!=null&&(g.push(N),E.set(N,O))}}const v=new ii(g);return new Aw(E,v,h.fieldTransforms)}function Md(i,t){if(xw(i=Cn(i)))return Wy("Unsupported field value:",t,i),Iw(i,t);if(i instanceof Qy)return function(s,o){if(!Rw(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=Md(d,o.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,t)}return function(s,o){if((s=Cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ze.fromDate(s);return{timestampValue:td(o.serializer,l)}}if(s instanceof Ze){const l=new Ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:td(o.serializer,l)}}if(s instanceof $y)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ul)return{bytesValue:Q1(o.serializer,s._byteString)};if(s instanceof ri){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ny(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yy)return function(h,d){return{mapValue:{fields:{[b1]:{stringValue:S1},[Yf]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return Iy(d.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Gy(s)}`)}(i,t)}function Iw(i,t){const e={};return g1(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fa(i,(s,o)=>{const l=Md(o,t.Ac(s));l!=null&&(e[s]=l)}),{mapValue:{fields:e}}}function xw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ze||i instanceof $y||i instanceof Ul||i instanceof ri||i instanceof Qy||i instanceof Yy)}function Wy(i,t,e){if(!xw(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const s=Gy(e);throw s==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+s)}}function Bg(i,t,e){if((t=Cn(t))instanceof Nd)return t._internalPath;if(typeof t=="string")return Zy(i,t);throw rd("Field path arguments must be of type string or ",i,!1,void 0,e)}const J4=new RegExp("[~\\*/\\[\\]]");function Zy(i,t,e){if(t.search(J4)>=0)throw rd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Nd(...t.split("."))._internalPath}catch{throw rd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function rd(i,t,e,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new wt(ht.INVALID_ARGUMENT,d+i+p)}function Ow(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,e,s,o,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Dw("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class tk extends Nw{data(){return super.data()}}function Dw(i,t){return typeof t=="string"?Zy(i,t):t instanceof Nd?t._internalPath:t._delegate._internalPath}class ek{convertValue(t,e="none"){switch(oa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(aa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Dt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return fa(t,(o,l)=>{s[o]=this.convertValue(l,e)}),s}convertVectorValue(t){var e,s,o;const l=(o=(s=(e=t.fields)===null||e===void 0?void 0:e[Yf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Ve(h.doubleValue));return new Yy(l)}convertGeoPoint(t){return new $y(Ve(t.latitude),Ve(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Ed(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(vc(t));default:return null}}convertTimestamp(t){const e=sa(t);return new Ze(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Oe.fromString(t);oe(J1(s),9688,{name:t});const o=new _c(s.get(1),s.get(3)),l=new Ct(s.popFirst(5));return o.isEqual(e)||ts(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(i,t,e){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Mw extends Nw{constructor(t,e,s,o,l,h){super(t,e,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new rk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Dw("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class rk extends Mw{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(i){i=uo(i,ri);const t=uo(i.firestore,Od);return B4(ww(t),i._key).then(e=>lk(t,i,e))}class sk extends ek{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ul(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ri(this.firestore,null,e)}}function ak(i,t,e){i=uo(i,ri);const s=uo(i.firestore,Od),o=nk(i.converter,t);return kw(s,[X4(Cw(s),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,lr.none())])}function ok(i,t,e,...s){i=uo(i,ri);const o=uo(i.firestore,Od),l=Cw(o);let h;return h=typeof(t=Cn(t))=="string"||t instanceof Nd?Z4(l,"updateDoc",i._key,t,e,s):W4(l,"updateDoc",i._key,t),kw(o,[h.toMutation(i._key,lr.exists(!0))])}function kw(i,t){return function(s,o){const l=new na;return s.asyncQueue.enqueueAndForget(async()=>R4(await U4(s),o,l)),l.promise}(ww(i),t)}function lk(i,t,e){const s=e.docs.get(t._key),o=new sk(i);return new Mw(i,o,t._key,s,new ik(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Gl=o})(Fl),Nl(new ro("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new Od(new KN(s.getProvider("auth-internal")),new YN(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new wt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(g.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ta(CT,IT,t),ta(CT,IT,"esm2017")})();const uk={apiKey:"AIzaSyBozVVinEK5nlXi4xR7_ZE_2tQeSMwN8Us",authDomain:"login-auth-366ba.firebaseapp.com",projectId:"login-auth-366ba",storageBucket:"login-auth-366ba.firebasestorage.app",messagingSenderId:"559443453077",appId:"1:559443453077:web:c5689dced0e72da81ce79c"},ck=TS(uk),Ac=HN(),ho=G4(ck),hk=["practice","classic","royale"];function fk({togglePlayWordle:i,gameMode:t,setGameMode:e,className:s="",currentUser:o}){const[l,h]=I.useState(hk),[d,p]=I.useState(t),g=I.useRef(null),[E,v]=I.useState(!1);return I.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&v(!1)};return document.addEventListener("mousedown",N=>b(N)),()=>document.addEventListener("mousedown",N=>b(N))},[]),R.jsxs(R.Fragment,{children:[R.jsx(Dc,{richColors:!0,position:"top-center"}),R.jsxs("div",{className:`game-mode-selector ${s}`,children:[R.jsx("div",{className:"play-btn flex-center",onClick:i,children:R.jsx(FI,{})}),R.jsx(pf,{activeKey:"true",className:"game-mode",ref:g,children:R.jsxs(pf.Item,{eventKey:String(E),style:{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},children:[R.jsx(pf.Header,{onClick:()=>{v(!E)},children:R.jsx("span",{className:"current-mode",children:d.toUpperCase()})}),R.jsx(pf.Body,{onExited:()=>e(d),children:R.jsx("ol",{children:l.map((b,N)=>b===t?null:R.jsx("li",{className:`selector-list ${N+1===l.length&&"last"}`,onClick:()=>{o||b==="practice"?(v(!1),p(b)):rr.warning("Log in to play.")},children:R.jsx("span",{className:"mode",children:b.toUpperCase()})},N))})})]})})]})]})}function dk({togglePlayWordle:i,gameMode:t,setGameMode:e,darkMode:s,currentUser:o}){return R.jsx("div",{className:"homepage flex-center",children:R.jsx(fk,{togglePlayWordle:i,gameMode:t,setGameMode:e,className:s,currentUser:o})})}const mk=["as","disabled"];function pk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function gk(i){return!i||i.trim()==="#"}function Jy({tagName:i,disabled:t,href:e,target:s,rel:o,role:l,onClick:h,tabIndex:d=0,type:p}){i||(e!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:t},g];const E=b=>{if((t||i==="a"&&gk(e))&&b.preventDefault(),t){b.stopPropagation();return}h==null||h(b)},v=b=>{b.key===" "&&(b.preventDefault(),E(b))};return i==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:d,href:e,target:i==="a"?s:void 0,"aria-disabled":t||void 0,rel:i==="a"?o:void 0,onClick:E,onKeyDown:v},g]}const Vw=I.forwardRef((i,t)=>{let{as:e,disabled:s}=i,o=pk(i,mk);const[l,{tagName:h}]=Jy(Object.assign({tagName:e,disabled:s},o));return R.jsx(h,Object.assign({},o,l,{ref:t}))});Vw.displayName="Button";const Vi=I.forwardRef(({as:i,bsPrefix:t,variant:e="primary",size:s,active:o=!1,disabled:l=!1,className:h,...d},p)=>{const g=jt(t,"btn"),[E,{tagName:v}]=Jy({tagName:i,disabled:l,...d}),b=v;return R.jsx(b,{...E,...d,ref:p,disabled:l,className:Mt(h,g,o&&"active",e&&`${g}-${e}`,s&&`${g}-${s}`,d.href&&l&&"disabled")})});Vi.displayName="Button";const yk={type:Yr.string,tooltip:Yr.bool,as:Yr.elementType},kd=I.forwardRef(({as:i="div",className:t,type:e="valid",tooltip:s=!1,...o},l)=>R.jsx(i,{...o,ref:l,className:Mt(t,`${e}-${s?"tooltip":"feedback"}`)}));kd.displayName="Feedback";kd.propTypes=yk;const ns=I.createContext({}),tv=I.forwardRef(({id:i,bsPrefix:t,className:e,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:h="input",...d},p)=>{const{controlId:g}=I.useContext(ns);return t=jt(t,"form-check-input"),R.jsx(h,{...d,ref:p,type:s,id:i||g,className:Mt(e,t,o&&"is-valid",l&&"is-invalid")})});tv.displayName="FormCheckInput";const sd=I.forwardRef(({bsPrefix:i,className:t,htmlFor:e,...s},o)=>{const{controlId:l}=I.useContext(ns);return i=jt(i,"form-check-label"),R.jsx("label",{...s,ref:o,htmlFor:e||l,className:Mt(t,i)})});sd.displayName="FormCheckLabel";function vk(i,t){return I.Children.toArray(i).some(e=>I.isValidElement(e)&&e.type===t)}const Pw=I.forwardRef(({id:i,bsPrefix:t,bsSwitchPrefix:e,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:E,className:v,style:b,title:N="",type:j="checkbox",label:z,children:O,as:et="input",...ot},Z)=>{t=jt(t,"form-check"),e=jt(e,"form-switch");const{controlId:rt}=I.useContext(ns),at=I.useMemo(()=>({controlId:i||rt}),[rt,i]),lt=!O&&z!=null&&z!==!1||vk(O,sd),k=R.jsx(tv,{...ot,type:j==="switch"?"checkbox":j,ref:Z,isValid:h,isInvalid:d,disabled:l,as:et});return R.jsx(ns.Provider,{value:at,children:R.jsx("div",{style:b,className:Mt(v,lt&&t,s&&`${t}-inline`,o&&`${t}-reverse`,j==="switch"&&e),children:O||R.jsxs(R.Fragment,{children:[k,lt&&R.jsx(sd,{title:N,children:z}),g&&R.jsx(kd,{type:E,tooltip:p,children:g})]})})})});Pw.displayName="FormCheck";const ad=Object.assign(Pw,{Input:tv,Label:sd}),Lw=I.forwardRef(({bsPrefix:i,type:t,size:e,htmlSize:s,id:o,className:l,isValid:h=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:E="input",...v},b)=>{const{controlId:N}=I.useContext(ns);return i=jt(i,"form-control"),R.jsx(E,{...v,type:t,size:s,ref:b,readOnly:g,id:o||N,className:Mt(l,p?`${i}-plaintext`:i,e&&`${i}-${e}`,t==="color"&&`${i}-color`,h&&"is-valid",d&&"is-invalid")})});Lw.displayName="FormControl";const _k=Object.assign(Lw,{Feedback:kd}),Uw=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=jt(t,"form-floating"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));Uw.displayName="FormFloating";const ev=I.forwardRef(({controlId:i,as:t="div",...e},s)=>{const o=I.useMemo(()=>({controlId:i}),[i]);return R.jsx(ns.Provider,{value:o,children:R.jsx(t,{...e,ref:s})})});ev.displayName="FormGroup";function Ek({as:i,bsPrefix:t,className:e,...s}){t=jt(t,"col");const o=gI(),l=yI(),h=[],d=[];return o.forEach(p=>{const g=s[p];delete s[p];let E,v,b;typeof g=="object"&&g!=null?{span:E,offset:v,order:b}=g:E=g;const N=p!==l?`-${p}`:"";E&&h.push(E===!0?`${t}${N}`:`${t}${N}-${E}`),b!=null&&d.push(`order${N}-${b}`),v!=null&&d.push(`offset${N}-${v}`)}),[{...s,className:Mt(e,...h,...d)},{as:i,bsPrefix:t,spans:h}]}const jw=I.forwardRef((i,t)=>{const[{className:e,...s},{as:o="div",bsPrefix:l,spans:h}]=Ek(i);return R.jsx(o,{...s,ref:t,className:Mt(e,!h.length&&l)})});jw.displayName="Col";const Bw=I.forwardRef(({as:i="label",bsPrefix:t,column:e=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...h},d)=>{const{controlId:p}=I.useContext(ns);t=jt(t,"form-label");let g="col-form-label";typeof e=="string"&&(g=`${g} ${g}-${e}`);const E=Mt(o,t,s&&"visually-hidden",e&&g);return l=l||p,e?R.jsx(jw,{ref:d,as:"label",className:E,htmlFor:l,...h}):R.jsx(i,{ref:d,className:E,htmlFor:l,...h})});Bw.displayName="FormLabel";const zw=I.forwardRef(({bsPrefix:i,className:t,id:e,...s},o)=>{const{controlId:l}=I.useContext(ns);return i=jt(i,"form-range"),R.jsx("input",{...s,type:"range",ref:o,className:Mt(t,i),id:e||l})});zw.displayName="FormRange";const Hw=I.forwardRef(({bsPrefix:i,size:t,htmlSize:e,className:s,isValid:o=!1,isInvalid:l=!1,id:h,...d},p)=>{const{controlId:g}=I.useContext(ns);return i=jt(i,"form-select"),R.jsx("select",{...d,size:e,ref:p,className:Mt(s,i,t&&`${i}-${t}`,o&&"is-valid",l&&"is-invalid"),id:h||g})});Hw.displayName="FormSelect";const Fw=I.forwardRef(({bsPrefix:i,className:t,as:e="small",muted:s,...o},l)=>(i=jt(i,"form-text"),R.jsx(e,{...o,ref:l,className:Mt(t,i,s&&"text-muted")})));Fw.displayName="FormText";const qw=I.forwardRef((i,t)=>R.jsx(ad,{...i,ref:t,type:"switch"}));qw.displayName="Switch";const Tk=Object.assign(qw,{Input:ad.Input,Label:ad.Label}),Gw=I.forwardRef(({bsPrefix:i,className:t,children:e,controlId:s,label:o,...l},h)=>(i=jt(i,"form-floating"),R.jsxs(ev,{ref:h,className:Mt(t,i),controlId:s,...l,children:[e,R.jsx("label",{htmlFor:s,children:o})]})));Gw.displayName="FloatingLabel";const bk={_ref:Yr.any,validated:Yr.bool,as:Yr.elementType},nv=I.forwardRef(({className:i,validated:t,as:e="form",...s},o)=>R.jsx(e,{...s,ref:o,className:Mt(i,t&&"was-validated")}));nv.displayName="Form";nv.propTypes=bk;const He=Object.assign(nv,{Group:ev,Control:_k,Floating:Uw,Check:ad,Switch:Tk,Label:Bw,Text:Fw,Range:zw,Select:Hw,FloatingLabel:Gw});var bf;function bb(i){if((!bf&&bf!==0||i)&&zl){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),bf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return bf}function Sk(){return I.useState(null)}function wk(i){const t=I.useRef(i);return I.useEffect(()=>{t.current=i},[i]),t}function jl(i){const t=wk(i);return I.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function Ak(i){const t=I.useRef(i);return t.current=i,t}function Rk(i){const t=Ak(i);I.useEffect(()=>()=>t.current(),[])}function ig(i){i===void 0&&(i=hd());try{var t=i.activeElement;return!t||!t.nodeName?null:t}catch{return i.body}}function Sb(i,t){if(i.contains)return i.contains(t);if(i.compareDocumentPosition)return i===t||!!(i.compareDocumentPosition(t)&16)}function Ck(){const i=I.useRef(!0),t=I.useRef(()=>i.current);return I.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function Ik(i){const t=I.useRef(i);return t.current=i,t}function xk(i){const t=Ik(i);I.useEffect(()=>()=>t.current(),[])}function Ok(i){const t=I.useRef(null);return I.useEffect(()=>{t.current=i}),t.current}function Nk(i){const t=I.useRef(i);return I.useEffect(()=>{t.current=i},[i]),t}function Gr(i){const t=Nk(i);return I.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const Dk="data-rr-ui-",Mk="rrUi";function Vd(i){return`${Dk}${i}`}function kk(i){return`${Mk}${i}`}function Vk(i=document){const t=i.defaultView;return Math.abs(t.innerWidth-i.documentElement.clientWidth)}const wb=Vd("modal-open");class iv{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:s=!1}={}){this.handleContainerOverflow=e,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Vk(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(e[s]=`${parseInt($r(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(wb,""),$r(o,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(wb),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Kw=I.createContext(zl?window:void 0);Kw.Provider;function rv(){return I.useContext(Kw)}const rg=(i,t)=>zl?i==null?(t||hd()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function Pk(i,t){const e=rv(),[s,o]=I.useState(()=>rg(i,e==null?void 0:e.document));if(!s){const l=rg(i);l&&o(l)}return I.useEffect(()=>{},[t,s]),I.useEffect(()=>{const l=rg(i);l!==s&&o(l)},[i,s]),s}const Ab=i=>!i||typeof i=="function"?i:t=>{i.current=t};function Lk(i,t){const e=Ab(i),s=Ab(t);return o=>{e&&e(o),s&&s(o)}}function Pd(i,t){return I.useMemo(()=>Lk(i,t),[i,t])}const Uk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",jk=typeof document<"u",Rb=jk||Uk?I.useLayoutEffect:I.useEffect;function Bk({children:i,in:t,onExited:e,mountOnEnter:s,unmountOnExit:o}){const l=I.useRef(null),h=I.useRef(t),d=Gr(e);I.useEffect(()=>{t?h.current=!0:d(l.current)},[t,d]);const p=Pd(l,Bl(i)),g=I.cloneElement(i,{ref:p});return t?g:o||!h.current&&s?null:g}const zk=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Hk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function Fk(i){let{onEnter:t,onEntering:e,onEntered:s,onExit:o,onExiting:l,onExited:h,addEndListener:d,children:p}=i,g=Hk(i,zk);const E=I.useRef(null),v=Pd(E,Bl(p)),b=rt=>at=>{rt&&E.current&&rt(E.current,at)},N=I.useCallback(b(t),[t]),j=I.useCallback(b(e),[e]),z=I.useCallback(b(s),[s]),O=I.useCallback(b(o),[o]),et=I.useCallback(b(l),[l]),ot=I.useCallback(b(h),[h]),Z=I.useCallback(b(d),[d]);return Object.assign({},g,{nodeRef:E},t&&{onEnter:N},e&&{onEntering:j},s&&{onEntered:z},o&&{onExit:O},l&&{onExiting:et},h&&{onExited:ot},d&&{addEndListener:Z},{children:typeof p=="function"?(rt,at)=>p(rt,Object.assign({},at,{ref:v})):I.cloneElement(p,{ref:v})})}const qk=["component"];function Gk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}const Kk=I.forwardRef((i,t)=>{let{component:e}=i,s=Gk(i,qk);const o=Fk(s);return R.jsx(e,Object.assign({ref:t},o))});function Qk({in:i,onTransition:t}){const e=I.useRef(null),s=I.useRef(!0),o=Gr(t);return Rb(()=>{if(!e.current)return;let l=!1;return o({in:i,element:e.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),Rb(()=>(s.current=!1,()=>{s.current=!0}),[]),e}function $k({children:i,in:t,onExited:e,onEntered:s,transition:o}){const[l,h]=I.useState(!t);t&&l&&h(!1);const d=Qk({in:!!t,onTransition:g=>{const E=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),e==null||e(g.element)))};Promise.resolve(o(g)).then(E,v=>{throw g.in||h(!0),v})}}),p=Pd(d,Bl(i));return l&&!t?null:I.cloneElement(i,{ref:p})}function Cb(i,t,e){return i?R.jsx(Kk,Object.assign({},e,{component:i})):t?R.jsx($k,Object.assign({},e,{transition:t})):R.jsx(Bk,Object.assign({},e))}const Yk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Xk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}let sg;function Wk(i){return sg||(sg=new iv({ownerDocument:i==null?void 0:i.document})),sg}function Zk(i){const t=rv(),e=i||Wk(t),s=I.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>e.add(s.current),remove:()=>e.remove(s.current),isTopModal:()=>e.isTopModal(s.current),setDialogRef:I.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:I.useCallback(o=>{s.current.backdrop=o},[])})}const Qw=I.forwardRef((i,t)=>{let{show:e=!1,role:s="dialog",className:o,style:l,children:h,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:E,transition:v,runTransition:b,backdropTransition:N,runBackdropTransition:j,autoFocus:z=!0,enforceFocus:O=!0,restoreFocus:et=!0,restoreFocusOptions:ot,renderDialog:Z,renderBackdrop:rt=ee=>R.jsx("div",Object.assign({},ee)),manager:at,container:lt,onShow:k,onHide:A=()=>{},onExit:C,onExited:M,onExiting:P,onEnter:U,onEntering:x,onEntered:Tt}=i,kt=Xk(i,Yk);const F=rv(),ut=Pk(lt),dt=Zk(at),xt=Ck(),V=Ok(e),[Y,st]=I.useState(!e),W=I.useRef(null);I.useImperativeHandle(t,()=>dt,[dt]),zl&&!V&&e&&(W.current=ig(F==null?void 0:F.document)),e&&Y&&st(!1);const ft=Gr(()=>{if(dt.add(),Ne.current=Uf(document,"keydown",qt),Ae.current=Uf(document,"focus",()=>setTimeout(pt),!0),k&&k(),z){var ee,si;const ve=ig((ee=(si=dt.dialog)==null?void 0:si.ownerDocument)!=null?ee:F==null?void 0:F.document);dt.dialog&&ve&&!Sb(dt.dialog,ve)&&(W.current=ve,dt.dialog.focus())}}),bt=Gr(()=>{if(dt.remove(),Ne.current==null||Ne.current(),Ae.current==null||Ae.current(),et){var ee;(ee=W.current)==null||ee.focus==null||ee.focus(ot),W.current=null}});I.useEffect(()=>{!e||!ut||ft()},[e,ut,ft]),I.useEffect(()=>{Y&&bt()},[Y,bt]),xk(()=>{bt()});const pt=Gr(()=>{if(!O||!xt()||!dt.isTopModal())return;const ee=ig(F==null?void 0:F.document);dt.dialog&&ee&&!Sb(dt.dialog,ee)&&dt.dialog.focus()}),le=Gr(ee=>{ee.target===ee.currentTarget&&(g==null||g(ee),d===!0&&A())}),qt=Gr(ee=>{p&&NI(ee)&&dt.isTopModal()&&(E==null||E(ee),ee.defaultPrevented||A())}),Ae=I.useRef(),Ne=I.useRef(),vn=(...ee)=>{st(!0),M==null||M(...ee)};if(!ut)return null;const ln=Object.assign({role:s,ref:dt.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},kt,{style:l,className:o,tabIndex:-1});let In=Z?Z(ln):R.jsx("div",Object.assign({},ln,{children:I.cloneElement(h,{role:"document"})}));In=Cb(v,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:C,onExiting:P,onExited:vn,onEnter:U,onEntering:x,onEntered:Tt,children:In});let tn=null;return d&&(tn=rt({ref:dt.setBackdropRef,onClick:le}),tn=Cb(N,j,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:tn})),R.jsx(R.Fragment,{children:Ka.createPortal(R.jsxs(R.Fragment,{children:[tn,In]}),ut)})});Qw.displayName="Modal";const $w=Object.assign(Qw,{Manager:iv});function Jk(i,t){return i.classList?i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function tV(i,t){i.classList?i.classList.add(t):Jk(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}var eV=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ga(i,t){return eV(i.querySelectorAll(t))}function Ib(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nV(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=Ib(i.className,t):i.setAttribute("class",Ib(i.className&&i.className.baseVal||"",t))}const ll={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Yw extends iv{adjustAndStore(t,e,s){const o=e.style[t];e.dataset[t]=o,$r(e,{[t]:`${parseFloat($r(e,t))+s}px`})}restore(t,e){const s=e.dataset[t];s!==void 0&&(delete e.dataset[t],$r(e,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(tV(e,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ga(e,ll.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,t.scrollBarWidth)),Ga(e,ll.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-t.scrollBarWidth)),Ga(e,ll.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();nV(e,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ga(e,ll.FIXED_CONTENT).forEach(l=>this.restore(s,l)),Ga(e,ll.STICKY_CONTENT).forEach(l=>this.restore(o,l)),Ga(e,ll.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let ag;function Xw(i){return ag||(ag=new Yw(i)),ag}const iV={[Di]:"show",[qr]:"show"},Ld=I.forwardRef(({className:i,children:t,transitionClasses:e={},onEnter:s,...o},l)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=I.useCallback((p,g)=>{rS(p),s==null||s(p,g)},[s]);return R.jsx(fd,{ref:l,addEndListener:sy,...h,onEnter:d,childRef:Bl(t),children:(p,g)=>I.cloneElement(t,{...g,className:Mt("fade",i,t.props.className,iV[p],e[p])})})});Ld.displayName="Fade";const Ww=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=jt(t,"modal-body"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));Ww.displayName="ModalBody";const sv=I.createContext({onHide(){}}),av=I.forwardRef(({bsPrefix:i,className:t,contentClassName:e,centered:s,size:o,fullscreen:l,children:h,scrollable:d,...p},g)=>{i=jt(i,"modal");const E=`${i}-dialog`,v=typeof l=="string"?`${i}-fullscreen-${l}`:`${i}-fullscreen`;return R.jsx("div",{...p,ref:g,className:Mt(E,t,o&&`${i}-${o}`,s&&`${E}-centered`,d&&`${E}-scrollable`,l&&v),children:R.jsx("div",{className:Mt(`${i}-content`,e),children:h})})});av.displayName="ModalDialog";const Zw=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=jt(t,"modal-footer"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));Zw.displayName="ModalFooter";const rV={"aria-label":Yr.string,onClick:Yr.func,variant:Yr.oneOf(["white"])},ov=I.forwardRef(({className:i,variant:t,"aria-label":e="Close",...s},o)=>R.jsx("button",{ref:o,type:"button",className:Mt("btn-close",t&&`btn-close-${t}`,i),"aria-label":e,...s}));ov.displayName="CloseButton";ov.propTypes=rV;const lv=I.forwardRef(({closeLabel:i="Close",closeVariant:t,closeButton:e=!1,onHide:s,children:o,...l},h)=>{const d=I.useContext(sv),p=jl(()=>{d==null||d.onHide(),s==null||s()});return R.jsxs("div",{ref:h,...l,children:[o,e&&R.jsx(ov,{"aria-label":i,variant:t,onClick:p})]})});lv.displayName="AbstractModalHeader";const Jw=I.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:s=!1,...o},l)=>(i=jt(i,"modal-header"),R.jsx(lv,{ref:l,...o,className:Mt(t,i),closeLabel:e,closeButton:s})));Jw.displayName="ModalHeader";const tA=i=>I.forwardRef((t,e)=>R.jsx("div",{...t,ref:e,className:Mt(t.className,i)})),sV=tA("h4"),eA=I.forwardRef(({className:i,bsPrefix:t,as:e=sV,...s},o)=>(t=jt(t,"modal-title"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));eA.displayName="ModalTitle";function aV(i){return R.jsx(Ld,{...i,timeout:null})}function oV(i){return R.jsx(Ld,{...i,timeout:null})}const nA=I.forwardRef(({bsPrefix:i,className:t,style:e,dialogClassName:s,contentClassName:o,children:l,dialogAs:h=av,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":E,show:v=!1,animation:b=!0,backdrop:N=!0,keyboard:j=!0,onEscapeKeyDown:z,onShow:O,onHide:et,container:ot,autoFocus:Z=!0,enforceFocus:rt=!0,restoreFocus:at=!0,restoreFocusOptions:lt,onEntered:k,onExit:A,onExiting:C,onEnter:M,onEntering:P,onExited:U,backdropClassName:x,manager:Tt,...kt},F)=>{const[ut,dt]=I.useState({}),[xt,V]=I.useState(!1),Y=I.useRef(!1),st=I.useRef(!1),W=I.useRef(null),[ft,bt]=Sk(),pt=sS(F,bt),le=jl(et),qt=vI();i=jt(i,"modal");const Ae=I.useMemo(()=>({onHide:le}),[le]);function Ne(){return Tt||Xw({isRTL:qt})}function vn(_t){if(!zl)return;const Ht=Ne().getScrollbarWidth()>0,Ge=_t.scrollHeight>hd(_t).documentElement.clientHeight;dt({paddingRight:Ht&&!Ge?bb():void 0,paddingLeft:!Ht&&Ge?bb():void 0})}const ln=jl(()=>{ft&&vn(ft.dialog)});Rk(()=>{mg(window,"resize",ln),W.current==null||W.current()});const In=()=>{Y.current=!0},tn=_t=>{Y.current&&ft&&_t.target===ft.dialog&&(st.current=!0),Y.current=!1},ee=()=>{V(!0),W.current=iS(ft.dialog,()=>{V(!1)})},si=_t=>{_t.target===_t.currentTarget&&ee()},ve=_t=>{if(N==="static"){si(_t);return}if(st.current||_t.target!==_t.currentTarget){st.current=!1;return}et==null||et()},ss=_t=>{j?z==null||z(_t):(_t.preventDefault(),N==="static"&&ee())},un=(_t,Ht)=>{_t&&vn(_t),M==null||M(_t,Ht)},Pi=_t=>{W.current==null||W.current(),A==null||A(_t)},Ti=(_t,Ht)=>{P==null||P(_t,Ht),nS(window,"resize",ln)},qe=_t=>{_t&&(_t.style.display=""),U==null||U(_t),mg(window,"resize",ln)},xn=I.useCallback(_t=>R.jsx("div",{..._t,className:Mt(`${i}-backdrop`,x,!b&&"show")}),[b,x,i]),Li={...e,...ut};Li.display="block";const as=_t=>R.jsx("div",{role:"dialog",..._t,style:Li,className:Mt(t,i,xt&&`${i}-static`,!b&&"show"),onClick:N?ve:void 0,onMouseUp:tn,"data-bs-theme":d,"aria-label":E,"aria-labelledby":p,"aria-describedby":g,children:R.jsx(h,{...kt,onMouseDown:In,className:s,contentClassName:o,children:l})});return R.jsx(sv.Provider,{value:Ae,children:R.jsx($w,{show:v,ref:pt,backdrop:N,container:ot,keyboard:!0,autoFocus:Z,enforceFocus:rt,restoreFocus:at,restoreFocusOptions:lt,onEscapeKeyDown:ss,onShow:O,onHide:et,onEnter:un,onEntering:Ti,onEntered:k,onExit:Pi,onExiting:C,onExited:qe,manager:Ne(),transition:b?aV:void 0,backdropTransition:b?oV:void 0,renderBackdrop:xn,renderDialog:as})})});nA.displayName="Modal";const Fe=Object.assign(nA,{Body:Ww,Header:Jw,Title:eA,Footer:Zw,Dialog:av,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),An=I.forwardRef(({bsPrefix:i,fluid:t=!1,as:e="div",className:s,...o},l)=>{const h=jt(i,"container"),d=typeof t=="string"?`-${t}`:"-fluid";return R.jsx(e,{ref:l,...o,className:Mt(s,t?`${h}${d}`:h)})});An.displayName="Container";function lV({logInOpen:i,toggleLogIn:t,toggleSignUp:e}){const[s,o]=I.useState(""),[l,h]=I.useState(""),d=async p=>{p.preventDefault();try{await CO(Ac,s,l),console.log("User logged in."),rr.success("Logged in."),t()}catch(g){console.log(g.message),rr.error(g.message)}};return R.jsxs(R.Fragment,{children:[R.jsx(Dc,{richColors:!0,position:"top-center"}),R.jsxs(Fe,{show:i,onHide:t,children:[R.jsx(Fe.Header,{closeButton:!0,children:R.jsx(An,{className:"flex-center",children:R.jsx(Fe.Title,{children:"Log in"})})}),R.jsx(Fe.Body,{children:R.jsxs(He,{onSubmit:p=>d(p),children:[R.jsxs(He.Group,{className:"mb-3",controlId:"email-input",children:[R.jsx(He.Label,{children:"Email"}),R.jsx(He.Control,{autoFocus:!0,required:!0,type:"text",value:s,onChange:p=>o(p.target.value)})]}),R.jsxs(He.Group,{className:"mb-3",controlId:"password-input",children:[R.jsx(He.Label,{children:"Password"}),R.jsx(He.Control,{required:!0,type:"password",value:l,onChange:p=>h(p.target.value)})]}),R.jsx(Vi,{variant:"primary",type:"submit",children:"Log in"})]})}),R.jsxs(Fe.Footer,{className:"flex-center",children:[R.jsx(An,{className:"flex-center",children:R.jsx("h5",{children:"OR"})}),R.jsx(An,{className:"flex-center",children:R.jsx(Vi,{variant:"primary",onClick:()=>{t(),e()},children:"Sign up"})})]})]})]})}function uV({signUpOpen:i,toggleSignUp:t}){const[e,s]=I.useState(""),[o,l]=I.useState(""),[h,d]=I.useState(""),[p,g]=I.useState(""),E=async v=>{if(v.preventDefault(),h!==p)console.log("Passwords dont match!"),rr.warning("Passwords don't match!");else if(h.length<6)console.log("Password needs to be at least 6 characters long!"),rr.warning("Password is too short - at least 6 characters.");else try{await RO(Ac,o,h);const b=Ac.currentUser;await ak(co(ho,"Users",b.uid),{email:b.email,nickname:e,statistics:{gameModes:{classic:{dailyStreak:0,gamesPlayed:0,gamesGuessed:new Array(6).fill(0),playedToday:!1,finishedToday:!1,currentState:{guesses:new Array(6).fill(null).map(()=>({word:"",colors:["black","black","black","black","black"]})),keyColors:{},rowIndex:0}},royale:{dailyStreak:0,gamesPlayed:0,gamesGuessed:new Array(5).fill(0),playedToday:!1,finishedToday:!1,currentState:{roundStates:new Array(5).fill(null).map(()=>({guesses:new Array(6).fill(null).map(()=>({word:"",colors:["black","black","black","black","black"]})),keyColors:{},rowIndex:0})),gameRound:0}}}},achievements:[]}),rr.success("Signed up."),console.log("User registered successfully."),t()}catch(b){console.log(b.message),rr.error(b.message)}};return R.jsxs(R.Fragment,{children:[R.jsx(Dc,{richColors:!0,position:"top-center"}),R.jsxs(Fe,{show:i,onHide:t,backdrop:"static",children:[R.jsx(Fe.Header,{closeButton:!0,children:R.jsx(An,{className:"flex-center",children:R.jsx(Fe.Title,{children:"Sign up"})})}),R.jsx(Fe.Body,{children:R.jsxs(He,{onSubmit:E,children:[R.jsxs(He.Group,{className:"mb-3",controlId:"nickname-input",children:[R.jsx(He.Label,{children:"Nickname"}),R.jsx(He.Control,{required:!0,type:"text",autoFocus:!0,value:e,onChange:v=>s(v.target.value),placeholder:"example123"})]}),R.jsxs(He.Group,{required:!0,className:"mb-3",controlId:"email-input",children:[R.jsx(He.Label,{children:"Email address"}),R.jsx(He.Control,{required:!0,type:"email",value:o,onChange:v=>l(v.target.value),placeholder:"name@example.com"})]}),R.jsxs(He.Group,{className:"mb-3",controlId:"password-input",children:[R.jsx(He.Label,{children:"Password"}),R.jsx(He.Control,{required:!0,type:"password",value:h,onChange:v=>d(v.target.value),placeholder:"PasswordExample123?!"})]}),R.jsxs(He.Group,{className:"mb-3",controlId:"repeat-password-input",children:[R.jsx(He.Label,{children:"Repeat password"}),R.jsx(He.Control,{required:!0,type:"password",value:p,onChange:v=>g(v.target.value),placeholder:"PasswordExample123?!"})]}),R.jsx(Vi,{variant:"primary",type:"submit",children:"Sign up"})]})}),R.jsxs(Fe.Footer,{className:"flex-center",children:[R.jsx(An,{className:"flex-center",children:R.jsx("h5",{children:"OR"})}),R.jsx(An,{className:"flex-center",children:R.jsx(Vi,{variant:"primary",onClick:()=>{console.log("Hello"),t()},children:"Continue with Google"})})]})]})]})}function dl(i=!1){const[t,e]=I.useState(i),s=I.useCallback(()=>{e(o=>!o)},[]);return[t,s]}function cV(){const[,i]=I.useReducer(t=>t+1,0);return i}const uv=I.createContext(null);uv.displayName="NavContext";const od=I.createContext(null),cv=(i,t=null)=>i!=null?String(i):t||null,iA=I.createContext(null),hV=["as","active","eventKey"];function fV(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function rA({key:i,onClick:t,active:e,id:s,role:o,disabled:l}){const h=I.useContext(od),d=I.useContext(uv),p=I.useContext(iA);let g=e;const E={role:o};if(d){!o&&d.role==="tablist"&&(E.role="tab");const v=d.getControllerId(i??null),b=d.getControlledId(i??null);E[Vd("event-key")]=i,E.id=v||s,g=e==null&&i!=null?d.activeKey===i:e,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(E["aria-controls"]=b)}return E.role==="tab"&&(E["aria-selected"]=g,g||(E.tabIndex=-1),l&&(E.tabIndex=-1,E["aria-disabled"]=!0)),E.onClick=Gr(v=>{l||(t==null||t(v),i!=null&&h&&!v.isPropagationStopped()&&h(i,v))}),[E,{isActive:g}]}const sA=I.forwardRef((i,t)=>{let{as:e=Vw,active:s,eventKey:o}=i,l=fV(i,hV);const[h,d]=rA(Object.assign({key:cv(o,l.href),active:s},l));return h[Vd("active")]=d.isActive,R.jsx(e,Object.assign({},l,h,{ref:t}))});sA.displayName="NavItem";const dV=["as","onSelect","activeKey","role","onKeyDown"];function mV(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}const xb=()=>{},Ob=Vd("event-key"),aA=I.forwardRef((i,t)=>{let{as:e="div",onSelect:s,activeKey:o,role:l,onKeyDown:h}=i,d=mV(i,dV);const p=cV(),g=I.useRef(!1),E=I.useContext(od),v=I.useContext(iA);let b,N;v&&(l=l||"tablist",o=v.activeKey,b=v.getControlledId,N=v.getControllerId);const j=I.useRef(null),z=Z=>{const rt=j.current;if(!rt)return null;const at=Ga(rt,`[${Ob}]:not([aria-disabled=true])`),lt=rt.querySelector("[aria-selected=true]");if(!lt||lt!==document.activeElement)return null;const k=at.indexOf(lt);if(k===-1)return null;let A=k+Z;return A>=at.length&&(A=0),A<0&&(A=at.length-1),at[A]},O=(Z,rt)=>{Z!=null&&(s==null||s(Z,rt),E==null||E(Z,rt))},et=Z=>{if(h==null||h(Z),!v)return;let rt;switch(Z.key){case"ArrowLeft":case"ArrowUp":rt=z(-1);break;case"ArrowRight":case"ArrowDown":rt=z(1);break;default:return}rt&&(Z.preventDefault(),O(rt.dataset[kk("EventKey")]||null,Z),g.current=!0,p())};I.useEffect(()=>{if(j.current&&g.current){const Z=j.current.querySelector(`[${Ob}][aria-selected=true]`);Z==null||Z.focus()}g.current=!1});const ot=Pd(t,j);return R.jsx(od.Provider,{value:O,children:R.jsx(uv.Provider,{value:{role:l,activeKey:cv(o),getControlledId:b||xb,getControllerId:N||xb},children:R.jsx(e,Object.assign({},d,{onKeyDown:et,ref:ot,role:l}))})})});aA.displayName="Nav";const pV=Object.assign(aA,{Item:sA}),Yl=I.createContext(null);Yl.displayName="NavbarContext";const oA=I.createContext(null);oA.displayName="CardHeaderContext";const lA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=jt(t,"nav-item"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));lA.displayName="NavItem";const gV=["onKeyDown"];function yV(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function vV(i){return!i||i.trim()==="#"}const uA=I.forwardRef((i,t)=>{let{onKeyDown:e}=i,s=yV(i,gV);const[o]=Jy(Object.assign({tagName:"a"},s)),l=Gr(h=>{o.onKeyDown(h),e==null||e(h)});return vV(s.href)||s.role==="button"?R.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:l})):R.jsx("a",Object.assign({ref:t},s,{onKeyDown:e}))});uA.displayName="Anchor";const cA=I.forwardRef(({bsPrefix:i,className:t,as:e=uA,active:s,eventKey:o,disabled:l=!1,...h},d)=>{i=jt(i,"nav-link");const[p,g]=rA({key:cv(o,h.href),active:s,disabled:l,...h});return R.jsx(e,{...h,...p,ref:d,disabled:l,className:Mt(t,i,l&&"disabled",g.isActive&&"active")})});cA.displayName="NavLink";const hA=I.forwardRef((i,t)=>{const{as:e="div",bsPrefix:s,variant:o,fill:l=!1,justify:h=!1,navbar:d,navbarScroll:p,className:g,activeKey:E,...v}=ry(i,{activeKey:"onSelect"}),b=jt(s,"nav");let N,j,z=!1;const O=I.useContext(Yl),et=I.useContext(oA);return O?(N=O.bsPrefix,z=d??!0):et&&({cardHeaderBsPrefix:j}=et),R.jsx(pV,{as:e,ref:t,activeKey:E,className:Mt(g,{[b]:!z,[`${N}-nav`]:z,[`${N}-nav-scroll`]:z&&p,[`${j}-${o}`]:!!j,[`${b}-${o}`]:!!o,[`${b}-fill`]:l,[`${b}-justified`]:h}),...v})});hA.displayName="Nav";const _V=Object.assign(hA,{Item:lA,Link:cA}),fA=I.forwardRef(({bsPrefix:i,className:t,as:e,...s},o)=>{i=jt(i,"navbar-brand");const l=e||(s.href?"a":"span");return R.jsx(l,{...s,ref:o,className:Mt(t,i)})});fA.displayName="NavbarBrand";const dA=I.forwardRef(({children:i,bsPrefix:t,...e},s)=>{t=jt(t,"navbar-collapse");const o=I.useContext(Yl);return R.jsx(ay,{in:!!(o&&o.expanded),...e,children:R.jsx("div",{ref:s,className:t,children:i})})});dA.displayName="NavbarCollapse";const mA=I.forwardRef(({bsPrefix:i,className:t,children:e,label:s="Toggle navigation",as:o="button",onClick:l,...h},d)=>{i=jt(i,"navbar-toggler");const{onToggle:p,expanded:g}=I.useContext(Yl)||{},E=jl(v=>{l&&l(v),p&&p()});return o==="button"&&(h.type="button"),R.jsx(o,{...h,ref:d,onClick:E,"aria-label":s,className:Mt(t,i,!g&&"collapsed"),children:e||R.jsx("span",{className:`${i}-icon`})})});mA.displayName="NavbarToggle";const EV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",TV=typeof document<"u",bV=TV||EV?I.useLayoutEffect:I.useEffect,zg=new WeakMap,Nb=(i,t)=>{if(!i||!t)return;const e=zg.get(t)||new Map;zg.set(t,e);let s=e.get(i);return s||(s=t.matchMedia(i),s.refCount=0,e.set(s.media,s)),s};function SV(i,t=typeof window>"u"?void 0:window){const e=Nb(i,t),[s,o]=I.useState(()=>e?e.matches:!1);return bV(()=>{let l=Nb(i,t);if(!l)return o(!1);let h=zg.get(t);const d=()=>{o(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&(h==null||h.delete(l.media)),l=void 0}},[i]),s}function wV(i){const t=Object.keys(i);function e(d,p){return d===p?p:d?`${d} and ${p}`:p}function s(d){return t[Math.min(t.indexOf(d)+1,t.length-1)]}function o(d){const p=s(d);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(d){let p=i[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(d,p,g){let E;typeof d=="object"?(E=d,g=p,p=!0):(p=p||!0,E={[d]:p});let v=I.useMemo(()=>Object.entries(E).reduce((b,[N,j])=>((j==="up"||j===!0)&&(b=e(b,l(N))),(j==="down"||j===!0)&&(b=e(b,o(N))),b),""),[JSON.stringify(E)]);return SV(v,g)}return h}const AV=wV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),pA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=jt(t,"offcanvas-body"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));pA.displayName="OffcanvasBody";const RV={[Di]:"show",[qr]:"show"},gA=I.forwardRef(({bsPrefix:i,className:t,children:e,in:s=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:h=!1,...d},p)=>(i=jt(i,"offcanvas"),R.jsx(fd,{ref:p,addEndListener:sy,in:s,mountOnEnter:o,unmountOnExit:l,appear:h,...d,childRef:Bl(e),children:(g,E)=>I.cloneElement(e,{...E,className:Mt(t,e.props.className,(g===Di||g===dc)&&`${i}-toggling`,RV[g])})})));gA.displayName="OffcanvasToggling";const yA=I.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:s=!1,...o},l)=>(i=jt(i,"offcanvas-header"),R.jsx(lv,{ref:l,...o,className:Mt(t,i),closeLabel:e,closeButton:s})));yA.displayName="OffcanvasHeader";const CV=tA("h5"),vA=I.forwardRef(({className:i,bsPrefix:t,as:e=CV,...s},o)=>(t=jt(t,"offcanvas-title"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));vA.displayName="OffcanvasTitle";function IV(i){return R.jsx(gA,{...i})}function xV(i){return R.jsx(Ld,{...i})}const _A=I.forwardRef(({bsPrefix:i,className:t,children:e,"aria-labelledby":s,placement:o="start",responsive:l,show:h=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:E,onShow:v,onHide:b,container:N,autoFocus:j=!0,enforceFocus:z=!0,restoreFocus:O=!0,restoreFocusOptions:et,onEntered:ot,onExit:Z,onExiting:rt,onEnter:at,onEntering:lt,onExited:k,backdropClassName:A,manager:C,renderStaticNode:M=!1,...P},U)=>{const x=I.useRef();i=jt(i,"offcanvas");const[Tt,kt]=I.useState(!1),F=jl(b),ut=AV(l||"xs","up");I.useEffect(()=>{kt(l?h&&!ut:h)},[h,l,ut]);const dt=I.useMemo(()=>({onHide:F}),[F]);function xt(){return C||(g?(x.current||(x.current=new Yw({handleContainerOverflow:!1})),x.current):Xw())}const V=(ft,...bt)=>{ft&&(ft.style.visibility="visible"),at==null||at(ft,...bt)},Y=(ft,...bt)=>{ft&&(ft.style.visibility=""),k==null||k(...bt)},st=I.useCallback(ft=>R.jsx("div",{...ft,className:Mt(`${i}-backdrop`,A)}),[A,i]),W=ft=>R.jsx("div",{...ft,...P,className:Mt(t,l?`${i}-${l}`:i,`${i}-${o}`),"aria-labelledby":s,children:e});return R.jsxs(R.Fragment,{children:[!Tt&&(l||M)&&W({}),R.jsx(sv.Provider,{value:dt,children:R.jsx($w,{show:Tt,ref:U,backdrop:d,container:N,keyboard:p,autoFocus:j,enforceFocus:z&&!g,restoreFocus:O,restoreFocusOptions:et,onEscapeKeyDown:E,onShow:v,onHide:F,onEnter:V,onEntering:lt,onEntered:ot,onExit:Z,onExiting:rt,onExited:Y,manager:xt(),transition:IV,backdropTransition:xV,renderBackdrop:st,renderDialog:W})})]})});_A.displayName="Offcanvas";const OV=Object.assign(_A,{Body:pA,Header:yA,Title:vA}),EA=I.forwardRef(({onHide:i,...t},e)=>{const s=I.useContext(Yl),o=jl(()=>{s==null||s.onToggle==null||s.onToggle(),i==null||i()});return R.jsx(OV,{ref:e,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});EA.displayName="NavbarOffcanvas";const TA=I.forwardRef(({className:i,bsPrefix:t,as:e="span",...s},o)=>(t=jt(t,"navbar-text"),R.jsx(e,{ref:o,className:Mt(i,t),...s})));TA.displayName="NavbarText";const bA=I.forwardRef((i,t)=>{const{bsPrefix:e,expand:s=!0,variant:o="light",bg:l,fixed:h,sticky:d,className:p,as:g="nav",expanded:E,onToggle:v,onSelect:b,collapseOnSelect:N=!1,...j}=ry(i,{expanded:"onToggle"}),z=jt(e,"navbar"),O=I.useCallback((...Z)=>{b==null||b(...Z),N&&E&&(v==null||v(!1))},[b,N,E,v]);j.role===void 0&&g!=="nav"&&(j.role="navigation");let et=`${z}-expand`;typeof s=="string"&&(et=`${et}-${s}`);const ot=I.useMemo(()=>({onToggle:()=>v==null?void 0:v(!E),bsPrefix:z,expanded:!!E,expand:s}),[z,E,s,v]);return R.jsx(Yl.Provider,{value:ot,children:R.jsx(od.Provider,{value:O,children:R.jsx(g,{ref:t,...j,className:Mt(p,z,s&&et,o&&`${z}-${o}`,l&&`bg-${l}`,d&&`sticky-${d}`,h&&`fixed-${h}`)})})})});bA.displayName="Navbar";const Sf=Object.assign(bA,{Brand:fA,Collapse:dA,Offcanvas:EA,Text:TA,Toggle:mA});function NV({darkMode:i,toggleDarkMode:t}){return R.jsx(R.Fragment,{children:R.jsxs("div",{className:"dark-mode-button flex-center",children:[R.jsx("input",{type:"checkbox",id:"dark-mode-input",className:"dark-mode-input",onClick:t}),R.jsxs("label",{htmlFor:"dark-mode-input",className:`dark-mode-label ${i}`,children:[R.jsx("div",{className:"night",children:"night"}),R.jsx("div",{className:"day",children:"day"})]})]})})}function DV({darkMode:i,toggleDarkMode:t,toggleLogIn:e,currentUser:s,playWordle:o,togglePlayWordle:l,toggleStats:h}){const d=async()=>{try{await NO(Ac),window.location.reload()}catch(p){console.error("Error signing out:",p.message),rr.error(p.message)}};return R.jsxs(R.Fragment,{children:[R.jsx(Dc,{richColors:!0,position:"top-center"}),R.jsx(Sf,{className:i,children:R.jsxs(An,{children:[R.jsx(Sf.Brand,{className:"nav-brand",onClick:()=>o&&l(),children:"Wordle"}),R.jsx(Sf.Toggle,{"aria-controls":"basic-navbar-nav"}),R.jsx(Sf.Collapse,{id:"basic-navbar-nav",children:R.jsxs(_V,{className:"me-auto",children:[R.jsx(An,{className:"stats flex-center",children:R.jsx(CC,{size:"50%",className:"stats-icon",onClick:h})}),R.jsx(An,{className:"info flex-center",children:R.jsx(RC,{size:"60%",className:"info-icon"})}),s?R.jsx(An,{className:"button flex-center",children:R.jsx(Vi,{variant:"primary",onClick:d,style:{fontSize:"12px",width:"60px"},children:"Log out"})}):R.jsx(An,{className:"button flex-center",children:R.jsx(Vi,{variant:"primary",onClick:e,style:{fontSize:"12px",width:"60px"},children:"Log in"})}),R.jsx(NV,{toggleDarkMode:t})]})})]})})]})}function hv({gameMode:i,showDialog:t,setGameResult:e,toggleRestart:s,togglePlayWordle:o,solution:l}){return R.jsx(R.Fragment,{children:R.jsxs(Fe,{show:t,onHide:()=>e(""),backdrop:"static",children:[R.jsx(Fe.Header,{closeButton:!0,children:R.jsx(An,{className:"flex-center",children:R.jsx(Fe.Title,{children:"Game over"})})}),R.jsx(Fe.Body,{children:R.jsx(An,{children:R.jsx("h1",{children:l})})}),R.jsx(Fe.Footer,{className:"flex-center",children:R.jsxs(An,{children:[R.jsx(Vi,{onClick:()=>{e(""),o()},children:"Go home"}),i==="practice"&&R.jsx(Vi,{onClick:()=>{e(""),s()},children:"Play again"})]})})]})})}function MV({darkMode:i,gameMode:t,togglePlayWordle:e,wordLength:s,numOfGuesses:o,guesses:l,setGuesses:h,keyColors:d,setKeyColors:p,rowIndex:g,baseColors:E,userData:v,gameResult:b,setGameResult:N,mutateUserData:j}){const[z,O]=I.useState([]),et=I.useRef([]),ot=I.useRef(new Set);return I.useEffect(()=>{(async()=>{try{g.current=0;let rt=await wc(co(ho,"wordleWords","wordBank")),at=rt.data();ot.current=new Set(at.allWords),rt=await wc(co(ho,"wordleWords","dailyWords")),at=rt.data();const lt=at.classicWord;O(lt.toUpperCase().split("")),et.current=lt.toUpperCase().split(""),console.log(et.current.join(""))}catch(rt){console.error(rt)}})()},[]),I.useEffect(()=>{b&&(async()=>{const rt={...v};rt.statistics.gameModes.classic.finishedToday=!0,rt.statistics.gameModes.classic.gamesPlayed++,rt.statistics.gameModes.classic.dailyStreak++,b==="guessed"&&rt.statistics.gameModes.classic.gamesGuessed[g.current-1]++;try{await j(rt)}catch(at){console.error(at)}})()},[b]),R.jsxs(R.Fragment,{children:[R.jsx(iy,{darkMode:i,gameMode:t,solution:z,wordSet:ot,rowIndex:g,guesses:l,setGuesses:h,keyColors:d,setKeyColors:p,baseColors:E,gameResult:b,setGameResult:N,wordLength:s,numOfGuesses:o,userData:v}),R.jsx(hv,{gameMode:t,showDialog:b,setGameResult:N,togglePlayWordle:e,solution:z})]})}function kV({darkMode:i,gameMode:t,togglePlayWordle:e,wordLength:s,numOfGuesses:o,guesses:l,setGuesses:h,keyColors:d,setKeyColors:p,rowIndex:g,baseColors:E,gameRound:v,userData:b,gameResult:N,setGameResult:j,mutateUserData:z}){const O=I.useRef([]),[et,ot]=I.useState([]),[Z,rt]=dl(!1),at=I.useRef(new Set),[lt,k]=I.useState(!1),[A,C]=I.useState([]),[M,P]=I.useState([]);I.useEffect(()=>{(async()=>{try{let Tt=await wc(co(ho,"wordleWords","wordBank")),kt=Tt.data();at.current=new Set(kt.allWords),Tt=await wc(co(ho,"wordleWords","dailyWords")),kt=Tt.data(),O.current=kt.royaleWords,ot(O.current[v.current-1].toUpperCase().split("")),O.current.forEach(F=>console.log(F))}catch(Tt){console.error(Tt)}})()},[]),I.useEffect(()=>{N&&(N!=="failed"&&v.current<o-1?U()?k(!0):(ot(O.current[v.current].toUpperCase().split("")),v.current++,j(""),g.current=0,p(new Map),h(new Array(6).fill({word:"",colors:E})),rt()):k(!0))},[N]),I.useEffect(()=>{lt&&(async()=>{const Tt={...b};Tt.statistics.gameModes.royale.finishedToday=!0,Tt.statistics.gameModes.royale.gamesPlayed++,Tt.statistics.gameModes.royale.dailyStreak++,N==="guessed"&&Tt.statistics.gameModes.royale.gamesGuessed[v.current-1]++;try{z(Tt)}catch(kt){console.error(kt)}})()},[lt]);const U=()=>v.current+g.current>o;return R.jsxs(R.Fragment,{children:[R.jsx(iy,{darkMode:i,gameMode:t,solution:et,wordSet:at,rowIndex:g,guesses:l,setGuesses:h,keyColors:d,setKeyColors:p,gameResult:N,setGameResult:j,wordLength:s,numOfGuesses:o,highLight:o-v.current,baseColors:E,userData:b},Z),R.jsx(hv,{gameMode:t,showDialog:lt,setGameResult:j,toggleRestart:rt,togglePlayWordle:e,solution:et})]})}const VV="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function PV({darkMode:i,gameMode:t,togglePlayWordle:e,wordLength:s,numOfGuesses:o,guesses:l,setGuesses:h,keyColors:d,setKeyColors:p,rowIndex:g,baseColors:E,toggleRestart:v}){const[b,N]=I.useState([]),j=I.useRef([]),z=I.useRef(new Set),[O,et]=I.useState("");return I.useEffect(()=>{(async()=>{try{g.current=0;const at=[...(await(await fetch(VV)).json()).words];at.forEach(k=>z.current.add(k));const lt=at[Math.floor(Math.random()*(at.length-1))];N(lt.toUpperCase().split("")),j.current=lt.toUpperCase().split(""),console.log(j.current.join(""))}catch(Z){console.error(Z)}})()},[]),R.jsxs(R.Fragment,{children:[R.jsx(iy,{darkMode:i,gameMode:t,solution:b,wordSet:z,rowIndex:g,gameResult:O,setGameResult:et,wordLength:s,numOfGuesses:o,guesses:l,setGuesses:h,keyColors:d,setKeyColors:p,baseColors:E}),R.jsx(hv,{gameMode:t,showDialog:O,setGameResult:et,toggleRestart:v,togglePlayWordle:e,solution:b})]})}var Xl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fo=typeof window>"u"||"Deno"in globalThis;function Pn(){}function LV(i,t){return typeof i=="function"?i(t):i}function Hg(i){return typeof i=="number"&&i>=0&&i!==1/0}function SA(i,t){return Math.max(i+(t||0)-Date.now(),0)}function ia(i,t){return typeof i=="function"?i(t):i}function _i(i,t){return typeof i=="function"?i(t):i}function Db(i,t){const{type:e="all",exact:s,fetchStatus:o,predicate:l,queryKey:h,stale:d}=i;if(h){if(s){if(t.queryHash!==fv(h,t.options))return!1}else if(!Rc(t.queryKey,h))return!1}if(e!=="all"){const p=t.isActive();if(e==="active"&&!p||e==="inactive"&&p)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||o&&o!==t.state.fetchStatus||l&&!l(t))}function Mb(i,t){const{exact:e,status:s,predicate:o,mutationKey:l}=i;if(l){if(!t.options.mutationKey)return!1;if(e){if(mo(t.options.mutationKey)!==mo(l))return!1}else if(!Rc(t.options.mutationKey,l))return!1}return!(s&&t.state.status!==s||o&&!o(t))}function fv(i,t){return((t==null?void 0:t.queryKeyHashFn)||mo)(i)}function mo(i){return JSON.stringify(i,(t,e)=>Fg(e)?Object.keys(e).sort().reduce((s,o)=>(s[o]=e[o],s),{}):e)}function Rc(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?Object.keys(t).every(e=>Rc(i[e],t[e])):!1}function wA(i,t){if(i===t)return i;const e=kb(i)&&kb(t);if(e||Fg(i)&&Fg(t)){const s=e?i:Object.keys(i),o=s.length,l=e?t:Object.keys(t),h=l.length,d=e?[]:{},p=new Set(s);let g=0;for(let E=0;E<h;E++){const v=e?E:l[E];(!e&&p.has(v)||e)&&i[v]===void 0&&t[v]===void 0?(d[v]=void 0,g++):(d[v]=wA(i[v],t[v]),d[v]===i[v]&&i[v]!==void 0&&g++)}return o===h&&g===o?i:d}return t}function ld(i,t){if(!t||Object.keys(i).length!==Object.keys(t).length)return!1;for(const e in i)if(i[e]!==t[e])return!1;return!0}function kb(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function Fg(i){if(!Vb(i))return!1;const t=i.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!Vb(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function Vb(i){return Object.prototype.toString.call(i)==="[object Object]"}function UV(i){return new Promise(t=>{setTimeout(t,i)})}function qg(i,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(i,t):e.structuralSharing!==!1?wA(i,t):t}function jV(i,t,e=0){const s=[...i,t];return e&&s.length>e?s.slice(1):s}function BV(i,t,e=0){const s=[t,...i];return e&&s.length>e?s.slice(0,-1):s}var dv=Symbol();function AA(i,t){return!i.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!i.queryFn||i.queryFn===dv?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}function RA(i,t){return typeof i=="function"?i(...t):!!i}var $a,zs,_l,zb,zV=(zb=class extends Xl{constructor(){super();St(this,$a);St(this,zs);St(this,_l);gt(this,_l,t=>{if(!fo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){L(this,zs)||this.setEventListener(L(this,_l))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,zs))==null||t.call(this),gt(this,zs,void 0))}setEventListener(t){var e;gt(this,_l,t),(e=L(this,zs))==null||e.call(this),gt(this,zs,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){L(this,$a)!==t&&(gt(this,$a,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof L(this,$a)=="boolean"?L(this,$a):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$a=new WeakMap,zs=new WeakMap,_l=new WeakMap,zb),mv=new zV,El,Hs,Tl,Hb,HV=(Hb=class extends Xl{constructor(){super();St(this,El,!0);St(this,Hs);St(this,Tl);gt(this,Tl,t=>{if(!fo&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}})}onSubscribe(){L(this,Hs)||this.setEventListener(L(this,Tl))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,Hs))==null||t.call(this),gt(this,Hs,void 0))}setEventListener(t){var e;gt(this,Tl,t),(e=L(this,Hs))==null||e.call(this),gt(this,Hs,t(this.setOnline.bind(this)))}setOnline(t){L(this,El)!==t&&(gt(this,El,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return L(this,El)}},El=new WeakMap,Hs=new WeakMap,Tl=new WeakMap,Hb),ud=new HV;function Gg(){let i,t;const e=new Promise((o,l)=>{i=o,t=l});e.status="pending",e.catch(()=>{});function s(o){Object.assign(e,o),delete e.resolve,delete e.reject}return e.resolve=o=>{s({status:"fulfilled",value:o}),i(o)},e.reject=o=>{s({status:"rejected",reason:o}),t(o)},e}function FV(i){return Math.min(1e3*2**i,3e4)}function CA(i){return(i??"online")==="online"?ud.isOnline():!0}var IA=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function og(i){return i instanceof IA}function xA(i){let t=!1,e=0,s=!1,o;const l=Gg(),h=z=>{var O;s||(b(new IA(z)),(O=i.abort)==null||O.call(i))},d=()=>{t=!0},p=()=>{t=!1},g=()=>mv.isFocused()&&(i.networkMode==="always"||ud.isOnline())&&i.canRun(),E=()=>CA(i.networkMode)&&i.canRun(),v=z=>{var O;s||(s=!0,(O=i.onSuccess)==null||O.call(i,z),o==null||o(),l.resolve(z))},b=z=>{var O;s||(s=!0,(O=i.onError)==null||O.call(i,z),o==null||o(),l.reject(z))},N=()=>new Promise(z=>{var O;o=et=>{(s||g())&&z(et)},(O=i.onPause)==null||O.call(i)}).then(()=>{var z;o=void 0,s||(z=i.onContinue)==null||z.call(i)}),j=()=>{if(s)return;let z;const O=e===0?i.initialPromise:void 0;try{z=O??i.fn()}catch(et){z=Promise.reject(et)}Promise.resolve(z).then(v).catch(et=>{var lt;if(s)return;const ot=i.retry??(fo?0:3),Z=i.retryDelay??FV,rt=typeof Z=="function"?Z(e,et):Z,at=ot===!0||typeof ot=="number"&&e<ot||typeof ot=="function"&&ot(e,et);if(t||!at){b(et);return}e++,(lt=i.onFail)==null||lt.call(i,e,et),UV(rt).then(()=>g()?void 0:N()).then(()=>{t?b(et):j()})})};return{promise:l,cancel:h,continue:()=>(o==null||o(),l),cancelRetry:d,continueRetry:p,canStart:E,start:()=>(E()?j():N().then(j),l)}}var qV=i=>setTimeout(i,0);function GV(){let i=[],t=0,e=d=>{d()},s=d=>{d()},o=qV;const l=d=>{t?i.push(d):o(()=>{e(d)})},h=()=>{const d=i;i=[],d.length&&o(()=>{s(()=>{d.forEach(p=>{e(p)})})})};return{batch:d=>{let p;t++;try{p=d()}finally{t--,t||h()}return p},batchCalls:d=>(...p)=>{l(()=>{d(...p)})},schedule:l,setNotifyFunction:d=>{e=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{o=d}}}var Xe=GV(),Ya,Fb,OA=(Fb=class{constructor(){St(this,Ya)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hg(this.gcTime)&&gt(this,Ya,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(fo?1/0:5*60*1e3))}clearGcTimeout(){L(this,Ya)&&(clearTimeout(L(this,Ya)),gt(this,Ya,void 0))}},Ya=new WeakMap,Fb),bl,Xa,vi,Wa,bn,Cc,Za,Oi,zr,qb,KV=(qb=class extends OA{constructor(t){super();St(this,Oi);St(this,bl);St(this,Xa);St(this,vi);St(this,Wa);St(this,bn);St(this,Cc);St(this,Za);gt(this,Za,!1),gt(this,Cc,t.defaultOptions),this.setOptions(t.options),this.observers=[],gt(this,Wa,t.client),gt(this,vi,L(this,Wa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,gt(this,bl,QV(this.options)),this.state=t.state??L(this,bl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=L(this,bn))==null?void 0:t.promise}setOptions(t){this.options={...L(this,Cc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,vi).remove(this)}setData(t,e){const s=qg(this.state.data,t,this.options);return Ut(this,Oi,zr).call(this,{data:s,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),s}setState(t,e){Ut(this,Oi,zr).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var s,o;const e=(s=L(this,bn))==null?void 0:s.promise;return(o=L(this,bn))==null||o.cancel(t),e?e.then(Pn).catch(Pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,bl))}isActive(){return this.observers.some(t=>_i(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ia(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!SA(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=L(this,bn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=L(this,bn))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),L(this,vi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(L(this,bn)&&(L(this,Za)?L(this,bn).cancel({revert:!0}):L(this,bn).cancelRetry()),this.scheduleGc()),L(this,vi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,Oi,zr).call(this,{type:"invalidate"})}fetch(t,e){var g,E,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(L(this,bn))return L(this,bn).continueRetry(),L(this,bn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(N=>N.options.queryFn);b&&this.setOptions(b.options)}const s=new AbortController,o=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(gt(this,Za,!0),s.signal)})},l=()=>{const b=AA(this.options,e),j=(()=>{const z={client:L(this,Wa),queryKey:this.queryKey,meta:this.meta};return o(z),z})();return gt(this,Za,!1),this.options.persister?this.options.persister(b,j,this):b(j)},d=(()=>{const b={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:L(this,Wa),state:this.state,fetchFn:l};return o(b),b})();(g=this.options.behavior)==null||g.onFetch(d,this),gt(this,Xa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((E=d.fetchOptions)==null?void 0:E.meta))&&Ut(this,Oi,zr).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta});const p=b=>{var N,j,z,O;og(b)&&b.silent||Ut(this,Oi,zr).call(this,{type:"error",error:b}),og(b)||((j=(N=L(this,vi).config).onError)==null||j.call(N,b,this),(O=(z=L(this,vi).config).onSettled)==null||O.call(z,this.state.data,b,this)),this.scheduleGc()};return gt(this,bn,xA({initialPromise:e==null?void 0:e.initialPromise,fn:d.fetchFn,abort:s.abort.bind(s),onSuccess:b=>{var N,j,z,O;if(b===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(et){p(et);return}(j=(N=L(this,vi).config).onSuccess)==null||j.call(N,b,this),(O=(z=L(this,vi).config).onSettled)==null||O.call(z,b,this.state.error,this),this.scheduleGc()},onError:p,onFail:(b,N)=>{Ut(this,Oi,zr).call(this,{type:"failed",failureCount:b,error:N})},onPause:()=>{Ut(this,Oi,zr).call(this,{type:"pause"})},onContinue:()=>{Ut(this,Oi,zr).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),L(this,bn).start()}},bl=new WeakMap,Xa=new WeakMap,vi=new WeakMap,Wa=new WeakMap,bn=new WeakMap,Cc=new WeakMap,Za=new WeakMap,Oi=new WeakSet,zr=function(t){const e=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...NA(s.data,this.options),fetchMeta:t.meta??null};case"success":return gt(this,Xa,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return og(o)&&o.revert&&L(this,Xa)?{...L(this,Xa),fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=e(this.state),Xe.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),L(this,vi).notify({query:this,type:"updated",action:t})})},qb);function NA(i,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CA(t.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function QV(i){const t=typeof i.initialData=="function"?i.initialData():i.initialData,e=t!==void 0,s=e?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var er,Gb,$V=(Gb=class extends Xl{constructor(t={}){super();St(this,er);this.config=t,gt(this,er,new Map)}build(t,e,s){const o=e.queryKey,l=e.queryHash??fv(o,e);let h=this.get(l);return h||(h=new KV({client:t,queryKey:o,queryHash:l,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(o)}),this.add(h)),h}add(t){L(this,er).has(t.queryHash)||(L(this,er).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=L(this,er).get(t.queryHash);e&&(t.destroy(),e===t&&L(this,er).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return L(this,er).get(t)}getAll(){return[...L(this,er).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(s=>Db(e,s))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(s=>Db(t,s)):e}notify(t){Xe.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Xe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},er=new WeakMap,Gb),nr,kn,Ja,ir,Vs,Kb,YV=(Kb=class extends OA{constructor(t){super();St(this,ir);St(this,nr);St(this,kn);St(this,Ja);this.mutationId=t.mutationId,gt(this,kn,t.mutationCache),gt(this,nr,[]),this.state=t.state||DA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,nr).includes(t)||(L(this,nr).push(t),this.clearGcTimeout(),L(this,kn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){gt(this,nr,L(this,nr).filter(e=>e!==t)),this.scheduleGc(),L(this,kn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,nr).length||(this.state.status==="pending"?this.scheduleGc():L(this,kn).remove(this))}continue(){var t;return((t=L(this,Ja))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,h,d,p,g,E,v,b,N,j,z,O,et,ot,Z,rt,at,lt,k,A;const e=()=>{Ut(this,ir,Vs).call(this,{type:"continue"})};gt(this,Ja,xA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,M)=>{Ut(this,ir,Vs).call(this,{type:"failed",failureCount:C,error:M})},onPause:()=>{Ut(this,ir,Vs).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,kn).canRun(this)}));const s=this.state.status==="pending",o=!L(this,Ja).canStart();try{if(s)e();else{Ut(this,ir,Vs).call(this,{type:"pending",variables:t,isPaused:o}),await((h=(l=L(this,kn).config).onMutate)==null?void 0:h.call(l,t,this));const M=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,t));M!==this.state.context&&Ut(this,ir,Vs).call(this,{type:"pending",context:M,variables:t,isPaused:o})}const C=await L(this,Ja).start();return await((E=(g=L(this,kn).config).onSuccess)==null?void 0:E.call(g,C,t,this.state.context,this)),await((b=(v=this.options).onSuccess)==null?void 0:b.call(v,C,t,this.state.context)),await((j=(N=L(this,kn).config).onSettled)==null?void 0:j.call(N,C,null,this.state.variables,this.state.context,this)),await((O=(z=this.options).onSettled)==null?void 0:O.call(z,C,null,t,this.state.context)),Ut(this,ir,Vs).call(this,{type:"success",data:C}),C}catch(C){try{throw await((ot=(et=L(this,kn).config).onError)==null?void 0:ot.call(et,C,t,this.state.context,this)),await((rt=(Z=this.options).onError)==null?void 0:rt.call(Z,C,t,this.state.context)),await((lt=(at=L(this,kn).config).onSettled)==null?void 0:lt.call(at,void 0,C,this.state.variables,this.state.context,this)),await((A=(k=this.options).onSettled)==null?void 0:A.call(k,void 0,C,t,this.state.context)),C}finally{Ut(this,ir,Vs).call(this,{type:"error",error:C})}}finally{L(this,kn).runNext(this)}}},nr=new WeakMap,kn=new WeakMap,Ja=new WeakMap,ir=new WeakSet,Vs=function(t){const e=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Xe.batch(()=>{L(this,nr).forEach(s=>{s.onMutationUpdate(t)}),L(this,kn).notify({mutation:this,type:"updated",action:t})})},Kb);function DA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hr,Ni,Ic,Qb,XV=(Qb=class extends Xl{constructor(t={}){super();St(this,Hr);St(this,Ni);St(this,Ic);this.config=t,gt(this,Hr,new Set),gt(this,Ni,new Map),gt(this,Ic,0)}build(t,e,s){const o=new YV({mutationCache:this,mutationId:++ff(this,Ic)._,options:t.defaultMutationOptions(e),state:s});return this.add(o),o}add(t){L(this,Hr).add(t);const e=wf(t);if(typeof e=="string"){const s=L(this,Ni).get(e);s?s.push(t):L(this,Ni).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(L(this,Hr).delete(t)){const e=wf(t);if(typeof e=="string"){const s=L(this,Ni).get(e);if(s)if(s.length>1){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}else s[0]===t&&L(this,Ni).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=wf(t);if(typeof e=="string"){const s=L(this,Ni).get(e),o=s==null?void 0:s.find(l=>l.state.status==="pending");return!o||o===t}else return!0}runNext(t){var s;const e=wf(t);if(typeof e=="string"){const o=(s=L(this,Ni).get(e))==null?void 0:s.find(l=>l!==t&&l.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xe.batch(()=>{L(this,Hr).forEach(t=>{this.notify({type:"removed",mutation:t})}),L(this,Hr).clear(),L(this,Ni).clear()})}getAll(){return Array.from(L(this,Hr))}find(t){const e={exact:!0,...t};return this.getAll().find(s=>Mb(e,s))}findAll(t={}){return this.getAll().filter(e=>Mb(t,e))}notify(t){Xe.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Xe.batch(()=>Promise.all(t.map(e=>e.continue().catch(Pn))))}},Hr=new WeakMap,Ni=new WeakMap,Ic=new WeakMap,Qb);function wf(i){var t;return(t=i.options.scope)==null?void 0:t.id}function Pb(i){return{onFetch:(t,e)=>{var E,v,b,N,j;const s=t.options,o=(b=(v=(E=t.fetchOptions)==null?void 0:E.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,l=((N=t.state.data)==null?void 0:N.pages)||[],h=((j=t.state.data)==null?void 0:j.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const g=async()=>{let z=!1;const O=Z=>{Object.defineProperty(Z,"signal",{enumerable:!0,get:()=>(t.signal.aborted?z=!0:t.signal.addEventListener("abort",()=>{z=!0}),t.signal)})},et=AA(t.options,t.fetchOptions),ot=async(Z,rt,at)=>{if(z)return Promise.reject();if(rt==null&&Z.pages.length)return Promise.resolve(Z);const k=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:rt,direction:at?"backward":"forward",meta:t.options.meta};return O(P),P})(),A=await et(k),{maxPages:C}=t.options,M=at?BV:jV;return{pages:M(Z.pages,A,C),pageParams:M(Z.pageParams,rt,C)}};if(o&&l.length){const Z=o==="backward",rt=Z?WV:Lb,at={pages:l,pageParams:h},lt=rt(s,at);d=await ot(at,lt,Z)}else{const Z=i??l.length;do{const rt=p===0?h[0]??s.initialPageParam:Lb(s,d);if(p>0&&rt==null)break;d=await ot(d,rt),p++}while(p<Z)}return d};t.options.persister?t.fetchFn=()=>{var z,O;return(O=(z=t.options).persister)==null?void 0:O.call(z,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=g}}}function Lb(i,{pages:t,pageParams:e}){const s=t.length-1;return t.length>0?i.getNextPageParam(t[s],t,e[s],e):void 0}function WV(i,{pages:t,pageParams:e}){var s;return t.length>0?(s=i.getPreviousPageParam)==null?void 0:s.call(i,t[0],t,e[0],e):void 0}var xe,Fs,qs,Sl,wl,Gs,Al,Rl,$b,ZV=($b=class{constructor(i={}){St(this,xe);St(this,Fs);St(this,qs);St(this,Sl);St(this,wl);St(this,Gs);St(this,Al);St(this,Rl);gt(this,xe,i.queryCache||new $V),gt(this,Fs,i.mutationCache||new XV),gt(this,qs,i.defaultOptions||{}),gt(this,Sl,new Map),gt(this,wl,new Map),gt(this,Gs,0)}mount(){ff(this,Gs)._++,L(this,Gs)===1&&(gt(this,Al,mv.subscribe(async i=>{i&&(await this.resumePausedMutations(),L(this,xe).onFocus())})),gt(this,Rl,ud.subscribe(async i=>{i&&(await this.resumePausedMutations(),L(this,xe).onOnline())})))}unmount(){var i,t;ff(this,Gs)._--,L(this,Gs)===0&&((i=L(this,Al))==null||i.call(this),gt(this,Al,void 0),(t=L(this,Rl))==null||t.call(this),gt(this,Rl,void 0))}isFetching(i){return L(this,xe).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return L(this,Fs).findAll({...i,status:"pending"}).length}getQueryData(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=L(this,xe).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(i){const t=this.defaultQueryOptions(i),e=L(this,xe).build(this,t),s=e.state.data;return s===void 0?this.fetchQuery(i):(i.revalidateIfStale&&e.isStaleByTime(ia(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(i){return L(this,xe).findAll(i).map(({queryKey:t,state:e})=>{const s=e.data;return[t,s]})}setQueryData(i,t,e){const s=this.defaultQueryOptions({queryKey:i}),o=L(this,xe).get(s.queryHash),l=o==null?void 0:o.state.data,h=LV(t,l);if(h!==void 0)return L(this,xe).build(this,s).setData(h,{...e,manual:!0})}setQueriesData(i,t,e){return Xe.batch(()=>L(this,xe).findAll(i).map(({queryKey:s})=>[s,this.setQueryData(s,t,e)]))}getQueryState(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=L(this,xe).get(t.queryHash))==null?void 0:e.state}removeQueries(i){const t=L(this,xe);Xe.batch(()=>{t.findAll(i).forEach(e=>{t.remove(e)})})}resetQueries(i,t){const e=L(this,xe);return Xe.batch(()=>(e.findAll(i).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...i},t)))}cancelQueries(i,t={}){const e={revert:!0,...t},s=Xe.batch(()=>L(this,xe).findAll(i).map(o=>o.cancel(e)));return Promise.all(s).then(Pn).catch(Pn)}invalidateQueries(i,t={}){return Xe.batch(()=>(L(this,xe).findAll(i).forEach(e=>{e.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},t)))}refetchQueries(i,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},s=Xe.batch(()=>L(this,xe).findAll(i).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,e);return e.throwOnError||(l=l.catch(Pn)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(Pn)}fetchQuery(i){const t=this.defaultQueryOptions(i);t.retry===void 0&&(t.retry=!1);const e=L(this,xe).build(this,t);return e.isStaleByTime(ia(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Pn).catch(Pn)}fetchInfiniteQuery(i){return i.behavior=Pb(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Pn).catch(Pn)}ensureInfiniteQueryData(i){return i.behavior=Pb(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return ud.isOnline()?L(this,Fs).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,xe)}getMutationCache(){return L(this,Fs)}getDefaultOptions(){return L(this,qs)}setDefaultOptions(i){gt(this,qs,i)}setQueryDefaults(i,t){L(this,Sl).set(mo(i),{queryKey:i,defaultOptions:t})}getQueryDefaults(i){const t=[...L(this,Sl).values()],e={};return t.forEach(s=>{Rc(i,s.queryKey)&&Object.assign(e,s.defaultOptions)}),e}setMutationDefaults(i,t){L(this,wl).set(mo(i),{mutationKey:i,defaultOptions:t})}getMutationDefaults(i){const t=[...L(this,wl).values()],e={};return t.forEach(s=>{Rc(i,s.mutationKey)&&Object.assign(e,s.defaultOptions)}),e}defaultQueryOptions(i){if(i._defaulted)return i;const t={...L(this,qs).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return t.queryHash||(t.queryHash=fv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===dv&&(t.enabled=!1),t}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...L(this,qs).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){L(this,xe).clear(),L(this,Fs).clear()}},xe=new WeakMap,Fs=new WeakMap,qs=new WeakMap,Sl=new WeakMap,wl=new WeakMap,Gs=new WeakMap,Al=new WeakMap,Rl=new WeakMap,$b),Fn,Xt,xc,Vn,to,Cl,Ks,Qs,Oc,Il,xl,eo,no,$s,Ol,ae,sc,Kg,Qg,$g,Yg,Xg,Wg,Zg,MA,Yb,JV=(Yb=class extends Xl{constructor(t,e){super();St(this,ae);St(this,Fn);St(this,Xt);St(this,xc);St(this,Vn);St(this,to);St(this,Cl);St(this,Ks);St(this,Qs);St(this,Oc);St(this,Il);St(this,xl);St(this,eo);St(this,no);St(this,$s);St(this,Ol,new Set);this.options=e,gt(this,Fn,t),gt(this,Qs,null),gt(this,Ks,Gg()),this.options.experimental_prefetchInRender||L(this,Ks).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Xt).addObserver(this),Ub(L(this,Xt),this.options)?Ut(this,ae,sc).call(this):this.updateResult(),Ut(this,ae,Yg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jg(L(this,Xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jg(L(this,Xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ut(this,ae,Xg).call(this),Ut(this,ae,Wg).call(this),L(this,Xt).removeObserver(this)}setOptions(t){const e=this.options,s=L(this,Xt);if(this.options=L(this,Fn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _i(this.options.enabled,L(this,Xt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ut(this,ae,Zg).call(this),L(this,Xt).setOptions(this.options),e._defaulted&&!ld(this.options,e)&&L(this,Fn).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Xt),observer:this});const o=this.hasListeners();o&&jb(L(this,Xt),s,this.options,e)&&Ut(this,ae,sc).call(this),this.updateResult(),o&&(L(this,Xt)!==s||_i(this.options.enabled,L(this,Xt))!==_i(e.enabled,L(this,Xt))||ia(this.options.staleTime,L(this,Xt))!==ia(e.staleTime,L(this,Xt)))&&Ut(this,ae,Kg).call(this);const l=Ut(this,ae,Qg).call(this);o&&(L(this,Xt)!==s||_i(this.options.enabled,L(this,Xt))!==_i(e.enabled,L(this,Xt))||l!==L(this,$s))&&Ut(this,ae,$g).call(this,l)}getOptimisticResult(t){const e=L(this,Fn).getQueryCache().build(L(this,Fn),t),s=this.createResult(e,t);return eP(this,s)&&(gt(this,Vn,s),gt(this,Cl,this.options),gt(this,to,L(this,Xt).state)),s}getCurrentResult(){return L(this,Vn)}trackResult(t,e){return new Proxy(t,{get:(s,o)=>(this.trackProp(o),e==null||e(o),Reflect.get(s,o))})}trackProp(t){L(this,Ol).add(t)}getCurrentQuery(){return L(this,Xt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=L(this,Fn).defaultQueryOptions(t),s=L(this,Fn).getQueryCache().build(L(this,Fn),e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return Ut(this,ae,sc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,Vn)))}createResult(t,e){var C;const s=L(this,Xt),o=this.options,l=L(this,Vn),h=L(this,to),d=L(this,Cl),g=t!==s?t.state:L(this,xc),{state:E}=t;let v={...E},b=!1,N;if(e._optimisticResults){const M=this.hasListeners(),P=!M&&Ub(t,e),U=M&&jb(t,s,e,o);(P||U)&&(v={...v,...NA(E.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:j,errorUpdatedAt:z,status:O}=v;N=v.data;let et=!1;if(e.placeholderData!==void 0&&N===void 0&&O==="pending"){let M;l!=null&&l.isPlaceholderData&&e.placeholderData===(d==null?void 0:d.placeholderData)?(M=l.data,et=!0):M=typeof e.placeholderData=="function"?e.placeholderData((C=L(this,xl))==null?void 0:C.state.data,L(this,xl)):e.placeholderData,M!==void 0&&(O="success",N=qg(l==null?void 0:l.data,M,e),b=!0)}if(e.select&&N!==void 0&&!et)if(l&&N===(h==null?void 0:h.data)&&e.select===L(this,Oc))N=L(this,Il);else try{gt(this,Oc,e.select),N=e.select(N),N=qg(l==null?void 0:l.data,N,e),gt(this,Il,N),gt(this,Qs,null)}catch(M){gt(this,Qs,M)}L(this,Qs)&&(j=L(this,Qs),N=L(this,Il),z=Date.now(),O="error");const ot=v.fetchStatus==="fetching",Z=O==="pending",rt=O==="error",at=Z&&ot,lt=N!==void 0,A={status:O,fetchStatus:v.fetchStatus,isPending:Z,isSuccess:O==="success",isError:rt,isInitialLoading:at,isLoading:at,data:N,dataUpdatedAt:v.dataUpdatedAt,error:j,errorUpdatedAt:z,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:ot,isRefetching:ot&&!Z,isLoadingError:rt&&!lt,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:rt&&lt,isStale:pv(t,e),refetch:this.refetch,promise:L(this,Ks),isEnabled:_i(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=x=>{A.status==="error"?x.reject(A.error):A.data!==void 0&&x.resolve(A.data)},P=()=>{const x=gt(this,Ks,A.promise=Gg());M(x)},U=L(this,Ks);switch(U.status){case"pending":t.queryHash===s.queryHash&&M(U);break;case"fulfilled":(A.status==="error"||A.data!==U.value)&&P();break;case"rejected":(A.status!=="error"||A.error!==U.reason)&&P();break}}return A}updateResult(){const t=L(this,Vn),e=this.createResult(L(this,Xt),this.options);if(gt(this,to,L(this,Xt).state),gt(this,Cl,this.options),L(this,to).data!==void 0&&gt(this,xl,L(this,Xt)),ld(e,t))return;gt(this,Vn,e);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!L(this,Ol).size)return!0;const h=new Set(l??L(this,Ol));return this.options.throwOnError&&h.add("error"),Object.keys(L(this,Vn)).some(d=>{const p=d;return L(this,Vn)[p]!==t[p]&&h.has(p)})};Ut(this,ae,MA).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ut(this,ae,Yg).call(this)}},Fn=new WeakMap,Xt=new WeakMap,xc=new WeakMap,Vn=new WeakMap,to=new WeakMap,Cl=new WeakMap,Ks=new WeakMap,Qs=new WeakMap,Oc=new WeakMap,Il=new WeakMap,xl=new WeakMap,eo=new WeakMap,no=new WeakMap,$s=new WeakMap,Ol=new WeakMap,ae=new WeakSet,sc=function(t){Ut(this,ae,Zg).call(this);let e=L(this,Xt).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Pn)),e},Kg=function(){Ut(this,ae,Xg).call(this);const t=ia(this.options.staleTime,L(this,Xt));if(fo||L(this,Vn).isStale||!Hg(t))return;const s=SA(L(this,Vn).dataUpdatedAt,t)+1;gt(this,eo,setTimeout(()=>{L(this,Vn).isStale||this.updateResult()},s))},Qg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Xt)):this.options.refetchInterval)??!1},$g=function(t){Ut(this,ae,Wg).call(this),gt(this,$s,t),!(fo||_i(this.options.enabled,L(this,Xt))===!1||!Hg(L(this,$s))||L(this,$s)===0)&&gt(this,no,setInterval(()=>{(this.options.refetchIntervalInBackground||mv.isFocused())&&Ut(this,ae,sc).call(this)},L(this,$s)))},Yg=function(){Ut(this,ae,Kg).call(this),Ut(this,ae,$g).call(this,Ut(this,ae,Qg).call(this))},Xg=function(){L(this,eo)&&(clearTimeout(L(this,eo)),gt(this,eo,void 0))},Wg=function(){L(this,no)&&(clearInterval(L(this,no)),gt(this,no,void 0))},Zg=function(){const t=L(this,Fn).getQueryCache().build(L(this,Fn),this.options);if(t===L(this,Xt))return;const e=L(this,Xt);gt(this,Xt,t),gt(this,xc,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},MA=function(t){Xe.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(L(this,Vn))}),L(this,Fn).getQueryCache().notify({query:L(this,Xt),type:"observerResultsUpdated"})})},Yb);function tP(i,t){return _i(t.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&t.retryOnMount===!1)}function Ub(i,t){return tP(i,t)||i.state.data!==void 0&&Jg(i,t,t.refetchOnMount)}function Jg(i,t,e){if(_i(t.enabled,i)!==!1&&ia(t.staleTime,i)!=="static"){const s=typeof e=="function"?e(i):e;return s==="always"||s!==!1&&pv(i,t)}return!1}function jb(i,t,e,s){return(i!==t||_i(s.enabled,i)===!1)&&(!e.suspense||i.state.status!=="error")&&pv(i,e)}function pv(i,t){return _i(t.enabled,i)!==!1&&i.isStaleByTime(ia(t.staleTime,i))}function eP(i,t){return!ld(i.getCurrentResult(),t)}var Ys,Xs,qn,Fr,Wr,Vf,ty,Xb,nP=(Xb=class extends Xl{constructor(e,s){super();St(this,Wr);St(this,Ys);St(this,Xs);St(this,qn);St(this,Fr);gt(this,Ys,e),this.setOptions(s),this.bindMethods(),Ut(this,Wr,Vf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var o;const s=this.options;this.options=L(this,Ys).defaultMutationOptions(e),ld(this.options,s)||L(this,Ys).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,qn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&mo(s.mutationKey)!==mo(this.options.mutationKey)?this.reset():((o=L(this,qn))==null?void 0:o.state.status)==="pending"&&L(this,qn).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=L(this,qn))==null||e.removeObserver(this)}onMutationUpdate(e){Ut(this,Wr,Vf).call(this),Ut(this,Wr,ty).call(this,e)}getCurrentResult(){return L(this,Xs)}reset(){var e;(e=L(this,qn))==null||e.removeObserver(this),gt(this,qn,void 0),Ut(this,Wr,Vf).call(this),Ut(this,Wr,ty).call(this)}mutate(e,s){var o;return gt(this,Fr,s),(o=L(this,qn))==null||o.removeObserver(this),gt(this,qn,L(this,Ys).getMutationCache().build(L(this,Ys),this.options)),L(this,qn).addObserver(this),L(this,qn).execute(e)}},Ys=new WeakMap,Xs=new WeakMap,qn=new WeakMap,Fr=new WeakMap,Wr=new WeakSet,Vf=function(){var s;const e=((s=L(this,qn))==null?void 0:s.state)??DA();gt(this,Xs,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},ty=function(e){Xe.batch(()=>{var s,o,l,h,d,p,g,E;if(L(this,Fr)&&this.hasListeners()){const v=L(this,Xs).variables,b=L(this,Xs).context;(e==null?void 0:e.type)==="success"?((o=(s=L(this,Fr)).onSuccess)==null||o.call(s,e.data,v,b),(h=(l=L(this,Fr)).onSettled)==null||h.call(l,e.data,null,v,b)):(e==null?void 0:e.type)==="error"&&((p=(d=L(this,Fr)).onError)==null||p.call(d,e.error,v,b),(E=(g=L(this,Fr)).onSettled)==null||E.call(g,void 0,e.error,v,b))}this.listeners.forEach(v=>{v(L(this,Xs))})})},Xb),kA=I.createContext(void 0),gv=i=>{const t=I.useContext(kA);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},iP=({client:i,children:t})=>(I.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),R.jsx(kA.Provider,{value:i,children:t})),VA=I.createContext(!1),rP=()=>I.useContext(VA);VA.Provider;function sP(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var aP=I.createContext(sP()),oP=()=>I.useContext(aP),lP=(i,t)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(t.isReset()||(i.retryOnMount=!1))},uP=i=>{I.useEffect(()=>{i.clearReset()},[i])},cP=({result:i,errorResetBoundary:t,throwOnError:e,query:s,suspense:o})=>i.isError&&!t.isReset()&&!i.isFetching&&s&&(o&&i.data===void 0||RA(e,[i.error,s])),hP=i=>{if(i.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),e=i.staleTime;i.staleTime=typeof e=="function"?(...s)=>t(e(...s)):t(e),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},fP=(i,t)=>i.isLoading&&i.isFetching&&!t,dP=(i,t)=>(i==null?void 0:i.suspense)&&t.isPending,Bb=(i,t,e)=>t.fetchOptimistic(i).catch(()=>{e.clearReset()});function mP(i,t,e){var v,b,N,j,z;const s=rP(),o=oP(),l=gv(),h=l.defaultQueryOptions(i);(b=(v=l.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||b.call(v,h),h._optimisticResults=s?"isRestoring":"optimistic",hP(h),lP(h,o),uP(o);const d=!l.getQueryCache().get(h.queryHash),[p]=I.useState(()=>new t(l,h)),g=p.getOptimisticResult(h),E=!s&&i.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(O=>{const et=E?p.subscribe(Xe.batchCalls(O)):Pn;return p.updateResult(),et},[p,E]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),I.useEffect(()=>{p.setOptions(h)},[h,p]),dP(h,g))throw Bb(h,p,o);if(cP({result:g,errorResetBoundary:o,throwOnError:h.throwOnError,query:l.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw g.error;if((j=(N=l.getDefaultOptions().queries)==null?void 0:N._experimental_afterQuery)==null||j.call(N,h,g),h.experimental_prefetchInRender&&!fo&&fP(g,s)){const O=d?Bb(h,p,o):(z=l.getQueryCache().get(h.queryHash))==null?void 0:z.promise;O==null||O.catch(Pn).finally(()=>{p.updateResult()})}return h.notifyOnChangeProps?g:p.trackResult(g)}function pP(i,t){return mP(i,JV)}function gP(i,t){const e=gv(),[s]=I.useState(()=>new nP(e,i));I.useEffect(()=>{s.setOptions(i)},[s,i]);const o=I.useSyncExternalStore(I.useCallback(h=>s.subscribe(Xe.batchCalls(h)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),l=I.useCallback((h,d)=>{s.mutate(h,d).catch(Pn)},[s]);if(o.error&&RA(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}async function yP(i){const t=co(ho,"Users",i),e=await wc(t);if(!e.exists())throw new Error(`User "${i}" has no existing document.`);return console.log("User data fetched."),e.data()}async function vP(i,t){const e=co(ho,"Users",i);await ok(e,t),console.log("User data updated.")}const Af=["black","black","black","black","black"];function _P(i){const[t,e]=I.useState(new Array(6).fill({word:"",colors:Af})),[s,o]=I.useState(null),[l,h]=I.useState(new Map),d=I.useRef(0),p=I.useRef(1),[g,E]=I.useState(""),v=I.useRef(!1),b=gv(),{mutateAsync:N}=gP({mutationFn:async j=>vP(i.currentUser.uid,j),onSuccess:()=>{var j;b.invalidateQueries({queryKey:["user",(j=i.currentUser)==null?void 0:j.uid]})}});return I.useEffect(()=>{const j=()=>{var O;const z=(O=i.userData)==null?void 0:O.statistics.gameModes[i.gameMode];i.gameMode==="royale"?(e([...z.currentState.roundStates[z.currentState.gameRound-1].guesses]),h(new Map(Object.entries(z.currentState.roundStates[z.currentState.gameRound-1].keyColors))),d.current=z.currentState.roundStates[z.currentState.gameRound-1].rowIndex,p.current=z.currentState.gameRound):(e([...z.currentState.guesses]),h(new Map(Object.entries(z.currentState.keyColors))),d.current=z.currentState.rowIndex),console.log("Game state loaded.")};i.gameMode!=="practice"&&j()},[]),I.useEffect(()=>{const j=()=>{var z,O;e((z=i.userData)==null?void 0:z.statistics.gameModes.royale.currentState.roundStates[p.current-1].guesses),h(new Map(Object.entries((O=i.userData)==null?void 0:O.statistics.gameModes.royale.currentState.roundStates[p.current-1].keyColors)))};i.gameMode==="royale"&&j()},[p.current]),I.useEffect(()=>{var z;const j=async()=>{const O={...i.userData};i.gameMode==="classic"?(O.statistics.gameModes.classic.playedToday=!0,O.statistics.gameModes.classic.currentState.guesses=t,O.statistics.gameModes.classic.currentState.keyColors=Object.fromEntries(l),O.statistics.gameModes.classic.currentState.rowIndex=d.current):(O.statistics.gameModes.royale.playedToday=!0,O.statistics.gameModes.royale.currentState.roundStates[p.current-1].guesses=t,O.statistics.gameModes.royale.currentState.roundStates[p.current-1].keyColors=Object.fromEntries(l),O.statistics.gameModes.royale.currentState.roundStates[p.current-1].rowIndex=d.current,O.statistics.gameModes.royale.currentState.gameRound=p.current);try{await N(O)}catch(et){console.log(et.message)}};i.gameMode!=="practice"&&t[0].word!==""&&i.userData&&!((z=i.userData)!=null&&z.statistics.gameModes[i.gameMode].finishedToday)&&j()},[l]),R.jsxs(R.Fragment,{children:[i.gameMode==="classic"&&R.jsx(MV,{...i,guesses:t,setGuesses:e,keyColors:l,setKeyColors:h,rowIndex:d,baseColors:Af,dailyStreak:v,gameResult:g,setGameResult:E,mutateUserData:N}),i.gameMode==="royale"&&R.jsx(kV,{...i,guesses:t,setGuesses:e,keyColors:l,setKeyColors:h,rowIndex:d,gameRound:p,baseColors:Af,gameResult:g,setGameResult:E,mutateUserData:N}),i.gameMode==="practice"&&R.jsx(PV,{...i,guesses:t,setGuesses:e,keyColors:l,setKeyColors:h,rowIndex:d,baseColors:Af})]})}const PA=I.createContext({currentUser:null,loading:!0}),EP=()=>I.useContext(PA),LA=I.forwardRef(({bsPrefix:i,size:t,vertical:e=!1,className:s,role:o="group",as:l="div",...h},d)=>{const p=jt(i,"btn-group");let g=p;return e&&(g=`${p}-vertical`),R.jsx(l,{...h,ref:d,role:o,className:Mt(s,g,t&&`${p}-${t}`)})});LA.displayName="ButtonGroup";function TP({value:i,label:t}){return R.jsx("div",{className:"index-window flex-center",children:R.jsxs("div",{children:[R.jsx("span",{className:"index-value",children:i}),R.jsx("span",{className:"index-label",children:t})]})})}function lg({value:i,category:t}){return R.jsxs("div",{className:"stat-window flex-center",children:[R.jsx("span",{className:"stat-value",children:i}),R.jsx("span",{className:"stat-category",children:t})]})}const UA=I.createContext({data:[10,2,5,13,5],categories:[]});function fc({children:i,data:t,categories:e}){return R.jsx(UA,{value:{data:t,categories:e},children:R.jsx("div",{className:"bar-chart flex-center",children:R.jsx("div",{className:"chart",children:i})})})}function bP({axis:i="show",layout:t="horizontal"}){const{data:e,categories:s}=I.useContext(UA);return R.jsx("div",{className:"graph",children:e.map((o,l)=>R.jsxs("div",{className:`bar b-${l+1}`,style:{width:`${o!==0?o/Math.max(...e)*100:2}%`,height:"100%"},children:[R.jsx("span",{className:"category",children:s.length===e.length?s[l]:`category ${l+1}`}),R.jsx("span",{className:`value v-${l+1}`,children:o||""})]},l))})}function SP({children:i}){return R.jsx("div",{className:"header",children:R.jsx("h2",{children:i})})}fc.Header=SP;fc.Graph=bP;const wP=(i=!0)=>{const t=I.useRef(i),[e,s]=I.useState(t.current?"classic":"royale"),o=I.useCallback(()=>{t.current=!t.current,s(t.current?"classic":"royale")},[]);return[e,o]};function AP({statsOpen:i,toggleStats:t,userData:e}){const[s,o]=wP(!0),l=()=>{const d=e==null?void 0:e.statistics.gameModes[s].gamesGuessed.reduce((p,g,E)=>p+g*(E+1));return Math.round(d/(e==null?void 0:e.statistics.gameModes[s].gamesPlayed)*10)/10},h=()=>Math.round((e==null?void 0:e.statistics.gameModes[s].gamesGuessed.reduce((d,p)=>d+p))/(e==null?void 0:e.statistics.gameModes[s].gamesPlayed)*100);return R.jsx(R.Fragment,{children:R.jsxs(Fe,{show:i,onHide:t,children:[R.jsx(Fe.Header,{closeButton:!0,children:R.jsx(An,{className:"flex-center",children:R.jsx(Fe.Title,{children:s})})}),R.jsxs(Fe.Body,{children:[R.jsx("div",{className:"c-1 flex-center",children:R.jsxs(LA,{className:"me-2","aria-label":"First group",children:[R.jsx(Vi,{onClick:()=>{s==="royale"&&o()},children:"Classic"}),R.jsx(Vi,{onClick:()=>{s==="classic"&&o()},children:"Royale"})]})}),(e==null?void 0:e.statistics.gameModes[s].gamesPlayed)>=5?R.jsxs("div",{className:"stats-grid",children:[R.jsx("div",{className:"c-2",children:R.jsx(TP,{value:l(),label:"index"})}),R.jsx("div",{className:"c-3",children:R.jsx(lg,{value:e==null?void 0:e.statistics.gameModes[s].gamesPlayed,category:"Games played"})}),R.jsx("div",{className:"c-4",children:R.jsx(lg,{value:h()+"%",category:"Win rate"})}),R.jsx("div",{className:"c-5",children:R.jsx(lg,{value:e==null?void 0:e.statistics.gameModes[s].dailyStreak,category:"Daily streak"})}),R.jsx("div",{className:"c-6",children:R.jsxs(fc,{data:s==="classic"?e==null?void 0:e.statistics.gameModes[s].gamesGuessed:e==null?void 0:e.statistics.gameModes[s].gamesGuessed.toReversed(),categories:s==="classic"?[1,2,3,4,5,6]:[5,4,3,2,1],children:[R.jsx(fc.Header,{children:s==="classic"?"GUESS DISTRIBUTION":"ROUND DISTRIBUTION"}),R.jsx(fc.Graph,{axis:"show",layout:"vertical"})]})}),R.jsx("div",{className:"leader-board"})]}):R.jsxs("div",{className:"stats-lock flex-center",children:[R.jsx(HI,{className:"lock-svg"}),R.jsx("div",{className:"lock-message",children:e?`Play ${5-(e==null?void 0:e.statistics.gameModes[s].gamesPlayed)} more ${5-(e==null?void 0:e.statistics.gameModes[s].gamesPlayed)===1?"game.":"games."}`:"Log in to see your stats."})]})]}),R.jsx(Fe.Footer,{className:"flex-center"})]})})}function RP(){const[i,t]=oI(!0),[e,s]=dl(!1),[o,l]=dl(!1),[h,d]=dl(!1),[p,g]=dl(!1),[E,v]=I.useState("practice"),{currentUser:b,loading:N}=EP(),{data:j,isLoading:z}=pP({queryKey:["user",b==null?void 0:b.uid],queryFn:({queryKey:ot})=>{const[,Z]=ot;return yP(Z)},enabled:!!b&&!N}),[O,et]=dl(!1);return document.querySelector("body").classList=`${i}`,R.jsxs(R.Fragment,{children:[R.jsx(DV,{darkMode:i,toggleDarkMode:t,toggleLogIn:l,currentUser:b,playWordle:e,togglePlayWordle:s,toggleStats:g}),R.jsx("main",{className:`flex-center ${i}`,children:e?R.jsx(_P,{darkMode:i,currentUser:b,userData:j,gameMode:E,togglePlayWordle:s,wordLength:5,numOfGuesses:6,toggleRestart:et},O):R.jsx(R.Fragment,{children:R.jsx(dk,{togglePlayWordle:s,gameMode:E,setGameMode:v,darkMode:i,currentUser:b})})}),R.jsx(lV,{logInOpen:o,toggleLogIn:l,toggleSignUp:d}),R.jsx(uV,{signUpOpen:h,toggleSignUp:d}),R.jsx(AP,{statsOpen:p,toggleStats:g,gameMode:E,setGameMode:v,userData:j})]})}function CP({children:i}){const[t,e]=I.useState(null),[s,o]=I.useState(!0);I.useEffect(()=>{const h=OO(Ac,d=>{e(d),o(!1)});return()=>h()},[]);const l={currentUser:t,loading:s};return R.jsx(PA.Provider,{value:l,children:!s&&i})}const IP=new ZV;yC.createRoot(document.getElementById("root")).render(R.jsx(I.StrictMode,{children:R.jsx(CP,{children:R.jsx(iP,{client:IP,children:R.jsx(RP,{})})})}));
