(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Kf(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gm={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function $S(){if(G_)return Gl;G_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=t,Gl.jsx=n,Gl.jsxs=n,Gl}var K_;function YS(){return K_||(K_=1,gm.exports=$S()),gm.exports}var A=YS(),ym={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function QS(){if($_)return Vt;$_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),_=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=_&&D[_]||D["@@iterator"],typeof D=="function"?D:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,X={};function U(D,$,et){this.props=D,this.context=$,this.refs=X,this.updater=et||M}U.prototype.isReactComponent={},U.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},U.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ot(){}ot.prototype=U.prototype;function ht(D,$,et){this.props=D,this.context=$,this.refs=X,this.updater=et||M}var nt=ht.prototype=new ot;nt.constructor=ht,B(nt,U.prototype),nt.isPureReactComponent=!0;var dt=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},at=Object.prototype.hasOwnProperty;function O(D,$,et,Q,ut,_t){return et=_t.ref,{$$typeof:i,type:D,key:$,ref:et!==void 0?et:null,props:_t}}function R(D,$){return O(D.type,$,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function V(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return $[et]})}var k=/\/+/g;function L(D,$){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):$.toString(36)}function x(){}function Et(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Mt(D,$,et,Q,ut){var _t=typeof D;(_t==="undefined"||_t==="boolean")&&(D=null);var mt=!1;if(D===null)mt=!0;else switch(_t){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(D.$$typeof){case i:case t:mt=!0;break;case T:return mt=D._init,Mt(mt(D._payload),$,et,Q,ut)}}if(mt)return ut=ut(D),mt=Q===""?"."+L(D,0):Q,dt(ut)?(et="",mt!=null&&(et=mt.replace(k,"$&/")+"/"),Mt(ut,$,et,"",function(_e){return _e})):ut!=null&&(I(ut)&&(ut=R(ut,et+(ut.key==null||D&&D.key===ut.key?"":(""+ut.key).replace(k,"$&/")+"/")+mt)),$.push(ut)),1;mt=0;var ne=Q===""?".":Q+":";if(dt(D))for(var Bt=0;Bt<D.length;Bt++)Q=D[Bt],_t=ne+L(Q,Bt),mt+=Mt(Q,$,et,_t,ut);else if(Bt=w(D),typeof Bt=="function")for(D=Bt.call(D),Bt=0;!(Q=D.next()).done;)Q=Q.value,_t=ne+L(Q,Bt++),mt+=Mt(Q,$,et,_t,ut);else if(_t==="object"){if(typeof D.then=="function")return Mt(Et(D),$,et,Q,ut);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return mt}function z(D,$,et){if(D==null)return D;var Q=[],ut=0;return Mt(D,Q,"","",function(_t){return $.call(et,_t,ut++)}),Q}function it(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Rt(){}return Vt.Children={map:z,forEach:function(D,$,et){z(D,function(){$.apply(this,arguments)},et)},count:function(D){var $=0;return z(D,function(){$++}),$},toArray:function(D){return z(D,function($){return $})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Vt.Component=U,Vt.Fragment=n,Vt.Profiler=o,Vt.PureComponent=ht,Vt.StrictMode=s,Vt.Suspense=p,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return lt.H.useMemoCache(D)}},Vt.cache=function(D){return function(){return D.apply(null,arguments)}},Vt.cloneElement=function(D,$,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Q=B({},D.props),ut=D.key,_t=void 0;if($!=null)for(mt in $.ref!==void 0&&(_t=void 0),$.key!==void 0&&(ut=""+$.key),$)!at.call($,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&$.ref===void 0||(Q[mt]=$[mt]);var mt=arguments.length-2;if(mt===1)Q.children=et;else if(1<mt){for(var ne=Array(mt),Bt=0;Bt<mt;Bt++)ne[Bt]=arguments[Bt+2];Q.children=ne}return O(D.type,ut,void 0,void 0,_t,Q)},Vt.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Vt.createElement=function(D,$,et){var Q,ut={},_t=null;if($!=null)for(Q in $.key!==void 0&&(_t=""+$.key),$)at.call($,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ut[Q]=$[Q]);var mt=arguments.length-2;if(mt===1)ut.children=et;else if(1<mt){for(var ne=Array(mt),Bt=0;Bt<mt;Bt++)ne[Bt]=arguments[Bt+2];ut.children=ne}if(D&&D.defaultProps)for(Q in mt=D.defaultProps,mt)ut[Q]===void 0&&(ut[Q]=mt[Q]);return O(D,_t,void 0,void 0,null,ut)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(D){return{$$typeof:m,render:D}},Vt.isValidElement=I,Vt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:it}},Vt.memo=function(D,$){return{$$typeof:g,type:D,compare:$===void 0?null:$}},Vt.startTransition=function(D){var $=lt.T,et={};lt.T=et;try{var Q=D(),ut=lt.S;ut!==null&&ut(et,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Rt,ct)}catch(_t){ct(_t)}finally{lt.T=$}},Vt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Vt.use=function(D){return lt.H.use(D)},Vt.useActionState=function(D,$,et){return lt.H.useActionState(D,$,et)},Vt.useCallback=function(D,$){return lt.H.useCallback(D,$)},Vt.useContext=function(D){return lt.H.useContext(D)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(D,$){return lt.H.useDeferredValue(D,$)},Vt.useEffect=function(D,$,et){var Q=lt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(D,$)},Vt.useId=function(){return lt.H.useId()},Vt.useImperativeHandle=function(D,$,et){return lt.H.useImperativeHandle(D,$,et)},Vt.useInsertionEffect=function(D,$){return lt.H.useInsertionEffect(D,$)},Vt.useLayoutEffect=function(D,$){return lt.H.useLayoutEffect(D,$)},Vt.useMemo=function(D,$){return lt.H.useMemo(D,$)},Vt.useOptimistic=function(D,$){return lt.H.useOptimistic(D,$)},Vt.useReducer=function(D,$,et){return lt.H.useReducer(D,$,et)},Vt.useRef=function(D){return lt.H.useRef(D)},Vt.useState=function(D){return lt.H.useState(D)},Vt.useSyncExternalStore=function(D,$,et){return lt.H.useSyncExternalStore(D,$,et)},Vt.useTransition=function(){return lt.H.useTransition()},Vt.version="19.1.0",Vt}var Y_;function bp(){return Y_||(Y_=1,ym.exports=QS()),ym.exports}var C=bp();const rt=Kf(C);var vm={exports:{}},Kl={},_m={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function XS(){return Q_||(Q_=1,function(i){function t(z,it){var ct=z.length;z.push(it);t:for(;0<ct;){var Rt=ct-1>>>1,D=z[Rt];if(0<o(D,it))z[Rt]=it,z[ct]=D,ct=Rt;else break t}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var it=z[0],ct=z.pop();if(ct!==it){z[0]=ct;t:for(var Rt=0,D=z.length,$=D>>>1;Rt<$;){var et=2*(Rt+1)-1,Q=z[et],ut=et+1,_t=z[ut];if(0>o(Q,ct))ut<D&&0>o(_t,Q)?(z[Rt]=_t,z[ut]=ct,Rt=ut):(z[Rt]=Q,z[et]=ct,Rt=et);else if(ut<D&&0>o(_t,ct))z[Rt]=_t,z[ut]=ct,Rt=ut;else break t}}return it}function o(z,it){var ct=z.sortIndex-it.sortIndex;return ct!==0?ct:z.id-it.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],T=1,_=null,w=3,M=!1,B=!1,X=!1,U=!1,ot=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function dt(z){for(var it=n(g);it!==null;){if(it.callback===null)s(g);else if(it.startTime<=z)s(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(g)}}function lt(z){if(X=!1,dt(z),!B)if(n(p)!==null)B=!0,at||(at=!0,L());else{var it=n(g);it!==null&&Mt(lt,it.startTime-z)}}var at=!1,O=-1,R=5,I=-1;function V(){return U?!0:!(i.unstable_now()-I<R)}function k(){if(U=!1,at){var z=i.unstable_now();I=z;var it=!0;try{t:{B=!1,X&&(X=!1,ht(O),O=-1),M=!0;var ct=w;try{e:{for(dt(z),_=n(p);_!==null&&!(_.expirationTime>z&&V());){var Rt=_.callback;if(typeof Rt=="function"){_.callback=null,w=_.priorityLevel;var D=Rt(_.expirationTime<=z);if(z=i.unstable_now(),typeof D=="function"){_.callback=D,dt(z),it=!0;break e}_===n(p)&&s(p),dt(z)}else s(p);_=n(p)}if(_!==null)it=!0;else{var $=n(g);$!==null&&Mt(lt,$.startTime-z),it=!1}}break t}finally{_=null,w=ct,M=!1}it=void 0}}finally{it?L():at=!1}}}var L;if(typeof nt=="function")L=function(){nt(k)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Et=x.port2;x.port1.onmessage=k,L=function(){Et.postMessage(null)}}else L=function(){ot(k,0)};function Mt(z,it){O=ot(function(){z(i.unstable_now())},it)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(z){switch(w){case 1:case 2:case 3:var it=3;break;default:it=w}var ct=w;w=it;try{return z()}finally{w=ct}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(z,it){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ct=w;w=z;try{return it()}finally{w=ct}},i.unstable_scheduleCallback=function(z,it,ct){var Rt=i.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Rt+ct:Rt):ct=Rt,z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,z={id:T++,callback:it,priorityLevel:z,startTime:ct,expirationTime:D,sortIndex:-1},ct>Rt?(z.sortIndex=ct,t(g,z),n(p)===null&&z===n(g)&&(X?(ht(O),O=-1):X=!0,Mt(lt,ct-Rt))):(z.sortIndex=D,t(p,z),B||M||(B=!0,at||(at=!0,L()))),z},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(z){var it=w;return function(){var ct=w;w=it;try{return z.apply(this,arguments)}finally{w=ct}}}}(Em)),Em}var X_;function WS(){return X_||(X_=1,_m.exports=XS()),_m.exports}var Tm={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function ZS(){if(W_)return hn;W_=1;var i=bp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:g,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,T)},hn.flushSync=function(p){var g=h.T,T=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=T,s.d.f()}},hn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},hn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},hn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,_=m(T,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:M}):T==="script"&&s.d.X(p,{crossOrigin:_,integrity:w,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},hn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,_=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},hn.requestFormReset=function(p){s.d.r(p)},hn.unstable_batchedUpdates=function(p,g){return p(g)},hn.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},hn.useFormStatus=function(){return h.H.useHostTransitionStatus()},hn.version="19.1.0",hn}var Z_;function QE(){if(Z_)return Tm.exports;Z_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Tm.exports=ZS(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function JS(){if(J_)return Kl;J_=1;var i=WS(),t=bp(),n=QE();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),e;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=d;break}if(b===l){E=!0,l=f,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=f;break}if(b===l){E=!0,l=d,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),ot=Symbol.for("react.provider"),ht=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function Et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case U:return"Profiler";case X:return"StrictMode";case lt:return"Suspense";case at:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case nt:return(e.displayName||"Context")+".Provider";case ht:return(e._context.displayName||"Context")+".Consumer";case dt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return r=e.displayName||null,r!==null?r:Et(e.type)||"Memo";case R:r=e._payload,e=e._init;try{return Et(e(r))}catch{}}return null}var Mt=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Rt=[],D=-1;function $(e){return{current:e}}function et(e){0>D||(e.current=Rt[D],Rt[D]=null,D--)}function Q(e,r){D++,Rt[D]=e.current,e.current=r}var ut=$(null),_t=$(null),mt=$(null),ne=$(null);function Bt(e,r){switch(Q(mt,r),Q(_t,e),Q(ut,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?__(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=__(r),e=E_(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ut),Q(ut,e)}function _e(){et(ut),et(_t),et(mt)}function Se(e){e.memoizedState!==null&&Q(ne,e);var r=ut.current,a=E_(r,e.type);r!==a&&(Q(_t,e),Q(ut,a))}function cn(e){_t.current===e&&(et(ut),et(_t)),ne.current===e&&(et(ne),Bl._currentValue=ct)}var Je=Object.prototype.hasOwnProperty,_n=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Xt=i.unstable_shouldYield,Gn=i.unstable_requestPaint,he=i.unstable_now,Pr=i.unstable_getCurrentPriorityLevel,tn=i.unstable_ImmediatePriority,vi=i.unstable_UserBlockingPriority,si=i.unstable_NormalPriority,Le=i.unstable_LowPriority,En=i.unstable_IdlePriority,_i=i.log,Lr=i.unstable_setDisableYieldValue,yt=null,Ut=null;function Ue(e){if(typeof _i=="function"&&Lr(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(yt,e)}catch{}}var xe=Math.clz32?Math.clz32:An,ai=Math.log,Sa=Math.LN2;function An(e){return e>>>=0,e===0?32:31-(ai(e)/Sa|0)|0}var $i=256,Yi=4194304;function Rn(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qi(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Rn(l):(E&=b,E!==0?f=Rn(E):a||(a=b&~e,a!==0&&(f=Rn(a))))):(b=l&~d,b!==0?f=Rn(b):E!==0?f=Rn(E):a||(a=l&~e,a!==0&&(f=Rn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Xi(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Wi(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cn(){var e=$i;return $i<<=1,($i&4194048)===0&&($i=256),e}function Ms(){var e=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),e}function oi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Kn(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ur(e,r,a,l,f,d){var E=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,N=e.expirationTimes,F=e.hiddenUpdates;for(a=E&~a;0<a;){var W=31-xe(a),J=1<<W;b[W]=0,N[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var K=G[W];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&bt(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~r))}function bt(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-xe(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function de(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-xe(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vn(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function Ee(e,r){var a=it.p;try{return it.p=e,r()}finally{it.p=a}}var zt=Math.random().toString(36).slice(2),me="__reactFiber$"+zt,Wt="__reactProps$"+zt,pe="__reactContainer$"+zt,jr="__reactEvents$"+zt,li="__reactListeners$"+zt,Zi="__reactHandles$"+zt,Du="__reactResources$"+zt,Vs="__reactMarker$"+zt;function Br(e){delete e[me],delete e[Wt],delete e[jr],delete e[li],delete e[Zi]}function Ji(e){var r=e[me];if(r)return r;for(var a=e.parentNode;a;){if(r=a[pe]||a[me]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=S_(e);e!==null;){if(a=e[me])return a;e=S_(e)}return r}e=a,a=e.parentNode}return null}function Ei(e){if(e=e[me]||e[pe]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function Ti(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function Tn(e){var r=e[Du];return r||(r=e[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ae(e){e[Vs]=!0}var Ko=new Set,Aa={};function ui(e,r){tr(e,r),tr(e+"Capture",r)}function tr(e,r){for(Aa[e]=r,e=0;e<r.length;e++)Ko.add(r[e])}var Mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},ks={};function ku(e){return Je.call(ks,e)?!0:Je.call(Vu,e)?!1:Mu.test(e)?ks[e]=!0:(Vu[e]=!0,!1)}function zr(e,r,a){if(ku(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function bi(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function en(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}var Ps,Pu;function er(e){if(Ps===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ps=r&&r[1]||"",Pu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+e+Pu}var Ra=!1;function Ca(e,r){if(!e||Ra)return"";Ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var G=K}Reflect.construct(e,[],J)}else{try{J.call()}catch(K){G=K}e.call(J.prototype)}}else{try{throw Error()}catch(K){G=K}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var N=E.split(`
`),F=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===F.length)for(l=N.length-1,f=F.length-1;1<=l&&0<=f&&N[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==F[f]){var W=`
`+N[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=f);break}}}finally{Ra=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?er(a):""}function $o(e){switch(e.tag){case 26:case 27:case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return Ca(e.type,!1);case 11:return Ca(e.type.render,!1);case 1:return Ca(e.type,!0);case 31:return er("Activity");default:return""}}function Ia(e){try{var r="";do r+=$o(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yo(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Eh(e){var r=Yo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function xa(e){e._valueTracker||(e._valueTracker=Eh(e))}function Qo(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Yo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Th=/[\n"\\]/g;function Oe(e){return e.replace(Th,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function kn(e,r,a,l,f,d,E,b){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),r!=null?E==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+bn(r)):e.value!==""+bn(r)&&(e.value=""+bn(r)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),r!=null?Hr(e,E,bn(r)):a!=null?Hr(e,E,bn(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+bn(b):e.removeAttribute("name")}function Us(e,r,a,l,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+bn(a):"",r=r!=null?""+bn(r):a,b||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function Hr(e,r,a){r==="number"&&Ls(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function nr(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+bn(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function se(e,r,a){if(r!=null&&(r=""+bn(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+bn(a):""}function js(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=bn(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function $n(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Bs.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Xo(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Lu(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Lu(e,d,r[d])}function Wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(e){return wh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ir=null;function Yn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rr=null,sr=null;function Zo(e){var r=Ei(e);if(r&&(e=r.stateNode)){var a=e[Wt]||null;t:switch(e=r.stateNode,r.type){case"input":if(kn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Oe(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[Wt]||null;if(!f)throw Error(s(90));kn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Qo(l)}break t;case"textarea":se(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&nr(e,!!a.multiple,r,!1)}}}var wi=!1;function Uu(e,r,a){if(wi)return e(r,a);wi=!0;try{var l=e(r);return l}finally{if(wi=!1,(rr!==null||sr!==null)&&(Oc(),rr&&(r=rr,e=sr,sr=rr=null,Zo(r),e)))for(r=0;r<e.length;r++)Zo(e[r])}}function zs(e,r){var a=e.stateNode;if(a===null)return null;var l=a[Wt]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qn=!1;if(ci)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Qn=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Qn=!1}var Si=null,qr=null,ar=null;function Jo(){if(ar)return ar;var e,r=qr,a=r.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var E=a-e;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return ar=f.slice(e,1<l?1-l:void 0)}function Ai(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Ri(){return!0}function tl(){return!1}function $e(e){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ri:tl,this.isPropagationStopped=tl,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),r}var te={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=$e(te),qs=T({},te,{view:0,detail:0}),ju=$e(qs),Da,Ma,Ci,Fs=T({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Da=e.screenX-Ci.screenX,Ma=e.screenY-Ci.screenY):Ma=Da=0,Ci=e),Da)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),Xn=$e(Fs),Bu=T({},Fs,{dataTransfer:0}),Sh=$e(Bu),Gs=T({},qs,{relatedTarget:0}),Va=$e(Gs),el=T({},te,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=$e(el),zu=T({},te,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pa=$e(zu),Ah=T({},te,{data:0}),nl=$e(Ah),Ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=qu[e])?!!r[e]:!1}function $s(){return il}var Fu=T({},qs,{key:function(e){if(e.key){var r=Ks[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(e){return e.type==="keypress"?Ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),La=$e(Fu),Gu=T({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=$e(Gu),or=T({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),Ku=$e(or),$u=T({},te,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yu=$e($u),Qu=T({},Fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=$e(Qu),wn=T({},te,{newState:0,oldState:0}),Xu=$e(wn),Wu=[9,13,27,32],Ii=ci&&"CompositionEvent"in window,c=null;ci&&"documentMode"in document&&(c=document.documentMode);var y=ci&&"TextEvent"in window&&!c,v=ci&&(!Ii||c&&8<c&&11>=c),S=" ",H=!1;function Y(e,r){switch(e){case"keyup":return Wu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kt=!1;function je(e,r){switch(e){case"compositionend":return ft(r);case"keypress":return r.which!==32?null:(H=!0,S);case"textInput":return e=r.data,e===S&&H?null:e;default:return null}}function $t(e,r){if(Kt)return e==="compositionend"||!Ii&&Y(e,r)?(e=Jo(),ar=qr=Si=null,Kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Ye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Ye[e.type]:r==="textarea"}function lr(e,r,a,l){rr?sr?sr.push(l):sr=[l]:rr=l,r=Lc(r,"onChange"),0<r.length&&(a=new Oa("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var nn=null,xi=null;function sl(e){m_(e,0)}function Zu(e){var r=Ti(e);if(Qo(r))return e}function kg(e,r){if(e==="change")return r}var Pg=!1;if(ci){var Rh;if(ci){var Ch="oninput"in document;if(!Ch){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Ch=typeof Lg.oninput=="function"}Rh=Ch}else Rh=!1;Pg=Rh&&(!document.documentMode||9<document.documentMode)}function Ug(){nn&&(nn.detachEvent("onpropertychange",jg),xi=nn=null)}function jg(e){if(e.propertyName==="value"&&Zu(xi)){var r=[];lr(r,xi,e,Yn(e)),Uu(sl,r)}}function ww(e,r,a){e==="focusin"?(Ug(),nn=r,xi=a,nn.attachEvent("onpropertychange",jg)):e==="focusout"&&Ug()}function Sw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zu(xi)}function Aw(e,r){if(e==="click")return Zu(r)}function Rw(e,r){if(e==="input"||e==="change")return Zu(r)}function Cw(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Pn=typeof Object.is=="function"?Object.is:Cw;function al(e,r){if(Pn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Je.call(r,f)||!Pn(e[f],r[f]))return!1}return!0}function Bg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zg(e,r){var a=Bg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Bg(a)}}function Hg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Hg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function qg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Ls(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Ls(e.document)}return r}function Ih(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Iw=ci&&"documentMode"in document&&11>=document.documentMode,ja=null,xh=null,ol=null,Nh=!1;function Fg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nh||ja==null||ja!==Ls(l)||(l=ja,"selectionStart"in l&&Ih(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Lc(xh,"onSelect"),0<l.length&&(r=new Oa("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=ja)))}function Ys(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Ba={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},Oh={},Gg={};ci&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Qs(e){if(Oh[e])return Oh[e];if(!Ba[e])return e;var r=Ba[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Gg)return Oh[e]=r[a];return e}var Kg=Qs("animationend"),$g=Qs("animationiteration"),Yg=Qs("animationstart"),xw=Qs("transitionrun"),Nw=Qs("transitionstart"),Ow=Qs("transitioncancel"),Qg=Qs("transitionend"),Xg=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function fi(e,r){Xg.set(e,r),ui(r,[e])}var Wg=new WeakMap;function Wn(e,r){if(typeof e=="object"&&e!==null){var a=Wg.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Ia(r)},Wg.set(e,r),r)}return{value:e,source:r,stack:Ia(r)}}var Zn=[],za=0,Mh=0;function Ju(){for(var e=za,r=Mh=za=0;r<e;){var a=Zn[r];Zn[r++]=null;var l=Zn[r];Zn[r++]=null;var f=Zn[r];Zn[r++]=null;var d=Zn[r];if(Zn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Zg(a,f,d)}}function tc(e,r,a,l){Zn[za++]=e,Zn[za++]=r,Zn[za++]=a,Zn[za++]=l,Mh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Vh(e,r,a,l){return tc(e,r,a,l),ec(e)}function Ha(e,r){return tc(e,null,null,r),ec(e)}function Zg(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-xe(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function ec(e){if(50<Dl)throw Dl=0,Bd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var qa={};function Dw(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,r,a,l){return new Dw(e,r,a,l)}function kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ur(e,r){var a=e.alternate;return a===null?(a=Ln(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Jg(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function nc(e,r,a,l,f,d){var E=0;if(l=e,typeof e=="function")kh(e)&&(E=1);else if(typeof e=="string")E=VS(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Ln(31,a,r,f),e.elementType=I,e.lanes=d,e;case B:return Xs(a.children,f,d,r);case X:E=8,f|=24;break;case U:return e=Ln(12,a,r,f|2),e.elementType=U,e.lanes=d,e;case lt:return e=Ln(13,a,r,f),e.elementType=lt,e.lanes=d,e;case at:return e=Ln(19,a,r,f),e.elementType=at,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:case nt:E=10;break t;case ht:E=9;break t;case dt:E=11;break t;case O:E=14;break t;case R:E=16,l=null;break t}E=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=Ln(E,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function Xs(e,r,a,l){return e=Ln(7,e,l,r),e.lanes=a,e}function Ph(e,r,a){return e=Ln(6,e,null,r),e.lanes=a,e}function Lh(e,r,a){return r=Ln(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Fa=[],Ga=0,ic=null,rc=0,Jn=[],ti=0,Ws=null,cr=1,fr="";function Zs(e,r){Fa[Ga++]=rc,Fa[Ga++]=ic,ic=e,rc=r}function ty(e,r,a){Jn[ti++]=cr,Jn[ti++]=fr,Jn[ti++]=Ws,Ws=e;var l=cr;e=fr;var f=32-xe(l)-1;l&=~(1<<f),a+=1;var d=32-xe(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,cr=1<<32-xe(r)+f|a<<f|l,fr=d+e}else cr=1<<d|a<<f|l,fr=e}function Uh(e){e.return!==null&&(Zs(e,1),ty(e,1,0))}function jh(e){for(;e===ic;)ic=Fa[--Ga],Fa[Ga]=null,rc=Fa[--Ga],Fa[Ga]=null;for(;e===Ws;)Ws=Jn[--ti],Jn[ti]=null,fr=Jn[--ti],Jn[ti]=null,cr=Jn[--ti],Jn[ti]=null}var Sn=null,Te=null,Jt=!1,Js=null,Ni=!1,Bh=Error(s(519));function ta(e){var r=Error(s(418,""));throw cl(Wn(r,e)),Bh}function ey(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[me]=e,r[Wt]=l,a){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(a=0;a<Vl.length;a++)qt(Vl[a],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":qt("invalid",r),Us(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xa(r);break;case"select":qt("invalid",r);break;case"textarea":qt("invalid",r),js(r,l.value,l.defaultValue,l.children),xa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||v_(r.textContent,a)?(l.popover!=null&&(qt("beforetoggle",r),qt("toggle",r)),l.onScroll!=null&&qt("scroll",r),l.onScrollEnd!=null&&qt("scrollend",r),l.onClick!=null&&(r.onclick=Uc),r=!0):r=!1,r||ta(e)}function ny(e){for(Sn=e.return;Sn;)switch(Sn.tag){case 5:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:Sn=Sn.return}}function ll(e){if(e!==Sn)return!1;if(!Jt)return ny(e),Jt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||nm(e.type,e.memoizedProps)),a=!a),a&&Te&&ta(e),ny(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){Te=di(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}Te=null}}else r===27?(r=Te,ss(e.type)?(e=am,am=null,Te=e):Te=r):Te=Sn?di(e.stateNode.nextSibling):null;return!0}function ul(){Te=Sn=null,Jt=!1}function iy(){var e=Js;return e!==null&&(Nn===null?Nn=e:Nn.push.apply(Nn,e),Js=null),e}function cl(e){Js===null?Js=[e]:Js.push(e)}var zh=$(null),ea=null,hr=null;function Fr(e,r,a){Q(zh,r._currentValue),r._currentValue=a}function dr(e){e._currentValue=zh.current,et(zh)}function Hh(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function qh(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=f;for(var N=0;N<r.length;N++)if(b.context===r[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Hh(d.return,a,e),l||(E=null);break t}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Hh(E,a,e),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===e){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function fl(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;Pn(f.pendingProps.value,E.value)||(e!==null?e.push(b):e=[b])}}else if(f===ne.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Bl):e=[Bl])}f=f.return}e!==null&&qh(r,e,a,l),r.flags|=262144}function sc(e){for(e=e.firstContext;e!==null;){if(!Pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){ea=e,hr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fn(e){return ry(ea,e)}function ac(e,r){return ea===null&&na(e),ry(e,r)}function ry(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},hr===null){if(e===null)throw Error(s(308));hr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else hr=hr.next=r;return a}var Mw=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},Vw=i.unstable_scheduleCallback,kw=i.unstable_NormalPriority,ze={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new Mw,data:new Map,refCount:0}}function hl(e){e.refCount--,e.refCount===0&&Vw(kw,function(){e.controller.abort()})}var dl=null,Gh=0,Ka=0,$a=null;function Pw(e,r){if(dl===null){var a=dl=[];Gh=0,Ka=$d(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gh++,r.then(sy,sy),r}function sy(){if(--Gh===0&&dl!==null){$a!==null&&($a.status="fulfilled");var e=dl;dl=null,Ka=0,$a=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Lw(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ay=z.S;z.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Pw(e,r),ay!==null&&ay(e,r)};var ia=$(null);function Kh(){var e=ia.current;return e!==null?e:ce.pooledCache}function oc(e,r){r===null?Q(ia,ia.current):Q(ia,r.pool)}function oy(){var e=Kh();return e===null?null:{parent:ze._currentValue,pool:e}}var ml=Error(s(460)),ly=Error(s(474)),lc=Error(s(542)),$h={then:function(){}};function uy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uc(){}function cy(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(uc,uc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,hy(e),e;default:if(typeof r.status=="string")r.then(uc,uc);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,hy(e),e}throw pl=r,ml}}var pl=null;function fy(){if(pl===null)throw Error(s(459));var e=pl;return pl=null,e}function hy(e){if(e===ml||e===lc)throw Error(s(483))}var Gr=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $r(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ie&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ec(e),Zg(e,null,a),r}return tc(e,l,r,a),ec(e)}function gl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,de(e,a)}}function Xh(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Wh=!1;function yl(){if(Wh){var e=$a;if(e!==null)throw e}}function vl(e,r,a,l){Wh=!1;var f=e.updateQueue;Gr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,F=N.next;N.next=null,E===null?d=F:E.next=F,E=N;var W=e.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=F:b.next=F,W.lastBaseUpdate=N))}if(d!==null){var J=f.baseState;E=0,W=F=N=null,b=d;do{var G=b.lane&-536870913,K=G!==b.lane;if(K?(Yt&G)===G:(l&G)===G){G!==0&&G===Ka&&(Wh=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var It=e,wt=b;G=r;var le=a;switch(wt.tag){case 1:if(It=wt.payload,typeof It=="function"){J=It.call(le,J,G);break t}J=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=wt.payload,G=typeof It=="function"?It.call(le,J,G):It,G==null)break t;J=T({},J,G);break t;case 2:Gr=!0}}G=b.callback,G!==null&&(e.flags|=64,K&&(e.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(F=W=K,N=J):W=W.next=K,E|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(N=J),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),es|=E,e.lanes=E,e.memoizedState=J}}function dy(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function my(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dy(a[e],r)}var Ya=$(null),cc=$(0);function py(e,r){e=Er,Q(cc,e),Q(Ya,r),Er=e|r.baseLanes}function Zh(){Q(cc,Er),Q(Ya,Ya.current)}function Jh(){Er=cc.current,et(Ya),et(cc)}var Yr=0,Pt=null,ae=null,De=null,fc=!1,Qa=!1,ra=!1,hc=0,_l=0,Xa=null,Uw=0;function Re(){throw Error(s(321))}function td(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Pn(e[a],r[a]))return!1;return!0}function ed(e,r,a,l,f,d){return Yr=d,Pt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=e===null||e.memoizedState===null?Zy:Jy,ra=!1,d=a(l,f),ra=!1,Qa&&(d=yy(r,a,l,f)),gy(e),d}function gy(e){z.H=vc;var r=ae!==null&&ae.next!==null;if(Yr=0,De=ae=Pt=null,fc=!1,_l=0,Xa=null,r)throw Error(s(300));e===null||Qe||(e=e.dependencies,e!==null&&sc(e)&&(Qe=!0))}function yy(e,r,a,l){Pt=e;var f=0;do{if(Qa&&(Xa=null),_l=0,Qa=!1,25<=f)throw Error(s(301));if(f+=1,De=ae=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=Gw,d=r(a,l)}while(Qa);return d}function jw(){var e=z.H,r=e.useState()[0];return r=typeof r.then=="function"?El(r):r,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(Pt.flags|=1024),r}function nd(){var e=hc!==0;return hc=0,e}function id(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function rd(e){if(fc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}fc=!1}Yr=0,De=ae=Pt=null,Qa=!1,_l=hc=0,Xa=null}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Pt.memoizedState=De=e:De=De.next=e,De}function Me(){if(ae===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var r=De===null?Pt.memoizedState:De.next;if(r!==null)De=r,ae=e;else{if(e===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},De===null?Pt.memoizedState=De=e:De=De.next=e}return De}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(e){var r=_l;return _l+=1,Xa===null&&(Xa=[]),e=cy(Xa,e,r),r=Pt,(De===null?r.memoizedState:De.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?Zy:Jy),e}function dc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return El(e);if(e.$$typeof===nt)return fn(e)}throw Error(s(438,String(e)))}function ad(e){var r=null,a=Pt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Pt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=sd(),Pt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=V;return r.index++,a}function mr(e,r){return typeof r=="function"?r(e):r}function mc(e){var r=Me();return od(r,ae,e)}function od(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var b=E=null,N=null,F=r,W=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Yt&J)===J:(Yr&J)===J){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===Ka&&(W=!0);else if((Yr&G)===G){F=F.next,G===Ka&&(W=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(b=N=J,E=d):N=N.next=J,Pt.lanes|=G,es|=G;J=F.action,ra&&a(d,J),d=F.hasEagerState?F.eagerState:a(d,J)}else G={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(b=N=G,E=d):N=N.next=G,Pt.lanes|=J,es|=J;F=F.next}while(F!==null&&F!==r);if(N===null?E=d:N.next=b,!Pn(d,e.memoizedState)&&(Qe=!0,W&&(a=$a,a!==null)))throw a;e.memoizedState=d,e.baseState=E,e.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ld(e){var r=Me(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=e(d,E.action),E=E.next;while(E!==f);Pn(d,r.memoizedState)||(Qe=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function vy(e,r,a){var l=Pt,f=Me(),d=Jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!Pn((ae||f).memoizedState,a);E&&(f.memoizedState=a,Qe=!0),f=f.queue;var b=Ty.bind(null,l,f,e);if(Tl(2048,8,b,[e]),f.getSnapshot!==r||E||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,Wa(9,pc(),Ey.bind(null,l,f,a,r),null),ce===null)throw Error(s(349));d||(Yr&124)!==0||_y(l,r,a)}return a}function _y(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Pt.updateQueue,r===null?(r=sd(),Pt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Ey(e,r,a,l){r.value=a,r.getSnapshot=l,by(r)&&wy(e)}function Ty(e,r,a){return a(function(){by(r)&&wy(e)})}function by(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Pn(e,a)}catch{return!0}}function wy(e){var r=Ha(e,2);r!==null&&Hn(r,e,2)}function ud(e){var r=In();if(typeof e=="function"){var a=e;if(e=a(),ra){Ue(!0);try{a()}finally{Ue(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:e},r}function Sy(e,r,a,l){return e.baseState=a,od(e,ae,typeof l=="function"?l:mr)}function Bw(e,r,a,l,f){if(yc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};z.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Ay(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Ay(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=z.T,E={};z.T=E;try{var b=a(f,l),N=z.S;N!==null&&N(E,b),Ry(e,r,b)}catch(F){cd(e,r,F)}finally{z.T=d}}else try{d=a(f,l),Ry(e,r,d)}catch(F){cd(e,r,F)}}function Ry(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Cy(e,r,l)},function(l){return cd(e,r,l)}):Cy(e,r,a)}function Cy(e,r,a){r.status="fulfilled",r.value=a,Iy(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,Ay(e,a)))}function cd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Iy(r),r=r.next;while(r!==l)}e.action=null}function Iy(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function xy(e,r){return r}function Ny(e,r){if(Jt){var a=ce.formState;if(a!==null){t:{var l=Pt;if(Jt){if(Te){e:{for(var f=Te,d=Ni;f.nodeType!==8;){if(!d){f=null;break e}if(f=di(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Te=di(f.nextSibling),l=f.data==="F!";break t}}ta(l)}l=!1}l&&(r=a[0])}}return a=In(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:r},a.queue=l,a=Qy.bind(null,Pt,l),l.dispatch=a,l=ud(!1),d=pd.bind(null,Pt,!1,l.queue),l=In(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=Bw.bind(null,Pt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function Oy(e){var r=Me();return Dy(r,ae,e)}function Dy(e,r,a){if(r=od(e,r,xy)[0],e=mc(mr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=El(r)}catch(E){throw E===ml?lc:E}else l=r;r=Me();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Pt.flags|=2048,Wa(9,pc(),zw.bind(null,f,a),null)),[l,d,e]}function zw(e,r){e.action=r}function My(e){var r=Me(),a=ae;if(a!==null)return Dy(r,a,e);Me(),r=r.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Wa(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Pt.updateQueue,r===null&&(r=sd(),Pt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function pc(){return{destroy:void 0,resource:void 0}}function Vy(){return Me().memoizedState}function gc(e,r,a,l){var f=In();l=l===void 0?null:l,Pt.flags|=e,f.memoizedState=Wa(1|r,pc(),a,l)}function Tl(e,r,a,l){var f=Me();l=l===void 0?null:l;var d=f.memoizedState.inst;ae!==null&&l!==null&&td(l,ae.memoizedState.deps)?f.memoizedState=Wa(r,d,a,l):(Pt.flags|=e,f.memoizedState=Wa(1|r,d,a,l))}function ky(e,r){gc(8390656,8,e,r)}function Py(e,r){Tl(2048,8,e,r)}function Ly(e,r){return Tl(4,2,e,r)}function Uy(e,r){return Tl(4,4,e,r)}function jy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function By(e,r,a){a=a!=null?a.concat([e]):null,Tl(4,4,jy.bind(null,r,e),a)}function fd(){}function zy(e,r){var a=Me();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&td(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Hy(e,r){var a=Me();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&td(r,l[1]))return l[0];if(l=e(),ra){Ue(!0);try{e()}finally{Ue(!1)}}return a.memoizedState=[l,r],l}function hd(e,r,a){return a===void 0||(Yr&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=Gv(),Pt.lanes|=e,es|=e,a)}function qy(e,r,a,l){return Pn(a,r)?a:Ya.current!==null?(e=hd(e,a,l),Pn(e,r)||(Qe=!0),e):(Yr&42)===0?(Qe=!0,e.memoizedState=a):(e=Gv(),Pt.lanes|=e,es|=e,r)}function Fy(e,r,a,l,f){var d=it.p;it.p=d!==0&&8>d?d:8;var E=z.T,b={};z.T=b,pd(e,!1,r,a);try{var N=f(),F=z.S;if(F!==null&&F(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=Lw(N,l);bl(e,r,W,zn(e))}else bl(e,r,l,zn(e))}catch(J){bl(e,r,{then:function(){},status:"rejected",reason:J},zn())}finally{it.p=d,z.T=E}}function Hw(){}function dd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=Gy(e).queue;Fy(e,f,r,ct,a===null?Hw:function(){return Ky(e),a(l)})}function Gy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:ct},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function Ky(e){var r=Gy(e).next.queue;bl(e,r,{},zn())}function md(){return fn(Bl)}function $y(){return Me().memoizedState}function Yy(){return Me().memoizedState}function qw(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=zn();e=Kr(a);var l=$r(r,e,a);l!==null&&(Hn(l,r,a),gl(l,r,a)),r={cache:Fh()},e.payload=r;return}r=r.return}}function Fw(e,r,a){var l=zn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},yc(e)?Xy(r,a):(a=Vh(e,r,a,l),a!==null&&(Hn(a,e,l),Wy(a,r,l)))}function Qy(e,r,a){var l=zn();bl(e,r,a,l)}function bl(e,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(e))Xy(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,b=d(E,a);if(f.hasEagerState=!0,f.eagerState=b,Pn(b,E))return tc(e,r,f,0),ce===null&&Ju(),!1}catch{}finally{}if(a=Vh(e,r,f,l),a!==null)return Hn(a,e,l),Wy(a,r,l),!0}return!1}function pd(e,r,a,l){if(l={lane:2,revertLane:$d(),action:l,hasEagerState:!1,eagerState:null,next:null},yc(e)){if(r)throw Error(s(479))}else r=Vh(e,a,l,2),r!==null&&Hn(r,e,2)}function yc(e){var r=e.alternate;return e===Pt||r!==null&&r===Pt}function Xy(e,r){Qa=fc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Wy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,de(e,a)}}var vc={readContext:fn,use:dc,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re},Zy={readContext:fn,use:dc,useCallback:function(e,r){return In().memoizedState=[e,r===void 0?null:r],e},useContext:fn,useEffect:ky,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,gc(4194308,4,jy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return gc(4194308,4,e,r)},useInsertionEffect:function(e,r){gc(4,2,e,r)},useMemo:function(e,r){var a=In();r=r===void 0?null:r;var l=e();if(ra){Ue(!0);try{e()}finally{Ue(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=In();if(a!==void 0){var f=a(r);if(ra){Ue(!0);try{a(r)}finally{Ue(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Fw.bind(null,Pt,e),[l.memoizedState,e]},useRef:function(e){var r=In();return e={current:e},r.memoizedState=e},useState:function(e){e=ud(e);var r=e.queue,a=Qy.bind(null,Pt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(e,r){var a=In();return hd(a,e,r)},useTransition:function(){var e=ud(!1);return e=Fy.bind(null,Pt,e.queue,!0,!1),In().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Pt,f=In();if(Jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ce===null)throw Error(s(349));(Yt&124)!==0||_y(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,ky(Ty.bind(null,l,d,e),[e]),l.flags|=2048,Wa(9,pc(),Ey.bind(null,l,d,a,r),null),a},useId:function(){var e=In(),r=ce.identifierPrefix;if(Jt){var a=fr,l=cr;a=(l&~(1<<32-xe(l)-1)).toString(32)+a,r=""+r+"R"+a,a=hc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Uw++,r=""+r+"r"+a.toString(32)+"";return e.memoizedState=r},useHostTransitionStatus:md,useFormState:Ny,useActionState:Ny,useOptimistic:function(e){var r=In();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=pd.bind(null,Pt,!0,a),a.dispatch=r,[e,r]},useMemoCache:ad,useCacheRefresh:function(){return In().memoizedState=qw.bind(null,Pt)}},Jy={readContext:fn,use:dc,useCallback:zy,useContext:fn,useEffect:Py,useImperativeHandle:By,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:Hy,useReducer:mc,useRef:Vy,useState:function(){return mc(mr)},useDebugValue:fd,useDeferredValue:function(e,r){var a=Me();return qy(a,ae.memoizedState,e,r)},useTransition:function(){var e=mc(mr)[0],r=Me().memoizedState;return[typeof e=="boolean"?e:El(e),r]},useSyncExternalStore:vy,useId:$y,useHostTransitionStatus:md,useFormState:Oy,useActionState:Oy,useOptimistic:function(e,r){var a=Me();return Sy(a,ae,e,r)},useMemoCache:ad,useCacheRefresh:Yy},Gw={readContext:fn,use:dc,useCallback:zy,useContext:fn,useEffect:Py,useImperativeHandle:By,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:Hy,useReducer:ld,useRef:Vy,useState:function(){return ld(mr)},useDebugValue:fd,useDeferredValue:function(e,r){var a=Me();return ae===null?hd(a,e,r):qy(a,ae.memoizedState,e,r)},useTransition:function(){var e=ld(mr)[0],r=Me().memoizedState;return[typeof e=="boolean"?e:El(e),r]},useSyncExternalStore:vy,useId:$y,useHostTransitionStatus:md,useFormState:My,useActionState:My,useOptimistic:function(e,r){var a=Me();return ae!==null?Sy(a,ae,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:Yy},Za=null,wl=0;function _c(e){var r=wl;return wl+=1,Za===null&&(Za=[]),cy(Za,e,r)}function Sl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Ec(e,r){throw r.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function tv(e){var r=e._init;return r(e._payload)}function ev(e){function r(j,P){if(e){var q=j.deletions;q===null?(j.deletions=[P],j.flags|=16):q.push(P)}}function a(j,P){if(!e)return null;for(;P!==null;)r(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function f(j,P){return j=ur(j,P),j.index=0,j.sibling=null,j}function d(j,P,q){return j.index=q,e?(q=j.alternate,q!==null?(q=q.index,q<P?(j.flags|=67108866,P):q):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function E(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function b(j,P,q,Z){return P===null||P.tag!==6?(P=Ph(q,j.mode,Z),P.return=j,P):(P=f(P,q),P.return=j,P)}function N(j,P,q,Z){var gt=q.type;return gt===B?W(j,P,q.props.children,Z,q.key):P!==null&&(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&tv(gt)===P.type)?(P=f(P,q.props),Sl(P,q),P.return=j,P):(P=nc(q.type,q.key,q.props,null,j.mode,Z),Sl(P,q),P.return=j,P)}function F(j,P,q,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Lh(q,j.mode,Z),P.return=j,P):(P=f(P,q.children||[]),P.return=j,P)}function W(j,P,q,Z,gt){return P===null||P.tag!==7?(P=Xs(q,j.mode,Z,gt),P.return=j,P):(P=f(P,q),P.return=j,P)}function J(j,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ph(""+P,j.mode,q),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return q=nc(P.type,P.key,P.props,null,j.mode,q),Sl(q,P),q.return=j,q;case M:return P=Lh(P,j.mode,q),P.return=j,P;case R:var Z=P._init;return P=Z(P._payload),J(j,P,q)}if(Mt(P)||L(P))return P=Xs(P,j.mode,q,null),P.return=j,P;if(typeof P.then=="function")return J(j,_c(P),q);if(P.$$typeof===nt)return J(j,ac(j,P),q);Ec(j,P)}return null}function G(j,P,q,Z){var gt=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return gt!==null?null:b(j,P,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===gt?N(j,P,q,Z):null;case M:return q.key===gt?F(j,P,q,Z):null;case R:return gt=q._init,q=gt(q._payload),G(j,P,q,Z)}if(Mt(q)||L(q))return gt!==null?null:W(j,P,q,Z,null);if(typeof q.then=="function")return G(j,P,_c(q),Z);if(q.$$typeof===nt)return G(j,P,ac(j,q),Z);Ec(j,q)}return null}function K(j,P,q,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,b(P,j,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return j=j.get(Z.key===null?q:Z.key)||null,N(P,j,Z,gt);case M:return j=j.get(Z.key===null?q:Z.key)||null,F(P,j,Z,gt);case R:var jt=Z._init;return Z=jt(Z._payload),K(j,P,q,Z,gt)}if(Mt(Z)||L(Z))return j=j.get(q)||null,W(P,j,Z,gt,null);if(typeof Z.then=="function")return K(j,P,q,_c(Z),gt);if(Z.$$typeof===nt)return K(j,P,q,ac(P,Z),gt);Ec(P,Z)}return null}function It(j,P,q,Z){for(var gt=null,jt=null,vt=P,At=P=0,We=null;vt!==null&&At<q.length;At++){vt.index>At?(We=vt,vt=null):We=vt.sibling;var Zt=G(j,vt,q[At],Z);if(Zt===null){vt===null&&(vt=We);break}e&&vt&&Zt.alternate===null&&r(j,vt),P=d(Zt,P,At),jt===null?gt=Zt:jt.sibling=Zt,jt=Zt,vt=We}if(At===q.length)return a(j,vt),Jt&&Zs(j,At),gt;if(vt===null){for(;At<q.length;At++)vt=J(j,q[At],Z),vt!==null&&(P=d(vt,P,At),jt===null?gt=vt:jt.sibling=vt,jt=vt);return Jt&&Zs(j,At),gt}for(vt=l(vt);At<q.length;At++)We=K(vt,j,At,q[At],Z),We!==null&&(e&&We.alternate!==null&&vt.delete(We.key===null?At:We.key),P=d(We,P,At),jt===null?gt=We:jt.sibling=We,jt=We);return e&&vt.forEach(function(cs){return r(j,cs)}),Jt&&Zs(j,At),gt}function wt(j,P,q,Z){if(q==null)throw Error(s(151));for(var gt=null,jt=null,vt=P,At=P=0,We=null,Zt=q.next();vt!==null&&!Zt.done;At++,Zt=q.next()){vt.index>At?(We=vt,vt=null):We=vt.sibling;var cs=G(j,vt,Zt.value,Z);if(cs===null){vt===null&&(vt=We);break}e&&vt&&cs.alternate===null&&r(j,vt),P=d(cs,P,At),jt===null?gt=cs:jt.sibling=cs,jt=cs,vt=We}if(Zt.done)return a(j,vt),Jt&&Zs(j,At),gt;if(vt===null){for(;!Zt.done;At++,Zt=q.next())Zt=J(j,Zt.value,Z),Zt!==null&&(P=d(Zt,P,At),jt===null?gt=Zt:jt.sibling=Zt,jt=Zt);return Jt&&Zs(j,At),gt}for(vt=l(vt);!Zt.done;At++,Zt=q.next())Zt=K(vt,j,At,Zt.value,Z),Zt!==null&&(e&&Zt.alternate!==null&&vt.delete(Zt.key===null?At:Zt.key),P=d(Zt,P,At),jt===null?gt=Zt:jt.sibling=Zt,jt=Zt);return e&&vt.forEach(function(KS){return r(j,KS)}),Jt&&Zs(j,At),gt}function le(j,P,q,Z){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:t:{for(var gt=q.key;P!==null;){if(P.key===gt){if(gt=q.type,gt===B){if(P.tag===7){a(j,P.sibling),Z=f(P,q.props.children),Z.return=j,j=Z;break t}}else if(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&tv(gt)===P.type){a(j,P.sibling),Z=f(P,q.props),Sl(Z,q),Z.return=j,j=Z;break t}a(j,P);break}else r(j,P);P=P.sibling}q.type===B?(Z=Xs(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=nc(q.type,q.key,q.props,null,j.mode,Z),Sl(Z,q),Z.return=j,j=Z)}return E(j);case M:t:{for(gt=q.key;P!==null;){if(P.key===gt)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(j,P.sibling),Z=f(P,q.children||[]),Z.return=j,j=Z;break t}else{a(j,P);break}else r(j,P);P=P.sibling}Z=Lh(q,j.mode,Z),Z.return=j,j=Z}return E(j);case R:return gt=q._init,q=gt(q._payload),le(j,P,q,Z)}if(Mt(q))return It(j,P,q,Z);if(L(q)){if(gt=L(q),typeof gt!="function")throw Error(s(150));return q=gt.call(q),wt(j,P,q,Z)}if(typeof q.then=="function")return le(j,P,_c(q),Z);if(q.$$typeof===nt)return le(j,P,ac(j,q),Z);Ec(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(j,P.sibling),Z=f(P,q),Z.return=j,j=Z):(a(j,P),Z=Ph(q,j.mode,Z),Z.return=j,j=Z),E(j)):a(j,P)}return function(j,P,q,Z){try{wl=0;var gt=le(j,P,q,Z);return Za=null,gt}catch(vt){if(vt===ml||vt===lc)throw vt;var jt=Ln(29,vt,null,j.mode);return jt.lanes=Z,jt.return=j,jt}finally{}}}var Ja=ev(!0),nv=ev(!1),ei=$(null),Oi=null;function Qr(e){var r=e.alternate;Q(He,He.current&1),Q(ei,e),Oi===null&&(r===null||Ya.current!==null||r.memoizedState!==null)&&(Oi=e)}function iv(e){if(e.tag===22){if(Q(He,He.current),Q(ei,e),Oi===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(Oi=e)}}else Xr()}function Xr(){Q(He,He.current),Q(ei,ei.current)}function pr(e){et(ei),Oi===e&&(Oi=null),et(He)}var He=$(0);function Tc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function gd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=zn(),f=Kr(l);f.payload=r,a!=null&&(f.callback=a),r=$r(e,f,l),r!==null&&(Hn(r,e,l),gl(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=zn(),f=Kr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=$r(e,f,l),r!==null&&(Hn(r,e,l),gl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=zn(),l=Kr(a);l.tag=2,r!=null&&(l.callback=r),r=$r(e,l,a),r!==null&&(Hn(r,e,a),gl(r,e,a))}};function rv(e,r,a,l,f,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!al(a,l)||!al(f,d):!0}function sv(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&yd.enqueueReplaceState(r,r.state,null)}function sa(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var bc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function av(e){bc(e)}function ov(e){console.error(e)}function lv(e){bc(e)}function wc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function uv(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vd(e,r,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(e,r)},a}function cv(e){return e=Kr(e),e.tag=3,e}function fv(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){uv(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){uv(r,a,l),typeof f!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Kw(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&fl(r,a,f,!0),a=ei.current,a!==null){switch(a.tag){case 13:return Oi===null?Hd():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===$h?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Fd(e,l,f)),!1;case 22:return a.flags|=65536,l===$h?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Fd(e,l,f)),!1}throw Error(s(435,a.tag))}return Fd(e,l,f),Hd(),!1}if(Jt)return r=ei.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Bh&&(e=Error(s(422),{cause:l}),cl(Wn(e,a)))):(l!==Bh&&(r=Error(s(423),{cause:l}),cl(Wn(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Wn(l,a),f=vd(e.stateNode,l,f),Xh(e,f),be!==4&&(be=2)),!1;var d=Error(s(520),{cause:l});if(d=Wn(d,a),Ol===null?Ol=[d]:Ol.push(d),be!==4&&(be=2),r===null)return!0;l=Wn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=vd(a.stateNode,l,e),Xh(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ns===null||!ns.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=cv(f),fv(f,e,a,l),Xh(a,f),!1}a=a.return}while(a!==null);return!1}var hv=Error(s(461)),Qe=!1;function rn(e,r,a,l){r.child=e===null?nv(r,null,a,l):Ja(r,e.child,a,l)}function dv(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return na(r),l=ed(e,r,a,E,d,f),b=nd(),e!==null&&!Qe?(id(e,r,f),gr(e,r,f)):(Jt&&b&&Uh(r),r.flags|=1,rn(e,r,l,f),r.child)}function mv(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!kh(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,pv(e,r,d,l,f)):(e=nc(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Rd(e,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(E,l)&&e.ref===r.ref)return gr(e,r,f)}return r.flags|=1,e=ur(d,l),e.ref=r.ref,e.return=r,r.child=e}function pv(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(al(d,l)&&e.ref===r.ref)if(Qe=!1,r.pendingProps=l=d,Rd(e,f))(e.flags&131072)!==0&&(Qe=!0);else return r.lanes=e.lanes,gr(e,r,f)}return _d(e,r,a,l,f)}function gv(e,r,a){var l=r.pendingProps,f=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(f=r.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return yv(e,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&oc(r,d!==null?d.cachePool:null),d!==null?py(r,d):Zh(),iv(r);else return r.lanes=r.childLanes=536870912,yv(e,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(oc(r,d.cachePool),py(r,d),Xr(),r.memoizedState=null):(e!==null&&oc(r,null),Zh(),Xr());return rn(e,r,f,a),r.child}function yv(e,r,a,l){var f=Kh();return f=f===null?null:{parent:ze._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},e!==null&&oc(r,null),Zh(),iv(r),e!==null&&fl(e,r,l,!0),null}function Sc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function _d(e,r,a,l,f){return na(r),a=ed(e,r,a,l,void 0,f),l=nd(),e!==null&&!Qe?(id(e,r,f),gr(e,r,f)):(Jt&&l&&Uh(r),r.flags|=1,rn(e,r,a,f),r.child)}function vv(e,r,a,l,f,d){return na(r),r.updateQueue=null,a=yy(r,l,a,f),gy(e),l=nd(),e!==null&&!Qe?(id(e,r,d),gr(e,r,d)):(Jt&&l&&Uh(r),r.flags|=1,rn(e,r,a,d),r.child)}function _v(e,r,a,l,f){if(na(r),r.stateNode===null){var d=qa,E=a.contextType;typeof E=="object"&&E!==null&&(d=fn(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Yh(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?fn(E):qa,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(gd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&yd.enqueueReplaceState(d,d.state,null),vl(r,l,d,f),yl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var b=r.memoizedProps,N=sa(a,b);d.props=N;var F=d.context,W=a.contextType;E=qa,typeof W=="object"&&W!==null&&(E=fn(W));var J=a.getDerivedStateFromProps;W=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==E)&&sv(r,d,l,E),Gr=!1;var G=r.memoizedState;d.state=G,vl(r,l,d,f),yl(),F=r.memoizedState,b||G!==F||Gr?(typeof J=="function"&&(gd(r,a,J,l),F=r.memoizedState),(N=Gr||rv(r,a,N,l,G,F,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=E,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Qh(e,r),E=r.memoizedProps,W=sa(a,E),d.props=W,J=r.pendingProps,G=d.context,F=a.contextType,N=qa,typeof F=="object"&&F!==null&&(N=fn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||G!==N)&&sv(r,d,l,N),Gr=!1,G=r.memoizedState,d.state=G,vl(r,l,d,f),yl();var K=r.memoizedState;E!==J||G!==K||Gr||e!==null&&e.dependencies!==null&&sc(e.dependencies)?(typeof b=="function"&&(gd(r,a,b,l),K=r.memoizedState),(W=Gr||rv(r,a,W,l,G,K,N)||e!==null&&e.dependencies!==null&&sc(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=N,l=W):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Sc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Ja(r,e.child,null,f),r.child=Ja(r,null,a,f)):rn(e,r,a,f),r.memoizedState=d.state,e=r.child):e=gr(e,r,f),e}function Ev(e,r,a,l){return ul(),r.flags|=256,rn(e,r,a,l),r.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(e){return{baseLanes:e,cachePool:oy()}}function bd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=ni),e}function Tv(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(He.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,e===null){if(Jt){if(f?Qr(r):Xr(),Jt){var b=Te,N;if(N=b){t:{for(N=b,b=Ni;N.nodeType!==8;){if(!b){b=null;break t}if(N=di(N.nextSibling),N===null){b=null;break t}}b=N}b!==null?(r.memoizedState={dehydrated:b,treeContext:Ws!==null?{id:cr,overflow:fr}:null,retryLane:536870912,hydrationErrors:null},N=Ln(18,null,null,0),N.stateNode=b,N.return=r,r.child=N,Sn=r,Te=null,N=!0):N=!1}N||ta(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return sm(b)?r.lanes=32:r.lanes=536870912,null;pr(r)}return b=l.children,l=l.fallback,f?(Xr(),f=r.mode,b=Ac({mode:"hidden",children:b},f),l=Xs(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=Td(a),f.childLanes=bd(e,E,a),r.memoizedState=Ed,l):(Qr(r),wd(r,b))}if(N=e.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(d)r.flags&256?(Qr(r),r.flags&=-257,r=Sd(e,r,a)):r.memoizedState!==null?(Xr(),r.child=e.child,r.flags|=128,r=null):(Xr(),f=l.fallback,b=r.mode,l=Ac({mode:"visible",children:l.children},b),f=Xs(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ja(r,e.child,null,a),l=r.child,l.memoizedState=Td(a),l.childLanes=bd(e,E,a),r.memoizedState=Ed,r=f);else if(Qr(r),sm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,cl({value:l,source:null,stack:null}),r=Sd(e,r,a)}else if(Qe||fl(e,r,a,!1),E=(a&e.childLanes)!==0,Qe||E){if(E=ce,E!==null&&(l=a&-a,l=(l&42)!==0?1:fe(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Ha(e,l),Hn(E,e,l),hv;b.data==="$?"||Hd(),r=Sd(e,r,a)}else b.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=N.treeContext,Te=di(b.nextSibling),Sn=r,Jt=!0,Js=null,Ni=!1,e!==null&&(Jn[ti++]=cr,Jn[ti++]=fr,Jn[ti++]=Ws,cr=e.id,fr=e.overflow,Ws=r),r=wd(r,l.children),r.flags|=4096);return r}return f?(Xr(),f=l.fallback,b=r.mode,N=e.child,F=N.sibling,l=ur(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?f=ur(F,f):(f=Xs(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=e.child.memoizedState,b===null?b=Td(a):(N=b.cachePool,N!==null?(F=ze._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=oy(),b={baseLanes:b.baseLanes|a,cachePool:N}),f.memoizedState=b,f.childLanes=bd(e,E,a),r.memoizedState=Ed,l):(Qr(r),a=e.child,e=a.sibling,a=ur(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(E=r.deletions,E===null?(r.deletions=[e],r.flags|=16):E.push(e)),r.child=a,r.memoizedState=null,a)}function wd(e,r){return r=Ac({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Ac(e,r){return e=Ln(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Sd(e,r,a){return Ja(r,e.child,null,a),e=wd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function bv(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Hh(e.return,r,a)}function Ad(e,r,a,l,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function wv(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(rn(e,r,l.children,a),l=He.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bv(e,a,r);else if(e.tag===19)bv(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Q(He,l),f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&Tc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Ad(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&Tc(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Ad(r,!0,a,null,d);break;case"together":Ad(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),es|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(fl(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=ur(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ur(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Rd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&sc(e)))}function $w(e,r,a){switch(r.tag){case 3:Bt(r,r.stateNode.containerInfo),Fr(r,ze,e.memoizedState.cache),ul();break;case 27:case 5:Se(r);break;case 4:Bt(r,r.stateNode.containerInfo);break;case 10:Fr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Qr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Tv(e,r,a):(Qr(r),e=gr(e,r,a),e!==null?e.sibling:null);Qr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(fl(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return wv(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(He,He.current),l)break;return null;case 22:case 23:return r.lanes=0,gv(e,r,a);case 24:Fr(r,ze,e.memoizedState.cache)}return gr(e,r,a)}function Sv(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Qe=!0;else{if(!Rd(e,a)&&(r.flags&128)===0)return Qe=!1,$w(e,r,a);Qe=(e.flags&131072)!==0}else Qe=!1,Jt&&(r.flags&1048576)!==0&&ty(r,rc,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")kh(l)?(e=sa(l,e),r.tag=1,r=_v(null,r,l,e,a)):(r.tag=0,r=_d(null,r,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===dt){r.tag=11,r=dv(null,r,l,e,a);break t}else if(f===O){r.tag=14,r=mv(null,r,l,e,a);break t}}throw r=Et(l)||l,Error(s(306,r,""))}}return r;case 0:return _d(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=sa(l,r.pendingProps),_v(e,r,l,f,a);case 3:t:{if(Bt(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Qh(e,r),vl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Fr(r,ze,l),l!==d.cache&&qh(r,[ze],a,!0),yl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Ev(e,r,l,a);break t}else if(l!==f){f=Wn(Error(s(424)),r),cl(f),r=Ev(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Te=di(e.firstChild),Sn=r,Jt=!0,Js=null,Ni=!0,a=nv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ul(),l===f){r=gr(e,r,a);break t}rn(e,r,l,a)}r=r.child}return r;case 26:return Sc(e,r),e===null?(a=I_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Jt||(a=r.type,e=r.pendingProps,l=jc(mt.current).createElement(a),l[me]=r,l[Wt]=e,an(l,a,e),Ae(l),r.stateNode=l):r.memoizedState=I_(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Se(r),e===null&&Jt&&(l=r.stateNode=A_(r.type,r.pendingProps,mt.current),Sn=r,Ni=!0,f=Te,ss(r.type)?(am=f,Te=di(l.firstChild)):Te=f),rn(e,r,r.pendingProps.children,a),Sc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Jt&&((f=l=Te)&&(l=TS(l,r.type,r.pendingProps,Ni),l!==null?(r.stateNode=l,Sn=r,Te=di(l.firstChild),Ni=!1,f=!0):f=!1),f||ta(r)),Se(r),f=r.type,d=r.pendingProps,E=e!==null?e.memoizedProps:null,l=d.children,nm(f,d)?l=null:E!==null&&nm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=ed(e,r,jw,null,null,a),Bl._currentValue=f),Sc(e,r),rn(e,r,l,a),r.child;case 6:return e===null&&Jt&&((e=a=Te)&&(a=bS(a,r.pendingProps,Ni),a!==null?(r.stateNode=a,Sn=r,Te=null,e=!0):e=!1),e||ta(r)),null;case 13:return Tv(e,r,a);case 4:return Bt(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Ja(r,null,l,a):rn(e,r,l,a),r.child;case 11:return dv(e,r,r.type,r.pendingProps,a);case 7:return rn(e,r,r.pendingProps,a),r.child;case 8:return rn(e,r,r.pendingProps.children,a),r.child;case 12:return rn(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Fr(r,r.type,l.value),rn(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,na(r),f=fn(f),l=l(f),r.flags|=1,rn(e,r,l,a),r.child;case 14:return mv(e,r,r.type,r.pendingProps,a);case 15:return pv(e,r,r.type,r.pendingProps,a);case 19:return wv(e,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},e===null?(a=Ac(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ur(e.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return gv(e,r,a);case 24:return na(r),l=fn(ze),e===null?(f=Kh(),f===null&&(f=ce,d=Fh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Yh(r),Fr(r,ze,f)):((e.lanes&a)!==0&&(Qh(e,r),vl(r,null,null,a),yl()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Fr(r,ze,l)):(l=d.cache,Fr(r,ze,l),l!==f.cache&&qh(r,[ze],a,!0))),rn(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function yr(e){e.flags|=4}function Av(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(r)){if(r=ei.current,r!==null&&((Yt&4194048)===Yt?Oi!==null:(Yt&62914560)!==Yt&&(Yt&536870912)===0||r!==Oi))throw pl=$h,ly;e.flags|=8192}}function Rc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Ms():536870912,e.lanes|=r,io|=r)}function Al(e,r){if(!Jt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ye(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function Yw(e,r,a){var l=r.pendingProps;switch(jh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(r),null;case 1:return ye(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),dr(ze),_e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ll(r)?yr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,iy())),ye(r),null;case 26:return a=r.memoizedState,e===null?(yr(r),a!==null?(ye(r),Av(r,a)):(ye(r),r.flags&=-16777217)):a?a!==e.memoizedState?(yr(r),ye(r),Av(r,a)):(ye(r),r.flags&=-16777217):(e.memoizedProps!==l&&yr(r),ye(r),r.flags&=-16777217),null;case 27:cn(r),a=mt.current;var f=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&yr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ye(r),null}e=ut.current,ll(r)?ey(r):(e=A_(f,l,a),r.stateNode=e,yr(r))}return ye(r),null;case 5:if(cn(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&yr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ye(r),null}if(e=ut.current,ll(r))ey(r);else{switch(f=jc(mt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[me]=r,e[Wt]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=e;t:switch(an(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&yr(r)}}return ye(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&yr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=mt.current,ll(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[me]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||v_(e.nodeValue,a)),e||ta(r)}else e=jc(e).createTextNode(l),e[me]=r,r.stateNode=e}return ye(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=ll(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[me]=r}else ul(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ye(r),f=!1}else f=iy(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(pr(r),r):(pr(r),null)}if(pr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),Rc(r,r.updateQueue),ye(r),null;case 4:return _e(),e===null&&Wd(r.stateNode.containerInfo),ye(r),null;case 10:return dr(r.type),ye(r),null;case 19:if(et(He),f=r.memoizedState,f===null)return ye(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)Al(f,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=Tc(e),d!==null){for(r.flags|=128,Al(f,!1),e=d.updateQueue,r.updateQueue=e,Rc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)Jg(a,e),a=a.sibling;return Q(He,He.current&1|2),r.child}e=e.sibling}f.tail!==null&&he()>xc&&(r.flags|=128,l=!0,Al(f,!1),r.lanes=4194304)}else{if(!l)if(e=Tc(d),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,Rc(r,e),Al(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Jt)return ye(r),null}else 2*he()-f.renderingStartTime>xc&&a!==536870912&&(r.flags|=128,l=!0,Al(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(e=f.last,e!==null?e.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=he(),r.sibling=null,e=He.current,Q(He,l?e&1|2:e&1),r):(ye(r),null);case 22:case 23:return pr(r),Jh(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ye(r),r.subtreeFlags&6&&(r.flags|=8192)):ye(r),a=r.updateQueue,a!==null&&Rc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&et(ia),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),dr(ze),ye(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Qw(e,r){switch(jh(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return dr(ze),_e(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return cn(r),null;case 13:if(pr(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ul()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return et(He),null;case 4:return _e(),null;case 10:return dr(r.type),null;case 22:case 23:return pr(r),Jh(),e!==null&&et(ia),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return dr(ze),null;case 25:return null;default:return null}}function Rv(e,r){switch(jh(r),r.tag){case 3:dr(ze),_e();break;case 26:case 27:case 5:cn(r);break;case 4:_e();break;case 13:pr(r);break;case 19:et(He);break;case 10:dr(r.type);break;case 22:case 23:pr(r),Jh(),e!==null&&et(ia);break;case 24:dr(ze)}}function Rl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){ue(r,r.return,b)}}function Wr(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var N=a,F=b;try{F()}catch(W){ue(f,N,W)}}}l=l.next}while(l!==d)}}catch(W){ue(r,r.return,W)}}function Cv(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{my(r,a)}catch(l){ue(e,e.return,l)}}}function Iv(e,r,a){a.props=sa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ue(e,r,l)}}function Cl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){ue(e,r,f)}}function Di(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ue(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ue(e,r,f)}else a.current=null}function xv(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ue(e,e.return,f)}}function Cd(e,r,a){try{var l=e.stateNode;gS(l,e.type,a,r),l[Wt]=r}catch(f){ue(e,e.return,f)}}function Nv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ss(e.type)||e.tag===4}function Id(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Nv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ss(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Uc));else if(l!==4&&(l===27&&ss(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(xd(e,r,a),e=e.sibling;e!==null;)xd(e,r,a),e=e.sibling}function Cc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&ss(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Cc(e,r,a),e=e.sibling;e!==null;)Cc(e,r,a),e=e.sibling}function Ov(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,l,a),r[me]=e,r[Wt]=a}catch(d){ue(e,e.return,d)}}var vr=!1,Ce=!1,Nd=!1,Dv=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Xw(e,r){if(e=e.containerInfo,tm=Gc,e=qg(e),Ih(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var E=0,b=-1,N=-1,F=0,W=0,J=e,G=null;e:for(;;){for(var K;J!==a||f!==0&&J.nodeType!==3||(b=E+f),J!==d||l!==0&&J.nodeType!==3||(N=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(K=J.firstChild)!==null;)G=J,J=K;for(;;){if(J===e)break e;if(G===a&&++F===f&&(b=E),G===d&&++W===l&&(N=E),(K=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=K}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:e,selectionRange:a},Gc=!1,Xe=r;Xe!==null;)if(r=Xe,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,Xe=e;else for(;Xe!==null;){switch(r=Xe,d=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var It=sa(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(It,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(wt){ue(a,a.return,wt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)rm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Xe=e;break}Xe=r.return}}function Mv(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(e,a),l&4&&Rl(5,a);break;case 1:if(Zr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(E){ue(a,a.return,E)}else{var f=sa(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(E){ue(a,a.return,E)}}l&64&&Cv(a),l&512&&Cl(a,a.return);break;case 3:if(Zr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{my(e,r)}catch(E){ue(a,a.return,E)}}break;case 27:r===null&&l&4&&Ov(a);case 26:case 5:Zr(e,a),r===null&&l&4&&xv(a),l&512&&Cl(a,a.return);break;case 12:Zr(e,a);break;case 13:Zr(e,a),l&4&&Pv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=sS.bind(null,a),wS(e,a))));break;case 22:if(l=a.memoizedState!==null||vr,!l){r=r!==null&&r.memoizedState!==null||Ce,f=vr;var d=Ce;vr=l,(Ce=r)&&!d?Jr(e,a,(a.subtreeFlags&8772)!==0):Zr(e,a),vr=f,Ce=d}break;case 30:break;default:Zr(e,a)}}function Vv(e){var r=e.alternate;r!==null&&(e.alternate=null,Vv(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Br(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,xn=!1;function _r(e,r,a){for(a=a.child;a!==null;)kv(e,r,a),a=a.sibling}function kv(e,r,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(yt,a)}catch{}switch(a.tag){case 26:Ce||Di(a,r),_r(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Di(a,r);var l=ge,f=xn;ss(a.type)&&(ge=a.stateNode,xn=!1),_r(e,r,a),Pl(a.stateNode),ge=l,xn=f;break;case 5:Ce||Di(a,r);case 6:if(l=ge,f=xn,ge=null,_r(e,r,a),ge=l,xn=f,ge!==null)if(xn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(a.stateNode)}catch(d){ue(a,r,d)}else try{ge.removeChild(a.stateNode)}catch(d){ue(a,r,d)}break;case 18:ge!==null&&(xn?(e=ge,w_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fl(e)):w_(ge,a.stateNode));break;case 4:l=ge,f=xn,ge=a.stateNode.containerInfo,xn=!0,_r(e,r,a),ge=l,xn=f;break;case 0:case 11:case 14:case 15:Ce||Wr(2,a,r),Ce||Wr(4,a,r),_r(e,r,a);break;case 1:Ce||(Di(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Iv(a,r,l)),_r(e,r,a);break;case 21:_r(e,r,a);break;case 22:Ce=(l=Ce)||a.memoizedState!==null,_r(e,r,a),Ce=l;break;default:_r(e,r,a)}}function Pv(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fl(e)}catch(a){ue(r,r.return,a)}}function Ww(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Dv),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Dv),r;default:throw Error(s(435,e.tag))}}function Od(e,r){var a=Ww(e);r.forEach(function(l){var f=aS.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function Un(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,E=r,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(ss(b.type)){ge=b.stateNode,xn=!1;break t}break;case 5:ge=b.stateNode,xn=!1;break t;case 3:case 4:ge=b.stateNode.containerInfo,xn=!0;break t}b=b.return}if(ge===null)throw Error(s(160));kv(d,E,f),ge=null,xn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Lv(r,e),r=r.sibling}var hi=null;function Lv(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Un(r,e),jn(e),l&4&&(Wr(3,e,e.return),Rl(3,e),Wr(5,e,e.return));break;case 1:Un(r,e),jn(e),l&512&&(Ce||a===null||Di(a,a.return)),l&64&&vr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=hi;if(Un(r,e),jn(e),l&512&&(Ce||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Vs]||d[me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),an(d,l,a),d[me]=e,Ae(d),l=d;break t;case"link":var E=O_("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break e}}d=f.createElement(l),an(d,l,a),f.head.appendChild(d);break;case"meta":if(E=O_("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break e}}d=f.createElement(l),an(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[me]=e,Ae(d),l=d}e.stateNode=l}else D_(f,e.type,e.stateNode);else e.stateNode=N_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?D_(f,e.type,e.stateNode):N_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Cd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Un(r,e),jn(e),l&512&&(Ce||a===null||Di(a,a.return)),a!==null&&l&4&&Cd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Un(r,e),jn(e),l&512&&(Ce||a===null||Di(a,a.return)),e.flags&32){f=e.stateNode;try{$n(f,"")}catch(K){ue(e,e.return,K)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Cd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Nd=!0);break;case 6:if(Un(r,e),jn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(K){ue(e,e.return,K)}}break;case 3:if(Hc=null,f=hi,hi=Bc(r.containerInfo),Un(r,e),hi=f,jn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(r.containerInfo)}catch(K){ue(e,e.return,K)}Nd&&(Nd=!1,Uv(e));break;case 4:l=hi,hi=Bc(e.stateNode.containerInfo),Un(r,e),jn(e),hi=l;break;case 12:Un(r,e),jn(e);break;case 13:Un(r,e),jn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ld=he()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Od(e,l)));break;case 22:f=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=vr,W=Ce;if(vr=F||f,Ce=W||N,Un(r,e),Ce=W,vr=F,jn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||vr||Ce||aa(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=N.stateNode;var J=N.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){ue(N,N.return,K)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(K){ue(N,N.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Od(e,a))));break;case 19:Un(r,e),jn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Od(e,l)));break;case 30:break;case 21:break;default:Un(r,e),jn(e)}}function jn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(Nv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Id(e);Cc(e,d,f);break;case 5:var E=a.stateNode;a.flags&32&&($n(E,""),a.flags&=-33);var b=Id(e);Cc(e,b,E);break;case 3:case 4:var N=a.stateNode.containerInfo,F=Id(e);xd(e,F,N);break;default:throw Error(s(161))}}catch(W){ue(e,e.return,W)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Uv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Uv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Zr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Mv(e,r.alternate,r),r=r.sibling}function aa(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Wr(4,r,r.return),aa(r);break;case 1:Di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Iv(r,r.return,a),aa(r);break;case 27:Pl(r.stateNode);case 26:case 5:Di(r,r.return),aa(r);break;case 22:r.memoizedState===null&&aa(r);break;case 30:aa(r);break;default:aa(r)}e=e.sibling}}function Jr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Jr(f,d,a),Rl(4,d);break;case 1:if(Jr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){ue(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)dy(N[f],b)}catch(F){ue(l,l.return,F)}}a&&E&64&&Cv(d),Cl(d,d.return);break;case 27:Ov(d);case 26:case 5:Jr(f,d,a),a&&l===null&&E&4&&xv(d),Cl(d,d.return);break;case 12:Jr(f,d,a);break;case 13:Jr(f,d,a),a&&E&4&&Pv(f,d);break;case 22:d.memoizedState===null&&Jr(f,d,a),Cl(d,d.return);break;case 30:break;default:Jr(f,d,a)}r=r.sibling}}function Dd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&hl(a))}function Md(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&hl(e))}function Mi(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jv(e,r,a,l),r=r.sibling}function jv(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(e,r,a,l),f&2048&&Rl(9,r);break;case 1:Mi(e,r,a,l);break;case 3:Mi(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&hl(e)));break;case 12:if(f&2048){Mi(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ue(r,r.return,N)}}else Mi(e,r,a,l);break;case 13:Mi(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?Mi(e,r,a,l):Il(e,r):d._visibility&2?Mi(e,r,a,l):(d._visibility|=2,to(e,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Dd(E,r);break;case 24:Mi(e,r,a,l),f&2048&&Md(r.alternate,r);break;default:Mi(e,r,a,l)}}function to(e,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=e,E=r,b=a,N=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:to(d,E,b,N,f),Rl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?to(d,E,b,N,f):Il(d,E):(W._visibility|=2,to(d,E,b,N,f)),f&&F&2048&&Dd(E.alternate,E);break;case 24:to(d,E,b,N,f),f&&F&2048&&Md(E.alternate,E);break;default:to(d,E,b,N,f)}r=r.sibling}}function Il(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:Il(a,l),f&2048&&Dd(l.alternate,l);break;case 24:Il(a,l),f&2048&&Md(l.alternate,l);break;default:Il(a,l)}r=r.sibling}}var xl=8192;function eo(e){if(e.subtreeFlags&xl)for(e=e.child;e!==null;)Bv(e),e=e.sibling}function Bv(e){switch(e.tag){case 26:eo(e),e.flags&xl&&e.memoizedState!==null&&PS(hi,e.memoizedState,e.memoizedProps);break;case 5:eo(e);break;case 3:case 4:var r=hi;hi=Bc(e.stateNode.containerInfo),eo(e),hi=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=xl,xl=16777216,eo(e),xl=r):eo(e));break;default:eo(e)}}function zv(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Nl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xe=l,qv(l,e)}zv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hv(e),e=e.sibling}function Hv(e){switch(e.tag){case 0:case 11:case 15:Nl(e),e.flags&2048&&Wr(9,e,e.return);break;case 3:Nl(e);break;case 12:Nl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Ic(e)):Nl(e);break;default:Nl(e)}}function Ic(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xe=l,qv(l,e)}zv(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Wr(8,r,r.return),Ic(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(r));break;default:Ic(r)}e=e.sibling}}function qv(e,r){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:Wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xe=l;else t:for(a=e;Xe!==null;){l=Xe;var f=l.sibling,d=l.return;if(Vv(l),l===a){Xe=null;break t}if(f!==null){f.return=d,Xe=f;break t}Xe=d}}}var Zw={getCacheForType:function(e){var r=fn(ze),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},Jw=typeof WeakMap=="function"?WeakMap:Map,ie=0,ce=null,Ht=null,Yt=0,re=0,Bn=null,ts=!1,no=!1,Vd=!1,Er=0,be=0,es=0,oa=0,kd=0,ni=0,io=0,Ol=null,Nn=null,Pd=!1,Ld=0,xc=1/0,Nc=null,ns=null,sn=0,is=null,ro=null,so=0,Ud=0,jd=null,Fv=null,Dl=0,Bd=null;function zn(){if((ie&2)!==0&&Yt!==0)return Yt&-Yt;if(z.T!==null){var e=Ka;return e!==0?e:$d()}return Vn()}function Gv(){ni===0&&(ni=(Yt&536870912)===0||Jt?Cn():536870912);var e=ei.current;return e!==null&&(e.flags|=32),ni}function Hn(e,r,a){(e===ce&&(re===2||re===9)||e.cancelPendingCommit!==null)&&(ao(e,0),rs(e,Yt,ni,!1)),Kn(e,a),((ie&2)===0||e!==ce)&&(e===ce&&((ie&2)===0&&(oa|=a),be===4&&rs(e,Yt,ni,!1)),Vi(e))}function Kv(e,r,a){if((ie&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&e.expiredLanes)===0||Xi(e,r),f=l?nS(e,r):qd(e,r,!0),d=l;do{if(f===0){no&&!l&&rs(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!tS(a)){f=qd(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var b=e;f=Ol;var N=b.current.memoizedState.isDehydrated;if(N&&(ao(b,E).flags|=256),E=qd(b,E,!1),E!==2){if(Vd&&!N){b.errorRecoveryDisabledLanes|=d,oa|=d,f=4;break t}d=Nn,Nn=f,d!==null&&(Nn===null?Nn=d:Nn.push.apply(Nn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){ao(e,0),rs(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:rs(l,r,ni,!ts);break t;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ld+300-he(),10<f)){if(rs(l,r,ni,!ts),Qi(l,0,!0)!==0)break t;l.timeoutHandle=T_($v.bind(null,l,a,Nn,Nc,Pd,r,ni,oa,io,ts,d,2,-0,0),f);break t}$v(l,a,Nn,Nc,Pd,r,ni,oa,io,ts,d,0,-0,0)}}break}while(!0);Vi(e)}function $v(e,r,a,l,f,d,E,b,N,F,W,J,G,K){if(e.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:kS},Bv(r),J=LS(),J!==null)){e.cancelPendingCommit=J(t_.bind(null,e,r,d,a,l,f,E,b,N,W,1,G,K)),rs(e,d,E,!F);return}t_(e,r,d,a,l,f,E,b,N)}function tS(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Pn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function rs(e,r,a,l){r&=~kd,r&=~oa,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-xe(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&bt(e,a,r)}function Oc(){return(ie&6)===0?(Ml(0),!1):!0}function zd(){if(Ht!==null){if(re===0)var e=Ht.return;else e=Ht,hr=ea=null,rd(e),Za=null,wl=0,e=Ht;for(;e!==null;)Rv(e.alternate,e),e=e.return;Ht=null}}function ao(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,vS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),zd(),ce=e,Ht=a=ur(e.current,null),Yt=r,re=0,Bn=null,ts=!1,no=Xi(e,r),Vd=!1,io=ni=kd=oa=es=be=0,Nn=Ol=null,Pd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-xe(l),d=1<<f;r|=e[f],l&=~d}return Er=r,Ju(),a}function Yv(e,r){Pt=null,z.H=vc,r===ml||r===lc?(r=fy(),re=3):r===ly?(r=fy(),re=4):re=r===hv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Ht===null&&(be=1,wc(e,Wn(r,e.current)))}function Qv(){var e=z.H;return z.H=vc,e===null?vc:e}function Xv(){var e=z.A;return z.A=Zw,e}function Hd(){be=4,ts||(Yt&4194048)!==Yt&&ei.current!==null||(no=!0),(es&134217727)===0&&(oa&134217727)===0||ce===null||rs(ce,Yt,ni,!1)}function qd(e,r,a){var l=ie;ie|=2;var f=Qv(),d=Xv();(ce!==e||Yt!==r)&&(Nc=null,ao(e,r)),r=!1;var E=be;t:do try{if(re!==0&&Ht!==null){var b=Ht,N=Bn;switch(re){case 8:zd(),E=6;break t;case 3:case 2:case 9:case 6:ei.current===null&&(r=!0);var F=re;if(re=0,Bn=null,oo(e,b,N,F),a&&no){E=0;break t}break;default:F=re,re=0,Bn=null,oo(e,b,N,F)}}eS(),E=be;break}catch(W){Yv(e,W)}while(!0);return r&&e.shellSuspendCounter++,hr=ea=null,ie=l,z.H=f,z.A=d,Ht===null&&(ce=null,Yt=0,Ju()),E}function eS(){for(;Ht!==null;)Wv(Ht)}function nS(e,r){var a=ie;ie|=2;var l=Qv(),f=Xv();ce!==e||Yt!==r?(Nc=null,xc=he()+500,ao(e,r)):no=Xi(e,r);t:do try{if(re!==0&&Ht!==null){r=Ht;var d=Bn;e:switch(re){case 1:re=0,Bn=null,oo(e,r,d,1);break;case 2:case 9:if(uy(d)){re=0,Bn=null,Zv(r);break}r=function(){re!==2&&re!==9||ce!==e||(re=7),Vi(e)},d.then(r,r);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:uy(d)?(re=0,Bn=null,Zv(r)):(re=0,Bn=null,oo(e,r,d,7));break;case 5:var E=null;switch(Ht.tag){case 26:E=Ht.memoizedState;case 5:case 27:var b=Ht;if(!E||M_(E)){re=0,Bn=null;var N=b.sibling;if(N!==null)Ht=N;else{var F=b.return;F!==null?(Ht=F,Dc(F)):Ht=null}break e}}re=0,Bn=null,oo(e,r,d,5);break;case 6:re=0,Bn=null,oo(e,r,d,6);break;case 8:zd(),be=6;break t;default:throw Error(s(462))}}iS();break}catch(W){Yv(e,W)}while(!0);return hr=ea=null,z.H=l,z.A=f,ie=a,Ht!==null?0:(ce=null,Yt=0,Ju(),be)}function iS(){for(;Ht!==null&&!Xt();)Wv(Ht)}function Wv(e){var r=Sv(e.alternate,e,Er);e.memoizedProps=e.pendingProps,r===null?Dc(e):Ht=r}function Zv(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=vv(a,r,r.pendingProps,r.type,void 0,Yt);break;case 11:r=vv(a,r,r.pendingProps,r.type.render,r.ref,Yt);break;case 5:rd(r);default:Rv(a,r),r=Ht=Jg(r,Er),r=Sv(a,r,Er)}e.memoizedProps=e.pendingProps,r===null?Dc(e):Ht=r}function oo(e,r,a,l){hr=ea=null,rd(r),Za=null,wl=0;var f=r.return;try{if(Kw(e,f,r,a,Yt)){be=1,wc(e,Wn(a,e.current)),Ht=null;return}}catch(d){if(f!==null)throw Ht=f,d;be=1,wc(e,Wn(a,e.current)),Ht=null;return}r.flags&32768?(Jt||l===1?e=!0:no||(Yt&536870912)!==0?e=!1:(ts=e=!0,(l===2||l===9||l===3||l===6)&&(l=ei.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jv(r,e)):Dc(r)}function Dc(e){var r=e;do{if((r.flags&32768)!==0){Jv(r,ts);return}e=r.return;var a=Yw(r.alternate,r,Er);if(a!==null){Ht=a;return}if(r=r.sibling,r!==null){Ht=r;return}Ht=r=e}while(r!==null);be===0&&(be=5)}function Jv(e,r){do{var a=Qw(e.alternate,e);if(a!==null){a.flags&=32767,Ht=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Ht=e;return}Ht=e=a}while(e!==null);be=6,Ht=null}function t_(e,r,a,l,f,d,E,b,N){e.cancelPendingCommit=null;do Mc();while(sn!==0);if((ie&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Mh,Ur(e,a,d,E,b,N),e===ce&&(Ht=ce=null,Yt=0),ro=r,is=e,so=a,Ud=d,jd=f,Fv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oS(si,function(){return s_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,f=it.p,it.p=2,E=ie,ie|=4;try{Xw(e,r,a)}finally{ie=E,it.p=f,z.T=l}}sn=1,e_(),n_(),i_()}}function e_(){if(sn===1){sn=0;var e=is,r=ro,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=it.p;it.p=2;var f=ie;ie|=4;try{Lv(r,e);var d=em,E=qg(e.containerInfo),b=d.focusedElem,N=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&Hg(b.ownerDocument.documentElement,b)){if(N!==null&&Ih(b)){var F=N.start,W=N.end;if(W===void 0&&(W=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(W,b.value.length);else{var J=b.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var K=G.getSelection(),It=b.textContent.length,wt=Math.min(N.start,It),le=N.end===void 0?wt:Math.min(N.end,It);!K.extend&&wt>le&&(E=le,le=wt,wt=E);var j=zg(b,wt),P=zg(b,le);if(j&&P&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var q=J.createRange();q.setStart(j.node,j.offset),K.removeAllRanges(),wt>le?(K.addRange(q),K.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),K.addRange(q))}}}}for(J=[],K=b;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var Z=J[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Gc=!!tm,em=tm=null}finally{ie=f,it.p=l,z.T=a}}e.current=r,sn=2}}function n_(){if(sn===2){sn=0;var e=is,r=ro,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=it.p;it.p=2;var f=ie;ie|=4;try{Mv(e,r.alternate,r)}finally{ie=f,it.p=l,z.T=a}}sn=3}}function i_(){if(sn===4||sn===3){sn=0,Gn();var e=is,r=ro,a=so,l=Fv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?sn=5:(sn=0,ro=is=null,r_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ns=null),Ne(a),r=r.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(yt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=z.T,f=it.p,it.p=2,z.T=null;try{for(var d=e.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{z.T=r,it.p=f}}(so&3)!==0&&Mc(),Vi(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===Bd?Dl++:(Dl=0,Bd=e):Dl=0,Ml(0)}}function r_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,hl(r)))}function Mc(e){return e_(),n_(),i_(),s_()}function s_(){if(sn!==5)return!1;var e=is,r=Ud;Ud=0;var a=Ne(so),l=z.T,f=it.p;try{it.p=32>a?32:a,z.T=null,a=jd,jd=null;var d=is,E=so;if(sn=0,ro=is=null,so=0,(ie&6)!==0)throw Error(s(331));var b=ie;if(ie|=4,Hv(d.current),jv(d,d.current,E,a),ie=b,Ml(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(yt,d)}catch{}return!0}finally{it.p=f,z.T=l,r_(e,r)}}function a_(e,r,a){r=Wn(a,r),r=vd(e.stateNode,r,2),e=$r(e,r,2),e!==null&&(Kn(e,2),Vi(e))}function ue(e,r,a){if(e.tag===3)a_(e,e,a);else for(;r!==null;){if(r.tag===3){a_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ns===null||!ns.has(l))){e=Wn(a,e),a=cv(2),l=$r(r,a,2),l!==null&&(fv(a,l,r,e),Kn(l,2),Vi(l));break}}r=r.return}}function Fd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Jw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Vd=!0,f.add(a),e=rS.bind(null,e,r,a),r.then(e,e))}function rS(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ce===e&&(Yt&a)===a&&(be===4||be===3&&(Yt&62914560)===Yt&&300>he()-Ld?(ie&2)===0&&ao(e,0):kd|=a,io===Yt&&(io=0)),Vi(e)}function o_(e,r){r===0&&(r=Ms()),e=Ha(e,r),e!==null&&(Kn(e,r),Vi(e))}function sS(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),o_(e,a)}function aS(e,r){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),o_(e,a)}function oS(e,r){return _n(e,r)}var Vc=null,lo=null,Gd=!1,kc=!1,Kd=!1,la=0;function Vi(e){e!==lo&&e.next===null&&(lo===null?Vc=lo=e:lo=lo.next=e),kc=!0,Gd||(Gd=!0,uS())}function Ml(e,r){if(!Kd&&kc){Kd=!0;do for(var a=!1,l=Vc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-xe(42|e)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,f_(l,d))}else d=Yt,d=Qi(l,l===ce?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xi(l,d)||(a=!0,f_(l,d));l=l.next}while(a);Kd=!1}}function lS(){l_()}function l_(){kc=Gd=!1;var e=0;la!==0&&(yS()&&(e=la),la=0);for(var r=he(),a=null,l=Vc;l!==null;){var f=l.next,d=u_(l,r);d===0?(l.next=null,a===null?Vc=f:a.next=f,f===null&&(lo=a)):(a=l,(e!==0||(d&3)!==0)&&(kc=!0)),l=f}Ml(e)}function u_(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-xe(d),b=1<<E,N=f[E];N===-1?((b&a)===0||(b&l)!==0)&&(f[E]=Wi(b,r)):N<=r&&(e.expiredLanes|=b),d&=~b}if(r=ce,a=Yt,a=Qi(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(re===2||re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ke(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xi(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&Ke(l),Ne(a)){case 2:case 8:a=vi;break;case 32:a=si;break;case 268435456:a=En;break;default:a=si}return l=c_.bind(null,e),a=_n(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&Ke(l),e.callbackPriority=2,e.callbackNode=null,2}function c_(e,r){if(sn!==0&&sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Mc()&&e.callbackNode!==a)return null;var l=Yt;return l=Qi(e,e===ce?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Kv(e,l,r),u_(e,he()),e.callbackNode!=null&&e.callbackNode===a?c_.bind(null,e):null)}function f_(e,r){if(Mc())return null;Kv(e,r,!0)}function uS(){_S(function(){(ie&6)!==0?_n(tn,lS):l_()})}function $d(){return la===0&&(la=Cn()),la}function h_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Na(""+e)}function d_(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function cS(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=h_((f[Wt]||null).action),E=l.submitter;E&&(r=(r=E[Wt]||null)?h_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var b=new Oa("action","action",null,l,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var N=E?d_(f,E):new FormData(f);dd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=E?d_(f,E):new FormData(f),dd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Yd=0;Yd<Dh.length;Yd++){var Qd=Dh[Yd],fS=Qd.toLowerCase(),hS=Qd[0].toUpperCase()+Qd.slice(1);fi(fS,"on"+hS)}fi(Kg,"onAnimationEnd"),fi($g,"onAnimationIteration"),fi(Yg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(xw,"onTransitionRun"),fi(Nw,"onTransitionStart"),fi(Ow,"onTransitionCancel"),fi(Qg,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function m_(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],N=b.instance,F=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=F;try{d(f)}catch(W){bc(W)}f.currentTarget=null,d=N}else for(E=0;E<l.length;E++){if(b=l[E],N=b.instance,F=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=F;try{d(f)}catch(W){bc(W)}f.currentTarget=null,d=N}}}}function qt(e,r){var a=r[jr];a===void 0&&(a=r[jr]=new Set);var l=e+"__bubble";a.has(l)||(p_(r,e,2,!1),a.add(l))}function Xd(e,r,a){var l=0;r&&(l|=4),p_(a,e,l,r)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Wd(e){if(!e[Pc]){e[Pc]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(dS.has(a)||Xd(a,!1,e),Xd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Pc]||(r[Pc]=!0,Xd("selectionchange",!1,r))}}function p_(e,r,a,l){switch(j_(r)){case 2:var f=BS;break;case 8:f=zS;break;default:f=fm}a=f.bind(null,r,a,e),f=void 0,!Qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function Zd(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Ji(b),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=d=E;continue t}b=b.parentNode}}l=l.return}Uu(function(){var F=d,W=Yn(a),J=[];t:{var G=Xg.get(e);if(G!==void 0){var K=Oa,It=e;switch(e){case"keypress":if(Ai(a)===0)break t;case"keydown":case"keyup":K=La;break;case"focusin":It="focus",K=Va;break;case"focusout":It="blur",K=Va;break;case"beforeblur":case"afterblur":K=Va;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ku;break;case Kg:case $g:case Yg:K=ka;break;case Qg:K=Yu;break;case"scroll":case"scrollend":K=ju;break;case"wheel":K=Ua;break;case"copy":case"cut":case"paste":K=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=rl;break;case"toggle":case"beforetoggle":K=Xu}var wt=(r&4)!==0,le=!wt&&(e==="scroll"||e==="scrollend"),j=wt?G!==null?G+"Capture":null:G;wt=[];for(var P=F,q;P!==null;){var Z=P;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=zs(P,j),Z!=null&&wt.push(kl(P,Z,q))),le)break;P=P.return}0<wt.length&&(G=new K(G,It,null,a,W),J.push({event:G,listeners:wt}))}}if((r&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",G&&a!==ir&&(It=a.relatedTarget||a.fromElement)&&(Ji(It)||It[pe]))break t;if((K||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,K?(It=a.relatedTarget||a.toElement,K=F,It=It?Ji(It):null,It!==null&&(le=u(It),wt=It.tag,It!==le||wt!==5&&wt!==27&&wt!==6)&&(It=null)):(K=null,It=F),K!==It)){if(wt=Xn,Z="onMouseLeave",j="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(wt=rl,Z="onPointerLeave",j="onPointerEnter",P="pointer"),le=K==null?G:Ti(K),q=It==null?G:Ti(It),G=new wt(Z,P+"leave",K,a,W),G.target=le,G.relatedTarget=q,Z=null,Ji(W)===F&&(wt=new wt(j,P+"enter",It,a,W),wt.target=q,wt.relatedTarget=le,Z=wt),le=Z,K&&It)e:{for(wt=K,j=It,P=0,q=wt;q;q=uo(q))P++;for(q=0,Z=j;Z;Z=uo(Z))q++;for(;0<P-q;)wt=uo(wt),P--;for(;0<q-P;)j=uo(j),q--;for(;P--;){if(wt===j||j!==null&&wt===j.alternate)break e;wt=uo(wt),j=uo(j)}wt=null}else wt=null;K!==null&&g_(J,G,K,wt,!1),It!==null&&le!==null&&g_(J,le,It,wt,!0)}}t:{if(G=F?Ti(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var gt=kg;else if(Be(G))if(Pg)gt=Rw;else{gt=Sw;var jt=ww}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Wo(F.elementType)&&(gt=kg):gt=Aw;if(gt&&(gt=gt(e,F))){lr(J,gt,a,W);break t}jt&&jt(e,G,F),e==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Hr(G,"number",G.value)}switch(jt=F?Ti(F):window,e){case"focusin":(Be(jt)||jt.contentEditable==="true")&&(ja=jt,xh=F,ol=null);break;case"focusout":ol=xh=ja=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Fg(J,a,W);break;case"selectionchange":if(Iw)break;case"keydown":case"keyup":Fg(J,a,W)}var vt;if(Ii)t:{switch(e){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Kt?Y(e,a)&&(At="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(At="onCompositionStart");At&&(v&&a.locale!=="ko"&&(Kt||At!=="onCompositionStart"?At==="onCompositionEnd"&&Kt&&(vt=Jo()):(Si=W,qr="value"in Si?Si.value:Si.textContent,Kt=!0)),jt=Lc(F,At),0<jt.length&&(At=new nl(At,e,null,a,W),J.push({event:At,listeners:jt}),vt?At.data=vt:(vt=ft(a),vt!==null&&(At.data=vt)))),(vt=y?je(e,a):$t(e,a))&&(At=Lc(F,"onBeforeInput"),0<At.length&&(jt=new nl("onBeforeInput","beforeinput",null,a,W),J.push({event:jt,listeners:At}),jt.data=vt)),cS(J,e,F,a,W)}m_(J,r)})}function kl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Lc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=zs(e,a),f!=null&&l.unshift(kl(e,f,d)),f=zs(e,r),f!=null&&l.push(kl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function uo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g_(e,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var b=a,N=b.alternate,F=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||F===null||(N=F,f?(F=zs(a,d),F!=null&&E.unshift(kl(a,F,N))):f||(F=zs(a,d),F!=null&&E.push(kl(a,F,N)))),a=a.return}E.length!==0&&e.push({event:r,listeners:E})}var mS=/\r\n?/g,pS=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(mS,`
`).replace(pS,"")}function v_(e,r){return r=y_(r),y_(e)===r}function Uc(){}function oe(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||$n(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&$n(e,""+l);break;case"className":bi(e,"class",l);break;case"tabIndex":bi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(e,a,l);break;case"style":Xo(e,l,d);break;case"data":if(r!=="object"){bi(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Na(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&oe(e,r,"name",f.name,f,null),oe(e,r,"formEncType",f.formEncType,f,null),oe(e,r,"formMethod",f.formMethod,f,null),oe(e,r,"formTarget",f.formTarget,f,null)):(oe(e,r,"encType",f.encType,f,null),oe(e,r,"method",f.method,f,null),oe(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Na(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Uc);break;case"onScroll":l!=null&&qt("scroll",e);break;case"onScrollEnd":l!=null&&qt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":qt("beforetoggle",e),qt("toggle",e),zr(e,"popover",l);break;case"xlinkActuate":en(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":en(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":en(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":en(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":en(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":en(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":en(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":en(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":en(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bh.get(a)||a,zr(e,a,l))}}function Jd(e,r,a,l,f,d){switch(a){case"style":Xo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?$n(e,l):(typeof l=="number"||typeof l=="bigint")&&$n(e,""+l);break;case"onScroll":l!=null&&qt("scroll",e);break;case"onScrollEnd":l!=null&&qt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[Wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):zr(e,a,l)}}}function an(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",e),qt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:oe(e,r,d,E,a,null)}}f&&oe(e,r,"srcSet",a.srcSet,a,null),l&&oe(e,r,"src",a.src,a,null);return;case"input":qt("invalid",e);var b=d=E=f=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":E=W;break;case"checked":N=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:oe(e,r,l,W,a,null)}}Us(e,d,b,N,F,E,f,!1),xa(e);return;case"select":qt("invalid",e),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:oe(e,r,f,b,a,null)}r=d,a=E,e.multiple=!!l,r!=null?nr(e,!!l,r,!1):a!=null&&nr(e,!!l,a,!0);return;case"textarea":qt("invalid",e),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:oe(e,r,E,b,a,null)}js(e,l,f,d),xa(e);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:oe(e,r,N,l,a,null)}return;case"dialog":qt("beforetoggle",e),qt("toggle",e),qt("cancel",e),qt("close",e);break;case"iframe":case"object":qt("load",e);break;case"video":case"audio":for(l=0;l<Vl.length;l++)qt(Vl[l],e);break;case"image":qt("error",e),qt("load",e);break;case"details":qt("toggle",e);break;case"embed":case"source":case"link":qt("error",e),qt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:oe(e,r,F,l,a,null)}return;default:if(Wo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Jd(e,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&oe(e,r,b,l,a,null))}function gS(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,N=null,F=null,W=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(K)||oe(e,r,K,null,l,J)}}for(var G in l){var K=l[G];if(J=a[G],l.hasOwnProperty(G)&&(K!=null||J!=null))switch(G){case"type":d=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":W=K;break;case"value":E=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==J&&oe(e,r,G,K,l,J)}}kn(e,E,b,N,F,W,d,f);return;case"select":K=E=b=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||oe(e,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==N&&oe(e,r,f,d,l,N)}r=b,a=E,l=K,G!=null?nr(e,!!a,G,!1):!!l!=!!a&&(r!=null?nr(e,!!a,r,!0):nr(e,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:oe(e,r,b,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&oe(e,r,E,f,l,d)}se(e,G,K);return;case"option":for(var It in a)if(G=a[It],a.hasOwnProperty(It)&&G!=null&&!l.hasOwnProperty(It))switch(It){case"selected":e.selected=!1;break;default:oe(e,r,It,null,l,G)}for(N in l)if(G=l[N],K=a[N],l.hasOwnProperty(N)&&G!==K&&(G!=null||K!=null))switch(N){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:oe(e,r,N,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in a)G=a[wt],a.hasOwnProperty(wt)&&G!=null&&!l.hasOwnProperty(wt)&&oe(e,r,wt,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:oe(e,r,F,G,l,K)}return;default:if(Wo(r)){for(var le in a)G=a[le],a.hasOwnProperty(le)&&G!==void 0&&!l.hasOwnProperty(le)&&Jd(e,r,le,void 0,l,G);for(W in l)G=l[W],K=a[W],!l.hasOwnProperty(W)||G===K||G===void 0&&K===void 0||Jd(e,r,W,G,l,K);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&oe(e,r,j,null,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G==null&&K==null||oe(e,r,J,G,l,K)}var tm=null,em=null;function jc(e){return e.nodeType===9?e:e.ownerDocument}function __(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function nm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var im=null;function yS(){var e=window.event;return e&&e.type==="popstate"?e===im?!1:(im=e,!0):(im=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,vS=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,_S=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(ES)}:T_;function ES(e){setTimeout(function(){throw e})}function ss(e){return e==="head"}function w_(e,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=e.ownerDocument;if(a&1&&Pl(E.documentElement),a&2&&Pl(E.body),a&4)for(a=E.head,Pl(a),E=a.firstChild;E;){var b=E.nextSibling,N=E.nodeName;E[Vs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(f===0){e.removeChild(d),Fl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Fl(r)}function rm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),Br(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function TS(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Vs])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=di(e.nextSibling),e===null)break}return null}function bS(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=di(e.nextSibling),e===null))return null;return e}function sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function wS(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function di(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var am=null;function S_(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function A_(e,r,a){switch(r=jc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Pl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Br(e)}var ii=new Map,R_=new Set;function Bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tr=it.d;it.d={f:SS,r:AS,D:RS,C:CS,L:IS,m:xS,X:OS,S:NS,M:DS};function SS(){var e=Tr.f(),r=Oc();return e||r}function AS(e){var r=Ei(e);r!==null&&r.tag===5&&r.type==="form"?Ky(r):Tr.r(e)}var co=typeof document>"u"?null:document;function C_(e,r,a){var l=co;if(l&&typeof r=="string"&&r){var f=Oe(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),R_.has(f)||(R_.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),an(r,"link",e),Ae(r),l.head.appendChild(r)))}}function RS(e){Tr.D(e),C_("dns-prefetch",e,null)}function CS(e,r){Tr.C(e,r),C_("preconnect",e,r)}function IS(e,r,a){Tr.L(e,r,a);var l=co;if(l&&e&&r){var f='link[rel="preload"][as="'+Oe(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Oe(a.imageSizes)+'"]')):f+='[href="'+Oe(e)+'"]';var d=f;switch(r){case"style":d=fo(e);break;case"script":d=ho(e)}ii.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),ii.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ll(d))||r==="script"&&l.querySelector(Ul(d))||(r=l.createElement("link"),an(r,"link",e),Ae(r),l.head.appendChild(r)))}}function xS(e,r){Tr.m(e,r);var a=co;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Oe(l)+'"][href="'+Oe(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ho(e)}if(!ii.has(d)&&(e=T({rel:"modulepreload",href:e},r),ii.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}l=a.createElement("link"),an(l,"link",e),Ae(l),a.head.appendChild(l)}}}function NS(e,r,a){Tr.S(e,r,a);var l=co;if(l&&e){var f=Tn(l).hoistableStyles,d=fo(e);r=r||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Ll(d)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=ii.get(d))&&om(e,a);var N=E=l.createElement("link");Ae(N),an(N,"link",e),N._p=new Promise(function(F,W){N.onload=F,N.onerror=W}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,zc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function OS(e,r){Tr.X(e,r);var a=co;if(a&&e){var l=Tn(a).hoistableScripts,f=ho(e),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(e=T({src:e,async:!0},r),(r=ii.get(f))&&lm(e,r),d=a.createElement("script"),Ae(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function DS(e,r){Tr.M(e,r);var a=co;if(a&&e){var l=Tn(a).hoistableScripts,f=ho(e),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=ii.get(f))&&lm(e,r),d=a.createElement("script"),Ae(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function I_(e,r,a,l){var f=(f=mt.current)?Bc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=fo(a.href),a=Tn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=fo(a.href);var d=Tn(f).hoistableStyles,E=d.get(e);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=f.querySelector(Ll(e)))&&!d._p&&(E.instance=d,E.state.loading=5),ii.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ii.set(e,a),d||MS(f,e,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ho(a),a=Tn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function fo(e){return'href="'+Oe(e)+'"'}function Ll(e){return'link[rel="stylesheet"]['+e+"]"}function x_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function MS(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",a),Ae(r),e.head.appendChild(r))}function ho(e){return'[src="'+Oe(e)+'"]'}function Ul(e){return"script[async]"+e}function N_(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+Oe(a.href)+'"]');if(l)return r.instance=l,Ae(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ae(l),an(l,"style",f),zc(l,a.precedence,e),r.instance=l;case"stylesheet":f=fo(a.href);var d=e.querySelector(Ll(f));if(d)return r.state.loading|=4,r.instance=d,Ae(d),d;l=x_(a),(f=ii.get(f))&&om(l,f),d=(e.ownerDocument||e).createElement("link"),Ae(d);var E=d;return E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),an(d,"link",l),r.state.loading|=4,zc(d,a.precedence,e),r.instance=d;case"script":return d=ho(a.src),(f=e.querySelector(Ul(d)))?(r.instance=f,Ae(f),f):(l=a,(f=ii.get(d))&&(l=T({},a),lm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ae(f),an(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,zc(l,a.precedence,e));return r.instance}function zc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function om(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function lm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Hc=null;function O_(e,r,a){if(Hc===null){var l=new Map,f=Hc=new Map;f.set(a,l)}else f=Hc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Vs]||d[me]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=e+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function D_(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function VS(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var jl=null;function kS(){}function PS(e,r,a){if(jl===null)throw Error(s(475));var l=jl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=fo(a.href),d=e.querySelector(Ll(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=qc.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=d,Ae(d);return}d=e.ownerDocument||e,a=x_(a),(f=ii.get(f))&&om(a,f),d=d.createElement("link"),Ae(d);var E=d;E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),an(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=qc.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function LS(){if(jl===null)throw Error(s(475));var e=jl;return e.stylesheets&&e.count===0&&um(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&um(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fc=null;function um(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fc=new Map,r.forEach(US,e),Fc=null,qc.call(e))}function US(e,r){if(!(r.state.loading&4)){var a=Fc.get(e);if(a)var l=a.get(null);else{a=new Map,Fc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Bl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function jS(e,r,a,l,f,d,E,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function V_(e,r,a,l,f,d,E,b,N,F,W,J){return e=new jS(e,r,a,E,b,N,F,J),r=1,d===!0&&(r|=24),d=Ln(3,null,null,r),e.current=d,d.stateNode=e,r=Fh(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Yh(d),e}function k_(e){return e?(e=qa,e):qa}function P_(e,r,a,l,f,d){f=k_(f),l.context===null?l.context=f:l.pendingContext=f,l=Kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=$r(e,l,r),a!==null&&(Hn(a,e,r),gl(a,e,r))}function L_(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function cm(e,r){L_(e,r),(e=e.alternate)&&L_(e,r)}function U_(e){if(e.tag===13){var r=Ha(e,67108864);r!==null&&Hn(r,e,67108864),cm(e,67108864)}}var Gc=!0;function BS(e,r,a,l){var f=z.T;z.T=null;var d=it.p;try{it.p=2,fm(e,r,a,l)}finally{it.p=d,z.T=f}}function zS(e,r,a,l){var f=z.T;z.T=null;var d=it.p;try{it.p=8,fm(e,r,a,l)}finally{it.p=d,z.T=f}}function fm(e,r,a,l){if(Gc){var f=hm(l);if(f===null)Zd(e,r,l,Kc,a),B_(e,l);else if(qS(f,e,r,a,l))l.stopPropagation();else if(B_(e,l),r&4&&-1<HS.indexOf(e)){for(;f!==null;){var d=Ei(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Rn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var N=1<<31-xe(E);b.entanglements[1]|=N,E&=~N}Vi(d),(ie&6)===0&&(xc=he()+500,Ml(0))}}break;case 13:b=Ha(d,2),b!==null&&Hn(b,d,2),Oc(),cm(d,2)}if(d=hm(l),d===null&&Zd(e,r,l,Kc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Zd(e,r,l,null,a)}}function hm(e){return e=Yn(e),dm(e)}var Kc=null;function dm(e){if(Kc=null,e=Ji(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Kc=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case tn:return 2;case vi:return 8;case si:case Le:return 32;case En:return 268435456;default:return 32}default:return 32}}var mm=!1,as=null,os=null,ls=null,zl=new Map,Hl=new Map,us=[],HS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(e,r){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(r.pointerId)}}function ql(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Ei(r),r!==null&&U_(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function qS(e,r,a,l,f){switch(r){case"focusin":return as=ql(as,e,r,a,l,f),!0;case"dragenter":return os=ql(os,e,r,a,l,f),!0;case"mouseover":return ls=ql(ls,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return zl.set(d,ql(zl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Hl.set(d,ql(Hl.get(d)||null,e,r,a,l,f)),!0}return!1}function z_(e){var r=Ji(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,Ee(e.priority,function(){if(a.tag===13){var l=zn();l=fe(l);var f=Ha(a,l);f!==null&&Hn(f,a,l),cm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $c(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=hm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ir=l,a.target.dispatchEvent(l),ir=null}else return r=Ei(a),r!==null&&U_(r),e.blockedOn=a,!1;r.shift()}return!0}function H_(e,r,a){$c(e)&&a.delete(r)}function FS(){mm=!1,as!==null&&$c(as)&&(as=null),os!==null&&$c(os)&&(os=null),ls!==null&&$c(ls)&&(ls=null),zl.forEach(H_),Hl.forEach(H_)}function Yc(e,r){e.blockedOn===r&&(e.blockedOn=null,mm||(mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,FS)))}var Qc=null;function q_(e){Qc!==e&&(Qc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qc===e&&(Qc=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=Ei(a);d!==null&&(e.splice(r,3),r-=3,dd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Fl(e){function r(N){return Yc(N,e)}as!==null&&Yc(as,e),os!==null&&Yc(os,e),ls!==null&&Yc(ls,e),zl.forEach(r),Hl.forEach(r);for(var a=0;a<us.length;a++){var l=us[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<us.length&&(a=us[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&us.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Wt]||null;if(typeof d=="function")E||q_(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Wt]||null)b=E.formAction;else if(dm(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),q_(a)}}}function pm(e){this._internalRoot=e}Xc.prototype.render=pm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=zn();P_(a,l,e,r,null,null)},Xc.prototype.unmount=pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;P_(e.current,2,null,e,null,null),Oc(),r[pe]=null}};function Xc(e){this._internalRoot=e}Xc.prototype.unstable_scheduleHydration=function(e){if(e){var r=Vn();e={blockedOn:null,target:e,priority:r};for(var a=0;a<us.length&&r!==0&&r<us[a].priority;a++);us.splice(a,0,e),a===0&&z_(e)}};var F_=t.version;if(F_!=="19.1.0")throw Error(s(527,F_,"19.1.0"));it.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var GS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{yt=Wc.inject(GS),Ut=Wc}catch{}}return Kl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=av,d=ov,E=lv,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=V_(e,1,!1,null,null,a,l,f,d,E,b,null),e[pe]=r.current,Wd(e),new pm(r)},Kl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=av,E=ov,b=lv,N=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=V_(e,1,!0,r,a??null,l,f,d,E,b,N,F),r.context=k_(null),a=r.current,l=zn(),l=fe(l),f=Kr(l),f.callback=null,$r(a,f,l),a=l,r.current.lanes=a,Kn(r,a),Vi(r),e[pe]=r.current,Wd(e),new Xc(r)},Kl.version="19.1.0",Kl}var t0;function tA(){if(t0)return vm.exports;t0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),vm.exports=JS(),vm.exports}var eA=tA();const wp=C.createContext({handleKeyClick:()=>console.warn("KeyBoardContext: No handleKeyClick provider found!")});var XE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e0=rt.createContext&&rt.createContext(XE),nA=["attr","size","title"];function iA(i,t){if(i==null)return{};var n=rA(i,t),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function rA(i,t){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Ef(){return Ef=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Ef.apply(this,arguments)}function n0(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Tf(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n0(Object(n),!0).forEach(function(s){sA(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):n0(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function sA(i,t,n){return t=aA(t),t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function aA(i){var t=oA(i,"string");return typeof t=="symbol"?t:t+""}function oA(i,t){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function WE(i){return i&&i.map((t,n)=>rt.createElement(t.tag,Tf({key:n},t.attr),WE(t.child)))}function vu(i){return t=>rt.createElement(lA,Ef({attr:Tf({},i.attr)},t),WE(i.child))}function lA(i){var t=n=>{var{attr:s,size:o,title:u}=i,h=iA(i,nA),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),rt.createElement("svg",Ef({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:p,style:Tf(Tf({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&rt.createElement("title",null,u),i.children)};return e0!==void 0?rt.createElement(e0.Consumer,null,n=>t(n)):t(XE)}function uA(i){return vu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M135.19 390.14a28.79 28.79 0 0 0 21.68 9.86h246.26A29 29 0 0 0 432 371.13V140.87A29 29 0 0 0 403.13 112H156.87a28.84 28.84 0 0 0-21.67 9.84L46.33 256l88.86 134.11z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336.67 192.33 206.66 322.34m130.01 0L206.66 192.33m130.01 0L206.66 322.34m130.01 0L206.66 192.33"},child:[]}]})(i)}function cA(i){return vu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"28",d:"M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296"},child:[]},{tag:"circle",attr:{cx:"250",cy:"348",r:"20"},child:[]}]})(i)}function fA(i){return vu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 496H72a24 24 0 0 1-24-24V328a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v144a24 24 0 0 1-24 24zm224 0h-32a24 24 0 0 1-24-24V232a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v240a24 24 0 0 1-24 24zm112 0h-32a24 24 0 0 1-24-24V120a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v352a24 24 0 0 1-24 24zm-224 0h-32a24 24 0 0 1-24-24V40a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v432a24 24 0 0 1-24 24z"},child:[]}]})(i)}const hA=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["ENTER","Z","X","C","V","B","N","M","BACKSPACE"]];function dA({className:i,keyColors:t}){const{handleKeyClick:n}=C.useContext(wp);return A.jsx("div",{className:`keyboard ${i}`,children:hA.map((s,o)=>A.jsx(mA,{keyboardRow:s,index:o,handleKeyClick:n,keyColors:t},o))})}function mA({keyboardRow:i,index:t,keyColors:n}){const s=`keyboard-row ${t+1}`;return A.jsx("div",{className:s,children:i.map((o,u)=>A.jsx(pA,{keyboardKey:o,keyColors:n},u))})}function pA({keyboardKey:i,keyColors:t}){const{handleKeyClick:n}=C.useContext(wp),o=`keyboard-key ${i.length>1?i.toLowerCase():"key-letter"} ${t.get(i)}`,u=i==="BACKSPACE"?null:i;return A.jsxs("button",{className:o,onClick:n,id:i,children:[i==="BACKSPACE"&&A.jsx(uA,{className:"backspace-img"}),u]})}var gA=QE();const ha=Kf(gA);function yA(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}const vA=i=>{switch(i){case"success":return TA;case"info":return wA;case"warning":return bA;case"error":return SA;default:return null}},_A=Array(12).fill(0),EA=({visible:i,className:t})=>rt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},rt.createElement("div",{className:"sonner-spinner"},_A.map((n,s)=>rt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),TA=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bA=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wA=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),SA=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),AA=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},rt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),rt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),RA=()=>{const[i,t]=rt.useState(document.hidden);return rt.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),i};let qm=1;class CA{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...o}=t,u=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:qm++,h=this.toasts.find(p=>p.id===u),m=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),h?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...t,id:u,title:s}),{...p,...t,id:u,dismissible:m,title:s}):p):this.addToast({title:s,...o,dismissible:m,id:u}),u},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let u=s!==void 0,h;const m=o.then(async g=>{if(h=["resolve",g],rt.isValidElement(g))u=!1,this.create({id:s,type:"default",message:g});else if(xA(g)&&!g.ok){u=!1;const _=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,B=typeof _=="object"&&!rt.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:w,...B})}else if(g instanceof Error){u=!1;const _=typeof n.error=="function"?await n.error(g):n.error,w=typeof n.description=="function"?await n.description(g):n.description,B=typeof _=="object"&&!rt.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:w,...B})}else if(n.success!==void 0){u=!1;const _=typeof n.success=="function"?await n.success(g):n.success,w=typeof n.description=="function"?await n.description(g):n.description,B=typeof _=="object"&&!rt.isValidElement(_)?_:{message:_};this.create({id:s,type:"success",description:w,...B})}}).catch(async g=>{if(h=["reject",g],n.error!==void 0){u=!1;const T=typeof n.error=="function"?await n.error(g):n.error,_=typeof n.description=="function"?await n.description(g):n.description,M=typeof T=="object"&&!rt.isValidElement(T)?T:{message:T};this.create({id:s,type:"error",description:_,...M})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((g,T)=>m.then(()=>h[0]==="reject"?T(h[1]):g(h[1])).catch(T));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||qm++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const On=new CA,IA=(i,t)=>{const n=(t==null?void 0:t.id)||qm++;return On.addToast({title:i,...t,id:n}),n},xA=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",NA=IA,OA=()=>On.toasts,DA=()=>On.getActiveToasts(),Li=Object.assign(NA,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:OA,getToasts:DA});yA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Zc(i){return i.label!==void 0}const MA=3,VA="24px",kA="16px",i0=4e3,PA=356,LA=14,UA=45,jA=200;function ki(...i){return i.filter(Boolean).join(" ")}function BA(i){const[t,n]=i.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const zA=i=>{var t,n,s,o,u,h,m,p,g;const{invert:T,toast:_,unstyled:w,interacting:M,setHeights:B,visibleToasts:X,heights:U,index:ot,toasts:ht,expanded:nt,removeToast:dt,defaultRichColors:lt,closeButton:at,style:O,cancelButtonStyle:R,actionButtonStyle:I,className:V="",descriptionClassName:k="",duration:L,position:x,gap:Et,expandByDefault:Mt,classNames:z,icons:it,closeButtonAriaLabel:ct="Close toast"}=i,[Rt,D]=rt.useState(null),[$,et]=rt.useState(null),[Q,ut]=rt.useState(!1),[_t,mt]=rt.useState(!1),[ne,Bt]=rt.useState(!1),[_e,Se]=rt.useState(!1),[cn,Je]=rt.useState(!1),[_n,Ke]=rt.useState(0),[Xt,Gn]=rt.useState(0),he=rt.useRef(_.duration||L||i0),Pr=rt.useRef(null),tn=rt.useRef(null),vi=ot===0,si=ot+1<=X,Le=_.type,En=_.dismissible!==!1,_i=_.className||"",Lr=_.descriptionClassName||"",yt=rt.useMemo(()=>U.findIndex(bt=>bt.toastId===_.id)||0,[U,_.id]),Ut=rt.useMemo(()=>{var bt;return(bt=_.closeButton)!=null?bt:at},[_.closeButton,at]),Ue=rt.useMemo(()=>_.duration||L||i0,[_.duration,L]),xe=rt.useRef(0),ai=rt.useRef(0),Sa=rt.useRef(0),An=rt.useRef(null),[$i,Yi]=x.split("-"),Rn=rt.useMemo(()=>U.reduce((bt,de,fe)=>fe>=yt?bt:bt+de.height,0),[U,yt]),Qi=RA(),Xi=_.invert||T,Wi=Le==="loading";ai.current=rt.useMemo(()=>yt*Et+Rn,[yt,Rn]),rt.useEffect(()=>{he.current=Ue},[Ue]),rt.useEffect(()=>{ut(!0)},[]),rt.useEffect(()=>{const bt=tn.current;if(bt){const de=bt.getBoundingClientRect().height;return Gn(de),B(fe=>[{toastId:_.id,height:de,position:_.position},...fe]),()=>B(fe=>fe.filter(Ne=>Ne.toastId!==_.id))}},[B,_.id]),rt.useLayoutEffect(()=>{if(!Q)return;const bt=tn.current,de=bt.style.height;bt.style.height="auto";const fe=bt.getBoundingClientRect().height;bt.style.height=de,Gn(fe),B(Ne=>Ne.find(Ee=>Ee.toastId===_.id)?Ne.map(Ee=>Ee.toastId===_.id?{...Ee,height:fe}:Ee):[{toastId:_.id,height:fe,position:_.position},...Ne])},[Q,_.title,_.description,B,_.id,_.jsx,_.action,_.cancel]);const Cn=rt.useCallback(()=>{mt(!0),Ke(ai.current),B(bt=>bt.filter(de=>de.toastId!==_.id)),setTimeout(()=>{dt(_)},jA)},[_,dt,B,ai]);rt.useEffect(()=>{if(_.promise&&Le==="loading"||_.duration===1/0||_.type==="loading")return;let bt;return nt||M||Qi?(()=>{if(Sa.current<xe.current){const Ne=new Date().getTime()-xe.current;he.current=he.current-Ne}Sa.current=new Date().getTime()})():(()=>{he.current!==1/0&&(xe.current=new Date().getTime(),bt=setTimeout(()=>{_.onAutoClose==null||_.onAutoClose.call(_,_),Cn()},he.current))})(),()=>clearTimeout(bt)},[nt,M,_,Le,Qi,Cn]),rt.useEffect(()=>{_.delete&&(Cn(),_.onDismiss==null||_.onDismiss.call(_,_))},[Cn,_.delete]);function Ms(){var bt;if(it!=null&&it.loading){var de;return rt.createElement("div",{className:ki(z==null?void 0:z.loader,_==null||(de=_.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":Le==="loading"},it.loading)}return rt.createElement(EA,{className:ki(z==null?void 0:z.loader,_==null||(bt=_.classNames)==null?void 0:bt.loader),visible:Le==="loading"})}const oi=_.icon||(it==null?void 0:it[Le])||vA(Le);var Kn,Ur;return rt.createElement("li",{tabIndex:0,ref:tn,className:ki(V,_i,z==null?void 0:z.toast,_==null||(t=_.classNames)==null?void 0:t.toast,z==null?void 0:z.default,z==null?void 0:z[Le],_==null||(n=_.classNames)==null?void 0:n[Le]),"data-sonner-toast":"","data-rich-colors":(Kn=_.richColors)!=null?Kn:lt,"data-styled":!(_.jsx||_.unstyled||w),"data-mounted":Q,"data-promise":!!_.promise,"data-swiped":cn,"data-removed":_t,"data-visible":si,"data-y-position":$i,"data-x-position":Yi,"data-index":ot,"data-front":vi,"data-swiping":ne,"data-dismissible":En,"data-type":Le,"data-invert":Xi,"data-swipe-out":_e,"data-swipe-direction":$,"data-expanded":!!(nt||Mt&&Q),style:{"--index":ot,"--toasts-before":ot,"--z-index":ht.length-ot,"--offset":`${_t?_n:ai.current}px`,"--initial-height":Mt?"auto":`${Xt}px`,...O,..._.style},onDragEnd:()=>{Bt(!1),D(null),An.current=null},onPointerDown:bt=>{Wi||!En||(Pr.current=new Date,Ke(ai.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(Bt(!0),An.current={x:bt.clientX,y:bt.clientY}))},onPointerUp:()=>{var bt,de,fe;if(_e||!En)return;An.current=null;const Ne=Number(((bt=tn.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Vn=Number(((de=tn.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ee=new Date().getTime()-((fe=Pr.current)==null?void 0:fe.getTime()),zt=Rt==="x"?Ne:Vn,me=Math.abs(zt)/Ee;if(Math.abs(zt)>=UA||me>.11){Ke(ai.current),_.onDismiss==null||_.onDismiss.call(_,_),et(Rt==="x"?Ne>0?"right":"left":Vn>0?"down":"up"),Cn(),Se(!0);return}else{var Wt,pe;(Wt=tn.current)==null||Wt.style.setProperty("--swipe-amount-x","0px"),(pe=tn.current)==null||pe.style.setProperty("--swipe-amount-y","0px")}Je(!1),Bt(!1),D(null)},onPointerMove:bt=>{var de,fe,Ne;if(!An.current||!En||((de=window.getSelection())==null?void 0:de.toString().length)>0)return;const Ee=bt.clientY-An.current.y,zt=bt.clientX-An.current.x;var me;const Wt=(me=i.swipeDirections)!=null?me:BA(x);!Rt&&(Math.abs(zt)>1||Math.abs(Ee)>1)&&D(Math.abs(zt)>Math.abs(Ee)?"x":"y");let pe={x:0,y:0};const jr=li=>1/(1.5+Math.abs(li)/20);if(Rt==="y"){if(Wt.includes("top")||Wt.includes("bottom"))if(Wt.includes("top")&&Ee<0||Wt.includes("bottom")&&Ee>0)pe.y=Ee;else{const li=Ee*jr(Ee);pe.y=Math.abs(li)<Math.abs(Ee)?li:Ee}}else if(Rt==="x"&&(Wt.includes("left")||Wt.includes("right")))if(Wt.includes("left")&&zt<0||Wt.includes("right")&&zt>0)pe.x=zt;else{const li=zt*jr(zt);pe.x=Math.abs(li)<Math.abs(zt)?li:zt}(Math.abs(pe.x)>0||Math.abs(pe.y)>0)&&Je(!0),(fe=tn.current)==null||fe.style.setProperty("--swipe-amount-x",`${pe.x}px`),(Ne=tn.current)==null||Ne.style.setProperty("--swipe-amount-y",`${pe.y}px`)}},Ut&&!_.jsx&&Le!=="loading"?rt.createElement("button",{"aria-label":ct,"data-disabled":Wi,"data-close-button":!0,onClick:Wi||!En?()=>{}:()=>{Cn(),_.onDismiss==null||_.onDismiss.call(_,_)},className:ki(z==null?void 0:z.closeButton,_==null||(s=_.classNames)==null?void 0:s.closeButton)},(Ur=it==null?void 0:it.close)!=null?Ur:AA):null,(Le||_.icon||_.promise)&&_.icon!==null&&((it==null?void 0:it[Le])!==null||_.icon)?rt.createElement("div",{"data-icon":"",className:ki(z==null?void 0:z.icon,_==null||(o=_.classNames)==null?void 0:o.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||Ms():null,_.type!=="loading"?oi:null):null,rt.createElement("div",{"data-content":"",className:ki(z==null?void 0:z.content,_==null||(u=_.classNames)==null?void 0:u.content)},rt.createElement("div",{"data-title":"",className:ki(z==null?void 0:z.title,_==null||(h=_.classNames)==null?void 0:h.title)},_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title),_.description?rt.createElement("div",{"data-description":"",className:ki(k,Lr,z==null?void 0:z.description,_==null||(m=_.classNames)==null?void 0:m.description)},typeof _.description=="function"?_.description():_.description):null),rt.isValidElement(_.cancel)?_.cancel:_.cancel&&Zc(_.cancel)?rt.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||R,onClick:bt=>{Zc(_.cancel)&&En&&(_.cancel.onClick==null||_.cancel.onClick.call(_.cancel,bt),Cn())},className:ki(z==null?void 0:z.cancelButton,_==null||(p=_.classNames)==null?void 0:p.cancelButton)},_.cancel.label):null,rt.isValidElement(_.action)?_.action:_.action&&Zc(_.action)?rt.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||I,onClick:bt=>{Zc(_.action)&&(_.action.onClick==null||_.action.onClick.call(_.action,bt),!bt.defaultPrevented&&Cn())},className:ki(z==null?void 0:z.actionButton,_==null||(g=_.classNames)==null?void 0:g.actionButton)},_.action.label):null)};function r0(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function HA(i,t){const n={};return[i,t].forEach((s,o)=>{const u=o===1,h=u?"--mobile-offset":"--offset",m=u?kA:VA;function p(g){["top","right","bottom","left"].forEach(T=>{n[`${h}-${T}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?n[`${h}-${g}`]=m:n[`${h}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):p(m)}),n}const _u=rt.forwardRef(function(t,n){const{invert:s,position:o="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:m,className:p,offset:g,mobileOffset:T,theme:_="light",richColors:w,duration:M,style:B,visibleToasts:X=MA,toastOptions:U,dir:ot=r0(),gap:ht=LA,icons:nt,containerAriaLabel:dt="Notifications"}=t,[lt,at]=rt.useState([]),O=rt.useMemo(()=>Array.from(new Set([o].concat(lt.filter($=>$.position).map($=>$.position)))),[lt,o]),[R,I]=rt.useState([]),[V,k]=rt.useState(!1),[L,x]=rt.useState(!1),[Et,Mt]=rt.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=rt.useRef(null),it=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ct=rt.useRef(null),Rt=rt.useRef(!1),D=rt.useCallback($=>{at(et=>{var Q;return(Q=et.find(ut=>ut.id===$.id))!=null&&Q.delete||On.dismiss($.id),et.filter(({id:ut})=>ut!==$.id)})},[]);return rt.useEffect(()=>On.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{at(et=>et.map(Q=>Q.id===$.id?{...Q,delete:!0}:Q))});return}setTimeout(()=>{ha.flushSync(()=>{at(et=>{const Q=et.findIndex(ut=>ut.id===$.id);return Q!==-1?[...et.slice(0,Q),{...et[Q],...$},...et.slice(Q+1)]:[$,...et]})})})}),[lt]),rt.useEffect(()=>{if(_!=="system"){Mt(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Mt("dark"):Mt("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:et})=>{Mt(et?"dark":"light")})}catch{$.addListener(({matches:Q})=>{try{Mt(Q?"dark":"light")}catch(ut){console.error(ut)}})}},[_]),rt.useEffect(()=>{lt.length<=1&&k(!1)},[lt]),rt.useEffect(()=>{const $=et=>{var Q;if(u.every(mt=>et[mt]||et.code===mt)){var _t;k(!0),(_t=z.current)==null||_t.focus()}et.code==="Escape"&&(document.activeElement===z.current||(Q=z.current)!=null&&Q.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[u]),rt.useEffect(()=>{if(z.current)return()=>{ct.current&&(ct.current.focus({preventScroll:!0}),ct.current=null,Rt.current=!1)}},[z.current]),rt.createElement("section",{ref:n,"aria-label":`${dt} ${it}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map(($,et)=>{var Q;const[ut,_t]=$.split("-");return lt.length?rt.createElement("ol",{key:$,dir:ot==="auto"?r0():ot,tabIndex:-1,ref:z,className:p,"data-sonner-toaster":!0,"data-sonner-theme":Et,"data-y-position":ut,"data-x-position":_t,style:{"--front-toast-height":`${((Q=R[0])==null?void 0:Q.height)||0}px`,"--width":`${PA}px`,"--gap":`${ht}px`,...B,...HA(g,T)},onBlur:mt=>{Rt.current&&!mt.currentTarget.contains(mt.relatedTarget)&&(Rt.current=!1,ct.current&&(ct.current.focus({preventScroll:!0}),ct.current=null))},onFocus:mt=>{mt.target instanceof HTMLElement&&mt.target.dataset.dismissible==="false"||Rt.current||(Rt.current=!0,ct.current=mt.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{L||k(!1)},onDragEnd:()=>k(!1),onPointerDown:mt=>{mt.target instanceof HTMLElement&&mt.target.dataset.dismissible==="false"||x(!0)},onPointerUp:()=>x(!1)},lt.filter(mt=>!mt.position&&et===0||mt.position===$).map((mt,ne)=>{var Bt,_e;return rt.createElement(zA,{key:mt.id,icons:nt,index:ne,toast:mt,defaultRichColors:w,duration:(Bt=U==null?void 0:U.duration)!=null?Bt:M,className:U==null?void 0:U.className,descriptionClassName:U==null?void 0:U.descriptionClassName,invert:s,visibleToasts:X,closeButton:(_e=U==null?void 0:U.closeButton)!=null?_e:m,interacting:L,position:$,style:U==null?void 0:U.style,unstyled:U==null?void 0:U.unstyled,classNames:U==null?void 0:U.classNames,cancelButtonStyle:U==null?void 0:U.cancelButtonStyle,actionButtonStyle:U==null?void 0:U.actionButtonStyle,closeButtonAriaLabel:U==null?void 0:U.closeButtonAriaLabel,removeToast:D,toasts:lt.filter(Se=>Se.position==mt.position),heights:R.filter(Se=>Se.position==mt.position),setHeights:I,expandByDefault:h,gap:ht,expanded:V,swipeDirections:t.swipeDirections})})):null}))});function qA({guesses:i,className:t,wordLength:n,highLight:s}){return A.jsx("div",{className:`wordle-board ${t}`,children:i.map((o,u)=>A.jsx(FA,{guess:o,wordLength:n,highLight:u===s-1?"highlight":""},u))})}function FA({guess:i,wordLength:t,highLight:n}){const s=[];for(let o=0;o<t;o++){let u=i.word[o],h=`tile ${i.colors[o]}`,m=`letter ${i.colors[o]}`;s.push(A.jsx("div",{className:h+" "+n,style:{"--index":o},children:A.jsxs("div",{className:"tile-inner",style:{"--index":o},children:[A.jsx("div",{className:"letter black",style:{"--index":o},children:A.jsx("span",{children:u})}),A.jsx("div",{className:m,style:{"--index":o},children:A.jsx("span",{children:u})})]})},o))}return A.jsx(A.Fragment,{children:s})}function Sp({darkMode:i,gameMode:t,solution:n,wordSet:s,gameResult:o,setGameResult:u,rowIndex:h,numOfGuesses:m,wordLength:p,highLight:g,guesses:T,setGuesses:_,keyColors:w,setKeyColors:M,baseColors:B,userData:X}){const U=C.useRef({word:"",colors:B}),ot=C.useRef(!0),ht=R=>new Promise(I=>setTimeout(I,R)),nt=(R,I)=>{setTimeout(()=>{w.get(R)!=="green"&&M(V=>{const k=new Map(V);return k.set(R,I),k})},1700)},dt=R=>{const I=[...T];I[h.current]={...R},_(I)},lt=async()=>{const R=new Array(p).fill(void 0),I=new Map,V=[];let k=0;const L=new Map;n.forEach(x=>L.has(x)?L.set(x,L.get(x)+1):L.set(x,1)),U.current.word.split("").forEach((x,Et)=>{x===n[Et]?(R[Et]="green",I.set(x,"green"),k++,L.set(x,L.get(x)-1)):V.push(Et)}),V.forEach(x=>{const Et=U.current.word[x];L.get(Et)&&n.includes(Et)?(R[x]="orange",L.set(Et,L.get(Et)-1),!I.has(Et)&&I.set(Et,"orange")):(R[x]="grey",!I.has(Et)&&I.set(Et,"grey"))}),I.forEach((x,Et)=>{nt(Et,x)}),U.current={word:U.current.word,colors:R},dt(U.current),await ht(1700),k===p&&(await ht(1e3),u("guessed"))},at=R=>{O(R.target.id)},O=async R=>{var I;(t==="practice"||t!=="practice"&&!((I=X.current)!=null&&I.statistics.gameModes[`${t}GM`].finishedToday))&&!o&&ot.current&&(R==="ENTER"?U.current.word.length===p?s.current.has(U.current.word.toLowerCase())?(ot.current=!1,await lt(),h.current++,U.current={word:"",colors:B},ot.current=!0,!o&&h.current>=m&&(u("failed"),h.current++)):Li.warning("Not in the word bank."):Li.warning("Too short."):h.current<m&&(R==="BACKSPACE"&&U.current.word.length>0?(U.current.word=U.current.word.slice(0,-1),dt(U.current)):/[A-Z]/.test(R)&&R.length===1&&U.current.word.length<p&&(U.current.word=U.current.word+R,dt(U.current))))};return C.useEffect(()=>{const R=I=>{O(I.key.toUpperCase())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[T]),A.jsxs(A.Fragment,{children:[A.jsx(_u,{richColors:!0,position:"top-center"}),A.jsx("h3",{className:`game-mode ${i}`,children:t}),A.jsx(qA,{guesses:T,className:i,wordLength:p,highLight:g}),A.jsx(wp.Provider,{value:{handleKeyClick:at},children:A.jsx(dA,{className:i,keyColors:w})})]})}const GA=(i=!0)=>{const t=C.useRef(i),[n,s]=C.useState(t.current?"dark":"light"),o=C.useCallback(()=>{t.current=!t.current,s(t.current?"dark":"light")},[]);return[n,o]};var bm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var s0;function KA(){return s0||(s0=1,function(i){(function(){var t={}.hasOwnProperty;function n(){for(var u="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(u=o(u,s(m)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var m in u)t.call(u,m)&&u[m]&&(h=o(h,m));return h}function o(u,h){return h?u?u+" "+h:u+h:u}i.exports?(n.default=n,i.exports=n):window.classNames=n})()}(bm)),bm.exports}var $A=KA();const Nt=Kf($A);function Fm(){return Fm=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Fm.apply(null,arguments)}function ZE(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)!==-1)continue;n[s]=i[s]}return n}function a0(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function YA(i){var t=QA(i,"string");return typeof t=="symbol"?t:String(t)}function QA(i,t){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function XA(i,t,n){var s=C.useRef(i!==void 0),o=C.useState(t),u=o[0],h=o[1],m=i!==void 0,p=s.current;return s.current=m,!m&&p&&u!==t&&h(t),[m?i:u,C.useCallback(function(g){for(var T=arguments.length,_=new Array(T>1?T-1:0),w=1;w<T;w++)_[w-1]=arguments[w];n&&n.apply(void 0,[g].concat(_)),h(g)},[n])]}function Ap(i,t){return Object.keys(t).reduce(function(n,s){var o,u=n,h=u[a0(s)],m=u[s],p=ZE(u,[a0(s),s].map(YA)),g=t[s],T=XA(m,h,i[g]),_=T[0],w=T[1];return Fm({},p,(o={},o[s]=_,o[g]=w,o))},i)}function Gm(i,t){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gm(i,t)}function WA(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,Gm(i,t)}const ZA=["xxl","xl","lg","md","sm","xs"],JA="xs",Eu=C.createContext({prefixes:{},breakpoints:ZA,minBreakpoint:JA}),{Consumer:I4,Provider:x4}=Eu;function kt(i,t){const{prefixes:n}=C.useContext(Eu);return i||n[t]||t}function tR(){const{breakpoints:i}=C.useContext(Eu);return i}function eR(){const{minBreakpoint:i}=C.useContext(Eu);return i}function nR(){const{dir:i}=C.useContext(Eu);return i==="rtl"}function $f(i){return i&&i.ownerDocument||document}function iR(i){var t=$f(i);return t&&t.defaultView||window}function rR(i,t){return iR(i).getComputedStyle(i,t)}var sR=/([A-Z])/g;function aR(i){return i.replace(sR,"-$1").toLowerCase()}var oR=/^ms-/;function Jc(i){return aR(i).replace(oR,"-ms-")}var lR=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function uR(i){return!!(i&&lR.test(i))}function Rr(i,t){var n="",s="";if(typeof t=="string")return i.style.getPropertyValue(Jc(t))||rR(i).getPropertyValue(Jc(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?i.style.removeProperty(Jc(o)):uR(o)?s+=o+"("+u+") ":n+=Jc(o)+": "+u+";"}),s&&(n+="transform: "+s+";"),i.style.cssText+=";"+n}var wm={exports:{}},Sm,o0;function cR(){if(o0)return Sm;o0=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Sm=i,Sm}var Am,l0;function fR(){if(l0)return Am;l0=1;var i=cR();function t(){}function n(){}return n.resetWarningCache=t,Am=function(){function s(h,m,p,g,T,_){if(_!==i){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return u.PropTypes=u,u},Am}var u0;function hR(){return u0||(u0=1,wm.exports=fR()()),wm.exports}var dR=hR();const Cr=Kf(dR),c0={disabled:!1},JE=rt.createContext(null);var mR=function(t){return t.scrollTop},Yl="unmounted",hs="exited",mi="entering",br="entered",ou="exiting",Vr=function(i){WA(t,i);function t(s,o){var u;u=i.call(this,s,o)||this;var h=o,m=h&&!h.isMounting?s.enter:s.appear,p;return u.appearStatus=null,s.in?m?(p=hs,u.appearStatus=mi):p=br:s.unmountOnExit||s.mountOnEnter?p=Yl:p=hs,u.state={status:p},u.nextCallback=null,u}t.getDerivedStateFromProps=function(o,u){var h=o.in;return h&&u.status===Yl?{status:hs}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var u=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==mi&&h!==br&&(u=mi):(h===mi||h===br)&&(u=ou)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,u,h,m;return u=h=m=o,o!=null&&typeof o!="number"&&(u=o.exit,h=o.enter,m=o.appear!==void 0?o.appear:h),{exit:u,enter:h,appear:m}},n.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===mi){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:ha.findDOMNode(this);h&&mR(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===hs&&this.setState({status:Yl})},n.performEnter=function(o){var u=this,h=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[ha.findDOMNode(this),m],g=p[0],T=p[1],_=this.getTimeouts(),w=m?_.appear:_.enter;if(!o&&!h||c0.disabled){this.safeSetState({status:br},function(){u.props.onEntered(g)});return}this.props.onEnter(g,T),this.safeSetState({status:mi},function(){u.props.onEntering(g,T),u.onTransitionEnd(w,function(){u.safeSetState({status:br},function(){u.props.onEntered(g,T)})})})},n.performExit=function(){var o=this,u=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:ha.findDOMNode(this);if(!u||c0.disabled){this.safeSetState({status:hs},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:ou},function(){o.props.onExiting(m),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:hs},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},n.setNextCallback=function(o){var u=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,u.nextCallback=null,o(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},n.onTransitionEnd=function(o,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:ha.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],T=p[1];this.props.addEndListener(g,T)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Yl)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=ZE(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return rt.createElement(JE.Provider,{value:null},typeof h=="function"?h(o,m):rt.cloneElement(rt.Children.only(h),m))},t}(rt.Component);Vr.contextType=JE;Vr.propTypes={};function mo(){}Vr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mo,onEntering:mo,onEntered:mo,onExit:mo,onExiting:mo,onExited:mo};Vr.UNMOUNTED=Yl;Vr.EXITED=hs;Vr.ENTERING=mi;Vr.ENTERED=br;Vr.EXITING=ou;function pR(i){return i.code==="Escape"||i.keyCode===27}function gR(){const i=C.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Po(i){if(!i||typeof i=="function")return null;const{major:t}=gR();return t>=19?i.props.ref:i.ref}const Lo=!!(typeof window<"u"&&window.document&&window.document.createElement);var Km=!1,$m=!1;try{var Rm={get passive(){return Km=!0},get once(){return $m=Km=!0}};Lo&&(window.addEventListener("test",Rm,Rm),window.removeEventListener("test",Rm,!0))}catch{}function tT(i,t,n,s){if(s&&typeof s!="boolean"&&!$m){var o=s.once,u=s.capture,h=n;!$m&&o&&(h=n.__once||function m(p){this.removeEventListener(t,m,u),n.call(this,p)},n.__once=h),i.addEventListener(t,h,Km?s:u)}i.addEventListener(t,n,s)}function Ym(i,t,n,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(t,n,o),n.__once&&i.removeEventListener(t,n.__once,o)}function bf(i,t,n,s){return tT(i,t,n,s),function(){Ym(i,t,n,s)}}function yR(i,t,n,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,s),i.dispatchEvent(o)}}function vR(i){var t=Rr(i,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function _R(i,t,n){n===void 0&&(n=5);var s=!1,o=setTimeout(function(){s||yR(i,"transitionend",!0)},t+n),u=bf(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function eT(i,t,n,s){n==null&&(n=vR(i)||0);var o=_R(i,n,s),u=bf(i,"transitionend",t);return function(){o(),u()}}function f0(i,t){const n=Rr(i,t)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function Rp(i,t){const n=f0(i,"transitionDuration"),s=f0(i,"transitionDelay"),o=eT(i,u=>{u.target===i&&(o(),t(u))},n+s)}function $l(...i){return i.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...o){t.apply(this,o),n.apply(this,o)}},null)}function nT(i){i.offsetHeight}const h0=i=>!i||typeof i=="function"?i:t=>{i.current=t};function ER(i,t){const n=h0(i),s=h0(t);return o=>{n&&n(o),s&&s(o)}}function iT(i,t){return C.useMemo(()=>ER(i,t),[i,t])}function TR(i){return i&&"setState"in i?ha.findDOMNode(i):i??null}const Yf=rt.forwardRef(({onEnter:i,onEntering:t,onEntered:n,onExit:s,onExiting:o,onExited:u,addEndListener:h,children:m,childRef:p,...g},T)=>{const _=C.useRef(null),w=iT(_,p),M=at=>{w(TR(at))},B=at=>O=>{at&&_.current&&at(_.current,O)},X=C.useCallback(B(i),[i]),U=C.useCallback(B(t),[t]),ot=C.useCallback(B(n),[n]),ht=C.useCallback(B(s),[s]),nt=C.useCallback(B(o),[o]),dt=C.useCallback(B(u),[u]),lt=C.useCallback(B(h),[h]);return A.jsx(Vr,{ref:T,...g,onEnter:X,onEntered:ot,onEntering:U,onExit:ht,onExited:dt,onExiting:nt,addEndListener:lt,nodeRef:_,children:typeof m=="function"?(at,O)=>m(at,{...O,ref:M}):rt.cloneElement(m,{ref:M})})});Yf.displayName="TransitionWrapper";const bR={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function wR(i,t){const n=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=t[n],o=bR[i];return s+parseInt(Rr(t,o[0]),10)+parseInt(Rr(t,o[1]),10)}const SR={[hs]:"collapse",[ou]:"collapsing",[mi]:"collapsing",[br]:"collapse show"},Cp=rt.forwardRef(({onEnter:i,onEntering:t,onEntered:n,onExit:s,onExiting:o,className:u,children:h,dimension:m="height",in:p=!1,timeout:g=300,mountOnEnter:T=!1,unmountOnExit:_=!1,appear:w=!1,getDimensionValue:M=wR,...B},X)=>{const U=typeof m=="function"?m():m,ot=C.useMemo(()=>$l(at=>{at.style[U]="0"},i),[U,i]),ht=C.useMemo(()=>$l(at=>{const O=`scroll${U[0].toUpperCase()}${U.slice(1)}`;at.style[U]=`${at[O]}px`},t),[U,t]),nt=C.useMemo(()=>$l(at=>{at.style[U]=null},n),[U,n]),dt=C.useMemo(()=>$l(at=>{at.style[U]=`${M(U,at)}px`,nT(at)},s),[s,M,U]),lt=C.useMemo(()=>$l(at=>{at.style[U]=null},o),[U,o]);return A.jsx(Yf,{ref:X,addEndListener:Rp,...B,"aria-expanded":B.role?p:null,onEnter:ot,onEntering:ht,onEntered:nt,onExit:dt,onExiting:lt,childRef:Po(h),in:p,timeout:g,mountOnEnter:T,unmountOnExit:_,appear:w,children:(at,O)=>rt.cloneElement(h,{...O,className:Nt(u,h.props.className,SR[at],U==="width"&&"collapse-horizontal")})})});Cp.displayName="Collapse";function rT(i,t){return Array.isArray(i)?i.includes(t):i===t}const Tu=C.createContext({});Tu.displayName="AccordionContext";const Ip=C.forwardRef(({as:i="div",bsPrefix:t,className:n,children:s,eventKey:o,...u},h)=>{const{activeEventKey:m}=C.useContext(Tu);return t=kt(t,"accordion-collapse"),A.jsx(Cp,{ref:h,in:rT(m,o),...u,className:Nt(n,t),children:A.jsx(i,{children:C.Children.only(s)})})});Ip.displayName="AccordionCollapse";const Qf=C.createContext({eventKey:""});Qf.displayName="AccordionItemContext";const sT=C.forwardRef(({as:i="div",bsPrefix:t,className:n,onEnter:s,onEntering:o,onEntered:u,onExit:h,onExiting:m,onExited:p,...g},T)=>{t=kt(t,"accordion-body");const{eventKey:_}=C.useContext(Qf);return A.jsx(Ip,{eventKey:_,onEnter:s,onEntering:o,onEntered:u,onExit:h,onExiting:m,onExited:p,children:A.jsx(i,{ref:T,...g,className:Nt(n,t)})})});sT.displayName="AccordionBody";function AR(i,t){const{activeEventKey:n,onSelect:s,alwaysOpen:o}=C.useContext(Tu);return u=>{let h=i===n?null:i;o&&(Array.isArray(n)?n.includes(i)?h=n.filter(m=>m!==i):h=[...n,i]:h=[i]),s==null||s(h,u),t==null||t(u)}}const xp=C.forwardRef(({as:i="button",bsPrefix:t,className:n,onClick:s,...o},u)=>{t=kt(t,"accordion-button");const{eventKey:h}=C.useContext(Qf),m=AR(h,s),{activeEventKey:p}=C.useContext(Tu);return i==="button"&&(o.type="button"),A.jsx(i,{ref:u,onClick:m,...o,"aria-expanded":Array.isArray(p)?p.includes(h):h===p,className:Nt(n,t,!rT(p,h)&&"collapsed")})});xp.displayName="AccordionButton";const aT=C.forwardRef(({as:i="h2","aria-controls":t,bsPrefix:n,className:s,children:o,onClick:u,...h},m)=>(n=kt(n,"accordion-header"),A.jsx(i,{ref:m,...h,className:Nt(s,n),children:A.jsx(xp,{onClick:u,"aria-controls":t,children:o})})));aT.displayName="AccordionHeader";const oT=C.forwardRef(({as:i="div",bsPrefix:t,className:n,eventKey:s,...o},u)=>{t=kt(t,"accordion-item");const h=C.useMemo(()=>({eventKey:s}),[s]);return A.jsx(Qf.Provider,{value:h,children:A.jsx(i,{ref:u,...o,className:Nt(n,t)})})});oT.displayName="AccordionItem";const lT=C.forwardRef((i,t)=>{const{as:n="div",activeKey:s,bsPrefix:o,className:u,onSelect:h,flush:m,alwaysOpen:p,...g}=Ap(i,{activeKey:"onSelect"}),T=kt(o,"accordion"),_=C.useMemo(()=>({activeEventKey:s,onSelect:h,alwaysOpen:p}),[s,h,p]);return A.jsx(Tu.Provider,{value:_,children:A.jsx(n,{ref:t,...g,className:Nt(u,T,m&&`${T}-flush`)})})});lT.displayName="Accordion";const tf=Object.assign(lT,{Button:xp,Collapse:Ip,Item:oT,Header:aT,Body:sT});function RR(i){return vu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(i)}function CR(i){return vu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(i)}const IR=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},xR=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,_=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(w=64)),s.push(n[T],n[_],n[w],n[M])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(uT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):xR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const _=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||_==null)throw new NR;const w=u<<2|m>>4;if(s.push(w),g!==64){const M=m<<4&240|g>>2;if(s.push(M),_!==64){const B=g<<6&192|_;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class NR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OR=function(i){const t=uT(i);return cT.encodeByteArray(t,!0)},wf=function(i){return OR(i).replace(/\./g,"")},fT=function(i){try{return cT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=()=>DR().__FIREBASE_DEFAULTS__,VR=()=>{if(typeof process>"u"||typeof d0>"u")return;const i=d0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},kR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&fT(i[1]);return t&&JSON.parse(t)},Xf=()=>{try{return IR()||MR()||VR()||kR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},hT=i=>{var t,n;return(n=(t=Xf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},PR=i=>{const t=hT(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},dT=()=>{var i;return(i=Xf())===null||i===void 0?void 0:i.config},mT=i=>{var t;return(t=Xf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(i){return i.endsWith(".cloudworkstations.dev")}async function pT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[wf(JSON.stringify(n)),wf(JSON.stringify(h)),""].join(".")}const tu={};function jR(){const i={prod:[],emulator:[]};for(const t of Object.keys(tu))tu[t]?i.emulator.push(t):i.prod.push(t);return i}function BR(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let m0=!1;function gT(i,t){if(typeof window>"u"||typeof document>"u"||!Uo(window.location.host)||tu[i]===t||tu[i]||m0)return;tu[i]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=jR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,M){w.setAttribute("width","24"),w.setAttribute("id",M),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{m0=!0,h()},w}function T(w,M){w.setAttribute("id",M),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=BR(s),M=n("text"),B=document.getElementById(M)||document.createElement("span"),X=n("learnmore"),U=document.getElementById(X)||document.createElement("a"),ot=n("preprendIcon"),ht=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const nt=w.element;m(nt),T(U,X);const dt=g();p(ht,ot),nt.append(ht,B,U,dt),document.body.appendChild(nt)}u?(B.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function HR(){var i;const t=(i=Xf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function GR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KR(){const i=yn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function $R(){return!HR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YR(){try{return typeof indexedDB=="object"}catch{return!1}}function QR(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="FirebaseError";class kr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=XR,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?WR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new kr(o,m,s)}}function WR(i,t){return i.replace(ZR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const ZR=/\{\$([^}]+)}/g;function JR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ma(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(p0(u)&&p0(h)){if(!ma(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function p0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ql(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Xl(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function tC(i,t){const n=new eC(i,t);return n.subscribe.bind(n)}class eC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nC(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Cm),o.error===void 0&&(o.error=Cm),o.complete===void 0&&(o.complete=Cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nC(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(i){return i&&i._delegate?i._delegate:i}class pa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new LR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sC(t))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ua){return this.instances.has(t)}getOptions(t=ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ua){return this.component?this.component.multipleInstances?t:ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rC(i){return i===ua?void 0:i}function sC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new iC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ft||(Ft={}));const oC={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},lC=Ft.INFO,uC={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},cC=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=uC[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Np{constructor(t){this.name=t,this._logLevel=lC,this._logHandler=cC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const fC=(i,t)=>t.some(n=>i instanceof n);let g0,y0;function hC(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dC(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yT=new WeakMap,Qm=new WeakMap,vT=new WeakMap,Im=new WeakMap,Op=new WeakMap;function mC(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(vs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&yT.set(n,i)}).catch(()=>{}),Op.set(t,i),t}function pC(i){if(Qm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Qm.set(i,t)}let Xm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Qm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||vT.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function gC(i){Xm=i(Xm)}function yC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(xm(this),t,...n);return vT.set(s,t.sort?t.sort():[t]),vs(s)}:dC().includes(i)?function(...t){return i.apply(xm(this),t),vs(yT.get(this))}:function(...t){return vs(i.apply(xm(this),t))}}function vC(i){return typeof i=="function"?yC(i):(i instanceof IDBTransaction&&pC(i),fC(i,hC())?new Proxy(i,Xm):i)}function vs(i){if(i instanceof IDBRequest)return mC(i);if(Im.has(i))return Im.get(i);const t=vC(i);return t!==i&&(Im.set(i,t),Op.set(t,i)),t}const xm=i=>Op.get(i);function _C(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=vs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(vs(h.result),p.oldVersion,p.newVersion,vs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const EC=["get","getKey","getAll","getAllKeys","count"],TC=["put","add","delete","clear"],Nm=new Map;function v0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Nm.get(t))return Nm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=TC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||EC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Nm.set(t,u),u}gC(i=>({...i,get:(t,n,s)=>v0(t,n)||i.get(t,n,s),has:(t,n)=>!!v0(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function wC(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wm="@firebase/app",_0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Np("@firebase/app"),SC="@firebase/app-compat",AC="@firebase/analytics-compat",RC="@firebase/analytics",CC="@firebase/app-check-compat",IC="@firebase/app-check",xC="@firebase/auth",NC="@firebase/auth-compat",OC="@firebase/database",DC="@firebase/data-connect",MC="@firebase/database-compat",VC="@firebase/functions",kC="@firebase/functions-compat",PC="@firebase/installations",LC="@firebase/installations-compat",UC="@firebase/messaging",jC="@firebase/messaging-compat",BC="@firebase/performance",zC="@firebase/performance-compat",HC="@firebase/remote-config",qC="@firebase/remote-config-compat",FC="@firebase/storage",GC="@firebase/storage-compat",KC="@firebase/firestore",$C="@firebase/ai",YC="@firebase/firestore-compat",QC="firebase",XC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",WC={[Wm]:"fire-core",[SC]:"fire-core-compat",[RC]:"fire-analytics",[AC]:"fire-analytics-compat",[IC]:"fire-app-check",[CC]:"fire-app-check-compat",[xC]:"fire-auth",[NC]:"fire-auth-compat",[OC]:"fire-rtdb",[DC]:"fire-data-connect",[MC]:"fire-rtdb-compat",[VC]:"fire-fn",[kC]:"fire-fn-compat",[PC]:"fire-iid",[LC]:"fire-iid-compat",[UC]:"fire-fcm",[jC]:"fire-fcm-compat",[BC]:"fire-perf",[zC]:"fire-perf-compat",[HC]:"fire-rc",[qC]:"fire-rc-compat",[FC]:"fire-gcs",[GC]:"fire-gcs-compat",[KC]:"fire-fst",[YC]:"fire-fst-compat",[$C]:"fire-vertex","fire-js":"fire-js",[QC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,ZC=new Map,Jm=new Map;function E0(i,t){try{i.container.addComponent(t)}catch(n){xr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ao(i){const t=i.name;if(Jm.has(t))return xr.debug(`There were multiple attempts to register component ${t}.`),!1;Jm.set(t,i);for(const n of Sf.values())E0(n,i);for(const n of ZC.values())E0(n,i);return!0}function Dp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function ri(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new bu("app","Firebase",JC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=XC;function _T(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Zm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(n||(n=dT()),!n)throw _s.create("no-options");const u=Sf.get(o);if(u){if(ma(n,u.options)&&ma(s,u.config))return u;throw _s.create("duplicate-app",{appName:o})}const h=new aC(o);for(const p of Jm.values())h.addComponent(p);const m=new t2(n,s,h);return Sf.set(o,m),m}function ET(i=Zm){const t=Sf.get(i);if(!t&&i===Zm&&dT())return _T();if(!t)throw _s.create("no-app",{appName:i});return t}function Es(i,t,n){var s;let o=(s=WC[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xr.warn(m.join(" "));return}Ao(new pa(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="firebase-heartbeat-database",n2=1,lu="firebase-heartbeat-store";let Om=null;function TT(){return Om||(Om=_C(e2,n2,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(i=>{throw _s.create("idb-open",{originalErrorMessage:i.message})})),Om}async function i2(i){try{const n=(await TT()).transaction(lu),s=await n.objectStore(lu).get(bT(i));return await n.done,s}catch(t){if(t instanceof kr)xr.warn(t.message);else{const n=_s.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xr.warn(n.message)}}}async function T0(i,t){try{const s=(await TT()).transaction(lu,"readwrite");await s.objectStore(lu).put(t,bT(i)),await s.done}catch(n){if(n instanceof kr)xr.warn(n.message);else{const s=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(s.message)}}}function bT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=1024,s2=30;class a2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=b0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>s2){const h=u2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b0(),{heartbeatsToSend:s,unsentEntries:o}=o2(this._heartbeatsCache.heartbeats),u=wf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return xr.warn(n),""}}}function b0(){return new Date().toISOString().substring(0,10)}function o2(i,t=r2){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),w0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),w0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class l2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YR()?QR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return T0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return T0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function w0(i){return wf(JSON.stringify({version:2,heartbeats:i})).length}function u2(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(i){Ao(new pa("platform-logger",t=>new bC(t),"PRIVATE")),Ao(new pa("heartbeat",t=>new a2(t),"PRIVATE")),Es(Wm,_0,i),Es(Wm,_0,"esm2017"),Es("fire-js","")}c2("");var f2="firebase",h2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(f2,h2,"app");function Mp(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function wT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d2=wT,ST=new bu("auth","Firebase",wT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Np("@firebase/auth");function m2(i,...t){Af.logLevel<=Ft.WARN&&Af.warn(`Auth (${jo}): ${i}`,...t)}function ff(i,...t){Af.logLevel<=Ft.ERROR&&Af.error(`Auth (${jo}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(i,...t){throw Vp(i,...t)}function Ui(i,...t){return Vp(i,...t)}function AT(i,t,n){const s=Object.assign(Object.assign({},d2()),{[t]:n});return new bu("auth","Firebase",s).create(t,{appName:i.name})}function Ir(i){return AT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return ST.create(i,...t)}function Ct(i,t,...n){if(!i)throw Vp(t,...n)}function Sr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw ff(t),new Error(t)}function Nr(i,t){i||Sr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function p2(){return S0()==="http:"||S0()==="https:"}function S0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p2()||FR()||"connection"in navigator)?navigator.onLine:!0}function y2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,n){this.shortDelay=t,this.longDelay=n,Nr(n>t,"Short delay should be less than long delay!"),this.isMobile=zR()||GR()}get(){return g2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(i,t){Nr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E2=new Su(3e4,6e4);function xs(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function Ns(i,t,n,s,o={}){return CT(i,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=wu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return qR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Uo(i.emulatorConfig.host)&&(g.credentials="include"),RT.fetch()(await IT(i,i.config.apiHost,n,m),g)})}async function CT(i,t,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},v2),t);try{const o=new b2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ef(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ef(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ef(i,"user-disabled",h);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw AT(i,T,g);gi(i,T)}}catch(o){if(o instanceof kr)throw o;gi(i,"network-request-failed",{message:String(o)})}}async function Au(i,t,n,s,o={}){const u=await Ns(i,t,n,s,o);return"mfaPendingCredential"in u&&gi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function IT(i,t,n,s){const o=`${t}${n}?${s}`,u=i,h=u.config.emulator?kp(i.config,o):`${i.config.apiScheme}://${o}`;return _2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function T2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),E2.get())})}}function ef(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ui(i,t,s);return o.customData._tokenResponse=n,o}function A0(i){return i!==void 0&&i.enterprise!==void 0}class w2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return T2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function S2(i,t){return Ns(i,"GET","/v2/recaptchaConfig",xs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(i,t){return Ns(i,"POST","/v1/accounts:delete",t)}async function Rf(i,t){return Ns(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function R2(i,t=!1){const n=vn(i),s=await n.getIdToken(t),o=Pp(s);Ct(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:eu(Dm(o.auth_time)),issuedAtTime:eu(Dm(o.iat)),expirationTime:eu(Dm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dm(i){return Number(i)*1e3}function Pp(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const o=fT(n);return o?JSON.parse(o):(ff("Failed to decode base64 JWT payload"),null)}catch(o){return ff("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function R0(i){const t=Pp(i);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof kr&&C2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function C2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(i){var t;const n=i.auth,s=await i.getIdToken(),o=await uu(i,Rf(n,{idToken:s}));Ct(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?xT(u.providerUserInfo):[],m=N2(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,_={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ep(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(i,_)}async function x2(i){const t=vn(i);await Cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function N2(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function xT(i){return i.map(t=>{var{providerId:n}=t,s=Mp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(i,t){const n=await CT(i,{},async()=>{const s=wu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await IT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Uo(i.emulatorConfig.host)&&(p.credentials="include"),RT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D2(i,t){return Ns(i,"POST","/v2/accounts:revokeToken",xs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):R0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const n=R0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await O2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new To;return s&&(Ct(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(Ct(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Ct(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(i,t){Ct(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class pi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Mp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ep(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await uu(this,this.stsTokenManager.getToken(this.auth,t));return Ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return R2(this,t)}reload(){return x2(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new pi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Cf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Ir(this.auth));const t=await this.getIdToken();return await uu(this,A2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,h,m,p,g,T;const _=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,B=(h=n.photoURL)!==null&&h!==void 0?h:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ot=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ht=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:nt,emailVerified:dt,isAnonymous:lt,providerData:at,stsTokenManager:O}=n;Ct(nt&&O,t,"internal-error");const R=To.fromJSON(this.name,O);Ct(typeof nt=="string",t,"internal-error"),fs(_,t.name),fs(w,t.name),Ct(typeof dt=="boolean",t,"internal-error"),Ct(typeof lt=="boolean",t,"internal-error"),fs(M,t.name),fs(B,t.name),fs(X,t.name),fs(U,t.name),fs(ot,t.name),fs(ht,t.name);const I=new pi({uid:nt,auth:t,email:w,emailVerified:dt,displayName:_,isAnonymous:lt,photoURL:B,phoneNumber:M,tenantId:X,stsTokenManager:R,createdAt:ot,lastLoginAt:ht});return at&&Array.isArray(at)&&(I.providerData=at.map(V=>Object.assign({},V))),U&&(I._redirectEventId=U),I}static async _fromIdTokenResponse(t,n,s=!1){const o=new To;o.updateFromServerResponse(n);const u=new pi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Cf(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Ct(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new To;m.updateFromIdToken(s);const p=new pi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;function Ar(i){Nr(i instanceof Function,"Expected a class definition");let t=C0.get(i);return t?(Nr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,C0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}NT.type="NONE";const I0=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(i,t,n){return`firebase:${i}:${t}:${n}`}class bo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hf(this.userKey,o.apiKey,u),this.fullPersistenceKey=hf("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Rf(this.auth,{idToken:t}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new bo(Ar(I0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ar(I0);const h=hf(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const T=await g._get(h);if(T){let _;if(typeof T=="string"){const w=await Rf(t,{idToken:T}).catch(()=>{});if(!w)break;_=await pi._fromGetAccountInfoResponse(t,w,T)}else _=pi._fromJSON(t,T);g!==u&&(m=_),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new bo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(OT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(PT(t))return"Blackberry";if(LT(t))return"Webos";if(DT(t))return"Safari";if((t.includes("chrome/")||MT(t))&&!t.includes("edge/"))return"Chrome";if(kT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function OT(i=yn()){return/firefox\//i.test(i)}function DT(i=yn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function MT(i=yn()){return/crios\//i.test(i)}function VT(i=yn()){return/iemobile/i.test(i)}function kT(i=yn()){return/android/i.test(i)}function PT(i=yn()){return/blackberry/i.test(i)}function LT(i=yn()){return/webos/i.test(i)}function Lp(i=yn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function M2(i=yn()){var t;return Lp(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function V2(){return KR()&&document.documentMode===10}function UT(i=yn()){return Lp(i)||kT(i)||LT(i)||PT(i)||/windows phone/i.test(i)||VT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(i,t=[]){let n;switch(i){case"Browser":n=x0(yn());break;case"Worker":n=`${x0(yn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(i,t={}){return Ns(i,"GET","/v2/passwordPolicy",xs(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=6;class U2{constructor(t){var n,s,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:L2,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new k2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ST,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await bo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Rf(this,{idToken:t}),s=await pi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ri(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Cf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=y2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ri(this.app))return Promise.reject(Ir(this));const n=t?vn(t):null;return n&&Ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ri(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await P2(this),n=new U2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new bu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await D2(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ar(t)||this._popupRedirectResolver;Ct(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&m2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ta(i){return vn(i)}class N0{constructor(t){this.auth=t,this.observer=null,this.addObserver=tC(n=>this.observer=n)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B2(i){Wf=i}function BT(i){return Wf.loadJS(i)}function z2(){return Wf.recaptchaEnterpriseScript}function H2(){return Wf.gapiScript}function q2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class F2{constructor(){this.enterprise=new G2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class G2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const K2="recaptcha-enterprise",zT="NO_RECAPTCHA";class $2{constructor(t){this.type=K2,this.auth=Ta(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{S2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new w2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;A0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{h(g)}).catch(()=>{h(zT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&A0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=z2();p.length!==0&&(p+=m),BT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function O0(i,t,n,s=!1,o=!1){const u=new $2(i);let h;if(o)h=zT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function np(i,t,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await O0(i,t,n,n==="getOobCode");return s(i,h)}else return s(i,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await O0(i,t,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(i,t){const n=Dp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ma(u,t??{}))return o;gi(o,"already-initialized")}return n.initialize({options:t})}function Q2(i,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ar);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function X2(i,t,n){const s=Ta(i);Ct(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=HT(t),{host:h,port:m}=W2(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ct(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ct(ma(g,s.config.emulator)&&ma(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Uo(h)?(pT(`${u}//${h}${p}`),gT("Auth",!0)):Z2()}function HT(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function W2(i){const t=HT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:D0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:D0(h)}}}function D0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function Z2(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(t){return Sr("not implemented")}_linkToIdToken(t,n){return Sr("not implemented")}_getReauthenticationResolver(t){return Sr("not implemented")}}async function J2(i,t){return Ns(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(i,t){return Au(i,"POST","/v1/accounts:signInWithPassword",xs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(i,t){return Au(i,"POST","/v1/accounts:signInWithEmailLink",xs(i,t))}async function nI(i,t){return Au(i,"POST","/v1/accounts:signInWithEmailLink",xs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Up{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new cu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new cu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(t,n,"signInWithPassword",tI);case"emailLink":return eI(t,{email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(t,s,"signUpPassword",J2);case"emailLink":return nI(t,{idToken:n,email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i,t){return Au(i,"POST","/v1/accounts:signInWithIdp",xs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="http://localhost";class ga extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ga(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Mp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ga(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return wo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,wo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,wo(t,n)}buildRequest(){const t={requestUri:iI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=wu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sI(i){const t=Ql(Xl(i)).link,n=t?Ql(Xl(t)).deep_link_id:null,s=Ql(Xl(i)).deep_link_id;return(s?Ql(Xl(s)).link:null)||s||n||t||i}class jp{constructor(t){var n,s,o,u,h,m;const p=Ql(Xl(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,_=rI((o=p.mode)!==null&&o!==void 0?o:null);Ct(g&&T&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=sI(t);try{return new jp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(t,n){return cu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=jp.parseLink(n);return Ct(s,"argument-error"),cu._fromEmailAndCode(t,s.code,s.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends qT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Ru{constructor(){super("facebook.com")}static credential(t){return ga._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ds.credential(t.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ga._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Ru{constructor(){super("github.com")}static credential(t){return ga._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ps.credential(t.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Ru{constructor(){super("twitter.com")}static credential(t,n){return ga._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(i,t){return Au(i,"POST","/v1/accounts:signUp",xs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await pi._fromIdTokenResponse(t,s,o),h=M0(s);return new ya({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=M0(s);return new ya({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function M0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends kr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,If.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new If(t,n,s,o)}}function FT(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(i,u,t,s):u})}async function oI(i,t,n=!1){const s=await uu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return ya._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(i,t,n=!1){const{auth:s}=i;if(ri(s.app))return Promise.reject(Ir(s));const o="reauthenticate";try{const u=await uu(i,FT(s,o,t,i),n);Ct(u.idToken,s,"internal-error");const h=Pp(u.idToken);Ct(h,s,"internal-error");const{sub:m}=h;return Ct(i.uid===m,s,"user-mismatch"),ya._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&gi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(i,t,n=!1){if(ri(i.app))return Promise.reject(Ir(i));const s="signIn",o=await FT(i,s,t),u=await ya._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function uI(i,t){return GT(Ta(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(i){const t=Ta(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function cI(i,t,n){if(ri(i.app))return Promise.reject(Ir(i));const s=Ta(i),h=await np(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&KT(i),p}),m=await ya._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function fI(i,t,n){return ri(i.app)?Promise.reject(Ir(i)):uI(vn(i),Bo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&KT(i),s})}function hI(i,t,n,s){return vn(i).onIdTokenChanged(t,n,s)}function dI(i,t,n){return vn(i).beforeAuthStateChanged(t,n)}function mI(i,t,n,s){return vn(i).onAuthStateChanged(t,n,s)}function pI(i){return vn(i).signOut()}const xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xf,"1"),this.storage.removeItem(xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1e3,yI=10;class YT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);V2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,yI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},gI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}YT.type="LOCAL";const vI=YT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}QT.type="SESSION";const XT=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Zf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await _I(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Bp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(_){const w=_;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function TI(i){ji().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function bI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function SI(){return WT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firebaseLocalStorageDb",AI=1,Nf="firebaseLocalStorage",JT="fbase_key";class Cu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jf(i,t){return i.transaction([Nf],t?"readwrite":"readonly").objectStore(Nf)}function RI(){const i=indexedDB.deleteDatabase(ZT);return new Cu(i).toPromise()}function ip(){const i=indexedDB.open(ZT,AI);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Nf,{keyPath:JT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Nf)?t(s):(s.close(),await RI(),t(await ip()))})})}async function V0(i,t,n){const s=Jf(i,!0).put({[JT]:t,value:n});return new Cu(s).toPromise()}async function CI(i,t){const n=Jf(i,!1).get(t),s=await new Cu(n).toPromise();return s===void 0?null:s.value}function k0(i,t){const n=Jf(i,!0).delete(t);return new Cu(n).toPromise()}const II=800,xI=3;class tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>xI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(SI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await bI(),!this.activeServiceWorker)return;this.sender=new EI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||wI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ip();return await V0(t,xf,"1"),await k0(t,xf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>V0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>CI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>k0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Jf(o,!1).getAll();return new Cu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),II)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tb.type="LOCAL";const NI=tb;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(i,t){return t?Ar(t):(Ct(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Up{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return wo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return wo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function DI(i){return GT(i.auth,new zp(i),i.bypassAuthState)}function MI(i){const{auth:t,user:n}=i;return Ct(n,t,"internal-error"),lI(n,new zp(i),i.bypassAuthState)}async function VI(i){const{auth:t,user:n}=i;return Ct(n,t,"internal-error"),oI(n,new zp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return DI;case"linkViaPopup":case"linkViaRedirect":return VI;case"reauthViaPopup":case"reauthViaRedirect":return MI;default:gi(this.auth,"internal-error")}}resolve(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new Su(2e3,1e4);class Eo extends eb{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const t=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kI.get())};t()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="pendingRedirect",df=new Map;class LI extends eb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=df.get(this.auth._key());if(!t){try{const s=await UI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}df.set(this.auth._key(),t)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UI(i,t){const n=zI(t),s=BI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function jI(i,t){df.set(i._key(),t)}function BI(i){return Ar(i._redirectPersistence)}function zI(i){return hf(PI,i.config.apiKey,i.name)}async function HI(i,t,n=!1){if(ri(i.app))return Promise.reject(Ir(i));const s=Ta(i),o=OI(s,t),h=await new LI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=10*60*1e3;class FI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!nb(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ui(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qI&&this.cachedEventUids.clear(),this.cachedEventUids.has(P0(t))}saveEventToCache(t){this.cachedEventUids.add(P0(t)),this.lastProcessedEventTime=Date.now()}}function P0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function nb({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function GI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(i,t={}){return Ns(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YI=/^https?/;async function QI(i){if(i.config.emulator)return;const{authorizedDomains:t}=await KI(i);for(const n of t)try{if(XI(n))return}catch{}gi(i,"unauthorized-domain")}function XI(i){const t=tp(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!YI.test(n))return!1;if($I.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Su(3e4,6e4);function L0(){const i=ji().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function ZI(i){return new Promise((t,n)=>{var s,o,u;function h(){L0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{L0(),n(Ui(i,"network-request-failed"))},timeout:WI.get()})}if(!((o=(s=ji().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=ji().gapi)===null||u===void 0)&&u.load)h();else{const m=q2("iframefcb");return ji()[m]=()=>{gapi.load?h():n(Ui(i,"network-request-failed"))},BT(`${H2()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw mf=null,t})}let mf=null;function JI(i){return mf=mf||ZI(i),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new Su(5e3,15e3),ex="__/auth/iframe",nx="emulator/auth/iframe",ix={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sx(i){const t=i.config;Ct(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?kp(t,nx):`https://${i.config.authDomain}/${ex}`,s={apiKey:t.apiKey,appName:i.name,v:jo},o=rx.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${wu(s).slice(1)}`}async function ax(i){const t=await JI(i),n=ji().gapi;return Ct(n,i,"internal-error"),t.open({where:document.body,url:sx(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ix,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ui(i,"network-request-failed"),m=ji().setTimeout(()=>{u(h)},tx.get());function p(){ji().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lx=500,ux=600,cx="_blank",fx="http://localhost";class U0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hx(i,t,n,s=lx,o=ux){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},ox),{width:s.toString(),height:o.toString(),top:u,left:h}),g=yn().toLowerCase();n&&(m=MT(g)?cx:n),OT(g)&&(t=t||fx,p.scrollbars="yes");const T=Object.entries(p).reduce((w,[M,B])=>`${w}${M}=${B},`,"");if(M2(g)&&m!=="_self")return dx(t||"",m),new U0(null);const _=window.open(t||"",m,T);Ct(_,i,"popup-blocked");try{_.focus()}catch{}return new U0(_)}function dx(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="__/auth/handler",px="emulator/auth/handler",gx=encodeURIComponent("fac");async function j0(i,t,n,s,o,u){Ct(i.config.authDomain,i,"auth-domain-config-required"),Ct(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:jo,eventId:o};if(t instanceof qT){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",JR(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,_]of Object.entries({}))h[T]=_}if(t instanceof Ru){const T=t.getScopes().filter(_=>_!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${gx}=${encodeURIComponent(p)}`:"";return`${yx(i)}?${wu(m).slice(1)}${g}`}function yx({config:i}){return i.emulator?kp(i,px):`https://${i.authDomain}/${mx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="webStorageSupport";class vx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XT,this._completeRedirectFn=HI,this._overrideRedirectResult=jI}async _openPopup(t,n,s,o){var u;Nr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await j0(t,n,s,tp(),o);return hx(t,h,Bp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await j0(t,n,s,tp(),o);return TI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await ax(t),s=new FI(t);return n.register("authEvent",o=>(Ct(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Mm,{type:Mm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Mm];h!==void 0&&n(!!h),gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return UT()||DT()||Lp()}}const _x=vx;var B0="@firebase/auth",z0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bx(i){Ao(new pa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ct(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jT(i)},g=new j2(s,o,u,p);return Q2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ao(new pa("auth-internal",t=>{const n=Ta(t.getProvider("auth").getImmediate());return(s=>new Ex(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(B0,z0,Tx(i)),Es(B0,z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=5*60,Sx=mT("authIdTokenMaxAge")||wx;let H0=null;const Ax=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Sx)return;const o=n==null?void 0:n.token;H0!==o&&(H0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Rx(i=ET()){const t=Dp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=Y2(i,{popupRedirectResolver:_x,persistence:[NI,vI,XT]}),s=mT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Ax(u.toString());dI(n,h,()=>h(n.currentUser)),hI(n,m=>h(m))}}const o=hT("auth");return o&&X2(n,`http://${o}`),n}function Cx(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}B2({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Cx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bx("Browser");var q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,ib;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function I(){}I.prototype=R.prototype,O.D=R.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(V,k,L){for(var x=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)x[Et-2]=arguments[Et];return R.prototype[k].apply(V,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,I){I||(I=0);var V=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)V[k]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(k=0;16>k;++k)V[k]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=O.g[0],I=O.g[1],k=O.g[2];var L=O.g[3],x=R+(L^I&(k^L))+V[0]+3614090360&4294967295;R=I+(x<<7&4294967295|x>>>25),x=L+(k^R&(I^k))+V[1]+3905402710&4294967295,L=R+(x<<12&4294967295|x>>>20),x=k+(I^L&(R^I))+V[2]+606105819&4294967295,k=L+(x<<17&4294967295|x>>>15),x=I+(R^k&(L^R))+V[3]+3250441966&4294967295,I=k+(x<<22&4294967295|x>>>10),x=R+(L^I&(k^L))+V[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(k^R&(I^k))+V[5]+1200080426&4294967295,L=R+(x<<12&4294967295|x>>>20),x=k+(I^L&(R^I))+V[6]+2821735955&4294967295,k=L+(x<<17&4294967295|x>>>15),x=I+(R^k&(L^R))+V[7]+4249261313&4294967295,I=k+(x<<22&4294967295|x>>>10),x=R+(L^I&(k^L))+V[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(k^R&(I^k))+V[9]+2336552879&4294967295,L=R+(x<<12&4294967295|x>>>20),x=k+(I^L&(R^I))+V[10]+4294925233&4294967295,k=L+(x<<17&4294967295|x>>>15),x=I+(R^k&(L^R))+V[11]+2304563134&4294967295,I=k+(x<<22&4294967295|x>>>10),x=R+(L^I&(k^L))+V[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(k^R&(I^k))+V[13]+4254626195&4294967295,L=R+(x<<12&4294967295|x>>>20),x=k+(I^L&(R^I))+V[14]+2792965006&4294967295,k=L+(x<<17&4294967295|x>>>15),x=I+(R^k&(L^R))+V[15]+1236535329&4294967295,I=k+(x<<22&4294967295|x>>>10),x=R+(k^L&(I^k))+V[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^k&(R^I))+V[6]+3225465664&4294967295,L=R+(x<<9&4294967295|x>>>23),x=k+(R^I&(L^R))+V[11]+643717713&4294967295,k=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(k^L))+V[0]+3921069994&4294967295,I=k+(x<<20&4294967295|x>>>12),x=R+(k^L&(I^k))+V[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^k&(R^I))+V[10]+38016083&4294967295,L=R+(x<<9&4294967295|x>>>23),x=k+(R^I&(L^R))+V[15]+3634488961&4294967295,k=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(k^L))+V[4]+3889429448&4294967295,I=k+(x<<20&4294967295|x>>>12),x=R+(k^L&(I^k))+V[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^k&(R^I))+V[14]+3275163606&4294967295,L=R+(x<<9&4294967295|x>>>23),x=k+(R^I&(L^R))+V[3]+4107603335&4294967295,k=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(k^L))+V[8]+1163531501&4294967295,I=k+(x<<20&4294967295|x>>>12),x=R+(k^L&(I^k))+V[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^k&(R^I))+V[2]+4243563512&4294967295,L=R+(x<<9&4294967295|x>>>23),x=k+(R^I&(L^R))+V[7]+1735328473&4294967295,k=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(k^L))+V[12]+2368359562&4294967295,I=k+(x<<20&4294967295|x>>>12),x=R+(I^k^L)+V[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^k)+V[8]+2272392833&4294967295,L=R+(x<<11&4294967295|x>>>21),x=k+(L^R^I)+V[11]+1839030562&4294967295,k=L+(x<<16&4294967295|x>>>16),x=I+(k^L^R)+V[14]+4259657740&4294967295,I=k+(x<<23&4294967295|x>>>9),x=R+(I^k^L)+V[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^k)+V[4]+1272893353&4294967295,L=R+(x<<11&4294967295|x>>>21),x=k+(L^R^I)+V[7]+4139469664&4294967295,k=L+(x<<16&4294967295|x>>>16),x=I+(k^L^R)+V[10]+3200236656&4294967295,I=k+(x<<23&4294967295|x>>>9),x=R+(I^k^L)+V[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^k)+V[0]+3936430074&4294967295,L=R+(x<<11&4294967295|x>>>21),x=k+(L^R^I)+V[3]+3572445317&4294967295,k=L+(x<<16&4294967295|x>>>16),x=I+(k^L^R)+V[6]+76029189&4294967295,I=k+(x<<23&4294967295|x>>>9),x=R+(I^k^L)+V[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^k)+V[12]+3873151461&4294967295,L=R+(x<<11&4294967295|x>>>21),x=k+(L^R^I)+V[15]+530742520&4294967295,k=L+(x<<16&4294967295|x>>>16),x=I+(k^L^R)+V[2]+3299628645&4294967295,I=k+(x<<23&4294967295|x>>>9),x=R+(k^(I|~L))+V[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~k))+V[7]+1126891415&4294967295,L=R+(x<<10&4294967295|x>>>22),x=k+(R^(L|~I))+V[14]+2878612391&4294967295,k=L+(x<<15&4294967295|x>>>17),x=I+(L^(k|~R))+V[5]+4237533241&4294967295,I=k+(x<<21&4294967295|x>>>11),x=R+(k^(I|~L))+V[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~k))+V[3]+2399980690&4294967295,L=R+(x<<10&4294967295|x>>>22),x=k+(R^(L|~I))+V[10]+4293915773&4294967295,k=L+(x<<15&4294967295|x>>>17),x=I+(L^(k|~R))+V[1]+2240044497&4294967295,I=k+(x<<21&4294967295|x>>>11),x=R+(k^(I|~L))+V[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~k))+V[15]+4264355552&4294967295,L=R+(x<<10&4294967295|x>>>22),x=k+(R^(L|~I))+V[6]+2734768916&4294967295,k=L+(x<<15&4294967295|x>>>17),x=I+(L^(k|~R))+V[13]+1309151649&4294967295,I=k+(x<<21&4294967295|x>>>11),x=R+(k^(I|~L))+V[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~k))+V[11]+3174756917&4294967295,L=R+(x<<10&4294967295|x>>>22),x=k+(R^(L|~I))+V[2]+718787259&4294967295,k=L+(x<<15&4294967295|x>>>17),x=I+(L^(k|~R))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(k+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var I=R-this.blockSize,V=this.B,k=this.h,L=0;L<R;){if(k==0)for(;L<=I;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<R;)if(V[k++]=O.charCodeAt(L++),k==this.blockSize){o(this,V),k=0;break}}else for(;L<R;)if(V[k++]=O[L++],k==this.blockSize){o(this,V),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var I=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=I&255,I/=256;for(this.u(O),O=Array(16),R=I=0;4>R;++R)for(var V=0;32>V;V+=8)O[I++]=this.g[R]>>>V&255;return O};function u(O,R){var I=m;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=R(O)}function h(O,R){this.h=R;for(var I=[],V=!0,k=O.length-1;0<=k;k--){var L=O[k]|0;V&&L==R||(I[k]=L,V=!1)}this.g=I}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return U(g(-O));for(var R=[],I=1,V=0;O>=I;V++)R[V]=O/I|0,I*=4294967296;return new h(R,0)}function T(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return U(T(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),V=_,k=0;k<O.length;k+=8){var L=Math.min(8,O.length-k),x=parseInt(O.substring(k,k+L),R);8>L?(L=g(Math.pow(R,L)),V=V.j(L).add(g(x))):(V=V.j(I),V=V.add(g(x)))}return V}var _=p(0),w=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(X(this))return-U(this).m();for(var O=0,R=1,I=0;I<this.g.length;I++){var V=this.i(I);O+=(0<=V?V:4294967296+V)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(B(this))return"0";if(X(this))return"-"+U(this).toString(O);for(var R=g(Math.pow(O,6)),I=this,V="";;){var k=dt(I,R).g;I=ot(I,k.j(R));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=k,B(I))return L+V;for(;6>L.length;)L="0"+L;V=L+V}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function B(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function X(O){return O.h==-1}i.l=function(O){return O=ot(this,O),X(O)?-1:B(O)?0:1};function U(O){for(var R=O.g.length,I=[],V=0;V<R;V++)I[V]=~O.g[V];return new h(I,~O.h).add(w)}i.abs=function(){return X(this)?U(this):this},i.add=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],V=0,k=0;k<=R;k++){var L=V+(this.i(k)&65535)+(O.i(k)&65535),x=(L>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);V=x>>>16,L&=65535,x&=65535,I[k]=x<<16|L}return new h(I,I[I.length-1]&-2147483648?-1:0)};function ot(O,R){return O.add(U(R))}i.j=function(O){if(B(this)||B(O))return _;if(X(this))return X(O)?U(this).j(U(O)):U(U(this).j(O));if(X(O))return U(this.j(U(O)));if(0>this.l(M)&&0>O.l(M))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,I=[],V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var k=0;k<O.g.length;k++){var L=this.i(V)>>>16,x=this.i(V)&65535,Et=O.i(k)>>>16,Mt=O.i(k)&65535;I[2*V+2*k]+=x*Mt,ht(I,2*V+2*k),I[2*V+2*k+1]+=L*Mt,ht(I,2*V+2*k+1),I[2*V+2*k+1]+=x*Et,ht(I,2*V+2*k+1),I[2*V+2*k+2]+=L*Et,ht(I,2*V+2*k+2)}for(V=0;V<R;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=R;V<2*R;V++)I[V]=0;return new h(I,0)};function ht(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function nt(O,R){this.g=O,this.h=R}function dt(O,R){if(B(R))throw Error("division by zero");if(B(O))return new nt(_,_);if(X(O))return R=dt(U(O),R),new nt(U(R.g),U(R.h));if(X(R))return R=dt(O,U(R)),new nt(U(R.g),R.h);if(30<O.g.length){if(X(O)||X(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=R;0>=V.l(O);)I=lt(I),V=lt(V);var k=at(I,1),L=at(V,1);for(V=at(V,2),I=at(I,2);!B(V);){var x=L.add(V);0>=x.l(O)&&(k=k.add(I),L=x),V=at(V,1),I=at(I,1)}return R=ot(O,k.j(R)),new nt(k,R)}for(k=_;0<=O.l(R);){for(I=Math.max(1,Math.floor(O.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),L=g(I),x=L.j(R);X(x)||0<x.l(O);)I-=V,L=g(I),x=L.j(R);B(L)&&(L=w),k=k.add(L),O=ot(O,x)}return new nt(k,O)}i.A=function(O){return dt(this,O).h},i.and=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)&O.i(V);return new h(I,this.h&O.h)},i.or=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)|O.i(V);return new h(I,this.h|O.h)},i.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)^O.i(V);return new h(I,this.h^O.h)};function lt(O){for(var R=O.g.length+1,I=[],V=0;V<R;V++)I[V]=O.i(V)<<1|O.i(V-1)>>>31;return new h(I,O.h)}function at(O,R){var I=R>>5;R%=32;for(var V=O.g.length-I,k=[],L=0;L<V;L++)k[L]=0<R?O.i(L+I)>>>R|O.i(L+I+1)<<32-R:O.i(L+I);return new h(k,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ib=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,Ts=h}).apply(typeof q0<"u"?q0:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rb,Wl,sb,pf,rp,ab,ob,lb;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in v))break t;v=v[H]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,H={next:function(){if(!S&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,v){return c.call.apply(c.bind,arguments)}function _(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:_,w.apply(null,arguments)}function M(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function B(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,H,Y){for(var ft=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)ft[Kt-2]=arguments[Kt];return y.prototype[H].apply(S,ft)}}function X(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function U(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const H=c.length||0,Y=S.length||0;c.length=H+Y;for(let ft=0;ft<Y;ft++)c[H+ft]=S[ft]}else c.push(S)}}class ot{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ht(c){return/^[\s\xa0]*$/.test(c)}function nt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function dt(c){return dt[" "](c),c}dt[" "]=function(){};var lt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function at(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(v in S)c[v]=S[v];for(let Y=0;Y<I.length;Y++)v=I[Y],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Rt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Et{constructor(){this.h=this.g=null}add(y,v){const S=Mt.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Mt=new ot(()=>new z,c=>c.reset());class z{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ct=!1,Rt=new Et,D=()=>{const c=m.Promise.resolve(void 0);it=()=>{c.then($)}};var $=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){L(v)}var y=Mt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ct=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function _t(c,y){if(Q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(lt){t:{try{dt(y.nodeName);var H=!0;break t}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:mt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_t.aa.h.call(this)}}B(_t,Q);var mt={2:"touch",3:"pen",4:"mouse"};_t.prototype.h=function(){_t.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function _e(c,y,v,S,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=H,this.key=++Bt,this.da=this.fa=!1}function Se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function cn(c){this.src=c,this.g={},this.h=0}cn.prototype.add=function(c,y,v,S,H){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ft=_n(c,y,S,H);return-1<ft?(y=c[ft],v||(y.fa=!1)):(y=new _e(y,this.src,Y,!!S,H),y.fa=v,c.push(y)),y};function Je(c,y){var v=y.type;if(v in c.g){var S=c.g[v],H=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(S,H,1),Y&&(Se(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function _n(c,y,v,S){for(var H=0;H<c.length;++H){var Y=c[H];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==S)return H}return-1}var Ke="closure_lm_"+(1e6*Math.random()|0),Xt={};function Gn(c,y,v,S,H){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Gn(c,y[Y],v,S,H);return null}return v=Lr(v),c&&c[ne]?c.K(y,v,g(S)?!!S.capture:!1,H):he(c,y,v,!1,S,H)}function he(c,y,v,S,H,Y){if(!y)throw Error("Invalid event type");var ft=g(H)?!!H.capture:!!H,Kt=En(c);if(Kt||(c[Ke]=Kt=new cn(c)),v=Kt.add(y,v,S,ft,Y),v.proxy)return v;if(S=Pr(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ut||(H=ft),H===void 0&&(H=!1),c.addEventListener(y.toString(),S,H);else if(c.attachEvent)c.attachEvent(si(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pr(){function c(v){return y.call(c.src,c.listener,v)}const y=Le;return c}function tn(c,y,v,S,H){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)tn(c,y[Y],v,S,H);else S=g(S)?!!S.capture:!!S,v=Lr(v),c&&c[ne]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=_n(Y,v,S,H),-1<v&&(Se(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=En(c))&&(y=c.g[y.toString()],c=-1,y&&(c=_n(y,v,S,H)),(v=-1<c?y[c]:null)&&vi(v))}function vi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ne])Je(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(si(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=En(y))?(Je(v,c),v.h==0&&(v.src=null,y[Ke]=null)):Se(c)}}}function si(c){return c in Xt?Xt[c]:Xt[c]="on"+c}function Le(c,y){if(c.da)c=!0;else{y=new _t(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&vi(c),c=v.call(S,y)}return c}function En(c){return c=c[Ke],c instanceof cn?c:null}var _i="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lr(c){return typeof c=="function"?c:(c[_i]||(c[_i]=function(y){return c.handleEvent(y)}),c[_i])}function yt(){et.call(this),this.i=new cn(this),this.M=this,this.F=null}B(yt,et),yt.prototype[ne]=!0,yt.prototype.removeEventListener=function(c,y,v,S){tn(this,c,y,v,S)};function Ut(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new Q(y,c);else if(y instanceof Q)y.target=y.target||c;else{var H=y;y=new Q(S,c),V(y,H)}if(H=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ft=y.g=v[Y];H=Ue(ft,S,!0,y)&&H}if(ft=y.g=c,H=Ue(ft,S,!0,y)&&H,H=Ue(ft,S,!1,y)&&H,v)for(Y=0;Y<v.length;Y++)ft=y.g=v[Y],H=Ue(ft,S,!1,y)&&H}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)Se(v[S]);delete c.g[y],c.h--}}this.F=null},yt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},yt.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Ue(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Y=0;Y<y.length;++Y){var ft=y[Y];if(ft&&!ft.da&&ft.capture==v){var Kt=ft.listener,je=ft.ha||ft.src;ft.fa&&Je(c.i,ft),H=Kt.call(je,S)!==!1&&H}}return H&&!S.defaultPrevented}function xe(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function ai(c){c.g=xe(()=>{c.g=null,c.i&&(c.i=!1,ai(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Sa extends et{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ai(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(c){et.call(this),this.h=c,this.g={}}B(An,et);var $i=[];function Yi(c){at(c.g,function(y,v){this.g.hasOwnProperty(v)&&vi(y)},c),c.g={}}An.prototype.N=function(){An.aa.N.call(this),Yi(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=m.JSON.stringify,Qi=m.JSON.parse,Xi=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Wi(){}Wi.prototype.h=null;function Cn(c){return c.h||(c.h=c.i())}function Ms(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){Q.call(this,"d")}B(Kn,Q);function Ur(){Q.call(this,"c")}B(Ur,Q);var bt={},de=null;function fe(){return de=de||new yt}bt.La="serverreachability";function Ne(c){Q.call(this,bt.La,c)}B(Ne,Q);function Vn(c){const y=fe();Ut(y,new Ne(y))}bt.STAT_EVENT="statevent";function Ee(c,y){Q.call(this,bt.STAT_EVENT,c),this.stat=y}B(Ee,Q);function zt(c){const y=fe();Ut(y,new Ee(y,c))}bt.Ma="timingevent";function me(c,y){Q.call(this,bt.Ma,c),this.size=y}B(me,Q);function Wt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function pe(){this.g=!0}pe.prototype.xa=function(){this.g=!1};function jr(c,y,v,S,H,Y){c.info(function(){if(c.g)if(Y)for(var ft="",Kt=Y.split("&"),je=0;je<Kt.length;je++){var $t=Kt[je].split("=");if(1<$t.length){var Ye=$t[0];$t=$t[1];var Be=Ye.split("_");ft=2<=Be.length&&Be[1]=="type"?ft+(Ye+"="+$t+"&"):ft+(Ye+"=redacted&")}}else ft=null;else ft=Y;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+y+`
`+v+`
`+ft})}function li(c,y,v,S,H,Y,ft){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+y+`
`+v+`
`+Y+" "+ft})}function Zi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vs(c,v)+(S?" "+S:"")})}function Du(c,y){c.info(function(){return"TIMEOUT: "+y})}pe.prototype.info=function(){};function Vs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ft=1;ft<H.length;ft++)H[ft]=""}}}}return Rn(v)}catch{return y}}var Br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ei;function Ti(){}B(Ti,Wi),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},Ei=new Ti;function Tn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new An(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}var Ko={},Aa={};function ui(c,y,v){c.L=1,c.v=js(kn(y)),c.m=v,c.P=!0,tr(c,null)}function tr(c,y){c.F=Date.now(),ks(c),c.A=kn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Zo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Ae,c.g=Yu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Sa(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&($i[0]=H.toString()),H=$i);for(var Y=0;Y<H.length;Y++){var ft=Gn(v,H[Y],S||y.handleEvent,!1,y.h||y);if(!ft)break;y.g[ft.key]=ft}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Vn(),jr(c.i,c.u,c.A,c.l,c.R,c.m)}Tn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Xn(c)==3?y.j():this.Y(c)},Tn.prototype.Y=function(c){try{if(c==this.g)t:{const Be=Xn(this.g);var y=this.g.Ba();const lr=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||Be!=4||y==7||(y==8||0>=lr?Vn(3):Vn(2)),zr(this);var v=this.g.Z();this.X=v;e:if(Mu(this)){var S=Bu(this.g);c="";var H=S.length,Y=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),bi(this);var ft="";break e}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Y&&y==H-1)});S.length=0,this.h.g+=c,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=v==200,li(this.i,this.u,this.A,this.l,this.R,Be,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Kt,je=this.g;if((Kt=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ht(Kt)){var $t=Kt;break e}}$t=null}if(v=$t)Zi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,v);else{this.o=!1,this.s=3,zt(12),en(this),bi(this);break t}}if(this.P){v=!0;let nn;for(;!this.J&&this.C<ft.length;)if(nn=Vu(this,ft),nn==Aa){Be==4&&(this.s=4,zt(14),v=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Ko){this.s=4,zt(15),Zi(this.i,this.l,ft,"[Invalid Chunk]"),v=!1;break}else Zi(this.i,this.l,nn,null),Ps(this,nn);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||ft.length!=0||this.h.h||(this.s=1,zt(16),v=!1),this.o=this.o&&v,!v)Zi(this.i,this.l,ft,"[Invalid Chunked Response]"),en(this),bi(this);else if(0<ft.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),$s(Ye),Ye.M=!0,zt(11))}}else Zi(this.i,this.l,ft,null),Ps(this,ft);Be==4&&en(this),this.o&&!this.J&&(Be==4?Gu(this.j,this):(this.o=!1,ks(this)))}else Sh(this.g),v==400&&0<ft.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),en(this),bi(this)}}}catch{}finally{}};function Mu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Aa:(v=Number(y.substring(v,S)),isNaN(v)?Ko:(S+=1,S+v>y.length?Aa:(y=y.slice(S,S+v),c.C=S+v,y)))}Tn.prototype.cancel=function(){this.J=!0,en(this)};function ks(c){c.S=Date.now()+c.I,ku(c,c.I)}function ku(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Wt(w(c.ba,c),y)}function zr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Du(this.i,this.A),this.L!=2&&(Vn(),zt(17)),en(this),this.s=2,bi(this)):ku(this,this.S-c)};function bi(c){c.j.G==0||c.J||Gu(c.j,c)}function en(c){zr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Yi(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ps(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||$o(v.h,c))){if(!c.K&&$o(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)La(v),ka(v);else break t;il(v),zt(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=Wt(w(v.Za,v),6e3));if(1>=Ca(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else or(v,11)}else if((c.K||v.g==c)&&La(v),!ht(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let $t=H[y];if(v.T=$t[0],$t=$t[1],v.G==2)if($t[0]=="c"){v.K=$t[1],v.ia=$t[2];const Ye=$t[3];Ye!=null&&(v.la=Ye,v.j.info("VER="+v.la));const Be=$t[4];Be!=null&&(v.Aa=Be,v.j.info("SVER="+v.Aa));const lr=$t[5];lr!=null&&typeof lr=="number"&&0<lr&&(S=1.5*lr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const nn=c.g;if(nn){const xi=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var Y=S.h;Y.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ia(Y,Y.h),Y.h=null))}if(S.D){const sl=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(S.ya=sl,se(S.I,S.D,sl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ft=c;if(S.qa=$u(S,S.J?S.ia:null,S.W),ft.K){bn(S.h,ft);var Kt=ft,je=S.L;je&&(Kt.I=je),Kt.B&&(zr(Kt),ks(Kt)),S.g=ft}else qu(S);0<v.i.length&&Pa(v)}else $t[0]!="stop"&&$t[0]!="close"||or(v,7);else v.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?or(v,7):el(v):$t[0]!="noop"&&v.l&&v.l.ta($t),v.v=0)}}Vn(4)}catch{}}var Pu=class{constructor(c,y){this.g=c,this.map=y}};function er(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ra(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ca(c){return c.h?1:c.g?c.g.size:0}function $o(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ia(c,y){c.g?c.g.add(y):c.h=y}function bn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}er.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return X(c.i)}function Eh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function xa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Qo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=xa(c),S=Eh(c),H=S.length,Y=0;Y<H;Y++)y.call(void 0,S[Y],v&&v[Y],c)}var Ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Th(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),H=null;if(0<=S){var Y=c[v].substring(0,S);H=c[v].substring(S+1)}else Y=c[v];y(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Oe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Oe){this.h=c.h,Us(this,c.j),this.o=c.o,this.g=c.g,Hr(this,c.s),this.l=c.l;var y=c.i,v=new ir;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),nr(this,v),this.m=c.m}else c&&(y=String(c).match(Ls))?(this.h=!1,Us(this,y[1]||"",!0),this.o=$n(y[2]||""),this.g=$n(y[3]||"",!0),Hr(this,y[4]),this.l=$n(y[5]||"",!0),nr(this,y[6]||"",!0),this.m=$n(y[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}Oe.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Bs(y,Xo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Bs(y,Xo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Bs(v,v.charAt(0)=="/"?bh:Wo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Bs(v,Na)),c.join("")};function kn(c){return new Oe(c)}function Us(c,y,v){c.j=v?$n(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Hr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function nr(c,y,v){y instanceof ir?(c.i=y,Uu(c.i,c.h)):(v||(y=Bs(y,wh)),c.i=new ir(y,c.h))}function se(c,y,v){c.i.set(y,v)}function js(c){return se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $n(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Lu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xo=/[#\/\?@]/g,Wo=/[#\?:]/g,bh=/[#\?]/g,wh=/[#\?@]/g,Na=/#/g;function ir(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Yn(c){c.g||(c.g=new Map,c.h=0,c.i&&Th(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=ir.prototype,i.add=function(c,y){Yn(this),this.i=null,c=wi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function rr(c,y){Yn(c),y=wi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function sr(c,y){return Yn(c),y=wi(c,y),c.g.has(y)}i.forEach=function(c,y){Yn(this),this.g.forEach(function(v,S){v.forEach(function(H){c.call(y,H,S,this)},this)},this)},i.na=function(){Yn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const H=c[S];for(let Y=0;Y<H.length;Y++)v.push(y[S])}return v},i.V=function(c){Yn(this);let y=[];if(typeof c=="string")sr(this,c)&&(y=y.concat(this.g.get(wi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Yn(this),this.i=null,c=wi(this,c),sr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Zo(c,y,v){rr(c,y),0<v.length&&(c.i=null,c.g.set(wi(c,y),X(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const Y=encodeURIComponent(String(S)),ft=this.V(S);for(S=0;S<ft.length;S++){var H=Y;ft[S]!==""&&(H+="="+encodeURIComponent(String(ft[S]))),c.push(H)}}return this.i=c.join("&")};function wi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Uu(c,y){y&&!c.j&&(Yn(c),c.i=null,c.g.forEach(function(v,S){var H=S.toLowerCase();S!=H&&(rr(this,S),Zo(this,H,v))},c)),c.j=y}function zs(c,y){const v=new pe;if(m.Image){const S=new Image;S.onload=M(Qn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=M(Qn,v,"TestLoadImage: error",!1,y,S),S.onabort=M(Qn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=M(Qn,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ci(c,y){const v=new pe,S=new AbortController,H=setTimeout(()=>{S.abort(),Qn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(H),Y.ok?Qn(v,"TestPingServer: ok",!0,y):Qn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Qn(v,"TestPingServer: error",!1,y)})}function Qn(c,y,v,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(v)}catch{}}function Hs(){this.g=new Xi}function Si(c,y,v){const S=v||"";try{Qo(c,function(H,Y){let ft=H;g(H)&&(ft=Rn(H)),y.push(S+Y+"="+encodeURIComponent(ft))})}catch(H){throw y.push(S+"type="+encodeURIComponent("_badmap")),H}}function qr(c){this.l=c.Ub||null,this.j=c.eb||!1}B(qr,Wi),qr.prototype.g=function(){return new ar(this.l,this.j)},qr.prototype.i=function(c){return function(){return c}}({});function ar(c,y){yt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(ar,yt),i=ar.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ai(this):Ri(this),this.readyState==3&&Jo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ai(this))},i.Qa=function(c){this.g&&(this.response=c,Ai(this))},i.ga=function(){this.g&&Ai(this)};function Ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tl(c){let y="";return at(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function $e(c,y,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=tl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):se(c,y,v))}function te(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(te,yt);var Oa=/^https?$/i,qs=["POST","PUT"];i=te.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ei.g(),this.v=this.o?Cn(this.o):Cn(Ei),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){ju(this,Y);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)v.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())v.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(qs,y,void 0))||S||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ft]of v)this.g.setRequestHeader(Y,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){ju(this,Y)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Da(c),Ci(c)}function Da(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ut(this,"complete"),Ut(this,"abort"),Ci(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),te.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},i.bb=function(){Ma(this)};function Ma(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Xn(c)!=4||c.Z()!=2)){if(c.u&&Xn(c)==4)xe(c.Ea,0,c);else if(Ut(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const ft=c.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var S;if(S=ft===0){var H=String(c.D).match(Ls)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),S=!Oa.test(H?H.toLowerCase():"")}v=S}if(v)Ut(c,"complete"),Ut(c,"success");else{c.m=6;try{var Y=2<Xn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Da(c)}}finally{Ci(c)}}}}function Ci(c,y){if(c.g){Fs(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ut(c,"ready");try{v.onreadystatechange=S}catch{}}}function Fs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Qi(y)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sh(c){const y={};c=(c.g&&2<=Xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ht(c[S]))continue;var v=k(c[S]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[H]||[];y[H]=Y,Y.push(v)}O(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Va(c){this.Aa=0,this.i=[],this.j=new pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,c),this.cb=Gs("retryDelaySeedMs",1e4,c),this.Wa=Gs("forwardChannelMaxRetries",2,c),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new er(c&&c.concurrentRequestLimit),this.Da=new Hs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Va.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,S){zt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=$u(this,null,this.W),Pa(this)};function el(c){if(zu(c),c.G==3){var y=c.U++,v=kn(c.I);if(se(v,"SID",c.K),se(v,"RID",y),se(v,"TYPE","terminate"),Ks(c,v),y=new Tn(c,c.j,y),y.L=2,y.v=js(kn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Yu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ks(y)}Ku(c)}function ka(c){c.g&&($s(c),c.g.cancel(),c.g=null)}function zu(c){ka(c),c.u&&(m.clearTimeout(c.u),c.u=null),La(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Pa(c){if(!Ra(c.h)&&!c.s){c.s=!0;var y=c.Ga;it||D(),ct||(it(),ct=!0),Rt.add(y,c),c.B=0}}function Ah(c,y){return Ca(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Wt(w(c.Ga,c,y),rl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Tn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Hu(this,H,y),v=kn(this.I),se(v,"RID",c),se(v,"CVER",22),this.D&&se(v,"X-HTTP-Session-Id",this.D),Ks(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(tl(Y)))+"&"+y:this.m&&$e(v,this.m,Y)),Ia(this.h,H),this.Ua&&se(v,"TYPE","init"),this.P?(se(v,"$req",y),se(v,"SID","null"),H.T=!0,ui(H,v,null)):ui(H,v,y),this.G=2}}else this.G==3&&(c?nl(this,c):this.i.length==0||Ra(this.h)||nl(this))};function nl(c,y){var v;y?v=y.l:v=c.U++;const S=kn(c.I);se(S,"SID",c.K),se(S,"RID",v),se(S,"AID",c.T),Ks(c,S),c.m&&c.o&&$e(S,c.m,c.o),v=new Tn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Hu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ia(c.h,v),ui(v,S,y)}function Ks(c,y){c.H&&at(c.H,function(v,S){se(y,S,v)}),c.l&&Qo({},function(v,S){se(y,S,v)})}function Hu(c,y,v){v=Math.min(c.i.length,v);var S=c.l?w(c.l.Na,c.l,c):null;t:{var H=c.i;let Y=-1;for(;;){const ft=["count="+v];Y==-1?0<v?(Y=H[0].g,ft.push("ofs="+Y)):Y=0:ft.push("ofs="+Y);let Kt=!0;for(let je=0;je<v;je++){let $t=H[je].g;const Ye=H[je].map;if($t-=Y,0>$t)Y=Math.max(0,H[je].g-100),Kt=!1;else try{Si(Ye,ft,"req"+$t+"_")}catch{S&&S(Ye)}}if(Kt){S=ft.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,S}function qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;it||D(),ct||(it(),ct=!0),Rt.add(y,c),c.v=0}}function il(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Wt(w(c.Fa,c),rl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Wt(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),ka(this),Fu(this))};function $s(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new Tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=kn(c.qa);se(y,"RID","rpc"),se(y,"SID",c.K),se(y,"AID",c.T),se(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&se(y,"TO",c.ja),se(y,"TYPE","xmlhttp"),Ks(c,y),c.m&&c.o&&$e(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=js(kn(y)),v.m=null,v.P=!0,tr(v,c)}i.Za=function(){this.C!=null&&(this.C=null,ka(this),il(this),zt(19))};function La(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Gu(c,y){var v=null;if(c.g==y){La(c),$s(c),c.g=null;var S=2}else if($o(c.h,y))v=y.D,bn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;S=fe(),Ut(S,new me(S,v)),Pa(c)}else qu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(S==1&&Ah(c,y)||S==2&&il(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:or(c,5);break;case 4:or(c,10);break;case 3:or(c,6);break;default:or(c,2)}}}function rl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function or(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),S=c.Xa;const H=!S;S=new Oe(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Us(S,"https"),js(S),H?zs(S.toString(),v):ci(S.toString(),v)}else zt(2);c.G=0,c.l&&c.l.sa(y),Ku(c),zu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const y=Yo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function $u(c,y,v){var S=v instanceof Oe?kn(v):new Oe(v);if(S.g!="")y&&(S.g=y+"."+S.g),Hr(S,S.s);else{var H=m.location;S=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Y=new Oe(null);S&&Us(Y,S),y&&(Y.g=y),H&&Hr(Y,H),v&&(Y.l=v),S=Y}return v=c.D,y=c.ya,v&&y&&se(S,v,y),se(S,"VER",c.la),Ks(c,S),S}function Yu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new te(new qr({eb:v})):new te(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}i=Qu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ua(){}Ua.prototype.g=function(c,y){return new wn(c,y)};function wn(c,y){yt.call(this),this.g=new Va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ht(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ht(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ii(this)}B(wn,yt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){el(this.g)},wn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Rn(c),c=v);y.i.push(new Pu(y.Ya++,c)),y.G==3&&Pa(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,wn.aa.N.call(this)};function Xu(c){Kn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}B(Xu,Kn);function Wu(){Ur.call(this),this.status=1}B(Wu,Ur);function Ii(c){this.g=c}B(Ii,Qu),Ii.prototype.ua=function(){Ut(this.g,"a")},Ii.prototype.ta=function(c){Ut(this.g,new Xu(c))},Ii.prototype.sa=function(c){Ut(this.g,new Wu)},Ii.prototype.ra=function(){Ut(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,lb=function(){return new Ua},ob=function(){return fe()},ab=bt,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,pf=Br,Ji.COMPLETE="complete",sb=Ji,Ms.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Wl=Ms,te.prototype.listenOnce=te.prototype.L,te.prototype.getLastError=te.prototype.Ka,te.prototype.getLastErrorCode=te.prototype.Ba,te.prototype.getStatus=te.prototype.Z,te.prototype.getResponseJson=te.prototype.Oa,te.prototype.getResponseText=te.prototype.oa,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Ha,rb=te}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore",G0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Np("@firebase/firestore");function go(){return va.logLevel}function pt(i,...t){if(va.logLevel<=Ft.DEBUG){const n=t.map(Hp);va.debug(`Firestore (${zo}): ${i}`,...n)}}function Or(i,...t){if(va.logLevel<=Ft.ERROR){const n=t.map(Hp);va.error(`Firestore (${zo}): ${i}`,...n)}}function Ro(i,...t){if(va.logLevel<=Ft.WARN){const n=t.map(Hp);va.warn(`Firestore (${zo}): ${i}`,...n)}}function Hp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,ub(i,s,n)}function ub(i,t,n){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Or(s),new Error(s)}function ee(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||ub(t,o,s)}function Dt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends kr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class xx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Nx{constructor(t){this.t=t,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ee(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new bs,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new bs)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ee(typeof s.accessToken=="string",31837,{l:s}),new cb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ee(t===null||typeof t=="string",2055,{h:t}),new mn(t)}}class Ox{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Dx{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Ox(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mx{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ee(this.o===void 0,3512);const s=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Vx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Lt(i,t){return i<t?-1:i>t?1:0}function sp(i,t){let n=0;for(;n<i.length&&n<t.length;){const s=i.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Lt(s,o);{const u=fb(),h=kx(u.encode($0(i,n)),u.encode($0(t,n)));return h!==0?h:Lt(s,o)}}n+=s>65535?2:1}return Lt(i.length,t.length)}function $0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function kx(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return Lt(i[n],t[n]);return Lt(i.length,t.length)}function Co(i,t,n){return i.length===t.length&&i.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=-62135596800,Q0=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(t){return Fe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Q0);return new Fe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Tt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Y0)throw new Tt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Y0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new Fe(0,0))}static max(){return new Ot(new Fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="__name__";class Pi{constructor(t,n,s){n===void 0?n=0:n>t.length&&xt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&xt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Lt(t.length,n.length)}static compareSegments(t,n){const s=Pi.isNumericId(t),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(t).compare(Pi.extractNumericId(n)):sp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ts.fromString(t.substring(4,t.length-2))}}class we extends Pi{construct(t,n,s){return new we(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new Tt(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new we(n)}static emptyPath(){return new we([])}}const Px=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Pi{construct(t,n,s){return new ln(t,n,s)}static isValidIdentifier(t){return Px.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new ln([X0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Tt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new Tt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Tt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new Tt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.path=t}static fromPath(t){return new St(we.fromString(t))}static fromName(t){return new St(we.fromString(t).popFirst(5))}static empty(){return new St(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return we.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new we(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function Lx(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ot.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new ws(o,St.empty(),t)}function Ux(i){return new ws(i.readTime,i.key,fu)}class ws{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ws(Ot.min(),St.empty(),fu)}static max(){return new ws(Ot.max(),St.empty(),fu)}}function jx(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=St.comparator(i.documentKey,t.documentKey),n!==0?n:Lt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(i){if(i.code!==st.FAILED_PRECONDITION||i.message!==Bx)throw i;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,s)=>{n(t)})}static reject(t){return new tt((n,s)=>{s(t)})}static waitFor(t){return new tt((n,s)=>{let o=0,u=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next(o=>o?tt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new tt((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(T=>{h[g]=T,++m,m===u&&s(h)},T=>o(T))}})}static doWhile(t,n){return new tt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function Hx(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}th.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=-1;function eh(i){return i==null}function Of(i){return i===0&&1/i==-1/0}function qx(i){return typeof i=="number"&&Number.isInteger(i)&&!Of(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="";function Fx(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=W0(t)),t=Gx(i.get(n),t);return W0(t)}function Gx(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case db:n+="";break;default:n+=u}}return n}function W0(i){return i+db+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function Os(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function mb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n){this.comparator=t,this.root=n||on.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rf(this.root,t,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rf(this.root,t,this.comparator,!0)}}class rf{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new on(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new on(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new J0(this.data.getIterator())}getIteratorFrom(t){return new J0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ge(this.comparator);return n.data=t,n}}class J0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new qn([])}unionWith(t){let n=new Ge(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new qn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Co(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pb("Invalid base64 string: "+u):u}}(t);return new un(n)}static fromUint8Array(t){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new un(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Kx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(i){if(ee(!!i,39018),typeof i=="string"){let t=0;const n=Kx.exec(i);if(ee(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ie(i.seconds),nanos:Ie(i.nanos)}}function Ie(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function As(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="server_timestamp",yb="__type__",vb="__previous_value__",_b="__local_write_time__";function Fp(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[yb])===null||n===void 0?void 0:n.stringValue)===gb}function nh(i){const t=i.mapValue.fields[vb];return Fp(t)?nh(t):t}function hu(i){const t=Ss(i.mapValue.fields[_b].timestampValue);return new Fe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,n,s,o,u,h,m,p,g,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const Df="(default)";class du{constructor(t,n){this.projectId=t,this.database=n||Df}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===Df}isEqual(t){return t instanceof du&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__type__",Yx="__max__",sf={mapValue:{}},Tb="__vector__",Mf="value";function Rs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fp(i)?4:Xx(i)?9007199254740991:Qx(i)?10:11:xt(28295,{value:i})}function Gi(i,t){if(i===t)return!0;const n=Rs(i);if(n!==Rs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return hu(i).isEqual(hu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ss(o.timestampValue),m=Ss(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return As(o.bytesValue).isEqual(As(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return Ie(o.geoPointValue.latitude)===Ie(u.geoPointValue.latitude)&&Ie(o.geoPointValue.longitude)===Ie(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ie(o.integerValue)===Ie(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ie(o.doubleValue),m=Ie(u.doubleValue);return h===m?Of(h)===Of(m):isNaN(h)&&isNaN(m)}return!1}(i,t);case 9:return Co(i.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Z0(h)!==Z0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Gi(h[p],m[p])))return!1;return!0}(i,t);default:return xt(52216,{left:i})}}function mu(i,t){return(i.values||[]).find(n=>Gi(n,t))!==void 0}function Io(i,t){if(i===t)return 0;const n=Rs(i),s=Rs(t);if(n!==s)return Lt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,t.booleanValue);case 2:return function(u,h){const m=Ie(u.integerValue||u.doubleValue),p=Ie(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return tE(i.timestampValue,t.timestampValue);case 4:return tE(hu(i),hu(t));case 5:return sp(i.stringValue,t.stringValue);case 6:return function(u,h){const m=As(u),p=As(h);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Lt(m[g],p[g]);if(T!==0)return T}return Lt(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Lt(Ie(u.latitude),Ie(h.latitude));return m!==0?m:Lt(Ie(u.longitude),Ie(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return eE(i.arrayValue,t.arrayValue);case 10:return function(u,h){var m,p,g,T;const _=u.fields||{},w=h.fields||{},M=(m=_[Mf])===null||m===void 0?void 0:m.arrayValue,B=(p=w[Mf])===null||p===void 0?void 0:p.arrayValue,X=Lt(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((T=B==null?void 0:B.values)===null||T===void 0?void 0:T.length)||0);return X!==0?X:eE(M,B)}(i.mapValue,t.mapValue);case 11:return function(u,h){if(u===sf.mapValue&&h===sf.mapValue)return 0;if(u===sf.mapValue)return 1;if(h===sf.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let _=0;_<p.length&&_<T.length;++_){const w=sp(p[_],T[_]);if(w!==0)return w;const M=Io(m[p[_]],g[T[_]]);if(M!==0)return M}return Lt(p.length,T.length)}(i.mapValue,t.mapValue);default:throw xt(23264,{Pe:n})}}function tE(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Lt(i,t);const n=Ss(i),s=Ss(t),o=Lt(n.seconds,s.seconds);return o!==0?o:Lt(n.nanos,s.nanos)}function eE(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Io(n[o],s[o]);if(u)return u}return Lt(n.length,s.length)}function xo(i){return ap(i)}function ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Ss(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return As(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return St.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ap(n.fields[h])}`;return o+"}"}(i.mapValue):xt(61005,{value:i})}function gf(i){switch(Rs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nh(i);return t?16+gf(t):16;case 5:return 2*i.stringValue.length;case 6:return As(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+gf(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Os(s.fields,(u,h)=>{o+=u.length+gf(h)}),o}(i.mapValue);default:throw xt(13486,{value:i})}}function op(i){return!!i&&"integerValue"in i}function Gp(i){return!!i&&"arrayValue"in i}function nE(i){return!!i&&"nullValue"in i}function iE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yf(i){return!!i&&"mapValue"in i}function Qx(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Eb])===null||n===void 0?void 0:n.stringValue)===Tb}function nu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Os(i.mapValue.fields,(n,s)=>t.mapValue.fields[n]=nu(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nu(i.arrayValue.values[n]);return t}return Object.assign({},i)}function Xx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Yx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!yf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(n)}setAll(t){let n=ln.emptyPath(),s={},o=[];t.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=nu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];yf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Os(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Mn(nu(this.value))}}function bb(i){const t=[];return Os(i.fields,(n,s)=>{const o=new ln([n]);if(yf(s)){const u=bb(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new pn(t,0,Ot.min(),Ot.min(),Ot.min(),Mn.empty(),0)}static newFoundDocument(t,n,s,o){return new pn(t,1,n,Ot.min(),s,o,0)}static newNoDocument(t,n){return new pn(t,2,n,Ot.min(),Ot.min(),Mn.empty(),0)}static newUnknownDocument(t,n){return new pn(t,3,n,Ot.min(),Ot.min(),Mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,n){this.position=t,this.inclusive=n}}function rE(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=St.comparator(St.fromName(h.referenceValue),n.key):s=Io(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Gi(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,n="asc"){this.field=t,this.dir=n}}function Wx(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{}class qe extends wb{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Jx(t,n,s):n==="array-contains"?new nN(t,s):n==="in"?new iN(t,s):n==="not-in"?new rN(t,s):n==="array-contains-any"?new sN(t,s):new qe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new tN(t,s):new eN(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends wb{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Ki(t,n)}matches(t){return Sb(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Sb(i){return i.op==="and"}function Ab(i){return Zx(i)&&Sb(i)}function Zx(i){for(const t of i.filters)if(t instanceof Ki)return!1;return!0}function lp(i){if(i instanceof qe)return i.field.canonicalString()+i.op.toString()+xo(i.value);if(Ab(i))return i.filters.map(t=>lp(t)).join(",");{const t=i.filters.map(n=>lp(n)).join(",");return`${i.op}(${t})`}}function Rb(i,t){return i instanceof qe?function(s,o){return o instanceof qe&&s.op===o.op&&s.field.isEqual(o.field)&&Gi(s.value,o.value)}(i,t):i instanceof Ki?function(s,o){return o instanceof Ki&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&Rb(h,o.filters[m]),!0):!1}(i,t):void xt(19439)}function Cb(i){return i instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`}(i):i instanceof Ki?function(n){return n.op.toString()+" {"+n.getFilters().map(Cb).join(" ,")+"}"}(i):"Filter"}class Jx extends qe{constructor(t,n,s){super(t,n,s),this.key=St.fromName(s.referenceValue)}matches(t){const n=St.comparator(t.key,this.key);return this.matchesComparison(n)}}class tN extends qe{constructor(t,n){super(t,"in",n),this.keys=Ib("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class eN extends qe{constructor(t,n){super(t,"not-in",n),this.keys=Ib("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Ib(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>St.fromName(s.referenceValue))}class nN extends qe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Gp(n)&&mu(n.arrayValue,this.value)}}class iN extends qe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class rN extends qe{constructor(t,n){super(t,"not-in",n)}matches(t){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class sN extends qe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>mu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function aE(i,t=null,n=[],s=[],o=null,u=null,h=null){return new aN(i,t,n,s,o,u,h)}function Kp(i){const t=Dt(i);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>lp(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>xo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>xo(s)).join(",")),t.Ie=n}return t.Ie}function $p(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Wx(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Rb(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!sE(i.startAt,t.startAt)&&sE(i.endAt,t.endAt)}function up(i){return St.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function oN(i,t,n,s,o,u,h,m){return new ih(i,t,n,s,o,u,h,m)}function Yp(i){return new ih(i)}function oE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function lN(i){return i.collectionGroup!==null}function iu(i){const t=Dt(i);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ge(ln.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new kf(u,s))}),n.has(ln.keyField().canonicalString())||t.Ee.push(new kf(ln.keyField(),s))}return t.Ee}function Bi(i){const t=Dt(i);return t.de||(t.de=uN(t,iu(i))),t.de}function uN(i,t){if(i.limitType==="F")return aE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new kf(o.field,u)});const n=i.endAt?new Vf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Vf(i.startAt.position,i.startAt.inclusive):null;return aE(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function cp(i,t,n){return new ih(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function rh(i,t){return $p(Bi(i),Bi(t))&&i.limitType===t.limitType}function xb(i){return`${Kp(Bi(i))}|lt:${i.limitType}`}function yo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Cb(o)).join(", ")}]`),eh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>xo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>xo(o)).join(",")),`Target(${s})`}(Bi(i))}; limitType=${i.limitType})`}function sh(i,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):St.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,t)&&function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=rE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,iu(s),o)||s.endAt&&!function(h,m,p){const g=rE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,iu(s),o))}(i,t)}function cN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Nb(i){return(t,n)=>{let s=!1;for(const o of iu(i)){const u=fN(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fN(i,t,n){const s=i.field.isKeyField()?St.comparator(t.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Io(p,g):xt(42886)}(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return xt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Os(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return mb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new ve(St.comparator);function Dr(){return hN}const Ob=new ve(St.comparator);function Zl(...i){let t=Ob;for(const n of i)t=t.insert(n.key,n);return t}function Db(i){let t=Ob;return i.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function da(){return ru()}function Mb(){return ru()}function ru(){return new ba(i=>i.toString(),(i,t)=>i.isEqual(t))}const dN=new ve(St.comparator),mN=new Ge(St.comparator);function Gt(...i){let t=mN;for(const n of i)t=t.add(n);return t}const pN=new Ge(Lt);function gN(){return pN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(t)?"-0":t}}function Vb(i){return{integerValue:""+i}}function yN(i,t){return qx(t)?Vb(t):Qp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function vN(i,t,n){return i instanceof Pf?function(o,u){const h={fields:{[yb]:{stringValue:gb},[_b]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fp(u)&&(u=nh(u)),u&&(h.fields[vb]=u),{mapValue:h}}(n,t):i instanceof pu?Pb(i,t):i instanceof gu?Lb(i,t):function(o,u){const h=kb(o,u),m=lE(h)+lE(o.Re);return op(h)&&op(o.Re)?Vb(m):Qp(o.serializer,m)}(i,t)}function _N(i,t,n){return i instanceof pu?Pb(i,t):i instanceof gu?Lb(i,t):n}function kb(i,t){return i instanceof Lf?function(s){return op(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Pf extends ah{}class pu extends ah{constructor(t){super(),this.elements=t}}function Pb(i,t){const n=Ub(t);for(const s of i.elements)n.some(o=>Gi(o,s))||n.push(s);return{arrayValue:{values:n}}}class gu extends ah{constructor(t){super(),this.elements=t}}function Lb(i,t){let n=Ub(t);for(const s of i.elements)n=n.filter(o=>!Gi(o,s));return{arrayValue:{values:n}}}class Lf extends ah{constructor(t,n){super(),this.serializer=t,this.Re=n}}function lE(i){return Ie(i.integerValue||i.doubleValue)}function Ub(i){return Gp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function EN(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof pu&&o instanceof pu||s instanceof gu&&o instanceof gu?Co(s.elements,o.elements,Gi):s instanceof Lf&&o instanceof Lf?Gi(s.Re,o.Re):s instanceof Pf&&o instanceof Pf}(i.transform,t.transform)}class TN{constructor(t,n){this.version=t,this.transformResults=n}}class zi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zi}static exists(t){return new zi(void 0,t)}static updateTime(t){return new zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class oh{}function jb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new zb(i.key,zi.none()):new Iu(i.key,i.data,zi.none());{const n=i.data,s=Mn.empty();let o=new Ge(ln.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ds(i.key,s,new qn(o.toArray()),zi.none())}}function bN(i,t,n){i instanceof Iu?function(o,u,h){const m=o.value.clone(),p=cE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,n):i instanceof Ds?function(o,u,h){if(!vf(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=cE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Bb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,t,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,n)}function su(i,t,n,s){return i instanceof Iu?function(u,h,m,p){if(!vf(u.precondition,h))return m;const g=u.value.clone(),T=fE(u.fieldTransforms,p,h);return g.setAll(T),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,n,s):i instanceof Ds?function(u,h,m,p){if(!vf(u.precondition,h))return m;const g=fE(u.fieldTransforms,p,h),T=h.data;return T.setAll(Bb(u)),T.setAll(g),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(_=>_.field))}(i,t,n,s):function(u,h,m){return vf(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,t,n)}function wN(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=kb(s.transform,o||null);u!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,u))}return n||null}function uE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Co(s,o,(u,h)=>EN(u,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Iu extends oh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends oh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Bb(i){const t=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}}),t}function cE(i,t,n){const s=new Map;ee(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,_N(h,m,n[o]))}return s}function fE(i,t,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,vN(u,h,t))}return s}class zb extends oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SN extends oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&bN(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=su(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=su(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Mb();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=jb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ot.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Gt())}isEqual(t){return this.batchId===t.batchId&&Co(this.mutations,t.mutations,(n,s)=>uE(n,s))&&Co(this.baseMutations,t.baseMutations,(n,s)=>uE(n,s))}}class Xp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){ee(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return dN}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Xp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Qt;function IN(i){switch(i){case st.OK:return xt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return xt(15467,{code:i})}}function Hb(i){if(i===void 0)return Or("GRPC error has no .code"),st.UNKNOWN;switch(i){case Ve.OK:return st.OK;case Ve.CANCELLED:return st.CANCELLED;case Ve.UNKNOWN:return st.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return st.INTERNAL;case Ve.UNAVAILABLE:return st.UNAVAILABLE;case Ve.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ve.NOT_FOUND:return st.NOT_FOUND;case Ve.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ve.ABORTED:return st.ABORTED;case Ve.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ve.DATA_LOSS:return st.DATA_LOSS;default:return xt(39323,{code:i})}}(Qt=Ve||(Ve={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new Ts([4294967295,4294967295],0);function hE(i){const t=fb().encode(i),n=new ib;return n.update(t),new Uint8Array(n.digest())}function dE(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ts([n,s],0),new Ts([o,u],0)]}class Wp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Ts.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(Ts.fromNumber(s)));return o.compare(xN)===1&&(o=new Ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=hE(t),[s,o]=dE(n);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.be(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Wp(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.pe===0)return;const n=hE(t),[s,o]=dE(n);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.Se(h)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,xu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new lh(Ot.min(),o,new ve(Lt),Dr(),Gt())}}class xu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new xu(s,n,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class qb{constructor(t,n){this.targetId=t,this.Ce=n}}class Fb{constructor(t,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class mE{constructor(){this.Fe=0,this.Me=pE(),this.xe=un.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Gt(),n=Gt(),s=Gt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xt(38017,{changeType:u})}}),new xu(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=pE()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,ee(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class NN{constructor(t){this.ze=t,this.je=new Map,this.He=Dr(),this.Je=af(),this.Ye=af(),this.Ze=new ve(Lt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:xt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(up(u))if(s===0){const h=new St(u.path);this.tt(n,h,pn.newNoDocument(h,Ot.min()))}else ee(s===1,20013,{expectedCount:s});else{const h=this.ut(n);if(h!==s){const m=this.ct(t),p=m?this.lt(m,t,h):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=As(s).toUint8Array()}catch(p){if(p instanceof pb)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Wp(h,o,u)}catch(p){return Ro(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&up(m.target)){const p=new St(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,pn.newNoDocument(p,t))}u.Le&&(n.set(h,u.qe()),u.Qe())}});let s=Gt();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(t));const o=new lh(t,n,this.Ze,this.He,s);return this.He=Dr(),this.Je=af(),this.Ye=af(),this.Ze=new ve(Lt),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new mE,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ge(Lt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ge(Lt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new mE),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function af(){return new ve(St.comparator)}function pE(){return new ve(St.comparator)}const ON={asc:"ASCENDING",desc:"DESCENDING"},DN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MN={and:"AND",or:"OR"};class VN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function fp(i,t){return i.useProto3Json||eh(t)?t:{value:t}}function Uf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function kN(i,t){return Uf(i,t.toTimestamp())}function Hi(i){return ee(!!i,49232),Ot.fromTimestamp(function(n){const s=Ss(n);return new Fe(s.seconds,s.nanos)}(i))}function Zp(i,t){return hp(i,t).canonicalString()}function hp(i,t){const n=function(o){return new we(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?n:n.child(t)}function Kb(i){const t=we.fromString(i);return ee(Wb(t),10190,{key:t.toString()}),t}function dp(i,t){return Zp(i.databaseId,t.path)}function Vm(i,t){const n=Kb(t);if(n.get(1)!==i.databaseId.projectId)throw new Tt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Tt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new St(Yb(n))}function $b(i,t){return Zp(i.databaseId,t)}function PN(i){const t=Kb(i);return t.length===4?we.emptyPath():Yb(t)}function mp(i){return new we(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Yb(i){return ee(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function gE(i,t,n){return{name:dp(i,t),fields:n.value.mapValue.fields}}function LN(i,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(ee(T===void 0||typeof T=="string",58123),un.fromBase64String(T||"")):(ee(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),un.fromUint8Array(T||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const T=g.code===void 0?st.UNKNOWN:Hb(g.code);return new Tt(T,g.message||"")}(h);n=new Fb(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vm(i,s.document.name),u=Hi(s.document.updateTime),h=s.document.createTime?Hi(s.document.createTime):Ot.min(),m=new Mn({mapValue:{fields:s.document.fields}}),p=pn.newFoundDocument(o,u,h,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new _f(g,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Vm(i,s.document),u=s.readTime?Hi(s.readTime):Ot.min(),h=pn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new _f([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Vm(i,s.document),u=s.removedTargetIds||[];n=new _f([],u,o,null)}else{if(!("filter"in t))return xt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new CN(o,u),m=s.targetId;n=new qb(m,h)}}return n}function UN(i,t){let n;if(t instanceof Iu)n={update:gE(i,t.key,t.value)};else if(t instanceof zb)n={delete:dp(i,t.key)};else if(t instanceof Ds)n={update:gE(i,t.key,t.data),updateMask:$N(t.fieldMask)};else{if(!(t instanceof SN))return xt(16599,{ft:t.type});n={verify:dp(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Pf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lf)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw xt(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:kN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xt(27497)}(i,t.precondition)),n}function jN(i,t){return i&&i.length>0?(ee(t!==void 0,14353),i.map(n=>function(o,u){let h=o.updateTime?Hi(o.updateTime):Hi(u);return h.isEqual(Ot.min())&&(h=Hi(u)),new TN(h,o.transformResults||[])}(n,t))):[]}function BN(i,t){return{documents:[$b(i,t.path)]}}function zN(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=$b(i,o);const u=function(g){if(g.length!==0)return Xb(Ki.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(T=>function(w){return{field:vo(w.field),direction:FN(w.dir)}}(T))}(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=fp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:n,parent:o}}function HN(i){let t=PN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ee(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(_){const w=Qb(_);return w instanceof Ki&&Ab(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(_){return _.map(w=>function(B){return new kf(_o(B.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(_){let w;return w=typeof _=="object"?_.value:_,eh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(_){const w=!!_.before,M=_.values||[];return new Vf(M,w)}(n.startAt));let g=null;return n.endAt&&(g=function(_){const w=!_.before,M=_.values||[];return new Vf(M,w)}(n.endAt)),oN(t,o,h,u,m,"F",p,g)}function qN(i,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Qb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=_o(n.unaryFilter.field);return qe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(n.unaryFilter.field);return qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=_o(n.unaryFilter.field);return qe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=_o(n.unaryFilter.field);return qe.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}}(i):i.fieldFilter!==void 0?function(n){return qe.create(_o(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Ki.create(n.compositeFilter.filters.map(s=>Qb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xt(1026)}}(n.compositeFilter.op))}(i):xt(30097,{filter:i})}function FN(i){return ON[i]}function GN(i){return DN[i]}function KN(i){return MN[i]}function vo(i){return{fieldPath:i.canonicalString()}}function _o(i){return ln.fromServerFormat(i.fieldPath)}function Xb(i){return i instanceof qe?function(n){if(n.op==="=="){if(iE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(nE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(nE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:GN(n.op),value:n.value}}}(i):i instanceof Ki?function(n){const s=n.getFilters().map(o=>Xb(o));return s.length===1?s[0]:{compositeFilter:{op:KN(n.op),filters:s}}}(i):xt(54877,{filter:i})}function $N(i){const t=[];return i.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Wb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,n,s,o,u=Ot.min(),h=Ot.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this.wt=t}}function QN(i){const t=HN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?cp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.Cn=new WN}addToCollectionParentIndex(t,n){return this.Cn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(ws.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(ws.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class WN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ge(we.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ge(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zb=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(Zb,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new No(0)}static lr(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",ZN=1048576;function _E([i,t],[n,s]){const o=Lt(i,n);return o===0?Lt(t,s):o}class JN{constructor(t){this.Er=t,this.buffer=new Ge(_E),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_E(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){pt(vE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?pt(vE,"Ignoring IndexedDB error during garbage collection: ",n):await Ho(n)}await this.mr(3e5)})}}class eO{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(th.le);const s=new JN(n);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(yE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,o,u,h,m,p,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,h=Date.now(),this.nthSequenceNumber(t,o))).next(_=>(s=_,m=Date.now(),this.removeTargets(t,s,n))).next(_=>(u=_,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(_=>(g=Date.now(),go()<=Ft.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:_})))}}function nO(i,t){return new eO(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.changes=new ba(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,pn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&su(s.mutation,o,qn.empty(),Fe.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Gt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Gt()){const o=da();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let h=Zl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const s=da();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Gt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(t,n,s,o){let u=Dr();const h=ru(),m=function(){return ru()}();return n.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Ds)?u=u.insert(g.key,g):T!==void 0?(h.set(g.key,T.mutation.getFieldMask()),su(T.mutation,g,T.mutation.getFieldMask(),Fe.now())):h.set(g.key,qn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,T)=>h.set(g,T)),n.forEach((g,T)=>{var _;return m.set(g,new rO(T,(_=h.get(g))!==null&&_!==void 0?_:null))}),m))}recalculateAndSaveOverlays(t,n){const s=ru();let o=new ve((h,m)=>h-m),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||qn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const _=(o.get(m.batchId)||Gt()).add(p);o=o.insert(m.batchId,_)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,_=Mb();T.forEach(w=>{if(!u.has(w)){const M=jb(n.get(w),s.get(w));M!==null&&_.set(w,M),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,_))}return tt.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(h){return St.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):lN(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(da());let m=fu,p=u;return h.next(g=>tt.forEach(g,(T,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),u.get(T)?tt.resolve():this.remoteDocumentCache.getEntry(t,T).next(w=>{p=p.insert(T,w)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Gt())).next(T=>({batchId:m,changes:Db(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new St(n)).next(s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=Zl();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,p=>{const g=function(_,w){return new ih(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(T=>{T.forEach((_,w)=>{h=h.insert(_,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const T=g.getKey();h.get(T)===null&&(h=h.insert(T,pn.newInvalidDocument(T)))});let m=Zl();return h.forEach((p,g)=>{const T=u.get(p);T!==void 0&&su(T.mutation,g,qn.empty(),Fe.now()),sh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return tt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:QN(o.bundledQuery),readTime:Hi(o.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.overlays=new ve(St.comparator),this.Qr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=da();return tt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=da(),u=n.length+1,h=new St(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ve((g,T)=>g-T);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=da(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=da(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return tt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new RN(n,s));let u=this.Qr.get(n);u===void 0&&(u=Gt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.$r=new Ge(Ze.Ur),this.Kr=new Ge(Ze.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ze(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ze(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new St(new we([])),s=new Ze(n,t),o=new Ze(n,t+1),u=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new St(new we([])),s=new Ze(n,t),o=new Ze(n,t+1);let u=Gt();return this.Kr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(t){const n=new Ze(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ze{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return St.comparator(t.key,n.key)||Lt(t.Zr,n.Zr)}static Wr(t,n){return Lt(t.Zr,n.Zr)||St.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ge(Ze.Ur)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new AN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Xr=this.Xr.add(new Ze(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(h)}lookupMutationBatch(t,n){return tt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?qp:this.nr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ze(n,0),o=new Ze(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],h=>{const m=this.ei(h.Zr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ge(Lt);return n.forEach(o=>{const u=new Ze(o,0),h=new Ze(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{s=s.add(m.Zr)})}),tt.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;St.isDocumentKey(u)||(u=u.child(""));const h=new Ze(new St(u),0);let m=new Ge(Lt);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},h),tt.resolve(this.ni(m))}ni(t){const n=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){ee(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return tt.forEach(n.mutations,o=>{const u=new Ze(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ze(n,0),o=this.Xr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t){this.ii=t,this.docs=function(){return new ve(St.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(t,n){let s=Dr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():pn.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Dr();const h=n.path,m=new St(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||jx(Ux(T),s)<=0||(o.has(T.key)||sh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){xt(9500)}si(t,n){return tt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new fO(this)}getSize(t){return tt.resolve(this.size)}}class fO extends iO{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),tt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t){this.persistence=t,this.oi=new ba(n=>Kp(n),$p),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this._i=0,this.ai=new Jp,this.targetCount=0,this.ui=No.cr()}forEachTarget(t,n){return this.oi.forEach((s,o)=>n(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),tt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new No(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.Tr(n),tt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t,n){this.ci={},this.overlays={},this.li=new th(0),this.hi=!1,this.hi=!0,this.Pi=new lO,this.referenceDelegate=t(this),this.Ti=new hO(this),this.indexManager=new XN,this.remoteDocumentCache=function(o){return new cO(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new YN(n),this.Ei=new aO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new oO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new uO(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){pt("MemoryPersistence","Starting transaction:",t);const o=new dO(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return tt.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class dO extends zx{constructor(t){super(),this.currentSequenceNumber=t}}class tg{constructor(t){this.persistence=t,this.Vi=new Jp,this.mi=null}static fi(t){return new tg(t)}get gi(){if(this.mi)return this.mi;throw xt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.gi,s=>{const o=St.fromPath(s);return this.pi(t,o).next(u=>{u||n.removeEntry(o,Ot.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return tt.or([()=>tt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class jf{constructor(t,n){this.persistence=t,this.yi=new ba(s=>Fx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=nO(this,n)}static fi(t,n){return new jf(t,n)}di(){}Ai(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return tt.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(u=>u?tt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,h=>this.Dr(t,h,n).next(m=>{m||(s++,u.removeEntry(h,Ot.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),tt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=gf(t.data.value)),n}Dr(t,n,s){return tt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ds=s,this.As=o}static Rs(t,n){let s=Gt(),o=Gt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return $R()?8:Hx(yn())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ws(t,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(t,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new mO;return this.Ss(t,n,h).next(m=>{if(u.result=m,this.fs)return this.Ds(t,n,h,m.size)})}).next(()=>u.result)}Ds(t,n,s,o){return s.documentReadCount<this.gs?(go()<=Ft.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),tt.resolve()):(go()<=Ft.DEBUG&&pt("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(go()<=Ft.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(n))):tt.resolve())}ws(t,n){if(oE(n))return tt.resolve(null);let s=Bi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=cp(n,null,"F"),s=Bi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const h=Gt(...u);return this.ys.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,h,p.readTime)?this.ws(t,cp(n,null,"F")):this.Fs(t,g,n,p)}))})))}bs(t,n,s,o){return oE(n)||o.isEqual(Ot.min())?tt.resolve(null):this.ys.getDocuments(t,s).next(u=>{const h=this.vs(n,u);return this.Cs(n,h,s,o)?tt.resolve(null):(go()<=Ft.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.Fs(t,h,n,Lx(o,fu)).next(m=>m))})}vs(t,n){let s=new Ge(Nb(t));return n.forEach((o,u)=>{sh(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return go()<=Ft.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ys.getDocumentsMatchingQuery(t,n,ws.min(),s)}Fs(t,n,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",gO=3e8;class yO{constructor(t,n,s,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new ve(Lt),this.Os=new ba(u=>Kp(u),$p),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function vO(i,t,n,s){return new yO(i,t,n,s)}async function t1(i,t){const n=Dt(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Gt();for(const g of o){h.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:m}))})})}function _O(i,t){const n=Dt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const _=g.batch,w=_.keys();let M=tt.resolve();return w.forEach(B=>{M=M.next(()=>T.getEntry(p,B)).next(X=>{const U=g.docVersions.get(B);ee(U!==null,48541),X.version.compareTo(U)<0&&(_.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),T.addEntry(X)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,_))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Gt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function e1(i){const t=Dt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function EO(i,t){const n=Dt(i),s=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];t.targetChanges.forEach((T,_)=>{const w=o.get(_);if(!w)return;m.push(n.Ti.removeMatchingKeys(u,T.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(u,T.addedDocuments,_)));let M=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(_)!==null?M=M.withResumeToken(un.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,s)),o=o.insert(_,M),function(X,U,ot){return X.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=gO?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0}(w,M,T)&&m.push(n.Ti.updateTargetData(u,M))});let p=Dr(),g=Gt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(TO(u,h,t.documentUpdates).next(T=>{p=T.qs,g=T.Qs})),!s.isEqual(Ot.min())){const T=n.Ti.getLastRemoteSnapshotVersion(u).next(_=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return tt.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function TO(i,t,n){let s=Gt(),o=Gt();return n.forEach(u=>s=s.add(u)),t.getEntries(i,s).next(u=>{let h=Dr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ot.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):pt(ng,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function bO(i,t){const n=Dt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=qp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function wO(i,t){const n=Dt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,t).next(u=>u?(o=u,tt.resolve(o)):n.Ti.allocateTargetId(s).next(h=>(o=new ys(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function pp(i,t,n){const s=Dt(i),o=s.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!qo(h))throw h;pt(ng,`Failed to update sequence numbers for target ${t}: ${h}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function EE(i,t,n){const s=Dt(i);let o=Ot.min(),u=Gt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,T){const _=Dt(p),w=_.Os.get(T);return w!==void 0?tt.resolve(_.xs.get(w)):_.Ti.getTargetData(g,T)}(s,h,Bi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,t,n?o:Ot.min(),n?u:Gt())).next(m=>(SO(s,cN(t),m),{documents:m,$s:u})))}function SO(i,t,n){let s=i.Ns.get(t)||Ot.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(t,s)}class TE{constructor(){this.activeTargetIds=gN()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AO{constructor(){this.xo=new TE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new TE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="ConnectivityMonitor";class wE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pt(bE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){pt(bE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function gp(){return of===null?of=function(){return 268435456+Math.round(2147483648*Math.random())}():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",CO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IO{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Df?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,n,s,o,u){const h=gp(),m=this.jo(t,n.toUriEncodedString());pt(km,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),T=Uo(g);return this.Jo(t,m,p,s,T).then(_=>(pt(km,`Received RPC '${t}' ${h}: `,_),_),_=>{throw Ro(km,`RPC '${t}' ${h} failed with error: `,_,"url: ",m,"request:",s),_})}Yo(t,n,s,o,u,h){return this.zo(t,n,s,o,u)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const s=CO[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class NO extends IO{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const h=gp();return new Promise((m,p)=>{const g=new rb;g.setWithCredentials(!0),g.listenOnce(sb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case pf.NO_ERROR:const _=g.getResponseJson();pt(dn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(_)),m(_);break;case pf.TIMEOUT:pt(dn,`RPC '${t}' ${h} timed out`),p(new Tt(st.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const w=g.getStatus();if(pt(dn,`RPC '${t}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const B=M==null?void 0:M.error;if(B&&B.status&&B.message){const X=function(ot){const ht=ot.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(ht)>=0?ht:st.UNKNOWN}(B.status);p(new Tt(X,B.message))}else p(new Tt(st.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Tt(st.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{h_:t,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{pt(dn,`RPC '${t}' ${h} completed.`)}});const T=JSON.stringify(o);pt(dn,`RPC '${t}' ${h} sending request:`,o),g.send(n,"POST",T,s,15)})}I_(t,n,s){const o=gp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=lb(),m=ob(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");pt(dn,`Creating RPC '${t}' stream ${o}: ${T}`,p);const _=h.createWebChannel(T,p);this.E_(_);let w=!1,M=!1;const B=new xO({Zo:U=>{M?pt(dn,`Not sending because RPC '${t}' stream ${o} is closed:`,U):(w||(pt(dn,`Opening RPC '${t}' stream ${o} transport.`),_.open(),w=!0),pt(dn,`RPC '${t}' stream ${o} sending:`,U),_.send(U))},Xo:()=>_.close()}),X=(U,ot,ht)=>{U.listen(ot,nt=>{try{ht(nt)}catch(dt){setTimeout(()=>{throw dt},0)}})};return X(_,Wl.EventType.OPEN,()=>{M||(pt(dn,`RPC '${t}' stream ${o} transport opened.`),B.__())}),X(_,Wl.EventType.CLOSE,()=>{M||(M=!0,pt(dn,`RPC '${t}' stream ${o} transport closed`),B.u_(),this.d_(_))}),X(_,Wl.EventType.ERROR,U=>{M||(M=!0,Ro(dn,`RPC '${t}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),B.u_(new Tt(st.UNAVAILABLE,"The operation could not be completed")))}),X(_,Wl.EventType.MESSAGE,U=>{var ot;if(!M){const ht=U.data[0];ee(!!ht,16349);const nt=ht,dt=(nt==null?void 0:nt.error)||((ot=nt[0])===null||ot===void 0?void 0:ot.error);if(dt){pt(dn,`RPC '${t}' stream ${o} received error:`,dt);const lt=dt.status;let at=function(I){const V=Ve[I];if(V!==void 0)return Hb(V)}(lt),O=dt.message;at===void 0&&(at=st.INTERNAL,O="Unknown error status: "+lt+" with message "+dt.message),M=!0,B.u_(new Tt(at,O)),_.close()}else pt(dn,`RPC '${t}' stream ${o} received:`,ht),B.c_(ht)}}),X(m,ab.STAT_EVENT,U=>{U.stat===rp.PROXY?pt(dn,`RPC '${t}' stream ${o} detected buffering proxy`):U.stat===rp.NOPROXY&&pt(dn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.a_()},0),B}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(i){return new VN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class i1{constructor(t,n,s,o,u,h,m,p){this.xi=t,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new n1(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{t(()=>{const o=new Tt(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return pt(SE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(pt(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OO extends i1{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=LN(this.serializer,t),s=function(u){if(!("targetChange"in u))return Ot.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ot.min():h.readTime?Hi(h.readTime):Ot.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=mp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=up(p)?{documents:BN(u,p)}:{query:zN(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Gb(u,h.resumeToken);const g=fp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ot.min())>0){m.readTime=Uf(u,h.snapshotVersion.toTimestamp());const g=fp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=qN(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=mp(this.serializer),n.removeTarget=t,this.Q_(n)}}class DO extends i1{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return ee(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ee(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){ee(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=jN(t.writeResults,t.commitTime),s=Hi(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=mp(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>UN(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{}class VO extends MO{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new Tt(st.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(t,hp(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Tt(st.UNKNOWN,u.toString())})}Yo(t,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(t,hp(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Tt(st.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class kO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Or(n),this.ua=!1):pt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class PO{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{s.enqueueAndForget(async()=>{wa(this)&&(pt(_a,"Restarting streams for network reachability change."),await async function(p){const g=Dt(p);g.da.add(4),await Nu(g),g.Va.set("Unknown"),g.da.delete(4),await ch(g)}(this))})}),this.Va=new kO(s,o)}}async function ch(i){if(wa(i))for(const t of i.Aa)await t(!0)}async function Nu(i){for(const t of i.Aa)await t(!1)}function r1(i,t){const n=Dt(i);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),ag(n)?sg(n):Fo(n).N_()&&rg(n,t))}function ig(i,t){const n=Dt(i),s=Fo(n);n.Ea.delete(t),s.N_()&&s1(n,t),n.Ea.size===0&&(s.N_()?s.k_():wa(n)&&n.Va.set("Unknown"))}function rg(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ot.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fo(i).Z_(t)}function s1(i,t){i.ma.Ke(t),Fo(i).X_(t)}function sg(i){i.ma=new NN({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Va.ca()}function ag(i){return wa(i)&&!Fo(i).O_()&&i.Ea.size>0}function wa(i){return Dt(i).da.size===0}function a1(i){i.ma=void 0}async function LO(i){i.Va.set("Online")}async function UO(i){i.Ea.forEach((t,n)=>{rg(i,t)})}async function jO(i,t){a1(i),ag(i)?(i.Va.Pa(t),sg(i)):i.Va.set("Unknown")}async function BO(i,t,n){if(i.Va.set("Online"),t instanceof Fb&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ea.delete(m),o.ma.removeTarget(m))}(i,t)}catch(s){pt(_a,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Bf(i,s)}else if(t instanceof _f?i.ma.Xe(t):t instanceof qb?i.ma.ot(t):i.ma.nt(t),!n.isEqual(Ot.min()))try{const s=await e1(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.ma.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ea.get(g);T&&u.Ea.set(g,T.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const T=u.Ea.get(p);if(!T)return;u.Ea.set(p,T.withResumeToken(un.EMPTY_BYTE_STRING,T.snapshotVersion)),s1(u,p);const _=new ys(T.target,p,g,T.sequenceNumber);rg(u,_)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){pt(_a,"Failed to raise snapshot:",s),await Bf(i,s)}}async function Bf(i,t,n){if(!qo(t))throw t;i.da.add(1),await Nu(i),i.Va.set("Offline"),n||(n=()=>e1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pt(_a,"Retrying IndexedDB access"),await n(),i.da.delete(1),await ch(i)})}function o1(i,t){return t().catch(n=>Bf(i,n,t))}async function fh(i){const t=Dt(i),n=Cs(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:qp;for(;zO(t);)try{const o=await bO(t.localStore,s);if(o===null){t.Ia.length===0&&n.k_();break}s=o.batchId,HO(t,o)}catch(o){await Bf(t,o)}l1(t)&&u1(t)}function zO(i){return wa(i)&&i.Ia.length<10}function HO(i,t){i.Ia.push(t);const n=Cs(i);n.N_()&&n.ea&&n.ta(t.mutations)}function l1(i){return wa(i)&&!Cs(i).O_()&&i.Ia.length>0}function u1(i){Cs(i).start()}async function qO(i){Cs(i).ia()}async function FO(i){const t=Cs(i);for(const n of i.Ia)t.ta(n.mutations)}async function GO(i,t,n){const s=i.Ia.shift(),o=Xp.from(s,t,n);await o1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await fh(i)}async function KO(i,t){t&&Cs(i).ea&&await async function(s,o){if(function(h){return IN(h)&&h!==st.ABORTED}(o.code)){const u=s.Ia.shift();Cs(s).L_(),await o1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await fh(s)}}(i,t),l1(i)&&u1(i)}async function AE(i,t){const n=Dt(i);n.asyncQueue.verifyOperationInProgress(),pt(_a,"RemoteStore received new credentials");const s=wa(n);n.da.add(3),await Nu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await ch(n)}async function $O(i,t){const n=Dt(i);t?(n.da.delete(2),await ch(n)):t||(n.da.add(2),await Nu(n),n.Va.set("Unknown"))}function Fo(i){return i.fa||(i.fa=function(n,s,o){const u=Dt(n);return u.oa(),new OO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:LO.bind(null,i),n_:UO.bind(null,i),i_:jO.bind(null,i),Y_:BO.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),ag(i)?sg(i):i.Va.set("Unknown")):(await i.fa.stop(),a1(i))})),i.fa}function Cs(i){return i.ga||(i.ga=function(n,s,o){const u=Dt(n);return u.oa(),new DO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:qO.bind(null,i),i_:KO.bind(null,i),na:FO.bind(null,i),ra:GO.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await fh(i)):(await i.ga.stop(),i.Ia.length>0&&(pt(_a,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new og(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(i,t){if(Or("AsyncQueue",`${t}: ${i}`),qo(i))return new Tt(st.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(t){return new So(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||St.comparator(n.key,s.key):(n,s)=>St.comparator(n.key,s.key),this.keyedMap=Zl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof So)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new So;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.pa=new ve(St.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):xt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Oo{constructor(t,n,s,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Oo(t,n,So.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class QO{constructor(){this.queries=CE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Dt(n),u=o.queries;o.queries=CE(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new Tt(st.ABORTED,"Firestore shutting down"))}}function CE(){return new ba(i=>xb(i),rh)}async function XO(i,t){const n=Dt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Da()&&t.va()&&(s=2):(u=new YO,s=t.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=lg(h,`Initialization of query '${yo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.Fa(n.onlineState),u.ba&&t.Ma(u.ba)&&ug(n)}async function WO(i,t){const n=Dt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZO(i,t){const n=Dt(i);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Ma(o)&&(s=!0);h.ba=o}}s&&ug(n)}function JO(i,t,n){const s=Dt(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function ug(i){i.Ca.forEach(t=>{t.next()})}var yp,IE;(IE=yp||(yp={})).xa="default",IE.Cache="cache";class tD{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Oo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.key=t}}class f1{constructor(t){this.key=t}}class eD{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Gt(),this.mutatedKeys=Gt(),this.Za=Nb(t),this.Xa=new So(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new RE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,_)=>{const w=o.get(T),M=sh(this.query,_)?_:null,B=!!w&&this.mutatedKeys.has(w.key),X=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let U=!1;w&&M?w.data.isEqual(M.data)?B!==X&&(s.track({type:3,doc:M}),U=!0):this.ru(w,M)||(s.track({type:2,doc:M}),U=!0,(p&&this.Za(M,p)>0||g&&this.Za(M,g)<0)&&(m=!0)):!w&&M?(s.track({type:0,doc:M}),U=!0):w&&!M&&(s.track({type:1,doc:w}),U=!0,(p||g)&&(m=!0)),U&&(M?(h=h.add(M),u=X?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Xa:h,nu:s,Cs:m,mutatedKeys:u}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const h=t.nu.wa();h.sort((T,_)=>function(M,B){const X=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Vt:U})}};return X(M)-X(B)}(T.type,_.type)||this.Za(T.doc,_.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new Oo(this.query,t.Xa,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new RE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Gt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new f1(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new c1(s))}),n}au(t){this.Ha=t.$s,this.Ya=Gt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Oo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const cg="SyncEngine";class nD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class iD{constructor(t){this.key=t,this.cu=!1}}class rD{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new ba(m=>xb(m),rh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ve(St.comparator),this.Eu=new Map,this.du=new Jp,this.Au={},this.Ru=new Map,this.Vu=No.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function sD(i,t,n=!0){const s=y1(i);let o;const u=s.hu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await h1(s,t,n,!0),o}async function aD(i,t){const n=y1(i);await h1(n,t,!0,!1)}async function h1(i,t,n,s){const o=await wO(i.localStore,Bi(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oD(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&r1(i.remoteStore,o),m}async function oD(i,t,n,s,o){i.fu=(_,w,M)=>async function(X,U,ot,ht){let nt=U.view.tu(ot);nt.Cs&&(nt=await EE(X.localStore,U.query,!1).then(({documents:O})=>U.view.tu(O,nt)));const dt=ht&&ht.targetChanges.get(U.targetId),lt=ht&&ht.targetMismatches.get(U.targetId)!=null,at=U.view.applyChanges(nt,X.isPrimaryClient,dt,lt);return NE(X,U.targetId,at.ou),at.snapshot}(i,_,w,M);const u=await EE(i.localStore,t,!0),h=new eD(t,u.$s),m=h.tu(u.documents),p=xu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);NE(i,n,g.ou);const T=new nD(t,n,h);return i.hu.set(t,T),i.Pu.has(n)?i.Pu.get(n).push(t):i.Pu.set(n,[t]),g.snapshot}async function lD(i,t,n){const s=Dt(i),o=s.hu.get(t),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(h=>!rh(h,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ig(s.remoteStore,o.targetId),vp(s,o.targetId)}).catch(Ho)):(vp(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function uD(i,t){const n=Dt(i),s=n.hu.get(t),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ig(n.remoteStore,s.targetId))}async function cD(i,t,n){const s=yD(i);try{const o=await function(h,m){const p=Dt(h),g=Fe.now(),T=m.reduce((M,B)=>M.add(B.key),Gt());let _,w;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let B=Dr(),X=Gt();return p.Bs.getEntries(M,T).next(U=>{B=U,B.forEach((ot,ht)=>{ht.isValidDocument()||(X=X.add(ot))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,B)).next(U=>{_=U;const ot=[];for(const ht of m){const nt=wN(ht,_.get(ht.key).overlayedDocument);nt!=null&&ot.push(new Ds(ht.key,nt,bb(nt.value.mapValue),zi.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,ot,m)}).next(U=>{w=U;const ot=U.applyToLocalDocumentSet(_,X);return p.documentOverlayCache.saveOverlays(M,U.batchId,ot)})}).then(()=>({batchId:w.batchId,changes:Db(_)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Au[h.currentUser.toKey()];g||(g=new ve(Lt)),g=g.insert(m,p),h.Au[h.currentUser.toKey()]=g}(s,o.batchId,n),await Ou(s,o.changes),await fh(s.remoteStore)}catch(o){const u=lg(o,"Failed to persist write");n.reject(u)}}async function d1(i,t){const n=Dt(i);try{const s=await EO(n.localStore,t);t.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(ee(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?ee(h.cu,14607):o.removedDocuments.size>0&&(ee(h.cu,42227),h.cu=!1))}),await Ou(n,s,t)}catch(s){await Ho(s)}}function xE(i,t,n){const s=Dt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,h)=>{const m=h.view.Fa(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Dt(h);p.onlineState=m;let g=!1;p.queries.forEach((T,_)=>{for(const w of _.Sa)w.Fa(m)&&(g=!0)}),g&&ug(p)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function fD(i,t,n){const s=Dt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let h=new ve(St.comparator);h=h.insert(u,pn.newNoDocument(u,Ot.min()));const m=Gt().add(u),p=new lh(Ot.min(),new Map,new ve(Lt),h,m);await d1(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(t),fg(s)}else await pp(s.localStore,t,!1).then(()=>vp(s,t,n)).catch(Ho)}async function hD(i,t){const n=Dt(i),s=t.batch.batchId;try{const o=await _O(n.localStore,t);p1(n,s,null),m1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(n,o)}catch(o){await Ho(o)}}async function dD(i,t,n){const s=Dt(i);try{const o=await function(h,m){const p=Dt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(_=>(ee(_!==null,37113),T=_.keys(),p.mutationQueue.removeMutationBatch(g,_))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,t);p1(s,t,n),m1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ou(s,o)}catch(o){await Ho(o)}}function m1(i,t){(i.Ru.get(t)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(t)}function p1(i,t,n){const s=Dt(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function vp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Pu.get(t))i.hu.delete(s),n&&i.lu.gu(s,n);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(s=>{i.du.containsKey(s)||g1(i,s)})}function g1(i,t){i.Tu.delete(t.path.canonicalString());const n=i.Iu.get(t);n!==null&&(ig(i.remoteStore,n),i.Iu=i.Iu.remove(t),i.Eu.delete(n),fg(i))}function NE(i,t,n){for(const s of n)s instanceof c1?(i.du.addReference(s.key,t),mD(i,s)):s instanceof f1?(pt(cg,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,t),i.du.containsKey(s.key)||g1(i,s.key)):xt(19791,{pu:s})}function mD(i,t){const n=t.key,s=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(s)||(pt(cg,"New document in limbo: "+n),i.Tu.add(s),fg(i))}function fg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const n=new St(we.fromString(t)),s=i.Vu.next();i.Eu.set(s,new iD(n)),i.Iu=i.Iu.insert(n,s),r1(i.remoteStore,new ys(Bi(Yp(n.path)),s,"TargetPurposeLimboResolution",th.le))}}async function Ou(i,t,n){const s=Dt(i),o=[],u=[],h=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{h.push(s.fu(p,t,n).then(g=>{var T;if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=eg.Rs(p.targetId,g);u.push(_)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(p,g){const T=Dt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>tt.forEach(g,w=>tt.forEach(w.ds,M=>T.persistence.referenceDelegate.addReference(_,w.targetId,M)).next(()=>tt.forEach(w.As,M=>T.persistence.referenceDelegate.removeReference(_,w.targetId,M)))))}catch(_){if(!qo(_))throw _;pt(ng,"Failed to update sequence numbers: "+_)}for(const _ of g){const w=_.targetId;if(!_.fromCache){const M=T.xs.get(w),B=M.snapshotVersion,X=M.withLastLimboFreeSnapshotVersion(B);T.xs=T.xs.insert(w,X)}}}(s.localStore,u))}async function pD(i,t){const n=Dt(i);if(!n.currentUser.isEqual(t)){pt(cg,"User change. New user:",t.toKey());const s=await t1(n.localStore,t);n.currentUser=t,function(u,h){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new Tt(st.CANCELLED,h))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ou(n,s.ks)}}function gD(i,t){const n=Dt(i),s=n.Eu.get(t);if(s&&s.cu)return Gt().add(s.key);{let o=Gt();const u=n.Pu.get(t);if(!u)return o;for(const h of u){const m=n.hu.get(h);o=o.unionWith(m.view.eu)}return o}}function y1(i){const t=Dt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=d1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fD.bind(null,t),t.lu.Y_=ZO.bind(null,t.eventManager),t.lu.gu=JO.bind(null,t.eventManager),t}function yD(i){const t=Dt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dD.bind(null,t),t}class zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return vO(this.persistence,new pO,t.initialUser,this.serializer)}Su(t){return new Jb(tg.fi,this.serializer)}bu(t){return new AO}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zf.provider={build:()=>new zf};class vD extends zf{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){ee(this.persistence.referenceDelegate instanceof jf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tO(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new Jb(s=>jf.fi(s,n),this.serializer)}}class _p{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pD.bind(null,this.syncEngine),await $O(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new QO}()}createDatastore(t){const n=uh(t.databaseInfo.databaseId),s=function(u){return new NO(u)}(t.databaseInfo);return function(u,h,m,p){return new VO(u,h,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,h,m){return new PO(s,o,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,n=>xE(this.syncEngine,n,0),function(){return wE.C()?new wE:new RO}())}createSyncEngine(t,n){return function(o,u,h,m,p,g,T){const _=new rD(o,u,h,m,p,g);return T&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Dt(o);pt(_a,"RemoteStore shutting down."),u.da.add(5),await Nu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Or("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class ED{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{pt(Is,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(pt(Is,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=lg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Lm(i,t){i.asyncQueue.verifyOperationInProgress(),pt(Is,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await t1(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function OE(i,t){i.asyncQueue.verifyOperationInProgress();const n=await TD(i);pt(Is,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener(s=>AE(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>AE(t.remoteStore,o)),i._onlineComponents=t}async function TD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pt(Is,"Using user provided OfflineComponentProvider");try{await Lm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===st.FAILED_PRECONDITION||o.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await Lm(i,new zf)}}else pt(Is,"Using default OfflineComponentProvider"),await Lm(i,new vD(void 0));return i._offlineComponents}async function v1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pt(Is,"Using user provided OnlineComponentProvider"),await OE(i,i._uninitializedComponentsProvider._online)):(pt(Is,"Using default OnlineComponentProvider"),await OE(i,new _p))),i._onlineComponents}function bD(i){return v1(i).then(t=>t.syncEngine)}async function wD(i){const t=await v1(i),n=t.eventManager;return n.onListen=sD.bind(null,t.syncEngine),n.onUnlisten=lD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=aD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=uD.bind(null,t.syncEngine),n}function SD(i,t,n={}){const s=new bs;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const T=new _D({next:w=>{T.xu(),h.enqueueAndForget(()=>WO(u,_));const M=w.docs.has(m);!M&&w.fromCache?g.reject(new Tt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&w.fromCache&&p&&p.source==="server"?g.reject(new Tt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new tD(Yp(m.path),T,{includeMetadataChanges:!0,Qa:!0});return XO(u,_)}(await wD(i),i.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(i,t,n){if(!n)throw new Tt(st.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function RD(i,t,n,s){if(t===!0&&s===!0)throw new Tt(st.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function ME(i){if(!St.isDocumentKey(i))throw new Tt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function hg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":xt(12329,{type:typeof i})}function Ea(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Tt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hg(i);throw new Tt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firestore.googleapis.com",VE=!0;class kE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E1,this.ssl=VE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:VE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Zb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZN)throw new Tt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}RD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_1((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Tt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Tt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Tt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Tt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Ix;switch(s.type){case"firstParty":return new Dx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Tt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=DE.get(n);s&&(pt("ComponentProvider","Removing Datastore"),DE.delete(n),s.terminate())}(this),Promise.resolve()}}function CD(i,t,n,s={}){var o;i=Ea(i,dg);const u=Uo(t),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${n}`;u&&(pT(`https://${p}`),gT("Firestore",!0)),h.host!==E1&&h.host!==p&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!ma(g,m)&&(i._setSettings(g),s.mockUserToken)){let T,_;if(typeof s.mockUserToken=="string")T=s.mockUserToken,_=mn.MOCK_USER;else{T=UR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Tt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new mn(w)}i._authCredentials=new xx(new cb(T,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new mg(this.firestore,t,this._query)}}class Fn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fn(this.firestore,t,this._key)}}class yu extends mg{constructor(t,n,s){super(t,n,Yp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fn(this.firestore,null,new St(t))}withConverter(t){return new yu(this.firestore,t,this._path)}}function qi(i,t,...n){if(i=vn(i),arguments.length===1&&(t=hb.newId()),AD("doc","path",t),i instanceof dg){const s=we.fromString(t,...n);return ME(s),new Fn(i,null,new St(s))}{if(!(i instanceof Fn||i instanceof yu))throw new Tt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(we.fromString(t,...n));return ME(s),new Fn(i.firestore,i instanceof yu?i.converter:null,new St(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="AsyncQueue";class LE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new n1(this,"async_queue_retry"),this.rc=()=>{const s=Pm();s&&pt(PE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new bs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!qo(t))throw t;pt(PE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Or("INTERNAL UNHANDLED ERROR: ",UE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const o=og.createAndSchedule(this,t,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&xt(47125,{cc:UE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function UE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class hh extends dg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new LE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new LE(t),this._firestoreClient=void 0,await t}}}function ID(i,t){const n=typeof i=="object"?i:ET(),s=typeof i=="string"?i:Df,o=Dp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=PR("firestore");u&&CD(o,...u)}return o}function T1(i){if(i._terminated)throw new Tt(st.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||xD(i),i._firestoreClient}function xD(i){var t,n,s;const o=i._freezeSettings(),u=function(m,p,g,T){return new $x(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,_1(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new ED(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Do(un.fromBase64String(t))}catch(n){throw new Tt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Do(un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Tt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Tt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=/^__.*__$/;class OD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ds(t,this.data,this.fieldMask,n,this.fieldTransforms):new Iu(t,this.data,n,this.fieldTransforms)}}class b1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Ds(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function w1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ic:i})}}class vg{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new vg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Hf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(w1(this.Ic)&&ND.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class DD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||uh(t)}bc(t,n,s,o=!1){return new vg({Ic:t,methodName:n,wc:s,path:ln.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S1(i){const t=i._freezeSettings(),n=uh(i._databaseId);return new DD(i._databaseId,!!t.ignoreUndefinedProperties,n)}function MD(i,t,n,s,o,u={}){const h=i.bc(u.merge||u.mergeFields?2:0,t,n,o);_g("Data must be an object, but it was:",h,s);const m=A1(s,h);let p,g;if(u.merge)p=new qn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const _ of u.mergeFields){const w=Ep(t,_,n);if(!h.contains(w))throw new Tt(st.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);C1(T,w)||T.push(w)}p=new qn(T),g=h.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,g=h.fieldTransforms;return new OD(new Mn(m),p,g)}class mh extends pg{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof mh}}function VD(i,t,n,s){const o=i.bc(1,t,n);_g("Data must be an object, but it was:",o,s);const u=[],h=Mn.empty();Os(s,(p,g)=>{const T=Eg(t,p,n);g=vn(g);const _=o.mc(T);if(g instanceof mh)u.push(T);else{const w=ph(g,_);w!=null&&(u.push(T),h.set(T,w))}});const m=new qn(u);return new b1(h,m,o.fieldTransforms)}function kD(i,t,n,s,o,u){const h=i.bc(1,t,n),m=[Ep(t,s,n)],p=[o];if(u.length%2!=0)throw new Tt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Ep(t,u[w])),p.push(u[w+1]);const g=[],T=Mn.empty();for(let w=m.length-1;w>=0;--w)if(!C1(g,m[w])){const M=m[w];let B=p[w];B=vn(B);const X=h.mc(M);if(B instanceof mh)g.push(M);else{const U=ph(B,X);U!=null&&(g.push(M),T.set(M,U))}}const _=new qn(g);return new b1(T,_,h.fieldTransforms)}function ph(i,t){if(R1(i=vn(i)))return _g("Unsupported field value:",t,i),A1(i,t);if(i instanceof pg)return function(s,o){if(!w1(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=ph(m,o.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,t)}return function(s,o){if((s=vn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Fe.fromDate(s);return{timestampValue:Uf(o.serializer,u)}}if(s instanceof Fe){const u=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uf(o.serializer,u)}}if(s instanceof gg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Do)return{bytesValue:Gb(o.serializer,s._byteString)};if(s instanceof Fn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yg)return function(h,m){return{mapValue:{fields:{[Eb]:{stringValue:Tb},[Mf]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Qp(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${hg(s)}`)}(i,t)}function A1(i,t){const n={};return mb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Os(i,(s,o)=>{const u=ph(o,t.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function R1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Fe||i instanceof gg||i instanceof Do||i instanceof Fn||i instanceof pg||i instanceof yg)}function _g(i,t,n){if(!R1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=hg(n);throw s==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+s)}}function Ep(i,t,n){if((t=vn(t))instanceof dh)return t._internalPath;if(typeof t=="string")return Eg(i,t);throw Hf("Field path arguments must be of type string or ",i,!1,void 0,n)}const PD=new RegExp("[~\\*/\\[\\]]");function Eg(i,t,n){if(t.search(PD)>=0)throw Hf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new dh(...t.split("."))._internalPath}catch{throw Hf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Hf(i,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new Tt(st.INVALID_ARGUMENT,m+i+p)}function C1(i,t){return i.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(x1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LD extends I1{data(){return super.data()}}function x1(i,t){return typeof t=="string"?Eg(i,t):t instanceof dh?t._internalPath:t._delegate._internalPath}class UD{convertValue(t,n="none"){switch(Rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(As(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Os(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Mf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Ie(h.doubleValue));return new yg(u)}convertGeoPoint(t){return new gg(Ie(t.latitude),Ie(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=nh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(t));default:return null}}convertTimestamp(t){const n=Ss(t);return new Fe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=we.fromString(t);ee(Wb(s),9688,{name:t});const o=new du(s.get(1),s.get(3)),u=new St(s.popFirst(5));return o.isEqual(n)||Or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(i,t,n){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class N1 extends I1{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new zD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(x1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class zD extends N1{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(i){i=Ea(i,Fn);const t=Ea(i.firestore,hh);return SD(T1(t),i._key).then(n=>FD(t,i,n))}class HD extends UD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Do(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function qD(i,t,n){i=Ea(i,Fn);const s=Ea(i.firestore,hh),o=jD(i.converter,t);return O1(s,[MD(S1(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,zi.none())])}function Tg(i,t,n,...s){i=Ea(i,Fn);const o=Ea(i.firestore,hh),u=S1(o);let h;return h=typeof(t=vn(t))=="string"||t instanceof dh?kD(u,"updateDoc",i._key,t,n,s):VD(u,"updateDoc",i._key,t),O1(o,[h.toMutation(i._key,zi.exists(!0))])}function O1(i,t){return function(s,o){const u=new bs;return s.asyncQueue.enqueueAndForget(async()=>cD(await bD(s),o,u)),u.promise}(T1(i),t)}function FD(i,t,n){const s=n.docs.get(t._key),o=new HD(i);return new N1(i,o,t._key,s,new BD(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){zo=o})(jo),Ao(new pa("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new hh(new Nx(s.getProvider("auth-internal")),new Mx(h,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Tt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(g.options.projectId,T)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Es(F0,G0,t),Es(F0,G0,"esm2017")})();const GD={apiKey:"AIzaSyBozVVinEK5nlXi4xR7_ZE_2tQeSMwN8Us",authDomain:"login-auth-366ba.firebaseapp.com",projectId:"login-auth-366ba",storageBucket:"login-auth-366ba.firebasestorage.app",messagingSenderId:"559443453077",appId:"1:559443453077:web:c5689dced0e72da81ce79c"},KD=_T(GD),Vo=Rx(),Fi=ID(KD),$D=["practice","classic","royale"];function YD({togglePlayWordle:i,gameMode:t,setGameMode:n,className:s="",currentUser:o}){const[u,h]=C.useState($D),[m,p]=C.useState(t),g=C.useRef(null),[T,_]=C.useState(!1);return C.useEffect(()=>{const w=M=>{g.current&&!g.current.contains(M.target)&&_(!1)};return document.addEventListener("mousedown",M=>w(M)),()=>document.addEventListener("mousedown",M=>w(M))},[]),A.jsxs(A.Fragment,{children:[A.jsx(_u,{richColors:!0,position:"top-center"}),A.jsxs("div",{className:`game-mode-selector ${s}`,children:[A.jsx("div",{className:"play-btn flex-center",onClick:i,children:A.jsx(CR,{})}),A.jsx(tf,{activeKey:"true",className:"game-mode",ref:g,children:A.jsxs(tf.Item,{eventKey:String(T),style:{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},children:[A.jsx(tf.Header,{onClick:()=>{_(!T)},children:A.jsx("span",{className:"current-mode",children:m.toUpperCase()})}),A.jsx(tf.Body,{onExited:()=>n(m),children:A.jsx("ol",{children:u.map((w,M)=>w===t?null:A.jsx("li",{className:`selector-list ${M+1===u.length&&"last"}`,onClick:()=>{o||w==="practice"?(_(!1),p(w)):Li.warning("Log in to play.")},children:A.jsx("span",{className:"mode",children:w.toUpperCase()})},M))})})]})})]})]})}function QD({togglePlayWordle:i,gameMode:t,setGameMode:n,darkMode:s,currentUser:o}){return A.jsx("div",{className:"homepage flex-center",children:A.jsx(YD,{togglePlayWordle:i,gameMode:t,setGameMode:n,className:s,currentUser:o})})}const XD=["as","disabled"];function WD(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function ZD(i){return!i||i.trim()==="#"}function bg({tagName:i,disabled:t,href:n,target:s,rel:o,role:u,onClick:h,tabIndex:m=0,type:p}){i||(n!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:t},g];const T=w=>{if((t||i==="a"&&ZD(n))&&w.preventDefault(),t){w.stopPropagation();return}h==null||h(w)},_=w=>{w.key===" "&&(w.preventDefault(),T(w))};return i==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:t?void 0:m,href:n,target:i==="a"?s:void 0,"aria-disabled":t||void 0,rel:i==="a"?o:void 0,onClick:T,onKeyDown:_},g]}const D1=C.forwardRef((i,t)=>{let{as:n,disabled:s}=i,o=WD(i,XD);const[u,{tagName:h}]=bg(Object.assign({tagName:n,disabled:s},o));return A.jsx(h,Object.assign({},o,u,{ref:t}))});D1.displayName="Button";const yi=C.forwardRef(({as:i,bsPrefix:t,variant:n="primary",size:s,active:o=!1,disabled:u=!1,className:h,...m},p)=>{const g=kt(t,"btn"),[T,{tagName:_}]=bg({tagName:i,disabled:u,...m}),w=_;return A.jsx(w,{...T,...m,ref:p,disabled:u,className:Nt(h,g,o&&"active",n&&`${g}-${n}`,s&&`${g}-${s}`,m.href&&u&&"disabled")})});yi.displayName="Button";const JD={type:Cr.string,tooltip:Cr.bool,as:Cr.elementType},gh=C.forwardRef(({as:i="div",className:t,type:n="valid",tooltip:s=!1,...o},u)=>A.jsx(i,{...o,ref:u,className:Nt(t,`${n}-${s?"tooltip":"feedback"}`)}));gh.displayName="Feedback";gh.propTypes=JD;const Mr=C.createContext({}),wg=C.forwardRef(({id:i,bsPrefix:t,className:n,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:h="input",...m},p)=>{const{controlId:g}=C.useContext(Mr);return t=kt(t,"form-check-input"),A.jsx(h,{...m,ref:p,type:s,id:i||g,className:Nt(n,t,o&&"is-valid",u&&"is-invalid")})});wg.displayName="FormCheckInput";const qf=C.forwardRef(({bsPrefix:i,className:t,htmlFor:n,...s},o)=>{const{controlId:u}=C.useContext(Mr);return i=kt(i,"form-check-label"),A.jsx("label",{...s,ref:o,htmlFor:n||u,className:Nt(t,i)})});qf.displayName="FormCheckLabel";function tM(i,t){return C.Children.toArray(i).some(n=>C.isValidElement(n)&&n.type===t)}const M1=C.forwardRef(({id:i,bsPrefix:t,bsSwitchPrefix:n,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:h=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:T,className:_,style:w,title:M="",type:B="checkbox",label:X,children:U,as:ot="input",...ht},nt)=>{t=kt(t,"form-check"),n=kt(n,"form-switch");const{controlId:dt}=C.useContext(Mr),lt=C.useMemo(()=>({controlId:i||dt}),[dt,i]),at=!U&&X!=null&&X!==!1||tM(U,qf),O=A.jsx(wg,{...ht,type:B==="switch"?"checkbox":B,ref:nt,isValid:h,isInvalid:m,disabled:u,as:ot});return A.jsx(Mr.Provider,{value:lt,children:A.jsx("div",{style:w,className:Nt(_,at&&t,s&&`${t}-inline`,o&&`${t}-reverse`,B==="switch"&&n),children:U||A.jsxs(A.Fragment,{children:[O,at&&A.jsx(qf,{title:M,children:X}),g&&A.jsx(gh,{type:T,tooltip:p,children:g})]})})})});M1.displayName="FormCheck";const Ff=Object.assign(M1,{Input:wg,Label:qf}),V1=C.forwardRef(({bsPrefix:i,type:t,size:n,htmlSize:s,id:o,className:u,isValid:h=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:T="input",..._},w)=>{const{controlId:M}=C.useContext(Mr);return i=kt(i,"form-control"),A.jsx(T,{..._,type:t,size:s,ref:w,readOnly:g,id:o||M,className:Nt(u,p?`${i}-plaintext`:i,n&&`${i}-${n}`,t==="color"&&`${i}-color`,h&&"is-valid",m&&"is-invalid")})});V1.displayName="FormControl";const eM=Object.assign(V1,{Feedback:gh}),k1=C.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=kt(t,"form-floating"),A.jsx(n,{ref:o,className:Nt(i,t),...s})));k1.displayName="FormFloating";const Sg=C.forwardRef(({controlId:i,as:t="div",...n},s)=>{const o=C.useMemo(()=>({controlId:i}),[i]);return A.jsx(Mr.Provider,{value:o,children:A.jsx(t,{...n,ref:s})})});Sg.displayName="FormGroup";function nM({as:i,bsPrefix:t,className:n,...s}){t=kt(t,"col");const o=tR(),u=eR(),h=[],m=[];return o.forEach(p=>{const g=s[p];delete s[p];let T,_,w;typeof g=="object"&&g!=null?{span:T,offset:_,order:w}=g:T=g;const M=p!==u?`-${p}`:"";T&&h.push(T===!0?`${t}${M}`:`${t}${M}-${T}`),w!=null&&m.push(`order${M}-${w}`),_!=null&&m.push(`offset${M}-${_}`)}),[{...s,className:Nt(n,...h,...m)},{as:i,bsPrefix:t,spans:h}]}const P1=C.forwardRef((i,t)=>{const[{className:n,...s},{as:o="div",bsPrefix:u,spans:h}]=nM(i);return A.jsx(o,{...s,ref:t,className:Nt(n,!h.length&&u)})});P1.displayName="Col";const L1=C.forwardRef(({as:i="label",bsPrefix:t,column:n=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...h},m)=>{const{controlId:p}=C.useContext(Mr);t=kt(t,"form-label");let g="col-form-label";typeof n=="string"&&(g=`${g} ${g}-${n}`);const T=Nt(o,t,s&&"visually-hidden",n&&g);return u=u||p,n?A.jsx(P1,{ref:m,as:"label",className:T,htmlFor:u,...h}):A.jsx(i,{ref:m,className:T,htmlFor:u,...h})});L1.displayName="FormLabel";const U1=C.forwardRef(({bsPrefix:i,className:t,id:n,...s},o)=>{const{controlId:u}=C.useContext(Mr);return i=kt(i,"form-range"),A.jsx("input",{...s,type:"range",ref:o,className:Nt(t,i),id:n||u})});U1.displayName="FormRange";const j1=C.forwardRef(({bsPrefix:i,size:t,htmlSize:n,className:s,isValid:o=!1,isInvalid:u=!1,id:h,...m},p)=>{const{controlId:g}=C.useContext(Mr);return i=kt(i,"form-select"),A.jsx("select",{...m,size:n,ref:p,className:Nt(s,i,t&&`${i}-${t}`,o&&"is-valid",u&&"is-invalid"),id:h||g})});j1.displayName="FormSelect";const B1=C.forwardRef(({bsPrefix:i,className:t,as:n="small",muted:s,...o},u)=>(i=kt(i,"form-text"),A.jsx(n,{...o,ref:u,className:Nt(t,i,s&&"text-muted")})));B1.displayName="FormText";const z1=C.forwardRef((i,t)=>A.jsx(Ff,{...i,ref:t,type:"switch"}));z1.displayName="Switch";const iM=Object.assign(z1,{Input:Ff.Input,Label:Ff.Label}),H1=C.forwardRef(({bsPrefix:i,className:t,children:n,controlId:s,label:o,...u},h)=>(i=kt(i,"form-floating"),A.jsxs(Sg,{ref:h,className:Nt(t,i),controlId:s,...u,children:[n,A.jsx("label",{htmlFor:s,children:o})]})));H1.displayName="FloatingLabel";const rM={_ref:Cr.any,validated:Cr.bool,as:Cr.elementType},Ag=C.forwardRef(({className:i,validated:t,as:n="form",...s},o)=>A.jsx(n,{...s,ref:o,className:Nt(i,t&&"was-validated")}));Ag.displayName="Form";Ag.propTypes=rM;const ke=Object.assign(Ag,{Group:Sg,Control:eM,Floating:k1,Check:Ff,Switch:iM,Label:L1,Text:B1,Range:U1,Select:j1,FloatingLabel:H1});var lf;function jE(i){if((!lf&&lf!==0||i)&&Lo){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),lf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return lf}function sM(){return C.useState(null)}function aM(i){const t=C.useRef(i);return C.useEffect(()=>{t.current=i},[i]),t}function ko(i){const t=aM(i);return C.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function oM(i){const t=C.useRef(i);return t.current=i,t}function lM(i){const t=oM(i);C.useEffect(()=>()=>t.current(),[])}function Um(i){i===void 0&&(i=$f());try{var t=i.activeElement;return!t||!t.nodeName?null:t}catch{return i.body}}function BE(i,t){if(i.contains)return i.contains(t);if(i.compareDocumentPosition)return i===t||!!(i.compareDocumentPosition(t)&16)}function uM(){const i=C.useRef(!0),t=C.useRef(()=>i.current);return C.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function cM(i){const t=C.useRef(i);return t.current=i,t}function fM(i){const t=cM(i);C.useEffect(()=>()=>t.current(),[])}function hM(i){const t=C.useRef(null);return C.useEffect(()=>{t.current=i}),t.current}function dM(i){const t=C.useRef(i);return C.useEffect(()=>{t.current=i},[i]),t}function wr(i){const t=dM(i);return C.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const mM="data-rr-ui-",pM="rrUi";function yh(i){return`${mM}${i}`}function gM(i){return`${pM}${i}`}function yM(i=document){const t=i.defaultView;return Math.abs(t.innerWidth-i.documentElement.clientWidth)}const zE=yh("modal-open");class Rg{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return yM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(n[s]=`${parseInt(Rr(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(zE,""),Rr(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(zE),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const q1=C.createContext(Lo?window:void 0);q1.Provider;function Cg(){return C.useContext(q1)}const jm=(i,t)=>Lo?i==null?(t||$f()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function vM(i,t){const n=Cg(),[s,o]=C.useState(()=>jm(i,n==null?void 0:n.document));if(!s){const u=jm(i);u&&o(u)}return C.useEffect(()=>{},[t,s]),C.useEffect(()=>{const u=jm(i);u!==s&&o(u)},[i,s]),s}const HE=i=>!i||typeof i=="function"?i:t=>{i.current=t};function _M(i,t){const n=HE(i),s=HE(t);return o=>{n&&n(o),s&&s(o)}}function vh(i,t){return C.useMemo(()=>_M(i,t),[i,t])}const EM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",TM=typeof document<"u",qE=TM||EM?C.useLayoutEffect:C.useEffect;function bM({children:i,in:t,onExited:n,mountOnEnter:s,unmountOnExit:o}){const u=C.useRef(null),h=C.useRef(t),m=wr(n);C.useEffect(()=>{t?h.current=!0:m(u.current)},[t,m]);const p=vh(u,Po(i)),g=C.cloneElement(i,{ref:p});return t?g:o||!h.current&&s?null:g}const wM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function SM(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function AM(i){let{onEnter:t,onEntering:n,onEntered:s,onExit:o,onExiting:u,onExited:h,addEndListener:m,children:p}=i,g=SM(i,wM);const T=C.useRef(null),_=vh(T,Po(p)),w=dt=>lt=>{dt&&T.current&&dt(T.current,lt)},M=C.useCallback(w(t),[t]),B=C.useCallback(w(n),[n]),X=C.useCallback(w(s),[s]),U=C.useCallback(w(o),[o]),ot=C.useCallback(w(u),[u]),ht=C.useCallback(w(h),[h]),nt=C.useCallback(w(m),[m]);return Object.assign({},g,{nodeRef:T},t&&{onEnter:M},n&&{onEntering:B},s&&{onEntered:X},o&&{onExit:U},u&&{onExiting:ot},h&&{onExited:ht},m&&{addEndListener:nt},{children:typeof p=="function"?(dt,lt)=>p(dt,Object.assign({},lt,{ref:_})):C.cloneElement(p,{ref:_})})}const RM=["component"];function CM(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}const IM=C.forwardRef((i,t)=>{let{component:n}=i,s=CM(i,RM);const o=AM(s);return A.jsx(n,Object.assign({ref:t},o))});function xM({in:i,onTransition:t}){const n=C.useRef(null),s=C.useRef(!0),o=wr(t);return qE(()=>{if(!n.current)return;let u=!1;return o({in:i,element:n.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[i,o]),qE(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function NM({children:i,in:t,onExited:n,onEntered:s,transition:o}){const[u,h]=C.useState(!t);t&&u&&h(!1);const m=xM({in:!!t,onTransition:g=>{const T=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),n==null||n(g.element)))};Promise.resolve(o(g)).then(T,_=>{throw g.in||h(!0),_})}}),p=vh(m,Po(i));return u&&!t?null:C.cloneElement(i,{ref:p})}function FE(i,t,n){return i?A.jsx(IM,Object.assign({},n,{component:i})):t?A.jsx(NM,Object.assign({},n,{transition:t})):A.jsx(bM,Object.assign({},n))}const OM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function DM(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}let Bm;function MM(i){return Bm||(Bm=new Rg({ownerDocument:i==null?void 0:i.document})),Bm}function VM(i){const t=Cg(),n=i||MM(t),s=C.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:C.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:C.useCallback(o=>{s.current.backdrop=o},[])})}const F1=C.forwardRef((i,t)=>{let{show:n=!1,role:s="dialog",className:o,style:u,children:h,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:T,transition:_,runTransition:w,backdropTransition:M,runBackdropTransition:B,autoFocus:X=!0,enforceFocus:U=!0,restoreFocus:ot=!0,restoreFocusOptions:ht,renderDialog:nt,renderBackdrop:dt=Xt=>A.jsx("div",Object.assign({},Xt)),manager:lt,container:at,onShow:O,onHide:R=()=>{},onExit:I,onExited:V,onExiting:k,onEnter:L,onEntering:x,onEntered:Et}=i,Mt=DM(i,OM);const z=Cg(),it=vM(at),ct=VM(lt),Rt=uM(),D=hM(n),[$,et]=C.useState(!n),Q=C.useRef(null);C.useImperativeHandle(t,()=>ct,[ct]),Lo&&!D&&n&&(Q.current=Um(z==null?void 0:z.document)),n&&$&&et(!1);const ut=wr(()=>{if(ct.add(),Se.current=bf(document,"keydown",Bt),_e.current=bf(document,"focus",()=>setTimeout(mt),!0),O&&O(),X){var Xt,Gn;const he=Um((Xt=(Gn=ct.dialog)==null?void 0:Gn.ownerDocument)!=null?Xt:z==null?void 0:z.document);ct.dialog&&he&&!BE(ct.dialog,he)&&(Q.current=he,ct.dialog.focus())}}),_t=wr(()=>{if(ct.remove(),Se.current==null||Se.current(),_e.current==null||_e.current(),ot){var Xt;(Xt=Q.current)==null||Xt.focus==null||Xt.focus(ht),Q.current=null}});C.useEffect(()=>{!n||!it||ut()},[n,it,ut]),C.useEffect(()=>{$&&_t()},[$,_t]),fM(()=>{_t()});const mt=wr(()=>{if(!U||!Rt()||!ct.isTopModal())return;const Xt=Um(z==null?void 0:z.document);ct.dialog&&Xt&&!BE(ct.dialog,Xt)&&ct.dialog.focus()}),ne=wr(Xt=>{Xt.target===Xt.currentTarget&&(g==null||g(Xt),m===!0&&R())}),Bt=wr(Xt=>{p&&pR(Xt)&&ct.isTopModal()&&(T==null||T(Xt),Xt.defaultPrevented||R())}),_e=C.useRef(),Se=C.useRef(),cn=(...Xt)=>{et(!0),V==null||V(...Xt)};if(!it)return null;const Je=Object.assign({role:s,ref:ct.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Mt,{style:u,className:o,tabIndex:-1});let _n=nt?nt(Je):A.jsx("div",Object.assign({},Je,{children:C.cloneElement(h,{role:"document"})}));_n=FE(_,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:I,onExiting:k,onExited:cn,onEnter:L,onEntering:x,onEntered:Et,children:_n});let Ke=null;return m&&(Ke=dt({ref:ct.setBackdropRef,onClick:ne}),Ke=FE(M,B,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ke})),A.jsx(A.Fragment,{children:ha.createPortal(A.jsxs(A.Fragment,{children:[Ke,_n]}),it)})});F1.displayName="Modal";const G1=Object.assign(F1,{Manager:Rg});function kM(i,t){return i.classList?i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function PM(i,t){i.classList?i.classList.add(t):kM(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}var LM=Function.prototype.bind.call(Function.prototype.call,[].slice);function ca(i,t){return LM(i.querySelectorAll(t))}function GE(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function UM(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=GE(i.className,t):i.setAttribute("class",GE(i.className&&i.className.baseVal||"",t))}const po={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class K1 extends Rg{adjustAndStore(t,n,s){const o=n.style[t];n.dataset[t]=o,Rr(n,{[t]:`${parseFloat(Rr(n,t))+s}px`})}restore(t,n){const s=n.dataset[t];s!==void 0&&(delete n.dataset[t],Rr(n,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(PM(n,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ca(n,po.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,t.scrollBarWidth)),ca(n,po.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-t.scrollBarWidth)),ca(n,po.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();UM(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ca(n,po.FIXED_CONTENT).forEach(u=>this.restore(s,u)),ca(n,po.STICKY_CONTENT).forEach(u=>this.restore(o,u)),ca(n,po.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let zm;function $1(i){return zm||(zm=new K1(i)),zm}const jM={[mi]:"show",[br]:"show"},_h=C.forwardRef(({className:i,children:t,transitionClasses:n={},onEnter:s,...o},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=C.useCallback((p,g)=>{nT(p),s==null||s(p,g)},[s]);return A.jsx(Yf,{ref:u,addEndListener:Rp,...h,onEnter:m,childRef:Po(t),children:(p,g)=>C.cloneElement(t,{...g,className:Nt("fade",i,t.props.className,jM[p],n[p])})})});_h.displayName="Fade";const Y1=C.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=kt(t,"modal-body"),A.jsx(n,{ref:o,className:Nt(i,t),...s})));Y1.displayName="ModalBody";const Ig=C.createContext({onHide(){}}),xg=C.forwardRef(({bsPrefix:i,className:t,contentClassName:n,centered:s,size:o,fullscreen:u,children:h,scrollable:m,...p},g)=>{i=kt(i,"modal");const T=`${i}-dialog`,_=typeof u=="string"?`${i}-fullscreen-${u}`:`${i}-fullscreen`;return A.jsx("div",{...p,ref:g,className:Nt(T,t,o&&`${i}-${o}`,s&&`${T}-centered`,m&&`${T}-scrollable`,u&&_),children:A.jsx("div",{className:Nt(`${i}-content`,n),children:h})})});xg.displayName="ModalDialog";const Q1=C.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=kt(t,"modal-footer"),A.jsx(n,{ref:o,className:Nt(i,t),...s})));Q1.displayName="ModalFooter";const BM={"aria-label":Cr.string,onClick:Cr.func,variant:Cr.oneOf(["white"])},Ng=C.forwardRef(({className:i,variant:t,"aria-label":n="Close",...s},o)=>A.jsx("button",{ref:o,type:"button",className:Nt("btn-close",t&&`btn-close-${t}`,i),"aria-label":n,...s}));Ng.displayName="CloseButton";Ng.propTypes=BM;const Og=C.forwardRef(({closeLabel:i="Close",closeVariant:t,closeButton:n=!1,onHide:s,children:o,...u},h)=>{const m=C.useContext(Ig),p=ko(()=>{m==null||m.onHide(),s==null||s()});return A.jsxs("div",{ref:h,...u,children:[o,n&&A.jsx(Ng,{"aria-label":i,variant:t,onClick:p})]})});Og.displayName="AbstractModalHeader";const X1=C.forwardRef(({bsPrefix:i,className:t,closeLabel:n="Close",closeButton:s=!1,...o},u)=>(i=kt(i,"modal-header"),A.jsx(Og,{ref:u,...o,className:Nt(t,i),closeLabel:n,closeButton:s})));X1.displayName="ModalHeader";const W1=i=>C.forwardRef((t,n)=>A.jsx("div",{...t,ref:n,className:Nt(t.className,i)})),zM=W1("h4"),Z1=C.forwardRef(({className:i,bsPrefix:t,as:n=zM,...s},o)=>(t=kt(t,"modal-title"),A.jsx(n,{ref:o,className:Nt(i,t),...s})));Z1.displayName="ModalTitle";function HM(i){return A.jsx(_h,{...i,timeout:null})}function qM(i){return A.jsx(_h,{...i,timeout:null})}const J1=C.forwardRef(({bsPrefix:i,className:t,style:n,dialogClassName:s,contentClassName:o,children:u,dialogAs:h=xg,"data-bs-theme":m,"aria-labelledby":p,"aria-describedby":g,"aria-label":T,show:_=!1,animation:w=!0,backdrop:M=!0,keyboard:B=!0,onEscapeKeyDown:X,onShow:U,onHide:ot,container:ht,autoFocus:nt=!0,enforceFocus:dt=!0,restoreFocus:lt=!0,restoreFocusOptions:at,onEntered:O,onExit:R,onExiting:I,onEnter:V,onEntering:k,onExited:L,backdropClassName:x,manager:Et,...Mt},z)=>{const[it,ct]=C.useState({}),[Rt,D]=C.useState(!1),$=C.useRef(!1),et=C.useRef(!1),Q=C.useRef(null),[ut,_t]=sM(),mt=iT(z,_t),ne=ko(ot),Bt=nR();i=kt(i,"modal");const _e=C.useMemo(()=>({onHide:ne}),[ne]);function Se(){return Et||$1({isRTL:Bt})}function cn(yt){if(!Lo)return;const Ut=Se().getScrollbarWidth()>0,Ue=yt.scrollHeight>$f(yt).documentElement.clientHeight;ct({paddingRight:Ut&&!Ue?jE():void 0,paddingLeft:!Ut&&Ue?jE():void 0})}const Je=ko(()=>{ut&&cn(ut.dialog)});lM(()=>{Ym(window,"resize",Je),Q.current==null||Q.current()});const _n=()=>{$.current=!0},Ke=yt=>{$.current&&ut&&yt.target===ut.dialog&&(et.current=!0),$.current=!1},Xt=()=>{D(!0),Q.current=eT(ut.dialog,()=>{D(!1)})},Gn=yt=>{yt.target===yt.currentTarget&&Xt()},he=yt=>{if(M==="static"){Gn(yt);return}if(et.current||yt.target!==yt.currentTarget){et.current=!1;return}ot==null||ot()},Pr=yt=>{B?X==null||X(yt):(yt.preventDefault(),M==="static"&&Xt())},tn=(yt,Ut)=>{yt&&cn(yt),V==null||V(yt,Ut)},vi=yt=>{Q.current==null||Q.current(),R==null||R(yt)},si=(yt,Ut)=>{k==null||k(yt,Ut),tT(window,"resize",Je)},Le=yt=>{yt&&(yt.style.display=""),L==null||L(yt),Ym(window,"resize",Je)},En=C.useCallback(yt=>A.jsx("div",{...yt,className:Nt(`${i}-backdrop`,x,!w&&"show")}),[w,x,i]),_i={...n,...it};_i.display="block";const Lr=yt=>A.jsx("div",{role:"dialog",...yt,style:_i,className:Nt(t,i,Rt&&`${i}-static`,!w&&"show"),onClick:M?he:void 0,onMouseUp:Ke,"data-bs-theme":m,"aria-label":T,"aria-labelledby":p,"aria-describedby":g,children:A.jsx(h,{...Mt,onMouseDown:_n,className:s,contentClassName:o,children:u})});return A.jsx(Ig.Provider,{value:_e,children:A.jsx(G1,{show:_,ref:mt,backdrop:M,container:ht,keyboard:!0,autoFocus:nt,enforceFocus:dt,restoreFocus:lt,restoreFocusOptions:at,onEscapeKeyDown:Pr,onShow:U,onHide:ot,onEnter:tn,onEntering:si,onEntered:O,onExit:vi,onExiting:I,onExited:Le,manager:Se(),transition:w?HM:void 0,backdropTransition:w?qM:void 0,renderBackdrop:En,renderDialog:Lr})})});J1.displayName="Modal";const Pe=Object.assign(J1,{Body:Y1,Header:X1,Title:Z1,Footer:Q1,Dialog:xg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),gn=C.forwardRef(({bsPrefix:i,fluid:t=!1,as:n="div",className:s,...o},u)=>{const h=kt(i,"container"),m=typeof t=="string"?`-${t}`:"-fluid";return A.jsx(n,{ref:u,...o,className:Nt(s,t?`${h}${m}`:h)})});gn.displayName="Container";function FM({logInOpen:i,toggleLogIn:t,toggleSignUp:n}){const[s,o]=C.useState(""),[u,h]=C.useState(""),m=async p=>{p.preventDefault();try{await fI(Vo,s,u),console.log("User logged in."),Li.success("Logged in."),t()}catch(g){console.log(g.message),Li.error(g.message)}};return A.jsxs(A.Fragment,{children:[A.jsx(_u,{richColors:!0,position:"top-center"}),A.jsxs(Pe,{show:i,onHide:t,children:[A.jsx(Pe.Header,{closeButton:!0,children:A.jsx(gn,{className:"flex-center",children:A.jsx(Pe.Title,{children:"Log in"})})}),A.jsx(Pe.Body,{children:A.jsxs(ke,{onSubmit:p=>m(p),children:[A.jsxs(ke.Group,{className:"mb-3",controlId:"email-input",children:[A.jsx(ke.Label,{children:"Email"}),A.jsx(ke.Control,{autoFocus:!0,required:!0,type:"text",value:s,onChange:p=>o(p.target.value)})]}),A.jsxs(ke.Group,{className:"mb-3",controlId:"password-input",children:[A.jsx(ke.Label,{children:"Password"}),A.jsx(ke.Control,{required:!0,type:"password",value:u,onChange:p=>h(p.target.value)})]}),A.jsx(yi,{variant:"primary",type:"submit",children:"Log in"})]})}),A.jsxs(Pe.Footer,{className:"flex-center",children:[A.jsx(gn,{className:"flex-center",children:A.jsx("h5",{children:"OR"})}),A.jsx(gn,{className:"flex-center",children:A.jsx(yi,{variant:"primary",onClick:()=>{t(),n()},children:"Sign up"})})]})]})]})}function GM({signUpOpen:i,toggleSignUp:t}){const[n,s]=C.useState(""),[o,u]=C.useState(""),[h,m]=C.useState(""),[p,g]=C.useState(""),T=async _=>{if(_.preventDefault(),h!==p)console.log("Passwords dont match!"),Li.warning("Passwords don't match!");else if(h.length<6)console.log("Password needs to be at least 6 characters long!"),Li.warning("Password is too short - at least 6 characters.");else try{await cI(Vo,o,h);const w=Vo.currentUser;await qD(qi(Fi,"Users",w.uid),{email:w.email,nickname:n,statistics:{gameModes:{classicGM:{dailyStreak:0,gamesPlayed:0,gamesGuessed:new Array(6).fill(0),playedToday:!1,finishedToday:!1,currentState:{guesses:new Array(6).fill({word:"",colors:["black","black","black","black","black"]}),keyColors:{},rowIndex:0}},royaleGM:{dailyStreak:0,gamesPlayed:0,gamesGuessed:new Array(5).fill(0),playedToday:!1,finishedToday:!1,currentState:{guesses:new Array(6).fill({word:"",colors:["black","black","black","black","black"]}),keyColors:{},rowIndex:0,gameRound:0}}}},achievements:[]}),Li.success("Signed up."),console.log("User registered successfully."),t()}catch(w){console.log(w.message),Li.error(w.message)}};return A.jsxs(A.Fragment,{children:[A.jsx(_u,{richColors:!0,position:"top-center"}),A.jsxs(Pe,{show:i,onHide:t,backdrop:"static",children:[A.jsx(Pe.Header,{closeButton:!0,children:A.jsx(gn,{className:"flex-center",children:A.jsx(Pe.Title,{children:"Sign up"})})}),A.jsx(Pe.Body,{children:A.jsxs(ke,{onSubmit:T,children:[A.jsxs(ke.Group,{className:"mb-3",controlId:"nickname-input",children:[A.jsx(ke.Label,{children:"Nickname"}),A.jsx(ke.Control,{required:!0,type:"text",autoFocus:!0,value:n,onChange:_=>s(_.target.value),placeholder:"example123"})]}),A.jsxs(ke.Group,{required:!0,className:"mb-3",controlId:"email-input",children:[A.jsx(ke.Label,{children:"Email address"}),A.jsx(ke.Control,{required:!0,type:"email",value:o,onChange:_=>u(_.target.value),placeholder:"name@example.com"})]}),A.jsxs(ke.Group,{className:"mb-3",controlId:"password-input",children:[A.jsx(ke.Label,{children:"Password"}),A.jsx(ke.Control,{required:!0,type:"password",value:h,onChange:_=>m(_.target.value),placeholder:"PasswordExample123?!"})]}),A.jsxs(ke.Group,{className:"mb-3",controlId:"repeat-password-input",children:[A.jsx(ke.Label,{children:"Repeat password"}),A.jsx(ke.Control,{required:!0,type:"password",value:p,onChange:_=>g(_.target.value),placeholder:"PasswordExample123?!"})]}),A.jsx(yi,{variant:"primary",type:"submit",children:"Sign up"})]})}),A.jsxs(Pe.Footer,{className:"flex-center",children:[A.jsx(gn,{className:"flex-center",children:A.jsx("h5",{children:"OR"})}),A.jsx(gn,{className:"flex-center",children:A.jsx(yi,{variant:"primary",onClick:()=>{console.log("Hello"),t()},children:"Continue with Google"})})]})]})]})}function fa(i=!1){const[t,n]=C.useState(i),s=C.useCallback(()=>{n(o=>!o)},[]);return[t,s]}function KM(){const[,i]=C.useReducer(t=>t+1,0);return i}const Dg=C.createContext(null);Dg.displayName="NavContext";const Gf=C.createContext(null),Mg=(i,t=null)=>i!=null?String(i):t||null,tw=C.createContext(null),$M=["as","active","eventKey"];function YM(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function ew({key:i,onClick:t,active:n,id:s,role:o,disabled:u}){const h=C.useContext(Gf),m=C.useContext(Dg),p=C.useContext(tw);let g=n;const T={role:o};if(m){!o&&m.role==="tablist"&&(T.role="tab");const _=m.getControllerId(i??null),w=m.getControlledId(i??null);T[yh("event-key")]=i,T.id=_||s,g=n==null&&i!=null?m.activeKey===i:n,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(T["aria-controls"]=w)}return T.role==="tab"&&(T["aria-selected"]=g,g||(T.tabIndex=-1),u&&(T.tabIndex=-1,T["aria-disabled"]=!0)),T.onClick=wr(_=>{u||(t==null||t(_),i!=null&&h&&!_.isPropagationStopped()&&h(i,_))}),[T,{isActive:g}]}const nw=C.forwardRef((i,t)=>{let{as:n=D1,active:s,eventKey:o}=i,u=YM(i,$M);const[h,m]=ew(Object.assign({key:Mg(o,u.href),active:s},u));return h[yh("active")]=m.isActive,A.jsx(n,Object.assign({},u,h,{ref:t}))});nw.displayName="NavItem";const QM=["as","onSelect","activeKey","role","onKeyDown"];function XM(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}const KE=()=>{},$E=yh("event-key"),iw=C.forwardRef((i,t)=>{let{as:n="div",onSelect:s,activeKey:o,role:u,onKeyDown:h}=i,m=XM(i,QM);const p=KM(),g=C.useRef(!1),T=C.useContext(Gf),_=C.useContext(tw);let w,M;_&&(u=u||"tablist",o=_.activeKey,w=_.getControlledId,M=_.getControllerId);const B=C.useRef(null),X=nt=>{const dt=B.current;if(!dt)return null;const lt=ca(dt,`[${$E}]:not([aria-disabled=true])`),at=dt.querySelector("[aria-selected=true]");if(!at||at!==document.activeElement)return null;const O=lt.indexOf(at);if(O===-1)return null;let R=O+nt;return R>=lt.length&&(R=0),R<0&&(R=lt.length-1),lt[R]},U=(nt,dt)=>{nt!=null&&(s==null||s(nt,dt),T==null||T(nt,dt))},ot=nt=>{if(h==null||h(nt),!_)return;let dt;switch(nt.key){case"ArrowLeft":case"ArrowUp":dt=X(-1);break;case"ArrowRight":case"ArrowDown":dt=X(1);break;default:return}dt&&(nt.preventDefault(),U(dt.dataset[gM("EventKey")]||null,nt),g.current=!0,p())};C.useEffect(()=>{if(B.current&&g.current){const nt=B.current.querySelector(`[${$E}][aria-selected=true]`);nt==null||nt.focus()}g.current=!1});const ht=vh(t,B);return A.jsx(Gf.Provider,{value:U,children:A.jsx(Dg.Provider,{value:{role:u,activeKey:Mg(o),getControlledId:w||KE,getControllerId:M||KE},children:A.jsx(n,Object.assign({},m,{onKeyDown:ot,ref:ht,role:u}))})})});iw.displayName="Nav";const WM=Object.assign(iw,{Item:nw}),Go=C.createContext(null);Go.displayName="NavbarContext";const rw=C.createContext(null);rw.displayName="CardHeaderContext";const sw=C.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=kt(t,"nav-item"),A.jsx(n,{ref:o,className:Nt(i,t),...s})));sw.displayName="NavItem";const ZM=["onKeyDown"];function JM(i,t){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function t4(i){return!i||i.trim()==="#"}const aw=C.forwardRef((i,t)=>{let{onKeyDown:n}=i,s=JM(i,ZM);const[o]=bg(Object.assign({tagName:"a"},s)),u=wr(h=>{o.onKeyDown(h),n==null||n(h)});return t4(s.href)||s.role==="button"?A.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:u})):A.jsx("a",Object.assign({ref:t},s,{onKeyDown:n}))});aw.displayName="Anchor";const ow=C.forwardRef(({bsPrefix:i,className:t,as:n=aw,active:s,eventKey:o,disabled:u=!1,...h},m)=>{i=kt(i,"nav-link");const[p,g]=ew({key:Mg(o,h.href),active:s,disabled:u,...h});return A.jsx(n,{...h,...p,ref:m,disabled:u,className:Nt(t,i,u&&"disabled",g.isActive&&"active")})});ow.displayName="NavLink";const lw=C.forwardRef((i,t)=>{const{as:n="div",bsPrefix:s,variant:o,fill:u=!1,justify:h=!1,navbar:m,navbarScroll:p,className:g,activeKey:T,..._}=Ap(i,{activeKey:"onSelect"}),w=kt(s,"nav");let M,B,X=!1;const U=C.useContext(Go),ot=C.useContext(rw);return U?(M=U.bsPrefix,X=m??!0):ot&&({cardHeaderBsPrefix:B}=ot),A.jsx(WM,{as:n,ref:t,activeKey:T,className:Nt(g,{[w]:!X,[`${M}-nav`]:X,[`${M}-nav-scroll`]:X&&p,[`${B}-${o}`]:!!B,[`${w}-${o}`]:!!o,[`${w}-fill`]:u,[`${w}-justified`]:h}),..._})});lw.displayName="Nav";const e4=Object.assign(lw,{Item:sw,Link:ow}),uw=C.forwardRef(({bsPrefix:i,className:t,as:n,...s},o)=>{i=kt(i,"navbar-brand");const u=n||(s.href?"a":"span");return A.jsx(u,{...s,ref:o,className:Nt(t,i)})});uw.displayName="NavbarBrand";const cw=C.forwardRef(({children:i,bsPrefix:t,...n},s)=>{t=kt(t,"navbar-collapse");const o=C.useContext(Go);return A.jsx(Cp,{in:!!(o&&o.expanded),...n,children:A.jsx("div",{ref:s,className:t,children:i})})});cw.displayName="NavbarCollapse";const fw=C.forwardRef(({bsPrefix:i,className:t,children:n,label:s="Toggle navigation",as:o="button",onClick:u,...h},m)=>{i=kt(i,"navbar-toggler");const{onToggle:p,expanded:g}=C.useContext(Go)||{},T=ko(_=>{u&&u(_),p&&p()});return o==="button"&&(h.type="button"),A.jsx(o,{...h,ref:m,onClick:T,"aria-label":s,className:Nt(t,i,!g&&"collapsed"),children:n||A.jsx("span",{className:`${i}-icon`})})});fw.displayName="NavbarToggle";const n4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",i4=typeof document<"u",r4=i4||n4?C.useLayoutEffect:C.useEffect,Tp=new WeakMap,YE=(i,t)=>{if(!i||!t)return;const n=Tp.get(t)||new Map;Tp.set(t,n);let s=n.get(i);return s||(s=t.matchMedia(i),s.refCount=0,n.set(s.media,s)),s};function s4(i,t=typeof window>"u"?void 0:window){const n=YE(i,t),[s,o]=C.useState(()=>n?n.matches:!1);return r4(()=>{let u=YE(i,t);if(!u)return o(!1);let h=Tp.get(t);const m=()=>{o(u.matches)};return u.refCount++,u.addListener(m),m(),()=>{u.removeListener(m),u.refCount--,u.refCount<=0&&(h==null||h.delete(u.media)),u=void 0}},[i]),s}function a4(i){const t=Object.keys(i);function n(m,p){return m===p?p:m?`${m} and ${p}`:p}function s(m){return t[Math.min(t.indexOf(m)+1,t.length-1)]}function o(m){const p=s(m);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function u(m){let p=i[m];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(m,p,g){let T;typeof m=="object"?(T=m,g=p,p=!0):(p=p||!0,T={[m]:p});let _=C.useMemo(()=>Object.entries(T).reduce((w,[M,B])=>((B==="up"||B===!0)&&(w=n(w,u(M))),(B==="down"||B===!0)&&(w=n(w,o(M))),w),""),[JSON.stringify(T)]);return s4(_,g)}return h}const o4=a4({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),hw=C.forwardRef(({className:i,bsPrefix:t,as:n="div",...s},o)=>(t=kt(t,"offcanvas-body"),A.jsx(n,{ref:o,className:Nt(i,t),...s})));hw.displayName="OffcanvasBody";const l4={[mi]:"show",[br]:"show"},dw=C.forwardRef(({bsPrefix:i,className:t,children:n,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:h=!1,...m},p)=>(i=kt(i,"offcanvas"),A.jsx(Yf,{ref:p,addEndListener:Rp,in:s,mountOnEnter:o,unmountOnExit:u,appear:h,...m,childRef:Po(n),children:(g,T)=>C.cloneElement(n,{...T,className:Nt(t,n.props.className,(g===mi||g===ou)&&`${i}-toggling`,l4[g])})})));dw.displayName="OffcanvasToggling";const mw=C.forwardRef(({bsPrefix:i,className:t,closeLabel:n="Close",closeButton:s=!1,...o},u)=>(i=kt(i,"offcanvas-header"),A.jsx(Og,{ref:u,...o,className:Nt(t,i),closeLabel:n,closeButton:s})));mw.displayName="OffcanvasHeader";const u4=W1("h5"),pw=C.forwardRef(({className:i,bsPrefix:t,as:n=u4,...s},o)=>(t=kt(t,"offcanvas-title"),A.jsx(n,{ref:o,className:Nt(i,t),...s})));pw.displayName="OffcanvasTitle";function c4(i){return A.jsx(dw,{...i})}function f4(i){return A.jsx(_h,{...i})}const gw=C.forwardRef(({bsPrefix:i,className:t,children:n,"aria-labelledby":s,placement:o="start",responsive:u,show:h=!1,backdrop:m=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:T,onShow:_,onHide:w,container:M,autoFocus:B=!0,enforceFocus:X=!0,restoreFocus:U=!0,restoreFocusOptions:ot,onEntered:ht,onExit:nt,onExiting:dt,onEnter:lt,onEntering:at,onExited:O,backdropClassName:R,manager:I,renderStaticNode:V=!1,...k},L)=>{const x=C.useRef();i=kt(i,"offcanvas");const[Et,Mt]=C.useState(!1),z=ko(w),it=o4(u||"xs","up");C.useEffect(()=>{Mt(u?h&&!it:h)},[h,u,it]);const ct=C.useMemo(()=>({onHide:z}),[z]);function Rt(){return I||(g?(x.current||(x.current=new K1({handleContainerOverflow:!1})),x.current):$1())}const D=(ut,..._t)=>{ut&&(ut.style.visibility="visible"),lt==null||lt(ut,..._t)},$=(ut,..._t)=>{ut&&(ut.style.visibility=""),O==null||O(..._t)},et=C.useCallback(ut=>A.jsx("div",{...ut,className:Nt(`${i}-backdrop`,R)}),[R,i]),Q=ut=>A.jsx("div",{...ut,...k,className:Nt(t,u?`${i}-${u}`:i,`${i}-${o}`),"aria-labelledby":s,children:n});return A.jsxs(A.Fragment,{children:[!Et&&(u||V)&&Q({}),A.jsx(Ig.Provider,{value:ct,children:A.jsx(G1,{show:Et,ref:L,backdrop:m,container:M,keyboard:p,autoFocus:B,enforceFocus:X&&!g,restoreFocus:U,restoreFocusOptions:ot,onEscapeKeyDown:T,onShow:_,onHide:z,onEnter:D,onEntering:at,onEntered:ht,onExit:nt,onExiting:dt,onExited:$,manager:Rt(),transition:c4,backdropTransition:f4,renderBackdrop:et,renderDialog:Q})})]})});gw.displayName="Offcanvas";const h4=Object.assign(gw,{Body:hw,Header:mw,Title:pw}),yw=C.forwardRef(({onHide:i,...t},n)=>{const s=C.useContext(Go),o=ko(()=>{s==null||s.onToggle==null||s.onToggle(),i==null||i()});return A.jsx(h4,{ref:n,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});yw.displayName="NavbarOffcanvas";const vw=C.forwardRef(({className:i,bsPrefix:t,as:n="span",...s},o)=>(t=kt(t,"navbar-text"),A.jsx(n,{ref:o,className:Nt(i,t),...s})));vw.displayName="NavbarText";const _w=C.forwardRef((i,t)=>{const{bsPrefix:n,expand:s=!0,variant:o="light",bg:u,fixed:h,sticky:m,className:p,as:g="nav",expanded:T,onToggle:_,onSelect:w,collapseOnSelect:M=!1,...B}=Ap(i,{expanded:"onToggle"}),X=kt(n,"navbar"),U=C.useCallback((...nt)=>{w==null||w(...nt),M&&T&&(_==null||_(!1))},[w,M,T,_]);B.role===void 0&&g!=="nav"&&(B.role="navigation");let ot=`${X}-expand`;typeof s=="string"&&(ot=`${ot}-${s}`);const ht=C.useMemo(()=>({onToggle:()=>_==null?void 0:_(!T),bsPrefix:X,expanded:!!T,expand:s}),[X,T,s,_]);return A.jsx(Go.Provider,{value:ht,children:A.jsx(Gf.Provider,{value:U,children:A.jsx(g,{ref:t,...B,className:Nt(p,X,s&&ot,o&&`${X}-${o}`,u&&`bg-${u}`,m&&`sticky-${m}`,h&&`fixed-${h}`)})})})});_w.displayName="Navbar";const uf=Object.assign(_w,{Brand:uw,Collapse:cw,Offcanvas:yw,Text:vw,Toggle:fw});function d4({darkMode:i,toggleDarkMode:t}){return A.jsx(A.Fragment,{children:A.jsxs("div",{className:"dark-mode-button flex-center",children:[A.jsx("input",{type:"checkbox",id:"dark-mode-input",className:"dark-mode-input",onClick:t}),A.jsxs("label",{htmlFor:"dark-mode-input",className:`dark-mode-label ${i}`,children:[A.jsx("div",{className:"night",children:"night"}),A.jsx("div",{className:"day",children:"day"})]})]})})}function m4({darkMode:i,toggleDarkMode:t,toggleLogIn:n,currentUser:s,playWordle:o,togglePlayWordle:u,toggleStats:h}){const m=async()=>{try{await pI(Vo),window.location.reload()}catch(p){console.error("Error signing out:",p.message),Li.error(p.message)}};return A.jsxs(A.Fragment,{children:[A.jsx(_u,{richColors:!0,position:"top-center"}),A.jsx(uf,{className:i,children:A.jsxs(gn,{children:[A.jsx(uf.Brand,{className:"nav-brand",onClick:()=>o&&u(),children:"Wordle"}),A.jsx(uf.Toggle,{"aria-controls":"basic-navbar-nav"}),A.jsx(uf.Collapse,{id:"basic-navbar-nav",children:A.jsxs(e4,{className:"me-auto",children:[A.jsx(gn,{className:"stats flex-center",children:A.jsx(fA,{size:"50%",className:"stats-icon",onClick:h})}),A.jsx(gn,{className:"info flex-center",children:A.jsx(cA,{size:"60%",className:"info-icon"})}),s?A.jsx(gn,{className:"button flex-center",children:A.jsx(yi,{variant:"primary",onClick:m,style:{fontSize:"12px",width:"60px"},children:"Log out"})}):A.jsx(gn,{className:"button flex-center",children:A.jsx(yi,{variant:"primary",onClick:n,style:{fontSize:"12px",width:"60px"},children:"Log in"})}),A.jsx(d4,{toggleDarkMode:t})]})})]})})]})}function Vg({gameMode:i,showDialog:t,setGameResult:n,toggleRestart:s,togglePlayWordle:o,solution:u}){return A.jsx(A.Fragment,{children:A.jsxs(Pe,{show:t,onHide:()=>n(""),backdrop:"static",children:[A.jsx(Pe.Header,{closeButton:!0,children:A.jsx(gn,{className:"flex-center",children:A.jsx(Pe.Title,{children:"Game over"})})}),A.jsx(Pe.Body,{children:A.jsx(gn,{children:A.jsx("h1",{children:u})})}),A.jsx(Pe.Footer,{className:"flex-center",children:A.jsxs(gn,{children:[A.jsx(yi,{onClick:()=>{n(""),o()},children:"Go home"}),i==="practice"&&A.jsx(yi,{onClick:()=>{n(""),s()},children:"Play again"})]})})]})})}function p4({darkMode:i,gameMode:t,togglePlayWordle:n,wordLength:s,numOfGuesses:o,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,rowIndex:g,baseColors:T,currentUser:_,userData:w,gameResult:M,setGameResult:B}){const[X,U]=C.useState([]),ot=C.useRef([]),[ht,nt]=fa(!1),dt=C.useRef(new Set);return C.useEffect(()=>{(async()=>{try{g.current=0;let at=await Mo(qi(Fi,"wordleWords","wordBank")),O=at.data();dt.current=new Set(O.allWords),at=await Mo(qi(Fi,"wordleWords","dailyWords")),O=at.data();const R=O.classicWord;U(R.toUpperCase().split("")),ot.current=R.toUpperCase().split(""),console.log(ot.current.join(""))}catch(at){console.error(at)}})()},[ht]),C.useEffect(()=>{M&&(async()=>{try{w.current.statistics.gameModes.classicGM.finishedToday=!0,w.current.statistics.gameModes.classicGM.gamesPlayed++,M==="guessed"&&w.current.statistics.gameModes.classicGM.gamesGuessed[g.current-1]++,await Tg(qi(Fi,"Users",_.uid),w.current)}catch(at){console.log(at.message)}})()},[M]),A.jsxs(A.Fragment,{children:[A.jsx(Sp,{darkMode:i,gameMode:t,solution:X,wordSet:dt,rowIndex:g,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,baseColors:T,gameResult:M,setGameResult:B,wordLength:s,numOfGuesses:o,userData:w},ht),A.jsx(Vg,{gameMode:t,showDialog:M,setGameResult:B,toggleRestart:nt,togglePlayWordle:n,solution:X})]})}function g4({darkMode:i,gameMode:t,togglePlayWordle:n,wordLength:s,numOfGuesses:o,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,rowIndex:g,baseColors:T,currentUser:_,gameRound:w,userData:M,gameResult:B,setGameResult:X}){const U=C.useRef([]),[ot,ht]=C.useState([]),[nt,dt]=fa(!1),lt=C.useRef(new Set),[at,O]=C.useState(!1),[R,I]=C.useState([]),[V,k]=C.useState([]);C.useEffect(()=>{(async()=>{try{let Et=await Mo(qi(Fi,"wordleWords","wordBank")),Mt=Et.data();lt.current=new Set(Mt.allWords),Et=await Mo(qi(Fi,"wordleWords","dailyWords")),Mt=Et.data(),U.current=Mt.royaleWords,console.log(w),ht(U.current[w.current-1].toUpperCase().split("")),U.current.forEach(z=>console.log(z))}catch(Et){console.error(Et)}})()},[]),C.useEffect(()=>{B&&(B!=="failed"&&w.current<o-1?L()?O(!0):(ht(U.current[w.current].toUpperCase().split("")),w.current++,X(""),g.current=0,p(new Map),h(new Array(6).fill({word:"",colors:T})),dt()):O(!0))},[B]),C.useEffect(()=>{at&&(async()=>{try{M.current.statistics.gameModes.royaleGM.finishedToday=!0,M.current.statistics.gameModes.royaleGM.gamesPlayed++,B==="guessed"&&M.current.statistics.gameModes.royaleGM.gamesGuessed[w.current-1]++,await Tg(qi(Fi,"Users",_.uid),M.current),console.log("Endgame data updated.")}catch(Et){console.log(Et.message)}})()},[at]);const L=()=>w.current+g.current>o;return A.jsxs(A.Fragment,{children:[A.jsx("div",{style:{color:"white"},children:"Round: "+w.current+" "+ot}),A.jsx(Sp,{darkMode:i,gameMode:t,solution:ot,wordSet:lt,rowIndex:g,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,gameResult:B,setGameResult:X,wordLength:s,numOfGuesses:o,highLight:o-w.current,baseColors:T,userData:M},nt),A.jsx(Vg,{gameMode:t,showDialog:at,setGameResult:X,toggleRestart:dt,togglePlayWordle:n,solution:ot})]})}const y4="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function v4({darkMode:i,gameMode:t,togglePlayWordle:n,wordLength:s,numOfGuesses:o,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,rowIndex:g,baseColors:T,toggleRestart:_}){const[w,M]=C.useState([]),B=C.useRef([]),X=C.useRef(new Set),[U,ot]=C.useState("");return C.useEffect(()=>{(async()=>{try{g.current=0;const lt=[...(await(await fetch(y4)).json()).words];lt.forEach(O=>X.current.add(O));const at=lt[Math.floor(Math.random()*(lt.length-1))];M(at.toUpperCase().split("")),B.current=at.toUpperCase().split(""),console.log(B.current.join(""))}catch(nt){console.error(nt)}})()},[]),A.jsxs(A.Fragment,{children:[A.jsx(Sp,{darkMode:i,gameMode:t,solution:w,wordSet:X,rowIndex:g,gameResult:U,setGameResult:ot,wordLength:s,numOfGuesses:o,guesses:u,setGuesses:h,keyColors:m,setKeyColors:p,baseColors:T}),A.jsx(Vg,{gameMode:t,showDialog:U,setGameResult:ot,toggleRestart:_,togglePlayWordle:n})]})}const cf=["black","black","black","black","black"];function _4(i){const[t,n]=C.useState(new Array(6).fill({word:"",colors:cf})),[s,o]=C.useState(new Map),u=C.useRef(0),h=C.useRef(1),[m,p]=C.useState(""),g=C.useRef(null);C.useRef(null);const T=C.useRef(!1);return C.useEffect(()=>{const _=async()=>{try{const M=qi(Fi,"Users",i.currentUser.uid),B=await Mo(M);return console.log("User data fetched."),B.data()}catch(M){console.log(M.message)}},w=async()=>{try{g.current=await _();const M=g.current.statistics.gameModes[`${i.gameMode}GM`];M.playedToday&&(n([...M.currentState.guesses]),o(new Map(Object.entries(M.currentState.keyColors))),u.current=M.currentState.rowIndex,i.gameMode==="royale"&&(h.current=M.currentState.gameRound)),console.log("Game state loaded.")}catch(M){console.log(M.message)}};i.gameMode!=="practice"&&w()},[]),C.useEffect(()=>{const _=async()=>{console.log(h.current);const w=qi(Fi,"Users",i.currentUser.uid);g.current.statistics.gameModes[`${i.gameMode}GM`].playedToday=!0,g.current.statistics.gameModes[`${i.gameMode}GM`].currentState.guesses=t,g.current.statistics.gameModes[`${i.gameMode}GM`].currentState.keyColors=Object.fromEntries(s),g.current.statistics.gameModes[`${i.gameMode}GM`].currentState.rowIndex=u.current,i.gameMode==="royale"&&(g.current.statistics.gameModes[`${i.gameMode}GM`].currentState.gameRound=h.current);try{await Tg(w,g.current),console.log("User data updated.")}catch(M){console.log(M.message)}};i.gameMode!=="practice"&&t[0]!==""&&g.current&&_()},[s]),A.jsxs(A.Fragment,{children:[i.gameMode==="classic"&&A.jsx(p4,{...i,guesses:t,setGuesses:n,keyColors:s,setKeyColors:o,rowIndex:u,baseColors:cf,userData:g,dailyStreak:T,gameResult:m,setGameResult:p}),i.gameMode==="royale"&&A.jsx(g4,{...i,guesses:t,setGuesses:n,keyColors:s,setKeyColors:o,rowIndex:u,gameRound:h,baseColors:cf,userData:g,gameResult:m,setGameResult:p}),i.gameMode==="practice"&&A.jsx(v4,{...i,guesses:t,setGuesses:n,keyColors:s,setKeyColors:o,rowIndex:u,baseColors:cf})]})}const Ew=C.createContext({currentUser:null,loading:!0}),E4=()=>C.useContext(Ew),Tw=C.forwardRef(({bsPrefix:i,size:t,vertical:n=!1,className:s,role:o="group",as:u="div",...h},m)=>{const p=kt(i,"btn-group");let g=p;return n&&(g=`${p}-vertical`),A.jsx(u,{...h,ref:m,role:o,className:Nt(s,g,t&&`${p}-${t}`)})});Tw.displayName="ButtonGroup";function T4({value:i,label:t}){return A.jsx("div",{className:"index-window flex-center",children:A.jsxs("div",{children:[A.jsx("span",{className:"index-value",children:i}),A.jsx("span",{className:"index-label",children:t})]})})}function Hm({value:i,category:t}){return A.jsxs("div",{className:"stat-window flex-center",children:[A.jsx("span",{className:"stat-value",children:i}),A.jsx("span",{className:"stat-category",children:t})]})}const bw=C.createContext({data:[10,2,5,13,5],categories:[]});function au({children:i,data:t,categories:n}){return A.jsx(bw,{value:{data:t,categories:n},children:A.jsx("div",{className:"bar-chart flex-center",children:A.jsx("div",{className:"chart",children:i})})})}function b4({axis:i="show",layout:t="horizontal"}){const{data:n,categories:s}=C.useContext(bw);return A.jsx("div",{className:"graph",children:n.map((o,u)=>A.jsxs("div",{className:`bar b-${u+1}`,style:{width:`${o!==0?o/Math.max(...n)*100:2}%`,height:"100%"},children:[A.jsx("span",{className:"category",children:s.length===n.length?s[u]:`category ${u+1}`}),A.jsx("span",{className:`value v-${u+1}`,children:o||""})]},u))})}function w4({children:i}){return A.jsx("div",{className:"header",children:A.jsx("h2",{children:i})})}au.Header=w4;au.Graph=b4;const S4=(i=!0)=>{const t=C.useRef(i),[n,s]=C.useState(t.current?"classic":"royale"),o=C.useCallback(()=>{t.current=!t.current,s(t.current?"classic":"royale")},[]);return[n,o]};function A4({statsOpen:i,toggleStats:t}){const[n,s]=C.useState(null),[o,u]=C.useState(null),[h,m]=S4(!0);C.useEffect(()=>{(async()=>{const _=await Mo(qi(Fi,"Users",Vo.currentUser.uid));s(_.data()),u(_.data().statistics.gameModes)})()},[i]);const p=()=>{const T=o==null?void 0:o[`${h}GM`].gamesGuessed.reduce((_,w,M)=>_+w*(M+1));return Math.round(T/(o==null?void 0:o[`${h}GM`].gamesPlayed)*10)/10},g=()=>Math.round((o==null?void 0:o[`${h}GM`].gamesGuessed.reduce((T,_)=>T+_))/(o==null?void 0:o[`${h}GM`].gamesPlayed)*100);return A.jsx(A.Fragment,{children:A.jsxs(Pe,{show:i,onHide:t,children:[A.jsx(Pe.Header,{closeButton:!0,children:A.jsx(gn,{className:"flex-center",children:A.jsx(Pe.Title,{children:h})})}),A.jsxs(Pe.Body,{children:[A.jsx("div",{className:"c-1 flex-center",children:A.jsxs(Tw,{className:"me-2","aria-label":"First group",children:[A.jsx(yi,{onClick:()=>{h==="royale"&&m()},children:"Classic"}),A.jsx(yi,{onClick:()=>{h==="classic"&&m()},children:"Royale"})]})}),(o==null?void 0:o[`${h}GM`].gamesPlayed)>=5?A.jsxs("div",{className:"stats-grid",children:[A.jsx("div",{className:"c-2",children:A.jsx(T4,{value:p(),label:"index"})}),A.jsx("div",{className:"c-3",children:A.jsx(Hm,{value:o==null?void 0:o[`${h}GM`].gamesPlayed,category:"Games played"})}),A.jsx("div",{className:"c-4",children:A.jsx(Hm,{value:g()+"%",category:"Win rate"})}),A.jsx("div",{className:"c-5",children:A.jsx(Hm,{value:5,category:"Daily streak"})}),A.jsx("div",{className:"c-6",children:A.jsxs(au,{data:h==="classic"?o==null?void 0:o[`${h}GM`].gamesGuessed:o==null?void 0:o[`${h}GM`].gamesGuessed.toReversed(),categories:h==="classic"?[1,2,3,4,5,6]:[5,4,3,2,1],children:[A.jsx(au.Header,{children:h==="classic"?"GUESS DISTRIBUTION":"ROUND DISTRIBUTION"}),A.jsx(au.Graph,{axis:"show",layout:"vertical"})]})}),A.jsx("div",{className:"leader-board"})]}):A.jsxs("div",{className:"stats-lock flex-center",children:[A.jsx(RR,{className:"lock-svg"}),A.jsxs("div",{className:"lock-message",children:["Play ",5-(o==null?void 0:o[`${h}GM`].gamesPlayed)," more"," ",5-(o==null?void 0:o[`${h}GM`].gamesPlayed)===1?"game.":"games."]})]})]}),A.jsx(Pe.Footer,{className:"flex-center"})]})})}function R4(){const[i,t]=GA(!0),[n,s]=fa(!1),[o,u]=fa(!1),[h,m]=fa(!1),[p,g]=fa(!1),[T,_]=C.useState("practice"),{currentUser:w,loading:M}=E4(),[B,X]=fa(!1);return document.querySelector("body").classList=`${i}`,A.jsxs(A.Fragment,{children:[A.jsx(m4,{darkMode:i,toggleDarkMode:t,toggleLogIn:u,currentUser:w,playWordle:n,togglePlayWordle:s,toggleStats:g}),A.jsx("main",{className:`flex-center ${i}`,children:n?A.jsx(_4,{darkMode:i,currentUser:w,gameMode:T,togglePlayWordle:s,wordLength:5,numOfGuesses:6,toggleRestart:X},B):A.jsx(A.Fragment,{children:A.jsx(QD,{togglePlayWordle:s,gameMode:T,setGameMode:_,darkMode:i,currentUser:w})})}),A.jsx(FM,{logInOpen:o,toggleLogIn:u,toggleSignUp:m}),A.jsx(GM,{signUpOpen:h,toggleSignUp:m}),A.jsx(A4,{statsOpen:p,toggleStats:g,gameMode:T,setGameMode:_})]})}function C4({children:i}){const[t,n]=C.useState(null),[s,o]=C.useState(!0);C.useEffect(()=>{const h=mI(Vo,m=>{n(m),o(!1)});return()=>h()},[]);const u={currentUser:t,loading:s};return A.jsx(Ew.Provider,{value:u,children:!s&&i})}eA.createRoot(document.getElementById("root")).render(A.jsx(C.StrictMode,{children:A.jsx(C4,{children:A.jsx(R4,{})})}));
