var HE=i=>{throw TypeError(i)};var Yp=(i,t,e)=>t.has(i)||HE("Cannot "+e);var L=(i,t,e)=>(Yp(i,t,"read from private field"),e?e.call(i):t.get(i)),St=(i,t,e)=>t.has(i)?HE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),gt=(i,t,e,r)=>(Yp(i,t,"write to private field"),r?r.call(i,e):t.set(i,e),e),Lt=(i,t,e)=>(Yp(i,t,"access private method"),e);var Af=(i,t,e,r)=>({set _(o){gt(i,t,o,e)},get _(){return L(i,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function wd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Xp={exports:{}},ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function LC(){if(FE)return ac;FE=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:l}}return ac.Fragment=t,ac.jsx=e,ac.jsxs=e,ac}var qE;function UC(){return qE||(qE=1,Xp.exports=LC()),Xp.exports}var w=UC(),Wp={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function jC(){if(GE)return Pt;GE=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,H={};function O(V,Y,st){this.props=V,this.context=Y,this.refs=H,this.updater=st||M}O.prototype.isReactComponent={},O.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},O.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function et(){}et.prototype=O.prototype;function it(V,Y,st){this.props=V,this.context=Y,this.refs=H,this.updater=st||M}var W=it.prototype=new et;W.constructor=it,B(W,O.prototype),W.isPureReactComponent=!0;var at=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function k(V,Y,st,Z,ft,bt){return st=bt.ref,{$$typeof:i,type:V,key:Y,ref:st!==void 0?st:null,props:bt}}function A(V,Y){return k(V.type,Y,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function D(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return Y[st]})}var P=/\/+/g;function U(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):Y.toString(36)}function x(){}function kt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(x,x):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function jt(V,Y,st,Z,ft){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var pt=!1;if(V===null)pt=!0;else switch(bt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(V.$$typeof){case i:case t:pt=!0;break;case _:return pt=V._init,jt(pt(V._payload),Y,st,Z,ft)}}if(pt)return ft=ft(V),pt=Z===""?"."+U(V,0):Z,at(ft)?(st="",pt!=null&&(st=pt.replace(P,"$&/")+"/"),jt(ft,Y,st,"",function(Ce){return Ce})):ft!=null&&(C(ft)&&(ft=A(ft,st+(ft.key==null||V&&V.key===ft.key?"":(""+ft.key).replace(P,"$&/")+"/")+pt)),Y.push(ft)),1;pt=0;var ue=Z===""?".":Z+":";if(at(V))for(var qt=0;qt<V.length;qt++)Z=V[qt],bt=ue+U(Z,qt),pt+=jt(Z,Y,st,bt,ft);else if(qt=b(V),typeof qt=="function")for(V=qt.call(V),qt=0;!(Z=V.next()).done;)Z=Z.value,bt=ue+U(Z,qt++),pt+=jt(Z,Y,st,bt,ft);else if(bt==="object"){if(typeof V.then=="function")return jt(kt(V),Y,st,Z,ft);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return pt}function F(V,Y,st){if(V==null)return V;var Z=[],ft=0;return jt(V,Z,"","",function(bt){return Y.call(st,bt,ft++)}),Z}function ut(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function It(){}return Pt.Children={map:F,forEach:function(V,Y,st){F(V,function(){Y.apply(this,arguments)},st)},count:function(V){var Y=0;return F(V,function(){Y++}),Y},toArray:function(V){return F(V,function(Y){return Y})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Pt.Component=O,Pt.Fragment=e,Pt.Profiler=o,Pt.PureComponent=it,Pt.StrictMode=r,Pt.Suspense=p,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return lt.H.useMemoCache(V)}},Pt.cache=function(V){return function(){return V.apply(null,arguments)}},Pt.cloneElement=function(V,Y,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Z=B({},V.props),ft=V.key,bt=void 0;if(Y!=null)for(pt in Y.ref!==void 0&&(bt=void 0),Y.key!==void 0&&(ft=""+Y.key),Y)!ht.call(Y,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Y.ref===void 0||(Z[pt]=Y[pt]);var pt=arguments.length-2;if(pt===1)Z.children=st;else if(1<pt){for(var ue=Array(pt),qt=0;qt<pt;qt++)ue[qt]=arguments[qt+2];Z.children=ue}return k(V.type,ft,void 0,void 0,bt,Z)},Pt.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Pt.createElement=function(V,Y,st){var Z,ft={},bt=null;if(Y!=null)for(Z in Y.key!==void 0&&(bt=""+Y.key),Y)ht.call(Y,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ft[Z]=Y[Z]);var pt=arguments.length-2;if(pt===1)ft.children=st;else if(1<pt){for(var ue=Array(pt),qt=0;qt<pt;qt++)ue[qt]=arguments[qt+2];ft.children=ue}if(V&&V.defaultProps)for(Z in pt=V.defaultProps,pt)ft[Z]===void 0&&(ft[Z]=pt[Z]);return k(V,bt,void 0,void 0,null,ft)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(V){return{$$typeof:d,render:V}},Pt.isValidElement=C,Pt.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:ut}},Pt.memo=function(V,Y){return{$$typeof:g,type:V,compare:Y===void 0?null:Y}},Pt.startTransition=function(V){var Y=lt.T,st={};lt.T=st;try{var Z=V(),ft=lt.S;ft!==null&&ft(st,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(It,dt)}catch(bt){dt(bt)}finally{lt.T=Y}},Pt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Pt.use=function(V){return lt.H.use(V)},Pt.useActionState=function(V,Y,st){return lt.H.useActionState(V,Y,st)},Pt.useCallback=function(V,Y){return lt.H.useCallback(V,Y)},Pt.useContext=function(V){return lt.H.useContext(V)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(V,Y){return lt.H.useDeferredValue(V,Y)},Pt.useEffect=function(V,Y,st){var Z=lt.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(V,Y)},Pt.useId=function(){return lt.H.useId()},Pt.useImperativeHandle=function(V,Y,st){return lt.H.useImperativeHandle(V,Y,st)},Pt.useInsertionEffect=function(V,Y){return lt.H.useInsertionEffect(V,Y)},Pt.useLayoutEffect=function(V,Y){return lt.H.useLayoutEffect(V,Y)},Pt.useMemo=function(V,Y){return lt.H.useMemo(V,Y)},Pt.useOptimistic=function(V,Y){return lt.H.useOptimistic(V,Y)},Pt.useReducer=function(V,Y,st){return lt.H.useReducer(V,Y,st)},Pt.useRef=function(V){return lt.H.useRef(V)},Pt.useState=function(V){return lt.H.useState(V)},Pt.useSyncExternalStore=function(V,Y,st){return lt.H.useSyncExternalStore(V,Y,st)},Pt.useTransition=function(){return lt.H.useTransition()},Pt.version="19.1.0",Pt}var KE;function gy(){return KE||(KE=1,Wp.exports=jC()),Wp.exports}var I=gy();const ct=wd(I);var Zp={exports:{}},oc={},Jp={exports:{}},tg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function BC(){return QE||(QE=1,function(i){function t(F,ut){var dt=F.length;F.push(ut);t:for(;0<dt;){var It=dt-1>>>1,V=F[It];if(0<o(V,ut))F[It]=ut,F[dt]=V,dt=It;else break t}}function e(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ut=F[0],dt=F.pop();if(dt!==ut){F[0]=dt;t:for(var It=0,V=F.length,Y=V>>>1;It<Y;){var st=2*(It+1)-1,Z=F[st],ft=st+1,bt=F[ft];if(0>o(Z,dt))ft<V&&0>o(bt,Z)?(F[It]=bt,F[ft]=dt,It=ft):(F[It]=Z,F[st]=dt,It=st);else if(ft<V&&0>o(bt,dt))F[It]=bt,F[ft]=dt,It=ft;else break t}}return ut}function o(F,ut){var dt=F.sortIndex-ut.sortIndex;return dt!==0?dt:F.id-ut.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,v=null,b=3,M=!1,B=!1,H=!1,O=!1,et=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function at(F){for(var ut=e(g);ut!==null;){if(ut.callback===null)r(g);else if(ut.startTime<=F)r(g),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=e(g)}}function lt(F){if(H=!1,at(F),!B)if(e(p)!==null)B=!0,ht||(ht=!0,U());else{var ut=e(g);ut!==null&&jt(lt,ut.startTime-F)}}var ht=!1,k=-1,A=5,C=-1;function D(){return O?!0:!(i.unstable_now()-C<A)}function P(){if(O=!1,ht){var F=i.unstable_now();C=F;var ut=!0;try{t:{B=!1,H&&(H=!1,it(k),k=-1),M=!0;var dt=b;try{e:{for(at(F),v=e(p);v!==null&&!(v.expirationTime>F&&D());){var It=v.callback;if(typeof It=="function"){v.callback=null,b=v.priorityLevel;var V=It(v.expirationTime<=F);if(F=i.unstable_now(),typeof V=="function"){v.callback=V,at(F),ut=!0;break e}v===e(p)&&r(p),at(F)}else r(p);v=e(p)}if(v!==null)ut=!0;else{var Y=e(g);Y!==null&&jt(lt,Y.startTime-F),ut=!1}}break t}finally{v=null,b=dt,M=!1}ut=void 0}}finally{ut?U():ht=!1}}}var U;if(typeof W=="function")U=function(){W(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,kt=x.port2;x.port1.onmessage=P,U=function(){kt.postMessage(null)}}else U=function(){et(P,0)};function jt(F,ut){k=et(function(){F(i.unstable_now())},ut)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(F){switch(b){case 1:case 2:case 3:var ut=3;break;default:ut=b}var dt=b;b=ut;try{return F()}finally{b=dt}},i.unstable_requestPaint=function(){O=!0},i.unstable_runWithPriority=function(F,ut){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=b;b=F;try{return ut()}finally{b=dt}},i.unstable_scheduleCallback=function(F,ut,dt){var It=i.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?It+dt:It):dt=It,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,F={id:_++,callback:ut,priorityLevel:F,startTime:dt,expirationTime:V,sortIndex:-1},dt>It?(F.sortIndex=dt,t(g,F),e(p)===null&&F===e(g)&&(H?(it(k),k=-1):H=!0,jt(lt,dt-It))):(F.sortIndex=V,t(p,F),B||M||(B=!0,ht||(ht=!0,U()))),F},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(F){var ut=b;return function(){var dt=b;b=ut;try{return F.apply(this,arguments)}finally{b=dt}}}}(tg)),tg}var $E;function zC(){return $E||($E=1,Jp.exports=BC()),Jp.exports}var eg={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function HC(){if(YE)return bn;YE=1;var i=gy();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,_)},bn.flushSync=function(p){var g=h.T,_=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=_,r.d.f()}},bn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},bn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},bn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:M}):_==="script"&&r.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},bn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},bn.requestFormReset=function(p){r.d.r(p)},bn.unstable_batchedUpdates=function(p,g){return p(g)},bn.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},bn.useFormStatus=function(){return h.H.useHostTransitionStatus()},bn.version="19.1.0",bn}var XE;function dS(){if(XE)return eg.exports;XE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),eg.exports=HC(),eg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function FC(){if(WE)return oc;WE=1;var i=zC(),t=gy(),e=dS();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(r(188))}function p(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,u=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===u)return d(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==u.return)a=f,u=m;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,u=m;break}if(S===u){T=!0,u=f,a=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===a){T=!0,a=m,u=f;break}if(S===u){T=!0,u=m,a=f;break}S=S.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==u)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),W=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function kt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case O:return"Profiler";case H:return"StrictMode";case lt:return"Suspense";case ht:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case W:return(n.displayName||"Context")+".Provider";case it:return(n._context.displayName||"Context")+".Consumer";case at:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return s=n.displayName||null,s!==null?s:kt(n.type)||"Memo";case A:s=n._payload,n=n._init;try{return kt(n(s))}catch{}}return null}var jt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},It=[],V=-1;function Y(n){return{current:n}}function st(n){0>V||(n.current=It[V],It[V]=null,V--)}function Z(n,s){V++,It[V]=n.current,n.current=s}var ft=Y(null),bt=Y(null),pt=Y(null),ue=Y(null);function qt(n,s){switch(Z(pt,s),Z(bt,n),Z(ft,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?gE(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=gE(s),n=yE(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}st(ft),Z(ft,n)}function Ce(){st(ft),st(bt),st(pt)}function De(n){n.memoizedState!==null&&Z(ue,n);var s=ft.current,a=yE(s,n.type);s!==a&&(Z(bt,n),Z(ft,a))}function En(n){bt.current===n&&(st(ft),st(bt)),ue.current===n&&(st(ue),ec._currentValue=dt)}var un=Object.prototype.hasOwnProperty,In=i.unstable_scheduleCallback,en=i.unstable_cancelCallback,ne=i.unstable_shouldYield,oi=i.unstable_requestPaint,_e=i.unstable_now,cs=i.unstable_getCurrentPriorityLevel,cn=i.unstable_ImmediatePriority,ji=i.unstable_UserBlockingPriority,wi=i.unstable_NormalPriority,Ge=i.unstable_LowPriority,xn=i.unstable_IdlePriority,Bi=i.log,hs=i.unstable_setDisableYieldValue,_t=null,Ht=null;function Ke(n){if(typeof Bi=="function"&&hs(n),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(_t,n)}catch{}}var Le=Math.clz32?Math.clz32:Un,Ai=Math.log,Ro=Math.LN2;function Un(n){return n>>>=0,n===0?32:31-(Ai(n)/Ro|0)|0}var pr=256,gr=4194304;function jn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function yr(n,s,a){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?f=jn(u):(T&=S,T!==0?f=jn(T):a||(a=S&~n,a!==0&&(f=jn(a))))):(S=u&~m,S!==0?f=jn(S):T!==0?f=jn(T):a||(a=u&~n,a!==0&&(f=jn(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function vr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function _r(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bn(){var n=pr;return pr<<=1,(pr&4194048)===0&&(pr=256),n}function ba(){var n=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),n}function Ri(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function li(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function fs(n,s,a,u,f,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,N=n.expirationTimes,K=n.hiddenUpdates;for(a=T&~a;0<a;){var J=31-Le(a),nt=1<<J;S[J]=0,N[J]=-1;var Q=K[J];if(Q!==null)for(K[J]=null,J=0;J<Q.length;J++){var $=Q[J];$!==null&&($.lane&=-536870913)}a&=~nt}u!==0&&At(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~s))}function At(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Le(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194090}function Ee(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var u=31-Le(a),f=1<<u;f&s|n[u]&s&&(n[u]|=s),a&=~f}}function ve(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ue(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Wn(){var n=ut.p;return n!==0?n:(n=window.event,n===void 0?32:PE(n.type))}function Ie(n,s){var a=ut.p;try{return ut.p=n,s()}finally{ut.p=a}}var Gt=Math.random().toString(36).slice(2),Te="__reactFiber$"+Gt,ie="__reactProps$"+Gt,be="__reactContainer$"+Gt,ds="__reactEvents$"+Gt,Ci="__reactListeners$"+Gt,Er="__reactHandles$"+Gt,rh="__reactResources$"+Gt,Sa="__reactMarker$"+Gt;function ms(n){delete n[Te],delete n[ie],delete n[ds],delete n[Ci],delete n[Er]}function Tr(n){var s=n[Te];if(s)return s;for(var a=n.parentNode;a;){if(s=a[be]||a[Te]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=TE(n);n!==null;){if(a=n[Te])return a;n=TE(n)}return s}n=a,a=n.parentNode}return null}function zi(n){if(n=n[Te]||n[be]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Hi(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function On(n){var s=n[rh];return s||(s=n[rh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Me(n){n[Sa]=!0}var ou=new Set,Co={};function Ii(n,s){br(n,s),br(n+"Capture",s)}function br(n,s){for(Co[n]=s,n=0;n<s.length;n++)ou.add(s[n])}var sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ah={},wa={};function oh(n){return un.call(wa,n)?!0:un.call(ah,n)?!1:sh.test(n)?wa[n]=!0:(ah[n]=!0,!1)}function ps(n,s,a){if(oh(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Fi(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function hn(n,s,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+u)}}var Aa,lh;function Sr(n){if(Aa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Aa=s&&s[1]||"",lh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+n+lh}var Io=!1;function xo(n,s){if(!n||Io)return"";Io=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var Q=$}Reflect.construct(n,[],nt)}else{try{nt.call()}catch($){Q=$}n.call(nt.prototype)}}else{try{throw Error()}catch($){Q=$}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&Q&&typeof $.stack=="string")return[$.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var N=T.split(`
`),K=S.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===K.length)for(u=N.length-1,f=K.length-1;1<=u&&0<=f&&N[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==K[f]){var J=`
`+N[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=f);break}}}finally{Io=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Sr(a):""}function lu(n){switch(n.tag){case 26:case 27:case 5:return Sr(n.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 15:return xo(n.type,!1);case 11:return xo(n.type.render,!1);case 1:return xo(n.type,!0);case 31:return Sr("Activity");default:return""}}function Oo(n){try{var s="";do s+=lu(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function uu(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Jd(n){var s=uu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function No(n){n._valueTracker||(n._valueTracker=Jd(n))}function cu(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return n&&(u=uu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(s.setValue(n),!0):!1}function Ra(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var tm=/[\n"\\]/g;function je(n){return n.replace(tm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Zn(n,s,a,u,f,m,T,S){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),s!=null?T==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Nn(s)):n.value!==""+Nn(s)&&(n.value=""+Nn(s)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),s!=null?gs(n,T,Nn(s)):a!=null?gs(n,T,Nn(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Nn(S):n.removeAttribute("name")}function Ca(n,s,a,u,f,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+Nn(a):"",s=s!=null?""+Nn(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function gs(n,s,a){s==="number"&&Ra(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function wr(n,s,a,u){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Nn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function fe(n,s,a){if(s!=null&&(s=""+Nn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Nn(a):""}function Ia(n,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(r(92));if(jt(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=Nn(s),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function ui(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var xa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uh(n,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,a):typeof a!="number"||a===0||xa.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function hu(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&a[f]!==u&&uh(n,f,u)}else for(var m in s)s.hasOwnProperty(m)&&uh(n,m,s[m])}function fu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var em=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Do(n){return nm.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ar=null;function ci(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Rr=null,Cr=null;function du(n){var s=zi(n);if(s&&(n=s.stateNode)){var a=n[ie]||null;t:switch(n=s.stateNode,s.type){case"input":if(Zn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+je(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==n&&u.form===n.form){var f=u[ie]||null;if(!f)throw Error(r(90));Zn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===n.form&&cu(u)}break t;case"textarea":fe(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&wr(n,!!a.multiple,s,!1)}}}var qi=!1;function ch(n,s,a){if(qi)return n(s,a);qi=!0;try{var u=n(s);return u}finally{if(qi=!1,(Rr!==null||Cr!==null)&&(rf(),Rr&&(s=Rr,n=Cr,Cr=Rr=null,du(s),n)))for(s=0;s<n.length;s++)du(n[s])}}function Oa(n,s){var a=n.stateNode;if(a===null)return null;var u=a[ie]||null;if(u===null)return null;a=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hi=!1;if(xi)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){hi=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{hi=!1}var Gi=null,ys=null,Ir=null;function mu(){if(Ir)return Ir;var n,s=ys,a=s.length,u,f="value"in Gi?Gi.value:Gi.textContent,m=f.length;for(n=0;n<a&&s[n]===f[n];n++);var T=a-n;for(u=1;u<=T&&s[a-u]===f[m-u];u++);return Ir=f.slice(n,1<u?1-u:void 0)}function Ki(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Qi(){return!0}function pu(){return!1}function nn(n){function s(a,u,f,m,T){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Qi:pu,this.isPropagationStopped=pu,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),s}var ae={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=nn(ae),Da=_({},ae,{view:0,detail:0}),hh=nn(Da),ko,Vo,$i,Ma=_({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$i&&($i&&n.type==="mousemove"?(ko=n.screenX-$i.screenX,Vo=n.screenY-$i.screenY):Vo=ko=0,$i=n),ko)},movementY:function(n){return"movementY"in n?n.movementY:Vo}}),fi=nn(Ma),fh=_({},Ma,{dataTransfer:0}),im=nn(fh),ka=_({},Da,{relatedTarget:0}),Po=nn(ka),gu=_({},ae,{animationName:0,elapsedTime:0,pseudoElement:0}),Lo=nn(gu),dh=_({},ae,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Uo=nn(dh),rm=_({},ae,{data:0}),yu=nn(rm),Va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ph[n])?!!s[n]:!1}function Pa(){return vu}var gh=_({},Da,{key:function(n){if(n.key){var s=Va[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ki(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(n){return n.type==="keypress"?Ki(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ki(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jo=nn(gh),yh=_({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=nn(yh),xr=_({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),vh=nn(xr),_h=_({},ae,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eh=nn(_h),Th=_({},Ma,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Bo=nn(Th),Dn=_({},ae,{newState:0,oldState:0}),bh=nn(Dn),Sh=[9,13,27,32],Yi=xi&&"CompositionEvent"in window,c=null;xi&&"documentMode"in document&&(c=document.documentMode);var y=xi&&"TextEvent"in window&&!c,E=xi&&(!Yi||c&&8<c&&11>=c),R=" ",q=!1;function X(n,s){switch(n){case"keyup":return Sh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Zt=!1;function Qe(n,s){switch(n){case"compositionend":return mt(s);case"keypress":return s.which!==32?null:(q=!0,R);case"textInput":return n=s.data,n===R&&q?null:n;default:return null}}function Jt(n,s){if(Zt)return n==="compositionend"||!Yi&&X(n,s)?(n=mu(),Ir=ys=Gi=null,Zt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $e(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!rn[n.type]:s==="textarea"}function Or(n,s,a,u){Rr?Cr?Cr.push(u):Cr=[u]:Rr=u,s=cf(s,"onChange"),0<s.length&&(a=new Mo("onChange","change",null,a,u),n.push({event:a,listeners:s}))}var fn=null,Xi=null;function Eu(n){hE(n,0)}function wh(n){var s=Hi(n);if(cu(s))return n}function Dv(n,s){if(n==="change")return s}var Mv=!1;if(xi){var sm;if(xi){var am="oninput"in document;if(!am){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),am=typeof kv.oninput=="function"}sm=am}else sm=!1;Mv=sm&&(!document.documentMode||9<document.documentMode)}function Vv(){fn&&(fn.detachEvent("onpropertychange",Pv),Xi=fn=null)}function Pv(n){if(n.propertyName==="value"&&wh(Xi)){var s=[];Or(s,Xi,n,ci(n)),ch(Eu,s)}}function dR(n,s,a){n==="focusin"?(Vv(),fn=s,Xi=a,fn.attachEvent("onpropertychange",Pv)):n==="focusout"&&Vv()}function mR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return wh(Xi)}function pR(n,s){if(n==="click")return wh(s)}function gR(n,s){if(n==="input"||n==="change")return wh(s)}function yR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Jn=typeof Object.is=="function"?Object.is:yR;function Tu(n,s){if(Jn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!un.call(s,f)||!Jn(n[f],s[f]))return!1}return!0}function Lv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Uv(n,s){var a=Lv(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=s&&u>=s)return{node:a,offset:s-n};n=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Lv(a)}}function jv(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?jv(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Bv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ra(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ra(n.document)}return s}function om(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var vR=xi&&"documentMode"in document&&11>=document.documentMode,zo=null,lm=null,bu=null,um=!1;function zv(n,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;um||zo==null||zo!==Ra(u)||(u=zo,"selectionStart"in u&&om(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bu&&Tu(bu,u)||(bu=u,u=cf(lm,"onSelect"),0<u.length&&(s=new Mo("onSelect","select",null,s,a),n.push({event:s,listeners:u}),s.target=zo)))}function La(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ho={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},cm={},Hv={};xi&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function Ua(n){if(cm[n])return cm[n];if(!Ho[n])return n;var s=Ho[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Hv)return cm[n]=s[a];return n}var Fv=Ua("animationend"),qv=Ua("animationiteration"),Gv=Ua("animationstart"),_R=Ua("transitionrun"),ER=Ua("transitionstart"),TR=Ua("transitioncancel"),Kv=Ua("transitionend"),Qv=new Map,hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hm.push("scrollEnd");function Oi(n,s){Qv.set(n,s),Ii(s,[n])}var $v=new WeakMap;function di(n,s){if(typeof n=="object"&&n!==null){var a=$v.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Oo(s)},$v.set(n,s),s)}return{value:n,source:s,stack:Oo(s)}}var mi=[],Fo=0,fm=0;function Ah(){for(var n=Fo,s=fm=Fo=0;s<n;){var a=mi[s];mi[s++]=null;var u=mi[s];mi[s++]=null;var f=mi[s];mi[s++]=null;var m=mi[s];if(mi[s++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&Yv(a,f,m)}}function Rh(n,s,a,u){mi[Fo++]=n,mi[Fo++]=s,mi[Fo++]=a,mi[Fo++]=u,fm|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function dm(n,s,a,u){return Rh(n,s,a,u),Ch(n)}function qo(n,s){return Rh(n,null,null,s),Ch(n)}function Yv(n,s,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-Le(a),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=a|536870912),m):null}function Ch(n){if(50<Qu)throw Qu=0,_p=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Go={};function bR(n,s,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(n,s,a,u){return new bR(n,s,a,u)}function mm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Nr(n,s){var a=n.alternate;return a===null?(a=ti(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Xv(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ih(n,s,a,u,f,m){var T=0;if(u=n,typeof n=="function")mm(n)&&(T=1);else if(typeof n=="string")T=wC(n,a,ft.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case C:return n=ti(31,a,s,f),n.elementType=C,n.lanes=m,n;case B:return ja(a.children,f,m,s);case H:T=8,f|=24;break;case O:return n=ti(12,a,s,f|2),n.elementType=O,n.lanes=m,n;case lt:return n=ti(13,a,s,f),n.elementType=lt,n.lanes=m,n;case ht:return n=ti(19,a,s,f),n.elementType=ht,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case et:case W:T=10;break t;case it:T=9;break t;case at:T=11;break t;case k:T=14;break t;case A:T=16,u=null;break t}T=29,a=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=ti(T,a,s,f),s.elementType=n,s.type=u,s.lanes=m,s}function ja(n,s,a,u){return n=ti(7,n,u,s),n.lanes=a,n}function pm(n,s,a){return n=ti(6,n,null,s),n.lanes=a,n}function gm(n,s,a){return s=ti(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ko=[],Qo=0,xh=null,Oh=0,pi=[],gi=0,Ba=null,Dr=1,Mr="";function za(n,s){Ko[Qo++]=Oh,Ko[Qo++]=xh,xh=n,Oh=s}function Wv(n,s,a){pi[gi++]=Dr,pi[gi++]=Mr,pi[gi++]=Ba,Ba=n;var u=Dr;n=Mr;var f=32-Le(u)-1;u&=~(1<<f),a+=1;var m=32-Le(s)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Dr=1<<32-Le(s)+f|a<<f|u,Mr=m+n}else Dr=1<<m|a<<f|u,Mr=n}function ym(n){n.return!==null&&(za(n,1),Wv(n,1,0))}function vm(n){for(;n===xh;)xh=Ko[--Qo],Ko[Qo]=null,Oh=Ko[--Qo],Ko[Qo]=null;for(;n===Ba;)Ba=pi[--gi],pi[gi]=null,Mr=pi[--gi],pi[gi]=null,Dr=pi[--gi],pi[gi]=null}var Mn=null,xe=null,se=!1,Ha=null,Wi=!1,_m=Error(r(519));function Fa(n){var s=Error(r(418,""));throw Au(di(s,n)),_m}function Zv(n){var s=n.stateNode,a=n.type,u=n.memoizedProps;switch(s[Te]=n,s[ie]=u,a){case"dialog":Qt("cancel",s),Qt("close",s);break;case"iframe":case"object":case"embed":Qt("load",s);break;case"video":case"audio":for(a=0;a<Yu.length;a++)Qt(Yu[a],s);break;case"source":Qt("error",s);break;case"img":case"image":case"link":Qt("error",s),Qt("load",s);break;case"details":Qt("toggle",s);break;case"input":Qt("invalid",s),Ca(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),No(s);break;case"select":Qt("invalid",s);break;case"textarea":Qt("invalid",s),Ia(s,u.value,u.defaultValue,u.children),No(s)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||pE(s.textContent,a)?(u.popover!=null&&(Qt("beforetoggle",s),Qt("toggle",s)),u.onScroll!=null&&Qt("scroll",s),u.onScrollEnd!=null&&Qt("scrollend",s),u.onClick!=null&&(s.onclick=hf),s=!0):s=!1,s||Fa(n)}function Jv(n){for(Mn=n.return;Mn;)switch(Mn.tag){case 5:case 13:Wi=!1;return;case 27:case 3:Wi=!0;return;default:Mn=Mn.return}}function Su(n){if(n!==Mn)return!1;if(!se)return Jv(n),se=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Vp(n.type,n.memoizedProps)),a=!a),a&&xe&&Fa(n),Jv(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){xe=Di(n.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}xe=null}}else s===27?(s=xe,Ms(n.type)?(n=jp,jp=null,xe=n):xe=s):xe=Mn?Di(n.stateNode.nextSibling):null;return!0}function wu(){xe=Mn=null,se=!1}function t_(){var n=Ha;return n!==null&&(Fn===null?Fn=n:Fn.push.apply(Fn,n),Ha=null),n}function Au(n){Ha===null?Ha=[n]:Ha.push(n)}var Em=Y(null),qa=null,kr=null;function vs(n,s,a){Z(Em,s._currentValue),s._currentValue=a}function Vr(n){n._currentValue=Em.current,st(Em)}function Tm(n,s,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===a)break;n=n.return}}function bm(n,s,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var N=0;N<s.length;N++)if(S.context===s[N]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Tm(m.return,a,n),u||(T=null);break t}m=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Tm(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ru(n,s,a,u){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var S=f.type;Jn(f.pendingProps.value,T.value)||(n!==null?n.push(S):n=[S])}}else if(f===ue.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ec):n=[ec])}f=f.return}n!==null&&bm(s,n,a,u),s.flags|=262144}function Nh(n){for(n=n.firstContext;n!==null;){if(!Jn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ga(n){qa=n,kr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Tn(n){return e_(qa,n)}function Dh(n,s){return qa===null&&Ga(n),e_(n,s)}function e_(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},kr===null){if(n===null)throw Error(r(308));kr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else kr=kr.next=s;return a}var SR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},wR=i.unstable_scheduleCallback,AR=i.unstable_NormalPriority,Ye={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sm(){return{controller:new SR,data:new Map,refCount:0}}function Cu(n){n.refCount--,n.refCount===0&&wR(AR,function(){n.controller.abort()})}var Iu=null,wm=0,$o=0,Yo=null;function RR(n,s){if(Iu===null){var a=Iu=[];wm=0,$o=Rp(),Yo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return wm++,s.then(n_,n_),s}function n_(){if(--wm===0&&Iu!==null){Yo!==null&&(Yo.status="fulfilled");var n=Iu;Iu=null,$o=0,Yo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function CR(n,s){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var i_=F.S;F.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&RR(n,s),i_!==null&&i_(n,s)};var Ka=Y(null);function Am(){var n=Ka.current;return n!==null?n:ye.pooledCache}function Mh(n,s){s===null?Z(Ka,Ka.current):Z(Ka,s.pool)}function r_(){var n=Am();return n===null?null:{parent:Ye._currentValue,pool:n}}var xu=Error(r(460)),s_=Error(r(474)),kh=Error(r(542)),Rm={then:function(){}};function a_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Vh(){}function o_(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Vh,Vh),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,u_(n),n;default:if(typeof s.status=="string")s.then(Vh,Vh);else{if(n=ye,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,u_(n),n}throw Ou=s,xu}}var Ou=null;function l_(){if(Ou===null)throw Error(r(459));var n=Ou;return Ou=null,n}function u_(n){if(n===xu||n===kh)throw Error(r(483))}var _s=!1;function Cm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Es(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ts(n,s,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ce&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Ch(n),Yv(n,null,a),s}return Rh(n,u,s,a),Ch(n)}function Nu(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Ee(n,a)}}function xm(n,s){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Om=!1;function Du(){if(Om){var n=Yo;if(n!==null)throw n}}function Mu(n,s,a,u){Om=!1;var f=n.updateQueue;_s=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,K=N.next;N.next=null,T===null?m=K:T.next=K,T=N;var J=n.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==T&&(S===null?J.firstBaseUpdate=K:S.next=K,J.lastBaseUpdate=N))}if(m!==null){var nt=f.baseState;T=0,J=K=N=null,S=m;do{var Q=S.lane&-536870913,$=Q!==S.lane;if($?(te&Q)===Q:(u&Q)===Q){Q!==0&&Q===$o&&(Om=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Nt=n,Rt=S;Q=s;var pe=a;switch(Rt.tag){case 1:if(Nt=Rt.payload,typeof Nt=="function"){nt=Nt.call(pe,nt,Q);break t}nt=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Rt.payload,Q=typeof Nt=="function"?Nt.call(pe,nt,Q):Nt,Q==null)break t;nt=_({},nt,Q);break t;case 2:_s=!0}}Q=S.callback,Q!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[Q]:$.push(Q))}else $={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(K=J=$,N=nt):J=J.next=$,T|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);J===null&&(N=nt),f.baseState=N,f.firstBaseUpdate=K,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),xs|=T,n.lanes=T,n.memoizedState=nt}}function c_(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function h_(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)c_(a[n],s)}var Xo=Y(null),Ph=Y(0);function f_(n,s){n=Hr,Z(Ph,n),Z(Xo,s),Hr=n|s.baseLanes}function Nm(){Z(Ph,Hr),Z(Xo,Xo.current)}function Dm(){Hr=Ph.current,st(Xo),st(Ph)}var bs=0,Bt=null,de=null,Be=null,Lh=!1,Wo=!1,Qa=!1,Uh=0,ku=0,Zo=null,IR=0;function ke(){throw Error(r(321))}function Mm(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Jn(n[a],s[a]))return!1;return!0}function km(n,s,a,u,f,m){return bs=m,Bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=n===null||n.memoizedState===null?Y_:X_,Qa=!1,m=a(u,f),Qa=!1,Wo&&(m=m_(s,a,u,f)),d_(n),m}function d_(n){F.H=qh;var s=de!==null&&de.next!==null;if(bs=0,Be=de=Bt=null,Lh=!1,ku=0,Zo=null,s)throw Error(r(300));n===null||sn||(n=n.dependencies,n!==null&&Nh(n)&&(sn=!0))}function m_(n,s,a,u){Bt=n;var f=0;do{if(Wo&&(Zo=null),ku=0,Wo=!1,25<=f)throw Error(r(301));if(f+=1,Be=de=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=VR,m=s(a,u)}while(Wo);return m}function xR(){var n=F.H,s=n.useState()[0];return s=typeof s.then=="function"?Vu(s):s,n=n.useState()[0],(de!==null?de.memoizedState:null)!==n&&(Bt.flags|=1024),s}function Vm(){var n=Uh!==0;return Uh=0,n}function Pm(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Lm(n){if(Lh){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Lh=!1}bs=0,Be=de=Bt=null,Wo=!1,ku=Uh=0,Zo=null}function zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Bt.memoizedState=Be=n:Be=Be.next=n,Be}function ze(){if(de===null){var n=Bt.alternate;n=n!==null?n.memoizedState:null}else n=de.next;var s=Be===null?Bt.memoizedState:Be.next;if(s!==null)Be=s,de=n;else{if(n===null)throw Bt.alternate===null?Error(r(467)):Error(r(310));de=n,n={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},Be===null?Bt.memoizedState=Be=n:Be=Be.next=n}return Be}function Um(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vu(n){var s=ku;return ku+=1,Zo===null&&(Zo=[]),n=o_(Zo,n,s),s=Bt,(Be===null?s.memoizedState:Be.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?Y_:X_),n}function jh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Vu(n);if(n.$$typeof===W)return Tn(n)}throw Error(r(438,String(n)))}function jm(n){var s=null,a=Bt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=Bt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Um(),Bt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),u=0;u<n;u++)a[u]=D;return s.index++,a}function Pr(n,s){return typeof s=="function"?s(n):s}function Bh(n){var s=ze();return Bm(s,de,n)}function Bm(n,s,a){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}s.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var S=T=null,N=null,K=s,J=!1;do{var nt=K.lane&-536870913;if(nt!==K.lane?(te&nt)===nt:(bs&nt)===nt){var Q=K.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),nt===$o&&(J=!0);else if((bs&Q)===Q){K=K.next,Q===$o&&(J=!0);continue}else nt={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(S=N=nt,T=m):N=N.next=nt,Bt.lanes|=Q,xs|=Q;nt=K.action,Qa&&a(m,nt),m=K.hasEagerState?K.eagerState:a(m,nt)}else Q={lane:nt,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(S=N=Q,T=m):N=N.next=Q,Bt.lanes|=nt,xs|=nt;K=K.next}while(K!==null&&K!==s);if(N===null?T=m:N.next=S,!Jn(m,n.memoizedState)&&(sn=!0,J&&(a=Yo,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function zm(n){var s=ze(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=n(m,T.action),T=T.next;while(T!==f);Jn(m,s.memoizedState)||(sn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,u]}function p_(n,s,a){var u=Bt,f=ze(),m=se;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!Jn((de||f).memoizedState,a);T&&(f.memoizedState=a,sn=!0),f=f.queue;var S=v_.bind(null,u,f,n);if(Pu(2048,8,S,[n]),f.getSnapshot!==s||T||Be!==null&&Be.memoizedState.tag&1){if(u.flags|=2048,Jo(9,zh(),y_.bind(null,u,f,a,s),null),ye===null)throw Error(r(349));m||(bs&124)!==0||g_(u,s,a)}return a}function g_(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Bt.updateQueue,s===null?(s=Um(),Bt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function y_(n,s,a,u){s.value=a,s.getSnapshot=u,__(s)&&E_(n)}function v_(n,s,a){return a(function(){__(s)&&E_(n)})}function __(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Jn(n,a)}catch{return!0}}function E_(n){var s=qo(n,2);s!==null&&si(s,n,2)}function Hm(n){var s=zn();if(typeof n=="function"){var a=n;if(n=a(),Qa){Ke(!0);try{a()}finally{Ke(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:n},s}function T_(n,s,a,u){return n.baseState=a,Bm(n,de,typeof u=="function"?u:Pr)}function OR(n,s,a,u,f){if(Fh(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};F.T!==null?a(!0):m.isTransition=!1,u(m),a=s.pending,a===null?(m.next=s.pending=m,b_(s,m)):(m.next=a.next,s.pending=a.next=m)}}function b_(n,s){var a=s.action,u=s.payload,f=n.state;if(s.isTransition){var m=F.T,T={};F.T=T;try{var S=a(f,u),N=F.S;N!==null&&N(T,S),S_(n,s,S)}catch(K){Fm(n,s,K)}finally{F.T=m}}else try{m=a(f,u),S_(n,s,m)}catch(K){Fm(n,s,K)}}function S_(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){w_(n,s,u)},function(u){return Fm(n,s,u)}):w_(n,s,a)}function w_(n,s,a){s.status="fulfilled",s.value=a,A_(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,b_(n,a)))}function Fm(n,s,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,A_(s),s=s.next;while(s!==u)}n.action=null}function A_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function R_(n,s){return s}function C_(n,s){if(se){var a=ye.formState;if(a!==null){t:{var u=Bt;if(se){if(xe){e:{for(var f=xe,m=Wi;f.nodeType!==8;){if(!m){f=null;break e}if(f=Di(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){xe=Di(f.nextSibling),u=f.data==="F!";break t}}Fa(u)}u=!1}u&&(s=a[0])}}return a=zn(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R_,lastRenderedState:s},a.queue=u,a=K_.bind(null,Bt,u),u.dispatch=a,u=Hm(!1),m=$m.bind(null,Bt,!1,u.queue),u=zn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,a=OR.bind(null,Bt,f,m,a),f.dispatch=a,u.memoizedState=n,[s,a,!1]}function I_(n){var s=ze();return x_(s,de,n)}function x_(n,s,a){if(s=Bm(n,s,R_)[0],n=Bh(Pr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Vu(s)}catch(T){throw T===xu?kh:T}else u=s;s=ze();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Bt.flags|=2048,Jo(9,zh(),NR.bind(null,f,a),null)),[u,m,n]}function NR(n,s){n.action=s}function O_(n){var s=ze(),a=de;if(a!==null)return x_(s,a,n);ze(),s=s.memoizedState,a=ze();var u=a.queue.dispatch;return a.memoizedState=n,[s,u,!1]}function Jo(n,s,a,u){return n={tag:n,create:a,deps:u,inst:s,next:null},s=Bt.updateQueue,s===null&&(s=Um(),Bt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,s.lastEffect=n),n}function zh(){return{destroy:void 0,resource:void 0}}function N_(){return ze().memoizedState}function Hh(n,s,a,u){var f=zn();u=u===void 0?null:u,Bt.flags|=n,f.memoizedState=Jo(1|s,zh(),a,u)}function Pu(n,s,a,u){var f=ze();u=u===void 0?null:u;var m=f.memoizedState.inst;de!==null&&u!==null&&Mm(u,de.memoizedState.deps)?f.memoizedState=Jo(s,m,a,u):(Bt.flags|=n,f.memoizedState=Jo(1|s,m,a,u))}function D_(n,s){Hh(8390656,8,n,s)}function M_(n,s){Pu(2048,8,n,s)}function k_(n,s){return Pu(4,2,n,s)}function V_(n,s){return Pu(4,4,n,s)}function P_(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function L_(n,s,a){a=a!=null?a.concat([n]):null,Pu(4,4,P_.bind(null,s,n),a)}function qm(){}function U_(n,s){var a=ze();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&Mm(s,u[1])?u[0]:(a.memoizedState=[n,s],n)}function j_(n,s){var a=ze();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&Mm(s,u[1]))return u[0];if(u=n(),Qa){Ke(!0);try{n()}finally{Ke(!1)}}return a.memoizedState=[u,s],u}function Gm(n,s,a){return a===void 0||(bs&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=H0(),Bt.lanes|=n,xs|=n,a)}function B_(n,s,a,u){return Jn(a,s)?a:Xo.current!==null?(n=Gm(n,a,u),Jn(n,s)||(sn=!0),n):(bs&42)===0?(sn=!0,n.memoizedState=a):(n=H0(),Bt.lanes|=n,xs|=n,s)}function z_(n,s,a,u,f){var m=ut.p;ut.p=m!==0&&8>m?m:8;var T=F.T,S={};F.T=S,$m(n,!1,s,a);try{var N=f(),K=F.S;if(K!==null&&K(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=CR(N,u);Lu(n,s,J,ri(n))}else Lu(n,s,u,ri(n))}catch(nt){Lu(n,s,{then:function(){},status:"rejected",reason:nt},ri())}finally{ut.p=m,F.T=T}}function DR(){}function Km(n,s,a,u){if(n.tag!==5)throw Error(r(476));var f=H_(n).queue;z_(n,f,s,dt,a===null?DR:function(){return F_(n),a(u)})}function H_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:dt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function F_(n){var s=H_(n).next.queue;Lu(n,s,{},ri())}function Qm(){return Tn(ec)}function q_(){return ze().memoizedState}function G_(){return ze().memoizedState}function MR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=ri();n=Es(a);var u=Ts(s,n,a);u!==null&&(si(u,s,a),Nu(u,s,a)),s={cache:Sm()},n.payload=s;return}s=s.return}}function kR(n,s,a){var u=ri();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fh(n)?Q_(s,a):(a=dm(n,s,a,u),a!==null&&(si(a,n,u),$_(a,s,u)))}function K_(n,s,a){var u=ri();Lu(n,s,a,u)}function Lu(n,s,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fh(n))Q_(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,S=m(T,a);if(f.hasEagerState=!0,f.eagerState=S,Jn(S,T))return Rh(n,s,f,0),ye===null&&Ah(),!1}catch{}finally{}if(a=dm(n,s,f,u),a!==null)return si(a,n,u),$_(a,s,u),!0}return!1}function $m(n,s,a,u){if(u={lane:2,revertLane:Rp(),action:u,hasEagerState:!1,eagerState:null,next:null},Fh(n)){if(s)throw Error(r(479))}else s=dm(n,a,u,2),s!==null&&si(s,n,2)}function Fh(n){var s=n.alternate;return n===Bt||s!==null&&s===Bt}function Q_(n,s){Wo=Lh=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function $_(n,s,a){if((a&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Ee(n,a)}}var qh={readContext:Tn,use:jh,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke},Y_={readContext:Tn,use:jh,useCallback:function(n,s){return zn().memoizedState=[n,s===void 0?null:s],n},useContext:Tn,useEffect:D_,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Hh(4194308,4,P_.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Hh(4194308,4,n,s)},useInsertionEffect:function(n,s){Hh(4,2,n,s)},useMemo:function(n,s){var a=zn();s=s===void 0?null:s;var u=n();if(Qa){Ke(!0);try{n()}finally{Ke(!1)}}return a.memoizedState=[u,s],u},useReducer:function(n,s,a){var u=zn();if(a!==void 0){var f=a(s);if(Qa){Ke(!0);try{a(s)}finally{Ke(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=kR.bind(null,Bt,n),[u.memoizedState,n]},useRef:function(n){var s=zn();return n={current:n},s.memoizedState=n},useState:function(n){n=Hm(n);var s=n.queue,a=K_.bind(null,Bt,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:qm,useDeferredValue:function(n,s){var a=zn();return Gm(a,n,s)},useTransition:function(){var n=Hm(!1);return n=z_.bind(null,Bt,n.queue,!0,!1),zn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var u=Bt,f=zn();if(se){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ye===null)throw Error(r(349));(te&124)!==0||g_(u,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,D_(v_.bind(null,u,m,n),[n]),u.flags|=2048,Jo(9,zh(),y_.bind(null,u,m,a,s),null),a},useId:function(){var n=zn(),s=ye.identifierPrefix;if(se){var a=Mr,u=Dr;a=(u&~(1<<32-Le(u)-1)).toString(32)+a,s="«"+s+"R"+a,a=Uh++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=IR++,s="«"+s+"r"+a.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:Qm,useFormState:C_,useActionState:C_,useOptimistic:function(n){var s=zn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=$m.bind(null,Bt,!0,a),a.dispatch=s,[n,s]},useMemoCache:jm,useCacheRefresh:function(){return zn().memoizedState=MR.bind(null,Bt)}},X_={readContext:Tn,use:jh,useCallback:U_,useContext:Tn,useEffect:M_,useImperativeHandle:L_,useInsertionEffect:k_,useLayoutEffect:V_,useMemo:j_,useReducer:Bh,useRef:N_,useState:function(){return Bh(Pr)},useDebugValue:qm,useDeferredValue:function(n,s){var a=ze();return B_(a,de.memoizedState,n,s)},useTransition:function(){var n=Bh(Pr)[0],s=ze().memoizedState;return[typeof n=="boolean"?n:Vu(n),s]},useSyncExternalStore:p_,useId:q_,useHostTransitionStatus:Qm,useFormState:I_,useActionState:I_,useOptimistic:function(n,s){var a=ze();return T_(a,de,n,s)},useMemoCache:jm,useCacheRefresh:G_},VR={readContext:Tn,use:jh,useCallback:U_,useContext:Tn,useEffect:M_,useImperativeHandle:L_,useInsertionEffect:k_,useLayoutEffect:V_,useMemo:j_,useReducer:zm,useRef:N_,useState:function(){return zm(Pr)},useDebugValue:qm,useDeferredValue:function(n,s){var a=ze();return de===null?Gm(a,n,s):B_(a,de.memoizedState,n,s)},useTransition:function(){var n=zm(Pr)[0],s=ze().memoizedState;return[typeof n=="boolean"?n:Vu(n),s]},useSyncExternalStore:p_,useId:q_,useHostTransitionStatus:Qm,useFormState:O_,useActionState:O_,useOptimistic:function(n,s){var a=ze();return de!==null?T_(a,de,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:jm,useCacheRefresh:G_},tl=null,Uu=0;function Gh(n){var s=Uu;return Uu+=1,tl===null&&(tl=[]),o_(tl,n,s)}function ju(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Kh(n,s){throw s.$$typeof===v?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function W_(n){var s=n._init;return s(n._payload)}function Z_(n){function s(z,j){if(n){var G=z.deletions;G===null?(z.deletions=[j],z.flags|=16):G.push(j)}}function a(z,j){if(!n)return null;for(;j!==null;)s(z,j),j=j.sibling;return null}function u(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function f(z,j){return z=Nr(z,j),z.index=0,z.sibling=null,z}function m(z,j,G){return z.index=G,n?(G=z.alternate,G!==null?(G=G.index,G<j?(z.flags|=67108866,j):G):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function T(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function S(z,j,G,tt){return j===null||j.tag!==6?(j=pm(G,z.mode,tt),j.return=z,j):(j=f(j,G),j.return=z,j)}function N(z,j,G,tt){var vt=G.type;return vt===B?J(z,j,G.props.children,tt,G.key):j!==null&&(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&W_(vt)===j.type)?(j=f(j,G.props),ju(j,G),j.return=z,j):(j=Ih(G.type,G.key,G.props,null,z.mode,tt),ju(j,G),j.return=z,j)}function K(z,j,G,tt){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=gm(G,z.mode,tt),j.return=z,j):(j=f(j,G.children||[]),j.return=z,j)}function J(z,j,G,tt,vt){return j===null||j.tag!==7?(j=ja(G,z.mode,tt,vt),j.return=z,j):(j=f(j,G),j.return=z,j)}function nt(z,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=pm(""+j,z.mode,G),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return G=Ih(j.type,j.key,j.props,null,z.mode,G),ju(G,j),G.return=z,G;case M:return j=gm(j,z.mode,G),j.return=z,j;case A:var tt=j._init;return j=tt(j._payload),nt(z,j,G)}if(jt(j)||U(j))return j=ja(j,z.mode,G,null),j.return=z,j;if(typeof j.then=="function")return nt(z,Gh(j),G);if(j.$$typeof===W)return nt(z,Dh(z,j),G);Kh(z,j)}return null}function Q(z,j,G,tt){var vt=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return vt!==null?null:S(z,j,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===vt?N(z,j,G,tt):null;case M:return G.key===vt?K(z,j,G,tt):null;case A:return vt=G._init,G=vt(G._payload),Q(z,j,G,tt)}if(jt(G)||U(G))return vt!==null?null:J(z,j,G,tt,null);if(typeof G.then=="function")return Q(z,j,Gh(G),tt);if(G.$$typeof===W)return Q(z,j,Dh(z,G),tt);Kh(z,G)}return null}function $(z,j,G,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(G)||null,S(j,z,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return z=z.get(tt.key===null?G:tt.key)||null,N(j,z,tt,vt);case M:return z=z.get(tt.key===null?G:tt.key)||null,K(j,z,tt,vt);case A:var Ft=tt._init;return tt=Ft(tt._payload),$(z,j,G,tt,vt)}if(jt(tt)||U(tt))return z=z.get(G)||null,J(j,z,tt,vt,null);if(typeof tt.then=="function")return $(z,j,G,Gh(tt),vt);if(tt.$$typeof===W)return $(z,j,G,Dh(j,tt),vt);Kh(j,tt)}return null}function Nt(z,j,G,tt){for(var vt=null,Ft=null,Et=j,Ct=j=0,on=null;Et!==null&&Ct<G.length;Ct++){Et.index>Ct?(on=Et,Et=null):on=Et.sibling;var re=Q(z,Et,G[Ct],tt);if(re===null){Et===null&&(Et=on);break}n&&Et&&re.alternate===null&&s(z,Et),j=m(re,j,Ct),Ft===null?vt=re:Ft.sibling=re,Ft=re,Et=on}if(Ct===G.length)return a(z,Et),se&&za(z,Ct),vt;if(Et===null){for(;Ct<G.length;Ct++)Et=nt(z,G[Ct],tt),Et!==null&&(j=m(Et,j,Ct),Ft===null?vt=Et:Ft.sibling=Et,Ft=Et);return se&&za(z,Ct),vt}for(Et=u(Et);Ct<G.length;Ct++)on=$(Et,z,Ct,G[Ct],tt),on!==null&&(n&&on.alternate!==null&&Et.delete(on.key===null?Ct:on.key),j=m(on,j,Ct),Ft===null?vt=on:Ft.sibling=on,Ft=on);return n&&Et.forEach(function(Us){return s(z,Us)}),se&&za(z,Ct),vt}function Rt(z,j,G,tt){if(G==null)throw Error(r(151));for(var vt=null,Ft=null,Et=j,Ct=j=0,on=null,re=G.next();Et!==null&&!re.done;Ct++,re=G.next()){Et.index>Ct?(on=Et,Et=null):on=Et.sibling;var Us=Q(z,Et,re.value,tt);if(Us===null){Et===null&&(Et=on);break}n&&Et&&Us.alternate===null&&s(z,Et),j=m(Us,j,Ct),Ft===null?vt=Us:Ft.sibling=Us,Ft=Us,Et=on}if(re.done)return a(z,Et),se&&za(z,Ct),vt;if(Et===null){for(;!re.done;Ct++,re=G.next())re=nt(z,re.value,tt),re!==null&&(j=m(re,j,Ct),Ft===null?vt=re:Ft.sibling=re,Ft=re);return se&&za(z,Ct),vt}for(Et=u(Et);!re.done;Ct++,re=G.next())re=$(Et,z,Ct,re.value,tt),re!==null&&(n&&re.alternate!==null&&Et.delete(re.key===null?Ct:re.key),j=m(re,j,Ct),Ft===null?vt=re:Ft.sibling=re,Ft=re);return n&&Et.forEach(function(PC){return s(z,PC)}),se&&za(z,Ct),vt}function pe(z,j,G,tt){if(typeof G=="object"&&G!==null&&G.type===B&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var vt=G.key;j!==null;){if(j.key===vt){if(vt=G.type,vt===B){if(j.tag===7){a(z,j.sibling),tt=f(j,G.props.children),tt.return=z,z=tt;break t}}else if(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&W_(vt)===j.type){a(z,j.sibling),tt=f(j,G.props),ju(tt,G),tt.return=z,z=tt;break t}a(z,j);break}else s(z,j);j=j.sibling}G.type===B?(tt=ja(G.props.children,z.mode,tt,G.key),tt.return=z,z=tt):(tt=Ih(G.type,G.key,G.props,null,z.mode,tt),ju(tt,G),tt.return=z,z=tt)}return T(z);case M:t:{for(vt=G.key;j!==null;){if(j.key===vt)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){a(z,j.sibling),tt=f(j,G.children||[]),tt.return=z,z=tt;break t}else{a(z,j);break}else s(z,j);j=j.sibling}tt=gm(G,z.mode,tt),tt.return=z,z=tt}return T(z);case A:return vt=G._init,G=vt(G._payload),pe(z,j,G,tt)}if(jt(G))return Nt(z,j,G,tt);if(U(G)){if(vt=U(G),typeof vt!="function")throw Error(r(150));return G=vt.call(G),Rt(z,j,G,tt)}if(typeof G.then=="function")return pe(z,j,Gh(G),tt);if(G.$$typeof===W)return pe(z,j,Dh(z,G),tt);Kh(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(a(z,j.sibling),tt=f(j,G),tt.return=z,z=tt):(a(z,j),tt=pm(G,z.mode,tt),tt.return=z,z=tt),T(z)):a(z,j)}return function(z,j,G,tt){try{Uu=0;var vt=pe(z,j,G,tt);return tl=null,vt}catch(Et){if(Et===xu||Et===kh)throw Et;var Ft=ti(29,Et,null,z.mode);return Ft.lanes=tt,Ft.return=z,Ft}finally{}}}var el=Z_(!0),J_=Z_(!1),yi=Y(null),Zi=null;function Ss(n){var s=n.alternate;Z(Xe,Xe.current&1),Z(yi,n),Zi===null&&(s===null||Xo.current!==null||s.memoizedState!==null)&&(Zi=n)}function t0(n){if(n.tag===22){if(Z(Xe,Xe.current),Z(yi,n),Zi===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Zi=n)}}else ws()}function ws(){Z(Xe,Xe.current),Z(yi,yi.current)}function Lr(n){st(yi),Zi===n&&(Zi=null),st(Xe)}var Xe=Y(0);function Qh(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Up(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ym(n,s,a,u){s=n.memoizedState,a=a(u,s),a=a==null?s:_({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Xm={enqueueSetState:function(n,s,a){n=n._reactInternals;var u=ri(),f=Es(u);f.payload=s,a!=null&&(f.callback=a),s=Ts(n,f,u),s!==null&&(si(s,n,u),Nu(s,n,u))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var u=ri(),f=Es(u);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ts(n,f,u),s!==null&&(si(s,n,u),Nu(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=ri(),u=Es(a);u.tag=2,s!=null&&(u.callback=s),s=Ts(n,u,a),s!==null&&(si(s,n,a),Nu(s,n,a))}};function e0(n,s,a,u,f,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,T):s.prototype&&s.prototype.isPureReactComponent?!Tu(a,u)||!Tu(f,m):!0}function n0(n,s,a,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==n&&Xm.enqueueReplaceState(s,s.state,null)}function $a(n,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(n=n.defaultProps){a===s&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var $h=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function i0(n){$h(n)}function r0(n){console.error(n)}function s0(n){$h(n)}function Yh(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function a0(n,s,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Wm(n,s,a){return a=Es(a),a.tag=3,a.payload={element:null},a.callback=function(){Yh(n,s)},a}function o0(n){return n=Es(n),n.tag=3,n}function l0(n,s,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){a0(s,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){a0(s,a,u),typeof f!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function PR(n,s,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Ru(s,a,f,!0),a=yi.current,a!==null){switch(a.tag){case 13:return Zi===null?Tp():a.alternate===null&&Oe===0&&(Oe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Rm?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),Sp(n,u,f)),!1;case 22:return a.flags|=65536,u===Rm?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),Sp(n,u,f)),!1}throw Error(r(435,a.tag))}return Sp(n,u,f),Tp(),!1}if(se)return s=yi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==_m&&(n=Error(r(422),{cause:u}),Au(di(n,a)))):(u!==_m&&(s=Error(r(423),{cause:u}),Au(di(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=di(u,a),f=Wm(n.stateNode,u,f),xm(n,f),Oe!==4&&(Oe=2)),!1;var m=Error(r(520),{cause:u});if(m=di(m,a),Ku===null?Ku=[m]:Ku.push(m),Oe!==4&&(Oe=2),s===null)return!0;u=di(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Wm(a.stateNode,u,n),xm(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Os===null||!Os.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=o0(f),l0(f,n,a,u),xm(a,f),!1}a=a.return}while(a!==null);return!1}var u0=Error(r(461)),sn=!1;function dn(n,s,a,u){s.child=n===null?J_(s,null,a,u):el(s,n.child,a,u)}function c0(n,s,a,u,f){a=a.render;var m=s.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return Ga(s),u=km(n,s,a,T,m,f),S=Vm(),n!==null&&!sn?(Pm(n,s,f),Ur(n,s,f)):(se&&S&&ym(s),s.flags|=1,dn(n,s,u,f),s.child)}function h0(n,s,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!mm(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,f0(n,s,m,u,f)):(n=Ih(a.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!sp(n,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Tu,a(T,u)&&n.ref===s.ref)return Ur(n,s,f)}return s.flags|=1,n=Nr(m,u),n.ref=s.ref,n.return=s,s.child=n}function f0(n,s,a,u,f){if(n!==null){var m=n.memoizedProps;if(Tu(m,u)&&n.ref===s.ref)if(sn=!1,s.pendingProps=u=m,sp(n,f))(n.flags&131072)!==0&&(sn=!0);else return s.lanes=n.lanes,Ur(n,s,f)}return Zm(n,s,a,u,f)}function d0(n,s,a){var u=s.pendingProps,f=u.children,m=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|a:a,n!==null){for(f=s.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return m0(n,s,u,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Mh(s,m!==null?m.cachePool:null),m!==null?f_(s,m):Nm(),t0(s);else return s.lanes=s.childLanes=536870912,m0(n,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Mh(s,m.cachePool),f_(s,m),ws(),s.memoizedState=null):(n!==null&&Mh(s,null),Nm(),ws());return dn(n,s,f,a),s.child}function m0(n,s,a,u){var f=Am();return f=f===null?null:{parent:Ye._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&Mh(s,null),Nm(),t0(s),n!==null&&Ru(n,s,u,!0),null}function Xh(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Zm(n,s,a,u,f){return Ga(s),a=km(n,s,a,u,void 0,f),u=Vm(),n!==null&&!sn?(Pm(n,s,f),Ur(n,s,f)):(se&&u&&ym(s),s.flags|=1,dn(n,s,a,f),s.child)}function p0(n,s,a,u,f,m){return Ga(s),s.updateQueue=null,a=m_(s,u,a,f),d_(n),u=Vm(),n!==null&&!sn?(Pm(n,s,m),Ur(n,s,m)):(se&&u&&ym(s),s.flags|=1,dn(n,s,a,m),s.child)}function g0(n,s,a,u,f){if(Ga(s),s.stateNode===null){var m=Go,T=a.contextType;typeof T=="object"&&T!==null&&(m=Tn(T)),m=new a(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Xm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},Cm(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?Tn(T):Go,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Ym(s,a,T,u),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Xm.enqueueReplaceState(m,m.state,null),Mu(s,u,m,f),Du(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){m=s.stateNode;var S=s.memoizedProps,N=$a(a,S);m.props=N;var K=m.context,J=a.contextType;T=Go,typeof J=="object"&&J!==null&&(T=Tn(J));var nt=a.getDerivedStateFromProps;J=typeof nt=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||K!==T)&&n0(s,m,u,T),_s=!1;var Q=s.memoizedState;m.state=Q,Mu(s,u,m,f),Du(),K=s.memoizedState,S||Q!==K||_s?(typeof nt=="function"&&(Ym(s,a,nt,u),K=s.memoizedState),(N=_s||e0(s,a,N,u,Q,K,T))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),m.props=u,m.state=K,m.context=T,u=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,Im(n,s),T=s.memoizedProps,J=$a(a,T),m.props=J,nt=s.pendingProps,Q=m.context,K=a.contextType,N=Go,typeof K=="object"&&K!==null&&(N=Tn(K)),S=a.getDerivedStateFromProps,(K=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==nt||Q!==N)&&n0(s,m,u,N),_s=!1,Q=s.memoizedState,m.state=Q,Mu(s,u,m,f),Du();var $=s.memoizedState;T!==nt||Q!==$||_s||n!==null&&n.dependencies!==null&&Nh(n.dependencies)?(typeof S=="function"&&(Ym(s,a,S,u),$=s.memoizedState),(J=_s||e0(s,a,J,u,Q,$,N)||n!==null&&n.dependencies!==null&&Nh(n.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,$,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,$,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=$),m.props=u,m.state=$,m.context=N,u=J):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),u=!1)}return m=u,Xh(n,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&u?(s.child=el(s,n.child,null,f),s.child=el(s,null,a,f)):dn(n,s,a,f),s.memoizedState=m.state,n=s.child):n=Ur(n,s,f),n}function y0(n,s,a,u){return wu(),s.flags|=256,dn(n,s,a,u),s.child}var Jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(n){return{baseLanes:n,cachePool:r_()}}function ep(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=vi),n}function v0(n,s,a){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Xe.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,n===null){if(se){if(f?Ss(s):ws(),se){var S=xe,N;if(N=S){t:{for(N=S,S=Wi;N.nodeType!==8;){if(!S){S=null;break t}if(N=Di(N.nextSibling),N===null){S=null;break t}}S=N}S!==null?(s.memoizedState={dehydrated:S,treeContext:Ba!==null?{id:Dr,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},N=ti(18,null,null,0),N.stateNode=S,N.return=s,s.child=N,Mn=s,xe=null,N=!0):N=!1}N||Fa(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Up(S)?s.lanes=32:s.lanes=536870912,null;Lr(s)}return S=u.children,u=u.fallback,f?(ws(),f=s.mode,S=Wh({mode:"hidden",children:S},f),u=ja(u,f,a,null),S.return=s,u.return=s,S.sibling=u,s.child=S,f=s.child,f.memoizedState=tp(a),f.childLanes=ep(n,T,a),s.memoizedState=Jm,u):(Ss(s),np(s,S))}if(N=n.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(m)s.flags&256?(Ss(s),s.flags&=-257,s=ip(n,s,a)):s.memoizedState!==null?(ws(),s.child=n.child,s.flags|=128,s=null):(ws(),f=u.fallback,S=s.mode,u=Wh({mode:"visible",children:u.children},S),f=ja(f,S,a,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,el(s,n.child,null,a),u=s.child,u.memoizedState=tp(a),u.childLanes=ep(n,T,a),s.memoizedState=Jm,s=f);else if(Ss(s),Up(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(r(419)),u.stack="",u.digest=T,Au({value:u,source:null,stack:null}),s=ip(n,s,a)}else if(sn||Ru(n,s,a,!1),T=(a&n.childLanes)!==0,sn||T){if(T=ye,T!==null&&(u=a&-a,u=(u&42)!==0?1:ve(u),u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,qo(n,u),si(T,n,u),u0;S.data==="$?"||Tp(),s=ip(n,s,a)}else S.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=N.treeContext,xe=Di(S.nextSibling),Mn=s,se=!0,Ha=null,Wi=!1,n!==null&&(pi[gi++]=Dr,pi[gi++]=Mr,pi[gi++]=Ba,Dr=n.id,Mr=n.overflow,Ba=s),s=np(s,u.children),s.flags|=4096);return s}return f?(ws(),f=u.fallback,S=s.mode,N=n.child,K=N.sibling,u=Nr(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,K!==null?f=Nr(K,f):(f=ja(f,S,a,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,S=n.child.memoizedState,S===null?S=tp(a):(N=S.cachePool,N!==null?(K=Ye._currentValue,N=N.parent!==K?{parent:K,pool:K}:N):N=r_(),S={baseLanes:S.baseLanes|a,cachePool:N}),f.memoizedState=S,f.childLanes=ep(n,T,a),s.memoizedState=Jm,u):(Ss(s),a=n.child,n=a.sibling,a=Nr(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,n!==null&&(T=s.deletions,T===null?(s.deletions=[n],s.flags|=16):T.push(n)),s.child=a,s.memoizedState=null,a)}function np(n,s){return s=Wh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Wh(n,s){return n=ti(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ip(n,s,a){return el(s,n.child,null,a),n=np(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function _0(n,s,a){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Tm(n.return,s,a)}function rp(n,s,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function E0(n,s,a){var u=s.pendingProps,f=u.revealOrder,m=u.tail;if(dn(n,s,u.children,a),u=Xe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_0(n,a,s);else if(n.tag===19)_0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Z(Xe,u),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Qh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),rp(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Qh(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}rp(s,!0,a,null,m);break;case"together":rp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ur(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),xs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ru(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Nr(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Nr(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function sp(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Nh(n)))}function LR(n,s,a){switch(s.tag){case 3:qt(s,s.stateNode.containerInfo),vs(s,Ye,n.memoizedState.cache),wu();break;case 27:case 5:De(s);break;case 4:qt(s,s.stateNode.containerInfo);break;case 10:vs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ss(s),s.flags|=128,null):(a&s.child.childLanes)!==0?v0(n,s,a):(Ss(s),n=Ur(n,s,a),n!==null?n.sibling:null);Ss(s);break;case 19:var f=(n.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Ru(n,s,a,!1),u=(a&s.childLanes)!==0),f){if(u)return E0(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(Xe,Xe.current),u)break;return null;case 22:case 23:return s.lanes=0,d0(n,s,a);case 24:vs(s,Ye,n.memoizedState.cache)}return Ur(n,s,a)}function T0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)sn=!0;else{if(!sp(n,a)&&(s.flags&128)===0)return sn=!1,LR(n,s,a);sn=(n.flags&131072)!==0}else sn=!1,se&&(s.flags&1048576)!==0&&Wv(s,Oh,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")mm(u)?(n=$a(u,n),s.tag=1,s=g0(null,s,u,n,a)):(s.tag=0,s=Zm(null,s,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===at){s.tag=11,s=c0(null,s,u,n,a);break t}else if(f===k){s.tag=14,s=h0(null,s,u,n,a);break t}}throw s=kt(u)||u,Error(r(306,s,""))}}return s;case 0:return Zm(n,s,s.type,s.pendingProps,a);case 1:return u=s.type,f=$a(u,s.pendingProps),g0(n,s,u,f,a);case 3:t:{if(qt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,Im(n,s),Mu(s,u,null,a);var T=s.memoizedState;if(u=T.cache,vs(s,Ye,u),u!==m.cache&&bm(s,[Ye],a,!0),Du(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=y0(n,s,u,a);break t}else if(u!==f){f=di(Error(r(424)),s),Au(f),s=y0(n,s,u,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(xe=Di(n.firstChild),Mn=s,se=!0,Ha=null,Wi=!0,a=J_(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wu(),u===f){s=Ur(n,s,a);break t}dn(n,s,u,a)}s=s.child}return s;case 26:return Xh(n,s),n===null?(a=AE(s.type,null,s.pendingProps,null))?s.memoizedState=a:se||(a=s.type,n=s.pendingProps,u=ff(pt.current).createElement(a),u[Te]=s,u[ie]=n,pn(u,a,n),Me(u),s.stateNode=u):s.memoizedState=AE(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return De(s),n===null&&se&&(u=s.stateNode=bE(s.type,s.pendingProps,pt.current),Mn=s,Wi=!0,f=xe,Ms(s.type)?(jp=f,xe=Di(u.firstChild)):xe=f),dn(n,s,s.pendingProps.children,a),Xh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&se&&((f=u=xe)&&(u=hC(u,s.type,s.pendingProps,Wi),u!==null?(s.stateNode=u,Mn=s,xe=Di(u.firstChild),Wi=!1,f=!0):f=!1),f||Fa(s)),De(s),f=s.type,m=s.pendingProps,T=n!==null?n.memoizedProps:null,u=m.children,Vp(f,m)?u=null:T!==null&&Vp(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=km(n,s,xR,null,null,a),ec._currentValue=f),Xh(n,s),dn(n,s,u,a),s.child;case 6:return n===null&&se&&((n=a=xe)&&(a=fC(a,s.pendingProps,Wi),a!==null?(s.stateNode=a,Mn=s,xe=null,n=!0):n=!1),n||Fa(s)),null;case 13:return v0(n,s,a);case 4:return qt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=el(s,null,u,a):dn(n,s,u,a),s.child;case 11:return c0(n,s,s.type,s.pendingProps,a);case 7:return dn(n,s,s.pendingProps,a),s.child;case 8:return dn(n,s,s.pendingProps.children,a),s.child;case 12:return dn(n,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,vs(s,s.type,u.value),dn(n,s,u.children,a),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Ga(s),f=Tn(f),u=u(f),s.flags|=1,dn(n,s,u,a),s.child;case 14:return h0(n,s,s.type,s.pendingProps,a);case 15:return f0(n,s,s.type,s.pendingProps,a);case 19:return E0(n,s,a);case 31:return u=s.pendingProps,a=s.mode,u={mode:u.mode,children:u.children},n===null?(a=Wh(u,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Nr(n.child,u),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return d0(n,s,a);case 24:return Ga(s),u=Tn(Ye),n===null?(f=Am(),f===null&&(f=ye,m=Sm(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:u,cache:f},Cm(s),vs(s,Ye,f)):((n.lanes&a)!==0&&(Im(n,s),Mu(s,null,null,a),Du()),f=n.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),vs(s,Ye,u)):(u=m.cache,vs(s,Ye,u),u!==f.cache&&bm(s,[Ye],a,!0))),dn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function jr(n){n.flags|=4}function b0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!OE(s)){if(s=yi.current,s!==null&&((te&4194048)===te?Zi!==null:(te&62914560)!==te&&(te&536870912)===0||s!==Zi))throw Ou=Rm,s_;n.flags|=8192}}function Zh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?ba():536870912,n.lanes|=s,sl|=s)}function Bu(n,s){if(!se)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ae(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,s}function UR(n,s,a){var u=s.pendingProps;switch(vm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(s),null;case 1:return Ae(s),null;case 3:return a=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Vr(Ye),Ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Su(s)?jr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,t_())),Ae(s),null;case 26:return a=s.memoizedState,n===null?(jr(s),a!==null?(Ae(s),b0(s,a)):(Ae(s),s.flags&=-16777217)):a?a!==n.memoizedState?(jr(s),Ae(s),b0(s,a)):(Ae(s),s.flags&=-16777217):(n.memoizedProps!==u&&jr(s),Ae(s),s.flags&=-16777217),null;case 27:En(s),a=pt.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&jr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Ae(s),null}n=ft.current,Su(s)?Zv(s):(n=bE(f,u,a),s.stateNode=n,jr(s))}return Ae(s),null;case 5:if(En(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&jr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Ae(s),null}if(n=ft.current,Su(s))Zv(s);else{switch(f=ff(pt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Te]=s,n[ie]=u;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;t:switch(pn(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&jr(s)}}return Ae(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&jr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=pt.current,Su(s)){if(n=s.stateNode,a=s.memoizedProps,u=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Te]=s,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||pE(n.nodeValue,a)),n||Fa(s)}else n=ff(n).createTextNode(u),n[Te]=s,s.stateNode=n}return Ae(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Su(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Te]=s}else wu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ae(s),f=!1}else f=t_(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Lr(s),s):(Lr(s),null)}if(Lr(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Zh(s,s.updateQueue),Ae(s),null;case 4:return Ce(),n===null&&Op(s.stateNode.containerInfo),Ae(s),null;case 10:return Vr(s.type),Ae(s),null;case 19:if(st(Xe),f=s.memoizedState,f===null)return Ae(s),null;if(u=(s.flags&128)!==0,m=f.rendering,m===null)if(u)Bu(f,!1);else{if(Oe!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Qh(n),m!==null){for(s.flags|=128,Bu(f,!1),n=m.updateQueue,s.updateQueue=n,Zh(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Xv(a,n),a=a.sibling;return Z(Xe,Xe.current&1|2),s.child}n=n.sibling}f.tail!==null&&_e()>ef&&(s.flags|=128,u=!0,Bu(f,!1),s.lanes=4194304)}else{if(!u)if(n=Qh(m),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,Zh(s,n),Bu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!se)return Ae(s),null}else 2*_e()-f.renderingStartTime>ef&&a!==536870912&&(s.flags|=128,u=!0,Bu(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(n=f.last,n!==null?n.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=_e(),s.sibling=null,n=Xe.current,Z(Xe,u?n&1|2:n&1),s):(Ae(s),null);case 22:case 23:return Lr(s),Dm(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(Ae(s),s.subtreeFlags&6&&(s.flags|=8192)):Ae(s),a=s.updateQueue,a!==null&&Zh(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),n!==null&&st(Ka),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Vr(Ye),Ae(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function jR(n,s){switch(vm(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Vr(Ye),Ce(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return En(s),null;case 13:if(Lr(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));wu()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return st(Xe),null;case 4:return Ce(),null;case 10:return Vr(s.type),null;case 22:case 23:return Lr(s),Dm(),n!==null&&st(Ka),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Vr(Ye),null;case 25:return null;default:return null}}function S0(n,s){switch(vm(s),s.tag){case 3:Vr(Ye),Ce();break;case 26:case 27:case 5:En(s);break;case 4:Ce();break;case 13:Lr(s);break;case 19:st(Xe);break;case 10:Vr(s.type);break;case 22:case 23:Lr(s),Dm(),n!==null&&st(Ka);break;case 24:Vr(Ye)}}function zu(n,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,T=a.inst;u=m(),T.destroy=u}a=a.next}while(a!==f)}}catch(S){ge(s,s.return,S)}}function As(n,s,a){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=s;var N=a,K=S;try{K()}catch(J){ge(f,N,J)}}}u=u.next}while(u!==m)}}catch(J){ge(s,s.return,J)}}function w0(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{h_(s,a)}catch(u){ge(n,n.return,u)}}}function A0(n,s,a){a.props=$a(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){ge(n,s,u)}}function Hu(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(f){ge(n,s,f)}}function Ji(n,s){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){ge(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ge(n,s,f)}else a.current=null}function R0(n){var s=n.type,a=n.memoizedProps,u=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){ge(n,n.return,f)}}function ap(n,s,a){try{var u=n.stateNode;aC(u,n.type,a,s),u[ie]=s}catch(f){ge(n,n.return,f)}}function C0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ms(n.type)||n.tag===4}function op(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||C0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ms(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lp(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=hf));else if(u!==4&&(u===27&&Ms(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(lp(n,s,a),n=n.sibling;n!==null;)lp(n,s,a),n=n.sibling}function Jh(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(u!==4&&(u===27&&Ms(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Jh(n,s,a),n=n.sibling;n!==null;)Jh(n,s,a),n=n.sibling}function I0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);pn(s,u,a),s[Te]=n,s[ie]=a}catch(m){ge(n,n.return,m)}}var Br=!1,Ve=!1,up=!1,x0=typeof WeakSet=="function"?WeakSet:Set,an=null;function BR(n,s){if(n=n.containerInfo,Mp=vf,n=Bv(n),om(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,S=-1,N=-1,K=0,J=0,nt=n,Q=null;e:for(;;){for(var $;nt!==a||f!==0&&nt.nodeType!==3||(S=T+f),nt!==m||u!==0&&nt.nodeType!==3||(N=T+u),nt.nodeType===3&&(T+=nt.nodeValue.length),($=nt.firstChild)!==null;)Q=nt,nt=$;for(;;){if(nt===n)break e;if(Q===a&&++K===f&&(S=T),Q===m&&++J===u&&(N=T),($=nt.nextSibling)!==null)break;nt=Q,Q=nt.parentNode}nt=$}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(kp={focusedElem:n,selectionRange:a},vf=!1,an=s;an!==null;)if(s=an,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,an=n;else for(;an!==null;){switch(s=an,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var Nt=$a(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(Nt,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Rt){ge(a,a.return,Rt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Lp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Lp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,an=n;break}an=s.return}}function O0(n,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Rs(n,a),u&4&&zu(5,a);break;case 1:if(Rs(n,a),u&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(T){ge(a,a.return,T)}else{var f=$a(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(T){ge(a,a.return,T)}}u&64&&w0(a),u&512&&Hu(a,a.return);break;case 3:if(Rs(n,a),u&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{h_(n,s)}catch(T){ge(a,a.return,T)}}break;case 27:s===null&&u&4&&I0(a);case 26:case 5:Rs(n,a),s===null&&u&4&&R0(a),u&512&&Hu(a,a.return);break;case 12:Rs(n,a);break;case 13:Rs(n,a),u&4&&M0(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=YR.bind(null,a),dC(n,a))));break;case 22:if(u=a.memoizedState!==null||Br,!u){s=s!==null&&s.memoizedState!==null||Ve,f=Br;var m=Ve;Br=u,(Ve=s)&&!m?Cs(n,a,(a.subtreeFlags&8772)!==0):Rs(n,a),Br=f,Ve=m}break;case 30:break;default:Rs(n,a)}}function N0(n){var s=n.alternate;s!==null&&(n.alternate=null,N0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&ms(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Se=null,Hn=!1;function zr(n,s,a){for(a=a.child;a!==null;)D0(n,s,a),a=a.sibling}function D0(n,s,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(_t,a)}catch{}switch(a.tag){case 26:Ve||Ji(a,s),zr(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||Ji(a,s);var u=Se,f=Hn;Ms(a.type)&&(Se=a.stateNode,Hn=!1),zr(n,s,a),Wu(a.stateNode),Se=u,Hn=f;break;case 5:Ve||Ji(a,s);case 6:if(u=Se,f=Hn,Se=null,zr(n,s,a),Se=u,Hn=f,Se!==null)if(Hn)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(a.stateNode)}catch(m){ge(a,s,m)}else try{Se.removeChild(a.stateNode)}catch(m){ge(a,s,m)}break;case 18:Se!==null&&(Hn?(n=Se,EE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),sc(n)):EE(Se,a.stateNode));break;case 4:u=Se,f=Hn,Se=a.stateNode.containerInfo,Hn=!0,zr(n,s,a),Se=u,Hn=f;break;case 0:case 11:case 14:case 15:Ve||As(2,a,s),Ve||As(4,a,s),zr(n,s,a);break;case 1:Ve||(Ji(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&A0(a,s,u)),zr(n,s,a);break;case 21:zr(n,s,a);break;case 22:Ve=(u=Ve)||a.memoizedState!==null,zr(n,s,a),Ve=u;break;default:zr(n,s,a)}}function M0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{sc(n)}catch(a){ge(s,s.return,a)}}function zR(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new x0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new x0),s;default:throw Error(r(435,n.tag))}}function cp(n,s){var a=zR(n);s.forEach(function(u){var f=XR.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function ei(n,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,T=s,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(Ms(S.type)){Se=S.stateNode,Hn=!1;break t}break;case 5:Se=S.stateNode,Hn=!1;break t;case 3:case 4:Se=S.stateNode.containerInfo,Hn=!0;break t}S=S.return}if(Se===null)throw Error(r(160));D0(m,T,f),Se=null,Hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)k0(s,n),s=s.sibling}var Ni=null;function k0(n,s){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ei(s,n),ni(n),u&4&&(As(3,n,n.return),zu(3,n),As(5,n,n.return));break;case 1:ei(s,n),ni(n),u&512&&(Ve||a===null||Ji(a,a.return)),u&64&&Br&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Ni;if(ei(s,n),ni(n),u&512&&(Ve||a===null||Ji(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){t:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Sa]||m[Te]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),pn(m,u,a),m[Te]=n,Me(m),u=m;break t;case"link":var T=IE("link","href",f).get(u+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break e}}m=f.createElement(u),pn(m,u,a),f.head.appendChild(m);break;case"meta":if(T=IE("meta","content",f).get(u+(a.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break e}}m=f.createElement(u),pn(m,u,a),f.head.appendChild(m);break;default:throw Error(r(468,u))}m[Te]=n,Me(m),u=m}n.stateNode=u}else xE(f,n.type,n.stateNode);else n.stateNode=CE(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?xE(f,n.type,n.stateNode):CE(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&ap(n,n.memoizedProps,a.memoizedProps)}break;case 27:ei(s,n),ni(n),u&512&&(Ve||a===null||Ji(a,a.return)),a!==null&&u&4&&ap(n,n.memoizedProps,a.memoizedProps);break;case 5:if(ei(s,n),ni(n),u&512&&(Ve||a===null||Ji(a,a.return)),n.flags&32){f=n.stateNode;try{ui(f,"")}catch($){ge(n,n.return,$)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,ap(n,f,a!==null?a.memoizedProps:f)),u&1024&&(up=!0);break;case 6:if(ei(s,n),ni(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch($){ge(n,n.return,$)}}break;case 3:if(pf=null,f=Ni,Ni=df(s.containerInfo),ei(s,n),Ni=f,ni(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{sc(s.containerInfo)}catch($){ge(n,n.return,$)}up&&(up=!1,V0(n));break;case 4:u=Ni,Ni=df(n.stateNode.containerInfo),ei(s,n),ni(n),Ni=u;break;case 12:ei(s,n),ni(n);break;case 13:ei(s,n),ni(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gp=_e()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,cp(n,u)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,K=Br,J=Ve;if(Br=K||f,Ve=J||N,ei(s,n),Ve=J,Br=K,ni(n),u&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||N||Br||Ve||Ya(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){N=a=s;try{if(m=N.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=N.stateNode;var nt=N.memoizedProps.style,Q=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch($){ge(N,N.return,$)}}}else if(s.tag===6){if(a===null){N=s;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch($){ge(N,N.return,$)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,cp(n,a))));break;case 19:ei(s,n),ni(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,cp(n,u)));break;case 30:break;case 21:break;default:ei(s,n),ni(n)}}function ni(n){var s=n.flags;if(s&2){try{for(var a,u=n.return;u!==null;){if(C0(u)){a=u;break}u=u.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=op(n);Jh(n,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(ui(T,""),a.flags&=-33);var S=op(n);Jh(n,S,T);break;case 3:case 4:var N=a.stateNode.containerInfo,K=op(n);lp(n,K,N);break;default:throw Error(r(161))}}catch(J){ge(n,n.return,J)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function V0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;V0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Rs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)O0(n,s.alternate,s),s=s.sibling}function Ya(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:As(4,s,s.return),Ya(s);break;case 1:Ji(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&A0(s,s.return,a),Ya(s);break;case 27:Wu(s.stateNode);case 26:case 5:Ji(s,s.return),Ya(s);break;case 22:s.memoizedState===null&&Ya(s);break;case 30:Ya(s);break;default:Ya(s)}n=n.sibling}}function Cs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:Cs(f,m,a),zu(4,m);break;case 1:if(Cs(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){ge(u,u.return,K)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)c_(N[f],S)}catch(K){ge(u,u.return,K)}}a&&T&64&&w0(m),Hu(m,m.return);break;case 27:I0(m);case 26:case 5:Cs(f,m,a),a&&u===null&&T&4&&R0(m),Hu(m,m.return);break;case 12:Cs(f,m,a);break;case 13:Cs(f,m,a),a&&T&4&&M0(f,m);break;case 22:m.memoizedState===null&&Cs(f,m,a),Hu(m,m.return);break;case 30:break;default:Cs(f,m,a)}s=s.sibling}}function hp(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Cu(a))}function fp(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Cu(n))}function tr(n,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)P0(n,s,a,u),s=s.sibling}function P0(n,s,a,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:tr(n,s,a,u),f&2048&&zu(9,s);break;case 1:tr(n,s,a,u);break;case 3:tr(n,s,a,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Cu(n)));break;case 12:if(f&2048){tr(n,s,a,u),n=s.stateNode;try{var m=s.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){ge(s,s.return,N)}}else tr(n,s,a,u);break;case 13:tr(n,s,a,u);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?tr(n,s,a,u):Fu(n,s):m._visibility&2?tr(n,s,a,u):(m._visibility|=2,nl(n,s,a,u,(s.subtreeFlags&10256)!==0)),f&2048&&hp(T,s);break;case 24:tr(n,s,a,u),f&2048&&fp(s.alternate,s);break;default:tr(n,s,a,u)}}function nl(n,s,a,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,T=s,S=a,N=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:nl(m,T,S,N,f),zu(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?nl(m,T,S,N,f):Fu(m,T):(J._visibility|=2,nl(m,T,S,N,f)),f&&K&2048&&hp(T.alternate,T);break;case 24:nl(m,T,S,N,f),f&&K&2048&&fp(T.alternate,T);break;default:nl(m,T,S,N,f)}s=s.sibling}}function Fu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,u=s,f=u.flags;switch(u.tag){case 22:Fu(a,u),f&2048&&hp(u.alternate,u);break;case 24:Fu(a,u),f&2048&&fp(u.alternate,u);break;default:Fu(a,u)}s=s.sibling}}var qu=8192;function il(n){if(n.subtreeFlags&qu)for(n=n.child;n!==null;)L0(n),n=n.sibling}function L0(n){switch(n.tag){case 26:il(n),n.flags&qu&&n.memoizedState!==null&&RC(Ni,n.memoizedState,n.memoizedProps);break;case 5:il(n);break;case 3:case 4:var s=Ni;Ni=df(n.stateNode.containerInfo),il(n),Ni=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=qu,qu=16777216,il(n),qu=s):il(n));break;default:il(n)}}function U0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Gu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];an=u,B0(u,n)}U0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)j0(n),n=n.sibling}function j0(n){switch(n.tag){case 0:case 11:case 15:Gu(n),n.flags&2048&&As(9,n,n.return);break;case 3:Gu(n);break;case 12:Gu(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,tf(n)):Gu(n);break;default:Gu(n)}}function tf(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];an=u,B0(u,n)}U0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:As(8,s,s.return),tf(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,tf(s));break;default:tf(s)}n=n.sibling}}function B0(n,s){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:As(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cu(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,an=u;else t:for(a=n;an!==null;){u=an;var f=u.sibling,m=u.return;if(N0(u),u===a){an=null;break t}if(f!==null){f.return=m,an=f;break t}an=m}}}var HR={getCacheForType:function(n){var s=Tn(Ye),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},FR=typeof WeakMap=="function"?WeakMap:Map,ce=0,ye=null,Kt=null,te=0,he=0,ii=null,Is=!1,rl=!1,dp=!1,Hr=0,Oe=0,xs=0,Xa=0,mp=0,vi=0,sl=0,Ku=null,Fn=null,pp=!1,gp=0,ef=1/0,nf=null,Os=null,mn=0,Ns=null,al=null,ol=0,yp=0,vp=null,z0=null,Qu=0,_p=null;function ri(){if((ce&2)!==0&&te!==0)return te&-te;if(F.T!==null){var n=$o;return n!==0?n:Rp()}return Wn()}function H0(){vi===0&&(vi=(te&536870912)===0||se?Bn():536870912);var n=yi.current;return n!==null&&(n.flags|=32),vi}function si(n,s,a){(n===ye&&(he===2||he===9)||n.cancelPendingCommit!==null)&&(ll(n,0),Ds(n,te,vi,!1)),li(n,a),((ce&2)===0||n!==ye)&&(n===ye&&((ce&2)===0&&(Xa|=a),Oe===4&&Ds(n,te,vi,!1)),er(n))}function F0(n,s,a){if((ce&6)!==0)throw Error(r(327));var u=!a&&(s&124)===0&&(s&n.expiredLanes)===0||vr(n,s),f=u?KR(n,s):bp(n,s,!0),m=u;do{if(f===0){rl&&!u&&Ds(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!qR(a)){f=bp(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var S=n;f=Ku;var N=S.current.memoizedState.isDehydrated;if(N&&(ll(S,T).flags|=256),T=bp(S,T,!1),T!==2){if(dp&&!N){S.errorRecoveryDisabledLanes|=m,Xa|=m,f=4;break t}m=Fn,Fn=f,m!==null&&(Fn===null?Fn=m:Fn.push.apply(Fn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){ll(n,0),Ds(n,s,0,!0);break}t:{switch(u=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ds(u,s,vi,!Is);break t;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=gp+300-_e(),10<f)){if(Ds(u,s,vi,!Is),yr(u,0,!0)!==0)break t;u.timeoutHandle=vE(q0.bind(null,u,a,Fn,nf,pp,s,vi,Xa,sl,Is,m,2,-0,0),f);break t}q0(u,a,Fn,nf,pp,s,vi,Xa,sl,Is,m,0,-0,0)}}break}while(!0);er(n)}function q0(n,s,a,u,f,m,T,S,N,K,J,nt,Q,$){if(n.timeoutHandle=-1,nt=s.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(tc={stylesheets:null,count:0,unsuspend:AC},L0(s),nt=CC(),nt!==null)){n.cancelPendingCommit=nt(W0.bind(null,n,s,m,a,u,f,T,S,N,J,1,Q,$)),Ds(n,m,T,!K);return}W0(n,s,m,a,u,f,T,S,N)}function qR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!Jn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ds(n,s,a,u){s&=~mp,s&=~Xa,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var m=31-Le(f),T=1<<m;u[m]=-1,f&=~T}a!==0&&At(n,a,s)}function rf(){return(ce&6)===0?($u(0),!1):!0}function Ep(){if(Kt!==null){if(he===0)var n=Kt.return;else n=Kt,kr=qa=null,Lm(n),tl=null,Uu=0,n=Kt;for(;n!==null;)S0(n.alternate,n),n=n.return;Kt=null}}function ll(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,lC(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Ep(),ye=n,Kt=a=Nr(n.current,null),te=s,he=0,ii=null,Is=!1,rl=vr(n,s),dp=!1,sl=vi=mp=Xa=xs=Oe=0,Fn=Ku=null,pp=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-Le(u),m=1<<f;s|=n[f],u&=~m}return Hr=s,Ah(),a}function G0(n,s){Bt=null,F.H=qh,s===xu||s===kh?(s=l_(),he=3):s===s_?(s=l_(),he=4):he=s===u0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ii=s,Kt===null&&(Oe=1,Yh(n,di(s,n.current)))}function K0(){var n=F.H;return F.H=qh,n===null?qh:n}function Q0(){var n=F.A;return F.A=HR,n}function Tp(){Oe=4,Is||(te&4194048)!==te&&yi.current!==null||(rl=!0),(xs&134217727)===0&&(Xa&134217727)===0||ye===null||Ds(ye,te,vi,!1)}function bp(n,s,a){var u=ce;ce|=2;var f=K0(),m=Q0();(ye!==n||te!==s)&&(nf=null,ll(n,s)),s=!1;var T=Oe;t:do try{if(he!==0&&Kt!==null){var S=Kt,N=ii;switch(he){case 8:Ep(),T=6;break t;case 3:case 2:case 9:case 6:yi.current===null&&(s=!0);var K=he;if(he=0,ii=null,ul(n,S,N,K),a&&rl){T=0;break t}break;default:K=he,he=0,ii=null,ul(n,S,N,K)}}GR(),T=Oe;break}catch(J){G0(n,J)}while(!0);return s&&n.shellSuspendCounter++,kr=qa=null,ce=u,F.H=f,F.A=m,Kt===null&&(ye=null,te=0,Ah()),T}function GR(){for(;Kt!==null;)$0(Kt)}function KR(n,s){var a=ce;ce|=2;var u=K0(),f=Q0();ye!==n||te!==s?(nf=null,ef=_e()+500,ll(n,s)):rl=vr(n,s);t:do try{if(he!==0&&Kt!==null){s=Kt;var m=ii;e:switch(he){case 1:he=0,ii=null,ul(n,s,m,1);break;case 2:case 9:if(a_(m)){he=0,ii=null,Y0(s);break}s=function(){he!==2&&he!==9||ye!==n||(he=7),er(n)},m.then(s,s);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:a_(m)?(he=0,ii=null,Y0(s)):(he=0,ii=null,ul(n,s,m,7));break;case 5:var T=null;switch(Kt.tag){case 26:T=Kt.memoizedState;case 5:case 27:var S=Kt;if(!T||OE(T)){he=0,ii=null;var N=S.sibling;if(N!==null)Kt=N;else{var K=S.return;K!==null?(Kt=K,sf(K)):Kt=null}break e}}he=0,ii=null,ul(n,s,m,5);break;case 6:he=0,ii=null,ul(n,s,m,6);break;case 8:Ep(),Oe=6;break t;default:throw Error(r(462))}}QR();break}catch(J){G0(n,J)}while(!0);return kr=qa=null,F.H=u,F.A=f,ce=a,Kt!==null?0:(ye=null,te=0,Ah(),Oe)}function QR(){for(;Kt!==null&&!ne();)$0(Kt)}function $0(n){var s=T0(n.alternate,n,Hr);n.memoizedProps=n.pendingProps,s===null?sf(n):Kt=s}function Y0(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=p0(a,s,s.pendingProps,s.type,void 0,te);break;case 11:s=p0(a,s,s.pendingProps,s.type.render,s.ref,te);break;case 5:Lm(s);default:S0(a,s),s=Kt=Xv(s,Hr),s=T0(a,s,Hr)}n.memoizedProps=n.pendingProps,s===null?sf(n):Kt=s}function ul(n,s,a,u){kr=qa=null,Lm(s),tl=null,Uu=0;var f=s.return;try{if(PR(n,f,s,a,te)){Oe=1,Yh(n,di(a,n.current)),Kt=null;return}}catch(m){if(f!==null)throw Kt=f,m;Oe=1,Yh(n,di(a,n.current)),Kt=null;return}s.flags&32768?(se||u===1?n=!0:rl||(te&536870912)!==0?n=!1:(Is=n=!0,(u===2||u===9||u===3||u===6)&&(u=yi.current,u!==null&&u.tag===13&&(u.flags|=16384))),X0(s,n)):sf(s)}function sf(n){var s=n;do{if((s.flags&32768)!==0){X0(s,Is);return}n=s.return;var a=UR(s.alternate,s,Hr);if(a!==null){Kt=a;return}if(s=s.sibling,s!==null){Kt=s;return}Kt=s=n}while(s!==null);Oe===0&&(Oe=5)}function X0(n,s){do{var a=jR(n.alternate,n);if(a!==null){a.flags&=32767,Kt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Kt=n;return}Kt=n=a}while(n!==null);Oe=6,Kt=null}function W0(n,s,a,u,f,m,T,S,N){n.cancelPendingCommit=null;do af();while(mn!==0);if((ce&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=fm,fs(n,a,m,T,S,N),n===ye&&(Kt=ye=null,te=0),al=s,Ns=n,ol=a,yp=m,vp=f,z0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,WR(wi,function(){return nE(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=F.T,F.T=null,f=ut.p,ut.p=2,T=ce,ce|=4;try{BR(n,s,a)}finally{ce=T,ut.p=f,F.T=u}}mn=1,Z0(),J0(),tE()}}function Z0(){if(mn===1){mn=0;var n=Ns,s=al,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var u=ut.p;ut.p=2;var f=ce;ce|=4;try{k0(s,n);var m=kp,T=Bv(n.containerInfo),S=m.focusedElem,N=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&jv(S.ownerDocument.documentElement,S)){if(N!==null&&om(S)){var K=N.start,J=N.end;if(J===void 0&&(J=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(J,S.value.length);else{var nt=S.ownerDocument||document,Q=nt&&nt.defaultView||window;if(Q.getSelection){var $=Q.getSelection(),Nt=S.textContent.length,Rt=Math.min(N.start,Nt),pe=N.end===void 0?Rt:Math.min(N.end,Nt);!$.extend&&Rt>pe&&(T=pe,pe=Rt,Rt=T);var z=Uv(S,Rt),j=Uv(S,pe);if(z&&j&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var G=nt.createRange();G.setStart(z.node,z.offset),$.removeAllRanges(),Rt>pe?($.addRange(G),$.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),$.addRange(G))}}}}for(nt=[],$=S;$=$.parentNode;)$.nodeType===1&&nt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var tt=nt[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}vf=!!Mp,kp=Mp=null}finally{ce=f,ut.p=u,F.T=a}}n.current=s,mn=2}}function J0(){if(mn===2){mn=0;var n=Ns,s=al,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var u=ut.p;ut.p=2;var f=ce;ce|=4;try{O0(n,s.alternate,s)}finally{ce=f,ut.p=u,F.T=a}}mn=3}}function tE(){if(mn===4||mn===3){mn=0,oi();var n=Ns,s=al,a=ol,u=z0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?mn=5:(mn=0,al=Ns=null,eE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Os=null),Ue(a),s=s.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(_t,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=F.T,f=ut.p,ut.p=2,F.T=null;try{for(var m=n.onRecoverableError,T=0;T<u.length;T++){var S=u[T];m(S.value,{componentStack:S.stack})}}finally{F.T=s,ut.p=f}}(ol&3)!==0&&af(),er(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===_p?Qu++:(Qu=0,_p=n):Qu=0,$u(0)}}function eE(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Cu(s)))}function af(n){return Z0(),J0(),tE(),nE()}function nE(){if(mn!==5)return!1;var n=Ns,s=yp;yp=0;var a=Ue(ol),u=F.T,f=ut.p;try{ut.p=32>a?32:a,F.T=null,a=vp,vp=null;var m=Ns,T=ol;if(mn=0,al=Ns=null,ol=0,(ce&6)!==0)throw Error(r(331));var S=ce;if(ce|=4,j0(m.current),P0(m,m.current,T,a),ce=S,$u(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(_t,m)}catch{}return!0}finally{ut.p=f,F.T=u,eE(n,s)}}function iE(n,s,a){s=di(a,s),s=Wm(n.stateNode,s,2),n=Ts(n,s,2),n!==null&&(li(n,2),er(n))}function ge(n,s,a){if(n.tag===3)iE(n,n,a);else for(;s!==null;){if(s.tag===3){iE(s,n,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Os===null||!Os.has(u))){n=di(a,n),a=o0(2),u=Ts(s,a,2),u!==null&&(l0(a,u,s,n),li(u,2),er(u));break}}s=s.return}}function Sp(n,s,a){var u=n.pingCache;if(u===null){u=n.pingCache=new FR;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(a)||(dp=!0,f.add(a),n=$R.bind(null,n,s,a),s.then(n,n))}function $R(n,s,a){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ye===n&&(te&a)===a&&(Oe===4||Oe===3&&(te&62914560)===te&&300>_e()-gp?(ce&2)===0&&ll(n,0):mp|=a,sl===te&&(sl=0)),er(n)}function rE(n,s){s===0&&(s=ba()),n=qo(n,s),n!==null&&(li(n,s),er(n))}function YR(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),rE(n,a)}function XR(n,s){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),rE(n,a)}function WR(n,s){return In(n,s)}var of=null,cl=null,wp=!1,lf=!1,Ap=!1,Wa=0;function er(n){n!==cl&&n.next===null&&(cl===null?of=cl=n:cl=cl.next=n),lf=!0,wp||(wp=!0,JR())}function $u(n,s){if(!Ap&&lf){Ap=!0;do for(var a=!1,u=of;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Le(42|n)+1)-1,m&=f&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,lE(u,m))}else m=te,m=yr(u,u===ye?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||vr(u,m)||(a=!0,lE(u,m));u=u.next}while(a);Ap=!1}}function ZR(){sE()}function sE(){lf=wp=!1;var n=0;Wa!==0&&(oC()&&(n=Wa),Wa=0);for(var s=_e(),a=null,u=of;u!==null;){var f=u.next,m=aE(u,s);m===0?(u.next=null,a===null?of=f:a.next=f,f===null&&(cl=a)):(a=u,(n!==0||(m&3)!==0)&&(lf=!0)),u=f}$u(n)}function aE(n,s){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Le(m),S=1<<T,N=f[T];N===-1?((S&a)===0||(S&u)!==0)&&(f[T]=_r(S,s)):N<=s&&(n.expiredLanes|=S),m&=~S}if(s=ye,a=te,a=yr(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===s&&(he===2||he===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&en(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||vr(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(u!==null&&en(u),Ue(a)){case 2:case 8:a=ji;break;case 32:a=wi;break;case 268435456:a=xn;break;default:a=wi}return u=oE.bind(null,n),a=In(a,u),n.callbackPriority=s,n.callbackNode=a,s}return u!==null&&u!==null&&en(u),n.callbackPriority=2,n.callbackNode=null,2}function oE(n,s){if(mn!==0&&mn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(af()&&n.callbackNode!==a)return null;var u=te;return u=yr(n,n===ye?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(F0(n,u,s),aE(n,_e()),n.callbackNode!=null&&n.callbackNode===a?oE.bind(null,n):null)}function lE(n,s){if(af())return null;F0(n,s,!0)}function JR(){uC(function(){(ce&6)!==0?In(cn,ZR):sE()})}function Rp(){return Wa===0&&(Wa=Bn()),Wa}function uE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Do(""+n)}function cE(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function tC(n,s,a,u,f){if(s==="submit"&&a&&a.stateNode===f){var m=uE((f[ie]||null).action),T=u.submitter;T&&(s=(s=T[ie]||null)?uE(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var S=new Mo("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wa!==0){var N=T?cE(f,T):new FormData(f);Km(a,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(S.preventDefault(),N=T?cE(f,T):new FormData(f),Km(a,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var Cp=0;Cp<hm.length;Cp++){var Ip=hm[Cp],eC=Ip.toLowerCase(),nC=Ip[0].toUpperCase()+Ip.slice(1);Oi(eC,"on"+nC)}Oi(Fv,"onAnimationEnd"),Oi(qv,"onAnimationIteration"),Oi(Gv,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(_R,"onTransitionRun"),Oi(ER,"onTransitionStart"),Oi(TR,"onTransitionCancel"),Oi(Kv,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yu));function hE(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;t:{var m=void 0;if(s)for(var T=u.length-1;0<=T;T--){var S=u[T],N=S.instance,K=S.currentTarget;if(S=S.listener,N!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=K;try{m(f)}catch(J){$h(J)}f.currentTarget=null,m=N}else for(T=0;T<u.length;T++){if(S=u[T],N=S.instance,K=S.currentTarget,S=S.listener,N!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=K;try{m(f)}catch(J){$h(J)}f.currentTarget=null,m=N}}}}function Qt(n,s){var a=s[ds];a===void 0&&(a=s[ds]=new Set);var u=n+"__bubble";a.has(u)||(fE(s,n,2,!1),a.add(u))}function xp(n,s,a){var u=0;s&&(u|=4),fE(a,n,u,s)}var uf="_reactListening"+Math.random().toString(36).slice(2);function Op(n){if(!n[uf]){n[uf]=!0,ou.forEach(function(a){a!=="selectionchange"&&(iC.has(a)||xp(a,!1,n),xp(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[uf]||(s[uf]=!0,xp("selectionchange",!1,s))}}function fE(n,s,a,u){switch(PE(s)){case 2:var f=OC;break;case 8:f=NC;break;default:f=qp}a=f.bind(null,s,a,n),f=void 0,!hi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Np(n,s,a,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=u.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=Tr(S),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){u=m=T;continue t}S=S.parentNode}}u=u.return}ch(function(){var K=m,J=ci(a),nt=[];t:{var Q=Qv.get(n);if(Q!==void 0){var $=Mo,Nt=n;switch(n){case"keypress":if(Ki(a)===0)break t;case"keydown":case"keyup":$=jo;break;case"focusin":Nt="focus",$=Po;break;case"focusout":Nt="blur",$=Po;break;case"beforeblur":case"afterblur":$=Po;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=vh;break;case Fv:case qv:case Gv:$=Lo;break;case Kv:$=Eh;break;case"scroll":case"scrollend":$=hh;break;case"wheel":$=Bo;break;case"copy":case"cut":case"paste":$=Uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=_u;break;case"toggle":case"beforetoggle":$=bh}var Rt=(s&4)!==0,pe=!Rt&&(n==="scroll"||n==="scrollend"),z=Rt?Q!==null?Q+"Capture":null:Q;Rt=[];for(var j=K,G;j!==null;){var tt=j;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||z===null||(tt=Oa(j,z),tt!=null&&Rt.push(Xu(j,tt,G))),pe)break;j=j.return}0<Rt.length&&(Q=new $(Q,Nt,null,a,J),nt.push({event:Q,listeners:Rt}))}}if((s&7)===0){t:{if(Q=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",Q&&a!==Ar&&(Nt=a.relatedTarget||a.fromElement)&&(Tr(Nt)||Nt[be]))break t;if(($||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,$?(Nt=a.relatedTarget||a.toElement,$=K,Nt=Nt?Tr(Nt):null,Nt!==null&&(pe=l(Nt),Rt=Nt.tag,Nt!==pe||Rt!==5&&Rt!==27&&Rt!==6)&&(Nt=null)):($=null,Nt=K),$!==Nt)){if(Rt=fi,tt="onMouseLeave",z="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Rt=_u,tt="onPointerLeave",z="onPointerEnter",j="pointer"),pe=$==null?Q:Hi($),G=Nt==null?Q:Hi(Nt),Q=new Rt(tt,j+"leave",$,a,J),Q.target=pe,Q.relatedTarget=G,tt=null,Tr(J)===K&&(Rt=new Rt(z,j+"enter",Nt,a,J),Rt.target=G,Rt.relatedTarget=pe,tt=Rt),pe=tt,$&&Nt)e:{for(Rt=$,z=Nt,j=0,G=Rt;G;G=hl(G))j++;for(G=0,tt=z;tt;tt=hl(tt))G++;for(;0<j-G;)Rt=hl(Rt),j--;for(;0<G-j;)z=hl(z),G--;for(;j--;){if(Rt===z||z!==null&&Rt===z.alternate)break e;Rt=hl(Rt),z=hl(z)}Rt=null}else Rt=null;$!==null&&dE(nt,Q,$,Rt,!1),Nt!==null&&pe!==null&&dE(nt,pe,Nt,Rt,!0)}}t:{if(Q=K?Hi(K):window,$=Q.nodeName&&Q.nodeName.toLowerCase(),$==="select"||$==="input"&&Q.type==="file")var vt=Dv;else if($e(Q))if(Mv)vt=gR;else{vt=mR;var Ft=dR}else $=Q.nodeName,!$||$.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&fu(K.elementType)&&(vt=Dv):vt=pR;if(vt&&(vt=vt(n,K))){Or(nt,vt,a,J);break t}Ft&&Ft(n,Q,K),n==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&gs(Q,"number",Q.value)}switch(Ft=K?Hi(K):window,n){case"focusin":($e(Ft)||Ft.contentEditable==="true")&&(zo=Ft,lm=K,bu=null);break;case"focusout":bu=lm=zo=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,zv(nt,a,J);break;case"selectionchange":if(vR)break;case"keydown":case"keyup":zv(nt,a,J)}var Et;if(Yi)t:{switch(n){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Zt?X(n,a)&&(Ct="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(E&&a.locale!=="ko"&&(Zt||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Zt&&(Et=mu()):(Gi=J,ys="value"in Gi?Gi.value:Gi.textContent,Zt=!0)),Ft=cf(K,Ct),0<Ft.length&&(Ct=new yu(Ct,n,null,a,J),nt.push({event:Ct,listeners:Ft}),Et?Ct.data=Et:(Et=mt(a),Et!==null&&(Ct.data=Et)))),(Et=y?Qe(n,a):Jt(n,a))&&(Ct=cf(K,"onBeforeInput"),0<Ct.length&&(Ft=new yu("onBeforeInput","beforeinput",null,a,J),nt.push({event:Ft,listeners:Ct}),Ft.data=Et)),tC(nt,n,K,a,J)}hE(nt,s)})}function Xu(n,s,a){return{instance:n,listener:s,currentTarget:a}}function cf(n,s){for(var a=s+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Oa(n,a),f!=null&&u.unshift(Xu(n,f,m)),f=Oa(n,s),f!=null&&u.push(Xu(n,f,m))),n.tag===3)return u;n=n.return}return[]}function hl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function dE(n,s,a,u,f){for(var m=s._reactName,T=[];a!==null&&a!==u;){var S=a,N=S.alternate,K=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||K===null||(N=K,f?(K=Oa(a,m),K!=null&&T.unshift(Xu(a,K,N))):f||(K=Oa(a,m),K!=null&&T.push(Xu(a,K,N)))),a=a.return}T.length!==0&&n.push({event:s,listeners:T})}var rC=/\r\n?/g,sC=/\u0000|\uFFFD/g;function mE(n){return(typeof n=="string"?n:""+n).replace(rC,`
`).replace(sC,"")}function pE(n,s){return s=mE(s),mE(n)===s}function hf(){}function me(n,s,a,u,f,m){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ui(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ui(n,""+u);break;case"className":Fi(n,"class",u);break;case"tabIndex":Fi(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fi(n,a,u);break;case"style":hu(n,u,m);break;case"data":if(s!=="object"){Fi(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Do(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&me(n,s,"name",f.name,f,null),me(n,s,"formEncType",f.formEncType,f,null),me(n,s,"formMethod",f.formMethod,f,null),me(n,s,"formTarget",f.formTarget,f,null)):(me(n,s,"encType",f.encType,f,null),me(n,s,"method",f.method,f,null),me(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Do(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=hf);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Do(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Qt("beforetoggle",n),Qt("toggle",n),ps(n,"popover",u);break;case"xlinkActuate":hn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":hn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":hn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":hn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":hn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":hn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":hn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":hn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":hn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ps(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=em.get(a)||a,ps(n,a,u))}}function Dp(n,s,a,u,f,m){switch(a){case"style":hu(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof u=="string"?ui(n,u):(typeof u=="number"||typeof u=="bigint")&&ui(n,""+u);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=hf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=n[ie]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,u,f);break t}a in n?n[a]=u:u===!0?n.setAttribute(a,""):ps(n,a,u)}}}function pn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",n),Qt("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:me(n,s,m,T,a,null)}}f&&me(n,s,"srcSet",a.srcSet,a,null),u&&me(n,s,"src",a.src,a,null);return;case"input":Qt("invalid",n);var S=m=T=f=null,N=null,K=null;for(u in a)if(a.hasOwnProperty(u)){var J=a[u];if(J!=null)switch(u){case"name":f=J;break;case"type":T=J;break;case"checked":N=J;break;case"defaultChecked":K=J;break;case"value":m=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:me(n,s,u,J,a,null)}}Ca(n,m,S,N,K,T,f,!1),No(n);return;case"select":Qt("invalid",n),u=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:me(n,s,f,S,a,null)}s=m,a=T,n.multiple=!!u,s!=null?wr(n,!!u,s,!1):a!=null&&wr(n,!!u,a,!0);return;case"textarea":Qt("invalid",n),m=f=u=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:me(n,s,T,S,a,null)}Ia(n,u,f,m),No(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:me(n,s,N,u,a,null)}return;case"dialog":Qt("beforetoggle",n),Qt("toggle",n),Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":Qt("load",n);break;case"video":case"audio":for(u=0;u<Yu.length;u++)Qt(Yu[u],n);break;case"image":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"embed":case"source":case"link":Qt("error",n),Qt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(u=a[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:me(n,s,K,u,a,null)}return;default:if(fu(s)){for(J in a)a.hasOwnProperty(J)&&(u=a[J],u!==void 0&&Dp(n,s,J,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&me(n,s,S,u,a,null))}function aC(n,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,S=null,N=null,K=null,J=null;for($ in a){var nt=a[$];if(a.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=nt;default:u.hasOwnProperty($)||me(n,s,$,null,u,nt)}}for(var Q in u){var $=u[Q];if(nt=a[Q],u.hasOwnProperty(Q)&&($!=null||nt!=null))switch(Q){case"type":m=$;break;case"name":f=$;break;case"checked":K=$;break;case"defaultChecked":J=$;break;case"value":T=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==nt&&me(n,s,Q,$,u,nt)}}Zn(n,T,S,N,K,J,m,f);return;case"select":$=T=S=Q=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":$=N;default:u.hasOwnProperty(m)||me(n,s,m,null,u,N)}for(f in u)if(m=u[f],N=a[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":Q=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==N&&me(n,s,f,m,u,N)}s=S,a=T,u=$,Q!=null?wr(n,!!a,Q,!1):!!u!=!!a&&(s!=null?wr(n,!!a,s,!0):wr(n,!!a,a?[]:"",!1));return;case"textarea":$=Q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:me(n,s,S,null,u,f)}for(T in u)if(f=u[T],m=a[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":Q=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&me(n,s,T,f,u,m)}fe(n,Q,$);return;case"option":for(var Nt in a)if(Q=a[Nt],a.hasOwnProperty(Nt)&&Q!=null&&!u.hasOwnProperty(Nt))switch(Nt){case"selected":n.selected=!1;break;default:me(n,s,Nt,null,u,Q)}for(N in u)if(Q=u[N],$=a[N],u.hasOwnProperty(N)&&Q!==$&&(Q!=null||$!=null))switch(N){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:me(n,s,N,Q,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in a)Q=a[Rt],a.hasOwnProperty(Rt)&&Q!=null&&!u.hasOwnProperty(Rt)&&me(n,s,Rt,null,u,Q);for(K in u)if(Q=u[K],$=a[K],u.hasOwnProperty(K)&&Q!==$&&(Q!=null||$!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:me(n,s,K,Q,u,$)}return;default:if(fu(s)){for(var pe in a)Q=a[pe],a.hasOwnProperty(pe)&&Q!==void 0&&!u.hasOwnProperty(pe)&&Dp(n,s,pe,void 0,u,Q);for(J in u)Q=u[J],$=a[J],!u.hasOwnProperty(J)||Q===$||Q===void 0&&$===void 0||Dp(n,s,J,Q,u,$);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!u.hasOwnProperty(z)&&me(n,s,z,null,u,Q);for(nt in u)Q=u[nt],$=a[nt],!u.hasOwnProperty(nt)||Q===$||Q==null&&$==null||me(n,s,nt,Q,u,$)}var Mp=null,kp=null;function ff(n){return n.nodeType===9?n:n.ownerDocument}function gE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yE(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Vp(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Pp=null;function oC(){var n=window.event;return n&&n.type==="popstate"?n===Pp?!1:(Pp=n,!0):(Pp=null,!1)}var vE=typeof setTimeout=="function"?setTimeout:void 0,lC=typeof clearTimeout=="function"?clearTimeout:void 0,_E=typeof Promise=="function"?Promise:void 0,uC=typeof queueMicrotask=="function"?queueMicrotask:typeof _E<"u"?function(n){return _E.resolve(null).then(n).catch(cC)}:vE;function cC(n){setTimeout(function(){throw n})}function Ms(n){return n==="head"}function EE(n,s){var a=s,u=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<u&&8>u){a=u;var T=n.ownerDocument;if(a&1&&Wu(T.documentElement),a&2&&Wu(T.body),a&4)for(a=T.head,Wu(a),T=a.firstChild;T;){var S=T.nextSibling,N=T.nodeName;T[Sa]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(f===0){n.removeChild(m),sc(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=m}while(a);sc(s)}function Lp(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lp(a),ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function hC(n,s,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Sa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Di(n.nextSibling),n===null)break}return null}function fC(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Di(n.nextSibling),n===null))return null;return n}function Up(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function dC(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Di(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var jp=null;function TE(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function bE(n,s,a){switch(s=ff(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Wu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);ms(n)}var _i=new Map,SE=new Set;function df(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Fr=ut.d;ut.d={f:mC,r:pC,D:gC,C:yC,L:vC,m:_C,X:TC,S:EC,M:bC};function mC(){var n=Fr.f(),s=rf();return n||s}function pC(n){var s=zi(n);s!==null&&s.tag===5&&s.type==="form"?F_(s):Fr.r(n)}var fl=typeof document>"u"?null:document;function wE(n,s,a){var u=fl;if(u&&typeof s=="string"&&s){var f=je(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),SE.has(f)||(SE.add(f),n={rel:n,crossOrigin:a,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),pn(s,"link",n),Me(s),u.head.appendChild(s)))}}function gC(n){Fr.D(n),wE("dns-prefetch",n,null)}function yC(n,s){Fr.C(n,s),wE("preconnect",n,s)}function vC(n,s,a){Fr.L(n,s,a);var u=fl;if(u&&n&&s){var f='link[rel="preload"][as="'+je(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+je(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+je(a.imageSizes)+'"]')):f+='[href="'+je(n)+'"]';var m=f;switch(s){case"style":m=dl(n);break;case"script":m=ml(n)}_i.has(m)||(n=_({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),_i.set(m,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(Zu(m))||s==="script"&&u.querySelector(Ju(m))||(s=u.createElement("link"),pn(s,"link",n),Me(s),u.head.appendChild(s)))}}function _C(n,s){Fr.m(n,s);var a=fl;if(a&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+je(u)+'"][href="'+je(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ml(n)}if(!_i.has(m)&&(n=_({rel:"modulepreload",href:n},s),_i.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ju(m)))return}u=a.createElement("link"),pn(u,"link",n),Me(u),a.head.appendChild(u)}}}function EC(n,s,a){Fr.S(n,s,a);var u=fl;if(u&&n){var f=On(u).hoistableStyles,m=dl(n);s=s||"default";var T=f.get(m);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(Zu(m)))S.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},a),(a=_i.get(m))&&Bp(n,a);var N=T=u.createElement("link");Me(N),pn(N,"link",n),N._p=new Promise(function(K,J){N.onload=K,N.onerror=J}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,mf(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(m,T)}}}function TC(n,s){Fr.X(n,s);var a=fl;if(a&&n){var u=On(a).hoistableScripts,f=ml(n),m=u.get(f);m||(m=a.querySelector(Ju(f)),m||(n=_({src:n,async:!0},s),(s=_i.get(f))&&zp(n,s),m=a.createElement("script"),Me(m),pn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function bC(n,s){Fr.M(n,s);var a=fl;if(a&&n){var u=On(a).hoistableScripts,f=ml(n),m=u.get(f);m||(m=a.querySelector(Ju(f)),m||(n=_({src:n,async:!0,type:"module"},s),(s=_i.get(f))&&zp(n,s),m=a.createElement("script"),Me(m),pn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function AE(n,s,a,u){var f=(f=pt.current)?df(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=dl(a.href),a=On(f).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=dl(a.href);var m=On(f).hoistableStyles,T=m.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=f.querySelector(Zu(n)))&&!m._p&&(T.instance=m,T.state.loading=5),_i.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},_i.set(n,a),m||SC(f,n,a,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ml(a),a=On(f).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function dl(n){return'href="'+je(n)+'"'}function Zu(n){return'link[rel="stylesheet"]['+n+"]"}function RE(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function SC(n,s,a,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),pn(s,"link",a),Me(s),n.head.appendChild(s))}function ml(n){return'[src="'+je(n)+'"]'}function Ju(n){return"script[async]"+n}function CE(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+je(a.href)+'"]');if(u)return s.instance=u,Me(u),u;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Me(u),pn(u,"style",f),mf(u,a.precedence,n),s.instance=u;case"stylesheet":f=dl(a.href);var m=n.querySelector(Zu(f));if(m)return s.state.loading|=4,s.instance=m,Me(m),m;u=RE(a),(f=_i.get(f))&&Bp(u,f),m=(n.ownerDocument||n).createElement("link"),Me(m);var T=m;return T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),pn(m,"link",u),s.state.loading|=4,mf(m,a.precedence,n),s.instance=m;case"script":return m=ml(a.src),(f=n.querySelector(Ju(m)))?(s.instance=f,Me(f),f):(u=a,(f=_i.get(m))&&(u=_({},a),zp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Me(f),pn(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,mf(u,a.precedence,n));return s.instance}function mf(n,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Bp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function zp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var pf=null;function IE(n,s,a){if(pf===null){var u=new Map,f=pf=new Map;f.set(a,u)}else f=pf,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Sa]||m[Te]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=n+T;var S=u.get(T);S?S.push(m):u.set(T,[m])}}return u}function xE(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function wC(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function OE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var tc=null;function AC(){}function RC(n,s,a){if(tc===null)throw Error(r(475));var u=tc;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=dl(a.href),m=n.querySelector(Zu(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=gf.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=m,Me(m);return}m=n.ownerDocument||n,a=RE(a),(f=_i.get(f))&&Bp(a,f),m=m.createElement("link"),Me(m);var T=m;T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),pn(m,"link",a),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=gf.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function CC(){if(tc===null)throw Error(r(475));var n=tc;return n.stylesheets&&n.count===0&&Hp(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&Hp(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function gf(){if(this.count--,this.count===0){if(this.stylesheets)Hp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var yf=null;function Hp(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,yf=new Map,s.forEach(IC,n),yf=null,gf.call(n))}function IC(n,s){if(!(s.state.loading&4)){var a=yf.get(n);if(a)var u=a.get(null);else{a=new Map,yf.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}f=s.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||u,m===u&&a.set(null,f),a.set(T,f),this.count++,u=gf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var ec={$$typeof:W,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function xC(n,s,a,u,f,m,T,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function NE(n,s,a,u,f,m,T,S,N,K,J,nt){return n=new xC(n,s,a,T,S,N,K,nt),s=1,m===!0&&(s|=24),m=ti(3,null,null,s),n.current=m,m.stateNode=n,s=Sm(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:s},Cm(m),n}function DE(n){return n?(n=Go,n):Go}function ME(n,s,a,u,f,m){f=DE(f),u.context===null?u.context=f:u.pendingContext=f,u=Es(s),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Ts(n,u,s),a!==null&&(si(a,n,s),Nu(a,n,s))}function kE(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Fp(n,s){kE(n,s),(n=n.alternate)&&kE(n,s)}function VE(n){if(n.tag===13){var s=qo(n,67108864);s!==null&&si(s,n,67108864),Fp(n,67108864)}}var vf=!0;function OC(n,s,a,u){var f=F.T;F.T=null;var m=ut.p;try{ut.p=2,qp(n,s,a,u)}finally{ut.p=m,F.T=f}}function NC(n,s,a,u){var f=F.T;F.T=null;var m=ut.p;try{ut.p=8,qp(n,s,a,u)}finally{ut.p=m,F.T=f}}function qp(n,s,a,u){if(vf){var f=Gp(u);if(f===null)Np(n,s,u,_f,a),LE(n,u);else if(MC(f,n,s,a,u))u.stopPropagation();else if(LE(n,u),s&4&&-1<DC.indexOf(n)){for(;f!==null;){var m=zi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=jn(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var N=1<<31-Le(T);S.entanglements[1]|=N,T&=~N}er(m),(ce&6)===0&&(ef=_e()+500,$u(0))}}break;case 13:S=qo(m,2),S!==null&&si(S,m,2),rf(),Fp(m,2)}if(m=Gp(u),m===null&&Np(n,s,u,_f,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else Np(n,s,u,null,a)}}function Gp(n){return n=ci(n),Kp(n)}var _f=null;function Kp(n){if(_f=null,n=Tr(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return _f=n,null}function PE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case cn:return 2;case ji:return 8;case wi:case Ge:return 32;case xn:return 268435456;default:return 32}default:return 32}}var Qp=!1,ks=null,Vs=null,Ps=null,nc=new Map,ic=new Map,Ls=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LE(n,s){switch(n){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":nc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(s.pointerId)}}function rc(n,s,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=zi(s),s!==null&&VE(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function MC(n,s,a,u,f){switch(s){case"focusin":return ks=rc(ks,n,s,a,u,f),!0;case"dragenter":return Vs=rc(Vs,n,s,a,u,f),!0;case"mouseover":return Ps=rc(Ps,n,s,a,u,f),!0;case"pointerover":var m=f.pointerId;return nc.set(m,rc(nc.get(m)||null,n,s,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,ic.set(m,rc(ic.get(m)||null,n,s,a,u,f)),!0}return!1}function UE(n){var s=Tr(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){n.blockedOn=s,Ie(n.priority,function(){if(a.tag===13){var u=ri();u=ve(u);var f=qo(a,u);f!==null&&si(f,a,u),Fp(a,u)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ef(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Gp(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Ar=u,a.target.dispatchEvent(u),Ar=null}else return s=zi(a),s!==null&&VE(s),n.blockedOn=a,!1;s.shift()}return!0}function jE(n,s,a){Ef(n)&&a.delete(s)}function kC(){Qp=!1,ks!==null&&Ef(ks)&&(ks=null),Vs!==null&&Ef(Vs)&&(Vs=null),Ps!==null&&Ef(Ps)&&(Ps=null),nc.forEach(jE),ic.forEach(jE)}function Tf(n,s){n.blockedOn===s&&(n.blockedOn=null,Qp||(Qp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kC)))}var bf=null;function BE(n){bf!==n&&(bf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bf===n&&(bf=null);for(var s=0;s<n.length;s+=3){var a=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(Kp(u||a)===null)continue;break}var m=zi(a);m!==null&&(n.splice(s,3),s-=3,Km(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function sc(n){function s(N){return Tf(N,n)}ks!==null&&Tf(ks,n),Vs!==null&&Tf(Vs,n),Ps!==null&&Tf(Ps,n),nc.forEach(s),ic.forEach(s);for(var a=0;a<Ls.length;a++){var u=Ls[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ls.length&&(a=Ls[0],a.blockedOn===null);)UE(a),a.blockedOn===null&&Ls.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],T=f[ie]||null;if(typeof m=="function")T||BE(a);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[ie]||null)S=T.formAction;else if(Kp(f)!==null)continue}else S=T.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),BE(a)}}}function $p(n){this._internalRoot=n}Sf.prototype.render=$p.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,u=ri();ME(a,u,n,s,null,null)},Sf.prototype.unmount=$p.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ME(n.current,2,null,n,null,null),rf(),s[be]=null}};function Sf(n){this._internalRoot=n}Sf.prototype.unstable_scheduleHydration=function(n){if(n){var s=Wn();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Ls.length&&s!==0&&s<Ls[a].priority;a++);Ls.splice(a,0,n),a===0&&UE(n)}};var zE=t.version;if(zE!=="19.1.0")throw Error(r(527,zE,"19.1.0"));ut.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var VC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{_t=wf.inject(VC),Ht=wf}catch{}}return oc.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,u="",f=i0,m=r0,T=s0,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=NE(n,1,!1,null,null,a,u,f,m,T,S,null),n[be]=s.current,Op(n),new $p(s)},oc.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var u=!1,f="",m=i0,T=r0,S=s0,N=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),s=NE(n,1,!0,s,a??null,u,f,m,T,S,N,K),s.context=DE(null),a=s.current,u=ri(),u=ve(u),f=Es(u),f.callback=null,Ts(a,f,u),a=u,s.current.lanes=a,li(s,a),er(s),n[be]=s.current,Op(n),new Sf(s)},oc.version="19.1.0",oc}var ZE;function qC(){if(ZE)return Zp.exports;ZE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Zp.exports=FC(),Zp.exports}var GC=qC(),ng={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var JE;function KC(){return JE||(JE=1,function(i){(function(){var t={}.hasOwnProperty;function e(){for(var l="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(l=o(l,r(d)))}return l}function r(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return e.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var d in l)t.call(l,d)&&l[d]&&(h=o(h,d));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(e.default=e,i.exports=e):window.classNames=e})()}(ng)),ng.exports}var QC=KC();const Dt=wd(QC);function wg(){return wg=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},wg.apply(null,arguments)}function mS(i,t){if(i==null)return{};var e={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(t.indexOf(r)!==-1)continue;e[r]=i[r]}return e}function tT(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function $C(i){var t=YC(i,"string");return typeof t=="symbol"?t:String(t)}function YC(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function XC(i,t,e){var r=I.useRef(i!==void 0),o=I.useState(t),l=o[0],h=o[1],d=i!==void 0,p=r.current;return r.current=d,!d&&p&&l!==t&&h(t),[d?i:l,I.useCallback(function(g){for(var _=arguments.length,v=new Array(_>1?_-1:0),b=1;b<_;b++)v[b-1]=arguments[b];e&&e.apply(void 0,[g].concat(v)),h(g)},[e])]}function yy(i,t){return Object.keys(t).reduce(function(e,r){var o,l=e,h=l[tT(r)],d=l[r],p=mS(l,[tT(r),r].map($C)),g=t[r],_=XC(d,h,i[g]),v=_[0],b=_[1];return wg({},p,(o={},o[r]=v,o[g]=b,o))},i)}function Ag(i,t){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},Ag(i,t)}function WC(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,Ag(i,t)}const ZC=["xxl","xl","lg","md","sm","xs"],JC="xs",Hc=I.createContext({prefixes:{},breakpoints:ZC,minBreakpoint:JC}),{Consumer:f6,Provider:d6}=Hc;function Ut(i,t){const{prefixes:e}=I.useContext(Hc);return i||e[t]||t}function tI(){const{breakpoints:i}=I.useContext(Hc);return i}function eI(){const{minBreakpoint:i}=I.useContext(Hc);return i}function nI(){const{dir:i}=I.useContext(Hc);return i==="rtl"}function Ad(i){return i&&i.ownerDocument||document}function iI(i){var t=Ad(i);return t&&t.defaultView||window}function rI(i,t){return iI(i).getComputedStyle(i,t)}var sI=/([A-Z])/g;function aI(i){return i.replace(sI,"-$1").toLowerCase()}var oI=/^ms-/;function Rf(i){return aI(i).replace(oI,"-ms-")}var lI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function uI(i){return!!(i&&lI.test(i))}function Wr(i,t){var e="",r="";if(typeof t=="string")return i.style.getPropertyValue(Rf(t))||rI(i).getPropertyValue(Rf(t));Object.keys(t).forEach(function(o){var l=t[o];!l&&l!==0?i.style.removeProperty(Rf(o)):uI(o)?r+=o+"("+l+") ":e+=Rf(o)+": "+l+";"}),r&&(e+="transform: "+r+";"),i.style.cssText+=";"+e}var ig={exports:{}},rg,eT;function cI(){if(eT)return rg;eT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rg=i,rg}var sg,nT;function hI(){if(nT)return sg;nT=1;var i=cI();function t(){}function e(){}return e.resetWarningCache=t,sg=function(){function r(h,d,p,g,_,v){if(v!==i){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function o(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},sg}var iT;function fI(){return iT||(iT=1,ig.exports=hI()()),ig.exports}var dI=fI();const Zr=wd(dI);var mI=dS();const to=wd(mI),rT={disabled:!1},pS=ct.createContext(null);var pI=function(t){return t.scrollTop},uc="unmounted",zs="exited",Vi="entering",Qr="entered",wc="exiting",ls=function(i){WC(t,i);function t(r,o){var l;l=i.call(this,r,o)||this;var h=o,d=h&&!h.isMounting?r.enter:r.appear,p;return l.appearStatus=null,r.in?d?(p=zs,l.appearStatus=Vi):p=Qr:r.unmountOnExit||r.mountOnEnter?p=uc:p=zs,l.state={status:p},l.nextCallback=null,l}t.getDerivedStateFromProps=function(o,l){var h=o.in;return h&&l.status===uc?{status:zs}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(o){var l=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==Vi&&h!==Qr&&(l=Vi):(h===Vi||h===Qr)&&(l=wc)}this.updateStatus(!1,l)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o=this.props.timeout,l,h,d;return l=h=d=o,o!=null&&typeof o!="number"&&(l=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:l,enter:h,appear:d}},e.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===Vi){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:to.findDOMNode(this);h&&pI(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zs&&this.setState({status:uc})},e.performEnter=function(o){var l=this,h=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[to.findDOMNode(this),d],g=p[0],_=p[1],v=this.getTimeouts(),b=d?v.appear:v.enter;if(!o&&!h||rT.disabled){this.safeSetState({status:Qr},function(){l.props.onEntered(g)});return}this.props.onEnter(g,_),this.safeSetState({status:Vi},function(){l.props.onEntering(g,_),l.onTransitionEnd(b,function(){l.safeSetState({status:Qr},function(){l.props.onEntered(g,_)})})})},e.performExit=function(){var o=this,l=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:to.findDOMNode(this);if(!l||rT.disabled){this.safeSetState({status:zs},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:wc},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:zs},function(){o.props.onExited(d)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},e.setNextCallback=function(o){var l=this,h=!0;return this.nextCallback=function(d){h&&(h=!1,l.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},e.onTransitionEnd=function(o,l){this.setNextCallback(l);var h=this.props.nodeRef?this.props.nodeRef.current:to.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],_=p[1];this.props.addEndListener(g,_)}o!=null&&setTimeout(this.nextCallback,o)},e.render=function(){var o=this.state.status;if(o===uc)return null;var l=this.props,h=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=mS(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ct.createElement(pS.Provider,{value:null},typeof h=="function"?h(o,d):ct.cloneElement(ct.Children.only(h),d))},t}(ct.Component);ls.contextType=pS;ls.propTypes={};function pl(){}ls.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pl,onEntering:pl,onEntered:pl,onExit:pl,onExiting:pl,onExited:pl};ls.UNMOUNTED=uc;ls.EXITED=zs;ls.ENTERING=Vi;ls.ENTERED=Qr;ls.EXITING=wc;function gI(i){return i.code==="Escape"||i.keyCode===27}function yI(){const i=I.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Xl(i){if(!i||typeof i=="function")return null;const{major:t}=yI();return t>=19?i.props.ref:i.ref}const Wl=!!(typeof window<"u"&&window.document&&window.document.createElement);var Rg=!1,Cg=!1;try{var ag={get passive(){return Rg=!0},get once(){return Cg=Rg=!0}};Wl&&(window.addEventListener("test",ag,ag),window.removeEventListener("test",ag,!0))}catch{}function gS(i,t,e,r){if(r&&typeof r!="boolean"&&!Cg){var o=r.once,l=r.capture,h=e;!Cg&&o&&(h=e.__once||function d(p){this.removeEventListener(t,d,l),e.call(this,p)},e.__once=h),i.addEventListener(t,h,Rg?r:l)}i.addEventListener(t,e,r)}function Ig(i,t,e,r){var o=r&&typeof r!="boolean"?r.capture:r;i.removeEventListener(t,e,o),e.__once&&i.removeEventListener(t,e.__once,o)}function Xf(i,t,e,r){return gS(i,t,e,r),function(){Ig(i,t,e,r)}}function vI(i,t,e,r){if(r===void 0&&(r=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(t,e,r),i.dispatchEvent(o)}}function _I(i){var t=Wr(i,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function EI(i,t,e){e===void 0&&(e=5);var r=!1,o=setTimeout(function(){r||vI(i,"transitionend",!0)},t+e),l=Xf(i,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(o),l()}}function yS(i,t,e,r){e==null&&(e=_I(i)||0);var o=EI(i,e,r),l=Xf(i,"transitionend",t);return function(){o(),l()}}function sT(i,t){const e=Wr(i,t)||"",r=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*r}function vy(i,t){const e=sT(i,"transitionDuration"),r=sT(i,"transitionDelay"),o=yS(i,l=>{l.target===i&&(o(),t(l))},e+r)}function lc(...i){return i.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...o){t.apply(this,o),e.apply(this,o)}},null)}function vS(i){i.offsetHeight}const aT=i=>!i||typeof i=="function"?i:t=>{i.current=t};function TI(i,t){const e=aT(i),r=aT(t);return o=>{e&&e(o),r&&r(o)}}function _S(i,t){return I.useMemo(()=>TI(i,t),[i,t])}function bI(i){return i&&"setState"in i?to.findDOMNode(i):i??null}const Rd=ct.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:r,onExiting:o,onExited:l,addEndListener:h,children:d,childRef:p,...g},_)=>{const v=I.useRef(null),b=_S(v,p),M=ht=>{b(bI(ht))},B=ht=>k=>{ht&&v.current&&ht(v.current,k)},H=I.useCallback(B(i),[i]),O=I.useCallback(B(t),[t]),et=I.useCallback(B(e),[e]),it=I.useCallback(B(r),[r]),W=I.useCallback(B(o),[o]),at=I.useCallback(B(l),[l]),lt=I.useCallback(B(h),[h]);return w.jsx(ls,{ref:_,...g,onEnter:H,onEntered:et,onEntering:O,onExit:it,onExited:at,onExiting:W,addEndListener:lt,nodeRef:v,children:typeof d=="function"?(ht,k)=>d(ht,{...k,ref:M}):ct.cloneElement(d,{ref:M})})});Rd.displayName="TransitionWrapper";const SI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function wI(i,t){const e=`offset${i[0].toUpperCase()}${i.slice(1)}`,r=t[e],o=SI[i];return r+parseInt(Wr(t,o[0]),10)+parseInt(Wr(t,o[1]),10)}const AI={[zs]:"collapse",[wc]:"collapsing",[Vi]:"collapsing",[Qr]:"collapse show"},_y=ct.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:r,onExiting:o,className:l,children:h,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:_=!1,unmountOnExit:v=!1,appear:b=!1,getDimensionValue:M=wI,...B},H)=>{const O=typeof d=="function"?d():d,et=I.useMemo(()=>lc(ht=>{ht.style[O]="0"},i),[O,i]),it=I.useMemo(()=>lc(ht=>{const k=`scroll${O[0].toUpperCase()}${O.slice(1)}`;ht.style[O]=`${ht[k]}px`},t),[O,t]),W=I.useMemo(()=>lc(ht=>{ht.style[O]=null},e),[O,e]),at=I.useMemo(()=>lc(ht=>{ht.style[O]=`${M(O,ht)}px`,vS(ht)},r),[r,M,O]),lt=I.useMemo(()=>lc(ht=>{ht.style[O]=null},o),[O,o]);return w.jsx(Rd,{ref:H,addEndListener:vy,...B,"aria-expanded":B.role?p:null,onEnter:et,onEntering:it,onEntered:W,onExit:at,onExiting:lt,childRef:Xl(h),in:p,timeout:g,mountOnEnter:_,unmountOnExit:v,appear:b,children:(ht,k)=>ct.cloneElement(h,{...k,className:Dt(l,h.props.className,AI[ht],O==="width"&&"collapse-horizontal")})})});_y.displayName="Collapse";function ES(i,t){return Array.isArray(i)?i.includes(t):i===t}const Fc=I.createContext({});Fc.displayName="AccordionContext";const Ey=I.forwardRef(({as:i="div",bsPrefix:t,className:e,children:r,eventKey:o,...l},h)=>{const{activeEventKey:d}=I.useContext(Fc);return t=Ut(t,"accordion-collapse"),w.jsx(_y,{ref:h,in:ES(d,o),...l,className:Dt(e,t),children:w.jsx(i,{children:I.Children.only(r)})})});Ey.displayName="AccordionCollapse";const Cd=I.createContext({eventKey:""});Cd.displayName="AccordionItemContext";const TS=I.forwardRef(({as:i="div",bsPrefix:t,className:e,onEnter:r,onEntering:o,onEntered:l,onExit:h,onExiting:d,onExited:p,...g},_)=>{t=Ut(t,"accordion-body");const{eventKey:v}=I.useContext(Cd);return w.jsx(Ey,{eventKey:v,onEnter:r,onEntering:o,onEntered:l,onExit:h,onExiting:d,onExited:p,children:w.jsx(i,{ref:_,...g,className:Dt(e,t)})})});TS.displayName="AccordionBody";function RI(i,t){const{activeEventKey:e,onSelect:r,alwaysOpen:o}=I.useContext(Fc);return l=>{let h=i===e?null:i;o&&(Array.isArray(e)?e.includes(i)?h=e.filter(d=>d!==i):h=[...e,i]:h=[i]),r==null||r(h,l),t==null||t(l)}}const Ty=I.forwardRef(({as:i="button",bsPrefix:t,className:e,onClick:r,...o},l)=>{t=Ut(t,"accordion-button");const{eventKey:h}=I.useContext(Cd),d=RI(h,r),{activeEventKey:p}=I.useContext(Fc);return i==="button"&&(o.type="button"),w.jsx(i,{ref:l,onClick:d,...o,"aria-expanded":Array.isArray(p)?p.includes(h):h===p,className:Dt(e,t,!ES(p,h)&&"collapsed")})});Ty.displayName="AccordionButton";const bS=I.forwardRef(({as:i="h2","aria-controls":t,bsPrefix:e,className:r,children:o,onClick:l,...h},d)=>(e=Ut(e,"accordion-header"),w.jsx(i,{ref:d,...h,className:Dt(r,e),children:w.jsx(Ty,{onClick:l,"aria-controls":t,children:o})})));bS.displayName="AccordionHeader";const SS=I.forwardRef(({as:i="div",bsPrefix:t,className:e,eventKey:r,...o},l)=>{t=Ut(t,"accordion-item");const h=I.useMemo(()=>({eventKey:r}),[r]);return w.jsx(Cd.Provider,{value:h,children:w.jsx(i,{ref:l,...o,className:Dt(e,t)})})});SS.displayName="AccordionItem";const wS=I.forwardRef((i,t)=>{const{as:e="div",activeKey:r,bsPrefix:o,className:l,onSelect:h,flush:d,alwaysOpen:p,...g}=yy(i,{activeKey:"onSelect"}),_=Ut(o,"accordion"),v=I.useMemo(()=>({activeEventKey:r,onSelect:h,alwaysOpen:p}),[r,h,p]);return w.jsx(Fc.Provider,{value:v,children:w.jsx(e,{ref:t,...g,className:Dt(l,_,d&&`${_}-flush`)})})});wS.displayName="Accordion";const ia=Object.assign(wS,{Button:Ty,Collapse:Ey,Item:SS,Header:bS,Body:TS});var AS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oT=ct.createContext&&ct.createContext(AS),CI=["attr","size","title"];function II(i,t){if(i==null)return{};var e=xI(i,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(e[r]=i[r])}return e}function xI(i,t){if(i==null)return{};var e={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;e[r]=i[r]}return e}function Wf(){return Wf=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Wf.apply(this,arguments)}function lT(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),e.push.apply(e,r)}return e}function Zf(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(e),!0).forEach(function(r){OI(i,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):lT(Object(e)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(e,r))})}return i}function OI(i,t,e){return t=NI(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function NI(i){var t=DI(i,"string");return typeof t=="symbol"?t:t+""}function DI(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function RS(i){return i&&i.map((t,e)=>ct.createElement(t.tag,Zf({key:e},t.attr),RS(t.child)))}function qc(i){return t=>ct.createElement(MI,Wf({attr:Zf({},i.attr)},t),RS(i.child))}function MI(i){var t=e=>{var{attr:r,size:o,title:l}=i,h=II(i,CI),d=o||e.size||"1em",p;return e.className&&(p=e.className),i.className&&(p=(p?p+" ":"")+i.className),ct.createElement("svg",Wf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,h,{className:p,style:Zf(Zf({color:i.color||e.color},e.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ct.createElement("title",null,l),i.children)};return oT!==void 0?ct.createElement(oT.Consumer,null,e=>t(e)):t(AS)}function kI(i){return qc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(i)}function VI(i){return qc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(i)}function PI(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}const LI=i=>{switch(i){case"success":return BI;case"info":return HI;case"warning":return zI;case"error":return FI;default:return null}},UI=Array(12).fill(0),jI=({visible:i,className:t})=>ct.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},ct.createElement("div",{className:"sonner-spinner"},UI.map((e,r)=>ct.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),BI=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zI=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HI=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FI=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qI=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ct.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ct.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),GI=()=>{const[i,t]=ct.useState(document.hidden);return ct.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),i};let xg=1;class KI{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:r,...o}=t,l=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:xg++,h=this.toasts.find(p=>p.id===l),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),h?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...t,id:l,title:r}),{...p,...t,id:l,dismissible:d,title:r}):p):this.addToast({title:r,...o,dismissible:d,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let l=r!==void 0,h;const d=o.then(async g=>{if(h=["resolve",g],ct.isValidElement(g))l=!1,this.create({id:r,type:"default",message:g});else if($I(g)&&!g.ok){l=!1;const v=typeof e.error=="function"?await e.error(`HTTP error! status: ${g.status}`):e.error,b=typeof e.description=="function"?await e.description(`HTTP error! status: ${g.status}`):e.description,B=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:b,...B})}else if(g instanceof Error){l=!1;const v=typeof e.error=="function"?await e.error(g):e.error,b=typeof e.description=="function"?await e.description(g):e.description,B=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:b,...B})}else if(e.success!==void 0){l=!1;const v=typeof e.success=="function"?await e.success(g):e.success,b=typeof e.description=="function"?await e.description(g):e.description,B=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:r,type:"success",description:b,...B})}}).catch(async g=>{if(h=["reject",g],e.error!==void 0){l=!1;const _=typeof e.error=="function"?await e.error(g):e.error,v=typeof e.description=="function"?await e.description(g):e.description,M=typeof _=="object"&&!ct.isValidElement(_)?_:{message:_};this.create({id:r,type:"error",description:v,...M})}}).finally(()=>{l&&(this.dismiss(r),r=void 0),e.finally==null||e.finally.call(e)}),p=()=>new Promise((g,_)=>d.then(()=>h[0]==="reject"?_(h[1]):g(h[1])).catch(_));return typeof r!="string"&&typeof r!="number"?{unwrap:p}:Object.assign(r,{unwrap:p})},this.custom=(t,e)=>{const r=(e==null?void 0:e.id)||xg++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Qn=new KI,QI=(i,t)=>{const e=(t==null?void 0:t.id)||xg++;return Qn.addToast({title:i,...t,id:e}),e},$I=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",YI=QI,XI=()=>Qn.toasts,WI=()=>Qn.getActiveToasts(),or=Object.assign(YI,{success:Qn.success,info:Qn.info,warning:Qn.warning,error:Qn.error,custom:Qn.custom,message:Qn.message,promise:Qn.promise,dismiss:Qn.dismiss,loading:Qn.loading},{getHistory:XI,getToasts:WI});PI("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Cf(i){return i.label!==void 0}const ZI=3,JI="24px",t2="16px",uT=4e3,e2=356,n2=14,i2=45,r2=200;function nr(...i){return i.filter(Boolean).join(" ")}function s2(i){const[t,e]=i.split("-"),r=[];return t&&r.push(t),e&&r.push(e),r}const a2=i=>{var t,e,r,o,l,h,d,p,g;const{invert:_,toast:v,unstyled:b,interacting:M,setHeights:B,visibleToasts:H,heights:O,index:et,toasts:it,expanded:W,removeToast:at,defaultRichColors:lt,closeButton:ht,style:k,cancelButtonStyle:A,actionButtonStyle:C,className:D="",descriptionClassName:P="",duration:U,position:x,gap:kt,expandByDefault:jt,classNames:F,icons:ut,closeButtonAriaLabel:dt="Close toast"}=i,[It,V]=ct.useState(null),[Y,st]=ct.useState(null),[Z,ft]=ct.useState(!1),[bt,pt]=ct.useState(!1),[ue,qt]=ct.useState(!1),[Ce,De]=ct.useState(!1),[En,un]=ct.useState(!1),[In,en]=ct.useState(0),[ne,oi]=ct.useState(0),_e=ct.useRef(v.duration||U||uT),cs=ct.useRef(null),cn=ct.useRef(null),ji=et===0,wi=et+1<=H,Ge=v.type,xn=v.dismissible!==!1,Bi=v.className||"",hs=v.descriptionClassName||"",_t=ct.useMemo(()=>O.findIndex(At=>At.toastId===v.id)||0,[O,v.id]),Ht=ct.useMemo(()=>{var At;return(At=v.closeButton)!=null?At:ht},[v.closeButton,ht]),Ke=ct.useMemo(()=>v.duration||U||uT,[v.duration,U]),Le=ct.useRef(0),Ai=ct.useRef(0),Ro=ct.useRef(0),Un=ct.useRef(null),[pr,gr]=x.split("-"),jn=ct.useMemo(()=>O.reduce((At,Ee,ve)=>ve>=_t?At:At+Ee.height,0),[O,_t]),yr=GI(),vr=v.invert||_,_r=Ge==="loading";Ai.current=ct.useMemo(()=>_t*kt+jn,[_t,jn]),ct.useEffect(()=>{_e.current=Ke},[Ke]),ct.useEffect(()=>{ft(!0)},[]),ct.useEffect(()=>{const At=cn.current;if(At){const Ee=At.getBoundingClientRect().height;return oi(Ee),B(ve=>[{toastId:v.id,height:Ee,position:v.position},...ve]),()=>B(ve=>ve.filter(Ue=>Ue.toastId!==v.id))}},[B,v.id]),ct.useLayoutEffect(()=>{if(!Z)return;const At=cn.current,Ee=At.style.height;At.style.height="auto";const ve=At.getBoundingClientRect().height;At.style.height=Ee,oi(ve),B(Ue=>Ue.find(Ie=>Ie.toastId===v.id)?Ue.map(Ie=>Ie.toastId===v.id?{...Ie,height:ve}:Ie):[{toastId:v.id,height:ve,position:v.position},...Ue])},[Z,v.title,v.description,B,v.id,v.jsx,v.action,v.cancel]);const Bn=ct.useCallback(()=>{pt(!0),en(Ai.current),B(At=>At.filter(Ee=>Ee.toastId!==v.id)),setTimeout(()=>{at(v)},r2)},[v,at,B,Ai]);ct.useEffect(()=>{if(v.promise&&Ge==="loading"||v.duration===1/0||v.type==="loading")return;let At;return W||M||yr?(()=>{if(Ro.current<Le.current){const Ue=new Date().getTime()-Le.current;_e.current=_e.current-Ue}Ro.current=new Date().getTime()})():(()=>{_e.current!==1/0&&(Le.current=new Date().getTime(),At=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Bn()},_e.current))})(),()=>clearTimeout(At)},[W,M,v,Ge,yr,Bn]),ct.useEffect(()=>{v.delete&&(Bn(),v.onDismiss==null||v.onDismiss.call(v,v))},[Bn,v.delete]);function ba(){var At;if(ut!=null&&ut.loading){var Ee;return ct.createElement("div",{className:nr(F==null?void 0:F.loader,v==null||(Ee=v.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Ge==="loading"},ut.loading)}return ct.createElement(jI,{className:nr(F==null?void 0:F.loader,v==null||(At=v.classNames)==null?void 0:At.loader),visible:Ge==="loading"})}const Ri=v.icon||(ut==null?void 0:ut[Ge])||LI(Ge);var li,fs;return ct.createElement("li",{tabIndex:0,ref:cn,className:nr(D,Bi,F==null?void 0:F.toast,v==null||(t=v.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[Ge],v==null||(e=v.classNames)==null?void 0:e[Ge]),"data-sonner-toast":"","data-rich-colors":(li=v.richColors)!=null?li:lt,"data-styled":!(v.jsx||v.unstyled||b),"data-mounted":Z,"data-promise":!!v.promise,"data-swiped":En,"data-removed":bt,"data-visible":wi,"data-y-position":pr,"data-x-position":gr,"data-index":et,"data-front":ji,"data-swiping":ue,"data-dismissible":xn,"data-type":Ge,"data-invert":vr,"data-swipe-out":Ce,"data-swipe-direction":Y,"data-expanded":!!(W||jt&&Z),style:{"--index":et,"--toasts-before":et,"--z-index":it.length-et,"--offset":`${bt?In:Ai.current}px`,"--initial-height":jt?"auto":`${ne}px`,...k,...v.style},onDragEnd:()=>{qt(!1),V(null),Un.current=null},onPointerDown:At=>{_r||!xn||(cs.current=new Date,en(Ai.current),At.target.setPointerCapture(At.pointerId),At.target.tagName!=="BUTTON"&&(qt(!0),Un.current={x:At.clientX,y:At.clientY}))},onPointerUp:()=>{var At,Ee,ve;if(Ce||!xn)return;Un.current=null;const Ue=Number(((At=cn.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wn=Number(((Ee=cn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ie=new Date().getTime()-((ve=cs.current)==null?void 0:ve.getTime()),Gt=It==="x"?Ue:Wn,Te=Math.abs(Gt)/Ie;if(Math.abs(Gt)>=i2||Te>.11){en(Ai.current),v.onDismiss==null||v.onDismiss.call(v,v),st(It==="x"?Ue>0?"right":"left":Wn>0?"down":"up"),Bn(),De(!0);return}else{var ie,be;(ie=cn.current)==null||ie.style.setProperty("--swipe-amount-x","0px"),(be=cn.current)==null||be.style.setProperty("--swipe-amount-y","0px")}un(!1),qt(!1),V(null)},onPointerMove:At=>{var Ee,ve,Ue;if(!Un.current||!xn||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;const Ie=At.clientY-Un.current.y,Gt=At.clientX-Un.current.x;var Te;const ie=(Te=i.swipeDirections)!=null?Te:s2(x);!It&&(Math.abs(Gt)>1||Math.abs(Ie)>1)&&V(Math.abs(Gt)>Math.abs(Ie)?"x":"y");let be={x:0,y:0};const ds=Ci=>1/(1.5+Math.abs(Ci)/20);if(It==="y"){if(ie.includes("top")||ie.includes("bottom"))if(ie.includes("top")&&Ie<0||ie.includes("bottom")&&Ie>0)be.y=Ie;else{const Ci=Ie*ds(Ie);be.y=Math.abs(Ci)<Math.abs(Ie)?Ci:Ie}}else if(It==="x"&&(ie.includes("left")||ie.includes("right")))if(ie.includes("left")&&Gt<0||ie.includes("right")&&Gt>0)be.x=Gt;else{const Ci=Gt*ds(Gt);be.x=Math.abs(Ci)<Math.abs(Gt)?Ci:Gt}(Math.abs(be.x)>0||Math.abs(be.y)>0)&&un(!0),(ve=cn.current)==null||ve.style.setProperty("--swipe-amount-x",`${be.x}px`),(Ue=cn.current)==null||Ue.style.setProperty("--swipe-amount-y",`${be.y}px`)}},Ht&&!v.jsx&&Ge!=="loading"?ct.createElement("button",{"aria-label":dt,"data-disabled":_r,"data-close-button":!0,onClick:_r||!xn?()=>{}:()=>{Bn(),v.onDismiss==null||v.onDismiss.call(v,v)},className:nr(F==null?void 0:F.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(fs=ut==null?void 0:ut.close)!=null?fs:qI):null,(Ge||v.icon||v.promise)&&v.icon!==null&&((ut==null?void 0:ut[Ge])!==null||v.icon)?ct.createElement("div",{"data-icon":"",className:nr(F==null?void 0:F.icon,v==null||(o=v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||ba():null,v.type!=="loading"?Ri:null):null,ct.createElement("div",{"data-content":"",className:nr(F==null?void 0:F.content,v==null||(l=v.classNames)==null?void 0:l.content)},ct.createElement("div",{"data-title":"",className:nr(F==null?void 0:F.title,v==null||(h=v.classNames)==null?void 0:h.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?ct.createElement("div",{"data-description":"",className:nr(P,hs,F==null?void 0:F.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),ct.isValidElement(v.cancel)?v.cancel:v.cancel&&Cf(v.cancel)?ct.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||A,onClick:At=>{Cf(v.cancel)&&xn&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,At),Bn())},className:nr(F==null?void 0:F.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,ct.isValidElement(v.action)?v.action:v.action&&Cf(v.action)?ct.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||C,onClick:At=>{Cf(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,At),!At.defaultPrevented&&Bn())},className:nr(F==null?void 0:F.actionButton,v==null||(g=v.classNames)==null?void 0:g.actionButton)},v.action.label):null)};function cT(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function o2(i,t){const e={};return[i,t].forEach((r,o)=>{const l=o===1,h=l?"--mobile-offset":"--offset",d=l?t2:JI;function p(g){["top","right","bottom","left"].forEach(_=>{e[`${h}-${_}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?p(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?e[`${h}-${g}`]=d:e[`${h}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):p(d)}),e}const Gc=ct.forwardRef(function(t,e){const{invert:r,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:h,closeButton:d,className:p,offset:g,mobileOffset:_,theme:v="light",richColors:b,duration:M,style:B,visibleToasts:H=ZI,toastOptions:O,dir:et=cT(),gap:it=n2,icons:W,containerAriaLabel:at="Notifications"}=t,[lt,ht]=ct.useState([]),k=ct.useMemo(()=>Array.from(new Set([o].concat(lt.filter(Y=>Y.position).map(Y=>Y.position)))),[lt,o]),[A,C]=ct.useState([]),[D,P]=ct.useState(!1),[U,x]=ct.useState(!1),[kt,jt]=ct.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=ct.useRef(null),ut=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),dt=ct.useRef(null),It=ct.useRef(!1),V=ct.useCallback(Y=>{ht(st=>{var Z;return(Z=st.find(ft=>ft.id===Y.id))!=null&&Z.delete||Qn.dismiss(Y.id),st.filter(({id:ft})=>ft!==Y.id)})},[]);return ct.useEffect(()=>Qn.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{ht(st=>st.map(Z=>Z.id===Y.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{to.flushSync(()=>{ht(st=>{const Z=st.findIndex(ft=>ft.id===Y.id);return Z!==-1?[...st.slice(0,Z),{...st[Z],...Y},...st.slice(Z+1)]:[Y,...st]})})})}),[lt]),ct.useEffect(()=>{if(v!=="system"){jt(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?jt("dark"):jt("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:st})=>{jt(st?"dark":"light")})}catch{Y.addListener(({matches:Z})=>{try{jt(Z?"dark":"light")}catch(ft){console.error(ft)}})}},[v]),ct.useEffect(()=>{lt.length<=1&&P(!1)},[lt]),ct.useEffect(()=>{const Y=st=>{var Z;if(l.every(pt=>st[pt]||st.code===pt)){var bt;P(!0),(bt=F.current)==null||bt.focus()}st.code==="Escape"&&(document.activeElement===F.current||(Z=F.current)!=null&&Z.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[l]),ct.useEffect(()=>{if(F.current)return()=>{dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null,It.current=!1)}},[F.current]),ct.createElement("section",{ref:e,"aria-label":`${at} ${ut}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((Y,st)=>{var Z;const[ft,bt]=Y.split("-");return lt.length?ct.createElement("ol",{key:Y,dir:et==="auto"?cT():et,tabIndex:-1,ref:F,className:p,"data-sonner-toaster":!0,"data-sonner-theme":kt,"data-y-position":ft,"data-x-position":bt,style:{"--front-toast-height":`${((Z=A[0])==null?void 0:Z.height)||0}px`,"--width":`${e2}px`,"--gap":`${it}px`,...B,...o2(g,_)},onBlur:pt=>{It.current&&!pt.currentTarget.contains(pt.relatedTarget)&&(It.current=!1,dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null))},onFocus:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||It.current||(It.current=!0,dt.current=pt.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{U||P(!1)},onDragEnd:()=>P(!1),onPointerDown:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||x(!0)},onPointerUp:()=>x(!1)},lt.filter(pt=>!pt.position&&st===0||pt.position===Y).map((pt,ue)=>{var qt,Ce;return ct.createElement(a2,{key:pt.id,icons:W,index:ue,toast:pt,defaultRichColors:b,duration:(qt=O==null?void 0:O.duration)!=null?qt:M,className:O==null?void 0:O.className,descriptionClassName:O==null?void 0:O.descriptionClassName,invert:r,visibleToasts:H,closeButton:(Ce=O==null?void 0:O.closeButton)!=null?Ce:d,interacting:U,position:Y,style:O==null?void 0:O.style,unstyled:O==null?void 0:O.unstyled,classNames:O==null?void 0:O.classNames,cancelButtonStyle:O==null?void 0:O.cancelButtonStyle,actionButtonStyle:O==null?void 0:O.actionButtonStyle,closeButtonAriaLabel:O==null?void 0:O.closeButtonAriaLabel,removeToast:V,toasts:lt.filter(De=>De.position==pt.position),heights:A.filter(De=>De.position==pt.position),setHeights:C,expandByDefault:h,gap:it,expanded:D,swipeDirections:t.swipeDirections})})):null}))}),CS=I.createContext({gameMode:"",setGameMode:()=>console.log("Failed to provide setGameMode.")}),To=()=>I.useContext(CS),IS=I.createContext({currentUser:null,loading:!0}),Id=()=>I.useContext(IS),Yt=Object.freeze({PRACTICE:"practice",CLASSIC:"classic",ROYALE:"royale"}),xS=I.createContext({darkMode:"dark",toggleDarkMode:()=>console.log("Failed to provide dark mode")}),bo=()=>I.useContext(xS);function l2({togglePlayWordle:i}){const{gameMode:t,setGameMode:e}=To(),{currentUser:r}=Id(),{darkMode:o}=bo(),[l,h]=I.useState(t),d=I.useRef(null),[p,g]=I.useState(!1);return I.useEffect(()=>{t!==l&&h(t)},[t]),I.useEffect(()=>{const _=v=>{d.current&&!d.current.contains(v.target)&&g(!1)};return document.addEventListener("mousedown",v=>_(v)),()=>document.addEventListener("mousedown",v=>_(v))},[]),w.jsxs(w.Fragment,{children:[w.jsx(Gc,{richColors:!0,position:"top-center"}),w.jsxs("div",{className:`game-mode-selector ${o}`,children:[w.jsx("div",{className:"play-btn flex-center",onClick:i,children:w.jsx(VI,{})}),w.jsx(ia,{activeKey:"true",className:"game-mode",ref:d,children:w.jsxs(ia.Item,{eventKey:String(p),children:[w.jsx(ia.Header,{onClick:()=>{g(!p)},children:w.jsx("span",{className:"current-mode",children:l.toUpperCase()})}),w.jsx(ia.Body,{onExited:()=>{e(l)},children:w.jsx("ol",{children:Object.keys(Yt).map((_,v)=>Yt[_]===t?null:w.jsx("li",{className:`selector-list ${v+1===Object.keys(Yt).length&&"last"}`,onClick:()=>{r||Yt[_]===Yt.PRACTICE?(g(!1),h(Yt[_])):or.warning("Log in to play.")},children:w.jsx("span",{className:"mode",children:Yt[_].toUpperCase()})},v))})})]})})]})]})}const u2=()=>{};var hT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},c2=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const o=i[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[e++];t[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[e++],h=i[e++],d=i[e++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const l=i[e++],h=i[e++];t[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return t.join("")},NS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=l>>2,v=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,M=g&63;p||(M=64,h||(b=64)),r.push(e[_],e[v],e[b],e[M])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(OS(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):c2(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const l=e[i.charAt(o++)],d=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const v=o<i.length?e[i.charAt(o)]:64;if(++o,l==null||d==null||g==null||v==null)throw new h2;const b=l<<2|d>>4;if(r.push(b),g!==64){const M=d<<4&240|g>>2;if(r.push(M),v!==64){const B=g<<6&192|v;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class h2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f2=function(i){const t=OS(i);return NS.encodeByteArray(t,!0)},Jf=function(i){return f2(i).replace(/\./g,"")},DS=function(i){try{return NS.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=()=>d2().__FIREBASE_DEFAULTS__,p2=()=>{if(typeof process>"u"||typeof hT>"u")return;const i=hT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},g2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&DS(i[1]);return t&&JSON.parse(t)},xd=()=>{try{return u2()||m2()||p2()||g2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},MS=i=>{var t,e;return(e=(t=xd())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},y2=i=>{const t=MS(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},kS=()=>{var i;return(i=xd())===null||i===void 0?void 0:i.config},VS=i=>{var t;return(t=xd())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(i){return i.endsWith(".cloudworkstations.dev")}async function PS(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Jf(JSON.stringify(e)),Jf(JSON.stringify(h)),""].join(".")}const yc={};function E2(){const i={prod:[],emulator:[]};for(const t of Object.keys(yc))yc[t]?i.emulator.push(t):i.prod.push(t);return i}function T2(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let fT=!1;function LS(i,t){if(typeof window>"u"||typeof document>"u"||!Zl(window.location.host)||yc[i]===t||yc[i]||fT)return;yc[i]=t;function e(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=E2().prod.length>0;function h(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,M){b.setAttribute("width","24"),b.setAttribute("id",M),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{fT=!0,h()},b}function _(b,M){b.setAttribute("id",M),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=T2(r),M=e("text"),B=document.getElementById(M)||document.createElement("span"),H=e("learnmore"),O=document.getElementById(H)||document.createElement("a"),et=e("preprendIcon"),it=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const W=b.element;d(W),_(O,H);const at=g();p(it,et),W.append(it,B,O,at),document.body.appendChild(W)}l?(B.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function S2(){var i;const t=(i=xd())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function R2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C2(){const i=Cn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function I2(){return!S2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x2(){try{return typeof indexedDB=="object"}catch{return!1}}function O2(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="FirebaseError";class us extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=N2,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],h=l?D2(l,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new us(o,d,r)}}function D2(i,t){return i.replace(M2,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const M2=/\{\$([^}]+)}/g;function k2(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ho(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const l=i[o],h=t[o];if(dT(l)&&dT(h)){if(!ho(l,h))return!1}else if(l!==h)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function dT(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(i){const t=[];for(const[e,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function cc(i){const t={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function hc(i){const t=i.indexOf("?");if(!t)return"";const e=i.indexOf("#",t);return i.substring(t,e>0?e:void 0)}function V2(i,t){const e=new P2(i,t);return e.subscribe.bind(e)}class P2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");L2(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=og),o.error===void 0&&(o.error=og),o.complete===void 0&&(o.complete=og);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L2(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(i){return i&&i._delegate?i._delegate:i}class fo{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new v2;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(B2(t))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(t=Za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Za){return this.instances.has(t)}getOptions(t=Za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&h.resolve(o)}return o}onInit(t,e){var r;const o=this.normalizeInstanceIdentifier(e),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&t(h,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j2(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Za){return this.component?this.component.multipleInstances?t:Za:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j2(i){return i===Za?void 0:i}function B2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new U2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})($t||($t={}));const H2={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},F2=$t.INFO,q2={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},G2=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=q2[t];if(o)console[o](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class by{constructor(t){this.name=t,this._logLevel=F2,this._logHandler=G2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?H2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const K2=(i,t)=>t.some(e=>i instanceof e);let mT,pT;function Q2(){return mT||(mT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $2(){return pT||(pT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const US=new WeakMap,Og=new WeakMap,jS=new WeakMap,lg=new WeakMap,Sy=new WeakMap;function Y2(i){const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{e(sa(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&US.set(e,i)}).catch(()=>{}),Sy.set(t,i),t}function X2(i){if(Og.has(i))return;const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{e(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});Og.set(i,t)}let Ng={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Og.get(i);if(t==="objectStoreNames")return i.objectStoreNames||jS.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return sa(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function W2(i){Ng=i(Ng)}function Z2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(ug(this),t,...e);return jS.set(r,t.sort?t.sort():[t]),sa(r)}:$2().includes(i)?function(...t){return i.apply(ug(this),t),sa(US.get(this))}:function(...t){return sa(i.apply(ug(this),t))}}function J2(i){return typeof i=="function"?Z2(i):(i instanceof IDBTransaction&&X2(i),K2(i,Q2())?new Proxy(i,Ng):i)}function sa(i){if(i instanceof IDBRequest)return Y2(i);if(lg.has(i))return lg.get(i);const t=J2(i);return t!==i&&(lg.set(i,t),Sy.set(t,i)),t}const ug=i=>Sy.get(i);function tx(i,t,{blocked:e,upgrade:r,blocking:o,terminated:l}={}){const h=indexedDB.open(i,t),d=sa(h);return r&&h.addEventListener("upgradeneeded",p=>{r(sa(h.result),p.oldVersion,p.newVersion,sa(h.transaction),p)}),e&&h.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const ex=["get","getKey","getAll","getAllKeys","count"],nx=["put","add","delete","clear"],cg=new Map;function gT(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(cg.get(t))return cg.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=nx.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ex.includes(e)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return cg.set(t,l),l}W2(i=>({...i,get:(t,e,r)=>gT(t,e)||i.get(t,e,r),has:(t,e)=>!!gT(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(rx(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function rx(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dg="@firebase/app",yT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new by("@firebase/app"),sx="@firebase/app-compat",ax="@firebase/analytics-compat",ox="@firebase/analytics",lx="@firebase/app-check-compat",ux="@firebase/app-check",cx="@firebase/auth",hx="@firebase/auth-compat",fx="@firebase/database",dx="@firebase/data-connect",mx="@firebase/database-compat",px="@firebase/functions",gx="@firebase/functions-compat",yx="@firebase/installations",vx="@firebase/installations-compat",_x="@firebase/messaging",Ex="@firebase/messaging-compat",Tx="@firebase/performance",bx="@firebase/performance-compat",Sx="@firebase/remote-config",wx="@firebase/remote-config-compat",Ax="@firebase/storage",Rx="@firebase/storage-compat",Cx="@firebase/firestore",Ix="@firebase/ai",xx="@firebase/firestore-compat",Ox="firebase",Nx="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",Dx={[Dg]:"fire-core",[sx]:"fire-core-compat",[ox]:"fire-analytics",[ax]:"fire-analytics-compat",[ux]:"fire-app-check",[lx]:"fire-app-check-compat",[cx]:"fire-auth",[hx]:"fire-auth-compat",[fx]:"fire-rtdb",[dx]:"fire-data-connect",[mx]:"fire-rtdb-compat",[px]:"fire-fn",[gx]:"fire-fn-compat",[yx]:"fire-iid",[vx]:"fire-iid-compat",[_x]:"fire-fcm",[Ex]:"fire-fcm-compat",[Tx]:"fire-perf",[bx]:"fire-perf-compat",[Sx]:"fire-rc",[wx]:"fire-rc-compat",[Ax]:"fire-gcs",[Rx]:"fire-gcs-compat",[Cx]:"fire-fst",[xx]:"fire-fst-compat",[Ix]:"fire-vertex","fire-js":"fire-js",[Ox]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Map,Mx=new Map,kg=new Map;function vT(i,t){try{i.container.addComponent(t)}catch(e){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function jl(i){const t=i.name;if(kg.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;kg.set(t,i);for(const e of td.values())vT(e,i);for(const e of Mx.values())vT(e,i);return!0}function wy(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Si(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new Kc("app","Firebase",kx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=Nx;function BS(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Mg,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw aa.create("bad-app-name",{appName:String(o)});if(e||(e=kS()),!e)throw aa.create("no-options");const l=td.get(o);if(l){if(ho(e,l.options)&&ho(r,l.config))return l;throw aa.create("duplicate-app",{appName:o})}const h=new z2(o);for(const p of kg.values())h.addComponent(p);const d=new Vx(e,r,h);return td.set(o,d),d}function zS(i=Mg){const t=td.get(i);if(!t&&i===Mg&&kS())return BS();if(!t)throw aa.create("no-app",{appName:i});return t}function oa(i,t,e){var r;let o=(r=Dx[i])!==null&&r!==void 0?r:i;e&&(o+=`-${e}`);const l=o.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${t}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}jl(new fo(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firebase-heartbeat-database",Lx=1,Ac="firebase-heartbeat-store";let hg=null;function HS(){return hg||(hg=tx(Px,Lx,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Ac)}catch(e){console.warn(e)}}}}).catch(i=>{throw aa.create("idb-open",{originalErrorMessage:i.message})})),hg}async function Ux(i){try{const e=(await HS()).transaction(Ac),r=await e.objectStore(Ac).get(FS(i));return await e.done,r}catch(t){if(t instanceof us)ns.warn(t.message);else{const e=aa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ns.warn(e.message)}}}async function _T(i,t){try{const r=(await HS()).transaction(Ac,"readwrite");await r.objectStore(Ac).put(t,FS(i)),await r.done}catch(e){if(e instanceof us)ns.warn(e.message);else{const r=aa.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ns.warn(r.message)}}}function FS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=1024,Bx=30;class zx{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Fx(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ET();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>Bx){const h=qx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ET(),{heartbeatsToSend:r,unsentEntries:o}=Hx(this._heartbeatsCache.heartbeats),l=Jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ns.warn(e),""}}}function ET(){return new Date().toISOString().substring(0,10)}function Hx(i,t=jx){const e=[];let r=i.slice();for(const o of i){const l=e.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),TT(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),TT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class Fx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x2()?O2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Ux(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return _T(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return _T(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function TT(i){return Jf(JSON.stringify({version:2,heartbeats:i})).length}function qx(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(i){jl(new fo("platform-logger",t=>new ix(t),"PRIVATE")),jl(new fo("heartbeat",t=>new zx(t),"PRIVATE")),oa(Dg,yT,i),oa(Dg,yT,"esm2017"),oa("fire-js","")}Gx("");var bT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var la,qS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,A){function C(){}C.prototype=A.prototype,k.D=A.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(D,P,U){for(var x=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)x[kt-2]=arguments[kt];return A.prototype[P].apply(D,x)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,C){C||(C=0);var D=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)D[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;16>P;++P)D[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=k.g[0],C=k.g[1],P=k.g[2];var U=k.g[3],x=A+(U^C&(P^U))+D[0]+3614090360&4294967295;A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+D[1]+3905402710&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+D[2]+606105819&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+D[3]+3250441966&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(U^C&(P^U))+D[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+D[5]+1200080426&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+D[6]+2821735955&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+D[7]+4249261313&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(U^C&(P^U))+D[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+D[9]+2336552879&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+D[10]+4294925233&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+D[11]+2304563134&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(U^C&(P^U))+D[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+D[13]+4254626195&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+D[14]+2792965006&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+D[15]+1236535329&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(P^U&(C^P))+D[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+D[6]+3225465664&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+D[11]+643717713&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+D[0]+3921069994&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^U&(C^P))+D[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+D[10]+38016083&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+D[15]+3634488961&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+D[4]+3889429448&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^U&(C^P))+D[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+D[14]+3275163606&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+D[3]+4107603335&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+D[8]+1163531501&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^U&(C^P))+D[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+D[2]+4243563512&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+D[7]+1735328473&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+D[12]+2368359562&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(C^P^U)+D[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+D[8]+2272392833&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+D[11]+1839030562&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+D[14]+4259657740&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^U)+D[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+D[4]+1272893353&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+D[7]+4139469664&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+D[10]+3200236656&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^U)+D[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+D[0]+3936430074&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+D[3]+3572445317&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+D[6]+76029189&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^U)+D[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+D[12]+3873151461&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+D[15]+530742520&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+D[2]+3299628645&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(P^(C|~U))+D[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+D[7]+1126891415&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+D[14]+2878612391&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+D[5]+4237533241&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~U))+D[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+D[3]+2399980690&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+D[10]+4293915773&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+D[1]+2240044497&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~U))+D[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+D[15]+4264355552&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+D[6]+2734768916&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+D[13]+1309151649&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~U))+D[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+D[11]+3174756917&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+D[2]+718787259&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var C=A-this.blockSize,D=this.B,P=this.h,U=0;U<A;){if(P==0)for(;U<=C;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<A;)if(D[P++]=k.charCodeAt(U++),P==this.blockSize){o(this,D),P=0;break}}else for(;U<A;)if(D[P++]=k[U++],P==this.blockSize){o(this,D),P=0;break}}this.h=P,this.o+=A},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var C=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=C&255,C/=256;for(this.u(k),k=Array(16),A=C=0;4>A;++A)for(var D=0;32>D;D+=8)k[C++]=this.g[A]>>>D&255;return k};function l(k,A){var C=d;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=A(k)}function h(k,A){this.h=A;for(var C=[],D=!0,P=k.length-1;0<=P;P--){var U=k[P]|0;D&&U==A||(C[P]=U,D=!1)}this.g=C}var d={};function p(k){return-128<=k&&128>k?l(k,function(A){return new h([A|0],0>A?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return O(g(-k));for(var A=[],C=1,D=0;k>=C;D++)A[D]=k/C|0,C*=4294967296;return new h(A,0)}function _(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return O(_(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(A,8)),D=v,P=0;P<k.length;P+=8){var U=Math.min(8,k.length-P),x=parseInt(k.substring(P,P+U),A);8>U?(U=g(Math.pow(A,U)),D=D.j(U).add(g(x))):(D=D.j(C),D=D.add(g(x)))}return D}var v=p(0),b=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(H(this))return-O(this).m();for(var k=0,A=1,C=0;C<this.g.length;C++){var D=this.i(C);k+=(0<=D?D:4294967296+D)*A,A*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(B(this))return"0";if(H(this))return"-"+O(this).toString(k);for(var A=g(Math.pow(k,6)),C=this,D="";;){var P=at(C,A).g;C=et(C,P.j(A));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=P,B(C))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function B(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function H(k){return k.h==-1}i.l=function(k){return k=et(this,k),H(k)?-1:B(k)?0:1};function O(k){for(var A=k.g.length,C=[],D=0;D<A;D++)C[D]=~k.g[D];return new h(C,~k.h).add(b)}i.abs=function(){return H(this)?O(this):this},i.add=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],D=0,P=0;P<=A;P++){var U=D+(this.i(P)&65535)+(k.i(P)&65535),x=(U>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);D=x>>>16,U&=65535,x&=65535,C[P]=x<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function et(k,A){return k.add(O(A))}i.j=function(k){if(B(this)||B(k))return v;if(H(this))return H(k)?O(this).j(O(k)):O(O(this).j(k));if(H(k))return O(this.j(O(k)));if(0>this.l(M)&&0>k.l(M))return g(this.m()*k.m());for(var A=this.g.length+k.g.length,C=[],D=0;D<2*A;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<k.g.length;P++){var U=this.i(D)>>>16,x=this.i(D)&65535,kt=k.i(P)>>>16,jt=k.i(P)&65535;C[2*D+2*P]+=x*jt,it(C,2*D+2*P),C[2*D+2*P+1]+=U*jt,it(C,2*D+2*P+1),C[2*D+2*P+1]+=x*kt,it(C,2*D+2*P+1),C[2*D+2*P+2]+=U*kt,it(C,2*D+2*P+2)}for(D=0;D<A;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=A;D<2*A;D++)C[D]=0;return new h(C,0)};function it(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function W(k,A){this.g=k,this.h=A}function at(k,A){if(B(A))throw Error("division by zero");if(B(k))return new W(v,v);if(H(k))return A=at(O(k),A),new W(O(A.g),O(A.h));if(H(A))return A=at(k,O(A)),new W(O(A.g),A.h);if(30<k.g.length){if(H(k)||H(A))throw Error("slowDivide_ only works with positive integers.");for(var C=b,D=A;0>=D.l(k);)C=lt(C),D=lt(D);var P=ht(C,1),U=ht(D,1);for(D=ht(D,2),C=ht(C,2);!B(D);){var x=U.add(D);0>=x.l(k)&&(P=P.add(C),U=x),D=ht(D,1),C=ht(C,1)}return A=et(k,P.j(A)),new W(P,A)}for(P=v;0<=k.l(A);){for(C=Math.max(1,Math.floor(k.m()/A.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=g(C),x=U.j(A);H(x)||0<x.l(k);)C-=D,U=g(C),x=U.j(A);B(U)&&(U=b),P=P.add(U),k=et(k,x)}return new W(P,k)}i.A=function(k){return at(this,k).h},i.and=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)&k.i(D);return new h(C,this.h&k.h)},i.or=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)|k.i(D);return new h(C,this.h|k.h)},i.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)^k.i(D);return new h(C,this.h^k.h)};function lt(k){for(var A=k.g.length+1,C=[],D=0;D<A;D++)C[D]=k.i(D)<<1|k.i(D-1)>>>31;return new h(C,k.h)}function ht(k,A){var C=A>>5;A%=32;for(var D=k.g.length-C,P=[],U=0;U<D;U++)P[U]=0<A?k.i(U+C)>>>A|k.i(U+C+1)<<32-A:k.i(U+C);return new h(P,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qS=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,la=h}).apply(typeof bT<"u"?bT:typeof self<"u"?self:typeof window<"u"?window:{});var If=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GS,fc,KS,jf,Vg,QS,$S,YS;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof If=="object"&&If];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=e(this);function o(c,y){if(y)t:{var E=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var q=c[R];if(!(q in E))break t;E=E[q]}c=c[c.length-1],R=E[c],y=y(R),y!=R&&y!=null&&t(E,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var E=0,R=!1,q={next:function(){if(!R&&E<c.length){var X=E++;return{value:y(X,c[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,E){return c.call.apply(c.bind,arguments)}function v(c,y,E){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function b(c,y,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,b.apply(null,arguments)}function M(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function B(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(R,q,X){for(var mt=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)mt[Zt-2]=arguments[Zt];return y.prototype[q].apply(R,mt)}}function H(c){const y=c.length;if(0<y){const E=Array(y);for(let R=0;R<y;R++)E[R]=c[R];return E}return[]}function O(c,y){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(p(R)){const q=c.length||0,X=R.length||0;c.length=q+X;for(let mt=0;mt<X;mt++)c[q+mt]=R[mt]}else c.push(R)}}class et{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function it(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function at(c){return at[" "](c),c}at[" "]=function(){};var lt=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ht(c,y,E){for(const R in c)y.call(E,c[R],R,c)}function k(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function A(c){const y={};for(const E in c)y[E]=c[E];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let E,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(E in R)c[E]=R[E];for(let X=0;X<C.length;X++)E=C[X],Object.prototype.hasOwnProperty.call(R,E)&&(c[E]=R[E])}}function P(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function U(c){d.setTimeout(()=>{throw c},0)}function x(){var c=It;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class kt{constructor(){this.h=this.g=null}add(y,E){const R=jt.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var jt=new et(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,dt=!1,It=new kt,V=()=>{const c=d.Promise.resolve(void 0);ut=()=>{c.then(Y)}};var Y=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(E){U(E)}var y=jt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}dt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return c}();function bt(c,y){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(lt){t:{try{at(y.nodeName);var q=!0;break t}catch{}q=!1}q||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&bt.aa.h.call(this)}}B(bt,Z);var pt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Ce(c,y,E,R,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=q,this.key=++qt,this.da=this.fa=!1}function De(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function En(c){this.src=c,this.g={},this.h=0}En.prototype.add=function(c,y,E,R,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var mt=In(c,y,R,q);return-1<mt?(y=c[mt],E||(y.fa=!1)):(y=new Ce(y,this.src,X,!!R,q),y.fa=E,c.push(y)),y};function un(c,y){var E=y.type;if(E in c.g){var R=c.g[E],q=Array.prototype.indexOf.call(R,y,void 0),X;(X=0<=q)&&Array.prototype.splice.call(R,q,1),X&&(De(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function In(c,y,E,R){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==y&&X.capture==!!E&&X.ha==R)return q}return-1}var en="closure_lm_"+(1e6*Math.random()|0),ne={};function oi(c,y,E,R,q){if(Array.isArray(y)){for(var X=0;X<y.length;X++)oi(c,y[X],E,R,q);return null}return E=hs(E),c&&c[ue]?c.K(y,E,g(R)?!!R.capture:!1,q):_e(c,y,E,!1,R,q)}function _e(c,y,E,R,q,X){if(!y)throw Error("Invalid event type");var mt=g(q)?!!q.capture:!!q,Zt=xn(c);if(Zt||(c[en]=Zt=new En(c)),E=Zt.add(y,E,R,mt,X),E.proxy)return E;if(R=cs(),E.proxy=R,R.src=c,R.listener=E,c.addEventListener)ft||(q=mt),q===void 0&&(q=!1),c.addEventListener(y.toString(),R,q);else if(c.attachEvent)c.attachEvent(wi(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function cs(){function c(E){return y.call(c.src,c.listener,E)}const y=Ge;return c}function cn(c,y,E,R,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)cn(c,y[X],E,R,q);else R=g(R)?!!R.capture:!!R,E=hs(E),c&&c[ue]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],E=In(X,E,R,q),-1<E&&(De(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=xn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=In(y,E,R,q)),(E=-1<c?y[c]:null)&&ji(E))}function ji(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ue])un(y.i,c);else{var E=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(E,R,c.capture):y.detachEvent?y.detachEvent(wi(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=xn(y))?(un(E,c),E.h==0&&(E.src=null,y[en]=null)):De(c)}}}function wi(c){return c in ne?ne[c]:ne[c]="on"+c}function Ge(c,y){if(c.da)c=!0;else{y=new bt(y,this);var E=c.listener,R=c.ha||c.src;c.fa&&ji(c),c=E.call(R,y)}return c}function xn(c){return c=c[en],c instanceof En?c:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function hs(c){return typeof c=="function"?c:(c[Bi]||(c[Bi]=function(y){return c.handleEvent(y)}),c[Bi])}function _t(){st.call(this),this.i=new En(this),this.M=this,this.F=null}B(_t,st),_t.prototype[ue]=!0,_t.prototype.removeEventListener=function(c,y,E,R){cn(this,c,y,E,R)};function Ht(c,y){var E,R=c.F;if(R)for(E=[];R;R=R.F)E.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new Z(y,c);else if(y instanceof Z)y.target=y.target||c;else{var q=y;y=new Z(R,c),D(y,q)}if(q=!0,E)for(var X=E.length-1;0<=X;X--){var mt=y.g=E[X];q=Ke(mt,R,!0,y)&&q}if(mt=y.g=c,q=Ke(mt,R,!0,y)&&q,q=Ke(mt,R,!1,y)&&q,E)for(X=0;X<E.length;X++)mt=y.g=E[X],q=Ke(mt,R,!1,y)&&q}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],R=0;R<E.length;R++)De(E[R]);delete c.g[y],c.h--}}this.F=null},_t.prototype.K=function(c,y,E,R){return this.i.add(String(c),y,!1,E,R)},_t.prototype.L=function(c,y,E,R){return this.i.add(String(c),y,!0,E,R)};function Ke(c,y,E,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,X=0;X<y.length;++X){var mt=y[X];if(mt&&!mt.da&&mt.capture==E){var Zt=mt.listener,Qe=mt.ha||mt.src;mt.fa&&un(c.i,mt),q=Zt.call(Qe,R)!==!1&&q}}return q&&!R.defaultPrevented}function Le(c,y,E){if(typeof c=="function")E&&(c=b(c,E));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Ai(c){c.g=Le(()=>{c.g=null,c.i&&(c.i=!1,Ai(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ro extends st{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Un(c){st.call(this),this.h=c,this.g={}}B(Un,st);var pr=[];function gr(c){ht(c.g,function(y,E){this.g.hasOwnProperty(E)&&ji(y)},c),c.g={}}Un.prototype.N=function(){Un.aa.N.call(this),gr(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=d.JSON.stringify,yr=d.JSON.parse,vr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function _r(){}_r.prototype.h=null;function Bn(c){return c.h||(c.h=c.i())}function ba(){}var Ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){Z.call(this,"d")}B(li,Z);function fs(){Z.call(this,"c")}B(fs,Z);var At={},Ee=null;function ve(){return Ee=Ee||new _t}At.La="serverreachability";function Ue(c){Z.call(this,At.La,c)}B(Ue,Z);function Wn(c){const y=ve();Ht(y,new Ue(y))}At.STAT_EVENT="statevent";function Ie(c,y){Z.call(this,At.STAT_EVENT,c),this.stat=y}B(Ie,Z);function Gt(c){const y=ve();Ht(y,new Ie(y,c))}At.Ma="timingevent";function Te(c,y){Z.call(this,At.Ma,c),this.size=y}B(Te,Z);function ie(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function ds(c,y,E,R,q,X){c.info(function(){if(c.g)if(X)for(var mt="",Zt=X.split("&"),Qe=0;Qe<Zt.length;Qe++){var Jt=Zt[Qe].split("=");if(1<Jt.length){var rn=Jt[0];Jt=Jt[1];var $e=rn.split("_");mt=2<=$e.length&&$e[1]=="type"?mt+(rn+"="+Jt+"&"):mt+(rn+"=redacted&")}}else mt=null;else mt=X;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+y+`
`+E+`
`+mt})}function Ci(c,y,E,R,q,X,mt){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+y+`
`+E+`
`+X+" "+mt})}function Er(c,y,E,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Sa(c,E)+(R?" "+R:"")})}function rh(c,y){c.info(function(){return"TIMEOUT: "+y})}be.prototype.info=function(){};function Sa(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var R=E[c];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var mt=1;mt<q.length;mt++)q[mt]=""}}}}return jn(E)}catch{return y}}var ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zi;function Hi(){}B(Hi,_r),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},zi=new Hi;function On(c,y,E,R){this.j=c,this.i=y,this.l=E,this.R=R||1,this.U=new Un(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}var ou={},Co={};function Ii(c,y,E){c.L=1,c.v=Ia(Zn(y)),c.m=E,c.P=!0,br(c,null)}function br(c,y){c.F=Date.now(),wa(c),c.A=Zn(c.v);var E=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),du(E.i,"t",R),c.C=0,E=c.j.J,c.h=new Me,c.g=Eh(c.j,E?y:null,!c.m),0<c.O&&(c.M=new Ro(b(c.Y,c,c.g),c.O)),y=c.U,E=c.g,R=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(pr[0]=q.toString()),q=pr);for(var X=0;X<q.length;X++){var mt=oi(E,q[X],R||y.handleEvent,!1,y.h||y);if(!mt)break;y.g[mt.key]=mt}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Wn(),ds(c.i,c.u,c.A,c.l,c.R,c.m)}On.prototype.ca=function(c){c=c.target;const y=this.M;y&&fi(c)==3?y.j():this.Y(c)},On.prototype.Y=function(c){try{if(c==this.g)t:{const $e=fi(this.g);var y=this.g.Ba();const Or=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||fh(this.g)))){this.J||$e!=4||y==7||(y==8||0>=Or?Wn(3):Wn(2)),ps(this);var E=this.g.Z();this.X=E;e:if(sh(this)){var R=fh(this.g);c="";var q=R.length,X=fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),Fi(this);var mt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(X&&y==q-1)});R.length=0,this.h.g+=c,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=E==200,Ci(this.i,this.u,this.A,this.l,this.R,$e,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Zt,Qe=this.g;if((Zt=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(Zt)){var Jt=Zt;break e}}Jt=null}if(E=Jt)Er(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,E);else{this.o=!1,this.s=3,Gt(12),hn(this),Fi(this);break t}}if(this.P){E=!0;let fn;for(;!this.J&&this.C<mt.length;)if(fn=ah(this,mt),fn==Co){$e==4&&(this.s=4,Gt(14),E=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==ou){this.s=4,Gt(15),Er(this.i,this.l,mt,"[Invalid Chunk]"),E=!1;break}else Er(this.i,this.l,fn,null),Aa(this,fn);if(sh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||mt.length!=0||this.h.h||(this.s=1,Gt(16),E=!1),this.o=this.o&&E,!E)Er(this.i,this.l,mt,"[Invalid Chunked Response]"),hn(this),Fi(this);else if(0<mt.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Pa(rn),rn.M=!0,Gt(11))}}else Er(this.i,this.l,mt,null),Aa(this,mt);$e==4&&hn(this),this.o&&!this.J&&($e==4?yh(this.j,this):(this.o=!1,wa(this)))}else im(this.g),E==400&&0<mt.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),hn(this),Fi(this)}}}catch{}finally{}};function sh(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ah(c,y){var E=c.C,R=y.indexOf(`
`,E);return R==-1?Co:(E=Number(y.substring(E,R)),isNaN(E)?ou:(R+=1,R+E>y.length?Co:(y=y.slice(R,R+E),c.C=R+E,y)))}On.prototype.cancel=function(){this.J=!0,hn(this)};function wa(c){c.S=Date.now()+c.I,oh(c,c.I)}function oh(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ie(b(c.ba,c),y)}function ps(c){c.B&&(d.clearTimeout(c.B),c.B=null)}On.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(rh(this.i,this.A),this.L!=2&&(Wn(),Gt(17)),hn(this),this.s=2,Fi(this)):oh(this,this.S-c)};function Fi(c){c.j.G==0||c.J||yh(c.j,c)}function hn(c){ps(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Aa(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||lu(E.h,c))){if(!c.K&&lu(E.h,c)&&E.G==3){try{var R=E.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)jo(E),Lo(E);else break t;vu(E),Gt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=ie(b(E.Za,E),6e3));if(1>=xo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else xr(E,11)}else if((c.K||E.g==c)&&jo(E),!it(y))for(q=E.Da.g.parse(y),y=0;y<q.length;y++){let Jt=q[y];if(E.T=Jt[0],Jt=Jt[1],E.G==2)if(Jt[0]=="c"){E.K=Jt[1],E.ia=Jt[2];const rn=Jt[3];rn!=null&&(E.la=rn,E.j.info("VER="+E.la));const $e=Jt[4];$e!=null&&(E.Aa=$e,E.j.info("SVER="+E.Aa));const Or=Jt[5];Or!=null&&typeof Or=="number"&&0<Or&&(R=1.5*Or,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const fn=c.g;if(fn){const Xi=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var X=R.h;X.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Oo(X,X.h),X.h=null))}if(R.D){const Eu=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eu&&(R.ya=Eu,fe(R.I,R.D,Eu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var mt=c;if(R.qa=_h(R,R.J?R.ia:null,R.W),mt.K){Nn(R.h,mt);var Zt=mt,Qe=R.L;Qe&&(Zt.I=Qe),Zt.B&&(ps(Zt),wa(Zt)),R.g=mt}else ph(R);0<E.i.length&&Uo(E)}else Jt[0]!="stop"&&Jt[0]!="close"||xr(E,7);else E.G==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?xr(E,7):gu(E):Jt[0]!="noop"&&E.l&&E.l.ta(Jt),E.v=0)}}Wn(4)}catch{}}var lh=class{constructor(c,y){this.g=c,this.map=y}};function Sr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xo(c){return c.h?1:c.g?c.g.size:0}function lu(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Oo(c,y){c.g?c.g.add(y):c.h=y}function Nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Sr.prototype.cancel=function(){if(this.i=uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function uu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return H(c.i)}function Jd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],E=c.length,R=0;R<E;R++)y.push(c[R]);return y}y=[],E=0;for(R in c)y[E++]=c[R];return y}function No(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const R in c)y[E++]=R;return y}}}function cu(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=No(c),R=Jd(c),q=R.length,X=0;X<q;X++)y.call(void 0,R[X],E&&E[X],c)}var Ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tm(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var R=c[E].indexOf("="),q=null;if(0<=R){var X=c[E].substring(0,R);q=c[E].substring(R+1)}else X=c[E];y(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function je(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof je){this.h=c.h,Ca(this,c.j),this.o=c.o,this.g=c.g,gs(this,c.s),this.l=c.l;var y=c.i,E=new Ar;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),wr(this,E),this.m=c.m}else c&&(y=String(c).match(Ra))?(this.h=!1,Ca(this,y[1]||"",!0),this.o=ui(y[2]||""),this.g=ui(y[3]||"",!0),gs(this,y[4]),this.l=ui(y[5]||"",!0),wr(this,y[6]||"",!0),this.m=ui(y[7]||"")):(this.h=!1,this.i=new Ar(null,this.h))}je.prototype.toString=function(){var c=[],y=this.j;y&&c.push(xa(y,hu,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xa(y,hu,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(xa(E,E.charAt(0)=="/"?em:fu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",xa(E,Do)),c.join("")};function Zn(c){return new je(c)}function Ca(c,y,E){c.j=E?ui(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function wr(c,y,E){y instanceof Ar?(c.i=y,ch(c.i,c.h)):(E||(y=xa(y,nm)),c.i=new Ar(y,c.h))}function fe(c,y,E){c.i.set(y,E)}function Ia(c){return fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ui(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xa(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,uh),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hu=/[#\/\?@]/g,fu=/[#\?:]/g,em=/[#\?]/g,nm=/[#\?@]/g,Do=/#/g;function Ar(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ci(c){c.g||(c.g=new Map,c.h=0,c.i&&tm(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Ar.prototype,i.add=function(c,y){ci(this),this.i=null,c=qi(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Rr(c,y){ci(c),y=qi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Cr(c,y){return ci(c),y=qi(c,y),c.g.has(y)}i.forEach=function(c,y){ci(this),this.g.forEach(function(E,R){E.forEach(function(q){c.call(y,q,R,this)},this)},this)},i.na=function(){ci(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let R=0;R<y.length;R++){const q=c[R];for(let X=0;X<q.length;X++)E.push(y[R])}return E},i.V=function(c){ci(this);let y=[];if(typeof c=="string")Cr(this,c)&&(y=y.concat(this.g.get(qi(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},i.set=function(c,y){return ci(this),this.i=null,c=qi(this,c),Cr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function du(c,y,E){Rr(c,y),0<E.length&&(c.i=null,c.g.set(qi(c,y),H(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var R=y[E];const X=encodeURIComponent(String(R)),mt=this.V(R);for(R=0;R<mt.length;R++){var q=X;mt[R]!==""&&(q+="="+encodeURIComponent(String(mt[R]))),c.push(q)}}return this.i=c.join("&")};function qi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ch(c,y){y&&!c.j&&(ci(c),c.i=null,c.g.forEach(function(E,R){var q=R.toLowerCase();R!=q&&(Rr(this,R),du(this,q,E))},c)),c.j=y}function Oa(c,y){const E=new be;if(d.Image){const R=new Image;R.onload=M(hi,E,"TestLoadImage: loaded",!0,y,R),R.onerror=M(hi,E,"TestLoadImage: error",!1,y,R),R.onabort=M(hi,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=M(hi,E,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function xi(c,y){const E=new be,R=new AbortController,q=setTimeout(()=>{R.abort(),hi(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(X=>{clearTimeout(q),X.ok?hi(E,"TestPingServer: ok",!0,y):hi(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),hi(E,"TestPingServer: error",!1,y)})}function hi(c,y,E,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(E)}catch{}}function Na(){this.g=new vr}function Gi(c,y,E){const R=E||"";try{cu(c,function(q,X){let mt=q;g(q)&&(mt=jn(q)),y.push(R+X+"="+encodeURIComponent(mt))})}catch(q){throw y.push(R+"type="+encodeURIComponent("_badmap")),q}}function ys(c){this.l=c.Ub||null,this.j=c.eb||!1}B(ys,_r),ys.prototype.g=function(){return new Ir(this.l,this.j)},ys.prototype.i=function(c){return function(){return c}}({});function Ir(c,y){_t.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Ir,_t),i=Ir.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Qi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ki(this):Qi(this),this.readyState==3&&mu(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ki(this))},i.Qa=function(c){this.g&&(this.response=c,Ki(this))},i.ga=function(){this.g&&Ki(this)};function Ki(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Qi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pu(c){let y="";return ht(c,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function nn(c,y,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=pu(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):fe(c,y,E))}function ae(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(ae,_t);var Mo=/^https?$/i,Da=["POST","PUT"];i=ae.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zi.g(),this.v=this.o?Bn(this.o):Bn(zi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){hh(this,X);return}if(c=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)E.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())E.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Da,y,void 0))||R||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,mt]of E)this.g.setRequestHeader(X,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){hh(this,X)}};function hh(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ko(c),$i(c)}function ko(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),$i(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ae.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Vo(this):this.bb())},i.bb=function(){Vo(this)};function Vo(c){if(c.h&&typeof h<"u"&&(!c.v[1]||fi(c)!=4||c.Z()!=2)){if(c.u&&fi(c)==4)Le(c.Ea,0,c);else if(Ht(c,"readystatechange"),fi(c)==4){c.h=!1;try{const mt=c.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var R;if(R=mt===0){var q=String(c.D).match(Ra)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),R=!Mo.test(q?q.toLowerCase():"")}E=R}if(E)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var X=2<fi(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",ko(c)}}finally{$i(c)}}}}function $i(c,y){if(c.g){Ma(c);const E=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ht(c,"ready");try{E.onreadystatechange=R}catch{}}}function Ma(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function fi(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),yr(y)}};function fh(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function im(c){const y={};c=(c.g&&2<=fi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(it(c[R]))continue;var E=P(c[R]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=y[q]||[];y[q]=X,X.push(E)}k(y,function(R){return R.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Po(c){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ka("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ka("baseRetryDelayMs",5e3,c),this.cb=ka("retryDelaySeedMs",1e4,c),this.Wa=ka("forwardChannelMaxRetries",2,c),this.wa=ka("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Sr(c&&c.concurrentRequestLimit),this.Da=new Na,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Po.prototype,i.la=8,i.G=1,i.connect=function(c,y,E,R){Gt(0),this.W=c,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=_h(this,null,this.W),Uo(this)};function gu(c){if(dh(c),c.G==3){var y=c.U++,E=Zn(c.I);if(fe(E,"SID",c.K),fe(E,"RID",y),fe(E,"TYPE","terminate"),Va(c,E),y=new On(c,c.j,y),y.L=2,y.v=Ia(Zn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=Eh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),wa(y)}vh(c)}function Lo(c){c.g&&(Pa(c),c.g.cancel(),c.g=null)}function dh(c){Lo(c),c.u&&(d.clearTimeout(c.u),c.u=null),jo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Uo(c){if(!Io(c.h)&&!c.s){c.s=!0;var y=c.Ga;ut||V(),dt||(ut(),dt=!0),It.add(y,c),c.B=0}}function rm(c,y){return xo(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ie(b(c.Ga,c,y),_u(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new On(this,this.j,c);let X=this.o;if(this.S&&(X?(X=A(X),D(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=mh(this,q,y),E=Zn(this.I),fe(E,"RID",c),fe(E,"CVER",22),this.D&&fe(E,"X-HTTP-Session-Id",this.D),Va(this,E),X&&(this.O?y="headers="+encodeURIComponent(String(pu(X)))+"&"+y:this.m&&nn(E,this.m,X)),Oo(this.h,q),this.Ua&&fe(E,"TYPE","init"),this.P?(fe(E,"$req",y),fe(E,"SID","null"),q.T=!0,Ii(q,E,null)):Ii(q,E,y),this.G=2}}else this.G==3&&(c?yu(this,c):this.i.length==0||Io(this.h)||yu(this))};function yu(c,y){var E;y?E=y.l:E=c.U++;const R=Zn(c.I);fe(R,"SID",c.K),fe(R,"RID",E),fe(R,"AID",c.T),Va(c,R),c.m&&c.o&&nn(R,c.m,c.o),E=new On(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=mh(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Oo(c.h,E),Ii(E,R,y)}function Va(c,y){c.H&&ht(c.H,function(E,R){fe(y,R,E)}),c.l&&cu({},function(E,R){fe(y,R,E)})}function mh(c,y,E){E=Math.min(c.i.length,E);var R=c.l?b(c.l.Na,c.l,c):null;t:{var q=c.i;let X=-1;for(;;){const mt=["count="+E];X==-1?0<E?(X=q[0].g,mt.push("ofs="+X)):X=0:mt.push("ofs="+X);let Zt=!0;for(let Qe=0;Qe<E;Qe++){let Jt=q[Qe].g;const rn=q[Qe].map;if(Jt-=X,0>Jt)X=Math.max(0,q[Qe].g-100),Zt=!1;else try{Gi(rn,mt,"req"+Jt+"_")}catch{R&&R(rn)}}if(Zt){R=mt.join("&");break t}}}return c=c.i.splice(0,E),y.D=c,R}function ph(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ut||V(),dt||(ut(),dt=!0),It.add(y,c),c.v=0}}function vu(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ie(b(c.Fa,c),_u(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,gh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ie(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),Lo(this),gh(this))};function Pa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function gh(c){c.g=new On(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Zn(c.qa);fe(y,"RID","rpc"),fe(y,"SID",c.K),fe(y,"AID",c.T),fe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&fe(y,"TO",c.ja),fe(y,"TYPE","xmlhttp"),Va(c,y),c.m&&c.o&&nn(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Ia(Zn(y)),E.m=null,E.P=!0,br(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Lo(this),vu(this),Gt(19))};function jo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function yh(c,y){var E=null;if(c.g==y){jo(c),Pa(c),c.g=null;var R=2}else if(lu(c.h,y))E=y.D,Nn(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;R=ve(),Ht(R,new Te(R,E)),Uo(c)}else ph(c);else if(q=y.s,q==3||q==0&&0<y.X||!(R==1&&rm(c,y)||R==2&&vu(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),q){case 1:xr(c,5);break;case 4:xr(c,10);break;case 3:xr(c,6);break;default:xr(c,2)}}}function _u(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function xr(c,y){if(c.j.info("Error code "+y),y==2){var E=b(c.fb,c),R=c.Xa;const q=!R;R=new je(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ca(R,"https"),Ia(R),q?Oa(R.toString(),E):xi(R.toString(),E)}else Gt(2);c.G=0,c.l&&c.l.sa(y),vh(c),dh(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function vh(c){if(c.G=0,c.ka=[],c.l){const y=uu(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ka,y),O(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function _h(c,y,E){var R=E instanceof je?Zn(E):new je(E);if(R.g!="")y&&(R.g=y+"."+R.g),gs(R,R.s);else{var q=d.location;R=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var X=new je(null);R&&Ca(X,R),y&&(X.g=y),q&&gs(X,q),E&&(X.l=E),R=X}return E=c.D,y=c.ya,E&&y&&fe(R,E,y),fe(R,"VER",c.la),Va(c,R),R}function Eh(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ae(new ys({eb:E})):new ae(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Th(){}i=Th.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Bo(){}Bo.prototype.g=function(c,y){return new Dn(c,y)};function Dn(c,y){_t.call(this),this.g=new Po(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!it(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!it(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Yi(this)}B(Dn,_t),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){gu(this.g)},Dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=jn(c),c=E);y.i.push(new lh(y.Ya++,c)),y.G==3&&Uo(y)},Dn.prototype.N=function(){this.g.l=null,delete this.j,gu(this.g),delete this.g,Dn.aa.N.call(this)};function bh(c){li.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const E in y){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}B(bh,li);function Sh(){fs.call(this),this.status=1}B(Sh,fs);function Yi(c){this.g=c}B(Yi,Th),Yi.prototype.ua=function(){Ht(this.g,"a")},Yi.prototype.ta=function(c){Ht(this.g,new bh(c))},Yi.prototype.sa=function(c){Ht(this.g,new Sh)},Yi.prototype.ra=function(){Ht(this.g,"b")},Bo.prototype.createWebChannel=Bo.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,YS=function(){return new Bo},$S=function(){return ve()},QS=At,Vg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,jf=ms,Tr.COMPLETE="complete",KS=Tr,ba.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",_t.prototype.listen=_t.prototype.K,fc=ba,ae.prototype.listenOnce=ae.prototype.L,ae.prototype.getLastError=ae.prototype.Ka,ae.prototype.getLastErrorCode=ae.prototype.Ba,ae.prototype.getStatus=ae.prototype.Z,ae.prototype.getResponseJson=ae.prototype.Oa,ae.prototype.getResponseText=ae.prototype.oa,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Ha,GS=ae}).apply(typeof If<"u"?If:typeof self<"u"?self:typeof window<"u"?window:{});const ST="@firebase/firestore",wT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new by("@firebase/firestore");function yl(){return mo.logLevel}function yt(i,...t){if(mo.logLevel<=$t.DEBUG){const e=t.map(Ay);mo.debug(`Firestore (${tu}): ${i}`,...e)}}function is(i,...t){if(mo.logLevel<=$t.ERROR){const e=t.map(Ay);mo.error(`Firestore (${tu}): ${i}`,...e)}}function Bl(i,...t){if(mo.logLevel<=$t.WARN){const e=t.map(Ay);mo.warn(`Firestore (${tu}): ${i}`,...e)}}function Ay(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,XS(i,r,e)}function XS(i,t,e){let r=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw is(r),new Error(r)}function le(i,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,i||XS(t,o,r)}function Vt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends us{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Kx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(An.UNAUTHENTICATED))}shutdown(){}}class Qx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class $x{constructor(t){this.t=t,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){le(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let l=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Jr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Jr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string",31837,{l:r}),new WS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return le(t===null||typeof t=="string",2055,{h:t}),new An(t)}}class Yx{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Xx{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new Yx(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wx{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){le(this.o===void 0,3512);const r=l=>{l.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,yt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const o=l=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(le(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new AT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Zx(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<e&&(r+=t.charAt(o[l]%62))}return r}}function zt(i,t){return i<t?-1:i>t?1:0}function Pg(i,t){let e=0;for(;e<i.length&&e<t.length;){const r=i.codePointAt(e),o=t.codePointAt(e);if(r!==o){if(r<128&&o<128)return zt(r,o);{const l=ZS(),h=Jx(l.encode(RT(i,e)),l.encode(RT(t,e)));return h!==0?h:zt(r,o)}}e+=r>65535?2:1}return zt(i.length,t.length)}function RT(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function Jx(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return zt(i[e],t[e]);return zt(i.length,t.length)}function zl(i,t,e){return i.length===t.length&&i.every((r,o)=>e(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=-62135596800,IT=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(t){return Je.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*IT);return new Je(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Tt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Tt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<CT)throw new Tt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IT}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-CT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static fromTimestamp(t){return new Mt(t)}static min(){return new Mt(new Je(0,0))}static max(){return new Mt(new Je(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="__name__";class ir{constructor(t,e,r){e===void 0?e=0:e>t.length&&Ot(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Ot(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return ir.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ir?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const l=ir.compareSegments(t.get(o),e.get(o));if(l!==0)return l}return zt(t.length,e.length)}static compareSegments(t,e){const r=ir.isNumericId(t),o=ir.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?ir.extractNumericId(t).compare(ir.extractNumericId(e)):Pg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return la.fromString(t.substring(4,t.length-2))}}class we extends ir{construct(t,e,r){return new we(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Tt(ot.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new we(e)}static emptyPath(){return new we([])}}const tO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ir{construct(t,e,r){return new yn(t,e,r)}static isValidIdentifier(t){return tO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xT}static keyField(){return new yn([xT])}static fromServerFormat(t){const e=[];let r="",o=0;const l=()=>{if(r.length===0)throw new Tt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new Tt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Tt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(r+=d,o++):(l(),o++)}if(l(),h)throw new Tt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yn(e)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.path=t}static fromPath(t){return new wt(we.fromString(t))}static fromName(t){return new wt(we.fromString(t).popFirst(5))}static empty(){return new wt(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return we.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wt(new we(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;function eO(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Mt.fromTimestamp(r===1e9?new Je(e+1,0):new Je(e,r));return new ha(o,wt.empty(),t)}function nO(i){return new ha(i.readTime,i.key,Rc)}class ha{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new ha(Mt.min(),wt.empty(),Rc)}static max(){return new ha(Mt.max(),wt.empty(),Rc)}}function iO(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=wt.comparator(i.documentKey,t.documentKey),e!==0?e:zt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==rO)throw i;yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):rt.reject(e)}static resolve(t){return new rt((e,r)=>{e(t)})}static reject(t){return new rt((e,r)=>{r(t)})}static waitFor(t){return new rt((e,r)=>{let o=0,l=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&e()},p=>r(p))}),h=!0,l===o&&e()})}static or(t){let e=rt.resolve(!1);for(const r of t)e=e.next(o=>o?rt.resolve(o):r());return e}static forEach(t,e){const r=[];return t.forEach((o,l)=>{r.push(e.call(this,o,l))}),this.waitFor(r)}static mapArray(t,e){return new rt((r,o)=>{const l=t.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;e(t[g]).next(_=>{h[g]=_,++d,d===l&&r(h)},_=>o(_))}})}static doWhile(t,e){return new rt((r,o)=>{const l=()=>{t()===!0?e().next(()=>{l()},o):r()};l()})}}function aO(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function nu(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>e.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Od.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=-1;function Nd(i){return i==null}function ed(i){return i===0&&1/i==-1/0}function oO(i){return typeof i=="number"&&Number.isInteger(i)&&!ed(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="";function lO(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=OT(t)),t=uO(i.get(e),t);return OT(t)}function uO(i,t){let e=t;const r=i.length;for(let o=0;o<r;o++){const l=i.charAt(o);switch(l){case"\0":e+="";break;case tw:e+="";break;default:e+=l}}return e}function OT(i){return i+tw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function va(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function ew(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,e){this.comparator=t,this.root=e||gn.EMPTY}insert(t,e){return new Re(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xf(this.root,t,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xf(this.root,t,this.comparator,!0)}}class xf{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gn{constructor(t,e,r,o,l){this.key=t,this.value=e,this.color=r??gn.RED,this.left=o??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,l){return new gn(t??this.key,e??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const l=r(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,r),null):l===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ot(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ot(27949);return t+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot(57766)}get value(){throw Ot(16141)}get color(){throw Ot(16727)}get left(){throw Ot(29726)}get right(){throw Ot(36894)}copy(t,e,r,o,l){return this}insert(t,e,r){return new gn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new DT(this.data.getIterator())}getIteratorFrom(t){return new DT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new tn(this.comparator);return e.data=t,e}}class DT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this.fields=t,t.sort(yn.comparator)}static empty(){return new ai([])}unionWith(t){let e=new tn(yn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ai(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return zl(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nw("Invalid base64 string: "+l):l}}(t);return new _n(e)}static fromUint8Array(t){const e=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(t);return new _n(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const cO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(i){if(le(!!i,39018),typeof i=="string"){let t=0;const e=cO.exec(i);if(le(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pe(i.seconds),nanos:Pe(i.nanos)}}function Pe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function da(i){return typeof i=="string"?_n.fromBase64String(i):_n.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="server_timestamp",rw="__type__",sw="__previous_value__",aw="__local_write_time__";function Cy(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[rw])===null||e===void 0?void 0:e.stringValue)===iw}function Dd(i){const t=i.mapValue.fields[sw];return Cy(t)?Dd(t):t}function Cc(i){const t=fa(i.mapValue.fields[aw].timestampValue);return new Je(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t,e,r,o,l,h,d,p,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const nd="(default)";class Ic{constructor(t,e){this.projectId=t,this.database=e||nd}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database===nd}isEqual(t){return t instanceof Ic&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="__type__",fO="__max__",Of={mapValue:{}},lw="__vector__",id="value";function ma(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Cy(i)?4:mO(i)?9007199254740991:dO(i)?10:11:Ot(28295,{value:i})}function dr(i,t){if(i===t)return!0;const e=ma(i);if(e!==ma(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Cc(i).isEqual(Cc(t));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=fa(o.timestampValue),d=fa(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,l){return da(o.bytesValue).isEqual(da(l.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,l){return Pe(o.geoPointValue.latitude)===Pe(l.geoPointValue.latitude)&&Pe(o.geoPointValue.longitude)===Pe(l.geoPointValue.longitude)}(i,t);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Pe(o.integerValue)===Pe(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Pe(o.doubleValue),d=Pe(l.doubleValue);return h===d?ed(h)===ed(d):isNaN(h)&&isNaN(d)}return!1}(i,t);case 9:return zl(i.arrayValue.values||[],t.arrayValue.values||[],dr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(NT(h)!==NT(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!dr(h[p],d[p])))return!1;return!0}(i,t);default:return Ot(52216,{left:i})}}function xc(i,t){return(i.values||[]).find(e=>dr(e,t))!==void 0}function Hl(i,t){if(i===t)return 0;const e=ma(i),r=ma(t);if(e!==r)return zt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(i.booleanValue,t.booleanValue);case 2:return function(l,h){const d=Pe(l.integerValue||l.doubleValue),p=Pe(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,t);case 3:return MT(i.timestampValue,t.timestampValue);case 4:return MT(Cc(i),Cc(t));case 5:return Pg(i.stringValue,t.stringValue);case 6:return function(l,h){const d=da(l),p=da(h);return d.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=zt(d[g],p[g]);if(_!==0)return _}return zt(d.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(l,h){const d=zt(Pe(l.latitude),Pe(h.latitude));return d!==0?d:zt(Pe(l.longitude),Pe(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return kT(i.arrayValue,t.arrayValue);case 10:return function(l,h){var d,p,g,_;const v=l.fields||{},b=h.fields||{},M=(d=v[id])===null||d===void 0?void 0:d.arrayValue,B=(p=b[id])===null||p===void 0?void 0:p.arrayValue,H=zt(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((_=B==null?void 0:B.values)===null||_===void 0?void 0:_.length)||0);return H!==0?H:kT(M,B)}(i.mapValue,t.mapValue);case 11:return function(l,h){if(l===Of.mapValue&&h===Of.mapValue)return 0;if(l===Of.mapValue)return 1;if(h===Of.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let v=0;v<p.length&&v<_.length;++v){const b=Pg(p[v],_[v]);if(b!==0)return b;const M=Hl(d[p[v]],g[_[v]]);if(M!==0)return M}return zt(p.length,_.length)}(i.mapValue,t.mapValue);default:throw Ot(23264,{Pe:e})}}function MT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return zt(i,t);const e=fa(i),r=fa(t),o=zt(e.seconds,r.seconds);return o!==0?o:zt(e.nanos,r.nanos)}function kT(i,t){const e=i.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const l=Hl(e[o],r[o]);if(l)return l}return zt(e.length,r.length)}function Fl(i){return Lg(i)}function Lg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const r=fa(e);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return da(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return wt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let r="[",o=!0;for(const l of e.values||[])o?o=!1:r+=",",r+=Lg(l);return r+"]"}(i.arrayValue):"mapValue"in i?function(e){const r=Object.keys(e.fields||{}).sort();let o="{",l=!0;for(const h of r)l?l=!1:o+=",",o+=`${h}:${Lg(e.fields[h])}`;return o+"}"}(i.mapValue):Ot(61005,{value:i})}function Bf(i){switch(ma(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dd(i);return t?16+Bf(t):16;case 5:return 2*i.stringValue.length;case 6:return da(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,l)=>o+Bf(l),0)}(i.arrayValue);case 10:case 11:return function(r){let o=0;return va(r.fields,(l,h)=>{o+=l.length+Bf(h)}),o}(i.mapValue);default:throw Ot(13486,{value:i})}}function Ug(i){return!!i&&"integerValue"in i}function Iy(i){return!!i&&"arrayValue"in i}function VT(i){return!!i&&"nullValue"in i}function PT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zf(i){return!!i&&"mapValue"in i}function dO(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[ow])===null||e===void 0?void 0:e.stringValue)===lw}function vc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return va(i.mapValue.fields,(e,r)=>t.mapValue.fields[e]=vc(r)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=vc(i.arrayValue.values[e]);return t}return Object.assign({},i)}function mO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===fO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!zf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=vc(e)}setAll(t){let e=yn.emptyPath(),r={},o=[];t.forEach((h,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=d.popLast()}h?r[d.lastSegment()]=vc(h):o.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,o)}delete(t){const e=this.field(t.popLast());zf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return dr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];zf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){va(e,(o,l)=>t[o]=l);for(const o of r)delete t[o]}clone(){return new Yn(vc(this.value))}}function uw(i){const t=[];return va(i.fields,(e,r)=>{const o=new yn([e]);if(zf(r)){const l=uw(r.mapValue).fields;if(l.length===0)t.push(o);else for(const h of l)t.push(o.child(h))}else t.push(o)}),new ai(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t,e,r,o,l,h,d){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(t){return new Rn(t,0,Mt.min(),Mt.min(),Mt.min(),Yn.empty(),0)}static newFoundDocument(t,e,r,o){return new Rn(t,1,e,Mt.min(),r,o,0)}static newNoDocument(t,e){return new Rn(t,2,e,Mt.min(),Mt.min(),Yn.empty(),0)}static newUnknownDocument(t,e){return new Rn(t,3,e,Mt.min(),Mt.min(),Yn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,e){this.position=t,this.inclusive=e}}function LT(i,t,e){let r=0;for(let o=0;o<i.position.length;o++){const l=t[o],h=i.position[o];if(l.field.isKeyField()?r=wt.comparator(wt.fromName(h.referenceValue),e.key):r=Hl(h,e.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function UT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!dr(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,e="asc"){this.field=t,this.dir=e}}function pO(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{}class Ze extends cw{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new yO(t,e,r):e==="array-contains"?new EO(t,r):e==="in"?new TO(t,r):e==="not-in"?new bO(t,r):e==="array-contains-any"?new SO(t,r):new Ze(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new vO(t,r):new _O(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Hl(e,this.value)):e!==null&&ma(this.value)===ma(e)&&this.matchesComparison(Hl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends cw{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new mr(t,e)}matches(t){return hw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function hw(i){return i.op==="and"}function fw(i){return gO(i)&&hw(i)}function gO(i){for(const t of i.filters)if(t instanceof mr)return!1;return!0}function jg(i){if(i instanceof Ze)return i.field.canonicalString()+i.op.toString()+Fl(i.value);if(fw(i))return i.filters.map(t=>jg(t)).join(",");{const t=i.filters.map(e=>jg(e)).join(",");return`${i.op}(${t})`}}function dw(i,t){return i instanceof Ze?function(r,o){return o instanceof Ze&&r.op===o.op&&r.field.isEqual(o.field)&&dr(r.value,o.value)}(i,t):i instanceof mr?function(r,o){return o instanceof mr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((l,h,d)=>l&&dw(h,o.filters[d]),!0):!1}(i,t):void Ot(19439)}function mw(i){return i instanceof Ze?function(e){return`${e.field.canonicalString()} ${e.op} ${Fl(e.value)}`}(i):i instanceof mr?function(e){return e.op.toString()+" {"+e.getFilters().map(mw).join(" ,")+"}"}(i):"Filter"}class yO extends Ze{constructor(t,e,r){super(t,e,r),this.key=wt.fromName(r.referenceValue)}matches(t){const e=wt.comparator(t.key,this.key);return this.matchesComparison(e)}}class vO extends Ze{constructor(t,e){super(t,"in",e),this.keys=pw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class _O extends Ze{constructor(t,e){super(t,"not-in",e),this.keys=pw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function pw(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>wt.fromName(r.referenceValue))}class EO extends Ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Iy(e)&&xc(e.arrayValue,this.value)}}class TO extends Ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&xc(this.value.arrayValue,e)}}class bO extends Ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!xc(this.value.arrayValue,e)}}class SO extends Ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Iy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t,e=null,r=[],o=[],l=null,h=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.Ie=null}}function jT(i,t=null,e=[],r=[],o=null,l=null,h=null){return new wO(i,t,e,r,o,l,h)}function xy(i){const t=Vt(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>jg(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Nd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Fl(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Fl(r)).join(",")),t.Ie=e}return t.Ie}function Oy(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!pO(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!dw(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!UT(i.startAt,t.startAt)&&UT(i.endAt,t.endAt)}function Bg(i){return wt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,e=null,r=[],o=[],l=null,h="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function AO(i,t,e,r,o,l,h,d){return new Md(i,t,e,r,o,l,h,d)}function Ny(i){return new Md(i)}function BT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function RO(i){return i.collectionGroup!==null}function _c(i){const t=Vt(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new tn(yn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new sd(l,r))}),e.has(yn.keyField().canonicalString())||t.Ee.push(new sd(yn.keyField(),r))}return t.Ee}function lr(i){const t=Vt(i);return t.de||(t.de=CO(t,_c(i))),t.de}function CO(i,t){if(i.limitType==="F")return jT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new sd(o.field,l)});const e=i.endAt?new rd(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new rd(i.startAt.position,i.startAt.inclusive):null;return jT(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function zg(i,t,e){return new Md(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function kd(i,t){return Oy(lr(i),lr(t))&&i.limitType===t.limitType}function gw(i){return`${xy(lr(i))}|lt:${i.limitType}`}function vl(i){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(o=>mw(o)).join(", ")}]`),Nd(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Fl(o)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Fl(o)).join(",")),`Target(${r})`}(lr(i))}; limitType=${i.limitType})`}function Vd(i,t){return t.isFoundDocument()&&function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):wt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,t)&&function(r,o){for(const l of _c(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,t)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(i,t)&&function(r,o){return!(r.startAt&&!function(h,d,p){const g=LT(h,d,p);return h.inclusive?g<=0:g<0}(r.startAt,_c(r),o)||r.endAt&&!function(h,d,p){const g=LT(h,d,p);return h.inclusive?g>=0:g>0}(r.endAt,_c(r),o))}(i,t)}function IO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function yw(i){return(t,e)=>{let r=!1;for(const o of _c(i)){const l=xO(o,t,e);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function xO(i,t,e){const r=i.field.isKeyField()?wt.comparator(t.key,e.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Hl(p,g):Ot(42886)}(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Ot(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){va(this.inner,(e,r)=>{for(const[o,l]of r)t(o,l)})}isEmpty(){return ew(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new Re(wt.comparator);function rs(){return OO}const vw=new Re(wt.comparator);function dc(...i){let t=vw;for(const e of i)t=t.insert(e.key,e);return t}function _w(i){let t=vw;return i.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function eo(){return Ec()}function Ew(){return Ec()}function Ec(){return new So(i=>i.toString(),(i,t)=>i.isEqual(t))}const NO=new Re(wt.comparator),DO=new tn(wt.comparator);function Xt(...i){let t=DO;for(const e of i)t=t.add(e);return t}const MO=new tn(zt);function kO(){return MO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(t)?"-0":t}}function Tw(i){return{integerValue:""+i}}function VO(i,t){return oO(t)?Tw(t):Dy(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this._=void 0}}function PO(i,t,e){return i instanceof ad?function(o,l){const h={fields:{[rw]:{stringValue:iw},[aw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Cy(l)&&(l=Dd(l)),l&&(h.fields[sw]=l),{mapValue:h}}(e,t):i instanceof Oc?Sw(i,t):i instanceof Nc?ww(i,t):function(o,l){const h=bw(o,l),d=zT(h)+zT(o.Re);return Ug(h)&&Ug(o.Re)?Tw(d):Dy(o.serializer,d)}(i,t)}function LO(i,t,e){return i instanceof Oc?Sw(i,t):i instanceof Nc?ww(i,t):e}function bw(i,t){return i instanceof od?function(r){return Ug(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class ad extends Pd{}class Oc extends Pd{constructor(t){super(),this.elements=t}}function Sw(i,t){const e=Aw(t);for(const r of i.elements)e.some(o=>dr(o,r))||e.push(r);return{arrayValue:{values:e}}}class Nc extends Pd{constructor(t){super(),this.elements=t}}function ww(i,t){let e=Aw(t);for(const r of i.elements)e=e.filter(o=>!dr(o,r));return{arrayValue:{values:e}}}class od extends Pd{constructor(t,e){super(),this.serializer=t,this.Re=e}}function zT(i){return Pe(i.integerValue||i.doubleValue)}function Aw(i){return Iy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function UO(i,t){return i.field.isEqual(t.field)&&function(r,o){return r instanceof Oc&&o instanceof Oc||r instanceof Nc&&o instanceof Nc?zl(r.elements,o.elements,dr):r instanceof od&&o instanceof od?dr(r.Re,o.Re):r instanceof ad&&o instanceof ad}(i.transform,t.transform)}class jO{constructor(t,e){this.version=t,this.transformResults=e}}class ur{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ur}static exists(t){return new ur(void 0,t)}static updateTime(t){return new ur(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}let Ld=class{};function Rw(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Iw(i.key,ur.none()):new $c(i.key,i.data,ur.none());{const e=i.data,r=Yn.empty();let o=new tn(yn.comparator);for(let l of t.fields)if(!o.has(l)){let h=e.field(l);h===null&&l.length>1&&(l=l.popLast(),h=e.field(l)),h===null?r.delete(l):r.set(l,h),o=o.add(l)}return new _a(i.key,r,new ai(o.toArray()),ur.none())}}function BO(i,t,e){i instanceof $c?function(o,l,h){const d=o.value.clone(),p=FT(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,t,e):i instanceof _a?function(o,l,h){if(!Hf(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=FT(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(Cw(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,t,e):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function Tc(i,t,e,r){return i instanceof $c?function(l,h,d,p){if(!Hf(l.precondition,h))return d;const g=l.value.clone(),_=qT(l.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,e,r):i instanceof _a?function(l,h,d,p){if(!Hf(l.precondition,h))return d;const g=qT(l.fieldTransforms,p,h),_=h.data;return _.setAll(Cw(l)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(i,t,e,r):function(l,h,d){return Hf(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,t,e)}function zO(i,t){let e=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),l=bw(r.transform,o||null);l!=null&&(e===null&&(e=Yn.empty()),e.set(r.field,l))}return e||null}function HT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&zl(r,o,(l,h)=>UO(l,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class $c extends Ld{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _a extends Ld{constructor(t,e,r,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Cw(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}}),t}function FT(i,t,e){const r=new Map;le(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let o=0;o<e.length;o++){const l=i[o],h=l.transform,d=t.data.field(l.field);r.set(l.field,LO(h,d,e[o]))}return r}function qT(i,t,e){const r=new Map;for(const o of i){const l=o.transform,h=e.data.field(o.field);r.set(o.field,PO(l,h,t))}return r}class Iw extends Ld{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HO extends Ld{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&BO(l,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Tc(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Tc(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=Ew();return this.mutations.forEach(o=>{const l=t.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=e.has(o.key)?null:d;const p=Rw(h,d);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Mt.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Xt())}isEqual(t){return this.batchId===t.batchId&&zl(this.mutations,t.mutations,(e,r)=>HT(e,r))&&zl(this.baseMutations,t.baseMutations,(e,r)=>HT(e,r))}}class My{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){le(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let o=function(){return NO}();const l=t.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new My(t,e,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,ee;function KO(i){switch(i){case ot.OK:return Ot(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return Ot(15467,{code:i})}}function xw(i){if(i===void 0)return is("GRPC error has no .code"),ot.UNKNOWN;switch(i){case He.OK:return ot.OK;case He.CANCELLED:return ot.CANCELLED;case He.UNKNOWN:return ot.UNKNOWN;case He.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case He.INTERNAL:return ot.INTERNAL;case He.UNAVAILABLE:return ot.UNAVAILABLE;case He.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case He.NOT_FOUND:return ot.NOT_FOUND;case He.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case He.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case He.ABORTED:return ot.ABORTED;case He.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case He.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case He.DATA_LOSS:return ot.DATA_LOSS;default:return Ot(39323,{code:i})}}(ee=He||(He={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new la([4294967295,4294967295],0);function GT(i){const t=ZS().encode(i),e=new qS;return e.update(t),new Uint8Array(e.digest())}function KT(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new la([e,r],0),new la([o,l],0)]}class ky{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new mc(`Invalid padding: ${e}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new mc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=la.fromNumber(this.pe)}we(t,e,r){let o=t.add(e.multiply(la.fromNumber(r)));return o.compare(QO)===1&&(o=new la([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=GT(t),[r,o]=KT(e);for(let l=0;l<this.hashCount;l++){const h=this.we(r,o,l);if(!this.be(h))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),h=new ky(l,o,e);return r.forEach(d=>h.insert(d)),h}insert(t){if(this.pe===0)return;const e=GT(t),[r,o]=KT(e);for(let l=0;l<this.hashCount;l++){const h=this.we(r,o,l);this.Se(h)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t,e,r,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Yc.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Ud(Mt.min(),o,new Re(zt),rs(),Xt())}}class Yc{constructor(t,e,r,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Yc(r,e,Xt(),Xt(),Xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,e,r,o){this.De=t,this.removedTargetIds=e,this.key=r,this.ve=o}}class Ow{constructor(t,e){this.targetId=t,this.Ce=e}}class Nw{constructor(t,e,r=_n.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class QT{constructor(){this.Fe=0,this.Me=$T(),this.xe=_n.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Xt(),e=Xt(),r=Xt();return this.Me.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Ot(38017,{changeType:l})}}),new Yc(this.xe,this.Oe,t,e,r)}Qe(){this.Ne=!1,this.Me=$T()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,le(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $O{constructor(t){this.ze=t,this.je=new Map,this.He=rs(),this.Je=Nf(),this.Ye=Nf(),this.Ze=new Re(zt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const r=this.rt(e);switch(t.state){case 0:this.it(e)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(e);break;case 3:this.it(e)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),r.ke(t.resumeToken));break;default:Ot(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((r,o)=>{this.it(o)&&e(o)})}ot(t){const e=t.targetId,r=t.Ce.count,o=this._t(e);if(o){const l=o.target;if(Bg(l))if(r===0){const h=new wt(l.path);this.tt(e,h,Rn.newNoDocument(h,Mt.min()))}else le(r===1,20013,{expectedCount:r});else{const h=this.ut(e);if(h!==r){const d=this.ct(t),p=d?this.lt(d,t,h):1;if(p!==0){this.st(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=e;let h,d;try{h=da(r).toUint8Array()}catch(p){if(p instanceof nw)return Bl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new ky(h,o,l)}catch(p){return Bl(p instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(t,e,r){return e.Ce.count===r-this.Tt(t,e.targetId)?0:2}Tt(t,e){const r=this.ze.getRemoteKeysForTarget(e);let o=0;return r.forEach(l=>{const h=this.ze.Pt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,l,null),o++)}),o}It(t){const e=new Map;this.je.forEach((l,h)=>{const d=this._t(h);if(d){if(l.current&&Bg(d.target)){const p=new wt(d.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Rn.newNoDocument(p,t))}l.Le&&(e.set(h,l.qe()),l.Qe())}});let r=Xt();this.Ye.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.He.forEach((l,h)=>h.setReadTime(t));const o=new Ud(t,e,this.Ze,this.He,r);return this.He=rs(),this.Je=Nf(),this.Ye=Nf(),this.Ze=new Re(zt),o}et(t,e){if(!this.it(t))return;const r=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,r),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,r){if(!this.it(t))return;const o=this.rt(t);this.dt(t,e)?o.$e(e,1):o.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),r&&(this.He=this.He.insert(e,r))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new QT,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new tn(zt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new tn(zt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||yt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new QT),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Nf(){return new Re(wt.comparator)}function $T(){return new Re(wt.comparator)}const YO={asc:"ASCENDING",desc:"DESCENDING"},XO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WO={and:"AND",or:"OR"};class ZO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Hg(i,t){return i.useProto3Json||Nd(t)?t:{value:t}}function ld(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dw(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function JO(i,t){return ld(i,t.toTimestamp())}function cr(i){return le(!!i,49232),Mt.fromTimestamp(function(e){const r=fa(e);return new Je(r.seconds,r.nanos)}(i))}function Vy(i,t){return Fg(i,t).canonicalString()}function Fg(i,t){const e=function(o){return new we(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?e:e.child(t)}function Mw(i){const t=we.fromString(i);return le(Uw(t),10190,{key:t.toString()}),t}function qg(i,t){return Vy(i.databaseId,t.path)}function fg(i,t){const e=Mw(t);if(e.get(1)!==i.databaseId.projectId)throw new Tt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Tt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new wt(Vw(e))}function kw(i,t){return Vy(i.databaseId,t)}function tN(i){const t=Mw(i);return t.length===4?we.emptyPath():Vw(t)}function Gg(i){return new we(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Vw(i){return le(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function YT(i,t,e){return{name:qg(i,t),fields:e.value.mapValue.fields}}function eN(i,t){let e;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ot(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(le(_===void 0||typeof _=="string",58123),_n.fromBase64String(_||"")):(le(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),_n.fromUint8Array(_||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const _=g.code===void 0?ot.UNKNOWN:xw(g.code);return new Tt(_,g.message||"")}(h);e=new Nw(r,o,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=fg(i,r.document.name),l=cr(r.document.updateTime),h=r.document.createTime?cr(r.document.createTime):Mt.min(),d=new Yn({mapValue:{fields:r.document.fields}}),p=Rn.newFoundDocument(o,l,h,d),g=r.targetIds||[],_=r.removedTargetIds||[];e=new Ff(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=fg(i,r.document),l=r.readTime?cr(r.readTime):Mt.min(),h=Rn.newNoDocument(o,l),d=r.removedTargetIds||[];e=new Ff([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=fg(i,r.document),l=r.removedTargetIds||[];e=new Ff([],l,o,null)}else{if(!("filter"in t))return Ot(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,h=new GO(o,l),d=r.targetId;e=new Ow(d,h)}}return e}function nN(i,t){let e;if(t instanceof $c)e={update:YT(i,t.key,t.value)};else if(t instanceof Iw)e={delete:qg(i,t.key)};else if(t instanceof _a)e={update:YT(i,t.key,t.data),updateMask:hN(t.fieldMask)};else{if(!(t instanceof HO))return Ot(16599,{ft:t.type});e={verify:qg(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(l,h){const d=h.transform;if(d instanceof ad)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Oc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Nc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof od)return{fieldPath:h.field.canonicalString(),increment:d.Re};throw Ot(20930,{transform:h.transform})}(0,r))),t.precondition.isNone||(e.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:JO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ot(27497)}(i,t.precondition)),e}function iN(i,t){return i&&i.length>0?(le(t!==void 0,14353),i.map(e=>function(o,l){let h=o.updateTime?cr(o.updateTime):cr(l);return h.isEqual(Mt.min())&&(h=cr(l)),new jO(h,o.transformResults||[])}(e,t))):[]}function rN(i,t){return{documents:[kw(i,t.path)]}}function sN(i,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=kw(i,o);const l=function(g){if(g.length!==0)return Lw(mr.create(g,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:_l(b.field),direction:lN(b.dir)}}(_))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const d=Hg(i,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:o}}function aN(i){let t=tN(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){le(r===1,65062);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let l=[];e.where&&(l=function(v){const b=Pw(v);return b instanceof mr&&fw(b)?b.getFilters():[b]}(e.where));let h=[];e.orderBy&&(h=function(v){return v.map(b=>function(B){return new sd(El(B.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(b))}(e.orderBy));let d=null;e.limit&&(d=function(v){let b;return b=typeof v=="object"?v.value:v,Nd(b)?null:b}(e.limit));let p=null;e.startAt&&(p=function(v){const b=!!v.before,M=v.values||[];return new rd(M,b)}(e.startAt));let g=null;return e.endAt&&(g=function(v){const b=!v.before,M=v.values||[];return new rd(M,b)}(e.endAt)),AO(t,o,h,l,d,"F",p,g)}function oN(i,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Pw(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=El(e.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=El(e.unaryFilter.field);return Ze.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=El(e.unaryFilter.field);return Ze.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=El(e.unaryFilter.field);return Ze.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ot(61313);default:return Ot(60726)}}(i):i.fieldFilter!==void 0?function(e){return Ze.create(El(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ot(58110);default:return Ot(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return mr.create(e.compositeFilter.filters.map(r=>Pw(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ot(1026)}}(e.compositeFilter.op))}(i):Ot(30097,{filter:i})}function lN(i){return YO[i]}function uN(i){return XO[i]}function cN(i){return WO[i]}function _l(i){return{fieldPath:i.canonicalString()}}function El(i){return yn.fromServerFormat(i.fieldPath)}function Lw(i){return i instanceof Ze?function(e){if(e.op==="=="){if(PT(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NAN"}};if(VT(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(PT(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NOT_NAN"}};if(VT(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(e.field),op:uN(e.op),value:e.value}}}(i):i instanceof mr?function(e){const r=e.getFilters().map(o=>Lw(o));return r.length===1?r[0]:{compositeFilter:{op:cN(e.op),filters:r}}}(i):Ot(54877,{filter:i})}function hN(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Uw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,e,r,o,l=Mt.min(),h=Mt.min(),d=_n.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new ra(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t){this.wt=t}}function dN(i){const t=aN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?zg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.Cn=new pN}addToCollectionParentIndex(t,e){return this.Cn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(ha.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(ha.min())}updateCollectionGroup(t,e,r){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class pN{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new tn(we.comparator),l=!o.has(r);return this.index[e]=o.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new tn(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jw=41943040;class $n{static withCacheSize(t){return new $n(t,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(jw,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new ql(0)}static lr(){return new ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="LruGarbageCollector",gN=1048576;function ZT([i,t],[e,r]){const o=zt(i,e);return o===0?zt(t,r):o}class yN{constructor(t){this.Er=t,this.buffer=new tn(ZT),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();ZT(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class vN{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){yt(WT,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){nu(e)?yt(WT,"Ignoring IndexedDB error during garbage collection: ",e):await eu(e)}await this.mr(3e5)})}}class _N{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(Od.le);const r=new yN(e);return this.gr.forEachTarget(t,o=>r.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>r.Rr(o))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.gr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(XT)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XT):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let r,o,l,h,d,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,h=Date.now(),this.nthSequenceNumber(t,o))).next(v=>(r=v,d=Date.now(),this.removeTargets(t,r,e))).next(v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(v=>(g=Date.now(),yl()<=$t.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:v})))}}function EN(i,t){return new _N(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.changes=new So(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?rt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(r!==null&&Tc(r.mutation,o,ai.empty(),Je.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,Xt()).next(()=>r))}getLocalViewOfDocuments(t,e,r=Xt()){const o=eo();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,r).next(l=>{let h=dc();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const r=eo();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,Xt()))}populateOverlays(t,e,r){const o=[];return r.forEach(l=>{e.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((h,d)=>{e.set(h,d)})})}computeViews(t,e,r,o){let l=rs();const h=Ec(),d=function(){return Ec()}();return e.forEach((p,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof _a)?l=l.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),Tc(_.mutation,g,_.mutation.getFieldMask(),Je.now())):h.set(g.key,ai.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((g,_)=>h.set(g,_)),e.forEach((g,_)=>{var v;return d.set(g,new bN(_,(v=h.get(g))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(t,e){const r=Ec();let o=new Re((h,d)=>h-d),l=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=e.get(p);if(g===null)return;let _=r.get(p)||ai.empty();_=d.applyToLocalView(g,_),r.set(p,_);const v=(o.get(d.batchId)||Xt()).add(p);o=o.insert(d.batchId,v)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,v=Ew();_.forEach(b=>{if(!l.has(b)){const M=Rw(e.get(b),r.get(b));M!==null&&v.set(b,M),l=l.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,v))}return rt.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,o){return function(h){return wt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):RO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-l.size):rt.resolve(eo());let d=Rc,p=l;return h.next(g=>rt.forEach(g,(_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(_)?rt.resolve():this.remoteDocumentCache.getEntry(t,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(t,g,l)).next(()=>this.computeViews(t,p,g,Xt())).next(_=>({batchId:d,changes:_w(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new wt(e)).next(r=>{let o=dc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const l=e.collectionGroup;let h=dc();return this.indexManager.getCollectionParents(t,l).next(d=>rt.forEach(d,p=>{const g=function(v,b){return new Md(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(_=>{_.forEach((v,b)=>{h=h.insert(v,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,l,o))).next(h=>{l.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Rn.newInvalidDocument(_)))});let d=dc();return h.forEach((p,g)=>{const _=l.get(p);_!==void 0&&Tc(_.mutation,g,ai.empty(),Je.now()),Vd(e,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return rt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:cr(o.createTime)}}(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(o){return{name:o.name,query:dN(o.bundledQuery),readTime:cr(o.readTime)}}(e)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.overlays=new Re(wt.comparator),this.Qr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=eo();return rt.forEach(e,o=>this.getOverlay(t,o).next(l=>{l!==null&&r.set(o,l)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((o,l)=>{this.St(t,e,l)}),rt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.Qr.get(r);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),rt.resolve()}getOverlaysForCollection(t,e,r){const o=eo(),l=e.length+1,h=new wt(e.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>r&&o.set(p.getKey(),p)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let l=new Re((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let _=l.get(g.largestBatchId);_===null&&(_=eo(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=eo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return rt.resolve(d)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(r.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new qO(e,r));let l=this.Qr.get(e);l===void 0&&(l=Xt(),this.Qr.set(e,l)),this.Qr.set(e,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.$r=new tn(ln.Ur),this.Kr=new tn(ln.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const r=new ln(t,e);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.zr(new ln(t,e))}jr(t,e){t.forEach(r=>this.removeReference(r,e))}Hr(t){const e=new wt(new we([])),r=new ln(e,t),o=new ln(e,t+1),l=[];return this.Kr.forEachInRange([r,o],h=>{this.zr(h),l.push(h.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new wt(new we([])),r=new ln(e,t),o=new ln(e,t+1);let l=Xt();return this.Kr.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(t){const e=new ln(t,0),r=this.$r.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class ln{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return wt.comparator(t.key,e.key)||zt(t.Zr,e.Zr)}static Wr(t,e){return zt(t.Zr,e.Zr)||wt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new tn(ln.Ur)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new FO(l,e,r,o);this.mutationQueue.push(h);for(const d of o)this.Xr=this.Xr.add(new ln(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return rt.resolve(h)}lookupMutationBatch(t,e){return rt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ti(r),l=o<0?0:o;return rt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Ry:this.nr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new ln(e,0),o=new ln(e,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,o],h=>{const d=this.ei(h.Zr);l.push(d)}),rt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new tn(zt);return e.forEach(o=>{const l=new ln(o,0),h=new ln(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,h],d=>{r=r.add(d.Zr)})}),rt.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let l=r;wt.isDocumentKey(l)||(l=l.child(""));const h=new ln(new wt(l),0);let d=new tn(zt);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Zr)),!0)},h),rt.resolve(this.ni(d))}ni(t){const e=[];return t.forEach(r=>{const o=this.ei(r);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){le(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return rt.forEach(e.mutations,o=>{const l=new ln(o.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,e){const r=new ln(e,0),o=this.Xr.firstAfterOrEqual(r);return rt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t){this.ii=t,this.docs=function(){return new Re(wt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),l=o?o.size:0,h=this.ii(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return rt.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(e))}getEntries(t,e){let r=rs();return e.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Rn.newInvalidDocument(o))}),rt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let l=rs();const h=e.path,d=new wt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||iO(nO(_),r)<=0||(o.has(_.key)||Vd(e,_))&&(l=l.insert(_.key,_.mutableCopy()))}return rt.resolve(l)}getAllFromCollectionGroup(t,e,r,o){Ot(9500)}si(t,e){return rt.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new xN(this)}getSize(t){return rt.resolve(this.size)}}class xN extends TN{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?e.push(this.Br.addEntry(t,o)):this.Br.removeEntry(r)}),rt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t){this.persistence=t,this.oi=new So(e=>xy(e),Oy),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this._i=0,this.ai=new Py,this.targetCount=0,this.ui=ql.cr()}forEachTarget(t,e){return this.oi.forEach((r,o)=>e(o)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this._i&&(this._i=e),rt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new ql(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.Tr(e),rt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,r){let o=0;const l=[];return this.oi.forEach((h,d)=>{d.sequenceNumber<=e&&r.get(d.targetId)===null&&(this.oi.delete(h),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),rt.waitFor(l).next(()=>o)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const r=this.oi.get(e)||null;return rt.resolve(r)}addMatchingKeys(t,e,r){return this.ai.Gr(e,r),rt.resolve()}removeMatchingKeys(t,e,r){this.ai.jr(e,r);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(h=>{l.push(o.markPotentiallyOrphaned(t,h))}),rt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.ai.Yr(e);return rt.resolve(r)}containsKey(t,e){return rt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,e){this.ci={},this.overlays={},this.li=new Od(0),this.hi=!1,this.hi=!0,this.Pi=new RN,this.referenceDelegate=t(this),this.Ti=new ON(this),this.indexManager=new mN,this.remoteDocumentCache=function(o){return new IN(o)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new fN(e),this.Ei=new wN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new AN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ci[t.toKey()];return r||(r=new CN(e,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,r){yt("MemoryPersistence","Starting transaction:",t);const o=new NN(this.li.next());return this.referenceDelegate.di(),r(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(t,e){return rt.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,e)))}}class NN extends sO{constructor(t){super(),this.currentSequenceNumber=t}}class Ly{constructor(t){this.persistence=t,this.Vi=new Py,this.mi=null}static fi(t){return new Ly(t)}get gi(){if(this.mi)return this.mi;throw Ot(60996)}addReference(t,e,r){return this.Vi.addReference(r,e),this.gi.delete(r.toString()),rt.resolve()}removeReference(t,e,r){return this.Vi.removeReference(r,e),this.gi.add(r.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(o=>this.gi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.gi,r=>{const o=wt.fromPath(r);return this.pi(t,o).next(l=>{l||e.removeEntry(o,Mt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(r=>{r?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return rt.or([()=>rt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class ud{constructor(t,e){this.persistence=t,this.yi=new So(r=>lO(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=EN(this,e)}static fi(t,e){return new ud(t,e)}di(){}Ai(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(o=>r+o))}br(t){let e=0;return this.yr(t,r=>{e++}).next(()=>e)}yr(t,e){return rt.forEach(this.yi,(r,o)=>this.Dr(t,r,o).next(l=>l?rt.resolve():e(o)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(t,h=>this.Dr(t,h,e).next(d=>{d||(r++,l.removeEntry(h,Mt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.yi.set(r,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,r){return this.yi.set(r,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),rt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Bf(t.data.value)),e}Dr(t,e,r){return rt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.yi.get(e);return rt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.ds=r,this.As=o}static Rs(t,e){let r=Xt(),o=Xt();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Uy(t,e.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return I2()?8:aO(Cn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,r,o){const l={result:null};return this.ws(t,e).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.bs(t,e,o,r).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new DN;return this.Ss(t,e,h).next(d=>{if(l.result=d,this.fs)return this.Ds(t,e,h,d.size)})}).next(()=>l.result)}Ds(t,e,r,o){return r.documentReadCount<this.gs?(yl()<=$t.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",vl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),rt.resolve()):(yl()<=$t.DEBUG&&yt("QueryEngine","Query:",vl(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ps*o?(yl()<=$t.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",vl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lr(e))):rt.resolve())}ws(t,e){if(BT(e))return rt.resolve(null);let r=lr(e);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=zg(e,null,"F"),r=lr(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const h=Xt(...l);return this.ys.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,r).next(p=>{const g=this.vs(e,d);return this.Cs(e,g,h,p.readTime)?this.ws(t,zg(e,null,"F")):this.Fs(t,g,e,p)}))})))}bs(t,e,r,o){return BT(e)||o.isEqual(Mt.min())?rt.resolve(null):this.ys.getDocuments(t,r).next(l=>{const h=this.vs(e,l);return this.Cs(e,h,r,o)?rt.resolve(null):(yl()<=$t.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vl(e)),this.Fs(t,h,e,eO(o,Rc)).next(d=>d))})}vs(t,e){let r=new tn(yw(t));return e.forEach((o,l)=>{Vd(t,l)&&(r=r.add(l))}),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(t,e,r){return yl()<=$t.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",vl(e)),this.ys.getDocumentsMatchingQuery(t,e,ha.min(),r)}Fs(t,e,r,o){return this.ys.getDocumentsMatchingQuery(t,r,o).next(l=>(e.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="LocalStore",kN=3e8;class VN{constructor(t,e,r,o){this.persistence=t,this.Ms=e,this.serializer=o,this.xs=new Re(zt),this.Os=new So(l=>xy(l),Oy),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function PN(i,t,e,r){return new VN(i,t,e,r)}async function zw(i,t){const e=Vt(i);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,e.Ls(t),e.mutationQueue.getAllMutationBatches(r))).next(l=>{const h=[],d=[];let p=Xt();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return e.localDocuments.getDocuments(r,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:d}))})})}function LN(i,t){const e=Vt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),l=e.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const v=g.batch,b=v.keys();let M=rt.resolve();return b.forEach(B=>{M=M.next(()=>_.getEntry(p,B)).next(H=>{const O=g.docVersions.get(B);le(O!==null,48541),H.version.compareTo(O)<0&&(v.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),_.addEntry(H)))})}),M.next(()=>d.mutationQueue.removeMutationBatch(p,v))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Xt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>e.localDocuments.getDocuments(r,o))})}function Hw(i){const t=Vt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function UN(i,t){const e=Vt(i),r=t.snapshotVersion;let o=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=e.Bs.newChangeBuffer({trackRemovals:!0});o=e.xs;const d=[];t.targetChanges.forEach((_,v)=>{const b=o.get(v);if(!b)return;d.push(e.Ti.removeMatchingKeys(l,_.removedDocuments,v).next(()=>e.Ti.addMatchingKeys(l,_.addedDocuments,v)));let M=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?M=M.withResumeToken(_n.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,r)),o=o.insert(v,M),function(H,O,et){return H.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=kN?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(b,M,_)&&d.push(e.Ti.updateTargetData(l,M))});let p=rs(),g=Xt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(jN(l,h,t.documentUpdates).next(_=>{p=_.qs,g=_.Qs})),!r.isEqual(Mt.min())){const _=e.Ti.getLastRemoteSnapshotVersion(l).next(v=>e.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(_)}return rt.waitFor(d).next(()=>h.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(e.xs=o,l))}function jN(i,t,e){let r=Xt(),o=Xt();return e.forEach(l=>r=r.add(l)),t.getEntries(i,r).next(l=>{let h=rs();return e.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Mt.min())?(t.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(d,p)):yt(jy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function BN(i,t){const e=Vt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Ry),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function zN(i,t){const e=Vt(i);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.Ti.getTargetData(r,t).next(l=>l?(o=l,rt.resolve(o)):e.Ti.allocateTargetId(r).next(h=>(o=new ra(t,h,"TargetPurposeListen",r.currentSequenceNumber),e.Ti.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.xs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.xs=e.xs.insert(r.targetId,r),e.Os.set(t,r.targetId)),r})}async function Kg(i,t,e){const r=Vt(i),o=r.xs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!nu(h))throw h;yt(jy,`Failed to update sequence numbers for target ${t}: ${h}`)}r.xs=r.xs.remove(t),r.Os.delete(o.target)}function JT(i,t,e){const r=Vt(i);let o=Mt.min(),l=Xt();return r.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const v=Vt(p),b=v.Os.get(_);return b!==void 0?rt.resolve(v.xs.get(b)):v.Ti.getTargetData(g,_)}(r,h,lr(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>r.Ms.getDocumentsMatchingQuery(h,t,e?o:Mt.min(),e?l:Xt())).next(d=>(HN(r,IO(t),d),{documents:d,$s:l})))}function HN(i,t,e){let r=i.Ns.get(t)||Mt.min();e.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),i.Ns.set(t,r)}class tb{constructor(){this.activeTargetIds=kO()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class FN{constructor(){this.xo=new tb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,r){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new tb,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="ConnectivityMonitor";class nb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){yt(eb,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){yt(eb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df=null;function Qg(){return Df===null?Df=function(){return 268435456+Math.round(2147483648*Math.random())}():Df++,"0x"+Df.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="RestConnection",GN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KN{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${r}/databases/${o}`,this.Go=this.databaseId.database===nd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}zo(t,e,r,o,l){const h=Qg(),d=this.jo(t,e.toUriEncodedString());yt(dg,`Sending RPC '${t}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,l);const{host:g}=new URL(d),_=Zl(g);return this.Jo(t,d,p,r,_).then(v=>(yt(dg,`Received RPC '${t}' ${h}: `,v),v),v=>{throw Bl(dg,`RPC '${t}' ${h} failed with error: `,v,"url: ",d,"request:",r),v})}Yo(t,e,r,o,l,h){return this.zo(t,e,r,o,l)}Ho(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),r&&r.headers.forEach((o,l)=>t[l]=o)}jo(t,e){const r=GN[t];return`${this.Ko}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class $N extends KN{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,l){const h=Qg();return new Promise((d,p)=>{const g=new GS;g.setWithCredentials(!0),g.listenOnce(KS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case jf.NO_ERROR:const v=g.getResponseJson();yt(Sn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(v)),d(v);break;case jf.TIMEOUT:yt(Sn,`RPC '${t}' ${h} timed out`),p(new Tt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case jf.HTTP_ERROR:const b=g.getStatus();if(yt(Sn,`RPC '${t}' ${h} failed with status:`,b,"response text:",g.getResponseText()),b>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const B=M==null?void 0:M.error;if(B&&B.status&&B.message){const H=function(et){const it=et.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(it)>=0?it:ot.UNKNOWN}(B.status);p(new Tt(H,B.message))}else p(new Tt(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Tt(ot.UNAVAILABLE,"Connection failed."));break;default:Ot(9055,{h_:t,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{yt(Sn,`RPC '${t}' ${h} completed.`)}});const _=JSON.stringify(o);yt(Sn,`RPC '${t}' ${h} sending request:`,o),g.send(e,"POST",_,r,15)})}I_(t,e,r){const o=Qg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=YS(),d=$S(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const _=l.join("");yt(Sn,`Creating RPC '${t}' stream ${o}: ${_}`,p);const v=h.createWebChannel(_,p);this.E_(v);let b=!1,M=!1;const B=new QN({Zo:O=>{M?yt(Sn,`Not sending because RPC '${t}' stream ${o} is closed:`,O):(b||(yt(Sn,`Opening RPC '${t}' stream ${o} transport.`),v.open(),b=!0),yt(Sn,`RPC '${t}' stream ${o} sending:`,O),v.send(O))},Xo:()=>v.close()}),H=(O,et,it)=>{O.listen(et,W=>{try{it(W)}catch(at){setTimeout(()=>{throw at},0)}})};return H(v,fc.EventType.OPEN,()=>{M||(yt(Sn,`RPC '${t}' stream ${o} transport opened.`),B.__())}),H(v,fc.EventType.CLOSE,()=>{M||(M=!0,yt(Sn,`RPC '${t}' stream ${o} transport closed`),B.u_(),this.d_(v))}),H(v,fc.EventType.ERROR,O=>{M||(M=!0,Bl(Sn,`RPC '${t}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),B.u_(new Tt(ot.UNAVAILABLE,"The operation could not be completed")))}),H(v,fc.EventType.MESSAGE,O=>{var et;if(!M){const it=O.data[0];le(!!it,16349);const W=it,at=(W==null?void 0:W.error)||((et=W[0])===null||et===void 0?void 0:et.error);if(at){yt(Sn,`RPC '${t}' stream ${o} received error:`,at);const lt=at.status;let ht=function(C){const D=He[C];if(D!==void 0)return xw(D)}(lt),k=at.message;ht===void 0&&(ht=ot.INTERNAL,k="Unknown error status: "+lt+" with message "+at.message),M=!0,B.u_(new Tt(ht,k)),v.close()}else yt(Sn,`RPC '${t}' stream ${o} received:`,it),B.c_(it)}}),H(d,QS.STAT_EVENT,O=>{O.stat===Vg.PROXY?yt(Sn,`RPC '${t}' stream ${o} detected buffering proxy`):O.stat===Vg.NOPROXY&&yt(Sn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.a_()},0),B}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function mg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(i){return new ZO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,e,r=1e3,o=1.5,l=6e4){this.xi=t,this.timerId=e,this.A_=r,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),o=Math.max(0,e-r);o>0&&yt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="PersistentStream";class qw{constructor(t,e,r,o,l,h,d,p){this.xi=t,this.S_=r,this.D_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Fw(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===ot.RESOURCE_EXHAUSTED?(is(e.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.v_===e&&this.z_(r,o)},r=>{t(()=>{const o=new Tt(ot.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(o)})})}z_(t,e){const r=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{r(()=>this.j_(o))}),this.stream.onMessage(o=>{r(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return yt(ib,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(yt(ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YN extends qw{constructor(t,e,r,o,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,h),this.serializer=l}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=eN(this.serializer,t),r=function(l){if(!("targetChange"in l))return Mt.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Mt.min():h.readTime?cr(h.readTime):Mt.min()}(t);return this.listener.Y_(e,r)}Z_(t){const e={};e.database=Gg(this.serializer),e.addTarget=function(l,h){let d;const p=h.target;if(d=Bg(p)?{documents:rN(l,p)}:{query:sN(l,p).gt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Dw(l,h.resumeToken);const g=Hg(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Mt.min())>0){d.readTime=ld(l,h.snapshotVersion.toTimestamp());const g=Hg(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const r=oN(this.serializer,t);r&&(e.labels=r),this.Q_(e)}X_(t){const e={};e.database=Gg(this.serializer),e.removeTarget=t,this.Q_(e)}}class XN extends qw{constructor(t,e,r,o,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,h),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return le(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,le(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){le(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=iN(t.writeResults,t.commitTime),r=cr(t.commitTime);return this.listener.ra(r,e)}ia(){const t={};t.database=Gg(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>nN(this.serializer,r))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{}class ZN extends WN{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new Tt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.zo(t,Fg(e,r),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Tt(ot.UNKNOWN,l.toString())})}Yo(t,e,r,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Yo(t,Fg(e,r),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Tt(ot.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class JN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(is(e),this.ua=!1):yt("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="RemoteStore";class tD{constructor(t,e,r,o,l){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(h=>{r.enqueueAndForget(async()=>{wo(this)&&(yt(po,"Restarting streams for network reachability change."),await async function(p){const g=Vt(p);g.da.add(4),await Xc(g),g.Va.set("Unknown"),g.da.delete(4),await Bd(g)}(this))})}),this.Va=new JN(r,o)}}async function Bd(i){if(wo(i))for(const t of i.Aa)await t(!0)}async function Xc(i){for(const t of i.Aa)await t(!1)}function Gw(i,t){const e=Vt(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),Fy(e)?Hy(e):iu(e).N_()&&zy(e,t))}function By(i,t){const e=Vt(i),r=iu(e);e.Ea.delete(t),r.N_()&&Kw(e,t),e.Ea.size===0&&(r.N_()?r.k_():wo(e)&&e.Va.set("Unknown"))}function zy(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}iu(i).Z_(t)}function Kw(i,t){i.ma.Ke(t),iu(i).X_(t)}function Hy(i){i.ma=new $O({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),iu(i).start(),i.Va.ca()}function Fy(i){return wo(i)&&!iu(i).O_()&&i.Ea.size>0}function wo(i){return Vt(i).da.size===0}function Qw(i){i.ma=void 0}async function eD(i){i.Va.set("Online")}async function nD(i){i.Ea.forEach((t,e)=>{zy(i,t)})}async function iD(i,t){Qw(i),Fy(i)?(i.Va.Pa(t),Hy(i)):i.Va.set("Unknown")}async function rD(i,t,e){if(i.Va.set("Online"),t instanceof Nw&&t.state===2&&t.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ea.delete(d),o.ma.removeTarget(d))}(i,t)}catch(r){yt(po,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await cd(i,r)}else if(t instanceof Ff?i.ma.Xe(t):t instanceof Ow?i.ma.ot(t):i.ma.nt(t),!e.isEqual(Mt.min()))try{const r=await Hw(i.localStore);e.compareTo(r)>=0&&await function(l,h){const d=l.ma.It(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ea.get(g);_&&l.Ea.set(g,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const _=l.Ea.get(p);if(!_)return;l.Ea.set(p,_.withResumeToken(_n.EMPTY_BYTE_STRING,_.snapshotVersion)),Kw(l,p);const v=new ra(_.target,p,g,_.sequenceNumber);zy(l,v)}),l.remoteSyncer.applyRemoteEvent(d)}(i,e)}catch(r){yt(po,"Failed to raise snapshot:",r),await cd(i,r)}}async function cd(i,t,e){if(!nu(t))throw t;i.da.add(1),await Xc(i),i.Va.set("Offline"),e||(e=()=>Hw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{yt(po,"Retrying IndexedDB access"),await e(),i.da.delete(1),await Bd(i)})}function $w(i,t){return t().catch(e=>cd(i,e,t))}async function zd(i){const t=Vt(i),e=pa(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Ry;for(;sD(t);)try{const o=await BN(t.localStore,r);if(o===null){t.Ia.length===0&&e.k_();break}r=o.batchId,aD(t,o)}catch(o){await cd(t,o)}Yw(t)&&Xw(t)}function sD(i){return wo(i)&&i.Ia.length<10}function aD(i,t){i.Ia.push(t);const e=pa(i);e.N_()&&e.ea&&e.ta(t.mutations)}function Yw(i){return wo(i)&&!pa(i).O_()&&i.Ia.length>0}function Xw(i){pa(i).start()}async function oD(i){pa(i).ia()}async function lD(i){const t=pa(i);for(const e of i.Ia)t.ta(e.mutations)}async function uD(i,t,e){const r=i.Ia.shift(),o=My.from(r,t,e);await $w(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await zd(i)}async function cD(i,t){t&&pa(i).ea&&await async function(r,o){if(function(h){return KO(h)&&h!==ot.ABORTED}(o.code)){const l=r.Ia.shift();pa(r).L_(),await $w(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),await zd(r)}}(i,t),Yw(i)&&Xw(i)}async function rb(i,t){const e=Vt(i);e.asyncQueue.verifyOperationInProgress(),yt(po,"RemoteStore received new credentials");const r=wo(e);e.da.add(3),await Xc(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Bd(e)}async function hD(i,t){const e=Vt(i);t?(e.da.delete(2),await Bd(e)):t||(e.da.add(2),await Xc(e),e.Va.set("Unknown"))}function iu(i){return i.fa||(i.fa=function(e,r,o){const l=Vt(e);return l.oa(),new YN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{e_:eD.bind(null,i),n_:nD.bind(null,i),i_:iD.bind(null,i),Y_:rD.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),Fy(i)?Hy(i):i.Va.set("Unknown")):(await i.fa.stop(),Qw(i))})),i.fa}function pa(i){return i.ga||(i.ga=function(e,r,o){const l=Vt(e);return l.oa(),new XN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:oD.bind(null,i),i_:cD.bind(null,i),na:lD.bind(null,i),ra:uD.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await zd(i)):(await i.ga.stop(),i.Ia.length>0&&(yt(po,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(t,e,r,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,l){const h=Date.now()+r,d=new qy(t,e,h,o,l);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(i,t){if(is("AsyncQueue",`${t}: ${i}`),nu(i))return new Tt(ot.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{static emptySet(t){return new Sl(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||wt.comparator(e.key,r.key):(e,r)=>wt.comparator(e.key,r.key),this.keyedMap=dc(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Sl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Sl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.pa=new Re(wt.comparator)}track(t){const e=t.doc.key,r=this.pa.get(e);r?t.type!==0&&r.type===3?this.pa=this.pa.insert(e,t):t.type===3&&r.type!==1?this.pa=this.pa.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.pa=this.pa.remove(e):t.type===1&&r.type===2?this.pa=this.pa.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):Ot(63341,{Vt:t,ya:r}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,r)=>{t.push(r)}),t}}class Gl{constructor(t,e,r,o,l,h,d,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,l){const h=[];return e.forEach(d=>{h.push({type:0,doc:d})}),new Gl(t,e,Sl.emptySet(e),h,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class dD{constructor(){this.queries=ab(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Vt(e),l=o.queries;o.queries=ab(),l.forEach((h,d)=>{for(const p of d.Sa)p.onError(r)})})(this,new Tt(ot.ABORTED,"Firestore shutting down"))}}function ab(){return new So(i=>gw(i),kd)}async function Ww(i,t){const e=Vt(i);let r=3;const o=t.query;let l=e.queries.get(o);l?!l.Da()&&t.va()&&(r=2):(l=new fD,r=t.va()?0:1);try{switch(r){case 0:l.ba=await e.onListen(o,!0);break;case 1:l.ba=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const d=Gy(h,`Initialization of query '${vl(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,l),l.Sa.push(t),t.Fa(e.onlineState),l.ba&&t.Ma(l.ba)&&Ky(e)}async function Zw(i,t){const e=Vt(i),r=t.query;let o=3;const l=e.queries.get(r);if(l){const h=l.Sa.indexOf(t);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=t.va()?0:1:!l.Da()&&t.va()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function mD(i,t){const e=Vt(i);let r=!1;for(const o of t){const l=o.query,h=e.queries.get(l);if(h){for(const d of h.Sa)d.Ma(o)&&(r=!0);h.ba=o}}r&&Ky(e)}function pD(i,t,e){const r=Vt(i),o=r.queries.get(t);if(o)for(const l of o.Sa)l.onError(e);r.queries.delete(t)}function Ky(i){i.Ca.forEach(t=>{t.next()})}var $g,ob;(ob=$g||($g={})).xa="default",ob.Cache="cache";class Jw{constructor(t,e,r){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Gl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const r=e!=="Offline";return(!this.options.Qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Gl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t){this.key=t}}class e1{constructor(t){this.key=t}}class gD{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xt(),this.mutatedKeys=Xt(),this.Za=yw(t),this.Xa=new Sl(this.Za)}get eu(){return this.Ha}tu(t,e){const r=e?e.nu:new sb,o=e?e.Xa:this.Xa;let l=e?e.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((_,v)=>{const b=o.get(_),M=Vd(this.query,v)?v:null,B=!!b&&this.mutatedKeys.has(b.key),H=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let O=!1;b&&M?b.data.isEqual(M.data)?B!==H&&(r.track({type:3,doc:M}),O=!0):this.ru(b,M)||(r.track({type:2,doc:M}),O=!0,(p&&this.Za(M,p)>0||g&&this.Za(M,g)<0)&&(d=!0)):!b&&M?(r.track({type:0,doc:M}),O=!0):b&&!M&&(r.track({type:1,doc:b}),O=!0,(p||g)&&(d=!0)),O&&(M?(h=h.add(M),l=H?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{Xa:h,nu:r,Cs:d,mutatedKeys:l}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const l=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const h=t.nu.wa();h.sort((_,v)=>function(M,B){const H=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot(20277,{Vt:O})}};return H(M)-H(B)}(_.type,v.type)||this.Za(_.doc,v.doc)),this.iu(r),o=o!=null&&o;const d=e&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new Gl(this.query,t.Xa,l,h,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new sb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Xt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const e=[];return t.forEach(r=>{this.Ya.has(r)||e.push(new e1(r))}),this.Ya.forEach(r=>{t.has(r)||e.push(new t1(r))}),e}au(t){this.Ha=t.$s,this.Ya=Xt();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Gl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Qy="SyncEngine";class yD{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class vD{constructor(t){this.key=t,this.cu=!1}}class _D{constructor(t,e,r,o,l,h){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new So(d=>gw(d),kd),this.Pu=new Map,this.Tu=new Set,this.Iu=new Re(wt.comparator),this.Eu=new Map,this.du=new Py,this.Au={},this.Ru=new Map,this.Vu=ql.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function ED(i,t,e=!0){const r=o1(i);let o;const l=r.hu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await n1(r,t,e,!0),o}async function TD(i,t){const e=o1(i);await n1(e,t,!0,!1)}async function n1(i,t,e,r){const o=await zN(i.localStore,lr(t)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,e);let d;return r&&(d=await bD(i,t,l,h==="current",o.resumeToken)),i.isPrimaryClient&&e&&Gw(i.remoteStore,o),d}async function bD(i,t,e,r,o){i.fu=(v,b,M)=>async function(H,O,et,it){let W=O.view.tu(et);W.Cs&&(W=await JT(H.localStore,O.query,!1).then(({documents:k})=>O.view.tu(k,W)));const at=it&&it.targetChanges.get(O.targetId),lt=it&&it.targetMismatches.get(O.targetId)!=null,ht=O.view.applyChanges(W,H.isPrimaryClient,at,lt);return ub(H,O.targetId,ht.ou),ht.snapshot}(i,v,b,M);const l=await JT(i.localStore,t,!0),h=new gD(t,l.$s),d=h.tu(l.documents),p=Yc.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);ub(i,e,g.ou);const _=new yD(t,e,h);return i.hu.set(t,_),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),g.snapshot}async function SD(i,t,e){const r=Vt(i),o=r.hu.get(t),l=r.Pu.get(o.targetId);if(l.length>1)return r.Pu.set(o.targetId,l.filter(h=>!kd(h,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Kg(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),e&&By(r.remoteStore,o.targetId),Yg(r,o.targetId)}).catch(eu)):(Yg(r,o.targetId),await Kg(r.localStore,o.targetId,!0))}async function wD(i,t){const e=Vt(i),r=e.hu.get(t),o=e.Pu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),By(e.remoteStore,r.targetId))}async function AD(i,t,e){const r=DD(i);try{const o=await function(h,d){const p=Vt(h),g=Je.now(),_=d.reduce((M,B)=>M.add(B.key),Xt());let v,b;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let B=rs(),H=Xt();return p.Bs.getEntries(M,_).next(O=>{B=O,B.forEach((et,it)=>{it.isValidDocument()||(H=H.add(et))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,B)).next(O=>{v=O;const et=[];for(const it of d){const W=zO(it,v.get(it.key).overlayedDocument);W!=null&&et.push(new _a(it.key,W,uw(W.value.mapValue),ur.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,et,d)}).next(O=>{b=O;const et=O.applyToLocalDocumentSet(v,H);return p.documentOverlayCache.saveOverlays(M,O.batchId,et)})}).then(()=>({batchId:b.batchId,changes:_w(v)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Au[h.currentUser.toKey()];g||(g=new Re(zt)),g=g.insert(d,p),h.Au[h.currentUser.toKey()]=g}(r,o.batchId,e),await Wc(r,o.changes),await zd(r.remoteStore)}catch(o){const l=Gy(o,"Failed to persist write");e.reject(l)}}async function i1(i,t){const e=Vt(i);try{const r=await UN(e.localStore,t);t.targetChanges.forEach((o,l)=>{const h=e.Eu.get(l);h&&(le(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?le(h.cu,14607):o.removedDocuments.size>0&&(le(h.cu,42227),h.cu=!1))}),await Wc(e,r,t)}catch(r){await eu(r)}}function lb(i,t,e){const r=Vt(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.hu.forEach((l,h)=>{const d=h.view.Fa(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Vt(h);p.onlineState=d;let g=!1;p.queries.forEach((_,v)=>{for(const b of v.Sa)b.Fa(d)&&(g=!0)}),g&&Ky(p)}(r.eventManager,t),o.length&&r.lu.Y_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function RD(i,t,e){const r=Vt(i);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Eu.get(t),l=o&&o.key;if(l){let h=new Re(wt.comparator);h=h.insert(l,Rn.newNoDocument(l,Mt.min()));const d=Xt().add(l),p=new Ud(Mt.min(),new Map,new Re(zt),h,d);await i1(r,p),r.Iu=r.Iu.remove(l),r.Eu.delete(t),$y(r)}else await Kg(r.localStore,t,!1).then(()=>Yg(r,t,e)).catch(eu)}async function CD(i,t){const e=Vt(i),r=t.batch.batchId;try{const o=await LN(e.localStore,t);s1(e,r,null),r1(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Wc(e,o)}catch(o){await eu(o)}}async function ID(i,t,e){const r=Vt(i);try{const o=await function(h,d){const p=Vt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(v=>(le(v!==null,37113),_=v.keys(),p.mutationQueue.removeMutationBatch(g,v))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(r.localStore,t);s1(r,t,e),r1(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Wc(r,o)}catch(o){await eu(o)}}function r1(i,t){(i.Ru.get(t)||[]).forEach(e=>{e.resolve()}),i.Ru.delete(t)}function s1(i,t,e){const r=Vt(i);let o=r.Au[r.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),r.Au[r.currentUser.toKey()]=o}}function Yg(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Pu.get(t))i.hu.delete(r),e&&i.lu.gu(r,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(r=>{i.du.containsKey(r)||a1(i,r)})}function a1(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(By(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),$y(i))}function ub(i,t,e){for(const r of e)r instanceof t1?(i.du.addReference(r.key,t),xD(i,r)):r instanceof e1?(yt(Qy,"Document no longer in limbo: "+r.key),i.du.removeReference(r.key,t),i.du.containsKey(r.key)||a1(i,r.key)):Ot(19791,{pu:r})}function xD(i,t){const e=t.key,r=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(r)||(yt(Qy,"New document in limbo: "+e),i.Tu.add(r),$y(i))}function $y(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new wt(we.fromString(t)),r=i.Vu.next();i.Eu.set(r,new vD(e)),i.Iu=i.Iu.insert(e,r),Gw(i.remoteStore,new ra(lr(Ny(e.path)),r,"TargetPurposeLimboResolution",Od.le))}}async function Wc(i,t,e){const r=Vt(i),o=[],l=[],h=[];r.hu.isEmpty()||(r.hu.forEach((d,p)=>{h.push(r.fu(p,t,e).then(g=>{var _;if((g||e)&&r.isPrimaryClient){const v=g?!g.fromCache:(_=e==null?void 0:e.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Uy.Rs(p.targetId,g);l.push(v)}}))}),await Promise.all(h),r.lu.Y_(o),await async function(p,g){const _=Vt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>rt.forEach(g,b=>rt.forEach(b.ds,M=>_.persistence.referenceDelegate.addReference(v,b.targetId,M)).next(()=>rt.forEach(b.As,M=>_.persistence.referenceDelegate.removeReference(v,b.targetId,M)))))}catch(v){if(!nu(v))throw v;yt(jy,"Failed to update sequence numbers: "+v)}for(const v of g){const b=v.targetId;if(!v.fromCache){const M=_.xs.get(b),B=M.snapshotVersion,H=M.withLastLimboFreeSnapshotVersion(B);_.xs=_.xs.insert(b,H)}}}(r.localStore,l))}async function OD(i,t){const e=Vt(i);if(!e.currentUser.isEqual(t)){yt(Qy,"User change. New user:",t.toKey());const r=await zw(e.localStore,t);e.currentUser=t,function(l,h){l.Ru.forEach(d=>{d.forEach(p=>{p.reject(new Tt(ot.CANCELLED,h))})}),l.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Wc(e,r.ks)}}function ND(i,t){const e=Vt(i),r=e.Eu.get(t);if(r&&r.cu)return Xt().add(r.key);{let o=Xt();const l=e.Pu.get(t);if(!l)return o;for(const h of l){const d=e.hu.get(h);o=o.unionWith(d.view.eu)}return o}}function o1(i){const t=Vt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=i1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ND.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RD.bind(null,t),t.lu.Y_=mD.bind(null,t.eventManager),t.lu.gu=pD.bind(null,t.eventManager),t}function DD(i){const t=Vt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ID.bind(null,t),t}class hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return PN(this.persistence,new MN,t.initialUser,this.serializer)}Su(t){return new Bw(Ly.fi,this.serializer)}bu(t){return new FN}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hd.provider={build:()=>new hd};class MD extends hd{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){le(this.persistence.referenceDelegate instanceof ud,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vN(r,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new Bw(r=>ud.fi(r,e),this.serializer)}}class Xg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OD.bind(null,this.syncEngine),await hD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dD}()}createDatastore(t){const e=jd(t.databaseInfo.databaseId),r=function(l){return new $N(l)}(t.databaseInfo);return function(l,h,d,p){return new ZN(l,h,d,p)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,o,l,h,d){return new tD(r,o,l,h,d)}(this.localStore,this.datastore,t.asyncQueue,e=>lb(this.syncEngine,e,0),function(){return nb.C()?new nb:new qN}())}createSyncEngine(t,e){return function(o,l,h,d,p,g,_){const v=new _D(o,l,h,d,p,g);return _&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const l=Vt(o);yt(po,"RemoteStore shutting down."),l.da.add(5),await Xc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Xg.provider={build:()=>new Xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):is("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="FirestoreClient";class kD{constructor(t,e,r,o,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=JS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async h=>{yt(ga,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(yt(ga,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Gy(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function pg(i,t){i.asyncQueue.verifyOperationInProgress(),yt(ga,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener(async o=>{r.isEqual(o)||(await zw(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function cb(i,t){i.asyncQueue.verifyOperationInProgress();const e=await VD(i);yt(ga,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(r=>rb(t.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>rb(t.remoteStore,o)),i._onlineComponents=t}async function VD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){yt(ga,"Using user provided OfflineComponentProvider");try{await pg(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;Bl("Error using user provided cache. Falling back to memory cache: "+e),await pg(i,new hd)}}else yt(ga,"Using default OfflineComponentProvider"),await pg(i,new MD(void 0));return i._offlineComponents}async function u1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(yt(ga,"Using user provided OnlineComponentProvider"),await cb(i,i._uninitializedComponentsProvider._online)):(yt(ga,"Using default OnlineComponentProvider"),await cb(i,new Xg))),i._onlineComponents}function PD(i){return u1(i).then(t=>t.syncEngine)}async function c1(i){const t=await u1(i),e=t.eventManager;return e.onListen=ED.bind(null,t.syncEngine),e.onUnlisten=SD.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=TD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=wD.bind(null,t.syncEngine),e}function LD(i,t,e={}){const r=new Jr;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const _=new l1({next:b=>{_.xu(),h.enqueueAndForget(()=>Zw(l,v));const M=b.docs.has(d);!M&&b.fromCache?g.reject(new Tt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&b.fromCache&&p&&p.source==="server"?g.reject(new Tt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new Jw(Ny(d.path),_,{includeMetadataChanges:!0,Qa:!0});return Ww(l,v)}(await c1(i),i.asyncQueue,t,e,r)),r.promise}function UD(i,t,e={}){const r=new Jr;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const _=new l1({next:b=>{_.xu(),h.enqueueAndForget(()=>Zw(l,v)),b.fromCache&&p.source==="server"?g.reject(new Tt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new Jw(d,_,{includeMetadataChanges:!0,Qa:!0});return Ww(l,v)}(await c1(i),i.asyncQueue,t,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(i,t,e){if(!e)throw new Tt(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function jD(i,t,e,r){if(t===!0&&r===!0)throw new Tt(ot.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function fb(i){if(!wt.isDocumentKey(i))throw new Tt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function db(i){if(wt.isDocumentKey(i))throw new Tt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Yy(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Ot(12329,{type:typeof i})}function ss(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Tt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Yy(i);throw new Tt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="firestore.googleapis.com",mb=!0;class pb{constructor(t){var e,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d1,this.ssl=mb}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:mb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gN)throw new Tt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Tt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Tt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Tt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hd{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Tt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Kx;switch(r.type){case"firstParty":return new Xx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Tt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=hb.get(e);r&&(yt("ComponentProvider","Removing Datastore"),hb.delete(e),r.terminate())}(this),Promise.resolve()}}function BD(i,t,e,r={}){var o;i=ss(i,Hd);const l=Zl(t),h=i._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${e}`;l&&(PS(`https://${p}`),LS("Firestore",!0)),h.host!==d1&&h.host!==p&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:r});if(!ho(g,d)&&(i._setSettings(g),r.mockUserToken)){let _,v;if(typeof r.mockUserToken=="string")_=r.mockUserToken,v=An.MOCK_USER;else{_=_2(r.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Tt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new An(b)}i._authCredentials=new Qx(new WS(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m1=class p1{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new p1(this.firestore,t,this._query)}};class Xn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xn(this.firestore,t,this._key)}}class ua extends m1{constructor(t,e,r){super(t,e,Ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xn(this.firestore,null,new wt(t))}withConverter(t){return new ua(this.firestore,t,this._path)}}function zD(i,t,...e){if(i=vn(i),f1("collection","path",t),i instanceof Hd){const r=we.fromString(t,...e);return db(r),new ua(i,null,r)}{if(!(i instanceof Xn||i instanceof ua))throw new Tt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(we.fromString(t,...e));return db(r),new ua(i.firestore,null,r)}}function go(i,t,...e){if(i=vn(i),arguments.length===1&&(t=JS.newId()),f1("doc","path",t),i instanceof Hd){const r=we.fromString(t,...e);return fb(r),new Xn(i,null,new wt(r))}{if(!(i instanceof Xn||i instanceof ua))throw new Tt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(we.fromString(t,...e));return fb(r),new Xn(i.firestore,i instanceof ua?i.converter:null,new wt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="AsyncQueue";class yb{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Fw(this,"async_queue_retry"),this.rc=()=>{const r=mg();r&&yt(gb,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=t;const e=mg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=mg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new Jr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!nu(t))throw t;yt(gb,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(r=>{throw this.Xu=r,this.ec=!1,is("INTERNAL UNHANDLED ERROR: ",vb(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=e,e}enqueueAfterDelay(t,e,r){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const o=qy.createAndSchedule(this,t,e,r,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&Ot(47125,{cc:vb(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function vb(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Zc extends Hd{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new yb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yb(t),this._firestoreClient=void 0,await t}}}function HD(i,t){const e=typeof i=="object"?i:zS(),r=typeof i=="string"?i:nd,o=wy(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=y2("firestore");l&&BD(o,...l)}return o}function Xy(i){if(i._terminated)throw new Tt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||FD(i),i._firestoreClient}function FD(i){var t,e,r;const o=i._freezeSettings(),l=function(d,p,g,_){return new hO(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,h1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new kD(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kl(_n.fromBase64String(t))}catch(e){throw new Tt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kl(_n.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Tt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Tt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Tt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^__.*__$/;class GD{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new _a(t,this.data,this.fieldMask,e,this.fieldTransforms):new $c(t,this.data,e,this.fieldTransforms)}}class g1{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new _a(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function y1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot(40011,{Ic:i})}}class tv{constructor(t,e,r,o,l,h){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new tv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:r,Rc:!1});return o.Vc(t),o}mc(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:r,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return fd(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(y1(this.Ic)&&qD.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class KD{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||jd(t)}bc(t,e,r,o=!1){return new tv({Ic:t,methodName:e,wc:r,path:yn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v1(i){const t=i._freezeSettings(),e=jd(i._databaseId);return new KD(i._databaseId,!!t.ignoreUndefinedProperties,e)}function QD(i,t,e,r,o,l={}){const h=i.bc(l.merge||l.mergeFields?2:0,t,e,o);ev("Data must be an object, but it was:",h,r);const d=_1(r,h);let p,g;if(l.merge)p=new ai(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const b=Wg(t,v,e);if(!h.contains(b))throw new Tt(ot.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);T1(_,b)||_.push(b)}p=new ai(_),g=h.fieldTransforms.filter(v=>p.covers(v.field))}else p=null,g=h.fieldTransforms;return new GD(new Yn(d),p,g)}class qd extends Wy{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qd}}function $D(i,t,e,r){const o=i.bc(1,t,e);ev("Data must be an object, but it was:",o,r);const l=[],h=Yn.empty();va(r,(p,g)=>{const _=nv(t,p,e);g=vn(g);const v=o.mc(_);if(g instanceof qd)l.push(_);else{const b=Gd(g,v);b!=null&&(l.push(_),h.set(_,b))}});const d=new ai(l);return new g1(h,d,o.fieldTransforms)}function YD(i,t,e,r,o,l){const h=i.bc(1,t,e),d=[Wg(t,r,e)],p=[o];if(l.length%2!=0)throw new Tt(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Wg(t,l[b])),p.push(l[b+1]);const g=[],_=Yn.empty();for(let b=d.length-1;b>=0;--b)if(!T1(g,d[b])){const M=d[b];let B=p[b];B=vn(B);const H=h.mc(M);if(B instanceof qd)g.push(M);else{const O=Gd(B,H);O!=null&&(g.push(M),_.set(M,O))}}const v=new ai(g);return new g1(_,v,h.fieldTransforms)}function Gd(i,t){if(E1(i=vn(i)))return ev("Unsupported field value:",t,i),_1(i,t);if(i instanceof Wy)return function(r,o){if(!y1(o.Ic))throw o.gc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(r,o){const l=[];let h=0;for(const d of r){let p=Gd(d,o.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,t)}return function(r,o){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Je.fromDate(r);return{timestampValue:ld(o.serializer,l)}}if(r instanceof Je){const l=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ld(o.serializer,l)}}if(r instanceof Zy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kl)return{bytesValue:Dw(o.serializer,r._byteString)};if(r instanceof Xn){const l=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(l))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Jy)return function(h,d){return{mapValue:{fields:{[ow]:{stringValue:lw},[id]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return Dy(d.serializer,g)})}}}}}}(r,o);throw o.gc(`Unsupported field value: ${Yy(r)}`)}(i,t)}function _1(i,t){const e={};return ew(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):va(i,(r,o)=>{const l=Gd(o,t.Ac(r));l!=null&&(e[r]=l)}),{mapValue:{fields:e}}}function E1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Je||i instanceof Zy||i instanceof Kl||i instanceof Xn||i instanceof Wy||i instanceof Jy)}function ev(i,t,e){if(!E1(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const r=Yy(e);throw r==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+r)}}function Wg(i,t,e){if((t=vn(t))instanceof Fd)return t._internalPath;if(typeof t=="string")return nv(i,t);throw fd("Field path arguments must be of type string or ",i,!1,void 0,e)}const XD=new RegExp("[~\\*/\\[\\]]");function nv(i,t,e){if(t.search(XD)>=0)throw fd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Fd(...t.split("."))._internalPath}catch{throw fd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function fd(i,t,e,r,o){const l=r&&!r.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new Tt(ot.INVALID_ARGUMENT,d+i+p)}function T1(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t,e,r,o,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(S1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class WD extends b1{data(){return super.data()}}function S1(i,t){return typeof t=="string"?nv(i,t):t instanceof Fd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Tt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JD{convertValue(t,e="none"){switch(ma(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(da(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ot(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return va(t,(o,l)=>{r[o]=this.convertValue(l,e)}),r}convertVectorValue(t){var e,r,o;const l=(o=(r=(e=t.fields)===null||e===void 0?void 0:e[id].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(h=>Pe(h.doubleValue));return new Jy(l)}convertGeoPoint(t){return new Zy(Pe(t.latitude),Pe(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Dd(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Cc(t));default:return null}}convertTimestamp(t){const e=fa(t);return new Je(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=we.fromString(t);le(Uw(r),9688,{name:t});const o=new Ic(r.get(1),r.get(3)),l=new wt(r.popFirst(5));return o.isEqual(e)||is(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(i,t,e){let r;return r=i?i.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class w1 extends b1{constructor(t,e,r,o,l,h){super(t,e,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(S1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class qf extends w1{data(t={}){return super.data(t)}}class eM{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new pc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new qf(this._firestore,this._userDataWriter,r.key,r,new pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Tt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new qf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new pc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new qf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new pc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:nM(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function nM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(i){i=ss(i,Xn);const t=ss(i.firestore,Zc);return LD(Xy(t),i._key).then(e=>aM(t,i,e))}class A1 extends JD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xn(this.firestore,null,e)}}function iM(i){i=ss(i,m1);const t=ss(i.firestore,Zc),e=Xy(t),r=new A1(t);return ZD(i._query),UD(e,i._query).then(o=>new eM(t,r,i,o))}function rM(i,t,e){i=ss(i,Xn);const r=ss(i.firestore,Zc),o=tM(i.converter,t);return R1(r,[QD(v1(r),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,ur.none())])}function sM(i,t,e,...r){i=ss(i,Xn);const o=ss(i.firestore,Zc),l=v1(o);let h;return h=typeof(t=vn(t))=="string"||t instanceof Fd?YD(l,"updateDoc",i._key,t,e,r):$D(l,"updateDoc",i._key,t),R1(o,[h.toMutation(i._key,ur.exists(!0))])}function R1(i,t){return function(r,o){const l=new Jr;return r.asyncQueue.enqueueAndForget(async()=>AD(await PD(r),o,l)),l.promise}(Xy(i),t)}function aM(i,t,e){const r=e.docs.get(t._key),o=new A1(i);return new w1(i,o,t._key,r,new pc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){tu=o})(Jl),jl(new fo("firestore",(r,{instanceIdentifier:o,options:l})=>{const h=r.getProvider("app").getImmediate(),d=new Zc(new $x(r.getProvider("auth-internal")),new Wx(h,r.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Tt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(g.options.projectId,_)}(h,o),h);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),oa(ST,wT,t),oa(ST,wT,"esm2017")})();var oM="firebase",lM="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa(oM,lM,"app");function iv(i,t){var e={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.indexOf(r)<0&&(e[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(e[r[o]]=i[r[o]]);return e}function C1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uM=C1,I1=new Kc("auth","Firebase",C1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new by("@firebase/auth");function cM(i,...t){dd.logLevel<=$t.WARN&&dd.warn(`Auth (${Jl}): ${i}`,...t)}function Gf(i,...t){dd.logLevel<=$t.ERROR&&dd.error(`Auth (${Jl}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(i,...t){throw rv(i,...t)}function hr(i,...t){return rv(i,...t)}function x1(i,t,e){const r=Object.assign(Object.assign({},uM()),{[t]:e});return new Kc("auth","Firebase",r).create(t,{appName:i.name})}function ts(i){return x1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rv(i,...t){if(typeof i!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(e,...r)}return I1.create(i,...t)}function xt(i,t,...e){if(!i)throw rv(t,...e)}function Yr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Gf(t),new Error(t)}function as(i,t){i||Yr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function hM(){return _b()==="http:"||_b()==="https:"}function _b(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hM()||A2()||"connection"in navigator)?navigator.onLine:!0}function dM(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,e){this.shortDelay=t,this.longDelay=e,as(e>t,"Short delay should be less than long delay!"),this.isMobile=b2()||R2()}get(){return fM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(i,t){as(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gM=new Jc(3e4,6e4);function Ea(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function Ta(i,t,e,r,o={}){return N1(i,o,async()=>{let l={},h={};r&&(t==="GET"?h=r:l={body:JSON.stringify(r)});const d=Qc(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},l);return w2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Zl(i.emulatorConfig.host)&&(g.credentials="include"),O1.fetch()(await D1(i,i.config.apiHost,e,d),g)})}async function N1(i,t,e){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},mM),t);try{const o=new vM(i),l=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Mf(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mf(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Mf(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Mf(i,"user-disabled",h);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw x1(i,_,g);Li(i,_)}}catch(o){if(o instanceof us)throw o;Li(i,"network-request-failed",{message:String(o)})}}async function th(i,t,e,r,o={}){const l=await Ta(i,t,e,r,o);return"mfaPendingCredential"in l&&Li(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function D1(i,t,e,r){const o=`${t}${e}?${r}`,l=i,h=l.config.emulator?sv(i.config,o):`${i.config.apiScheme}://${o}`;return pM.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function yM(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),gM.get())})}}function Mf(i,t,e){const r={appName:i.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=hr(i,t,r);return o.customData._tokenResponse=e,o}function Eb(i){return i!==void 0&&i.enterprise!==void 0}class _M{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return yM(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EM(i,t){return Ta(i,"GET","/v2/recaptchaConfig",Ea(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(i,t){return Ta(i,"POST","/v1/accounts:delete",t)}async function md(i,t){return Ta(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bM(i,t=!1){const e=vn(i),r=await e.getIdToken(t),o=av(r);xt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:r,authTime:bc(gg(o.auth_time)),issuedAtTime:bc(gg(o.iat)),expirationTime:bc(gg(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function gg(i){return Number(i)*1e3}function av(i){const[t,e,r]=i.split(".");if(t===void 0||e===void 0||r===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{const o=DS(e);return o?JSON.parse(o):(Gf("Failed to decode base64 JWT payload"),null)}catch(o){return Gf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Tb(i){const t=av(i);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(i,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof us&&SM(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function SM({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(i){var t;const e=i.auth,r=await i.getIdToken(),o=await Mc(i,md(e,{idToken:r}));xt(o==null?void 0:o.users.length,e,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?M1(l.providerUserInfo):[],d=RM(i.providerData,h),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?g:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jg(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(i,v)}async function AM(i){const t=vn(i);await pd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function RM(i,t){return[...i.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function M1(i){return i.map(t=>{var{providerId:e}=t,r=iv(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(i,t){const e=await N1(i,{},async()=>{const r=Qc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=await D1(i,o,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return i.emulatorConfig&&Zl(i.emulatorConfig.host)&&(p.credentials="include"),O1.fetch()(h,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function IM(i,t){return Ta(i,"POST","/v2/accounts:revokeToken",Ea(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Tb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const e=Tb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:l}=await CM(t,e);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:l}=e,h=new wl;return r&&(xt(typeof r=="string","internal-error",{appName:t}),h.refreshToken=r),o&&(xt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),l&&(xt(typeof l=="number","internal-error",{appName:t}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(i,t){xt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Pi{constructor(t){var{uid:e,auth:r,stsTokenManager:o}=t,l=iv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await Mc(this,this.stsTokenManager.getToken(this.auth,t));return xt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return bM(this,t)}reload(){return AM(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Pi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await pd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(ts(this.auth));const t=await this.getIdToken();return await Mc(this,TM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,o,l,h,d,p,g,_;const v=(r=e.displayName)!==null&&r!==void 0?r:void 0,b=(o=e.email)!==null&&o!==void 0?o:void 0,M=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,B=(h=e.photoURL)!==null&&h!==void 0?h:void 0,H=(d=e.tenantId)!==null&&d!==void 0?d:void 0,O=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,et=(g=e.createdAt)!==null&&g!==void 0?g:void 0,it=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:W,emailVerified:at,isAnonymous:lt,providerData:ht,stsTokenManager:k}=e;xt(W&&k,t,"internal-error");const A=wl.fromJSON(this.name,k);xt(typeof W=="string",t,"internal-error"),js(v,t.name),js(b,t.name),xt(typeof at=="boolean",t,"internal-error"),xt(typeof lt=="boolean",t,"internal-error"),js(M,t.name),js(B,t.name),js(H,t.name),js(O,t.name),js(et,t.name),js(it,t.name);const C=new Pi({uid:W,auth:t,email:b,emailVerified:at,displayName:v,isAnonymous:lt,photoURL:B,phoneNumber:M,tenantId:H,stsTokenManager:A,createdAt:et,lastLoginAt:it});return ht&&Array.isArray(ht)&&(C.providerData=ht.map(D=>Object.assign({},D))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(t,e,r=!1){const o=new wl;o.updateFromServerResponse(e);const l=new Pi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await pd(l),l}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];xt(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?M1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new wl;d.updateFromIdToken(r);const p=new Pi({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Jg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;function Xr(i){as(i instanceof Function,"Expected a class definition");let t=bb.get(i);return t?(as(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,bb.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}k1.type="NONE";const Sb=k1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(i,t,e){return`firebase:${i}:${t}:${e}`}class Al{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=Kf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Kf("persistence",o.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await md(this.auth,{idToken:t}).catch(()=>{});return e?Pi._fromGetAccountInfoResponse(this.auth,e,t):null}return Pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Al(Xr(Sb),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Xr(Sb);const h=Kf(r,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=await g._get(h);if(_){let v;if(typeof _=="string"){const b=await md(t,{idToken:_}).catch(()=>{});if(!b)break;v=await Pi._fromGetAccountInfoResponse(t,b,_)}else v=Pi._fromJSON(t,_);g!==l&&(d=v),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Al(l,t,r):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new Al(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(U1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(V1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(B1(t))return"Blackberry";if(z1(t))return"Webos";if(P1(t))return"Safari";if((t.includes("chrome/")||L1(t))&&!t.includes("edge/"))return"Chrome";if(j1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function V1(i=Cn()){return/firefox\//i.test(i)}function P1(i=Cn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function L1(i=Cn()){return/crios\//i.test(i)}function U1(i=Cn()){return/iemobile/i.test(i)}function j1(i=Cn()){return/android/i.test(i)}function B1(i=Cn()){return/blackberry/i.test(i)}function z1(i=Cn()){return/webos/i.test(i)}function ov(i=Cn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function xM(i=Cn()){var t;return ov(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function OM(){return C2()&&document.documentMode===10}function H1(i=Cn()){return ov(i)||j1(i)||z1(i)||B1(i)||/windows phone/i.test(i)||U1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(i,t=[]){let e;switch(i){case"Browser":e=wb(Cn());break;case"Worker":e=`${wb(Cn())}-${i}`;break;default:e=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Jl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=l=>new Promise((h,d)=>{try{const p=t(l);h(p)}catch(p){d(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(i,t={}){return Ta(i,"GET","/v2/passwordPolicy",Ea(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=6;class kM{constructor(t){var e,r,o,l;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=h.minPasswordLength)!==null&&e!==void 0?e:MM,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ab(this),this.idTokenSubscription=new Ab(this),this.beforeStateQueue=new NM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Xr(e)),this._initializationPromise=this.queue(async()=>{var r,o,l;if(!this._deleted&&(this.persistenceManager=await Al.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await md(this,{idToken:t}),r=await Pi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Si(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await pd(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Si(this.app))return Promise.reject(ts(this));const e=t?vn(t):null;return e&&xt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Si(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await DM(this),e=new kM(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kc("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await IM(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Xr(t)||this._popupRedirectResolver;xt(e,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[Xr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{h=!0,p()}}else{const p=t.addObserver(e);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&cM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ao(i){return vn(i)}class Ab{constructor(t){this.auth=t,this.observer=null,this.addObserver=V2(e=>this.observer=e)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PM(i){Kd=i}function q1(i){return Kd.loadJS(i)}function LM(){return Kd.recaptchaEnterpriseScript}function UM(){return Kd.gapiScript}function jM(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class BM{constructor(){this.enterprise=new zM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class zM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const HM="recaptcha-enterprise",G1="NO_RECAPTCHA";class FM{constructor(t){this.type=HM,this.auth=Ao(t)}async verify(t="verify",e=!1){async function r(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{EM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new _M(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,h,d){const p=window.grecaptcha;Eb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(g=>{h(g)}).catch(()=>{h(G1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BM().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{r(this.auth).then(d=>{if(!e&&Eb(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=LM();p.length!==0&&(p+=d),q1(p).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function Rb(i,t,e,r=!1,o=!1){const l=new FM(i);let h;if(o)h=G1;else try{h=await l.verify(e)}catch{h=await l.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ty(i,t,e,r,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Rb(i,t,e,e==="getOobCode");return r(i,h)}else return r(i,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Rb(i,t,e,e==="getOobCode");return r(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(i,t){const e=wy(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),l=e.getOptions();if(ho(l,t??{}))return o;Li(o,"already-initialized")}return e.initialize({options:t})}function GM(i,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(Xr);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function KM(i,t,e){const r=Ao(i);xt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,l=K1(t),{host:h,port:d}=QM(t),p=d===null?"":`:${d}`,g={url:`${l}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){xt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xt(ho(g,r.config.emulator)&&ho(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Zl(h)?(PS(`${l}//${h}${p}`),LS("Auth",!0)):$M()}function K1(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function QM(i){const t=K1(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:Cb(r.substr(l.length+1))}}else{const[l,h]=r.split(":");return{host:l,port:Cb(h)}}}function Cb(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function $M(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Yr("not implemented")}_getIdTokenResponse(t){return Yr("not implemented")}_linkToIdToken(t,e){return Yr("not implemented")}_getReauthenticationResolver(t){return Yr("not implemented")}}async function YM(i,t){return Ta(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(i,t){return th(i,"POST","/v1/accounts:signInWithPassword",Ea(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(i,t){return th(i,"POST","/v1/accounts:signInWithEmailLink",Ea(i,t))}async function ZM(i,t){return th(i,"POST","/v1/accounts:signInWithEmailLink",Ea(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends lv{constructor(t,e,r,o=null){super("password",r),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new kc(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new kc(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(t,e,"signInWithPassword",XM);case"emailLink":return WM(t,{email:this._email,oobCode:this._password});default:Li(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(t,r,"signUpPassword",YM);case"emailLink":return ZM(t,{idToken:e,email:this._email,oobCode:this._password});default:Li(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(i,t){return th(i,"POST","/v1/accounts:signInWithIdp",Ea(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="http://localhost";class yo extends lv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new yo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Li("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o}=e,l=iv(e,["providerId","signInMethod"]);if(!r||!o)return null;const h=new yo(r,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return Rl(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Rl(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Rl(t,e)}buildRequest(){const t={requestUri:JM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Qc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e4(i){const t=cc(hc(i)).link,e=t?cc(hc(t)).deep_link_id:null,r=cc(hc(i)).deep_link_id;return(r?cc(hc(r)).link:null)||r||e||t||i}class uv{constructor(t){var e,r,o,l,h,d;const p=cc(hc(t)),g=(e=p.apiKey)!==null&&e!==void 0?e:null,_=(r=p.oobCode)!==null&&r!==void 0?r:null,v=t4((o=p.mode)!==null&&o!==void 0?o:null);xt(g&&_&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=e4(t);try{return new uv(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.providerId=ru.PROVIDER_ID}static credential(t,e){return kc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=uv.parseLink(e);return xt(r,"argument-error"),kc._fromEmailAndCode(t,r.code,r.tenantId)}}ru.PROVIDER_ID="password";ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends Q1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends eh{constructor(){super("facebook.com")}static credential(t){return yo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return yo._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return qs.credential(e,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends eh{constructor(){super("github.com")}static credential(t){return yo._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends eh{constructor(){super("twitter.com")}static credential(t,e){return yo._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Ks.credential(e,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(i,t){return th(i,"POST","/v1/accounts:signUp",Ea(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const l=await Pi._fromIdTokenResponse(t,r,o),h=Ib(r);return new vo({user:l,providerId:h,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=Ib(r);return new vo({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function Ib(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends us{constructor(t,e,r,o){var l;super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new gd(t,e,r,o)}}function $1(i,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(i,l,t,r):l})}async function i4(i,t,e=!1){const r=await Mc(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return vo._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(i,t,e=!1){const{auth:r}=i;if(Si(r.app))return Promise.reject(ts(r));const o="reauthenticate";try{const l=await Mc(i,$1(r,o,t,i),e);xt(l.idToken,r,"internal-error");const h=av(l.idToken);xt(h,r,"internal-error");const{sub:d}=h;return xt(i.uid===d,r,"user-mismatch"),vo._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Li(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(i,t,e=!1){if(Si(i.app))return Promise.reject(ts(i));const r="signIn",o=await $1(i,r,t),l=await vo._fromIdTokenResponse(i,r,o);return e||await i._updateCurrentUser(l.user),l}async function s4(i,t){return Y1(Ao(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(i){const t=Ao(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function a4(i,t,e){if(Si(i.app))return Promise.reject(ts(i));const r=Ao(i),h=await ty(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n4).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&X1(i),p}),d=await vo._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(d.user),d}function o4(i,t,e){return Si(i.app)?Promise.reject(ts(i)):s4(vn(i),ru.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&X1(i),r})}function l4(i,t,e,r){return vn(i).onIdTokenChanged(t,e,r)}function u4(i,t,e){return vn(i).beforeAuthStateChanged(t,e)}function c4(i,t,e,r){return vn(i).onAuthStateChanged(t,e,r)}function h4(i){return vn(i).signOut()}const yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=1e3,d4=10;class Z1 extends W1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!e&&this.localCache[r]===h||this.notifyListeners(r,h)},l=this.storage.getItem(r);OM()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,d4):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},f4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Z1.type="LOCAL";const m4=Z1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends W1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}J1.type="SESSION";const tA=J1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new Qd(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:l}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(h).map(async g=>g(e.origin,l)),p=await p4(d);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(i="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=cv("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(v){const b=v;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function y4(i){fr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function v4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _4(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function E4(){return eA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebaseLocalStorageDb",T4=1,vd="firebaseLocalStorage",iA="fbase_key";class nh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function $d(i,t){return i.transaction([vd],t?"readwrite":"readonly").objectStore(vd)}function b4(){const i=indexedDB.deleteDatabase(nA);return new nh(i).toPromise()}function ey(){const i=indexedDB.open(nA,T4);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(vd,{keyPath:iA})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(vd)?t(r):(r.close(),await b4(),t(await ey()))})})}async function xb(i,t,e){const r=$d(i,!0).put({[iA]:t,value:e});return new nh(r).toPromise()}async function S4(i,t){const e=$d(i,!1).get(t),r=await new nh(e).toPromise();return r===void 0?null:r.value}function Ob(i,t){const e=$d(i,!0).delete(t);return new nh(e).toPromise()}const w4=800,A4=3;class rA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ey(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>A4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(E4()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await v4(),!this.activeServiceWorker)return;this.sender=new g4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((e=r[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ey();return await xb(t,yd,"1"),await Ob(t,yd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>xb(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>S4(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Ob(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=$d(o,!1).getAll();return new nh(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rA.type="LOCAL";const R4=rA;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(i,t){return t?Xr(t):(xt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends lv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Rl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Rl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Rl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function I4(i){return Y1(i.auth,new hv(i),i.bypassAuthState)}function x4(i){const{auth:t,user:e}=i;return xt(e,t,"internal-error"),r4(e,new hv(i),i.bypassAuthState)}async function O4(i){const{auth:t,user:e}=i;return xt(e,t,"internal-error"),i4(e,new hv(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t,e,r,o,l=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:l,error:h,type:d}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return I4;case"linkViaPopup":case"linkViaRedirect":return O4;case"reauthViaPopup":case"reauthViaRedirect":return x4;default:Li(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new Jc(2e3,1e4);class bl extends sA{constructor(t,e,r,o,l){super(t,e,o,l),this.provider=r,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=cv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if(!((r=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,N4.get())};t()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="pendingRedirect",Qf=new Map;class M4 extends sA{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Qf.get(this.auth._key());if(!t){try{const r=await k4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Qf.set(this.auth._key(),t)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k4(i,t){const e=L4(t),r=P4(i);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function V4(i,t){Qf.set(i._key(),t)}function P4(i){return Xr(i._redirectPersistence)}function L4(i){return Kf(D4,i.config.apiKey,i.name)}async function U4(i,t,e=!1){if(Si(i.app))return Promise.reject(ts(i));const r=Ao(i),o=C4(r,t),h=await new M4(r,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=10*60*1e3;class B4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!z4(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!aA(t)){const o=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(hr(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=j4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nb(t))}saveEventToCache(t){this.cachedEventUids.add(Nb(t)),this.lastProcessedEventTime=Date.now()}}function Nb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function aA({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function z4(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(i,t={}){return Ta(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q4=/^https?/;async function G4(i){if(i.config.emulator)return;const{authorizedDomains:t}=await H4(i);for(const e of t)try{if(K4(e))return}catch{}Li(i,"unauthorized-domain")}function K4(i){const t=Zg(),{protocol:e,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&r===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===r}if(!q4.test(e))return!1;if(F4.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=new Jc(3e4,6e4);function Db(){const i=fr().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function $4(i){return new Promise((t,e)=>{var r,o,l;function h(){Db(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Db(),e(hr(i,"network-request-failed"))},timeout:Q4.get()})}if(!((o=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((l=fr().gapi)===null||l===void 0)&&l.load)h();else{const d=jM("iframefcb");return fr()[d]=()=>{gapi.load?h():e(hr(i,"network-request-failed"))},q1(`${UM()}?onload=${d}`).catch(p=>e(p))}}).catch(t=>{throw $f=null,t})}let $f=null;function Y4(i){return $f=$f||$4(i),$f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new Jc(5e3,15e3),W4="__/auth/iframe",Z4="emulator/auth/iframe",J4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ek(i){const t=i.config;xt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?sv(t,Z4):`https://${i.config.authDomain}/${W4}`,r={apiKey:t.apiKey,appName:i.name,v:Jl},o=tk.get(i.config.apiHost);o&&(r.eid=o);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${e}?${Qc(r).slice(1)}`}async function nk(i){const t=await Y4(i),e=fr().gapi;return xt(e,i,"internal-error"),t.open({where:document.body,url:ek(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J4,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const h=hr(i,"network-request-failed"),d=fr().setTimeout(()=>{l(h)},X4.get());function p(){fr().clearTimeout(d),o(r)}r.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rk=500,sk=600,ak="_blank",ok="http://localhost";class Mb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lk(i,t,e,r=rk,o=sk){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p=Object.assign(Object.assign({},ik),{width:r.toString(),height:o.toString(),top:l,left:h}),g=Cn().toLowerCase();e&&(d=L1(g)?ak:e),V1(g)&&(t=t||ok,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[M,B])=>`${b}${M}=${B},`,"");if(xM(g)&&d!=="_self")return uk(t||"",d),new Mb(null);const v=window.open(t||"",d,_);xt(v,i,"popup-blocked");try{v.focus()}catch{}return new Mb(v)}function uk(i,t){const e=document.createElement("a");e.href=i,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="__/auth/handler",hk="emulator/auth/handler",fk=encodeURIComponent("fac");async function kb(i,t,e,r,o,l){xt(i.config.authDomain,i,"auth-domain-config-required"),xt(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:r,v:Jl,eventId:o};if(t instanceof Q1){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",k2(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,v]of Object.entries({}))h[_]=v}if(t instanceof eh){const _=t.getScopes().filter(v=>v!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),g=p?`#${fk}=${encodeURIComponent(p)}`:"";return`${dk(i)}?${Qc(d).slice(1)}${g}`}function dk({config:i}){return i.emulator?sv(i,hk):`https://${i.authDomain}/${ck}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="webStorageSupport";class mk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tA,this._completeRedirectFn=U4,this._overrideRedirectResult=V4}async _openPopup(t,e,r,o){var l;as((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await kb(t,e,r,Zg(),o);return lk(t,h,cv())}async _openRedirect(t,e,r,o){await this._originValidation(t);const l=await kb(t,e,r,Zg(),o);return y4(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:l}=this.eventManagers[e];return o?Promise.resolve(o):(as(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await nk(t),r=new B4(t);return e.register("authEvent",o=>(xt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(yg,{type:yg},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[yg];h!==void 0&&e(!!h),Li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=G4(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return H1()||P1()||ov()}}const pk=mk;var Vb="@firebase/auth",Pb="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vk(i){jl(new fo("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=r.options;xt(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F1(i)},g=new VM(r,o,l,p);return GM(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),jl(new fo("auth-internal",t=>{const e=Ao(t.getProvider("auth").getImmediate());return(r=>new gk(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),oa(Vb,Pb,yk(i)),oa(Vb,Pb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=5*60,Ek=VS("authIdTokenMaxAge")||_k;let Lb=null;const Tk=i=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>Ek)return;const o=e==null?void 0:e.token;Lb!==o&&(Lb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bk(i=zS()){const t=wy(i,"auth");if(t.isInitialized())return t.getImmediate();const e=qM(i,{popupRedirectResolver:pk,persistence:[R4,m4,tA]}),r=VS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const h=Tk(l.toString());u4(e,h,()=>h(e.currentUser)),l4(e,d=>h(d))}}const o=MS("auth");return o&&KM(e,`http://${o}`),e}function Sk(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}PM({loadJS(i){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=o=>{const l=hr("internal-error");l.customData=o,e(l)},r.type="text/javascript",r.charset="UTF-8",Sk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vk("Browser");const wk={apiKey:"AIzaSyBozVVinEK5nlXi4xR7_ZE_2tQeSMwN8Us",authDomain:"login-auth-366ba.firebaseapp.com",projectId:"login-auth-366ba",storageBucket:"login-auth-366ba.firebasestorage.app",messagingSenderId:"559443453077",appId:"1:559443453077:web:c5689dced0e72da81ce79c"},Ak=BS(wk),Vc=bk(),ya=HD(Ak);function Rk({togglePlayWordle:i}){return w.jsx("div",{className:"homepage flex-center",children:w.jsx(l2,{togglePlayWordle:i})})}const Ck=["as","disabled"];function Ik(i,t){if(i==null)return{};var e={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;e[r]=i[r]}return e}function xk(i){return!i||i.trim()==="#"}function fv({tagName:i,disabled:t,href:e,target:r,rel:o,role:l,onClick:h,tabIndex:d=0,type:p}){i||(e!=null||r!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:t},g];const _=b=>{if((t||i==="a"&&xk(e))&&b.preventDefault(),t){b.stopPropagation();return}h==null||h(b)},v=b=>{b.key===" "&&(b.preventDefault(),_(b))};return i==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:d,href:e,target:i==="a"?r:void 0,"aria-disabled":t||void 0,rel:i==="a"?o:void 0,onClick:_,onKeyDown:v},g]}const oA=I.forwardRef((i,t)=>{let{as:e,disabled:r}=i,o=Ik(i,Ck);const[l,{tagName:h}]=fv(Object.assign({tagName:e,disabled:r},o));return w.jsx(h,Object.assign({},o,l,{ref:t}))});oA.displayName="Button";const Ui=I.forwardRef(({as:i,bsPrefix:t,variant:e="primary",size:r,active:o=!1,disabled:l=!1,className:h,...d},p)=>{const g=Ut(t,"btn"),[_,{tagName:v}]=fv({tagName:i,disabled:l,...d}),b=v;return w.jsx(b,{..._,...d,ref:p,disabled:l,className:Dt(h,g,o&&"active",e&&`${g}-${e}`,r&&`${g}-${r}`,d.href&&l&&"disabled")})});Ui.displayName="Button";const Ok={type:Zr.string,tooltip:Zr.bool,as:Zr.elementType},Yd=I.forwardRef(({as:i="div",className:t,type:e="valid",tooltip:r=!1,...o},l)=>w.jsx(i,{...o,ref:l,className:Dt(t,`${e}-${r?"tooltip":"feedback"}`)}));Yd.displayName="Feedback";Yd.propTypes=Ok;const os=I.createContext({}),dv=I.forwardRef(({id:i,bsPrefix:t,className:e,type:r="checkbox",isValid:o=!1,isInvalid:l=!1,as:h="input",...d},p)=>{const{controlId:g}=I.useContext(os);return t=Ut(t,"form-check-input"),w.jsx(h,{...d,ref:p,type:r,id:i||g,className:Dt(e,t,o&&"is-valid",l&&"is-invalid")})});dv.displayName="FormCheckInput";const _d=I.forwardRef(({bsPrefix:i,className:t,htmlFor:e,...r},o)=>{const{controlId:l}=I.useContext(os);return i=Ut(i,"form-check-label"),w.jsx("label",{...r,ref:o,htmlFor:e||l,className:Dt(t,i)})});_d.displayName="FormCheckLabel";function Nk(i,t){return I.Children.toArray(i).some(e=>I.isValidElement(e)&&e.type===t)}const lA=I.forwardRef(({id:i,bsPrefix:t,bsSwitchPrefix:e,inline:r=!1,reverse:o=!1,disabled:l=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:_,className:v,style:b,title:M="",type:B="checkbox",label:H,children:O,as:et="input",...it},W)=>{t=Ut(t,"form-check"),e=Ut(e,"form-switch");const{controlId:at}=I.useContext(os),lt=I.useMemo(()=>({controlId:i||at}),[at,i]),ht=!O&&H!=null&&H!==!1||Nk(O,_d),k=w.jsx(dv,{...it,type:B==="switch"?"checkbox":B,ref:W,isValid:h,isInvalid:d,disabled:l,as:et});return w.jsx(os.Provider,{value:lt,children:w.jsx("div",{style:b,className:Dt(v,ht&&t,r&&`${t}-inline`,o&&`${t}-reverse`,B==="switch"&&e),children:O||w.jsxs(w.Fragment,{children:[k,ht&&w.jsx(_d,{title:M,children:H}),g&&w.jsx(Yd,{type:_,tooltip:p,children:g})]})})})});lA.displayName="FormCheck";const Ed=Object.assign(lA,{Input:dv,Label:_d}),uA=I.forwardRef(({bsPrefix:i,type:t,size:e,htmlSize:r,id:o,className:l,isValid:h=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:_="input",...v},b)=>{const{controlId:M}=I.useContext(os);return i=Ut(i,"form-control"),w.jsx(_,{...v,type:t,size:r,ref:b,readOnly:g,id:o||M,className:Dt(l,p?`${i}-plaintext`:i,e&&`${i}-${e}`,t==="color"&&`${i}-color`,h&&"is-valid",d&&"is-invalid")})});uA.displayName="FormControl";const Dk=Object.assign(uA,{Feedback:Yd}),cA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...r},o)=>(t=Ut(t,"form-floating"),w.jsx(e,{ref:o,className:Dt(i,t),...r})));cA.displayName="FormFloating";const mv=I.forwardRef(({controlId:i,as:t="div",...e},r)=>{const o=I.useMemo(()=>({controlId:i}),[i]);return w.jsx(os.Provider,{value:o,children:w.jsx(t,{...e,ref:r})})});mv.displayName="FormGroup";function Mk({as:i,bsPrefix:t,className:e,...r}){t=Ut(t,"col");const o=tI(),l=eI(),h=[],d=[];return o.forEach(p=>{const g=r[p];delete r[p];let _,v,b;typeof g=="object"&&g!=null?{span:_,offset:v,order:b}=g:_=g;const M=p!==l?`-${p}`:"";_&&h.push(_===!0?`${t}${M}`:`${t}${M}-${_}`),b!=null&&d.push(`order${M}-${b}`),v!=null&&d.push(`offset${M}-${v}`)}),[{...r,className:Dt(e,...h,...d)},{as:i,bsPrefix:t,spans:h}]}const hA=I.forwardRef((i,t)=>{const[{className:e,...r},{as:o="div",bsPrefix:l,spans:h}]=Mk(i);return w.jsx(o,{...r,ref:t,className:Dt(e,!h.length&&l)})});hA.displayName="Col";const fA=I.forwardRef(({as:i="label",bsPrefix:t,column:e=!1,visuallyHidden:r=!1,className:o,htmlFor:l,...h},d)=>{const{controlId:p}=I.useContext(os);t=Ut(t,"form-label");let g="col-form-label";typeof e=="string"&&(g=`${g} ${g}-${e}`);const _=Dt(o,t,r&&"visually-hidden",e&&g);return l=l||p,e?w.jsx(hA,{ref:d,as:"label",className:_,htmlFor:l,...h}):w.jsx(i,{ref:d,className:_,htmlFor:l,...h})});fA.displayName="FormLabel";const dA=I.forwardRef(({bsPrefix:i,className:t,id:e,...r},o)=>{const{controlId:l}=I.useContext(os);return i=Ut(i,"form-range"),w.jsx("input",{...r,type:"range",ref:o,className:Dt(t,i),id:e||l})});dA.displayName="FormRange";const mA=I.forwardRef(({bsPrefix:i,size:t,htmlSize:e,className:r,isValid:o=!1,isInvalid:l=!1,id:h,...d},p)=>{const{controlId:g}=I.useContext(os);return i=Ut(i,"form-select"),w.jsx("select",{...d,size:e,ref:p,className:Dt(r,i,t&&`${i}-${t}`,o&&"is-valid",l&&"is-invalid"),id:h||g})});mA.displayName="FormSelect";const pA=I.forwardRef(({bsPrefix:i,className:t,as:e="small",muted:r,...o},l)=>(i=Ut(i,"form-text"),w.jsx(e,{...o,ref:l,className:Dt(t,i,r&&"text-muted")})));pA.displayName="FormText";const gA=I.forwardRef((i,t)=>w.jsx(Ed,{...i,ref:t,type:"switch"}));gA.displayName="Switch";const kk=Object.assign(gA,{Input:Ed.Input,Label:Ed.Label}),yA=I.forwardRef(({bsPrefix:i,className:t,children:e,controlId:r,label:o,...l},h)=>(i=Ut(i,"form-floating"),w.jsxs(mv,{ref:h,className:Dt(t,i),controlId:r,...l,children:[e,w.jsx("label",{htmlFor:r,children:o})]})));yA.displayName="FloatingLabel";const Vk={_ref:Zr.any,validated:Zr.bool,as:Zr.elementType},pv=I.forwardRef(({className:i,validated:t,as:e="form",...r},o)=>w.jsx(e,{...r,ref:o,className:Dt(i,t&&"was-validated")}));pv.displayName="Form";pv.propTypes=Vk;const Fe=Object.assign(pv,{Group:mv,Control:Dk,Floating:cA,Check:Ed,Switch:kk,Label:fA,Text:pA,Range:dA,Select:mA,FloatingLabel:yA});var kf;function Ub(i){if((!kf&&kf!==0||i)&&Wl){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),kf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return kf}function Pk(){return I.useState(null)}function Lk(i){const t=I.useRef(i);return I.useEffect(()=>{t.current=i},[i]),t}function Ql(i){const t=Lk(i);return I.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function Uk(i){const t=I.useRef(i);return t.current=i,t}function jk(i){const t=Uk(i);I.useEffect(()=>()=>t.current(),[])}function vg(i){i===void 0&&(i=Ad());try{var t=i.activeElement;return!t||!t.nodeName?null:t}catch{return i.body}}function jb(i,t){if(i.contains)return i.contains(t);if(i.compareDocumentPosition)return i===t||!!(i.compareDocumentPosition(t)&16)}function Bk(){const i=I.useRef(!0),t=I.useRef(()=>i.current);return I.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function zk(i){const t=I.useRef(i);return t.current=i,t}function Hk(i){const t=zk(i);I.useEffect(()=>()=>t.current(),[])}function Fk(i){const t=I.useRef(null);return I.useEffect(()=>{t.current=i}),t.current}function qk(i){const t=I.useRef(i);return I.useEffect(()=>{t.current=i},[i]),t}function $r(i){const t=qk(i);return I.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const Gk="data-rr-ui-",Kk="rrUi";function Xd(i){return`${Gk}${i}`}function Qk(i){return`${Kk}${i}`}function $k(i=document){const t=i.defaultView;return Math.abs(t.innerWidth-i.documentElement.clientWidth)}const Bb=Xd("modal-open");class gv{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:r=!1}={}){this.handleContainerOverflow=e,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return $k(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[r]:o.style[r]},t.scrollBarWidth&&(e[r]=`${parseInt(Wr(o,r)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(Bb,""),Wr(o,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(Bb),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const vA=I.createContext(Wl?window:void 0);vA.Provider;function yv(){return I.useContext(vA)}const _g=(i,t)=>Wl?i==null?(t||Ad()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function Yk(i,t){const e=yv(),[r,o]=I.useState(()=>_g(i,e==null?void 0:e.document));if(!r){const l=_g(i);l&&o(l)}return I.useEffect(()=>{},[t,r]),I.useEffect(()=>{const l=_g(i);l!==r&&o(l)},[i,r]),r}const zb=i=>!i||typeof i=="function"?i:t=>{i.current=t};function Xk(i,t){const e=zb(i),r=zb(t);return o=>{e&&e(o),r&&r(o)}}function Wd(i,t){return I.useMemo(()=>Xk(i,t),[i,t])}const Wk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Zk=typeof document<"u",Hb=Zk||Wk?I.useLayoutEffect:I.useEffect;function Jk({children:i,in:t,onExited:e,mountOnEnter:r,unmountOnExit:o}){const l=I.useRef(null),h=I.useRef(t),d=$r(e);I.useEffect(()=>{t?h.current=!0:d(l.current)},[t,d]);const p=Wd(l,Xl(i)),g=I.cloneElement(i,{ref:p});return t?g:o||!h.current&&r?null:g}const tV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function eV(i,t){if(i==null)return{};var e={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;e[r]=i[r]}return e}function nV(i){let{onEnter:t,onEntering:e,onEntered:r,onExit:o,onExiting:l,onExited:h,addEndListener:d,children:p}=i,g=eV(i,tV);const _=I.useRef(null),v=Wd(_,Xl(p)),b=at=>lt=>{at&&_.current&&at(_.current,lt)},M=I.useCallback(b(t),[t]),B=I.useCallback(b(e),[e]),H=I.useCallback(b(r),[r]),O=I.useCallback(b(o),[o]),et=I.useCallback(b(l),[l]),it=I.useCallback(b(h),[h]),W=I.useCallback(b(d),[d]);return Object.assign({},g,{nodeRef:_},t&&{onEnter:M},e&&{onEntering:B},r&&{onEntered:H},o&&{onExit:O},l&&{onExiting:et},h&&{onExited:it},d&&{addEndListener:W},{children:typeof p=="function"?(at,lt)=>p(at,Object.assign({},lt,{ref:v})):I.cloneElement(p,{ref:v})})}const iV=["component"];function rV(i,t){if(i==null)return{};var e={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;e[r]=i[r]}return e}const sV=I.forwardRef((i,t)=>{let{component:e}=i,r=rV(i,iV);const o=nV(r);return w.jsx(e,Object.assign({ref:t},o))});function aV({in:i,onTransition:t}){const e=I.useRef(null),r=I.useRef(!0),o=$r(t);return Hb(()=>{if(!e.current)return;let l=!1;return o({in:i,element:e.current,initial:r.current,isStale:()=>l}),()=>{l=!0}},[i,o]),Hb(()=>(r.current=!1,()=>{r.current=!0}),[]),e}function oV({children:i,in:t,onExited:e,onEntered:r,transition:o}){const[l,h]=I.useState(!t);t&&l&&h(!1);const d=aV({in:!!t,onTransition:g=>{const _=()=>{g.isStale()||(g.in?r==null||r(g.element,g.initial):(h(!0),e==null||e(g.element)))};Promise.resolve(o(g)).then(_,v=>{throw g.in||h(!0),v})}}),p=Wd(d,Xl(i));return l&&!t?null:I.cloneElement(i,{ref:p})}function Fb(i,t,e){return i?w.jsx(sV,Object.assign({},e,{component:i})):t?w.jsx(oV,Object.assign({},e,{transition:t})):w.jsx(Jk,Object.assign({},e))}const lV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function uV(i,t){if(i==null)return{};var e={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;e[r]=i[r]}return e}let Eg;function cV(i){return Eg||(Eg=new gv({ownerDocument:i==null?void 0:i.document})),Eg}function hV(i){const t=yv(),e=i||cV(t),r=I.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>e.add(r.current),remove:()=>e.remove(r.current),isTopModal:()=>e.isTopModal(r.current),setDialogRef:I.useCallback(o=>{r.current.dialog=o},[]),setBackdropRef:I.useCallback(o=>{r.current.backdrop=o},[])})}const _A=I.forwardRef((i,t)=>{let{show:e=!1,role:r="dialog",className:o,style:l,children:h,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:_,transition:v,runTransition:b,backdropTransition:M,runBackdropTransition:B,autoFocus:H=!0,enforceFocus:O=!0,restoreFocus:et=!0,restoreFocusOptions:it,renderDialog:W,renderBackdrop:at=ne=>w.jsx("div",Object.assign({},ne)),manager:lt,container:ht,onShow:k,onHide:A=()=>{},onExit:C,onExited:D,onExiting:P,onEnter:U,onEntering:x,onEntered:kt}=i,jt=uV(i,lV);const F=yv(),ut=Yk(ht),dt=hV(lt),It=Bk(),V=Fk(e),[Y,st]=I.useState(!e),Z=I.useRef(null);I.useImperativeHandle(t,()=>dt,[dt]),Wl&&!V&&e&&(Z.current=vg(F==null?void 0:F.document)),e&&Y&&st(!1);const ft=$r(()=>{if(dt.add(),De.current=Xf(document,"keydown",qt),Ce.current=Xf(document,"focus",()=>setTimeout(pt),!0),k&&k(),H){var ne,oi;const _e=vg((ne=(oi=dt.dialog)==null?void 0:oi.ownerDocument)!=null?ne:F==null?void 0:F.document);dt.dialog&&_e&&!jb(dt.dialog,_e)&&(Z.current=_e,dt.dialog.focus())}}),bt=$r(()=>{if(dt.remove(),De.current==null||De.current(),Ce.current==null||Ce.current(),et){var ne;(ne=Z.current)==null||ne.focus==null||ne.focus(it),Z.current=null}});I.useEffect(()=>{!e||!ut||ft()},[e,ut,ft]),I.useEffect(()=>{Y&&bt()},[Y,bt]),Hk(()=>{bt()});const pt=$r(()=>{if(!O||!It()||!dt.isTopModal())return;const ne=vg(F==null?void 0:F.document);dt.dialog&&ne&&!jb(dt.dialog,ne)&&dt.dialog.focus()}),ue=$r(ne=>{ne.target===ne.currentTarget&&(g==null||g(ne),d===!0&&A())}),qt=$r(ne=>{p&&gI(ne)&&dt.isTopModal()&&(_==null||_(ne),ne.defaultPrevented||A())}),Ce=I.useRef(),De=I.useRef(),En=(...ne)=>{st(!0),D==null||D(...ne)};if(!ut)return null;const un=Object.assign({role:r,ref:dt.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},jt,{style:l,className:o,tabIndex:-1});let In=W?W(un):w.jsx("div",Object.assign({},un,{children:I.cloneElement(h,{role:"document"})}));In=Fb(v,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:C,onExiting:P,onExited:En,onEnter:U,onEntering:x,onEntered:kt,children:In});let en=null;return d&&(en=at({ref:dt.setBackdropRef,onClick:ue}),en=Fb(M,B,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:en})),w.jsx(w.Fragment,{children:to.createPortal(w.jsxs(w.Fragment,{children:[en,In]}),ut)})});_A.displayName="Modal";const EA=Object.assign(_A,{Manager:gv});function fV(i,t){return i.classList?i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function dV(i,t){i.classList?i.classList.add(t):fV(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}var mV=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ja(i,t){return mV(i.querySelectorAll(t))}function qb(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function pV(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=qb(i.className,t):i.setAttribute("class",qb(i.className&&i.className.baseVal||"",t))}const gl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class TA extends gv{adjustAndStore(t,e,r){const o=e.style[t];e.dataset[t]=o,Wr(e,{[t]:`${parseFloat(Wr(e,t))+r}px`})}restore(t,e){const r=e.dataset[t];r!==void 0&&(delete e.dataset[t],Wr(e,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(dV(e,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ja(e,gl.FIXED_CONTENT).forEach(l=>this.adjustAndStore(r,l,t.scrollBarWidth)),Ja(e,gl.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-t.scrollBarWidth)),Ja(e,gl.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();pV(e,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ja(e,gl.FIXED_CONTENT).forEach(l=>this.restore(r,l)),Ja(e,gl.STICKY_CONTENT).forEach(l=>this.restore(o,l)),Ja(e,gl.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let Tg;function bA(i){return Tg||(Tg=new TA(i)),Tg}const gV={[Vi]:"show",[Qr]:"show"},Zd=I.forwardRef(({className:i,children:t,transitionClasses:e={},onEnter:r,...o},l)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=I.useCallback((p,g)=>{vS(p),r==null||r(p,g)},[r]);return w.jsx(Rd,{ref:l,addEndListener:vy,...h,onEnter:d,childRef:Xl(t),children:(p,g)=>I.cloneElement(t,{...g,className:Dt("fade",i,t.props.className,gV[p],e[p])})})});Zd.displayName="Fade";const SA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...r},o)=>(t=Ut(t,"modal-body"),w.jsx(e,{ref:o,className:Dt(i,t),...r})));SA.displayName="ModalBody";const vv=I.createContext({onHide(){}}),_v=I.forwardRef(({bsPrefix:i,className:t,contentClassName:e,centered:r,size:o,fullscreen:l,children:h,scrollable:d,...p},g)=>{i=Ut(i,"modal");const _=`${i}-dialog`,v=typeof l=="string"?`${i}-fullscreen-${l}`:`${i}-fullscreen`;return w.jsx("div",{...p,ref:g,className:Dt(_,t,o&&`${i}-${o}`,r&&`${_}-centered`,d&&`${_}-scrollable`,l&&v),children:w.jsx("div",{className:Dt(`${i}-content`,e),children:h})})});_v.displayName="ModalDialog";const wA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...r},o)=>(t=Ut(t,"modal-footer"),w.jsx(e,{ref:o,className:Dt(i,t),...r})));wA.displayName="ModalFooter";const yV={"aria-label":Zr.string,onClick:Zr.func,variant:Zr.oneOf(["white"])},Ev=I.forwardRef(({className:i,variant:t,"aria-label":e="Close",...r},o)=>w.jsx("button",{ref:o,type:"button",className:Dt("btn-close",t&&`btn-close-${t}`,i),"aria-label":e,...r}));Ev.displayName="CloseButton";Ev.propTypes=yV;const Tv=I.forwardRef(({closeLabel:i="Close",closeVariant:t,closeButton:e=!1,onHide:r,children:o,...l},h)=>{const d=I.useContext(vv),p=Ql(()=>{d==null||d.onHide(),r==null||r()});return w.jsxs("div",{ref:h,...l,children:[o,e&&w.jsx(Ev,{"aria-label":i,variant:t,onClick:p})]})});Tv.displayName="AbstractModalHeader";const AA=I.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:r=!1,...o},l)=>(i=Ut(i,"modal-header"),w.jsx(Tv,{ref:l,...o,className:Dt(t,i),closeLabel:e,closeButton:r})));AA.displayName="ModalHeader";const RA=i=>I.forwardRef((t,e)=>w.jsx("div",{...t,ref:e,className:Dt(t.className,i)})),vV=RA("h4"),CA=I.forwardRef(({className:i,bsPrefix:t,as:e=vV,...r},o)=>(t=Ut(t,"modal-title"),w.jsx(e,{ref:o,className:Dt(i,t),...r})));CA.displayName="ModalTitle";function _V(i){return w.jsx(Zd,{...i,timeout:null})}function EV(i){return w.jsx(Zd,{...i,timeout:null})}const IA=I.forwardRef(({bsPrefix:i,className:t,style:e,dialogClassName:r,contentClassName:o,children:l,dialogAs:h=_v,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":_,show:v=!1,animation:b=!0,backdrop:M=!0,keyboard:B=!0,onEscapeKeyDown:H,onShow:O,onHide:et,container:it,autoFocus:W=!0,enforceFocus:at=!0,restoreFocus:lt=!0,restoreFocusOptions:ht,onEntered:k,onExit:A,onExiting:C,onEnter:D,onEntering:P,onExited:U,backdropClassName:x,manager:kt,...jt},F)=>{const[ut,dt]=I.useState({}),[It,V]=I.useState(!1),Y=I.useRef(!1),st=I.useRef(!1),Z=I.useRef(null),[ft,bt]=Pk(),pt=_S(F,bt),ue=Ql(et),qt=nI();i=Ut(i,"modal");const Ce=I.useMemo(()=>({onHide:ue}),[ue]);function De(){return kt||bA({isRTL:qt})}function En(_t){if(!Wl)return;const Ht=De().getScrollbarWidth()>0,Ke=_t.scrollHeight>Ad(_t).documentElement.clientHeight;dt({paddingRight:Ht&&!Ke?Ub():void 0,paddingLeft:!Ht&&Ke?Ub():void 0})}const un=Ql(()=>{ft&&En(ft.dialog)});jk(()=>{Ig(window,"resize",un),Z.current==null||Z.current()});const In=()=>{Y.current=!0},en=_t=>{Y.current&&ft&&_t.target===ft.dialog&&(st.current=!0),Y.current=!1},ne=()=>{V(!0),Z.current=yS(ft.dialog,()=>{V(!1)})},oi=_t=>{_t.target===_t.currentTarget&&ne()},_e=_t=>{if(M==="static"){oi(_t);return}if(st.current||_t.target!==_t.currentTarget){st.current=!1;return}et==null||et()},cs=_t=>{B?H==null||H(_t):(_t.preventDefault(),M==="static"&&ne())},cn=(_t,Ht)=>{_t&&En(_t),D==null||D(_t,Ht)},ji=_t=>{Z.current==null||Z.current(),A==null||A(_t)},wi=(_t,Ht)=>{P==null||P(_t,Ht),gS(window,"resize",un)},Ge=_t=>{_t&&(_t.style.display=""),U==null||U(_t),Ig(window,"resize",un)},xn=I.useCallback(_t=>w.jsx("div",{..._t,className:Dt(`${i}-backdrop`,x,!b&&"show")}),[b,x,i]),Bi={...e,...ut};Bi.display="block";const hs=_t=>w.jsx("div",{role:"dialog",..._t,style:Bi,className:Dt(t,i,It&&`${i}-static`,!b&&"show"),onClick:M?_e:void 0,onMouseUp:en,"data-bs-theme":d,"aria-label":_,"aria-labelledby":p,"aria-describedby":g,children:w.jsx(h,{...jt,onMouseDown:In,className:r,contentClassName:o,children:l})});return w.jsx(vv.Provider,{value:Ce,children:w.jsx(EA,{show:v,ref:pt,backdrop:M,container:it,keyboard:!0,autoFocus:W,enforceFocus:at,restoreFocus:lt,restoreFocusOptions:ht,onEscapeKeyDown:cs,onShow:O,onHide:et,onEnter:cn,onEntering:wi,onEntered:k,onExit:ji,onExiting:C,onExited:Ge,manager:De(),transition:b?_V:void 0,backdropTransition:b?EV:void 0,renderBackdrop:xn,renderDialog:hs})})});IA.displayName="Modal";const qe=Object.assign(IA,{Body:SA,Header:AA,Title:CA,Footer:wA,Dialog:_v,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Ln=I.forwardRef(({bsPrefix:i,fluid:t=!1,as:e="div",className:r,...o},l)=>{const h=Ut(i,"container"),d=typeof t=="string"?`-${t}`:"-fluid";return w.jsx(e,{ref:l,...o,className:Dt(r,t?`${h}${d}`:h)})});Ln.displayName="Container";function TV({logInOpen:i,toggleLogIn:t,toggleSignUp:e}){const[r,o]=I.useState(""),[l,h]=I.useState(""),d=async p=>{p.preventDefault();try{await o4(Vc,r,l),console.log("User logged in."),or.success("Logged in."),t()}catch(g){console.log(g.message),or.error(g.message)}};return w.jsxs(w.Fragment,{children:[w.jsx(Gc,{richColors:!0,position:"top-center"}),w.jsxs(qe,{show:i,onHide:t,children:[w.jsx(qe.Header,{closeButton:!0,children:w.jsx(Ln,{className:"flex-center",children:w.jsx(qe.Title,{children:"Log in"})})}),w.jsx(qe.Body,{children:w.jsxs(Fe,{onSubmit:p=>d(p),children:[w.jsxs(Fe.Group,{className:"mb-3",controlId:"email-input",children:[w.jsx(Fe.Label,{children:"Email"}),w.jsx(Fe.Control,{autoFocus:!0,required:!0,type:"text",value:r,onChange:p=>o(p.target.value)})]}),w.jsxs(Fe.Group,{className:"mb-3",controlId:"password-input",children:[w.jsx(Fe.Label,{children:"Password"}),w.jsx(Fe.Control,{required:!0,type:"password",value:l,onChange:p=>h(p.target.value)})]}),w.jsx(Ui,{variant:"primary",type:"submit",children:"Log in"})]})}),w.jsxs(qe.Footer,{className:"flex-center",children:[w.jsx(Ln,{className:"flex-center",children:w.jsx("h5",{children:"OR"})}),w.jsx(Ln,{className:"flex-center",children:w.jsx(Ui,{variant:"primary",onClick:()=>{t(),e()},children:"Sign up"})})]})]})]})}function bV({signUpOpen:i,toggleSignUp:t}){const[e,r]=I.useState(""),[o,l]=I.useState(""),[h,d]=I.useState(""),[p,g]=I.useState(""),_=async v=>{if(v.preventDefault(),h!==p)console.log("Passwords dont match!"),or.warning("Passwords don't match!");else if(h.length<6)console.log("Password needs to be at least 6 characters long!"),or.warning("Password is too short - at least 6 characters.");else try{await a4(Vc,o,h);const b=Vc.currentUser;await rM(go(ya,"Users",b.uid),{email:b.email,nickname:e,statistics:{gameModes:{classic:{dailyStreak:0,dailyStreakMax:0,gamesPlayed:0,gamesGuessed:new Array(6).fill(0),playedToday:!1,finishedToday:!1,currentState:{guesses:new Array(6).fill(null).map(()=>({word:"",colors:["black","black","black","black","black"]})),keyColors:{},rowIndex:0}},royale:{dailyStreak:0,dailyStreakMax:0,gamesPlayed:0,gamesGuessed:new Array(5).fill(0),playedToday:!1,finishedToday:!1,currentState:{roundStates:new Array(5).fill(null).map(()=>({guesses:new Array(6).fill(null).map(()=>({word:"",colors:["black","black","black","black","black"]})),keyColors:{},rowIndex:0})),gameRound:0}}}},achievements:[]}),or.success("Signed up."),console.log("User registered successfully."),t()}catch(b){console.log(b.message),or.error(b.message)}};return w.jsxs(w.Fragment,{children:[w.jsx(Gc,{richColors:!0,position:"top-center"}),w.jsxs(qe,{show:i,onHide:t,backdrop:"static",children:[w.jsx(qe.Header,{closeButton:!0,children:w.jsx(Ln,{className:"flex-center",children:w.jsx(qe.Title,{children:"Sign up"})})}),w.jsx(qe.Body,{children:w.jsxs(Fe,{onSubmit:_,children:[w.jsxs(Fe.Group,{className:"mb-3",controlId:"nickname-input",children:[w.jsx(Fe.Label,{children:"Nickname"}),w.jsx(Fe.Control,{required:!0,type:"text",autoFocus:!0,value:e,onChange:v=>r(v.target.value),placeholder:"example123"})]}),w.jsxs(Fe.Group,{required:!0,className:"mb-3",controlId:"email-input",children:[w.jsx(Fe.Label,{children:"Email address"}),w.jsx(Fe.Control,{required:!0,type:"email",value:o,onChange:v=>l(v.target.value),placeholder:"name@example.com"})]}),w.jsxs(Fe.Group,{className:"mb-3",controlId:"password-input",children:[w.jsx(Fe.Label,{children:"Password"}),w.jsx(Fe.Control,{required:!0,type:"password",value:h,onChange:v=>d(v.target.value),placeholder:"PasswordExample123?!"})]}),w.jsxs(Fe.Group,{className:"mb-3",controlId:"repeat-password-input",children:[w.jsx(Fe.Label,{children:"Repeat password"}),w.jsx(Fe.Control,{required:!0,type:"password",value:p,onChange:v=>g(v.target.value),placeholder:"PasswordExample123?!"})]}),w.jsx(Ui,{variant:"primary",type:"submit",children:"Sign up"})]})}),w.jsxs(qe.Footer,{className:"flex-center",children:[w.jsx(Ln,{className:"flex-center",children:w.jsx("h5",{children:"OR"})}),w.jsx(Ln,{className:"flex-center",children:w.jsx(Ui,{variant:"primary",onClick:()=>{console.log("Hello"),t()},children:"Continue with Google"})})]})]})]})}function Tl(i=!1){const[t,e]=I.useState(i),r=I.useCallback(()=>{e(o=>!o)},[]);return[t,r]}function SV(){const[,i]=I.useReducer(t=>t+1,0);return i}const bv=I.createContext(null);bv.displayName="NavContext";const Td=I.createContext(null),Sv=(i,t=null)=>i!=null?String(i):t||null,xA=I.createContext(null),wV=["as","active","eventKey"];function AV(i,t){if(i==null)return{};var e={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;e[r]=i[r]}return e}function OA({key:i,onClick:t,active:e,id:r,role:o,disabled:l}){const h=I.useContext(Td),d=I.useContext(bv),p=I.useContext(xA);let g=e;const _={role:o};if(d){!o&&d.role==="tablist"&&(_.role="tab");const v=d.getControllerId(i??null),b=d.getControlledId(i??null);_[Xd("event-key")]=i,_.id=v||r,g=e==null&&i!=null?d.activeKey===i:e,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(_["aria-controls"]=b)}return _.role==="tab"&&(_["aria-selected"]=g,g||(_.tabIndex=-1),l&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=$r(v=>{l||(t==null||t(v),i!=null&&h&&!v.isPropagationStopped()&&h(i,v))}),[_,{isActive:g}]}const NA=I.forwardRef((i,t)=>{let{as:e=oA,active:r,eventKey:o}=i,l=AV(i,wV);const[h,d]=OA(Object.assign({key:Sv(o,l.href),active:r},l));return h[Xd("active")]=d.isActive,w.jsx(e,Object.assign({},l,h,{ref:t}))});NA.displayName="NavItem";const RV=["as","onSelect","activeKey","role","onKeyDown"];function CV(i,t){if(i==null)return{};var e={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;e[r]=i[r]}return e}const Gb=()=>{},Kb=Xd("event-key"),DA=I.forwardRef((i,t)=>{let{as:e="div",onSelect:r,activeKey:o,role:l,onKeyDown:h}=i,d=CV(i,RV);const p=SV(),g=I.useRef(!1),_=I.useContext(Td),v=I.useContext(xA);let b,M;v&&(l=l||"tablist",o=v.activeKey,b=v.getControlledId,M=v.getControllerId);const B=I.useRef(null),H=W=>{const at=B.current;if(!at)return null;const lt=Ja(at,`[${Kb}]:not([aria-disabled=true])`),ht=at.querySelector("[aria-selected=true]");if(!ht||ht!==document.activeElement)return null;const k=lt.indexOf(ht);if(k===-1)return null;let A=k+W;return A>=lt.length&&(A=0),A<0&&(A=lt.length-1),lt[A]},O=(W,at)=>{W!=null&&(r==null||r(W,at),_==null||_(W,at))},et=W=>{if(h==null||h(W),!v)return;let at;switch(W.key){case"ArrowLeft":case"ArrowUp":at=H(-1);break;case"ArrowRight":case"ArrowDown":at=H(1);break;default:return}at&&(W.preventDefault(),O(at.dataset[Qk("EventKey")]||null,W),g.current=!0,p())};I.useEffect(()=>{if(B.current&&g.current){const W=B.current.querySelector(`[${Kb}][aria-selected=true]`);W==null||W.focus()}g.current=!1});const it=Wd(t,B);return w.jsx(Td.Provider,{value:O,children:w.jsx(bv.Provider,{value:{role:l,activeKey:Sv(o),getControlledId:b||Gb,getControllerId:M||Gb},children:w.jsx(e,Object.assign({},d,{onKeyDown:et,ref:it,role:l}))})})});DA.displayName="Nav";const IV=Object.assign(DA,{Item:NA}),su=I.createContext(null);su.displayName="NavbarContext";const MA=I.createContext(null);MA.displayName="CardHeaderContext";const kA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...r},o)=>(t=Ut(t,"nav-item"),w.jsx(e,{ref:o,className:Dt(i,t),...r})));kA.displayName="NavItem";const xV=["onKeyDown"];function OV(i,t){if(i==null)return{};var e={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;e[r]=i[r]}return e}function NV(i){return!i||i.trim()==="#"}const VA=I.forwardRef((i,t)=>{let{onKeyDown:e}=i,r=OV(i,xV);const[o]=fv(Object.assign({tagName:"a"},r)),l=$r(h=>{o.onKeyDown(h),e==null||e(h)});return NV(r.href)||r.role==="button"?w.jsx("a",Object.assign({ref:t},r,o,{onKeyDown:l})):w.jsx("a",Object.assign({ref:t},r,{onKeyDown:e}))});VA.displayName="Anchor";const PA=I.forwardRef(({bsPrefix:i,className:t,as:e=VA,active:r,eventKey:o,disabled:l=!1,...h},d)=>{i=Ut(i,"nav-link");const[p,g]=OA({key:Sv(o,h.href),active:r,disabled:l,...h});return w.jsx(e,{...h,...p,ref:d,disabled:l,className:Dt(t,i,l&&"disabled",g.isActive&&"active")})});PA.displayName="NavLink";const LA=I.forwardRef((i,t)=>{const{as:e="div",bsPrefix:r,variant:o,fill:l=!1,justify:h=!1,navbar:d,navbarScroll:p,className:g,activeKey:_,...v}=yy(i,{activeKey:"onSelect"}),b=Ut(r,"nav");let M,B,H=!1;const O=I.useContext(su),et=I.useContext(MA);return O?(M=O.bsPrefix,H=d??!0):et&&({cardHeaderBsPrefix:B}=et),w.jsx(IV,{as:e,ref:t,activeKey:_,className:Dt(g,{[b]:!H,[`${M}-nav`]:H,[`${M}-nav-scroll`]:H&&p,[`${B}-${o}`]:!!B,[`${b}-${o}`]:!!o,[`${b}-fill`]:l,[`${b}-justified`]:h}),...v})});LA.displayName="Nav";const DV=Object.assign(LA,{Item:kA,Link:PA}),UA=I.forwardRef(({bsPrefix:i,className:t,as:e,...r},o)=>{i=Ut(i,"navbar-brand");const l=e||(r.href?"a":"span");return w.jsx(l,{...r,ref:o,className:Dt(t,i)})});UA.displayName="NavbarBrand";const jA=I.forwardRef(({children:i,bsPrefix:t,...e},r)=>{t=Ut(t,"navbar-collapse");const o=I.useContext(su);return w.jsx(_y,{in:!!(o&&o.expanded),...e,children:w.jsx("div",{ref:r,className:t,children:i})})});jA.displayName="NavbarCollapse";const BA=I.forwardRef(({bsPrefix:i,className:t,children:e,label:r="Toggle navigation",as:o="button",onClick:l,...h},d)=>{i=Ut(i,"navbar-toggler");const{onToggle:p,expanded:g}=I.useContext(su)||{},_=Ql(v=>{l&&l(v),p&&p()});return o==="button"&&(h.type="button"),w.jsx(o,{...h,ref:d,onClick:_,"aria-label":r,className:Dt(t,i,!g&&"collapsed"),children:e||w.jsx("span",{className:`${i}-icon`})})});BA.displayName="NavbarToggle";const MV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",kV=typeof document<"u",VV=kV||MV?I.useLayoutEffect:I.useEffect,ny=new WeakMap,Qb=(i,t)=>{if(!i||!t)return;const e=ny.get(t)||new Map;ny.set(t,e);let r=e.get(i);return r||(r=t.matchMedia(i),r.refCount=0,e.set(r.media,r)),r};function PV(i,t=typeof window>"u"?void 0:window){const e=Qb(i,t),[r,o]=I.useState(()=>e?e.matches:!1);return VV(()=>{let l=Qb(i,t);if(!l)return o(!1);let h=ny.get(t);const d=()=>{o(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&(h==null||h.delete(l.media)),l=void 0}},[i]),r}function LV(i){const t=Object.keys(i);function e(d,p){return d===p?p:d?`${d} and ${p}`:p}function r(d){return t[Math.min(t.indexOf(d)+1,t.length-1)]}function o(d){const p=r(d);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(d){let p=i[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(d,p,g){let _;typeof d=="object"?(_=d,g=p,p=!0):(p=p||!0,_={[d]:p});let v=I.useMemo(()=>Object.entries(_).reduce((b,[M,B])=>((B==="up"||B===!0)&&(b=e(b,l(M))),(B==="down"||B===!0)&&(b=e(b,o(M))),b),""),[JSON.stringify(_)]);return PV(v,g)}return h}const UV=LV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),zA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...r},o)=>(t=Ut(t,"offcanvas-body"),w.jsx(e,{ref:o,className:Dt(i,t),...r})));zA.displayName="OffcanvasBody";const jV={[Vi]:"show",[Qr]:"show"},HA=I.forwardRef(({bsPrefix:i,className:t,children:e,in:r=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:h=!1,...d},p)=>(i=Ut(i,"offcanvas"),w.jsx(Rd,{ref:p,addEndListener:vy,in:r,mountOnEnter:o,unmountOnExit:l,appear:h,...d,childRef:Xl(e),children:(g,_)=>I.cloneElement(e,{..._,className:Dt(t,e.props.className,(g===Vi||g===wc)&&`${i}-toggling`,jV[g])})})));HA.displayName="OffcanvasToggling";const FA=I.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:r=!1,...o},l)=>(i=Ut(i,"offcanvas-header"),w.jsx(Tv,{ref:l,...o,className:Dt(t,i),closeLabel:e,closeButton:r})));FA.displayName="OffcanvasHeader";const BV=RA("h5"),qA=I.forwardRef(({className:i,bsPrefix:t,as:e=BV,...r},o)=>(t=Ut(t,"offcanvas-title"),w.jsx(e,{ref:o,className:Dt(i,t),...r})));qA.displayName="OffcanvasTitle";function zV(i){return w.jsx(HA,{...i})}function HV(i){return w.jsx(Zd,{...i})}const GA=I.forwardRef(({bsPrefix:i,className:t,children:e,"aria-labelledby":r,placement:o="start",responsive:l,show:h=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:_,onShow:v,onHide:b,container:M,autoFocus:B=!0,enforceFocus:H=!0,restoreFocus:O=!0,restoreFocusOptions:et,onEntered:it,onExit:W,onExiting:at,onEnter:lt,onEntering:ht,onExited:k,backdropClassName:A,manager:C,renderStaticNode:D=!1,...P},U)=>{const x=I.useRef();i=Ut(i,"offcanvas");const[kt,jt]=I.useState(!1),F=Ql(b),ut=UV(l||"xs","up");I.useEffect(()=>{jt(l?h&&!ut:h)},[h,l,ut]);const dt=I.useMemo(()=>({onHide:F}),[F]);function It(){return C||(g?(x.current||(x.current=new TA({handleContainerOverflow:!1})),x.current):bA())}const V=(ft,...bt)=>{ft&&(ft.style.visibility="visible"),lt==null||lt(ft,...bt)},Y=(ft,...bt)=>{ft&&(ft.style.visibility=""),k==null||k(...bt)},st=I.useCallback(ft=>w.jsx("div",{...ft,className:Dt(`${i}-backdrop`,A)}),[A,i]),Z=ft=>w.jsx("div",{...ft,...P,className:Dt(t,l?`${i}-${l}`:i,`${i}-${o}`),"aria-labelledby":r,children:e});return w.jsxs(w.Fragment,{children:[!kt&&(l||D)&&Z({}),w.jsx(vv.Provider,{value:dt,children:w.jsx(EA,{show:kt,ref:U,backdrop:d,container:M,keyboard:p,autoFocus:B,enforceFocus:H&&!g,restoreFocus:O,restoreFocusOptions:et,onEscapeKeyDown:_,onShow:v,onHide:F,onEnter:V,onEntering:ht,onEntered:it,onExit:W,onExiting:at,onExited:Y,manager:It(),transition:zV,backdropTransition:HV,renderBackdrop:st,renderDialog:Z})})]})});GA.displayName="Offcanvas";const FV=Object.assign(GA,{Body:zA,Header:FA,Title:qA}),KA=I.forwardRef(({onHide:i,...t},e)=>{const r=I.useContext(su),o=Ql(()=>{r==null||r.onToggle==null||r.onToggle(),i==null||i()});return w.jsx(FV,{ref:e,show:!!(r!=null&&r.expanded),...t,renderStaticNode:!0,onHide:o})});KA.displayName="NavbarOffcanvas";const QA=I.forwardRef(({className:i,bsPrefix:t,as:e="span",...r},o)=>(t=Ut(t,"navbar-text"),w.jsx(e,{ref:o,className:Dt(i,t),...r})));QA.displayName="NavbarText";const $A=I.forwardRef((i,t)=>{const{bsPrefix:e,expand:r=!0,variant:o="light",bg:l,fixed:h,sticky:d,className:p,as:g="nav",expanded:_,onToggle:v,onSelect:b,collapseOnSelect:M=!1,...B}=yy(i,{expanded:"onToggle"}),H=Ut(e,"navbar"),O=I.useCallback((...W)=>{b==null||b(...W),M&&_&&(v==null||v(!1))},[b,M,_,v]);B.role===void 0&&g!=="nav"&&(B.role="navigation");let et=`${H}-expand`;typeof r=="string"&&(et=`${et}-${r}`);const it=I.useMemo(()=>({onToggle:()=>v==null?void 0:v(!_),bsPrefix:H,expanded:!!_,expand:r}),[H,_,r,v]);return w.jsx(su.Provider,{value:it,children:w.jsx(Td.Provider,{value:O,children:w.jsx(g,{ref:t,...B,className:Dt(p,H,r&&et,o&&`${H}-${o}`,l&&`bg-${l}`,d&&`sticky-${d}`,h&&`fixed-${h}`)})})})});$A.displayName="Navbar";const Vf=Object.assign($A,{Brand:UA,Collapse:jA,Offcanvas:KA,Text:QA,Toggle:BA});function qV(){const{toggleDarkMode:i}=bo();return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"dark-mode-button flex-center",children:[w.jsx("input",{type:"checkbox",id:"dark-mode-input",className:"dark-mode-input",onClick:i}),w.jsxs("label",{htmlFor:"dark-mode-input",className:"dark-mode-label",children:[w.jsx("div",{className:"night",children:"night"}),w.jsx("div",{className:"day",children:"day"})]})]})})}function GV(i){return qc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M135.19 390.14a28.79 28.79 0 0 0 21.68 9.86h246.26A29 29 0 0 0 432 371.13V140.87A29 29 0 0 0 403.13 112H156.87a28.84 28.84 0 0 0-21.67 9.84L46.33 256l88.86 134.11z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336.67 192.33 206.66 322.34m130.01 0L206.66 192.33m130.01 0L206.66 322.34m130.01 0L206.66 192.33"},child:[]}]})(i)}function KV(i){return qc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"28",d:"M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296"},child:[]},{tag:"circle",attr:{cx:"250",cy:"348",r:"20"},child:[]}]})(i)}function QV(i){return qc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 496H72a24 24 0 0 1-24-24V328a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v144a24 24 0 0 1-24 24zm224 0h-32a24 24 0 0 1-24-24V232a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v240a24 24 0 0 1-24 24zm112 0h-32a24 24 0 0 1-24-24V120a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v352a24 24 0 0 1-24 24zm-224 0h-32a24 24 0 0 1-24-24V40a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v432a24 24 0 0 1-24 24z"},child:[]}]})(i)}function $V({toggleLogIn:i,playWordle:t,togglePlayWordle:e,toggleStats:r}){const{currentUser:o}=Id(),{setGameMode:l}=To(),{darkMode:h}=bo(),d=async()=>{try{await h4(Vc),window.location.reload()}catch(p){console.error("Error signing out:",p.message),or.error(p.message)}};return w.jsxs(w.Fragment,{children:[w.jsx(Gc,{richColors:!0,position:"top-center"}),w.jsx(Vf,{className:h,children:w.jsxs(Ln,{children:[w.jsx(Vf.Brand,{className:"nav-brand",onClick:()=>t&&e(),children:"Wordle"}),w.jsx(Vf.Toggle,{"aria-controls":"basic-navbar-nav"}),w.jsx(Vf.Collapse,{id:"basic-navbar-nav",children:w.jsxs(DV,{className:"me-auto",children:[w.jsx(Ln,{className:"stats flex-center",children:w.jsx(QV,{size:"50%",className:"stats-icon",onClick:()=>{l(Yt.CLASSIC),r()}})}),w.jsx(Ln,{className:"info flex-center",children:w.jsx(KV,{size:"60%",className:"info-icon"})}),o?w.jsx(Ln,{className:"button flex-center",children:w.jsx(Ui,{variant:"primary",onClick:d,style:{fontSize:"12px",width:"60px"},children:"Log out"})}):w.jsx(Ln,{className:"button flex-center",children:w.jsx(Ui,{variant:"primary",onClick:i,style:{fontSize:"12px",width:"60px"},children:"Log in"})}),w.jsx(qV,{})]})})]})})]})}const wv=I.createContext({handleKeyClick:()=>console.warn("KeyBoardContext: No handleKeyClick provider found!")}),YV=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["ENTER","Z","X","C","V","B","N","M","BACKSPACE"]];function XV({keyColors:i}){const{handleKeyClick:t}=I.useContext(wv),{darkMode:e}=bo();return w.jsx("div",{className:`keyboard ${e}`,children:YV.map((r,o)=>w.jsx(WV,{keyboardRow:r,index:o,handleKeyClick:t,keyColors:i},o))})}function WV({keyboardRow:i,index:t,keyColors:e}){const r=`keyboard-row ${t+1}`;return w.jsx("div",{className:r,children:i.map((o,l)=>w.jsx(ZV,{keyboardKey:o,keyColors:e},l))})}function ZV({keyboardKey:i,keyColors:t}){const{handleKeyClick:e}=I.useContext(wv),o=`keyboard-key ${i.length>1?i.toLowerCase():"key-letter"} ${t.get(i)}`,l=i==="BACKSPACE"?null:i;return w.jsxs("button",{className:o,onClick:e,id:i,children:[i==="BACKSPACE"&&w.jsx(GV,{className:"backspace-img"}),l]})}function JV({guesses:i,wordLength:t,highLight:e}){const{darkMode:r}=bo();return w.jsx("div",{className:`wordle-board ${r}`,children:i.map((o,l)=>w.jsx(tP,{guess:o,wordLength:t,highLight:l===e-1?"highlight":""},l))})}function tP({guess:i,wordLength:t,highLight:e}){const r=[];for(let o=0;o<t;o++){let l=i.word[o],h=`tile ${i.colors[o]}`,d=`letter ${i.colors[o]}`;r.push(w.jsx("div",{className:h+" "+e,style:{"--index":o},children:w.jsxs("div",{className:"tile-inner",style:{"--index":o},children:[w.jsx("div",{className:"letter black",style:{"--index":o},children:w.jsx("span",{children:l})}),w.jsx("div",{className:d,style:{"--index":o},children:w.jsx("span",{children:l})})]})},o))}return w.jsx(w.Fragment,{children:r})}const YA=I.createContext({userData:null,isLoading:!0}),ih=()=>I.useContext(YA);function Av({solution:i,wordSet:t,gameResult:e,setGameResult:r,rowIndex:o,numOfGuesses:l,wordLength:h,highLight:d,guesses:p,setGuesses:g,keyColors:_,setKeyColors:v,baseColors:b}){const{userData:M}=ih(),{gameMode:B}=To(),{darkMode:H}=bo(),O=I.useRef({word:"",colors:b}),et=I.useRef(!0),it=A=>new Promise(C=>setTimeout(C,A)),W=(A,C)=>{setTimeout(()=>{_.get(A)!=="green"&&v(D=>{const P=new Map(D);return P.set(A,C),P})},1700)},at=A=>{const C=[...p];C[o.current]={...A},g(C)},lt=async()=>{const A=new Array(h).fill(void 0),C=new Map,D=[];let P=0;const U=new Map;i.forEach(x=>U.has(x)?U.set(x,U.get(x)+1):U.set(x,1)),O.current.word.split("").forEach((x,kt)=>{x===i[kt]?(A[kt]="green",C.set(x,"green"),P++,U.set(x,U.get(x)-1)):D.push(kt)}),D.forEach(x=>{const kt=O.current.word[x];U.get(kt)&&i.includes(kt)?(A[x]="orange",U.set(kt,U.get(kt)-1),!C.has(kt)&&C.set(kt,"orange")):(A[x]="grey",!C.has(kt)&&C.set(kt,"grey"))}),C.forEach((x,kt)=>{W(kt,x)}),O.current={word:O.current.word,colors:A},at(O.current),await it(1700),P===h&&(await it(1e3),r("guessed"))},ht=A=>{k(A.target.id)},k=async A=>{(B==="practice"||B!=="practice"&&!(M!=null&&M.statistics.gameModes[B].finishedToday))&&!e&&et.current&&(A==="ENTER"?O.current.word.length===h?t.current.has(O.current.word.toLowerCase())?(et.current=!1,await lt(),o.current++,O.current={word:"",colors:b},et.current=!0,!e&&o.current>=l&&(r("failed"),o.current++)):or.warning("Not in the word bank."):or.warning("Too short."):o.current<l&&(A==="BACKSPACE"&&O.current.word.length>0?(O.current.word=O.current.word.slice(0,-1),at(O.current)):/[A-Z]/.test(A)&&A.length===1&&O.current.word.length<h&&(O.current.word=O.current.word+A,at(O.current))))};return I.useEffect(()=>{const A=C=>{k(C.key.toUpperCase())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[p]),w.jsxs(w.Fragment,{children:[w.jsx(Gc,{richColors:!0,position:"top-center"}),w.jsx("h3",{className:`game-mode ${H}`,children:B}),w.jsx(JV,{guesses:p,wordLength:h,highLight:d}),w.jsx(wv.Provider,{value:{handleKeyClick:ht},children:w.jsx(XV,{keyColors:_})})]})}function Rv({showDialog:i,setGameResult:t,toggleRestart:e,togglePlayWordle:r,solution:o}){const{gameMode:l}=To();return w.jsx(w.Fragment,{children:w.jsxs(qe,{show:i,onHide:()=>t(""),backdrop:"static",children:[w.jsx(qe.Header,{closeButton:!0,children:w.jsx(Ln,{className:"flex-center",children:w.jsx(qe.Title,{children:w.jsx("h1",{children:o})})})}),w.jsx(qe.Body,{}),w.jsx(qe.Footer,{className:"flex-center",children:w.jsxs(Ln,{children:[w.jsx(Ui,{onClick:()=>{t(""),r()},children:"Go home"}),l===Yt.PRACTICE&&w.jsx(Ui,{onClick:()=>{t(""),e()},children:"Play again"})]})})]})})}function eP({togglePlayWordle:i,wordLength:t,numOfGuesses:e,guesses:r,setGuesses:o,keyColors:l,setKeyColors:h,rowIndex:d,baseColors:p,gameResult:g,setGameResult:_,mutateUserData:v}){const{userData:b}=ih(),[M,B]=I.useState([]),H=I.useRef([]),O=I.useRef(new Set);return I.useEffect(()=>{(async()=>{try{d.current=0;let it=await Dc(go(ya,"wordleWords","wordBank")),W=it.data();O.current=new Set(W.allWords),it=await Dc(go(ya,"wordleWords","dailyWords")),W=it.data();const at=W.classicWord;B(at.toUpperCase().split("")),H.current=at.toUpperCase().split(""),console.log(H.current.join(""))}catch(it){console.error(it)}})()},[]),I.useEffect(()=>{g&&(async()=>{const it={...b};it.statistics.gameModes.classic.finishedToday=!0,it.statistics.gameModes.classic.gamesPlayed++,it.statistics.gameModes.classic.dailyStreak++,it.statistics.gameModes.classic.dailyStreak>b.statistics.gameModes.classic.dailyStreakMax&&(it.statistics.gameModes.classic.dailyStreakMax=it.statistics.gameModes.classic.dailyStreak),g==="guessed"&&it.statistics.gameModes.classic.gamesGuessed[d.current-1]++;try{await v(it)}catch(W){console.error(W)}})()},[g]),w.jsxs(w.Fragment,{children:[w.jsx(Av,{solution:M,wordSet:O,rowIndex:d,guesses:r,setGuesses:o,keyColors:l,setKeyColors:h,baseColors:p,gameResult:g,setGameResult:_,wordLength:t,numOfGuesses:e}),w.jsx(Rv,{showDialog:g,setGameResult:_,togglePlayWordle:i})]})}function nP({togglePlayWordle:i,wordLength:t,numOfGuesses:e,guesses:r,setGuesses:o,keyColors:l,setKeyColors:h,rowIndex:d,baseColors:p,gameRound:g,gameResult:_,setGameResult:v,mutateUserData:b}){const{userData:M}=ih(),B=I.useRef([]),[H,O]=I.useState([]),[et,it]=Tl(!1),W=I.useRef(new Set),[at,lt]=I.useState(!1);I.useEffect(()=>{(async()=>{try{let A=await Dc(go(ya,"wordleWords","wordBank")),C=A.data();W.current=new Set(C.allWords),A=await Dc(go(ya,"wordleWords","dailyWords")),C=A.data(),B.current=C.royaleWords,O(B.current[g.current-1].toUpperCase().split("")),B.current.forEach(D=>console.log(D))}catch(A){console.error(A)}})()},[]),I.useEffect(()=>{_&&(_!=="failed"&&g.current<e-1?ht()?lt(!0):(O(B.current[g.current].toUpperCase().split("")),g.current++,v(""),d.current=0,h(new Map),o(new Array(6).fill({word:"",colors:p})),it()):lt(!0))},[_]),I.useEffect(()=>{at&&(async()=>{const A={...M};A.statistics.gameModes.royale.finishedToday=!0,A.statistics.gameModes.royale.gamesPlayed++,A.statistics.gameModes.royale.dailyStreak++,A.statistics.gameModes.royale.dailyStreak>M.statistics.gameModes.royale.dailyStreakMax&&(A.statistics.gameModes.royale.dailyStreakMax=A.statistics.gameModes.royale.dailyStreak),_==="guessed"&&A.statistics.gameModes.royale.gamesGuessed[g.current-1]++;try{b(A)}catch(C){console.error(C)}})()},[at]);const ht=()=>g.current+d.current>e;return w.jsxs(w.Fragment,{children:[w.jsx(Av,{solution:H,wordSet:W,rowIndex:d,guesses:r,setGuesses:o,keyColors:l,setKeyColors:h,gameResult:_,setGameResult:v,wordLength:t,numOfGuesses:e,highLight:e-g.current,baseColors:p},et),w.jsx(Rv,{showDialog:at,setGameResult:v,toggleRestart:it,togglePlayWordle:i,solution:H})]})}const iP="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function rP({togglePlayWordle:i,wordLength:t,numOfGuesses:e,guesses:r,setGuesses:o,keyColors:l,setKeyColors:h,rowIndex:d,baseColors:p,toggleRestart:g}){const[_,v]=I.useState([]),b=I.useRef([]),M=I.useRef(new Set),[B,H]=I.useState("");return I.useEffect(()=>{(async()=>{try{d.current=0;const W=[...(await(await fetch(iP)).json()).words];W.forEach(lt=>M.current.add(lt));const at=W[Math.floor(Math.random()*(W.length-1))];v(at.toUpperCase().split("")),b.current=at.toUpperCase().split(""),console.log(b.current.join(""))}catch(et){console.error(et)}})()},[]),w.jsxs(w.Fragment,{children:[w.jsx(Av,{solution:_,wordSet:M,rowIndex:d,gameResult:B,setGameResult:H,wordLength:t,numOfGuesses:e,guesses:r,setGuesses:o,keyColors:l,setKeyColors:h,baseColors:p}),w.jsx(Rv,{showDialog:B,setGameResult:H,toggleRestart:g,togglePlayWordle:i,solution:_})]})}var au=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_o=typeof window>"u"||"Deno"in globalThis;function Pn(){}function sP(i,t){return typeof i=="function"?i(t):i}function iy(i){return typeof i=="number"&&i>=0&&i!==1/0}function XA(i,t){return Math.max(i+(t||0)-Date.now(),0)}function ca(i,t){return typeof i=="function"?i(t):i}function Ti(i,t){return typeof i=="function"?i(t):i}function $b(i,t){const{type:e="all",exact:r,fetchStatus:o,predicate:l,queryKey:h,stale:d}=i;if(h){if(r){if(t.queryHash!==Cv(h,t.options))return!1}else if(!Pc(t.queryKey,h))return!1}if(e!=="all"){const p=t.isActive();if(e==="active"&&!p||e==="inactive"&&p)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||o&&o!==t.state.fetchStatus||l&&!l(t))}function Yb(i,t){const{exact:e,status:r,predicate:o,mutationKey:l}=i;if(l){if(!t.options.mutationKey)return!1;if(e){if(Eo(t.options.mutationKey)!==Eo(l))return!1}else if(!Pc(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function Cv(i,t){return((t==null?void 0:t.queryKeyHashFn)||Eo)(i)}function Eo(i){return JSON.stringify(i,(t,e)=>ry(e)?Object.keys(e).sort().reduce((r,o)=>(r[o]=e[o],r),{}):e)}function Pc(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?Object.keys(t).every(e=>Pc(i[e],t[e])):!1}function WA(i,t){if(i===t)return i;const e=Xb(i)&&Xb(t);if(e||ry(i)&&ry(t)){const r=e?i:Object.keys(i),o=r.length,l=e?t:Object.keys(t),h=l.length,d=e?[]:{},p=new Set(r);let g=0;for(let _=0;_<h;_++){const v=e?_:l[_];(!e&&p.has(v)||e)&&i[v]===void 0&&t[v]===void 0?(d[v]=void 0,g++):(d[v]=WA(i[v],t[v]),d[v]===i[v]&&i[v]!==void 0&&g++)}return o===h&&g===o?i:d}return t}function bd(i,t){if(!t||Object.keys(i).length!==Object.keys(t).length)return!1;for(const e in i)if(i[e]!==t[e])return!1;return!0}function Xb(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function ry(i){if(!Wb(i))return!1;const t=i.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!Wb(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function Wb(i){return Object.prototype.toString.call(i)==="[object Object]"}function aP(i){return new Promise(t=>{setTimeout(t,i)})}function sy(i,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(i,t):e.structuralSharing!==!1?WA(i,t):t}function oP(i,t,e=0){const r=[...i,t];return e&&r.length>e?r.slice(1):r}function lP(i,t,e=0){const r=[t,...i];return e&&r.length>e?r.slice(0,-1):r}var Iv=Symbol();function ZA(i,t){return!i.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!i.queryFn||i.queryFn===Iv?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}function JA(i,t){return typeof i=="function"?i(...t):!!i}var no,Qs,Cl,iS,uP=(iS=class extends au{constructor(){super();St(this,no);St(this,Qs);St(this,Cl);gt(this,Cl,t=>{if(!_o&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){L(this,Qs)||this.setEventListener(L(this,Cl))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,Qs))==null||t.call(this),gt(this,Qs,void 0))}setEventListener(t){var e;gt(this,Cl,t),(e=L(this,Qs))==null||e.call(this),gt(this,Qs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){L(this,no)!==t&&(gt(this,no,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof L(this,no)=="boolean"?L(this,no):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},no=new WeakMap,Qs=new WeakMap,Cl=new WeakMap,iS),xv=new uP,Il,$s,xl,rS,cP=(rS=class extends au{constructor(){super();St(this,Il,!0);St(this,$s);St(this,xl);gt(this,xl,t=>{if(!_o&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,$s)||this.setEventListener(L(this,xl))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,$s))==null||t.call(this),gt(this,$s,void 0))}setEventListener(t){var e;gt(this,xl,t),(e=L(this,$s))==null||e.call(this),gt(this,$s,t(this.setOnline.bind(this)))}setOnline(t){L(this,Il)!==t&&(gt(this,Il,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return L(this,Il)}},Il=new WeakMap,$s=new WeakMap,xl=new WeakMap,rS),Sd=new cP;function ay(){let i,t;const e=new Promise((o,l)=>{i=o,t=l});e.status="pending",e.catch(()=>{});function r(o){Object.assign(e,o),delete e.resolve,delete e.reject}return e.resolve=o=>{r({status:"fulfilled",value:o}),i(o)},e.reject=o=>{r({status:"rejected",reason:o}),t(o)},e}function hP(i){return Math.min(1e3*2**i,3e4)}function tR(i){return(i??"online")==="online"?Sd.isOnline():!0}var eR=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function bg(i){return i instanceof eR}function nR(i){let t=!1,e=0,r=!1,o;const l=ay(),h=H=>{var O;r||(b(new eR(H)),(O=i.abort)==null||O.call(i))},d=()=>{t=!0},p=()=>{t=!1},g=()=>xv.isFocused()&&(i.networkMode==="always"||Sd.isOnline())&&i.canRun(),_=()=>tR(i.networkMode)&&i.canRun(),v=H=>{var O;r||(r=!0,(O=i.onSuccess)==null||O.call(i,H),o==null||o(),l.resolve(H))},b=H=>{var O;r||(r=!0,(O=i.onError)==null||O.call(i,H),o==null||o(),l.reject(H))},M=()=>new Promise(H=>{var O;o=et=>{(r||g())&&H(et)},(O=i.onPause)==null||O.call(i)}).then(()=>{var H;o=void 0,r||(H=i.onContinue)==null||H.call(i)}),B=()=>{if(r)return;let H;const O=e===0?i.initialPromise:void 0;try{H=O??i.fn()}catch(et){H=Promise.reject(et)}Promise.resolve(H).then(v).catch(et=>{var ht;if(r)return;const it=i.retry??(_o?0:3),W=i.retryDelay??hP,at=typeof W=="function"?W(e,et):W,lt=it===!0||typeof it=="number"&&e<it||typeof it=="function"&&it(e,et);if(t||!lt){b(et);return}e++,(ht=i.onFail)==null||ht.call(i,e,et),aP(at).then(()=>g()?void 0:M()).then(()=>{t?b(et):B()})})};return{promise:l,cancel:h,continue:()=>(o==null||o(),l),cancelRetry:d,continueRetry:p,canStart:_,start:()=>(_()?B():M().then(B),l)}}var fP=i=>setTimeout(i,0);function dP(){let i=[],t=0,e=d=>{d()},r=d=>{d()},o=fP;const l=d=>{t?i.push(d):o(()=>{e(d)})},h=()=>{const d=i;i=[],d.length&&o(()=>{r(()=>{d.forEach(p=>{e(p)})})})};return{batch:d=>{let p;t++;try{p=d()}finally{t--,t||h()}return p},batchCalls:d=>(...p)=>{l(()=>{d(...p)})},schedule:l,setNotifyFunction:d=>{e=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{o=d}}}var We=dP(),io,sS,iR=(sS=class{constructor(){St(this,io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iy(this.gcTime)&&gt(this,io,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(_o?1/0:5*60*1e3))}clearGcTimeout(){L(this,io)&&(clearTimeout(L(this,io)),gt(this,io,void 0))}},io=new WeakMap,sS),Ol,ro,Ei,so,wn,Uc,ao,Mi,qr,aS,mP=(aS=class extends iR{constructor(t){super();St(this,Mi);St(this,Ol);St(this,ro);St(this,Ei);St(this,so);St(this,wn);St(this,Uc);St(this,ao);gt(this,ao,!1),gt(this,Uc,t.defaultOptions),this.setOptions(t.options),this.observers=[],gt(this,so,t.client),gt(this,Ei,L(this,so).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,gt(this,Ol,pP(this.options)),this.state=t.state??L(this,Ol),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=L(this,wn))==null?void 0:t.promise}setOptions(t){this.options={...L(this,Uc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,Ei).remove(this)}setData(t,e){const r=sy(this.state.data,t,this.options);return Lt(this,Mi,qr).call(this,{data:r,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),r}setState(t,e){Lt(this,Mi,qr).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var r,o;const e=(r=L(this,wn))==null?void 0:r.promise;return(o=L(this,wn))==null||o.cancel(t),e?e.then(Pn).catch(Pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,Ol))}isActive(){return this.observers.some(t=>Ti(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ca(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!XA(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=L(this,wn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=L(this,wn))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),L(this,Ei).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(L(this,wn)&&(L(this,ao)?L(this,wn).cancel({revert:!0}):L(this,wn).cancelRetry()),this.scheduleGc()),L(this,Ei).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Mi,qr).call(this,{type:"invalidate"})}fetch(t,e){var g,_,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(L(this,wn))return L(this,wn).continueRetry(),L(this,wn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(M=>M.options.queryFn);b&&this.setOptions(b.options)}const r=new AbortController,o=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(gt(this,ao,!0),r.signal)})},l=()=>{const b=ZA(this.options,e),B=(()=>{const H={client:L(this,so),queryKey:this.queryKey,meta:this.meta};return o(H),H})();return gt(this,ao,!1),this.options.persister?this.options.persister(b,B,this):b(B)},d=(()=>{const b={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:L(this,so),state:this.state,fetchFn:l};return o(b),b})();(g=this.options.behavior)==null||g.onFetch(d,this),gt(this,ro,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=d.fetchOptions)==null?void 0:_.meta))&&Lt(this,Mi,qr).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta});const p=b=>{var M,B,H,O;bg(b)&&b.silent||Lt(this,Mi,qr).call(this,{type:"error",error:b}),bg(b)||((B=(M=L(this,Ei).config).onError)==null||B.call(M,b,this),(O=(H=L(this,Ei).config).onSettled)==null||O.call(H,this.state.data,b,this)),this.scheduleGc()};return gt(this,wn,nR({initialPromise:e==null?void 0:e.initialPromise,fn:d.fetchFn,abort:r.abort.bind(r),onSuccess:b=>{var M,B,H,O;if(b===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(et){p(et);return}(B=(M=L(this,Ei).config).onSuccess)==null||B.call(M,b,this),(O=(H=L(this,Ei).config).onSettled)==null||O.call(H,b,this.state.error,this),this.scheduleGc()},onError:p,onFail:(b,M)=>{Lt(this,Mi,qr).call(this,{type:"failed",failureCount:b,error:M})},onPause:()=>{Lt(this,Mi,qr).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Mi,qr).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),L(this,wn).start()}},Ol=new WeakMap,ro=new WeakMap,Ei=new WeakMap,so=new WeakMap,wn=new WeakMap,Uc=new WeakMap,ao=new WeakMap,Mi=new WeakSet,qr=function(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rR(r.data,this.options),fetchMeta:t.meta??null};case"success":return gt(this,ro,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return bg(o)&&o.revert&&L(this,ro)?{...L(this,ro),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),We.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),L(this,Ei).notify({query:this,type:"updated",action:t})})},aS);function rR(i,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tR(t.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function pP(i){const t=typeof i.initialData=="function"?i.initialData():i.initialData,e=t!==void 0,r=e?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var rr,oS,gP=(oS=class extends au{constructor(t={}){super();St(this,rr);this.config=t,gt(this,rr,new Map)}build(t,e,r){const o=e.queryKey,l=e.queryHash??Cv(o,e);let h=this.get(l);return h||(h=new mP({client:t,queryKey:o,queryHash:l,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(h)),h}add(t){L(this,rr).has(t.queryHash)||(L(this,rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=L(this,rr).get(t.queryHash);e&&(t.destroy(),e===t&&L(this,rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){We.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return L(this,rr).get(t)}getAll(){return[...L(this,rr).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>$b(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>$b(t,r)):e}notify(t){We.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){We.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){We.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rr=new WeakMap,oS),sr,kn,oo,ar,Bs,lS,yP=(lS=class extends iR{constructor(t){super();St(this,ar);St(this,sr);St(this,kn);St(this,oo);this.mutationId=t.mutationId,gt(this,kn,t.mutationCache),gt(this,sr,[]),this.state=t.state||sR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,sr).includes(t)||(L(this,sr).push(t),this.clearGcTimeout(),L(this,kn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){gt(this,sr,L(this,sr).filter(e=>e!==t)),this.scheduleGc(),L(this,kn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,sr).length||(this.state.status==="pending"?this.scheduleGc():L(this,kn).remove(this))}continue(){var t;return((t=L(this,oo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,h,d,p,g,_,v,b,M,B,H,O,et,it,W,at,lt,ht,k,A;const e=()=>{Lt(this,ar,Bs).call(this,{type:"continue"})};gt(this,oo,nR({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,D)=>{Lt(this,ar,Bs).call(this,{type:"failed",failureCount:C,error:D})},onPause:()=>{Lt(this,ar,Bs).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,kn).canRun(this)}));const r=this.state.status==="pending",o=!L(this,oo).canStart();try{if(r)e();else{Lt(this,ar,Bs).call(this,{type:"pending",variables:t,isPaused:o}),await((h=(l=L(this,kn).config).onMutate)==null?void 0:h.call(l,t,this));const D=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,t));D!==this.state.context&&Lt(this,ar,Bs).call(this,{type:"pending",context:D,variables:t,isPaused:o})}const C=await L(this,oo).start();return await((_=(g=L(this,kn).config).onSuccess)==null?void 0:_.call(g,C,t,this.state.context,this)),await((b=(v=this.options).onSuccess)==null?void 0:b.call(v,C,t,this.state.context)),await((B=(M=L(this,kn).config).onSettled)==null?void 0:B.call(M,C,null,this.state.variables,this.state.context,this)),await((O=(H=this.options).onSettled)==null?void 0:O.call(H,C,null,t,this.state.context)),Lt(this,ar,Bs).call(this,{type:"success",data:C}),C}catch(C){try{throw await((it=(et=L(this,kn).config).onError)==null?void 0:it.call(et,C,t,this.state.context,this)),await((at=(W=this.options).onError)==null?void 0:at.call(W,C,t,this.state.context)),await((ht=(lt=L(this,kn).config).onSettled)==null?void 0:ht.call(lt,void 0,C,this.state.variables,this.state.context,this)),await((A=(k=this.options).onSettled)==null?void 0:A.call(k,void 0,C,t,this.state.context)),C}finally{Lt(this,ar,Bs).call(this,{type:"error",error:C})}}finally{L(this,kn).runNext(this)}}},sr=new WeakMap,kn=new WeakMap,oo=new WeakMap,ar=new WeakSet,Bs=function(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),We.batch(()=>{L(this,sr).forEach(r=>{r.onMutationUpdate(t)}),L(this,kn).notify({mutation:this,type:"updated",action:t})})},lS);function sR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gr,ki,jc,uS,vP=(uS=class extends au{constructor(t={}){super();St(this,Gr);St(this,ki);St(this,jc);this.config=t,gt(this,Gr,new Set),gt(this,ki,new Map),gt(this,jc,0)}build(t,e,r){const o=new yP({mutationCache:this,mutationId:++Af(this,jc)._,options:t.defaultMutationOptions(e),state:r});return this.add(o),o}add(t){L(this,Gr).add(t);const e=Pf(t);if(typeof e=="string"){const r=L(this,ki).get(e);r?r.push(t):L(this,ki).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(L(this,Gr).delete(t)){const e=Pf(t);if(typeof e=="string"){const r=L(this,ki).get(e);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&L(this,ki).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Pf(t);if(typeof e=="string"){const r=L(this,ki).get(e),o=r==null?void 0:r.find(l=>l.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const e=Pf(t);if(typeof e=="string"){const o=(r=L(this,ki).get(e))==null?void 0:r.find(l=>l!==t&&l.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){We.batch(()=>{L(this,Gr).forEach(t=>{this.notify({type:"removed",mutation:t})}),L(this,Gr).clear(),L(this,ki).clear()})}getAll(){return Array.from(L(this,Gr))}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Yb(e,r))}findAll(t={}){return this.getAll().filter(e=>Yb(t,e))}notify(t){We.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return We.batch(()=>Promise.all(t.map(e=>e.continue().catch(Pn))))}},Gr=new WeakMap,ki=new WeakMap,jc=new WeakMap,uS);function Pf(i){var t;return(t=i.options.scope)==null?void 0:t.id}function Zb(i){return{onFetch:(t,e)=>{var _,v,b,M,B;const r=t.options,o=(b=(v=(_=t.fetchOptions)==null?void 0:_.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,l=((M=t.state.data)==null?void 0:M.pages)||[],h=((B=t.state.data)==null?void 0:B.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const g=async()=>{let H=!1;const O=W=>{Object.defineProperty(W,"signal",{enumerable:!0,get:()=>(t.signal.aborted?H=!0:t.signal.addEventListener("abort",()=>{H=!0}),t.signal)})},et=ZA(t.options,t.fetchOptions),it=async(W,at,lt)=>{if(H)return Promise.reject();if(at==null&&W.pages.length)return Promise.resolve(W);const k=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:at,direction:lt?"backward":"forward",meta:t.options.meta};return O(P),P})(),A=await et(k),{maxPages:C}=t.options,D=lt?lP:oP;return{pages:D(W.pages,A,C),pageParams:D(W.pageParams,at,C)}};if(o&&l.length){const W=o==="backward",at=W?_P:Jb,lt={pages:l,pageParams:h},ht=at(r,lt);d=await it(lt,ht,W)}else{const W=i??l.length;do{const at=p===0?h[0]??r.initialPageParam:Jb(r,d);if(p>0&&at==null)break;d=await it(d,at),p++}while(p<W)}return d};t.options.persister?t.fetchFn=()=>{var H,O;return(O=(H=t.options).persister)==null?void 0:O.call(H,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=g}}}function Jb(i,{pages:t,pageParams:e}){const r=t.length-1;return t.length>0?i.getNextPageParam(t[r],t,e[r],e):void 0}function _P(i,{pages:t,pageParams:e}){var r;return t.length>0?(r=i.getPreviousPageParam)==null?void 0:r.call(i,t[0],t,e[0],e):void 0}var Ne,Ys,Xs,Nl,Dl,Ws,Ml,kl,cS,EP=(cS=class{constructor(i={}){St(this,Ne);St(this,Ys);St(this,Xs);St(this,Nl);St(this,Dl);St(this,Ws);St(this,Ml);St(this,kl);gt(this,Ne,i.queryCache||new gP),gt(this,Ys,i.mutationCache||new vP),gt(this,Xs,i.defaultOptions||{}),gt(this,Nl,new Map),gt(this,Dl,new Map),gt(this,Ws,0)}mount(){Af(this,Ws)._++,L(this,Ws)===1&&(gt(this,Ml,xv.subscribe(async i=>{i&&(await this.resumePausedMutations(),L(this,Ne).onFocus())})),gt(this,kl,Sd.subscribe(async i=>{i&&(await this.resumePausedMutations(),L(this,Ne).onOnline())})))}unmount(){var i,t;Af(this,Ws)._--,L(this,Ws)===0&&((i=L(this,Ml))==null||i.call(this),gt(this,Ml,void 0),(t=L(this,kl))==null||t.call(this),gt(this,kl,void 0))}isFetching(i){return L(this,Ne).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return L(this,Ys).findAll({...i,status:"pending"}).length}getQueryData(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=L(this,Ne).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(i){const t=this.defaultQueryOptions(i),e=L(this,Ne).build(this,t),r=e.state.data;return r===void 0?this.fetchQuery(i):(i.revalidateIfStale&&e.isStaleByTime(ca(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(i){return L(this,Ne).findAll(i).map(({queryKey:t,state:e})=>{const r=e.data;return[t,r]})}setQueryData(i,t,e){const r=this.defaultQueryOptions({queryKey:i}),o=L(this,Ne).get(r.queryHash),l=o==null?void 0:o.state.data,h=sP(t,l);if(h!==void 0)return L(this,Ne).build(this,r).setData(h,{...e,manual:!0})}setQueriesData(i,t,e){return We.batch(()=>L(this,Ne).findAll(i).map(({queryKey:r})=>[r,this.setQueryData(r,t,e)]))}getQueryState(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=L(this,Ne).get(t.queryHash))==null?void 0:e.state}removeQueries(i){const t=L(this,Ne);We.batch(()=>{t.findAll(i).forEach(e=>{t.remove(e)})})}resetQueries(i,t){const e=L(this,Ne);return We.batch(()=>(e.findAll(i).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...i},t)))}cancelQueries(i,t={}){const e={revert:!0,...t},r=We.batch(()=>L(this,Ne).findAll(i).map(o=>o.cancel(e)));return Promise.all(r).then(Pn).catch(Pn)}invalidateQueries(i,t={}){return We.batch(()=>(L(this,Ne).findAll(i).forEach(e=>{e.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},t)))}refetchQueries(i,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},r=We.batch(()=>L(this,Ne).findAll(i).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,e);return e.throwOnError||(l=l.catch(Pn)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Pn)}fetchQuery(i){const t=this.defaultQueryOptions(i);t.retry===void 0&&(t.retry=!1);const e=L(this,Ne).build(this,t);return e.isStaleByTime(ca(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Pn).catch(Pn)}fetchInfiniteQuery(i){return i.behavior=Zb(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Pn).catch(Pn)}ensureInfiniteQueryData(i){return i.behavior=Zb(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Sd.isOnline()?L(this,Ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,Ne)}getMutationCache(){return L(this,Ys)}getDefaultOptions(){return L(this,Xs)}setDefaultOptions(i){gt(this,Xs,i)}setQueryDefaults(i,t){L(this,Nl).set(Eo(i),{queryKey:i,defaultOptions:t})}getQueryDefaults(i){const t=[...L(this,Nl).values()],e={};return t.forEach(r=>{Pc(i,r.queryKey)&&Object.assign(e,r.defaultOptions)}),e}setMutationDefaults(i,t){L(this,Dl).set(Eo(i),{mutationKey:i,defaultOptions:t})}getMutationDefaults(i){const t=[...L(this,Dl).values()],e={};return t.forEach(r=>{Pc(i,r.mutationKey)&&Object.assign(e,r.defaultOptions)}),e}defaultQueryOptions(i){if(i._defaulted)return i;const t={...L(this,Xs).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return t.queryHash||(t.queryHash=Cv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Iv&&(t.enabled=!1),t}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...L(this,Xs).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){L(this,Ne).clear(),L(this,Ys).clear()}},Ne=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,Nl=new WeakMap,Dl=new WeakMap,Ws=new WeakMap,Ml=new WeakMap,kl=new WeakMap,cS),qn,Wt,Bc,Vn,lo,Vl,Zs,Js,zc,Pl,Ll,uo,co,ta,Ul,oe,gc,oy,ly,uy,cy,hy,fy,dy,aR,hS,TP=(hS=class extends au{constructor(t,e){super();St(this,oe);St(this,qn);St(this,Wt);St(this,Bc);St(this,Vn);St(this,lo);St(this,Vl);St(this,Zs);St(this,Js);St(this,zc);St(this,Pl);St(this,Ll);St(this,uo);St(this,co);St(this,ta);St(this,Ul,new Set);this.options=e,gt(this,qn,t),gt(this,Js,null),gt(this,Zs,ay()),this.options.experimental_prefetchInRender||L(this,Zs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Wt).addObserver(this),tS(L(this,Wt),this.options)?Lt(this,oe,gc).call(this):this.updateResult(),Lt(this,oe,cy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return my(L(this,Wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return my(L(this,Wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Lt(this,oe,hy).call(this),Lt(this,oe,fy).call(this),L(this,Wt).removeObserver(this)}setOptions(t){const e=this.options,r=L(this,Wt);if(this.options=L(this,qn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ti(this.options.enabled,L(this,Wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Lt(this,oe,dy).call(this),L(this,Wt).setOptions(this.options),e._defaulted&&!bd(this.options,e)&&L(this,qn).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Wt),observer:this});const o=this.hasListeners();o&&eS(L(this,Wt),r,this.options,e)&&Lt(this,oe,gc).call(this),this.updateResult(),o&&(L(this,Wt)!==r||Ti(this.options.enabled,L(this,Wt))!==Ti(e.enabled,L(this,Wt))||ca(this.options.staleTime,L(this,Wt))!==ca(e.staleTime,L(this,Wt)))&&Lt(this,oe,oy).call(this);const l=Lt(this,oe,ly).call(this);o&&(L(this,Wt)!==r||Ti(this.options.enabled,L(this,Wt))!==Ti(e.enabled,L(this,Wt))||l!==L(this,ta))&&Lt(this,oe,uy).call(this,l)}getOptimisticResult(t){const e=L(this,qn).getQueryCache().build(L(this,qn),t),r=this.createResult(e,t);return SP(this,r)&&(gt(this,Vn,r),gt(this,Vl,this.options),gt(this,lo,L(this,Wt).state)),r}getCurrentResult(){return L(this,Vn)}trackResult(t,e){return new Proxy(t,{get:(r,o)=>(this.trackProp(o),e==null||e(o),Reflect.get(r,o))})}trackProp(t){L(this,Ul).add(t)}getCurrentQuery(){return L(this,Wt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=L(this,qn).defaultQueryOptions(t),r=L(this,qn).getQueryCache().build(L(this,qn),e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return Lt(this,oe,gc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,Vn)))}createResult(t,e){var C;const r=L(this,Wt),o=this.options,l=L(this,Vn),h=L(this,lo),d=L(this,Vl),g=t!==r?t.state:L(this,Bc),{state:_}=t;let v={..._},b=!1,M;if(e._optimisticResults){const D=this.hasListeners(),P=!D&&tS(t,e),U=D&&eS(t,r,e,o);(P||U)&&(v={...v,...rR(_.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:B,errorUpdatedAt:H,status:O}=v;M=v.data;let et=!1;if(e.placeholderData!==void 0&&M===void 0&&O==="pending"){let D;l!=null&&l.isPlaceholderData&&e.placeholderData===(d==null?void 0:d.placeholderData)?(D=l.data,et=!0):D=typeof e.placeholderData=="function"?e.placeholderData((C=L(this,Ll))==null?void 0:C.state.data,L(this,Ll)):e.placeholderData,D!==void 0&&(O="success",M=sy(l==null?void 0:l.data,D,e),b=!0)}if(e.select&&M!==void 0&&!et)if(l&&M===(h==null?void 0:h.data)&&e.select===L(this,zc))M=L(this,Pl);else try{gt(this,zc,e.select),M=e.select(M),M=sy(l==null?void 0:l.data,M,e),gt(this,Pl,M),gt(this,Js,null)}catch(D){gt(this,Js,D)}L(this,Js)&&(B=L(this,Js),M=L(this,Pl),H=Date.now(),O="error");const it=v.fetchStatus==="fetching",W=O==="pending",at=O==="error",lt=W&&it,ht=M!==void 0,A={status:O,fetchStatus:v.fetchStatus,isPending:W,isSuccess:O==="success",isError:at,isInitialLoading:lt,isLoading:lt,data:M,dataUpdatedAt:v.dataUpdatedAt,error:B,errorUpdatedAt:H,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:it,isRefetching:it&&!W,isLoadingError:at&&!ht,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:at&&ht,isStale:Ov(t,e),refetch:this.refetch,promise:L(this,Zs),isEnabled:Ti(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=x=>{A.status==="error"?x.reject(A.error):A.data!==void 0&&x.resolve(A.data)},P=()=>{const x=gt(this,Zs,A.promise=ay());D(x)},U=L(this,Zs);switch(U.status){case"pending":t.queryHash===r.queryHash&&D(U);break;case"fulfilled":(A.status==="error"||A.data!==U.value)&&P();break;case"rejected":(A.status!=="error"||A.error!==U.reason)&&P();break}}return A}updateResult(){const t=L(this,Vn),e=this.createResult(L(this,Wt),this.options);if(gt(this,lo,L(this,Wt).state),gt(this,Vl,this.options),L(this,lo).data!==void 0&&gt(this,Ll,L(this,Wt)),bd(e,t))return;gt(this,Vn,e);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!L(this,Ul).size)return!0;const h=new Set(l??L(this,Ul));return this.options.throwOnError&&h.add("error"),Object.keys(L(this,Vn)).some(d=>{const p=d;return L(this,Vn)[p]!==t[p]&&h.has(p)})};Lt(this,oe,aR).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Lt(this,oe,cy).call(this)}},qn=new WeakMap,Wt=new WeakMap,Bc=new WeakMap,Vn=new WeakMap,lo=new WeakMap,Vl=new WeakMap,Zs=new WeakMap,Js=new WeakMap,zc=new WeakMap,Pl=new WeakMap,Ll=new WeakMap,uo=new WeakMap,co=new WeakMap,ta=new WeakMap,Ul=new WeakMap,oe=new WeakSet,gc=function(t){Lt(this,oe,dy).call(this);let e=L(this,Wt).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Pn)),e},oy=function(){Lt(this,oe,hy).call(this);const t=ca(this.options.staleTime,L(this,Wt));if(_o||L(this,Vn).isStale||!iy(t))return;const r=XA(L(this,Vn).dataUpdatedAt,t)+1;gt(this,uo,setTimeout(()=>{L(this,Vn).isStale||this.updateResult()},r))},ly=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Wt)):this.options.refetchInterval)??!1},uy=function(t){Lt(this,oe,fy).call(this),gt(this,ta,t),!(_o||Ti(this.options.enabled,L(this,Wt))===!1||!iy(L(this,ta))||L(this,ta)===0)&&gt(this,co,setInterval(()=>{(this.options.refetchIntervalInBackground||xv.isFocused())&&Lt(this,oe,gc).call(this)},L(this,ta)))},cy=function(){Lt(this,oe,oy).call(this),Lt(this,oe,uy).call(this,Lt(this,oe,ly).call(this))},hy=function(){L(this,uo)&&(clearTimeout(L(this,uo)),gt(this,uo,void 0))},fy=function(){L(this,co)&&(clearInterval(L(this,co)),gt(this,co,void 0))},dy=function(){const t=L(this,qn).getQueryCache().build(L(this,qn),this.options);if(t===L(this,Wt))return;const e=L(this,Wt);gt(this,Wt,t),gt(this,Bc,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},aR=function(t){We.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(L(this,Vn))}),L(this,qn).getQueryCache().notify({query:L(this,Wt),type:"observerResultsUpdated"})})},hS);function bP(i,t){return Ti(t.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&t.retryOnMount===!1)}function tS(i,t){return bP(i,t)||i.state.data!==void 0&&my(i,t,t.refetchOnMount)}function my(i,t,e){if(Ti(t.enabled,i)!==!1&&ca(t.staleTime,i)!=="static"){const r=typeof e=="function"?e(i):e;return r==="always"||r!==!1&&Ov(i,t)}return!1}function eS(i,t,e,r){return(i!==t||Ti(r.enabled,i)===!1)&&(!e.suspense||i.state.status!=="error")&&Ov(i,e)}function Ov(i,t){return Ti(t.enabled,i)!==!1&&i.isStaleByTime(ca(t.staleTime,i))}function SP(i,t){return!bd(i.getCurrentResult(),t)}var ea,na,Gn,Kr,es,Yf,py,fS,wP=(fS=class extends au{constructor(e,r){super();St(this,es);St(this,ea);St(this,na);St(this,Gn);St(this,Kr);gt(this,ea,e),this.setOptions(r),this.bindMethods(),Lt(this,es,Yf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var o;const r=this.options;this.options=L(this,ea).defaultMutationOptions(e),bd(this.options,r)||L(this,ea).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,Gn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Eo(r.mutationKey)!==Eo(this.options.mutationKey)?this.reset():((o=L(this,Gn))==null?void 0:o.state.status)==="pending"&&L(this,Gn).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=L(this,Gn))==null||e.removeObserver(this)}onMutationUpdate(e){Lt(this,es,Yf).call(this),Lt(this,es,py).call(this,e)}getCurrentResult(){return L(this,na)}reset(){var e;(e=L(this,Gn))==null||e.removeObserver(this),gt(this,Gn,void 0),Lt(this,es,Yf).call(this),Lt(this,es,py).call(this)}mutate(e,r){var o;return gt(this,Kr,r),(o=L(this,Gn))==null||o.removeObserver(this),gt(this,Gn,L(this,ea).getMutationCache().build(L(this,ea),this.options)),L(this,Gn).addObserver(this),L(this,Gn).execute(e)}},ea=new WeakMap,na=new WeakMap,Gn=new WeakMap,Kr=new WeakMap,es=new WeakSet,Yf=function(){var r;const e=((r=L(this,Gn))==null?void 0:r.state)??sR();gt(this,na,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},py=function(e){We.batch(()=>{var r,o,l,h,d,p,g,_;if(L(this,Kr)&&this.hasListeners()){const v=L(this,na).variables,b=L(this,na).context;(e==null?void 0:e.type)==="success"?((o=(r=L(this,Kr)).onSuccess)==null||o.call(r,e.data,v,b),(h=(l=L(this,Kr)).onSettled)==null||h.call(l,e.data,null,v,b)):(e==null?void 0:e.type)==="error"&&((p=(d=L(this,Kr)).onError)==null||p.call(d,e.error,v,b),(_=(g=L(this,Kr)).onSettled)==null||_.call(g,void 0,e.error,v,b))}this.listeners.forEach(v=>{v(L(this,na))})})},fS),oR=I.createContext(void 0),Nv=i=>{const t=I.useContext(oR);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},AP=({client:i,children:t})=>(I.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),w.jsx(oR.Provider,{value:i,children:t})),lR=I.createContext(!1),RP=()=>I.useContext(lR);lR.Provider;function CP(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var IP=I.createContext(CP()),xP=()=>I.useContext(IP),OP=(i,t)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(t.isReset()||(i.retryOnMount=!1))},NP=i=>{I.useEffect(()=>{i.clearReset()},[i])},DP=({result:i,errorResetBoundary:t,throwOnError:e,query:r,suspense:o})=>i.isError&&!t.isReset()&&!i.isFetching&&r&&(o&&i.data===void 0||JA(e,[i.error,r])),MP=i=>{if(i.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),e=i.staleTime;i.staleTime=typeof e=="function"?(...r)=>t(e(...r)):t(e),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},kP=(i,t)=>i.isLoading&&i.isFetching&&!t,VP=(i,t)=>(i==null?void 0:i.suspense)&&t.isPending,nS=(i,t,e)=>t.fetchOptimistic(i).catch(()=>{e.clearReset()});function PP(i,t,e){var v,b,M,B,H;const r=RP(),o=xP(),l=Nv(),h=l.defaultQueryOptions(i);(b=(v=l.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||b.call(v,h),h._optimisticResults=r?"isRestoring":"optimistic",MP(h),OP(h,o),NP(o);const d=!l.getQueryCache().get(h.queryHash),[p]=I.useState(()=>new t(l,h)),g=p.getOptimisticResult(h),_=!r&&i.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(O=>{const et=_?p.subscribe(We.batchCalls(O)):Pn;return p.updateResult(),et},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),I.useEffect(()=>{p.setOptions(h)},[h,p]),VP(h,g))throw nS(h,p,o);if(DP({result:g,errorResetBoundary:o,throwOnError:h.throwOnError,query:l.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw g.error;if((B=(M=l.getDefaultOptions().queries)==null?void 0:M._experimental_afterQuery)==null||B.call(M,h,g),h.experimental_prefetchInRender&&!_o&&kP(g,r)){const O=d?nS(h,p,o):(H=l.getQueryCache().get(h.queryHash))==null?void 0:H.promise;O==null||O.catch(Pn).finally(()=>{p.updateResult()})}return h.notifyOnChangeProps?g:p.trackResult(g)}function uR(i,t){return PP(i,TP)}function LP(i,t){const e=Nv(),[r]=I.useState(()=>new wP(e,i));I.useEffect(()=>{r.setOptions(i)},[r,i]);const o=I.useSyncExternalStore(I.useCallback(h=>r.subscribe(We.batchCalls(h)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=I.useCallback((h,d)=>{r.mutate(h,d).catch(Pn)},[r]);if(o.error&&JA(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}async function UP(i){try{const t=go(ya,"Users",i),e=await Dc(t);return console.log("User data fetched."),e.data()}catch(t){console.error(t)}}async function jP(){try{const i=zD(ya,"Users"),t=await iM(i);return console.log("All users fetched"),t}catch(i){console.error(i)}}async function BP(i,t){try{const e=go(ya,"Users",i);await sM(e,t),console.log("User data updated.")}catch(e){console.error(e)}}const Lf=["black","black","black","black","black"];function zP(i){const{currentUser:t}=Id(),{userData:e}=ih(),{gameMode:r}=To(),[o,l]=I.useState(new Array(6).fill({word:"",colors:Lf})),[h,d]=I.useState(new Map),p=I.useRef(0),g=I.useRef(1),[_,v]=I.useState(""),b=I.useRef(!1),M=Nv(),{mutateAsync:B}=LP({mutationFn:async H=>BP(t.uid,H),onSuccess:()=>{M.invalidateQueries({queryKey:["user",t==null?void 0:t.uid]})}});return I.useEffect(()=>{const H=()=>{const O=e==null?void 0:e.statistics.gameModes[r];r===Yt.ROYALE?(l([...O.currentState.roundStates[O.currentState.gameRound-1].guesses]),d(new Map(Object.entries(O.currentState.roundStates[O.currentState.gameRound-1].keyColors))),p.current=O.currentState.roundStates[O.currentState.gameRound-1].rowIndex,g.current=O.currentState.gameRound):(l([...O.currentState.guesses]),d(new Map(Object.entries(O.currentState.keyColors))),p.current=O.currentState.rowIndex),console.log("Game state loaded.")};r!==Yt.PRACTICE&&H()},[]),I.useEffect(()=>{r==="royale"&&(()=>{l(e==null?void 0:e.statistics.gameModes.royale.currentState.roundStates[g.current-1].guesses),d(new Map(Object.entries(e==null?void 0:e.statistics.gameModes.royale.currentState.roundStates[g.current-1].keyColors)))})()},[g.current]),I.useEffect(()=>{const H=async()=>{const O={...e};r===Yt.CLASSIC?(O.statistics.gameModes.classic.playedToday=!0,O.statistics.gameModes.classic.currentState.guesses=o,O.statistics.gameModes.classic.currentState.keyColors=Object.fromEntries(h),O.statistics.gameModes.classic.currentState.rowIndex=p.current):(O.statistics.gameModes.royale.playedToday=!0,O.statistics.gameModes.royale.currentState.roundStates[g.current-1].guesses=o,O.statistics.gameModes.royale.currentState.roundStates[g.current-1].keyColors=Object.fromEntries(h),O.statistics.gameModes.royale.currentState.roundStates[g.current-1].rowIndex=p.current,O.statistics.gameModes.royale.currentState.gameRound=g.current);try{await B(O)}catch(et){console.log(et.message)}};r!=="practice"&&o[0].word!==""&&e&&!(e!=null&&e.statistics.gameModes[r].finishedToday)&&H()},[h]),w.jsxs(w.Fragment,{children:[r===Yt.CLASSIC&&w.jsx(eP,{...i,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,rowIndex:p,baseColors:Lf,dailyStreak:b,gameResult:_,setGameResult:v,mutateUserData:B}),r===Yt.ROYALE&&w.jsx(nP,{...i,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,rowIndex:p,gameRound:g,baseColors:Lf,gameResult:_,setGameResult:v,mutateUserData:B}),r===Yt.PRACTICE&&w.jsx(rP,{...i,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,rowIndex:p,baseColors:Lf})]})}const cR=I.forwardRef(({bsPrefix:i,size:t,vertical:e=!1,className:r,role:o="group",as:l="div",...h},d)=>{const p=Ut(i,"btn-group");let g=p;return e&&(g=`${p}-vertical`),w.jsx(l,{...h,ref:d,role:o,className:Dt(r,g,t&&`${p}-${t}`)})});cR.displayName="ButtonGroup";function Kn({children:i,gameModeData:t}){return w.jsx("div",{className:"stats-window",children:i})}function HP({children:i}){return w.jsx("div",{className:"stats-container",children:i})}function FP({value:i,category:t}){return w.jsxs("div",{className:"stat-unit flex-center",children:[w.jsx("span",{className:"unit-value",children:i}),w.jsx("span",{className:"unit-category",children:t})]})}function qP({value:i,label:t}){return w.jsx("div",{className:"stat-index flex-center",children:w.jsxs("div",{children:[w.jsx("span",{className:"index-value",children:i}),w.jsx("span",{className:"index-label",children:t})]})})}function GP({gamesPlayed:i}){return w.jsxs("div",{className:"stats-lock flex-center",children:[w.jsx(kI,{className:"lock-svg"}),w.jsx("div",{className:"lock-message",children:typeof i=="number"?`Play ${5-i} more ${5-i===1?"game.":"games."}`:"Log in to see your stats."})]})}Kn.Container=HP;Kn.Unit=FP;Kn.Index=qP;Kn.StatLock=GP;const hR=I.createContext({data:[10,2,5,13,5],categories:[]});function Sc({children:i,data:t,categories:e}){return w.jsx(hR,{value:{data:t,categories:e},children:w.jsx("div",{className:"bar-chart flex-center",children:w.jsx("div",{className:"chart",children:i})})})}function KP({axis:i="show",layout:t="horizontal"}){const{data:e,categories:r}=I.useContext(hR);return w.jsx("div",{className:"graph",children:e.map((o,l)=>w.jsxs("div",{className:`bar b-${l+1}`,style:{width:`${o!==0?o/Math.max(...e)*100:2}%`,height:"100%"},children:[w.jsx("span",{className:"category",children:r.length===e.length?r[l]:`category ${l+1}`}),w.jsx("span",{className:`value v-${l+1}`,children:o||""})]},l))})}function QP({children:i}){return w.jsx("div",{className:"header",children:w.jsx("h2",{children:i})})}Sc.Header=QP;Sc.Graph=KP;function Lc(i,t){return i==null?void 0:i.statistics.gameModes[t].dailyStreakMax}function fR(i,t){return i==null?void 0:i.statistics.gameModes[t].gamesGuessed}function Hs(i,t){return i==null?void 0:i.statistics.gameModes[t].gamesPlayed}const $l=(i,t)=>{const e=fR(i,t).reduce((r,o,l)=>r+o*(l+1));return Math.round(e/Hs(i,t)*10)/10},Yl=(i,t)=>Math.round(fR(i,t).reduce((e,r)=>e+r)/Hs(i,t)*100),bi=Object.freeze({INDEX:"index",WIN_RATE:"win rate",DAILY_STREAK:"daily streak"});function $P(i,t){const e=i.data(),r=t.data();return $l(e,Yt.CLASSIC)-$l(r,Yt.CLASSIC)}function YP(i,t){const e=i.data(),r=t.data();return $l(r,Yt.ROYALE)-$l(e,Yt.ROYALE)}function XP(i,t){const e=i.data(),r=t.data();return Yl(r,Yt.CLASSIC)-Yl(e,Yt.CLASSIC)}function WP(i,t){const e=i.data(),r=t.data();return Yl(e,Yt.ROYALE)-Yl(r,Yt.ROYALE)}function ZP(i,t){const e=i.data(),r=t.data();return Lc(r,Yt.CLASSIC)-Lc(e,Yt.CLASSIC)}function JP(i,t){const e=i.data(),r=t.data();return Lc(r,Yt.ROYALE)-Lc(e,Yt.ROYALE)}function t6(){const{gameMode:i}=To(),{data:t,isLoading:e}=uR({queryKey:["users"],queryFn:jP}),[r,o]=I.useState(bi.INDEX),[l,h]=I.useState([]);return I.useEffect(()=>{t&&(()=>{switch(r){case bi.INDEX:h(i===Yt.CLASSIC?t.docs.filter(p=>Hs(p.data(),i)>=5).toSorted($P):t.docs.filter(p=>Hs(p.data(),i)>=5).toSorted(YP));break;case bi.WIN_RATE:h(i===Yt.CLASSIC?t.docs.filter(p=>Hs(p.data(),i)>=5).toSorted(XP):t.docs.filter(p=>Hs(p.data(),i)>=5).toSorted(WP));break;case bi.DAILY_STREAK:h(i===Yt.CLASSIC?t.docs.filter(p=>Hs(p.data(),i)>=5).toSorted(ZP):t.docs.filter(p=>Hs(p.data(),i)>=5).toSorted(JP));break}})()},[t,i,r]),w.jsx("div",{className:"leader-board",children:w.jsxs("div",{className:"list",children:[w.jsx(e6,{placement:"No.",nickname:"Nickname",sortedBy:r,setSortedBy:o}),e?w.jsx("div",{children:"kokot"}):l.map((d,p)=>{switch(r){case bi.INDEX:return w.jsx(Sg,{placement:`${p+1}.`,nickname:d.get("nickname"),sortedBy:$l(d.data(),i)},p);case bi.WIN_RATE:return w.jsx(Sg,{placement:`${p+1}.`,nickname:d.get("nickname"),sortedBy:Yl(d.data(),i)},p);case bi.DAILY_STREAK:return w.jsx(Sg,{placement:`${p+1}.`,nickname:d.get("nickname"),sortedBy:Lc(d.data(),i)},p)}})]})})}function Sg({placement:i,nickname:t,sortedBy:e}){return w.jsxs("div",{className:`lb-row r${i}`,children:[w.jsx("div",{className:"placement",children:w.jsx("span",{children:i})}),w.jsx("div",{className:"nickname",children:w.jsx("span",{children:t})}),w.jsx("div",{className:"sorted-by",children:w.jsx("span",{children:e})})]})}function e6({placement:i,nickname:t,sortedBy:e,setSortedBy:r}){return w.jsxs("div",{className:"lb-row headline",children:[w.jsx("div",{className:"placement",children:w.jsx("span",{children:i})}),w.jsx("div",{className:"nickname",children:w.jsx("span",{children:t})}),w.jsx("div",{className:"sorted-by",children:w.jsx(n6,{sortedBy:e,setSortedBy:r})})]})}function n6({sortedBy:i,setSortedBy:t}){const e=I.useRef(null),[r,o]=I.useState(!1),[l,h]=I.useState(i);return w.jsx("div",{className:"category-selector",children:w.jsx(ia,{activeKey:"true",ref:e,children:w.jsxs(ia.Item,{eventKey:String(r),style:{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},children:[w.jsx(ia.Header,{onClick:()=>{o(!r)},children:w.jsx("span",{className:"current-catgeory",children:l.toUpperCase()})}),w.jsx(ia.Body,{onExited:()=>{t(l)},children:w.jsx("ol",{children:Object.keys(bi).map((d,p)=>bi[d]===i?null:w.jsx("li",{className:`selector-list ${p+1===Object.keys(bi).length&&"last"}`,onClick:()=>{o(!1),h(bi[d])},children:w.jsx("span",{className:"category",children:bi[d].toUpperCase()})},p))})})]})})})}function i6({statsOpen:i,toggleStats:t}){const{gameMode:e,setGameMode:r}=To(),{userData:o,isLoading:l}=ih();return w.jsx(w.Fragment,{children:e!==Yt.PRACTICE&&w.jsxs(qe,{show:i,onHide:t,children:[w.jsx(qe.Header,{closeButton:!0,children:w.jsx(Ln,{className:"flex-center",children:w.jsx(qe.Title,{children:e})})}),w.jsxs(qe.Body,{children:[w.jsx("div",{className:"c-1 flex-center",children:w.jsxs(cR,{className:"me-2","aria-label":"First group",children:[w.jsx(Ui,{onClick:()=>{r(Yt.CLASSIC)},children:"Classic"}),w.jsx(Ui,{onClick:()=>{r(Yt.ROYALE)},children:"Royale"})]})}),w.jsxs(Kn,{gameModeData:o==null?void 0:o.statistics.gameModes[e],children:[w.jsx(Kn.Container,{children:w.jsx(Kn.Index,{value:$l(o,e),label:"index"})}),w.jsxs(Kn.Container,{children:[w.jsx(Kn.Unit,{value:o==null?void 0:o.statistics.gameModes[e].gamesPlayed,category:"Games played"}),w.jsx(Kn.Unit,{value:Yl(o,e)+"%",category:"Win rate"}),w.jsx(Kn.Unit,{value:o==null?void 0:o.statistics.gameModes[e].dailyStreak,category:"Daily streak"})]}),w.jsx(Kn.Container,{children:w.jsxs(Sc,{data:e==="classic"?o==null?void 0:o.statistics.gameModes[e].gamesGuessed:o==null?void 0:o.statistics.gameModes[e].gamesGuessed.toReversed(),categories:e===Yt.CLASSIC?[1,2,3,4,5,6]:[5,4,3,2,1],children:[w.jsx(Sc.Header,{children:e===Yt.CLASSIC?"GUESS DISTRIBUTION":"ROUND DISTRIBUTION"}),w.jsx(Sc.Graph,{axis:"show",layout:"vertical"})]})}),w.jsx(Kn.Container,{children:w.jsx(t6,{})}),(o==null?void 0:o.statistics.gameModes[e].gamesPlayed)<5&&w.jsx(Kn.StatLock,{gamesPlayed:o==null?void 0:o.statistics.gameModes[e].gamesPlayed})]})]}),w.jsx(qe.Footer,{className:"flex-center"})]})})}function r6(){const[i,t]=Tl(!1),[e,r]=Tl(!1),[o,l]=Tl(!1),[h,d]=Tl(!1),[p,g]=Tl(!1),{darkMode:_}=bo();return document.querySelector("body").classList.value=`${_}`,w.jsxs(w.Fragment,{children:[w.jsx($V,{toggleLogIn:r,playWordle:i,togglePlayWordle:t,toggleStats:d}),w.jsx("main",{className:`flex-center ${_}`,children:i?w.jsx(zP,{togglePlayWordle:t,wordLength:5,numOfGuesses:6,toggleRestart:g},p):w.jsx(w.Fragment,{children:w.jsx(Rk,{togglePlayWordle:t})})}),w.jsx(TV,{logInOpen:e,toggleLogIn:r,toggleSignUp:l}),w.jsx(bV,{signUpOpen:o,toggleSignUp:l}),w.jsx(i6,{statsOpen:h,toggleStats:d})]})}const s6=()=>w.jsx("div",{className:"wordle-loader",children:[...Array(5)].map((i,t)=>w.jsx("div",{className:"tile",style:{animationDelay:`${t*.15}s`}},t))});function a6({children:i}){const[t,e]=I.useState(null),[r,o]=I.useState(!0);I.useEffect(()=>{const h=c4(Vc,d=>{e(d),o(!1)});return()=>h()},[]);const l={currentUser:t,loading:r};return w.jsx(IS.Provider,{value:l,children:r?w.jsxs("div",{children:[w.jsx("h1",{children:"Loading Wordle..."}),w.jsx(s6,{})]}):i})}function o6({children:i}){const{currentUser:t,loading:e}=Id(),{data:r,isLoading:o}=uR({queryKey:["user",t==null?void 0:t.uid],queryFn:({queryKey:h})=>{const[,d]=h;return UP(d)},enabled:!!t&&!e}),l={userData:r,isLoading:o};return w.jsx(YA.Provider,{value:l,children:i})}function l6({children:i}){const[t,e]=I.useState(Yt.PRACTICE),r={gameMode:t,setGameMode:e};return w.jsx(CS.Provider,{value:r,children:i})}const Uf=Object.freeze({DARK:"dark",LIGHT:"light"});function u6({children:i}){const[t,e]=I.useState(Uf.DARK),o={darkMode:t,toggleDarkMode:()=>{e(t===Uf.DARK?Uf.LIGHT:Uf.DARK)}};return w.jsx(xS.Provider,{value:o,children:i})}const c6=new EP;GC.createRoot(document.getElementById("root")).render(w.jsx(I.StrictMode,{children:w.jsx(a6,{children:w.jsx(AP,{client:c6,children:w.jsx(o6,{children:w.jsx(l6,{children:w.jsx(u6,{children:w.jsx(r6,{})})})})})})}));
