var NE=i=>{throw TypeError(i)};var jp=(i,t,e)=>t.has(i)||NE("Cannot "+e);var L=(i,t,e)=>(jp(i,t,"read from private field"),e?e.call(i):t.get(i)),bt=(i,t,e)=>t.has(i)?NE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),gt=(i,t,e,s)=>(jp(i,t,"write to private field"),s?s.call(i,e):t.set(i,e),e),Lt=(i,t,e)=>(jp(i,t,"access private method"),e);var yf=(i,t,e,s)=>({set _(o){gt(i,t,o,e)},get _(){return L(i,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function pd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bp={exports:{}},Ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function yC(){if(DE)return Ju;DE=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Ju.Fragment=t,Ju.jsx=e,Ju.jsxs=e,Ju}var ME;function vC(){return ME||(ME=1,Bp.exports=yC()),Bp.exports}var A=vC(),zp={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function _C(){if(kE)return Pt;kE=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,H={};function O(V,Y,rt){this.props=V,this.context=Y,this.refs=H,this.updater=rt||M}O.prototype.isReactComponent={},O.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},O.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function et(){}et.prototype=O.prototype;function ot(V,Y,rt){this.props=V,this.context=Y,this.refs=H,this.updater=rt||M}var W=ot.prototype=new et;W.constructor=ot,B(W,O.prototype),W.isPureReactComponent=!0;var st=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function k(V,Y,rt,Z,ft,Tt){return rt=Tt.ref,{$$typeof:i,type:V,key:Y,ref:rt!==void 0?rt:null,props:Tt}}function R(V,Y){return k(V.type,Y,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function N(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(rt){return Y[rt]})}var P=/\/+/g;function U(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):Y.toString(36)}function x(){}function kt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(x,x):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function jt(V,Y,rt,Z,ft){var Tt=typeof V;(Tt==="undefined"||Tt==="boolean")&&(V=null);var pt=!1;if(V===null)pt=!0;else switch(Tt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(V.$$typeof){case i:case t:pt=!0;break;case _:return pt=V._init,jt(pt(V._payload),Y,rt,Z,ft)}}if(pt)return ft=ft(V),pt=Z===""?"."+U(V,0):Z,st(ft)?(rt="",pt!=null&&(rt=pt.replace(P,"$&/")+"/"),jt(ft,Y,rt,"",function(Ae){return Ae})):ft!=null&&(C(ft)&&(ft=R(ft,rt+(ft.key==null||V&&V.key===ft.key?"":(""+ft.key).replace(P,"$&/")+"/")+pt)),Y.push(ft)),1;pt=0;var le=Z===""?".":Z+":";if(st(V))for(var qt=0;qt<V.length;qt++)Z=V[qt],Tt=le+U(Z,qt),pt+=jt(Z,Y,rt,Tt,ft);else if(qt=b(V),typeof qt=="function")for(V=qt.call(V),qt=0;!(Z=V.next()).done;)Z=Z.value,Tt=le+U(Z,qt++),pt+=jt(Z,Y,rt,Tt,ft);else if(Tt==="object"){if(typeof V.then=="function")return jt(kt(V),Y,rt,Z,ft);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return pt}function F(V,Y,rt){if(V==null)return V;var Z=[],ft=0;return jt(V,Z,"","",function(Tt){return Y.call(rt,Tt,ft++)}),Z}function lt(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(rt){(V._status===0||V._status===-1)&&(V._status=1,V._result=rt)},function(rt){(V._status===0||V._status===-1)&&(V._status=2,V._result=rt)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function It(){}return Pt.Children={map:F,forEach:function(V,Y,rt){F(V,function(){Y.apply(this,arguments)},rt)},count:function(V){var Y=0;return F(V,function(){Y++}),Y},toArray:function(V){return F(V,function(Y){return Y})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Pt.Component=O,Pt.Fragment=e,Pt.Profiler=o,Pt.PureComponent=ot,Pt.StrictMode=s,Pt.Suspense=p,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return at.H.useMemoCache(V)}},Pt.cache=function(V){return function(){return V.apply(null,arguments)}},Pt.cloneElement=function(V,Y,rt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Z=B({},V.props),ft=V.key,Tt=void 0;if(Y!=null)for(pt in Y.ref!==void 0&&(Tt=void 0),Y.key!==void 0&&(ft=""+Y.key),Y)!ut.call(Y,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Y.ref===void 0||(Z[pt]=Y[pt]);var pt=arguments.length-2;if(pt===1)Z.children=rt;else if(1<pt){for(var le=Array(pt),qt=0;qt<pt;qt++)le[qt]=arguments[qt+2];Z.children=le}return k(V.type,ft,void 0,void 0,Tt,Z)},Pt.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Pt.createElement=function(V,Y,rt){var Z,ft={},Tt=null;if(Y!=null)for(Z in Y.key!==void 0&&(Tt=""+Y.key),Y)ut.call(Y,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ft[Z]=Y[Z]);var pt=arguments.length-2;if(pt===1)ft.children=rt;else if(1<pt){for(var le=Array(pt),qt=0;qt<pt;qt++)le[qt]=arguments[qt+2];ft.children=le}if(V&&V.defaultProps)for(Z in pt=V.defaultProps,pt)ft[Z]===void 0&&(ft[Z]=pt[Z]);return k(V,Tt,void 0,void 0,null,ft)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(V){return{$$typeof:d,render:V}},Pt.isValidElement=C,Pt.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:lt}},Pt.memo=function(V,Y){return{$$typeof:g,type:V,compare:Y===void 0?null:Y}},Pt.startTransition=function(V){var Y=at.T,rt={};at.T=rt;try{var Z=V(),ft=at.S;ft!==null&&ft(rt,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(It,dt)}catch(Tt){dt(Tt)}finally{at.T=Y}},Pt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Pt.use=function(V){return at.H.use(V)},Pt.useActionState=function(V,Y,rt){return at.H.useActionState(V,Y,rt)},Pt.useCallback=function(V,Y){return at.H.useCallback(V,Y)},Pt.useContext=function(V){return at.H.useContext(V)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(V,Y){return at.H.useDeferredValue(V,Y)},Pt.useEffect=function(V,Y,rt){var Z=at.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(V,Y)},Pt.useId=function(){return at.H.useId()},Pt.useImperativeHandle=function(V,Y,rt){return at.H.useImperativeHandle(V,Y,rt)},Pt.useInsertionEffect=function(V,Y){return at.H.useInsertionEffect(V,Y)},Pt.useLayoutEffect=function(V,Y){return at.H.useLayoutEffect(V,Y)},Pt.useMemo=function(V,Y){return at.H.useMemo(V,Y)},Pt.useOptimistic=function(V,Y){return at.H.useOptimistic(V,Y)},Pt.useReducer=function(V,Y,rt){return at.H.useReducer(V,Y,rt)},Pt.useRef=function(V){return at.H.useRef(V)},Pt.useState=function(V){return at.H.useState(V)},Pt.useSyncExternalStore=function(V,Y,rt){return at.H.useSyncExternalStore(V,Y,rt)},Pt.useTransition=function(){return at.H.useTransition()},Pt.version="19.1.0",Pt}var VE;function sy(){return VE||(VE=1,zp.exports=_C()),zp.exports}var I=sy();const ct=pd(I);var Hp={exports:{}},tc={},Fp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function EC(){return PE||(PE=1,function(i){function t(F,lt){var dt=F.length;F.push(lt);t:for(;0<dt;){var It=dt-1>>>1,V=F[It];if(0<o(V,lt))F[It]=lt,F[dt]=V,dt=It;else break t}}function e(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var lt=F[0],dt=F.pop();if(dt!==lt){F[0]=dt;t:for(var It=0,V=F.length,Y=V>>>1;It<Y;){var rt=2*(It+1)-1,Z=F[rt],ft=rt+1,Tt=F[ft];if(0>o(Z,dt))ft<V&&0>o(Tt,Z)?(F[It]=Tt,F[ft]=dt,It=ft):(F[It]=Z,F[rt]=dt,It=rt);else if(ft<V&&0>o(Tt,dt))F[It]=Tt,F[ft]=dt,It=ft;else break t}}return lt}function o(F,lt){var dt=F.sortIndex-lt.sortIndex;return dt!==0?dt:F.id-lt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,v=null,b=3,M=!1,B=!1,H=!1,O=!1,et=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function st(F){for(var lt=e(g);lt!==null;){if(lt.callback===null)s(g);else if(lt.startTime<=F)s(g),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=e(g)}}function at(F){if(H=!1,st(F),!B)if(e(p)!==null)B=!0,ut||(ut=!0,U());else{var lt=e(g);lt!==null&&jt(at,lt.startTime-F)}}var ut=!1,k=-1,R=5,C=-1;function N(){return O?!0:!(i.unstable_now()-C<R)}function P(){if(O=!1,ut){var F=i.unstable_now();C=F;var lt=!0;try{t:{B=!1,H&&(H=!1,ot(k),k=-1),M=!0;var dt=b;try{e:{for(st(F),v=e(p);v!==null&&!(v.expirationTime>F&&N());){var It=v.callback;if(typeof It=="function"){v.callback=null,b=v.priorityLevel;var V=It(v.expirationTime<=F);if(F=i.unstable_now(),typeof V=="function"){v.callback=V,st(F),lt=!0;break e}v===e(p)&&s(p),st(F)}else s(p);v=e(p)}if(v!==null)lt=!0;else{var Y=e(g);Y!==null&&jt(at,Y.startTime-F),lt=!1}}break t}finally{v=null,b=dt,M=!1}lt=void 0}}finally{lt?U():ut=!1}}}var U;if(typeof W=="function")U=function(){W(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,kt=x.port2;x.port1.onmessage=P,U=function(){kt.postMessage(null)}}else U=function(){et(P,0)};function jt(F,lt){k=et(function(){F(i.unstable_now())},lt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(F){switch(b){case 1:case 2:case 3:var lt=3;break;default:lt=b}var dt=b;b=lt;try{return F()}finally{b=dt}},i.unstable_requestPaint=function(){O=!0},i.unstable_runWithPriority=function(F,lt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=b;b=F;try{return lt()}finally{b=dt}},i.unstable_scheduleCallback=function(F,lt,dt){var It=i.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?It+dt:It):dt=It,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,F={id:_++,callback:lt,priorityLevel:F,startTime:dt,expirationTime:V,sortIndex:-1},dt>It?(F.sortIndex=dt,t(g,F),e(p)===null&&F===e(g)&&(H?(ot(k),k=-1):H=!0,jt(at,dt-It))):(F.sortIndex=V,t(p,F),B||M||(B=!0,ut||(ut=!0,U()))),F},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(F){var lt=b;return function(){var dt=b;b=lt;try{return F.apply(this,arguments)}finally{b=dt}}}}(qp)),qp}var LE;function TC(){return LE||(LE=1,Fp.exports=EC()),Fp.exports}var Gp={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function bC(){if(UE)return Tn;UE=1;var i=sy();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,_)},Tn.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:M}):_==="script"&&s.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Tn.requestFormReset=function(p){s.d.r(p)},Tn.unstable_batchedUpdates=function(p,g){return p(g)},Tn.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Tn.version="19.1.0",Tn}var jE;function eS(){if(jE)return Gp.exports;jE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Gp.exports=bC(),Gp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function SC(){if(BE)return tc;BE=1;var i=TC(),t=sy(),e=eS();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===u)return d(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,u=m;break}if(S===u){T=!0,u=f,a=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===a){T=!0,a=m,u=f;break}if(S===u){T=!0,u=m,a=f;break}S=S.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),W=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function kt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case O:return"Profiler";case H:return"StrictMode";case at:return"Suspense";case ut:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case W:return(n.displayName||"Context")+".Provider";case ot:return(n._context.displayName||"Context")+".Consumer";case st:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return r=n.displayName||null,r!==null?r:kt(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return kt(n(r))}catch{}}return null}var jt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},It=[],V=-1;function Y(n){return{current:n}}function rt(n){0>V||(n.current=It[V],It[V]=null,V--)}function Z(n,r){V++,It[V]=n.current,n.current=r}var ft=Y(null),Tt=Y(null),pt=Y(null),le=Y(null);function qt(n,r){switch(Z(pt,r),Z(Tt,n),Z(ft,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?sE(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=sE(r),n=aE(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}rt(ft),Z(ft,n)}function Ae(){rt(ft),rt(Tt),rt(pt)}function Ne(n){n.memoizedState!==null&&Z(le,n);var r=ft.current,a=aE(r,n.type);r!==a&&(Z(Tt,n),Z(ft,a))}function _n(n){Tt.current===n&&(rt(ft),rt(Tt)),le.current===n&&(rt(le),$u._currentValue=dt)}var un=Object.prototype.hasOwnProperty,In=i.unstable_scheduleCallback,en=i.unstable_cancelCallback,ee=i.unstable_shouldYield,oi=i.unstable_requestPaint,ve=i.unstable_now,os=i.unstable_getCurrentPriorityLevel,cn=i.unstable_ImmediatePriority,Ui=i.unstable_UserBlockingPriority,Si=i.unstable_NormalPriority,Ge=i.unstable_LowPriority,xn=i.unstable_IdlePriority,ji=i.log,ls=i.unstable_setDisableYieldValue,_t=null,Ht=null;function Ke(n){if(typeof ji=="function"&&ls(n),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(_t,n)}catch{}}var Le=Math.clz32?Math.clz32:Un,wi=Math.log,Eo=Math.LN2;function Un(n){return n>>>=0,n===0?32:31-(wi(n)/Eo|0)|0}var mr=256,pr=4194304;function jn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gr(n,r,a){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?f=jn(u):(T&=S,T!==0?f=jn(T):a||(a=S&~n,a!==0&&(f=jn(a))))):(S=u&~m,S!==0?f=jn(S):T!==0?f=jn(T):a||(a=u&~n,a!==0&&(f=jn(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function yr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function vr(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bn(){var n=mr;return mr<<=1,(mr&4194048)===0&&(mr=256),n}function ga(){var n=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),n}function Ai(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function li(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function us(n,r,a,u,f,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,K=n.hiddenUpdates;for(a=T&~a;0<a;){var J=31-Le(a),nt=1<<J;S[J]=0,D[J]=-1;var Q=K[J];if(Q!==null)for(K[J]=null,J=0;J<Q.length;J++){var $=Q[J];$!==null&&($.lane&=-536870913)}a&=~nt}u!==0&&wt(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~r))}function wt(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Le(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194090}function _e(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-Le(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function ye(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ue(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Yn(){var n=lt.p;return n!==0?n:(n=window.event,n===void 0?32:AE(n.type))}function Re(n,r){var a=lt.p;try{return lt.p=n,r()}finally{lt.p=a}}var Gt=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Gt,ne="__reactProps$"+Gt,Te="__reactContainer$"+Gt,cs="__reactEvents$"+Gt,Ri="__reactListeners$"+Gt,_r="__reactHandles$"+Gt,Xc="__reactResources$"+Gt,ya="__reactMarker$"+Gt;function hs(n){delete n[Ee],delete n[ne],delete n[cs],delete n[Ri],delete n[_r]}function Er(n){var r=n[Ee];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Te]||a[Ee]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=cE(n);n!==null;){if(a=n[Ee])return a;n=cE(n)}return r}n=a,a=n.parentNode}return null}function Bi(n){if(n=n[Ee]||n[Te]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function zi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function On(n){var r=n[Xc];return r||(r=n[Xc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function De(n){n[ya]=!0}var tu=new Set,To={};function Ci(n,r){Tr(n,r),Tr(n+"Capture",r)}function Tr(n,r){for(To[n]=r,n=0;n<r.length;n++)tu.add(r[n])}var Wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},va={};function Jc(n){return un.call(va,n)?!0:un.call(Zc,n)?!1:Wc.test(n)?va[n]=!0:(Zc[n]=!0,!1)}function fs(n,r,a){if(Jc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Hi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function hn(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}var _a,th;function br(n){if(_a===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);_a=r&&r[1]||"",th=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+n+th}var bo=!1;function So(n,r){if(!n||bo)return"";bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var Q=$}Reflect.construct(n,[],nt)}else{try{nt.call()}catch($){Q=$}n.call(nt.prototype)}}else{try{throw Error()}catch($){Q=$}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&Q&&typeof $.stack=="string")return[$.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var D=T.split(`
`),K=S.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===K.length)for(u=D.length-1,f=K.length-1;1<=u&&0<=f&&D[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==K[f]){var J=`
`+D[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=f);break}}}finally{bo=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?br(a):""}function eu(n){switch(n.tag){case 26:case 27:case 5:return br(n.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 15:return So(n.type,!1);case 11:return So(n.type.render,!1);case 1:return So(n.type,!0);case 31:return br("Activity");default:return""}}function wo(n){try{var r="";do r+=eu(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Fd(n){var r=nu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ao(n){n._valueTracker||(n._valueTracker=Fd(n))}function iu(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=nu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function Ea(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var qd=/[\n"\\]/g;function je(n){return n.replace(qd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xn(n,r,a,u,f,m,T,S){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Nn(r)):n.value!==""+Nn(r)&&(n.value=""+Nn(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?ds(n,T,Nn(r)):a!=null?ds(n,T,Nn(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Nn(S):n.removeAttribute("name")}function Ta(n,r,a,u,f,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+Nn(a):"",r=r!=null?""+Nn(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function ds(n,r,a){r==="number"&&Ea(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Sr(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Nn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function he(n,r,a){if(r!=null&&(r=""+Nn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Nn(a):""}function ba(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(jt(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Nn(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function ui(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eh(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||Sa.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function ru(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&eh(n,f,u)}else for(var m in r)r.hasOwnProperty(m)&&eh(n,m,r[m])}function su(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ro(n){return Kd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var wr=null;function ci(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ar=null,Rr=null;function au(n){var r=Bi(n);if(r&&(n=r.stateNode)){var a=n[ne]||null;t:switch(n=r.stateNode,r.type){case"input":if(Xn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+je(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[ne]||null;if(!f)throw Error(s(90));Xn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&iu(u)}break t;case"textarea":he(n,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Sr(n,!!a.multiple,r,!1)}}}var Fi=!1;function nh(n,r,a){if(Fi)return n(r,a);Fi=!0;try{var u=n(r);return u}finally{if(Fi=!1,(Ar!==null||Rr!==null)&&(Yh(),Ar&&(r=Ar,n=Rr,Rr=Ar=null,au(r),n)))for(r=0;r<n.length;r++)au(n[r])}}function wa(n,r){var a=n.stateNode;if(a===null)return null;var u=a[ne]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hi=!1;if(Ii)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){hi=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{hi=!1}var qi=null,ms=null,Cr=null;function ou(){if(Cr)return Cr;var n,r=ms,a=r.length,u,f="value"in qi?qi.value:qi.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(u=1;u<=T&&r[a-u]===f[m-u];u++);return Cr=f.slice(n,1<u?1-u:void 0)}function Gi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ki(){return!0}function lu(){return!1}function nn(n){function r(a,u,f,m,T){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ki:lu,this.isPropagationStopped=lu,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),r}var se={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=nn(se),Ra=_({},se,{view:0,detail:0}),ih=nn(Ra),Io,xo,Qi,Ca=_({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qi&&(Qi&&n.type==="mousemove"?(Io=n.screenX-Qi.screenX,xo=n.screenY-Qi.screenY):xo=Io=0,Qi=n),Io)},movementY:function(n){return"movementY"in n?n.movementY:xo}}),fi=nn(Ca),rh=_({},Ca,{dataTransfer:0}),Qd=nn(rh),Ia=_({},Ra,{relatedTarget:0}),Oo=nn(Ia),uu=_({},se,{animationName:0,elapsedTime:0,pseudoElement:0}),No=nn(uu),sh=_({},se,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Do=nn(sh),$d=_({},se,{data:0}),cu=nn($d),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=oh[n])?!!r[n]:!1}function Oa(){return hu}var lh=_({},Ra,{key:function(n){if(n.key){var r=xa[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Gi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ah[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(n){return n.type==="keypress"?Gi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mo=nn(lh),uh=_({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=nn(uh),Ir=_({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),ch=nn(Ir),hh=_({},se,{propertyName:0,elapsedTime:0,pseudoElement:0}),fh=nn(hh),dh=_({},Ca,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ko=nn(dh),Dn=_({},se,{newState:0,oldState:0}),mh=nn(Dn),ph=[9,13,27,32],$i=Ii&&"CompositionEvent"in window,c=null;Ii&&"documentMode"in document&&(c=document.documentMode);var y=Ii&&"TextEvent"in window&&!c,E=Ii&&(!$i||c&&8<c&&11>=c),w=" ",q=!1;function X(n,r){switch(n){case"keyup":return ph.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wt=!1;function Qe(n,r){switch(n){case"compositionend":return mt(r);case"keypress":return r.which!==32?null:(q=!0,w);case"textInput":return n=r.data,n===w&&q?null:n;default:return null}}function Zt(n,r){if(Wt)return n==="compositionend"||!$i&&X(n,r)?(n=ou(),Cr=ms=qi=null,Wt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $e(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!rn[n.type]:r==="textarea"}function xr(n,r,a,u){Ar?Rr?Rr.push(u):Rr=[u]:Ar=u,r=ef(r,"onChange"),0<r.length&&(a=new Co("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var fn=null,Yi=null;function du(n){tE(n,0)}function gh(n){var r=zi(n);if(iu(r))return n}function Tv(n,r){if(n==="change")return r}var bv=!1;if(Ii){var Yd;if(Ii){var Xd="oninput"in document;if(!Xd){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),Xd=typeof Sv.oninput=="function"}Yd=Xd}else Yd=!1;bv=Yd&&(!document.documentMode||9<document.documentMode)}function wv(){fn&&(fn.detachEvent("onpropertychange",Av),Yi=fn=null)}function Av(n){if(n.propertyName==="value"&&gh(Yi)){var r=[];xr(r,Yi,n,ci(n)),nh(du,r)}}function QA(n,r,a){n==="focusin"?(wv(),fn=r,Yi=a,fn.attachEvent("onpropertychange",Av)):n==="focusout"&&wv()}function $A(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gh(Yi)}function YA(n,r){if(n==="click")return gh(r)}function XA(n,r){if(n==="input"||n==="change")return gh(r)}function WA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Wn=typeof Object.is=="function"?Object.is:WA;function mu(n,r){if(Wn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!un.call(r,f)||!Wn(n[f],r[f]))return!1}return!0}function Rv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cv(n,r){var a=Rv(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Rv(a)}}function Iv(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Iv(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function xv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ea(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ea(n.document)}return r}function Wd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var ZA=Ii&&"documentMode"in document&&11>=document.documentMode,Vo=null,Zd=null,pu=null,Jd=!1;function Ov(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jd||Vo==null||Vo!==Ea(u)||(u=Vo,"selectionStart"in u&&Wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pu&&mu(pu,u)||(pu=u,u=ef(Zd,"onSelect"),0<u.length&&(r=new Co("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=Vo)))}function Na(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Po={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},tm={},Nv={};Ii&&(Nv=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Da(n){if(tm[n])return tm[n];if(!Po[n])return n;var r=Po[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Nv)return tm[n]=r[a];return n}var Dv=Da("animationend"),Mv=Da("animationiteration"),kv=Da("animationstart"),JA=Da("transitionrun"),tR=Da("transitionstart"),eR=Da("transitioncancel"),Vv=Da("transitionend"),Pv=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");em.push("scrollEnd");function xi(n,r){Pv.set(n,r),Ci(r,[n])}var Lv=new WeakMap;function di(n,r){if(typeof n=="object"&&n!==null){var a=Lv.get(n);return a!==void 0?a:(r={value:n,source:r,stack:wo(r)},Lv.set(n,r),r)}return{value:n,source:r,stack:wo(r)}}var mi=[],Lo=0,nm=0;function yh(){for(var n=Lo,r=nm=Lo=0;r<n;){var a=mi[r];mi[r++]=null;var u=mi[r];mi[r++]=null;var f=mi[r];mi[r++]=null;var m=mi[r];if(mi[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&Uv(a,f,m)}}function vh(n,r,a,u){mi[Lo++]=n,mi[Lo++]=r,mi[Lo++]=a,mi[Lo++]=u,nm|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function im(n,r,a,u){return vh(n,r,a,u),_h(n)}function Uo(n,r){return vh(n,null,null,r),_h(n)}function Uv(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-Le(a),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=a|536870912),m):null}function _h(n){if(50<Bu)throw Bu=0,up=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var jo={};function nR(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(n,r,a,u){return new nR(n,r,a,u)}function rm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Or(n,r){var a=n.alternate;return a===null?(a=Zn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function jv(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Eh(n,r,a,u,f,m){var T=0;if(u=n,typeof n=="function")rm(n)&&(T=1);else if(typeof n=="string")T=rC(n,a,ft.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case C:return n=Zn(31,a,r,f),n.elementType=C,n.lanes=m,n;case B:return Ma(a.children,f,m,r);case H:T=8,f|=24;break;case O:return n=Zn(12,a,r,f|2),n.elementType=O,n.lanes=m,n;case at:return n=Zn(13,a,r,f),n.elementType=at,n.lanes=m,n;case ut:return n=Zn(19,a,r,f),n.elementType=ut,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case et:case W:T=10;break t;case ot:T=9;break t;case st:T=11;break t;case k:T=14;break t;case R:T=16,u=null;break t}T=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Zn(T,a,r,f),r.elementType=n,r.type=u,r.lanes=m,r}function Ma(n,r,a,u){return n=Zn(7,n,u,r),n.lanes=a,n}function sm(n,r,a){return n=Zn(6,n,null,r),n.lanes=a,n}function am(n,r,a){return r=Zn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Bo=[],zo=0,Th=null,bh=0,pi=[],gi=0,ka=null,Nr=1,Dr="";function Va(n,r){Bo[zo++]=bh,Bo[zo++]=Th,Th=n,bh=r}function Bv(n,r,a){pi[gi++]=Nr,pi[gi++]=Dr,pi[gi++]=ka,ka=n;var u=Nr;n=Dr;var f=32-Le(u)-1;u&=~(1<<f),a+=1;var m=32-Le(r)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Nr=1<<32-Le(r)+f|a<<f|u,Dr=m+n}else Nr=1<<m|a<<f|u,Dr=n}function om(n){n.return!==null&&(Va(n,1),Bv(n,1,0))}function lm(n){for(;n===Th;)Th=Bo[--zo],Bo[zo]=null,bh=Bo[--zo],Bo[zo]=null;for(;n===ka;)ka=pi[--gi],pi[gi]=null,Dr=pi[--gi],pi[gi]=null,Nr=pi[--gi],pi[gi]=null}var Mn=null,Ce=null,re=!1,Pa=null,Xi=!1,um=Error(s(519));function La(n){var r=Error(s(418,""));throw vu(di(r,n)),um}function zv(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Ee]=n,r[ne]=u,a){case"dialog":Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(a=0;a<Hu.length;a++)Qt(Hu[a],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"input":Qt("invalid",r),Ta(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ao(r);break;case"select":Qt("invalid",r);break;case"textarea":Qt("invalid",r),ba(r,u.value,u.defaultValue,u.children),Ao(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||rE(r.textContent,a)?(u.popover!=null&&(Qt("beforetoggle",r),Qt("toggle",r)),u.onScroll!=null&&Qt("scroll",r),u.onScrollEnd!=null&&Qt("scrollend",r),u.onClick!=null&&(r.onclick=nf),r=!0):r=!1,r||La(n)}function Hv(n){for(Mn=n.return;Mn;)switch(Mn.tag){case 5:case 13:Xi=!1;return;case 27:case 3:Xi=!0;return;default:Mn=Mn.return}}function gu(n){if(n!==Mn)return!1;if(!re)return Hv(n),re=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Ap(n.type,n.memoizedProps)),a=!a),a&&Ce&&La(n),Hv(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Ce=Ni(n.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Ce=null}}else r===27?(r=Ce,Os(n.type)?(n=xp,xp=null,Ce=n):Ce=r):Ce=Mn?Ni(n.stateNode.nextSibling):null;return!0}function yu(){Ce=Mn=null,re=!1}function Fv(){var n=Pa;return n!==null&&(Fn===null?Fn=n:Fn.push.apply(Fn,n),Pa=null),n}function vu(n){Pa===null?Pa=[n]:Pa.push(n)}var cm=Y(null),Ua=null,Mr=null;function ps(n,r,a){Z(cm,r._currentValue),r._currentValue=a}function kr(n){n._currentValue=cm.current,rt(cm)}function hm(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function fm(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var D=0;D<r.length;D++)if(S.context===r[D]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),hm(m.return,a,n),u||(T=null);break t}m=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),hm(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function _u(n,r,a,u){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=f.type;Wn(f.pendingProps.value,T.value)||(n!==null?n.push(S):n=[S])}}else if(f===le.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push($u):n=[$u])}f=f.return}n!==null&&fm(r,n,a,u),r.flags|=262144}function Sh(n){for(n=n.firstContext;n!==null;){if(!Wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ja(n){Ua=n,Mr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function En(n){return qv(Ua,n)}function wh(n,r){return Ua===null&&ja(n),qv(n,r)}function qv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Mr===null){if(n===null)throw Error(s(308));Mr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Mr=Mr.next=r;return a}var iR=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},rR=i.unstable_scheduleCallback,sR=i.unstable_NormalPriority,Ye={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new iR,data:new Map,refCount:0}}function Eu(n){n.refCount--,n.refCount===0&&rR(sR,function(){n.controller.abort()})}var Tu=null,mm=0,Ho=0,Fo=null;function aR(n,r){if(Tu===null){var a=Tu=[];mm=0,Ho=gp(),Fo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return mm++,r.then(Gv,Gv),r}function Gv(){if(--mm===0&&Tu!==null){Fo!==null&&(Fo.status="fulfilled");var n=Tu;Tu=null,Ho=0,Fo=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function oR(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Kv=F.S;F.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&aR(n,r),Kv!==null&&Kv(n,r)};var Ba=Y(null);function pm(){var n=Ba.current;return n!==null?n:ge.pooledCache}function Ah(n,r){r===null?Z(Ba,Ba.current):Z(Ba,r.pool)}function Qv(){var n=pm();return n===null?null:{parent:Ye._currentValue,pool:n}}var bu=Error(s(460)),$v=Error(s(474)),Rh=Error(s(542)),gm={then:function(){}};function Yv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ch(){}function Xv(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Ch,Ch),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Zv(n),n;default:if(typeof r.status=="string")r.then(Ch,Ch);else{if(n=ge,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Zv(n),n}throw Su=r,bu}}var Su=null;function Wv(){if(Su===null)throw Error(s(459));var n=Su;return Su=null,n}function Zv(n){if(n===bu||n===Rh)throw Error(s(483))}var gs=!1;function ym(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vm(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ys(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function vs(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ue&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=_h(n),Uv(n,null,a),r}return vh(n,u,r,a),_h(n)}function wu(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,_e(n,a)}}function _m(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Em=!1;function Au(){if(Em){var n=Fo;if(n!==null)throw n}}function Ru(n,r,a,u){Em=!1;var f=n.updateQueue;gs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,K=D.next;D.next=null,T===null?m=K:T.next=K,T=D;var J=n.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==T&&(S===null?J.firstBaseUpdate=K:S.next=K,J.lastBaseUpdate=D))}if(m!==null){var nt=f.baseState;T=0,J=K=D=null,S=m;do{var Q=S.lane&-536870913,$=Q!==S.lane;if($?(Jt&Q)===Q:(u&Q)===Q){Q!==0&&Q===Ho&&(Em=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Ot=n,At=S;Q=r;var me=a;switch(At.tag){case 1:if(Ot=At.payload,typeof Ot=="function"){nt=Ot.call(me,nt,Q);break t}nt=Ot;break t;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=At.payload,Q=typeof Ot=="function"?Ot.call(me,nt,Q):Ot,Q==null)break t;nt=_({},nt,Q);break t;case 2:gs=!0}}Q=S.callback,Q!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[Q]:$.push(Q))}else $={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(K=J=$,D=nt):J=J.next=$,T|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);J===null&&(D=nt),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),Rs|=T,n.lanes=T,n.memoizedState=nt}}function Jv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function t_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Jv(a[n],r)}var qo=Y(null),Ih=Y(0);function e_(n,r){n=zr,Z(Ih,n),Z(qo,r),zr=n|r.baseLanes}function Tm(){Z(Ih,zr),Z(qo,qo.current)}function bm(){zr=Ih.current,rt(qo),rt(Ih)}var _s=0,Bt=null,fe=null,Be=null,xh=!1,Go=!1,za=!1,Oh=0,Cu=0,Ko=null,lR=0;function Me(){throw Error(s(321))}function Sm(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Wn(n[a],r[a]))return!1;return!0}function wm(n,r,a,u,f,m){return _s=m,Bt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=n===null||n.memoizedState===null?U_:j_,za=!1,m=a(u,f),za=!1,Go&&(m=i_(r,a,u,f)),n_(n),m}function n_(n){F.H=Ph;var r=fe!==null&&fe.next!==null;if(_s=0,Be=fe=Bt=null,xh=!1,Cu=0,Ko=null,r)throw Error(s(300));n===null||sn||(n=n.dependencies,n!==null&&Sh(n)&&(sn=!0))}function i_(n,r,a,u){Bt=n;var f=0;do{if(Go&&(Ko=null),Cu=0,Go=!1,25<=f)throw Error(s(301));if(f+=1,Be=fe=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=pR,m=r(a,u)}while(Go);return m}function uR(){var n=F.H,r=n.useState()[0];return r=typeof r.then=="function"?Iu(r):r,n=n.useState()[0],(fe!==null?fe.memoizedState:null)!==n&&(Bt.flags|=1024),r}function Am(){var n=Oh!==0;return Oh=0,n}function Rm(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Cm(n){if(xh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}xh=!1}_s=0,Be=fe=Bt=null,Go=!1,Cu=Oh=0,Ko=null}function zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Bt.memoizedState=Be=n:Be=Be.next=n,Be}function ze(){if(fe===null){var n=Bt.alternate;n=n!==null?n.memoizedState:null}else n=fe.next;var r=Be===null?Bt.memoizedState:Be.next;if(r!==null)Be=r,fe=n;else{if(n===null)throw Bt.alternate===null?Error(s(467)):Error(s(310));fe=n,n={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},Be===null?Bt.memoizedState=Be=n:Be=Be.next=n}return Be}function Im(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iu(n){var r=Cu;return Cu+=1,Ko===null&&(Ko=[]),n=Xv(Ko,n,r),r=Bt,(Be===null?r.memoizedState:Be.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?U_:j_),n}function Nh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Iu(n);if(n.$$typeof===W)return En(n)}throw Error(s(438,String(n)))}function xm(n){var r=null,a=Bt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Bt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Im(),Bt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=N;return r.index++,a}function Vr(n,r){return typeof r=="function"?r(n):r}function Dh(n){var r=ze();return Om(r,fe,n)}function Om(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var S=T=null,D=null,K=r,J=!1;do{var nt=K.lane&-536870913;if(nt!==K.lane?(Jt&nt)===nt:(_s&nt)===nt){var Q=K.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),nt===Ho&&(J=!0);else if((_s&Q)===Q){K=K.next,Q===Ho&&(J=!0);continue}else nt={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(S=D=nt,T=m):D=D.next=nt,Bt.lanes|=Q,Rs|=Q;nt=K.action,za&&a(m,nt),m=K.hasEagerState?K.eagerState:a(m,nt)}else Q={lane:nt,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(S=D=Q,T=m):D=D.next=Q,Bt.lanes|=nt,Rs|=nt;K=K.next}while(K!==null&&K!==r);if(D===null?T=m:D.next=S,!Wn(m,n.memoizedState)&&(sn=!0,J&&(a=Fo,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Nm(n){var r=ze(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=n(m,T.action),T=T.next;while(T!==f);Wn(m,r.memoizedState)||(sn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,u]}function r_(n,r,a){var u=Bt,f=ze(),m=re;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!Wn((fe||f).memoizedState,a);T&&(f.memoizedState=a,sn=!0),f=f.queue;var S=o_.bind(null,u,f,n);if(xu(2048,8,S,[n]),f.getSnapshot!==r||T||Be!==null&&Be.memoizedState.tag&1){if(u.flags|=2048,Qo(9,Mh(),a_.bind(null,u,f,a,r),null),ge===null)throw Error(s(349));m||(_s&124)!==0||s_(u,r,a)}return a}function s_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Bt.updateQueue,r===null?(r=Im(),Bt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function a_(n,r,a,u){r.value=a,r.getSnapshot=u,l_(r)&&u_(n)}function o_(n,r,a){return a(function(){l_(r)&&u_(n)})}function l_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Wn(n,a)}catch{return!0}}function u_(n){var r=Uo(n,2);r!==null&&ii(r,n,2)}function Dm(n){var r=zn();if(typeof n=="function"){var a=n;if(n=a(),za){Ke(!0);try{a()}finally{Ke(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:n},r}function c_(n,r,a,u){return n.baseState=a,Om(n,fe,typeof u=="function"?u:Vr)}function cR(n,r,a,u,f){if(Vh(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};F.T!==null?a(!0):m.isTransition=!1,u(m),a=r.pending,a===null?(m.next=r.pending=m,h_(r,m)):(m.next=a.next,r.pending=a.next=m)}}function h_(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var m=F.T,T={};F.T=T;try{var S=a(f,u),D=F.S;D!==null&&D(T,S),f_(n,r,S)}catch(K){Mm(n,r,K)}finally{F.T=m}}else try{m=a(f,u),f_(n,r,m)}catch(K){Mm(n,r,K)}}function f_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){d_(n,r,u)},function(u){return Mm(n,r,u)}):d_(n,r,a)}function d_(n,r,a){r.status="fulfilled",r.value=a,m_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,h_(n,a)))}function Mm(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,m_(r),r=r.next;while(r!==u)}n.action=null}function m_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function p_(n,r){return r}function g_(n,r){if(re){var a=ge.formState;if(a!==null){t:{var u=Bt;if(re){if(Ce){e:{for(var f=Ce,m=Xi;f.nodeType!==8;){if(!m){f=null;break e}if(f=Ni(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ce=Ni(f.nextSibling),u=f.data==="F!";break t}}La(u)}u=!1}u&&(r=a[0])}}return a=zn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p_,lastRenderedState:r},a.queue=u,a=V_.bind(null,Bt,u),u.dispatch=a,u=Dm(!1),m=Um.bind(null,Bt,!1,u.queue),u=zn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=cR.bind(null,Bt,f,m,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function y_(n){var r=ze();return v_(r,fe,n)}function v_(n,r,a){if(r=Om(n,r,p_)[0],n=Dh(Vr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Iu(r)}catch(T){throw T===bu?Rh:T}else u=r;r=ze();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Bt.flags|=2048,Qo(9,Mh(),hR.bind(null,f,a),null)),[u,m,n]}function hR(n,r){n.action=r}function __(n){var r=ze(),a=fe;if(a!==null)return v_(r,a,n);ze(),r=r.memoizedState,a=ze();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Qo(n,r,a,u){return n={tag:n,create:a,deps:u,inst:r,next:null},r=Bt.updateQueue,r===null&&(r=Im(),Bt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function Mh(){return{destroy:void 0,resource:void 0}}function E_(){return ze().memoizedState}function kh(n,r,a,u){var f=zn();u=u===void 0?null:u,Bt.flags|=n,f.memoizedState=Qo(1|r,Mh(),a,u)}function xu(n,r,a,u){var f=ze();u=u===void 0?null:u;var m=f.memoizedState.inst;fe!==null&&u!==null&&Sm(u,fe.memoizedState.deps)?f.memoizedState=Qo(r,m,a,u):(Bt.flags|=n,f.memoizedState=Qo(1|r,m,a,u))}function T_(n,r){kh(8390656,8,n,r)}function b_(n,r){xu(2048,8,n,r)}function S_(n,r){return xu(4,2,n,r)}function w_(n,r){return xu(4,4,n,r)}function A_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function R_(n,r,a){a=a!=null?a.concat([n]):null,xu(4,4,A_.bind(null,r,n),a)}function km(){}function C_(n,r){var a=ze();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Sm(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function I_(n,r){var a=ze();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Sm(r,u[1]))return u[0];if(u=n(),za){Ke(!0);try{n()}finally{Ke(!1)}}return a.memoizedState=[u,r],u}function Vm(n,r,a){return a===void 0||(_s&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=N0(),Bt.lanes|=n,Rs|=n,a)}function x_(n,r,a,u){return Wn(a,r)?a:qo.current!==null?(n=Vm(n,a,u),Wn(n,r)||(sn=!0),n):(_s&42)===0?(sn=!0,n.memoizedState=a):(n=N0(),Bt.lanes|=n,Rs|=n,r)}function O_(n,r,a,u,f){var m=lt.p;lt.p=m!==0&&8>m?m:8;var T=F.T,S={};F.T=S,Um(n,!1,r,a);try{var D=f(),K=F.S;if(K!==null&&K(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=oR(D,u);Ou(n,r,J,ni(n))}else Ou(n,r,u,ni(n))}catch(nt){Ou(n,r,{then:function(){},status:"rejected",reason:nt},ni())}finally{lt.p=m,F.T=T}}function fR(){}function Pm(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=N_(n).queue;O_(n,f,r,dt,a===null?fR:function(){return D_(n),a(u)})}function N_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:dt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function D_(n){var r=N_(n).next.queue;Ou(n,r,{},ni())}function Lm(){return En($u)}function M_(){return ze().memoizedState}function k_(){return ze().memoizedState}function dR(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=ni();n=ys(a);var u=vs(r,n,a);u!==null&&(ii(u,r,a),wu(u,r,a)),r={cache:dm()},n.payload=r;return}r=r.return}}function mR(n,r,a){var u=ni();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Vh(n)?P_(r,a):(a=im(n,r,a,u),a!==null&&(ii(a,n,u),L_(a,r,u)))}function V_(n,r,a){var u=ni();Ou(n,r,a,u)}function Ou(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vh(n))P_(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,S=m(T,a);if(f.hasEagerState=!0,f.eagerState=S,Wn(S,T))return vh(n,r,f,0),ge===null&&yh(),!1}catch{}finally{}if(a=im(n,r,f,u),a!==null)return ii(a,n,u),L_(a,r,u),!0}return!1}function Um(n,r,a,u){if(u={lane:2,revertLane:gp(),action:u,hasEagerState:!1,eagerState:null,next:null},Vh(n)){if(r)throw Error(s(479))}else r=im(n,a,u,2),r!==null&&ii(r,n,2)}function Vh(n){var r=n.alternate;return n===Bt||r!==null&&r===Bt}function P_(n,r){Go=xh=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function L_(n,r,a){if((a&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,_e(n,a)}}var Ph={readContext:En,use:Nh,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},U_={readContext:En,use:Nh,useCallback:function(n,r){return zn().memoizedState=[n,r===void 0?null:r],n},useContext:En,useEffect:T_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,kh(4194308,4,A_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return kh(4194308,4,n,r)},useInsertionEffect:function(n,r){kh(4,2,n,r)},useMemo:function(n,r){var a=zn();r=r===void 0?null:r;var u=n();if(za){Ke(!0);try{n()}finally{Ke(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=zn();if(a!==void 0){var f=a(r);if(za){Ke(!0);try{a(r)}finally{Ke(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=mR.bind(null,Bt,n),[u.memoizedState,n]},useRef:function(n){var r=zn();return n={current:n},r.memoizedState=n},useState:function(n){n=Dm(n);var r=n.queue,a=V_.bind(null,Bt,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:km,useDeferredValue:function(n,r){var a=zn();return Vm(a,n,r)},useTransition:function(){var n=Dm(!1);return n=O_.bind(null,Bt,n.queue,!0,!1),zn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Bt,f=zn();if(re){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ge===null)throw Error(s(349));(Jt&124)!==0||s_(u,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,T_(o_.bind(null,u,m,n),[n]),u.flags|=2048,Qo(9,Mh(),a_.bind(null,u,m,a,r),null),a},useId:function(){var n=zn(),r=ge.identifierPrefix;if(re){var a=Dr,u=Nr;a=(u&~(1<<32-Le(u)-1)).toString(32)+a,r="«"+r+"R"+a,a=Oh++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=lR++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Lm,useFormState:g_,useActionState:g_,useOptimistic:function(n){var r=zn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Um.bind(null,Bt,!0,a),a.dispatch=r,[n,r]},useMemoCache:xm,useCacheRefresh:function(){return zn().memoizedState=dR.bind(null,Bt)}},j_={readContext:En,use:Nh,useCallback:C_,useContext:En,useEffect:b_,useImperativeHandle:R_,useInsertionEffect:S_,useLayoutEffect:w_,useMemo:I_,useReducer:Dh,useRef:E_,useState:function(){return Dh(Vr)},useDebugValue:km,useDeferredValue:function(n,r){var a=ze();return x_(a,fe.memoizedState,n,r)},useTransition:function(){var n=Dh(Vr)[0],r=ze().memoizedState;return[typeof n=="boolean"?n:Iu(n),r]},useSyncExternalStore:r_,useId:M_,useHostTransitionStatus:Lm,useFormState:y_,useActionState:y_,useOptimistic:function(n,r){var a=ze();return c_(a,fe,n,r)},useMemoCache:xm,useCacheRefresh:k_},pR={readContext:En,use:Nh,useCallback:C_,useContext:En,useEffect:b_,useImperativeHandle:R_,useInsertionEffect:S_,useLayoutEffect:w_,useMemo:I_,useReducer:Nm,useRef:E_,useState:function(){return Nm(Vr)},useDebugValue:km,useDeferredValue:function(n,r){var a=ze();return fe===null?Vm(a,n,r):x_(a,fe.memoizedState,n,r)},useTransition:function(){var n=Nm(Vr)[0],r=ze().memoizedState;return[typeof n=="boolean"?n:Iu(n),r]},useSyncExternalStore:r_,useId:M_,useHostTransitionStatus:Lm,useFormState:__,useActionState:__,useOptimistic:function(n,r){var a=ze();return fe!==null?c_(a,fe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:xm,useCacheRefresh:k_},$o=null,Nu=0;function Lh(n){var r=Nu;return Nu+=1,$o===null&&($o=[]),Xv($o,n,r)}function Du(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Uh(n,r){throw r.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function B_(n){var r=n._init;return r(n._payload)}function z_(n){function r(z,j){if(n){var G=z.deletions;G===null?(z.deletions=[j],z.flags|=16):G.push(j)}}function a(z,j){if(!n)return null;for(;j!==null;)r(z,j),j=j.sibling;return null}function u(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function f(z,j){return z=Or(z,j),z.index=0,z.sibling=null,z}function m(z,j,G){return z.index=G,n?(G=z.alternate,G!==null?(G=G.index,G<j?(z.flags|=67108866,j):G):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function T(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function S(z,j,G,tt){return j===null||j.tag!==6?(j=sm(G,z.mode,tt),j.return=z,j):(j=f(j,G),j.return=z,j)}function D(z,j,G,tt){var vt=G.type;return vt===B?J(z,j,G.props.children,tt,G.key):j!==null&&(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&B_(vt)===j.type)?(j=f(j,G.props),Du(j,G),j.return=z,j):(j=Eh(G.type,G.key,G.props,null,z.mode,tt),Du(j,G),j.return=z,j)}function K(z,j,G,tt){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=am(G,z.mode,tt),j.return=z,j):(j=f(j,G.children||[]),j.return=z,j)}function J(z,j,G,tt,vt){return j===null||j.tag!==7?(j=Ma(G,z.mode,tt,vt),j.return=z,j):(j=f(j,G),j.return=z,j)}function nt(z,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=sm(""+j,z.mode,G),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return G=Eh(j.type,j.key,j.props,null,z.mode,G),Du(G,j),G.return=z,G;case M:return j=am(j,z.mode,G),j.return=z,j;case R:var tt=j._init;return j=tt(j._payload),nt(z,j,G)}if(jt(j)||U(j))return j=Ma(j,z.mode,G,null),j.return=z,j;if(typeof j.then=="function")return nt(z,Lh(j),G);if(j.$$typeof===W)return nt(z,wh(z,j),G);Uh(z,j)}return null}function Q(z,j,G,tt){var vt=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return vt!==null?null:S(z,j,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===vt?D(z,j,G,tt):null;case M:return G.key===vt?K(z,j,G,tt):null;case R:return vt=G._init,G=vt(G._payload),Q(z,j,G,tt)}if(jt(G)||U(G))return vt!==null?null:J(z,j,G,tt,null);if(typeof G.then=="function")return Q(z,j,Lh(G),tt);if(G.$$typeof===W)return Q(z,j,wh(z,G),tt);Uh(z,G)}return null}function $(z,j,G,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(G)||null,S(j,z,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return z=z.get(tt.key===null?G:tt.key)||null,D(j,z,tt,vt);case M:return z=z.get(tt.key===null?G:tt.key)||null,K(j,z,tt,vt);case R:var Ft=tt._init;return tt=Ft(tt._payload),$(z,j,G,tt,vt)}if(jt(tt)||U(tt))return z=z.get(G)||null,J(j,z,tt,vt,null);if(typeof tt.then=="function")return $(z,j,G,Lh(tt),vt);if(tt.$$typeof===W)return $(z,j,G,wh(j,tt),vt);Uh(j,tt)}return null}function Ot(z,j,G,tt){for(var vt=null,Ft=null,Et=j,Ct=j=0,on=null;Et!==null&&Ct<G.length;Ct++){Et.index>Ct?(on=Et,Et=null):on=Et.sibling;var ie=Q(z,Et,G[Ct],tt);if(ie===null){Et===null&&(Et=on);break}n&&Et&&ie.alternate===null&&r(z,Et),j=m(ie,j,Ct),Ft===null?vt=ie:Ft.sibling=ie,Ft=ie,Et=on}if(Ct===G.length)return a(z,Et),re&&Va(z,Ct),vt;if(Et===null){for(;Ct<G.length;Ct++)Et=nt(z,G[Ct],tt),Et!==null&&(j=m(Et,j,Ct),Ft===null?vt=Et:Ft.sibling=Et,Ft=Et);return re&&Va(z,Ct),vt}for(Et=u(Et);Ct<G.length;Ct++)on=$(Et,z,Ct,G[Ct],tt),on!==null&&(n&&on.alternate!==null&&Et.delete(on.key===null?Ct:on.key),j=m(on,j,Ct),Ft===null?vt=on:Ft.sibling=on,Ft=on);return n&&Et.forEach(function(Vs){return r(z,Vs)}),re&&Va(z,Ct),vt}function At(z,j,G,tt){if(G==null)throw Error(s(151));for(var vt=null,Ft=null,Et=j,Ct=j=0,on=null,ie=G.next();Et!==null&&!ie.done;Ct++,ie=G.next()){Et.index>Ct?(on=Et,Et=null):on=Et.sibling;var Vs=Q(z,Et,ie.value,tt);if(Vs===null){Et===null&&(Et=on);break}n&&Et&&Vs.alternate===null&&r(z,Et),j=m(Vs,j,Ct),Ft===null?vt=Vs:Ft.sibling=Vs,Ft=Vs,Et=on}if(ie.done)return a(z,Et),re&&Va(z,Ct),vt;if(Et===null){for(;!ie.done;Ct++,ie=G.next())ie=nt(z,ie.value,tt),ie!==null&&(j=m(ie,j,Ct),Ft===null?vt=ie:Ft.sibling=ie,Ft=ie);return re&&Va(z,Ct),vt}for(Et=u(Et);!ie.done;Ct++,ie=G.next())ie=$(Et,z,Ct,ie.value,tt),ie!==null&&(n&&ie.alternate!==null&&Et.delete(ie.key===null?Ct:ie.key),j=m(ie,j,Ct),Ft===null?vt=ie:Ft.sibling=ie,Ft=ie);return n&&Et.forEach(function(gC){return r(z,gC)}),re&&Va(z,Ct),vt}function me(z,j,G,tt){if(typeof G=="object"&&G!==null&&G.type===B&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var vt=G.key;j!==null;){if(j.key===vt){if(vt=G.type,vt===B){if(j.tag===7){a(z,j.sibling),tt=f(j,G.props.children),tt.return=z,z=tt;break t}}else if(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&B_(vt)===j.type){a(z,j.sibling),tt=f(j,G.props),Du(tt,G),tt.return=z,z=tt;break t}a(z,j);break}else r(z,j);j=j.sibling}G.type===B?(tt=Ma(G.props.children,z.mode,tt,G.key),tt.return=z,z=tt):(tt=Eh(G.type,G.key,G.props,null,z.mode,tt),Du(tt,G),tt.return=z,z=tt)}return T(z);case M:t:{for(vt=G.key;j!==null;){if(j.key===vt)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){a(z,j.sibling),tt=f(j,G.children||[]),tt.return=z,z=tt;break t}else{a(z,j);break}else r(z,j);j=j.sibling}tt=am(G,z.mode,tt),tt.return=z,z=tt}return T(z);case R:return vt=G._init,G=vt(G._payload),me(z,j,G,tt)}if(jt(G))return Ot(z,j,G,tt);if(U(G)){if(vt=U(G),typeof vt!="function")throw Error(s(150));return G=vt.call(G),At(z,j,G,tt)}if(typeof G.then=="function")return me(z,j,Lh(G),tt);if(G.$$typeof===W)return me(z,j,wh(z,G),tt);Uh(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(a(z,j.sibling),tt=f(j,G),tt.return=z,z=tt):(a(z,j),tt=sm(G,z.mode,tt),tt.return=z,z=tt),T(z)):a(z,j)}return function(z,j,G,tt){try{Nu=0;var vt=me(z,j,G,tt);return $o=null,vt}catch(Et){if(Et===bu||Et===Rh)throw Et;var Ft=Zn(29,Et,null,z.mode);return Ft.lanes=tt,Ft.return=z,Ft}finally{}}}var Yo=z_(!0),H_=z_(!1),yi=Y(null),Wi=null;function Es(n){var r=n.alternate;Z(Xe,Xe.current&1),Z(yi,n),Wi===null&&(r===null||qo.current!==null||r.memoizedState!==null)&&(Wi=n)}function F_(n){if(n.tag===22){if(Z(Xe,Xe.current),Z(yi,n),Wi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Wi=n)}}else Ts()}function Ts(){Z(Xe,Xe.current),Z(yi,yi.current)}function Pr(n){rt(yi),Wi===n&&(Wi=null),rt(Xe)}var Xe=Y(0);function jh(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ip(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function jm(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Bm={enqueueSetState:function(n,r,a){n=n._reactInternals;var u=ni(),f=ys(u);f.payload=r,a!=null&&(f.callback=a),r=vs(n,f,u),r!==null&&(ii(r,n,u),wu(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=ni(),f=ys(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=vs(n,f,u),r!==null&&(ii(r,n,u),wu(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=ni(),u=ys(a);u.tag=2,r!=null&&(u.callback=r),r=vs(n,u,a),r!==null&&(ii(r,n,a),wu(r,n,a))}};function q_(n,r,a,u,f,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,T):r.prototype&&r.prototype.isPureReactComponent?!mu(a,u)||!mu(f,m):!0}function G_(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&Bm.enqueueReplaceState(r,r.state,null)}function Ha(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Bh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function K_(n){Bh(n)}function Q_(n){console.error(n)}function $_(n){Bh(n)}function zh(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Y_(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zm(n,r,a){return a=ys(a),a.tag=3,a.payload={element:null},a.callback=function(){zh(n,r)},a}function X_(n){return n=ys(n),n.tag=3,n}function W_(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){Y_(r,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Y_(r,a,u),typeof f!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function gR(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&_u(r,a,f,!0),a=yi.current,a!==null){switch(a.tag){case 13:return Wi===null?hp():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===gm?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),dp(n,u,f)),!1;case 22:return a.flags|=65536,u===gm?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),dp(n,u,f)),!1}throw Error(s(435,a.tag))}return dp(n,u,f),hp(),!1}if(re)return r=yi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==um&&(n=Error(s(422),{cause:u}),vu(di(n,a)))):(u!==um&&(r=Error(s(423),{cause:u}),vu(di(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=di(u,a),f=zm(n.stateNode,u,f),_m(n,f),Ie!==4&&(Ie=2)),!1;var m=Error(s(520),{cause:u});if(m=di(m,a),ju===null?ju=[m]:ju.push(m),Ie!==4&&(Ie=2),r===null)return!0;u=di(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=zm(a.stateNode,u,n),_m(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Cs===null||!Cs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=X_(f),W_(f,n,a,u),_m(a,f),!1}a=a.return}while(a!==null);return!1}var Z_=Error(s(461)),sn=!1;function dn(n,r,a,u){r.child=n===null?H_(r,null,a,u):Yo(r,n.child,a,u)}function J_(n,r,a,u,f){a=a.render;var m=r.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return ja(r),u=wm(n,r,a,T,m,f),S=Am(),n!==null&&!sn?(Rm(n,r,f),Lr(n,r,f)):(re&&S&&om(r),r.flags|=1,dn(n,r,u,f),r.child)}function t0(n,r,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!rm(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,e0(n,r,m,u,f)):(n=Eh(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Ym(n,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:mu,a(T,u)&&n.ref===r.ref)return Lr(n,r,f)}return r.flags|=1,n=Or(m,u),n.ref=r.ref,n.return=r,r.child=n}function e0(n,r,a,u,f){if(n!==null){var m=n.memoizedProps;if(mu(m,u)&&n.ref===r.ref)if(sn=!1,r.pendingProps=u=m,Ym(n,f))(n.flags&131072)!==0&&(sn=!0);else return r.lanes=n.lanes,Lr(n,r,f)}return Hm(n,r,a,u,f)}function n0(n,r,a){var u=r.pendingProps,f=u.children,m=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=m!==null?m.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return i0(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ah(r,m!==null?m.cachePool:null),m!==null?e_(r,m):Tm(),F_(r);else return r.lanes=r.childLanes=536870912,i0(n,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(Ah(r,m.cachePool),e_(r,m),Ts(),r.memoizedState=null):(n!==null&&Ah(r,null),Tm(),Ts());return dn(n,r,f,a),r.child}function i0(n,r,a,u){var f=pm();return f=f===null?null:{parent:Ye._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Ah(r,null),Tm(),F_(r),n!==null&&_u(n,r,u,!0),null}function Hh(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Hm(n,r,a,u,f){return ja(r),a=wm(n,r,a,u,void 0,f),u=Am(),n!==null&&!sn?(Rm(n,r,f),Lr(n,r,f)):(re&&u&&om(r),r.flags|=1,dn(n,r,a,f),r.child)}function r0(n,r,a,u,f,m){return ja(r),r.updateQueue=null,a=i_(r,u,a,f),n_(n),u=Am(),n!==null&&!sn?(Rm(n,r,m),Lr(n,r,m)):(re&&u&&om(r),r.flags|=1,dn(n,r,a,m),r.child)}function s0(n,r,a,u,f){if(ja(r),r.stateNode===null){var m=jo,T=a.contextType;typeof T=="object"&&T!==null&&(m=En(T)),m=new a(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Bm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},ym(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?En(T):jo,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(jm(r,a,T,u),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Bm.enqueueReplaceState(m,m.state,null),Ru(r,u,m,f),Au(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var S=r.memoizedProps,D=Ha(a,S);m.props=D;var K=m.context,J=a.contextType;T=jo,typeof J=="object"&&J!==null&&(T=En(J));var nt=a.getDerivedStateFromProps;J=typeof nt=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||K!==T)&&G_(r,m,u,T),gs=!1;var Q=r.memoizedState;m.state=Q,Ru(r,u,m,f),Au(),K=r.memoizedState,S||Q!==K||gs?(typeof nt=="function"&&(jm(r,a,nt,u),K=r.memoizedState),(D=gs||q_(r,a,D,u,Q,K,T))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),m.props=u,m.state=K,m.context=T,u=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,vm(n,r),T=r.memoizedProps,J=Ha(a,T),m.props=J,nt=r.pendingProps,Q=m.context,K=a.contextType,D=jo,typeof K=="object"&&K!==null&&(D=En(K)),S=a.getDerivedStateFromProps,(K=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==nt||Q!==D)&&G_(r,m,u,D),gs=!1,Q=r.memoizedState,m.state=Q,Ru(r,u,m,f),Au();var $=r.memoizedState;T!==nt||Q!==$||gs||n!==null&&n.dependencies!==null&&Sh(n.dependencies)?(typeof S=="function"&&(jm(r,a,S,u),$=r.memoizedState),(J=gs||q_(r,a,J,u,Q,$,D)||n!==null&&n.dependencies!==null&&Sh(n.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,$,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,$,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),m.props=u,m.state=$,m.context=D,u=J):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,Hh(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=Yo(r,n.child,null,f),r.child=Yo(r,null,a,f)):dn(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Lr(n,r,f),n}function a0(n,r,a,u){return yu(),r.flags|=256,dn(n,r,a,u),r.child}var Fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qm(n){return{baseLanes:n,cachePool:Qv()}}function Gm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=vi),n}function o0(n,r,a){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Xe.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(re){if(f?Es(r):Ts(),re){var S=Ce,D;if(D=S){t:{for(D=S,S=Xi;D.nodeType!==8;){if(!S){S=null;break t}if(D=Ni(D.nextSibling),D===null){S=null;break t}}S=D}S!==null?(r.memoizedState={dehydrated:S,treeContext:ka!==null?{id:Nr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},D=Zn(18,null,null,0),D.stateNode=S,D.return=r,r.child=D,Mn=r,Ce=null,D=!0):D=!1}D||La(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Ip(S)?r.lanes=32:r.lanes=536870912,null;Pr(r)}return S=u.children,u=u.fallback,f?(Ts(),f=r.mode,S=Fh({mode:"hidden",children:S},f),u=Ma(u,f,a,null),S.return=r,u.return=r,S.sibling=u,r.child=S,f=r.child,f.memoizedState=qm(a),f.childLanes=Gm(n,T,a),r.memoizedState=Fm,u):(Es(r),Km(r,S))}if(D=n.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(m)r.flags&256?(Es(r),r.flags&=-257,r=Qm(n,r,a)):r.memoizedState!==null?(Ts(),r.child=n.child,r.flags|=128,r=null):(Ts(),f=u.fallback,S=r.mode,u=Fh({mode:"visible",children:u.children},S),f=Ma(f,S,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Yo(r,n.child,null,a),u=r.child,u.memoizedState=qm(a),u.childLanes=Gm(n,T,a),r.memoizedState=Fm,r=f);else if(Es(r),Ip(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(s(419)),u.stack="",u.digest=T,vu({value:u,source:null,stack:null}),r=Qm(n,r,a)}else if(sn||_u(n,r,a,!1),T=(a&n.childLanes)!==0,sn||T){if(T=ge,T!==null&&(u=a&-a,u=(u&42)!==0?1:ye(u),u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Uo(n,u),ii(T,n,u),Z_;S.data==="$?"||hp(),r=Qm(n,r,a)}else S.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,Ce=Ni(S.nextSibling),Mn=r,re=!0,Pa=null,Xi=!1,n!==null&&(pi[gi++]=Nr,pi[gi++]=Dr,pi[gi++]=ka,Nr=n.id,Dr=n.overflow,ka=r),r=Km(r,u.children),r.flags|=4096);return r}return f?(Ts(),f=u.fallback,S=r.mode,D=n.child,K=D.sibling,u=Or(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,K!==null?f=Or(K,f):(f=Ma(f,S,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,S=n.child.memoizedState,S===null?S=qm(a):(D=S.cachePool,D!==null?(K=Ye._currentValue,D=D.parent!==K?{parent:K,pool:K}:D):D=Qv(),S={baseLanes:S.baseLanes|a,cachePool:D}),f.memoizedState=S,f.childLanes=Gm(n,T,a),r.memoizedState=Fm,u):(Es(r),a=n.child,n=a.sibling,a=Or(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function Km(n,r){return r=Fh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Fh(n,r){return n=Zn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Qm(n,r,a){return Yo(r,n.child,null,a),n=Km(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function l0(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),hm(n.return,r,a)}function $m(n,r,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function u0(n,r,a){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if(dn(n,r,u.children,a),u=Xe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&l0(n,a,r);else if(n.tag===19)l0(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Z(Xe,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&jh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),$m(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&jh(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}$m(r,!0,a,null,m);break;case"together":$m(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Lr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Rs|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(_u(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Or(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Or(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Ym(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Sh(n)))}function yR(n,r,a){switch(r.tag){case 3:qt(r,r.stateNode.containerInfo),ps(r,Ye,n.memoizedState.cache),yu();break;case 27:case 5:Ne(r);break;case 4:qt(r,r.stateNode.containerInfo);break;case 10:ps(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Es(r),r.flags|=128,null):(a&r.child.childLanes)!==0?o0(n,r,a):(Es(r),n=Lr(n,r,a),n!==null?n.sibling:null);Es(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(_u(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return u0(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(Xe,Xe.current),u)break;return null;case 22:case 23:return r.lanes=0,n0(n,r,a);case 24:ps(r,Ye,n.memoizedState.cache)}return Lr(n,r,a)}function c0(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)sn=!0;else{if(!Ym(n,a)&&(r.flags&128)===0)return sn=!1,yR(n,r,a);sn=(n.flags&131072)!==0}else sn=!1,re&&(r.flags&1048576)!==0&&Bv(r,bh,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")rm(u)?(n=Ha(u,n),r.tag=1,r=s0(null,r,u,n,a)):(r.tag=0,r=Hm(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===st){r.tag=11,r=J_(null,r,u,n,a);break t}else if(f===k){r.tag=14,r=t0(null,r,u,n,a);break t}}throw r=kt(u)||u,Error(s(306,r,""))}}return r;case 0:return Hm(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=Ha(u,r.pendingProps),s0(n,r,u,f,a);case 3:t:{if(qt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,vm(n,r),Ru(r,u,null,a);var T=r.memoizedState;if(u=T.cache,ps(r,Ye,u),u!==m.cache&&fm(r,[Ye],a,!0),Au(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=a0(n,r,u,a);break t}else if(u!==f){f=di(Error(s(424)),r),vu(f),r=a0(n,r,u,a);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ce=Ni(n.firstChild),Mn=r,re=!0,Pa=null,Xi=!0,a=H_(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yu(),u===f){r=Lr(n,r,a);break t}dn(n,r,u,a)}r=r.child}return r;case 26:return Hh(n,r),n===null?(a=mE(r.type,null,r.pendingProps,null))?r.memoizedState=a:re||(a=r.type,n=r.pendingProps,u=rf(pt.current).createElement(a),u[Ee]=r,u[ne]=n,pn(u,a,n),De(u),r.stateNode=u):r.memoizedState=mE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ne(r),n===null&&re&&(u=r.stateNode=hE(r.type,r.pendingProps,pt.current),Mn=r,Xi=!0,f=Ce,Os(r.type)?(xp=f,Ce=Ni(u.firstChild)):Ce=f),dn(n,r,r.pendingProps.children,a),Hh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&re&&((f=u=Ce)&&(u=GR(u,r.type,r.pendingProps,Xi),u!==null?(r.stateNode=u,Mn=r,Ce=Ni(u.firstChild),Xi=!1,f=!0):f=!1),f||La(r)),Ne(r),f=r.type,m=r.pendingProps,T=n!==null?n.memoizedProps:null,u=m.children,Ap(f,m)?u=null:T!==null&&Ap(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=wm(n,r,uR,null,null,a),$u._currentValue=f),Hh(n,r),dn(n,r,u,a),r.child;case 6:return n===null&&re&&((n=a=Ce)&&(a=KR(a,r.pendingProps,Xi),a!==null?(r.stateNode=a,Mn=r,Ce=null,n=!0):n=!1),n||La(r)),null;case 13:return o0(n,r,a);case 4:return qt(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Yo(r,null,u,a):dn(n,r,u,a),r.child;case 11:return J_(n,r,r.type,r.pendingProps,a);case 7:return dn(n,r,r.pendingProps,a),r.child;case 8:return dn(n,r,r.pendingProps.children,a),r.child;case 12:return dn(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,ps(r,r.type,u.value),dn(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ja(r),f=En(f),u=u(f),r.flags|=1,dn(n,r,u,a),r.child;case 14:return t0(n,r,r.type,r.pendingProps,a);case 15:return e0(n,r,r.type,r.pendingProps,a);case 19:return u0(n,r,a);case 31:return u=r.pendingProps,a=r.mode,u={mode:u.mode,children:u.children},n===null?(a=Fh(u,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Or(n.child,u),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return n0(n,r,a);case 24:return ja(r),u=En(Ye),n===null?(f=pm(),f===null&&(f=ge,m=dm(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:u,cache:f},ym(r),ps(r,Ye,f)):((n.lanes&a)!==0&&(vm(n,r),Ru(r,null,null,a),Au()),f=n.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ps(r,Ye,u)):(u=m.cache,ps(r,Ye,u),u!==f.cache&&fm(r,[Ye],a,!0))),dn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ur(n){n.flags|=4}function h0(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!_E(r)){if(r=yi.current,r!==null&&((Jt&4194048)===Jt?Wi!==null:(Jt&62914560)!==Jt&&(Jt&536870912)===0||r!==Wi))throw Su=gm,$v;n.flags|=8192}}function qh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?ga():536870912,n.lanes|=r,Jo|=r)}function Mu(n,r){if(!re)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Se(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function vR(n,r,a){var u=r.pendingProps;switch(lm(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(r),null;case 1:return Se(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),kr(Ye),Ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(gu(r)?Ur(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fv())),Se(r),null;case 26:return a=r.memoizedState,n===null?(Ur(r),a!==null?(Se(r),h0(r,a)):(Se(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Ur(r),Se(r),h0(r,a)):(Se(r),r.flags&=-16777217):(n.memoizedProps!==u&&Ur(r),Se(r),r.flags&=-16777217),null;case 27:_n(r),a=pt.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ur(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Se(r),null}n=ft.current,gu(r)?zv(r):(n=hE(f,u,a),r.stateNode=n,Ur(r))}return Se(r),null;case 5:if(_n(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ur(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Se(r),null}if(n=ft.current,gu(r))zv(r);else{switch(f=rf(pt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Ee]=r,n[ne]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;t:switch(pn(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Ur(r)}}return Se(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Ur(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=pt.current,gu(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Ee]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||rE(n.nodeValue,a)),n||La(r)}else n=rf(n).createTextNode(u),n[Ee]=r,r.stateNode=n}return Se(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=gu(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ee]=r}else yu(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Se(r),f=!1}else f=Fv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Pr(r),r):(Pr(r),null)}if(Pr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),qh(r,r.updateQueue),Se(r),null;case 4:return Ae(),n===null&&Ep(r.stateNode.containerInfo),Se(r),null;case 10:return kr(r.type),Se(r),null;case 19:if(rt(Xe),f=r.memoizedState,f===null)return Se(r),null;if(u=(r.flags&128)!==0,m=f.rendering,m===null)if(u)Mu(f,!1);else{if(Ie!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=jh(n),m!==null){for(r.flags|=128,Mu(f,!1),n=m.updateQueue,r.updateQueue=n,qh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)jv(a,n),a=a.sibling;return Z(Xe,Xe.current&1|2),r.child}n=n.sibling}f.tail!==null&&ve()>Qh&&(r.flags|=128,u=!0,Mu(f,!1),r.lanes=4194304)}else{if(!u)if(n=jh(m),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,qh(r,n),Mu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!re)return Se(r),null}else 2*ve()-f.renderingStartTime>Qh&&a!==536870912&&(r.flags|=128,u=!0,Mu(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=ve(),r.sibling=null,n=Xe.current,Z(Xe,u?n&1|2:n&1),r):(Se(r),null);case 22:case 23:return Pr(r),bm(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Se(r),r.subtreeFlags&6&&(r.flags|=8192)):Se(r),a=r.updateQueue,a!==null&&qh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&rt(Ba),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),kr(Ye),Se(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function _R(n,r){switch(lm(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return kr(Ye),Ae(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return _n(r),null;case 13:if(Pr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));yu()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return rt(Xe),null;case 4:return Ae(),null;case 10:return kr(r.type),null;case 22:case 23:return Pr(r),bm(),n!==null&&rt(Ba),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return kr(Ye),null;case 25:return null;default:return null}}function f0(n,r){switch(lm(r),r.tag){case 3:kr(Ye),Ae();break;case 26:case 27:case 5:_n(r);break;case 4:Ae();break;case 13:Pr(r);break;case 19:rt(Xe);break;case 10:kr(r.type);break;case 22:case 23:Pr(r),bm(),n!==null&&rt(Ba);break;case 24:kr(Ye)}}function ku(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,T=a.inst;u=m(),T.destroy=u}a=a.next}while(a!==f)}}catch(S){pe(r,r.return,S)}}function bs(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var D=a,K=S;try{K()}catch(J){pe(f,D,J)}}}u=u.next}while(u!==m)}}catch(J){pe(r,r.return,J)}}function d0(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{t_(r,a)}catch(u){pe(n,n.return,u)}}}function m0(n,r,a){a.props=Ha(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){pe(n,r,u)}}function Vu(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(f){pe(n,r,f)}}function Zi(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){pe(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){pe(n,r,f)}else a.current=null}function p0(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){pe(n,n.return,f)}}function Xm(n,r,a){try{var u=n.stateNode;BR(u,n.type,a,r),u[ne]=r}catch(f){pe(n,n.return,f)}}function g0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Os(n.type)||n.tag===4}function Wm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||g0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Os(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zm(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=nf));else if(u!==4&&(u===27&&Os(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Zm(n,r,a),n=n.sibling;n!==null;)Zm(n,r,a),n=n.sibling}function Gh(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&(u===27&&Os(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Gh(n,r,a),n=n.sibling;n!==null;)Gh(n,r,a),n=n.sibling}function y0(n){var r=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);pn(r,u,a),r[Ee]=n,r[ne]=a}catch(m){pe(n,n.return,m)}}var jr=!1,ke=!1,Jm=!1,v0=typeof WeakSet=="function"?WeakSet:Set,an=null;function ER(n,r){if(n=n.containerInfo,Sp=cf,n=xv(n),Wd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,S=-1,D=-1,K=0,J=0,nt=n,Q=null;e:for(;;){for(var $;nt!==a||f!==0&&nt.nodeType!==3||(S=T+f),nt!==m||u!==0&&nt.nodeType!==3||(D=T+u),nt.nodeType===3&&(T+=nt.nodeValue.length),($=nt.firstChild)!==null;)Q=nt,nt=$;for(;;){if(nt===n)break e;if(Q===a&&++K===f&&(S=T),Q===m&&++J===u&&(D=T),($=nt.nextSibling)!==null)break;nt=Q,Q=nt.parentNode}nt=$}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(wp={focusedElem:n,selectionRange:a},cf=!1,an=r;an!==null;)if(r=an,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,an=n;else for(;an!==null;){switch(r=an,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var Ot=Ha(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(Ot,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(At){pe(a,a.return,At)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Cp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Cp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,an=n;break}an=r.return}}function _0(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Ss(n,a),u&4&&ku(5,a);break;case 1:if(Ss(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){pe(a,a.return,T)}else{var f=Ha(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){pe(a,a.return,T)}}u&64&&d0(a),u&512&&Vu(a,a.return);break;case 3:if(Ss(n,a),u&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{t_(n,r)}catch(T){pe(a,a.return,T)}}break;case 27:r===null&&u&4&&y0(a);case 26:case 5:Ss(n,a),r===null&&u&4&&p0(a),u&512&&Vu(a,a.return);break;case 12:Ss(n,a);break;case 13:Ss(n,a),u&4&&b0(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=xR.bind(null,a),QR(n,a))));break;case 22:if(u=a.memoizedState!==null||jr,!u){r=r!==null&&r.memoizedState!==null||ke,f=jr;var m=ke;jr=u,(ke=r)&&!m?ws(n,a,(a.subtreeFlags&8772)!==0):Ss(n,a),jr=f,ke=m}break;case 30:break;default:Ss(n,a)}}function E0(n){var r=n.alternate;r!==null&&(n.alternate=null,E0(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&hs(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var be=null,Hn=!1;function Br(n,r,a){for(a=a.child;a!==null;)T0(n,r,a),a=a.sibling}function T0(n,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(_t,a)}catch{}switch(a.tag){case 26:ke||Zi(a,r),Br(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ke||Zi(a,r);var u=be,f=Hn;Os(a.type)&&(be=a.stateNode,Hn=!1),Br(n,r,a),qu(a.stateNode),be=u,Hn=f;break;case 5:ke||Zi(a,r);case 6:if(u=be,f=Hn,be=null,Br(n,r,a),be=u,Hn=f,be!==null)if(Hn)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(a.stateNode)}catch(m){pe(a,r,m)}else try{be.removeChild(a.stateNode)}catch(m){pe(a,r,m)}break;case 18:be!==null&&(Hn?(n=be,uE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Zu(n)):uE(be,a.stateNode));break;case 4:u=be,f=Hn,be=a.stateNode.containerInfo,Hn=!0,Br(n,r,a),be=u,Hn=f;break;case 0:case 11:case 14:case 15:ke||bs(2,a,r),ke||bs(4,a,r),Br(n,r,a);break;case 1:ke||(Zi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&m0(a,r,u)),Br(n,r,a);break;case 21:Br(n,r,a);break;case 22:ke=(u=ke)||a.memoizedState!==null,Br(n,r,a),ke=u;break;default:Br(n,r,a)}}function b0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Zu(n)}catch(a){pe(r,r.return,a)}}function TR(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new v0),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new v0),r;default:throw Error(s(435,n.tag))}}function tp(n,r){var a=TR(n);r.forEach(function(u){var f=OR.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Jn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(Os(S.type)){be=S.stateNode,Hn=!1;break t}break;case 5:be=S.stateNode,Hn=!1;break t;case 3:case 4:be=S.stateNode.containerInfo,Hn=!0;break t}S=S.return}if(be===null)throw Error(s(160));T0(m,T,f),be=null,Hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)S0(r,n),r=r.sibling}var Oi=null;function S0(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Jn(r,n),ti(n),u&4&&(bs(3,n,n.return),ku(3,n),bs(5,n,n.return));break;case 1:Jn(r,n),ti(n),u&512&&(ke||a===null||Zi(a,a.return)),u&64&&jr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Oi;if(Jn(r,n),ti(n),u&512&&(ke||a===null||Zi(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){t:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ya]||m[Ee]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),pn(m,u,a),m[Ee]=n,De(m),u=m;break t;case"link":var T=yE("link","href",f).get(u+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break e}}m=f.createElement(u),pn(m,u,a),f.head.appendChild(m);break;case"meta":if(T=yE("meta","content",f).get(u+(a.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break e}}m=f.createElement(u),pn(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Ee]=n,De(m),u=m}n.stateNode=u}else vE(f,n.type,n.stateNode);else n.stateNode=gE(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?vE(f,n.type,n.stateNode):gE(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Xm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Jn(r,n),ti(n),u&512&&(ke||a===null||Zi(a,a.return)),a!==null&&u&4&&Xm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Jn(r,n),ti(n),u&512&&(ke||a===null||Zi(a,a.return)),n.flags&32){f=n.stateNode;try{ui(f,"")}catch($){pe(n,n.return,$)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Xm(n,f,a!==null?a.memoizedProps:f)),u&1024&&(Jm=!0);break;case 6:if(Jn(r,n),ti(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch($){pe(n,n.return,$)}}break;case 3:if(of=null,f=Oi,Oi=sf(r.containerInfo),Jn(r,n),Oi=f,ti(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Zu(r.containerInfo)}catch($){pe(n,n.return,$)}Jm&&(Jm=!1,w0(n));break;case 4:u=Oi,Oi=sf(n.stateNode.containerInfo),Jn(r,n),ti(n),Oi=u;break;case 12:Jn(r,n),ti(n);break;case 13:Jn(r,n),ti(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ap=ve()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,tp(n,u)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,K=jr,J=ke;if(jr=K||f,ke=J||D,Jn(r,n),ke=J,jr=K,ti(n),u&8192)t:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||jr||ke||Fa(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(m=D.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=D.stateNode;var nt=D.memoizedProps.style,Q=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch($){pe(D,D.return,$)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch($){pe(D,D.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,tp(n,a))));break;case 19:Jn(r,n),ti(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,tp(n,u)));break;case 30:break;case 21:break;default:Jn(r,n),ti(n)}}function ti(n){var r=n.flags;if(r&2){try{for(var a,u=n.return;u!==null;){if(g0(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Wm(n);Gh(n,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(ui(T,""),a.flags&=-33);var S=Wm(n);Gh(n,S,T);break;case 3:case 4:var D=a.stateNode.containerInfo,K=Wm(n);Zm(n,K,D);break;default:throw Error(s(161))}}catch(J){pe(n,n.return,J)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function w0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;w0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ss(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)_0(n,r.alternate,r),r=r.sibling}function Fa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:bs(4,r,r.return),Fa(r);break;case 1:Zi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&m0(r,r.return,a),Fa(r);break;case 27:qu(r.stateNode);case 26:case 5:Zi(r,r.return),Fa(r);break;case 22:r.memoizedState===null&&Fa(r);break;case 30:Fa(r);break;default:Fa(r)}n=n.sibling}}function ws(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:ws(f,m,a),ku(4,m);break;case 1:if(ws(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){pe(u,u.return,K)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Jv(D[f],S)}catch(K){pe(u,u.return,K)}}a&&T&64&&d0(m),Vu(m,m.return);break;case 27:y0(m);case 26:case 5:ws(f,m,a),a&&u===null&&T&4&&p0(m),Vu(m,m.return);break;case 12:ws(f,m,a);break;case 13:ws(f,m,a),a&&T&4&&b0(f,m);break;case 22:m.memoizedState===null&&ws(f,m,a),Vu(m,m.return);break;case 30:break;default:ws(f,m,a)}r=r.sibling}}function ep(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Eu(a))}function np(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Eu(n))}function Ji(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A0(n,r,a,u),r=r.sibling}function A0(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(n,r,a,u),f&2048&&ku(9,r);break;case 1:Ji(n,r,a,u);break;case 3:Ji(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Eu(n)));break;case 12:if(f&2048){Ji(n,r,a,u),n=r.stateNode;try{var m=r.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){pe(r,r.return,D)}}else Ji(n,r,a,u);break;case 13:Ji(n,r,a,u);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?Ji(n,r,a,u):Pu(n,r):m._visibility&2?Ji(n,r,a,u):(m._visibility|=2,Xo(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&ep(T,r);break;case 24:Ji(n,r,a,u),f&2048&&np(r.alternate,r);break;default:Ji(n,r,a,u)}}function Xo(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,T=r,S=a,D=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Xo(m,T,S,D,f),ku(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?Xo(m,T,S,D,f):Pu(m,T):(J._visibility|=2,Xo(m,T,S,D,f)),f&&K&2048&&ep(T.alternate,T);break;case 24:Xo(m,T,S,D,f),f&&K&2048&&np(T.alternate,T);break;default:Xo(m,T,S,D,f)}r=r.sibling}}function Pu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Pu(a,u),f&2048&&ep(u.alternate,u);break;case 24:Pu(a,u),f&2048&&np(u.alternate,u);break;default:Pu(a,u)}r=r.sibling}}var Lu=8192;function Wo(n){if(n.subtreeFlags&Lu)for(n=n.child;n!==null;)R0(n),n=n.sibling}function R0(n){switch(n.tag){case 26:Wo(n),n.flags&Lu&&n.memoizedState!==null&&aC(Oi,n.memoizedState,n.memoizedProps);break;case 5:Wo(n);break;case 3:case 4:var r=Oi;Oi=sf(n.stateNode.containerInfo),Wo(n),Oi=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Lu,Lu=16777216,Wo(n),Lu=r):Wo(n));break;default:Wo(n)}}function C0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Uu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];an=u,x0(u,n)}C0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)I0(n),n=n.sibling}function I0(n){switch(n.tag){case 0:case 11:case 15:Uu(n),n.flags&2048&&bs(9,n,n.return);break;case 3:Uu(n);break;case 12:Uu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Kh(n)):Uu(n);break;default:Uu(n)}}function Kh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];an=u,x0(u,n)}C0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:bs(8,r,r.return),Kh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Kh(r));break;default:Kh(r)}n=n.sibling}}function x0(n,r){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:bs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Eu(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,an=u;else t:for(a=n;an!==null;){u=an;var f=u.sibling,m=u.return;if(E0(u),u===a){an=null;break t}if(f!==null){f.return=m,an=f;break t}an=m}}}var bR={getCacheForType:function(n){var r=En(Ye),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},SR=typeof WeakMap=="function"?WeakMap:Map,ue=0,ge=null,Kt=null,Jt=0,ce=0,ei=null,As=!1,Zo=!1,ip=!1,zr=0,Ie=0,Rs=0,qa=0,rp=0,vi=0,Jo=0,ju=null,Fn=null,sp=!1,ap=0,Qh=1/0,$h=null,Cs=null,mn=0,Is=null,tl=null,el=0,op=0,lp=null,O0=null,Bu=0,up=null;function ni(){if((ue&2)!==0&&Jt!==0)return Jt&-Jt;if(F.T!==null){var n=Ho;return n!==0?n:gp()}return Yn()}function N0(){vi===0&&(vi=(Jt&536870912)===0||re?Bn():536870912);var n=yi.current;return n!==null&&(n.flags|=32),vi}function ii(n,r,a){(n===ge&&(ce===2||ce===9)||n.cancelPendingCommit!==null)&&(nl(n,0),xs(n,Jt,vi,!1)),li(n,a),((ue&2)===0||n!==ge)&&(n===ge&&((ue&2)===0&&(qa|=a),Ie===4&&xs(n,Jt,vi,!1)),tr(n))}function D0(n,r,a){if((ue&6)!==0)throw Error(s(327));var u=!a&&(r&124)===0&&(r&n.expiredLanes)===0||yr(n,r),f=u?RR(n,r):fp(n,r,!0),m=u;do{if(f===0){Zo&&!u&&xs(n,r,0,!1);break}else{if(a=n.current.alternate,m&&!wR(a)){f=fp(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=n;f=ju;var D=S.current.memoizedState.isDehydrated;if(D&&(nl(S,T).flags|=256),T=fp(S,T,!1),T!==2){if(ip&&!D){S.errorRecoveryDisabledLanes|=m,qa|=m,f=4;break t}m=Fn,Fn=f,m!==null&&(Fn===null?Fn=m:Fn.push.apply(Fn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){nl(n,0),xs(n,r,0,!0);break}t:{switch(u=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:xs(u,r,vi,!As);break t;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=ap+300-ve(),10<f)){if(xs(u,r,vi,!As),gr(u,0,!0)!==0)break t;u.timeoutHandle=oE(M0.bind(null,u,a,Fn,$h,sp,r,vi,qa,Jo,As,m,2,-0,0),f);break t}M0(u,a,Fn,$h,sp,r,vi,qa,Jo,As,m,0,-0,0)}}break}while(!0);tr(n)}function M0(n,r,a,u,f,m,T,S,D,K,J,nt,Q,$){if(n.timeoutHandle=-1,nt=r.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Qu={stylesheets:null,count:0,unsuspend:sC},R0(r),nt=oC(),nt!==null)){n.cancelPendingCommit=nt(B0.bind(null,n,r,m,a,u,f,T,S,D,J,1,Q,$)),xs(n,m,T,!K);return}B0(n,r,m,a,u,f,T,S,D)}function wR(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!Wn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xs(n,r,a,u){r&=~rp,r&=~qa,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var m=31-Le(f),T=1<<m;u[m]=-1,f&=~T}a!==0&&wt(n,a,r)}function Yh(){return(ue&6)===0?(zu(0),!1):!0}function cp(){if(Kt!==null){if(ce===0)var n=Kt.return;else n=Kt,Mr=Ua=null,Cm(n),$o=null,Nu=0,n=Kt;for(;n!==null;)f0(n.alternate,n),n=n.return;Kt=null}}function nl(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,HR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),cp(),ge=n,Kt=a=Or(n.current,null),Jt=r,ce=0,ei=null,As=!1,Zo=yr(n,r),ip=!1,Jo=vi=rp=qa=Rs=Ie=0,Fn=ju=null,sp=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-Le(u),m=1<<f;r|=n[f],u&=~m}return zr=r,yh(),a}function k0(n,r){Bt=null,F.H=Ph,r===bu||r===Rh?(r=Wv(),ce=3):r===$v?(r=Wv(),ce=4):ce=r===Z_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ei=r,Kt===null&&(Ie=1,zh(n,di(r,n.current)))}function V0(){var n=F.H;return F.H=Ph,n===null?Ph:n}function P0(){var n=F.A;return F.A=bR,n}function hp(){Ie=4,As||(Jt&4194048)!==Jt&&yi.current!==null||(Zo=!0),(Rs&134217727)===0&&(qa&134217727)===0||ge===null||xs(ge,Jt,vi,!1)}function fp(n,r,a){var u=ue;ue|=2;var f=V0(),m=P0();(ge!==n||Jt!==r)&&($h=null,nl(n,r)),r=!1;var T=Ie;t:do try{if(ce!==0&&Kt!==null){var S=Kt,D=ei;switch(ce){case 8:cp(),T=6;break t;case 3:case 2:case 9:case 6:yi.current===null&&(r=!0);var K=ce;if(ce=0,ei=null,il(n,S,D,K),a&&Zo){T=0;break t}break;default:K=ce,ce=0,ei=null,il(n,S,D,K)}}AR(),T=Ie;break}catch(J){k0(n,J)}while(!0);return r&&n.shellSuspendCounter++,Mr=Ua=null,ue=u,F.H=f,F.A=m,Kt===null&&(ge=null,Jt=0,yh()),T}function AR(){for(;Kt!==null;)L0(Kt)}function RR(n,r){var a=ue;ue|=2;var u=V0(),f=P0();ge!==n||Jt!==r?($h=null,Qh=ve()+500,nl(n,r)):Zo=yr(n,r);t:do try{if(ce!==0&&Kt!==null){r=Kt;var m=ei;e:switch(ce){case 1:ce=0,ei=null,il(n,r,m,1);break;case 2:case 9:if(Yv(m)){ce=0,ei=null,U0(r);break}r=function(){ce!==2&&ce!==9||ge!==n||(ce=7),tr(n)},m.then(r,r);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:Yv(m)?(ce=0,ei=null,U0(r)):(ce=0,ei=null,il(n,r,m,7));break;case 5:var T=null;switch(Kt.tag){case 26:T=Kt.memoizedState;case 5:case 27:var S=Kt;if(!T||_E(T)){ce=0,ei=null;var D=S.sibling;if(D!==null)Kt=D;else{var K=S.return;K!==null?(Kt=K,Xh(K)):Kt=null}break e}}ce=0,ei=null,il(n,r,m,5);break;case 6:ce=0,ei=null,il(n,r,m,6);break;case 8:cp(),Ie=6;break t;default:throw Error(s(462))}}CR();break}catch(J){k0(n,J)}while(!0);return Mr=Ua=null,F.H=u,F.A=f,ue=a,Kt!==null?0:(ge=null,Jt=0,yh(),Ie)}function CR(){for(;Kt!==null&&!ee();)L0(Kt)}function L0(n){var r=c0(n.alternate,n,zr);n.memoizedProps=n.pendingProps,r===null?Xh(n):Kt=r}function U0(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=r0(a,r,r.pendingProps,r.type,void 0,Jt);break;case 11:r=r0(a,r,r.pendingProps,r.type.render,r.ref,Jt);break;case 5:Cm(r);default:f0(a,r),r=Kt=jv(r,zr),r=c0(a,r,zr)}n.memoizedProps=n.pendingProps,r===null?Xh(n):Kt=r}function il(n,r,a,u){Mr=Ua=null,Cm(r),$o=null,Nu=0;var f=r.return;try{if(gR(n,f,r,a,Jt)){Ie=1,zh(n,di(a,n.current)),Kt=null;return}}catch(m){if(f!==null)throw Kt=f,m;Ie=1,zh(n,di(a,n.current)),Kt=null;return}r.flags&32768?(re||u===1?n=!0:Zo||(Jt&536870912)!==0?n=!1:(As=n=!0,(u===2||u===9||u===3||u===6)&&(u=yi.current,u!==null&&u.tag===13&&(u.flags|=16384))),j0(r,n)):Xh(r)}function Xh(n){var r=n;do{if((r.flags&32768)!==0){j0(r,As);return}n=r.return;var a=vR(r.alternate,r,zr);if(a!==null){Kt=a;return}if(r=r.sibling,r!==null){Kt=r;return}Kt=r=n}while(r!==null);Ie===0&&(Ie=5)}function j0(n,r){do{var a=_R(n.alternate,n);if(a!==null){a.flags&=32767,Kt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Kt=n;return}Kt=n=a}while(n!==null);Ie=6,Kt=null}function B0(n,r,a,u,f,m,T,S,D){n.cancelPendingCommit=null;do Wh();while(mn!==0);if((ue&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=nm,us(n,a,m,T,S,D),n===ge&&(Kt=ge=null,Jt=0),tl=r,Is=n,el=a,op=m,lp=f,O0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,NR(Si,function(){return G0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=F.T,F.T=null,f=lt.p,lt.p=2,T=ue,ue|=4;try{ER(n,r,a)}finally{ue=T,lt.p=f,F.T=u}}mn=1,z0(),H0(),F0()}}function z0(){if(mn===1){mn=0;var n=Is,r=tl,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var u=lt.p;lt.p=2;var f=ue;ue|=4;try{S0(r,n);var m=wp,T=xv(n.containerInfo),S=m.focusedElem,D=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&Iv(S.ownerDocument.documentElement,S)){if(D!==null&&Wd(S)){var K=D.start,J=D.end;if(J===void 0&&(J=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(J,S.value.length);else{var nt=S.ownerDocument||document,Q=nt&&nt.defaultView||window;if(Q.getSelection){var $=Q.getSelection(),Ot=S.textContent.length,At=Math.min(D.start,Ot),me=D.end===void 0?At:Math.min(D.end,Ot);!$.extend&&At>me&&(T=me,me=At,At=T);var z=Cv(S,At),j=Cv(S,me);if(z&&j&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var G=nt.createRange();G.setStart(z.node,z.offset),$.removeAllRanges(),At>me?($.addRange(G),$.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),$.addRange(G))}}}}for(nt=[],$=S;$=$.parentNode;)$.nodeType===1&&nt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var tt=nt[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}cf=!!Sp,wp=Sp=null}finally{ue=f,lt.p=u,F.T=a}}n.current=r,mn=2}}function H0(){if(mn===2){mn=0;var n=Is,r=tl,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var u=lt.p;lt.p=2;var f=ue;ue|=4;try{_0(n,r.alternate,r)}finally{ue=f,lt.p=u,F.T=a}}mn=3}}function F0(){if(mn===4||mn===3){mn=0,oi();var n=Is,r=tl,a=el,u=O0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?mn=5:(mn=0,tl=Is=null,q0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Cs=null),Ue(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(_t,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=F.T,f=lt.p,lt.p=2,F.T=null;try{for(var m=n.onRecoverableError,T=0;T<u.length;T++){var S=u[T];m(S.value,{componentStack:S.stack})}}finally{F.T=r,lt.p=f}}(el&3)!==0&&Wh(),tr(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===up?Bu++:(Bu=0,up=n):Bu=0,zu(0)}}function q0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Eu(r)))}function Wh(n){return z0(),H0(),F0(),G0()}function G0(){if(mn!==5)return!1;var n=Is,r=op;op=0;var a=Ue(el),u=F.T,f=lt.p;try{lt.p=32>a?32:a,F.T=null,a=lp,lp=null;var m=Is,T=el;if(mn=0,tl=Is=null,el=0,(ue&6)!==0)throw Error(s(331));var S=ue;if(ue|=4,I0(m.current),A0(m,m.current,T,a),ue=S,zu(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(_t,m)}catch{}return!0}finally{lt.p=f,F.T=u,q0(n,r)}}function K0(n,r,a){r=di(a,r),r=zm(n.stateNode,r,2),n=vs(n,r,2),n!==null&&(li(n,2),tr(n))}function pe(n,r,a){if(n.tag===3)K0(n,n,a);else for(;r!==null;){if(r.tag===3){K0(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Cs===null||!Cs.has(u))){n=di(a,n),a=X_(2),u=vs(r,a,2),u!==null&&(W_(a,u,r,n),li(u,2),tr(u));break}}r=r.return}}function dp(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new SR;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(ip=!0,f.add(a),n=IR.bind(null,n,r,a),r.then(n,n))}function IR(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ge===n&&(Jt&a)===a&&(Ie===4||Ie===3&&(Jt&62914560)===Jt&&300>ve()-ap?(ue&2)===0&&nl(n,0):rp|=a,Jo===Jt&&(Jo=0)),tr(n)}function Q0(n,r){r===0&&(r=ga()),n=Uo(n,r),n!==null&&(li(n,r),tr(n))}function xR(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Q0(n,a)}function OR(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Q0(n,a)}function NR(n,r){return In(n,r)}var Zh=null,rl=null,mp=!1,Jh=!1,pp=!1,Ga=0;function tr(n){n!==rl&&n.next===null&&(rl===null?Zh=rl=n:rl=rl.next=n),Jh=!0,mp||(mp=!0,MR())}function zu(n,r){if(!pp&&Jh){pp=!0;do for(var a=!1,u=Zh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Le(42|n)+1)-1,m&=f&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,W0(u,m))}else m=Jt,m=gr(u,u===ge?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||yr(u,m)||(a=!0,W0(u,m));u=u.next}while(a);pp=!1}}function DR(){$0()}function $0(){Jh=mp=!1;var n=0;Ga!==0&&(zR()&&(n=Ga),Ga=0);for(var r=ve(),a=null,u=Zh;u!==null;){var f=u.next,m=Y0(u,r);m===0?(u.next=null,a===null?Zh=f:a.next=f,f===null&&(rl=a)):(a=u,(n!==0||(m&3)!==0)&&(Jh=!0)),u=f}zu(n)}function Y0(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Le(m),S=1<<T,D=f[T];D===-1?((S&a)===0||(S&u)!==0)&&(f[T]=vr(S,r)):D<=r&&(n.expiredLanes|=S),m&=~S}if(r=ge,a=Jt,a=gr(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===r&&(ce===2||ce===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&en(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||yr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&en(u),Ue(a)){case 2:case 8:a=Ui;break;case 32:a=Si;break;case 268435456:a=xn;break;default:a=Si}return u=X0.bind(null,n),a=In(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&en(u),n.callbackPriority=2,n.callbackNode=null,2}function X0(n,r){if(mn!==0&&mn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Wh()&&n.callbackNode!==a)return null;var u=Jt;return u=gr(n,n===ge?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(D0(n,u,r),Y0(n,ve()),n.callbackNode!=null&&n.callbackNode===a?X0.bind(null,n):null)}function W0(n,r){if(Wh())return null;D0(n,r,!0)}function MR(){FR(function(){(ue&6)!==0?In(cn,DR):$0()})}function gp(){return Ga===0&&(Ga=Bn()),Ga}function Z0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ro(""+n)}function J0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function kR(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var m=Z0((f[ne]||null).action),T=u.submitter;T&&(r=(r=T[ne]||null)?Z0(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var S=new Co("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ga!==0){var D=T?J0(f,T):new FormData(f);Pm(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=T?J0(f,T):new FormData(f),Pm(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var yp=0;yp<em.length;yp++){var vp=em[yp],VR=vp.toLowerCase(),PR=vp[0].toUpperCase()+vp.slice(1);xi(VR,"on"+PR)}xi(Dv,"onAnimationEnd"),xi(Mv,"onAnimationIteration"),xi(kv,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(JA,"onTransitionRun"),xi(tR,"onTransitionStart"),xi(eR,"onTransitionCancel"),xi(Vv,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hu));function tE(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;t:{var m=void 0;if(r)for(var T=u.length-1;0<=T;T--){var S=u[T],D=S.instance,K=S.currentTarget;if(S=S.listener,D!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=K;try{m(f)}catch(J){Bh(J)}f.currentTarget=null,m=D}else for(T=0;T<u.length;T++){if(S=u[T],D=S.instance,K=S.currentTarget,S=S.listener,D!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=K;try{m(f)}catch(J){Bh(J)}f.currentTarget=null,m=D}}}}function Qt(n,r){var a=r[cs];a===void 0&&(a=r[cs]=new Set);var u=n+"__bubble";a.has(u)||(eE(r,n,2,!1),a.add(u))}function _p(n,r,a){var u=0;r&&(u|=4),eE(a,n,u,r)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Ep(n){if(!n[tf]){n[tf]=!0,tu.forEach(function(a){a!=="selectionchange"&&(LR.has(a)||_p(a,!1,n),_p(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[tf]||(r[tf]=!0,_p("selectionchange",!1,r))}}function eE(n,r,a,u){switch(AE(r)){case 2:var f=cC;break;case 8:f=hC;break;default:f=kp}a=f.bind(null,r,a,n),f=void 0,!hi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Tp(n,r,a,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=u.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=Er(S),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){u=m=T;continue t}S=S.parentNode}}u=u.return}nh(function(){var K=m,J=ci(a),nt=[];t:{var Q=Pv.get(n);if(Q!==void 0){var $=Co,Ot=n;switch(n){case"keypress":if(Gi(a)===0)break t;case"keydown":case"keyup":$=Mo;break;case"focusin":Ot="focus",$=Oo;break;case"focusout":Ot="blur",$=Oo;break;case"beforeblur":case"afterblur":$=Oo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=ch;break;case Dv:case Mv:case kv:$=No;break;case Vv:$=fh;break;case"scroll":case"scrollend":$=ih;break;case"wheel":$=ko;break;case"copy":case"cut":case"paste":$=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=fu;break;case"toggle":case"beforetoggle":$=mh}var At=(r&4)!==0,me=!At&&(n==="scroll"||n==="scrollend"),z=At?Q!==null?Q+"Capture":null:Q;At=[];for(var j=K,G;j!==null;){var tt=j;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||z===null||(tt=wa(j,z),tt!=null&&At.push(Fu(j,tt,G))),me)break;j=j.return}0<At.length&&(Q=new $(Q,Ot,null,a,J),nt.push({event:Q,listeners:At}))}}if((r&7)===0){t:{if(Q=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",Q&&a!==wr&&(Ot=a.relatedTarget||a.fromElement)&&(Er(Ot)||Ot[Te]))break t;if(($||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,$?(Ot=a.relatedTarget||a.toElement,$=K,Ot=Ot?Er(Ot):null,Ot!==null&&(me=l(Ot),At=Ot.tag,Ot!==me||At!==5&&At!==27&&At!==6)&&(Ot=null)):($=null,Ot=K),$!==Ot)){if(At=fi,tt="onMouseLeave",z="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(At=fu,tt="onPointerLeave",z="onPointerEnter",j="pointer"),me=$==null?Q:zi($),G=Ot==null?Q:zi(Ot),Q=new At(tt,j+"leave",$,a,J),Q.target=me,Q.relatedTarget=G,tt=null,Er(J)===K&&(At=new At(z,j+"enter",Ot,a,J),At.target=G,At.relatedTarget=me,tt=At),me=tt,$&&Ot)e:{for(At=$,z=Ot,j=0,G=At;G;G=sl(G))j++;for(G=0,tt=z;tt;tt=sl(tt))G++;for(;0<j-G;)At=sl(At),j--;for(;0<G-j;)z=sl(z),G--;for(;j--;){if(At===z||z!==null&&At===z.alternate)break e;At=sl(At),z=sl(z)}At=null}else At=null;$!==null&&nE(nt,Q,$,At,!1),Ot!==null&&me!==null&&nE(nt,me,Ot,At,!0)}}t:{if(Q=K?zi(K):window,$=Q.nodeName&&Q.nodeName.toLowerCase(),$==="select"||$==="input"&&Q.type==="file")var vt=Tv;else if($e(Q))if(bv)vt=XA;else{vt=$A;var Ft=QA}else $=Q.nodeName,!$||$.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&su(K.elementType)&&(vt=Tv):vt=YA;if(vt&&(vt=vt(n,K))){xr(nt,vt,a,J);break t}Ft&&Ft(n,Q,K),n==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&ds(Q,"number",Q.value)}switch(Ft=K?zi(K):window,n){case"focusin":($e(Ft)||Ft.contentEditable==="true")&&(Vo=Ft,Zd=K,pu=null);break;case"focusout":pu=Zd=Vo=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,Ov(nt,a,J);break;case"selectionchange":if(ZA)break;case"keydown":case"keyup":Ov(nt,a,J)}var Et;if($i)t:{switch(n){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Wt?X(n,a)&&(Ct="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(E&&a.locale!=="ko"&&(Wt||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Wt&&(Et=ou()):(qi=J,ms="value"in qi?qi.value:qi.textContent,Wt=!0)),Ft=ef(K,Ct),0<Ft.length&&(Ct=new cu(Ct,n,null,a,J),nt.push({event:Ct,listeners:Ft}),Et?Ct.data=Et:(Et=mt(a),Et!==null&&(Ct.data=Et)))),(Et=y?Qe(n,a):Zt(n,a))&&(Ct=ef(K,"onBeforeInput"),0<Ct.length&&(Ft=new cu("onBeforeInput","beforeinput",null,a,J),nt.push({event:Ft,listeners:Ct}),Ft.data=Et)),kR(nt,n,K,a,J)}tE(nt,r)})}function Fu(n,r,a){return{instance:n,listener:r,currentTarget:a}}function ef(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=wa(n,a),f!=null&&u.unshift(Fu(n,f,m)),f=wa(n,r),f!=null&&u.push(Fu(n,f,m))),n.tag===3)return u;n=n.return}return[]}function sl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function nE(n,r,a,u,f){for(var m=r._reactName,T=[];a!==null&&a!==u;){var S=a,D=S.alternate,K=S.stateNode;if(S=S.tag,D!==null&&D===u)break;S!==5&&S!==26&&S!==27||K===null||(D=K,f?(K=wa(a,m),K!=null&&T.unshift(Fu(a,K,D))):f||(K=wa(a,m),K!=null&&T.push(Fu(a,K,D)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var UR=/\r\n?/g,jR=/\u0000|\uFFFD/g;function iE(n){return(typeof n=="string"?n:""+n).replace(UR,`
`).replace(jR,"")}function rE(n,r){return r=iE(r),iE(n)===r}function nf(){}function de(n,r,a,u,f,m){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ui(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ui(n,""+u);break;case"className":Hi(n,"class",u);break;case"tabIndex":Hi(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(n,a,u);break;case"style":ru(n,u,m);break;case"data":if(r!=="object"){Hi(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ro(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&de(n,r,"name",f.name,f,null),de(n,r,"formEncType",f.formEncType,f,null),de(n,r,"formMethod",f.formMethod,f,null),de(n,r,"formTarget",f.formTarget,f,null)):(de(n,r,"encType",f.encType,f,null),de(n,r,"method",f.method,f,null),de(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ro(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=nf);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Ro(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Qt("beforetoggle",n),Qt("toggle",n),fs(n,"popover",u);break;case"xlinkActuate":hn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":hn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":hn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":hn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":hn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":hn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":hn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":hn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":hn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":fs(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gd.get(a)||a,fs(n,a,u))}}function bp(n,r,a,u,f,m){switch(a){case"style":ru(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?ui(n,u):(typeof u=="number"||typeof u=="bigint")&&ui(n,""+u);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=nf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[ne]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break t}a in n?n[a]=u:u===!0?n.setAttribute(a,""):fs(n,a,u)}}}function pn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",n),Qt("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:de(n,r,m,T,a,null)}}f&&de(n,r,"srcSet",a.srcSet,a,null),u&&de(n,r,"src",a.src,a,null);return;case"input":Qt("invalid",n);var S=m=T=f=null,D=null,K=null;for(u in a)if(a.hasOwnProperty(u)){var J=a[u];if(J!=null)switch(u){case"name":f=J;break;case"type":T=J;break;case"checked":D=J;break;case"defaultChecked":K=J;break;case"value":m=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:de(n,r,u,J,a,null)}}Ta(n,m,S,D,K,T,f,!1),Ao(n);return;case"select":Qt("invalid",n),u=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:de(n,r,f,S,a,null)}r=m,a=T,n.multiple=!!u,r!=null?Sr(n,!!u,r,!1):a!=null&&Sr(n,!!u,a,!0);return;case"textarea":Qt("invalid",n),m=f=u=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:de(n,r,T,S,a,null)}ba(n,u,f,m),Ao(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:de(n,r,D,u,a,null)}return;case"dialog":Qt("beforetoggle",n),Qt("toggle",n),Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":Qt("load",n);break;case"video":case"audio":for(u=0;u<Hu.length;u++)Qt(Hu[u],n);break;case"image":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"embed":case"source":case"link":Qt("error",n),Qt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(u=a[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:de(n,r,K,u,a,null)}return;default:if(su(r)){for(J in a)a.hasOwnProperty(J)&&(u=a[J],u!==void 0&&bp(n,r,J,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&de(n,r,S,u,a,null))}function BR(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,S=null,D=null,K=null,J=null;for($ in a){var nt=a[$];if(a.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=nt;default:u.hasOwnProperty($)||de(n,r,$,null,u,nt)}}for(var Q in u){var $=u[Q];if(nt=a[Q],u.hasOwnProperty(Q)&&($!=null||nt!=null))switch(Q){case"type":m=$;break;case"name":f=$;break;case"checked":K=$;break;case"defaultChecked":J=$;break;case"value":T=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==nt&&de(n,r,Q,$,u,nt)}}Xn(n,T,S,D,K,J,m,f);return;case"select":$=T=S=Q=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":$=D;default:u.hasOwnProperty(m)||de(n,r,m,null,u,D)}for(f in u)if(m=u[f],D=a[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":Q=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==D&&de(n,r,f,m,u,D)}r=S,a=T,u=$,Q!=null?Sr(n,!!a,Q,!1):!!u!=!!a&&(r!=null?Sr(n,!!a,r,!0):Sr(n,!!a,a?[]:"",!1));return;case"textarea":$=Q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:de(n,r,S,null,u,f)}for(T in u)if(f=u[T],m=a[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":Q=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&de(n,r,T,f,u,m)}he(n,Q,$);return;case"option":for(var Ot in a)if(Q=a[Ot],a.hasOwnProperty(Ot)&&Q!=null&&!u.hasOwnProperty(Ot))switch(Ot){case"selected":n.selected=!1;break;default:de(n,r,Ot,null,u,Q)}for(D in u)if(Q=u[D],$=a[D],u.hasOwnProperty(D)&&Q!==$&&(Q!=null||$!=null))switch(D){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:de(n,r,D,Q,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)Q=a[At],a.hasOwnProperty(At)&&Q!=null&&!u.hasOwnProperty(At)&&de(n,r,At,null,u,Q);for(K in u)if(Q=u[K],$=a[K],u.hasOwnProperty(K)&&Q!==$&&(Q!=null||$!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:de(n,r,K,Q,u,$)}return;default:if(su(r)){for(var me in a)Q=a[me],a.hasOwnProperty(me)&&Q!==void 0&&!u.hasOwnProperty(me)&&bp(n,r,me,void 0,u,Q);for(J in u)Q=u[J],$=a[J],!u.hasOwnProperty(J)||Q===$||Q===void 0&&$===void 0||bp(n,r,J,Q,u,$);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!u.hasOwnProperty(z)&&de(n,r,z,null,u,Q);for(nt in u)Q=u[nt],$=a[nt],!u.hasOwnProperty(nt)||Q===$||Q==null&&$==null||de(n,r,nt,Q,u,$)}var Sp=null,wp=null;function rf(n){return n.nodeType===9?n:n.ownerDocument}function sE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aE(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Ap(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rp=null;function zR(){var n=window.event;return n&&n.type==="popstate"?n===Rp?!1:(Rp=n,!0):(Rp=null,!1)}var oE=typeof setTimeout=="function"?setTimeout:void 0,HR=typeof clearTimeout=="function"?clearTimeout:void 0,lE=typeof Promise=="function"?Promise:void 0,FR=typeof queueMicrotask=="function"?queueMicrotask:typeof lE<"u"?function(n){return lE.resolve(null).then(n).catch(qR)}:oE;function qR(n){setTimeout(function(){throw n})}function Os(n){return n==="head"}function uE(n,r){var a=r,u=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<u&&8>u){a=u;var T=n.ownerDocument;if(a&1&&qu(T.documentElement),a&2&&qu(T.body),a&4)for(a=T.head,qu(a),T=a.firstChild;T;){var S=T.nextSibling,D=T.nodeName;T[ya]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(f===0){n.removeChild(m),Zu(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=m}while(a);Zu(r)}function Cp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cp(a),hs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function GR(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ya])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Ni(n.nextSibling),n===null)break}return null}function KR(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Ni(n.nextSibling),n===null))return null;return n}function Ip(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function QR(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Ni(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var xp=null;function cE(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function hE(n,r,a){switch(r=rf(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function qu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);hs(n)}var _i=new Map,fE=new Set;function sf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Hr=lt.d;lt.d={f:$R,r:YR,D:XR,C:WR,L:ZR,m:JR,X:eC,S:tC,M:nC};function $R(){var n=Hr.f(),r=Yh();return n||r}function YR(n){var r=Bi(n);r!==null&&r.tag===5&&r.type==="form"?D_(r):Hr.r(n)}var al=typeof document>"u"?null:document;function dE(n,r,a){var u=al;if(u&&typeof r=="string"&&r){var f=je(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),fE.has(f)||(fE.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),pn(r,"link",n),De(r),u.head.appendChild(r)))}}function XR(n){Hr.D(n),dE("dns-prefetch",n,null)}function WR(n,r){Hr.C(n,r),dE("preconnect",n,r)}function ZR(n,r,a){Hr.L(n,r,a);var u=al;if(u&&n&&r){var f='link[rel="preload"][as="'+je(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+je(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+je(a.imageSizes)+'"]')):f+='[href="'+je(n)+'"]';var m=f;switch(r){case"style":m=ol(n);break;case"script":m=ll(n)}_i.has(m)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),_i.set(m,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Gu(m))||r==="script"&&u.querySelector(Ku(m))||(r=u.createElement("link"),pn(r,"link",n),De(r),u.head.appendChild(r)))}}function JR(n,r){Hr.m(n,r);var a=al;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+je(u)+'"][href="'+je(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ll(n)}if(!_i.has(m)&&(n=_({rel:"modulepreload",href:n},r),_i.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ku(m)))return}u=a.createElement("link"),pn(u,"link",n),De(u),a.head.appendChild(u)}}}function tC(n,r,a){Hr.S(n,r,a);var u=al;if(u&&n){var f=On(u).hoistableStyles,m=ol(n);r=r||"default";var T=f.get(m);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(Gu(m)))S.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=_i.get(m))&&Op(n,a);var D=T=u.createElement("link");De(D),pn(D,"link",n),D._p=new Promise(function(K,J){D.onload=K,D.onerror=J}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,af(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(m,T)}}}function eC(n,r){Hr.X(n,r);var a=al;if(a&&n){var u=On(a).hoistableScripts,f=ll(n),m=u.get(f);m||(m=a.querySelector(Ku(f)),m||(n=_({src:n,async:!0},r),(r=_i.get(f))&&Np(n,r),m=a.createElement("script"),De(m),pn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function nC(n,r){Hr.M(n,r);var a=al;if(a&&n){var u=On(a).hoistableScripts,f=ll(n),m=u.get(f);m||(m=a.querySelector(Ku(f)),m||(n=_({src:n,async:!0,type:"module"},r),(r=_i.get(f))&&Np(n,r),m=a.createElement("script"),De(m),pn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function mE(n,r,a,u){var f=(f=pt.current)?sf(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ol(a.href),a=On(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ol(a.href);var m=On(f).hoistableStyles,T=m.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=f.querySelector(Gu(n)))&&!m._p&&(T.instance=m,T.state.loading=5),_i.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},_i.set(n,a),m||iC(f,n,a,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ll(a),a=On(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ol(n){return'href="'+je(n)+'"'}function Gu(n){return'link[rel="stylesheet"]['+n+"]"}function pE(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function iC(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),pn(r,"link",a),De(r),n.head.appendChild(r))}function ll(n){return'[src="'+je(n)+'"]'}function Ku(n){return"script[async]"+n}function gE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+je(a.href)+'"]');if(u)return r.instance=u,De(u),u;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),De(u),pn(u,"style",f),af(u,a.precedence,n),r.instance=u;case"stylesheet":f=ol(a.href);var m=n.querySelector(Gu(f));if(m)return r.state.loading|=4,r.instance=m,De(m),m;u=pE(a),(f=_i.get(f))&&Op(u,f),m=(n.ownerDocument||n).createElement("link"),De(m);var T=m;return T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),pn(m,"link",u),r.state.loading|=4,af(m,a.precedence,n),r.instance=m;case"script":return m=ll(a.src),(f=n.querySelector(Ku(m)))?(r.instance=f,De(f),f):(u=a,(f=_i.get(m))&&(u=_({},a),Np(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),De(f),pn(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,af(u,a.precedence,n));return r.instance}function af(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Op(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Np(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var of=null;function yE(n,r,a){if(of===null){var u=new Map,f=of=new Map;f.set(a,u)}else f=of,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[ya]||m[Ee]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=n+T;var S=u.get(T);S?S.push(m):u.set(T,[m])}}return u}function vE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function rC(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function _E(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Qu=null;function sC(){}function aC(n,r,a){if(Qu===null)throw Error(s(475));var u=Qu;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=ol(a.href),m=n.querySelector(Gu(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=lf.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=m,De(m);return}m=n.ownerDocument||n,a=pE(a),(f=_i.get(f))&&Op(a,f),m=m.createElement("link"),De(m);var T=m;T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),pn(m,"link",a),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=lf.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function oC(){if(Qu===null)throw Error(s(475));var n=Qu;return n.stylesheets&&n.count===0&&Dp(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Dp(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function lf(){if(this.count--,this.count===0){if(this.stylesheets)Dp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uf=null;function Dp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uf=new Map,r.forEach(lC,n),uf=null,lf.call(n))}function lC(n,r){if(!(r.state.loading&4)){var a=uf.get(n);if(a)var u=a.get(null);else{a=new Map,uf.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||u,m===u&&a.set(null,f),a.set(T,f),this.count++,u=lf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var $u={$$typeof:W,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function uC(n,r,a,u,f,m,T,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function EE(n,r,a,u,f,m,T,S,D,K,J,nt){return n=new uC(n,r,a,T,S,D,K,nt),r=1,m===!0&&(r|=24),m=Zn(3,null,null,r),n.current=m,m.stateNode=n,r=dm(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:r},ym(m),n}function TE(n){return n?(n=jo,n):jo}function bE(n,r,a,u,f,m){f=TE(f),u.context===null?u.context=f:u.pendingContext=f,u=ys(r),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=vs(n,u,r),a!==null&&(ii(a,n,r),wu(a,n,r))}function SE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Mp(n,r){SE(n,r),(n=n.alternate)&&SE(n,r)}function wE(n){if(n.tag===13){var r=Uo(n,67108864);r!==null&&ii(r,n,67108864),Mp(n,67108864)}}var cf=!0;function cC(n,r,a,u){var f=F.T;F.T=null;var m=lt.p;try{lt.p=2,kp(n,r,a,u)}finally{lt.p=m,F.T=f}}function hC(n,r,a,u){var f=F.T;F.T=null;var m=lt.p;try{lt.p=8,kp(n,r,a,u)}finally{lt.p=m,F.T=f}}function kp(n,r,a,u){if(cf){var f=Vp(u);if(f===null)Tp(n,r,u,hf,a),RE(n,u);else if(dC(f,n,r,a,u))u.stopPropagation();else if(RE(n,u),r&4&&-1<fC.indexOf(n)){for(;f!==null;){var m=Bi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=jn(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var D=1<<31-Le(T);S.entanglements[1]|=D,T&=~D}tr(m),(ue&6)===0&&(Qh=ve()+500,zu(0))}}break;case 13:S=Uo(m,2),S!==null&&ii(S,m,2),Yh(),Mp(m,2)}if(m=Vp(u),m===null&&Tp(n,r,u,hf,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else Tp(n,r,u,null,a)}}function Vp(n){return n=ci(n),Pp(n)}var hf=null;function Pp(n){if(hf=null,n=Er(n),n!==null){var r=l(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return hf=n,null}function AE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case cn:return 2;case Ui:return 8;case Si:case Ge:return 32;case xn:return 268435456;default:return 32}default:return 32}}var Lp=!1,Ns=null,Ds=null,Ms=null,Yu=new Map,Xu=new Map,ks=[],fC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RE(n,r){switch(n){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Yu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(r.pointerId)}}function Wu(n,r,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Bi(r),r!==null&&wE(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function dC(n,r,a,u,f){switch(r){case"focusin":return Ns=Wu(Ns,n,r,a,u,f),!0;case"dragenter":return Ds=Wu(Ds,n,r,a,u,f),!0;case"mouseover":return Ms=Wu(Ms,n,r,a,u,f),!0;case"pointerover":var m=f.pointerId;return Yu.set(m,Wu(Yu.get(m)||null,n,r,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Xu.set(m,Wu(Xu.get(m)||null,n,r,a,u,f)),!0}return!1}function CE(n){var r=Er(n.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Re(n.priority,function(){if(a.tag===13){var u=ni();u=ye(u);var f=Uo(a,u);f!==null&&ii(f,a,u),Mp(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ff(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Vp(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);wr=u,a.target.dispatchEvent(u),wr=null}else return r=Bi(a),r!==null&&wE(r),n.blockedOn=a,!1;r.shift()}return!0}function IE(n,r,a){ff(n)&&a.delete(r)}function mC(){Lp=!1,Ns!==null&&ff(Ns)&&(Ns=null),Ds!==null&&ff(Ds)&&(Ds=null),Ms!==null&&ff(Ms)&&(Ms=null),Yu.forEach(IE),Xu.forEach(IE)}function df(n,r){n.blockedOn===r&&(n.blockedOn=null,Lp||(Lp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mC)))}var mf=null;function xE(n){mf!==n&&(mf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){mf===n&&(mf=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Pp(u||a)===null)continue;break}var m=Bi(a);m!==null&&(n.splice(r,3),r-=3,Pm(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Zu(n){function r(D){return df(D,n)}Ns!==null&&df(Ns,n),Ds!==null&&df(Ds,n),Ms!==null&&df(Ms,n),Yu.forEach(r),Xu.forEach(r);for(var a=0;a<ks.length;a++){var u=ks[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ks.length&&(a=ks[0],a.blockedOn===null);)CE(a),a.blockedOn===null&&ks.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],T=f[ne]||null;if(typeof m=="function")T||xE(a);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[ne]||null)S=T.formAction;else if(Pp(f)!==null)continue}else S=T.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),xE(a)}}}function Up(n){this._internalRoot=n}pf.prototype.render=Up.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=ni();bE(a,u,n,r,null,null)},pf.prototype.unmount=Up.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;bE(n.current,2,null,n,null,null),Yh(),r[Te]=null}};function pf(n){this._internalRoot=n}pf.prototype.unstable_scheduleHydration=function(n){if(n){var r=Yn();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ks.length&&r!==0&&r<ks[a].priority;a++);ks.splice(a,0,n),a===0&&CE(n)}};var OE=t.version;if(OE!=="19.1.0")throw Error(s(527,OE,"19.1.0"));lt.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var pC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{_t=gf.inject(pC),Ht=gf}catch{}}return tc.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=K_,m=Q_,T=$_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=EE(n,1,!1,null,null,a,u,f,m,T,S,null),n[Te]=r.current,Ep(n),new Up(r)},tc.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=K_,T=Q_,S=$_,D=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),r=EE(n,1,!0,r,a??null,u,f,m,T,S,D,K),r.context=TE(null),a=r.current,u=ni(),u=ye(u),f=ys(u),f.callback=null,vs(a,f,u),a=u,r.current.lanes=a,li(r,a),tr(r),n[Te]=r.current,Ep(n),new pf(r)},tc.version="19.1.0",tc}var zE;function wC(){if(zE)return Hp.exports;zE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Hp.exports=SC(),Hp.exports}var AC=wC();const RC=(i=!0)=>{const t=I.useRef(i),[e,s]=I.useState(t.current?"dark":"light"),o=I.useCallback(()=>{t.current=!t.current,s(t.current?"dark":"light")},[]);return[e,o]};var Kp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var HE;function CC(){return HE||(HE=1,function(i){(function(){var t={}.hasOwnProperty;function e(){for(var l="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(l=o(l,s(d)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return e.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var d in l)t.call(l,d)&&l[d]&&(h=o(h,d));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(e.default=e,i.exports=e):window.classNames=e})()}(Kp)),Kp.exports}var IC=CC();const Dt=pd(IC);function dg(){return dg=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},dg.apply(null,arguments)}function nS(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)!==-1)continue;e[s]=i[s]}return e}function FE(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function xC(i){var t=OC(i,"string");return typeof t=="symbol"?t:String(t)}function OC(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var s=e.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function NC(i,t,e){var s=I.useRef(i!==void 0),o=I.useState(t),l=o[0],h=o[1],d=i!==void 0,p=s.current;return s.current=d,!d&&p&&l!==t&&h(t),[d?i:l,I.useCallback(function(g){for(var _=arguments.length,v=new Array(_>1?_-1:0),b=1;b<_;b++)v[b-1]=arguments[b];e&&e.apply(void 0,[g].concat(v)),h(g)},[e])]}function ay(i,t){return Object.keys(t).reduce(function(e,s){var o,l=e,h=l[FE(s)],d=l[s],p=nS(l,[FE(s),s].map(xC)),g=t[s],_=NC(d,h,i[g]),v=_[0],b=_[1];return dg({},p,(o={},o[s]=v,o[g]=b,o))},i)}function mg(i,t){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},mg(i,t)}function DC(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,mg(i,t)}const MC=["xxl","xl","lg","md","sm","xs"],kC="xs",kc=I.createContext({prefixes:{},breakpoints:MC,minBreakpoint:kC}),{Consumer:jP,Provider:BP}=kc;function Ut(i,t){const{prefixes:e}=I.useContext(kc);return i||e[t]||t}function VC(){const{breakpoints:i}=I.useContext(kc);return i}function PC(){const{minBreakpoint:i}=I.useContext(kc);return i}function LC(){const{dir:i}=I.useContext(kc);return i==="rtl"}function gd(i){return i&&i.ownerDocument||document}function UC(i){var t=gd(i);return t&&t.defaultView||window}function jC(i,t){return UC(i).getComputedStyle(i,t)}var BC=/([A-Z])/g;function zC(i){return i.replace(BC,"-$1").toLowerCase()}var HC=/^ms-/;function vf(i){return zC(i).replace(HC,"-ms-")}var FC=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function qC(i){return!!(i&&FC.test(i))}function Xr(i,t){var e="",s="";if(typeof t=="string")return i.style.getPropertyValue(vf(t))||jC(i).getPropertyValue(vf(t));Object.keys(t).forEach(function(o){var l=t[o];!l&&l!==0?i.style.removeProperty(vf(o)):qC(o)?s+=o+"("+l+") ":e+=vf(o)+": "+l+";"}),s&&(e+="transform: "+s+";"),i.style.cssText+=";"+e}var Qp={exports:{}},$p,qE;function GC(){if(qE)return $p;qE=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $p=i,$p}var Yp,GE;function KC(){if(GE)return Yp;GE=1;var i=GC();function t(){}function e(){}return e.resetWarningCache=t,Yp=function(){function s(h,d,p,g,_,v){if(v!==i){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},Yp}var KE;function QC(){return KE||(KE=1,Qp.exports=KC()()),Qp.exports}var $C=QC();const Wr=pd($C);var YC=eS();const $a=pd(YC),QE={disabled:!1},iS=ct.createContext(null);var XC=function(t){return t.scrollTop},nc="unmounted",Us="exited",ki="entering",Kr="entered",gc="exiting",ss=function(i){DC(t,i);function t(s,o){var l;l=i.call(this,s,o)||this;var h=o,d=h&&!h.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?d?(p=Us,l.appearStatus=ki):p=Kr:s.unmountOnExit||s.mountOnEnter?p=nc:p=Us,l.state={status:p},l.nextCallback=null,l}t.getDerivedStateFromProps=function(o,l){var h=o.in;return h&&l.status===nc?{status:Us}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(o){var l=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==ki&&h!==Kr&&(l=ki):(h===ki||h===Kr)&&(l=gc)}this.updateStatus(!1,l)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o=this.props.timeout,l,h,d;return l=h=d=o,o!=null&&typeof o!="number"&&(l=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:l,enter:h,appear:d}},e.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===ki){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:$a.findDOMNode(this);h&&XC(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Us&&this.setState({status:nc})},e.performEnter=function(o){var l=this,h=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[$a.findDOMNode(this),d],g=p[0],_=p[1],v=this.getTimeouts(),b=d?v.appear:v.enter;if(!o&&!h||QE.disabled){this.safeSetState({status:Kr},function(){l.props.onEntered(g)});return}this.props.onEnter(g,_),this.safeSetState({status:ki},function(){l.props.onEntering(g,_),l.onTransitionEnd(b,function(){l.safeSetState({status:Kr},function(){l.props.onEntered(g,_)})})})},e.performExit=function(){var o=this,l=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:$a.findDOMNode(this);if(!l||QE.disabled){this.safeSetState({status:Us},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:gc},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:Us},function(){o.props.onExited(d)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},e.setNextCallback=function(o){var l=this,h=!0;return this.nextCallback=function(d){h&&(h=!1,l.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},e.onTransitionEnd=function(o,l){this.setNextCallback(l);var h=this.props.nodeRef?this.props.nodeRef.current:$a.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],_=p[1];this.props.addEndListener(g,_)}o!=null&&setTimeout(this.nextCallback,o)},e.render=function(){var o=this.state.status;if(o===nc)return null;var l=this.props,h=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=nS(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ct.createElement(iS.Provider,{value:null},typeof h=="function"?h(o,d):ct.cloneElement(ct.Children.only(h),d))},t}(ct.Component);ss.contextType=iS;ss.propTypes={};function ul(){}ss.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ul,onEntering:ul,onEntered:ul,onExit:ul,onExiting:ul,onExited:ul};ss.UNMOUNTED=nc;ss.EXITED=Us;ss.ENTERING=ki;ss.ENTERED=Kr;ss.EXITING=gc;function WC(i){return i.code==="Escape"||i.keyCode===27}function ZC(){const i=I.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Hl(i){if(!i||typeof i=="function")return null;const{major:t}=ZC();return t>=19?i.props.ref:i.ref}const Fl=!!(typeof window<"u"&&window.document&&window.document.createElement);var pg=!1,gg=!1;try{var Xp={get passive(){return pg=!0},get once(){return gg=pg=!0}};Fl&&(window.addEventListener("test",Xp,Xp),window.removeEventListener("test",Xp,!0))}catch{}function rS(i,t,e,s){if(s&&typeof s!="boolean"&&!gg){var o=s.once,l=s.capture,h=e;!gg&&o&&(h=e.__once||function d(p){this.removeEventListener(t,d,l),e.call(this,p)},e.__once=h),i.addEventListener(t,h,pg?s:l)}i.addEventListener(t,e,s)}function yg(i,t,e,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(t,e,o),e.__once&&i.removeEventListener(t,e.__once,o)}function zf(i,t,e,s){return rS(i,t,e,s),function(){yg(i,t,e,s)}}function JC(i,t,e,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(t,e,s),i.dispatchEvent(o)}}function tI(i){var t=Xr(i,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function eI(i,t,e){e===void 0&&(e=5);var s=!1,o=setTimeout(function(){s||JC(i,"transitionend",!0)},t+e),l=zf(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function sS(i,t,e,s){e==null&&(e=tI(i)||0);var o=eI(i,e,s),l=zf(i,"transitionend",t);return function(){o(),l()}}function $E(i,t){const e=Xr(i,t)||"",s=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*s}function oy(i,t){const e=$E(i,"transitionDuration"),s=$E(i,"transitionDelay"),o=sS(i,l=>{l.target===i&&(o(),t(l))},e+s)}function ec(...i){return i.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...o){t.apply(this,o),e.apply(this,o)}},null)}function aS(i){i.offsetHeight}const YE=i=>!i||typeof i=="function"?i:t=>{i.current=t};function nI(i,t){const e=YE(i),s=YE(t);return o=>{e&&e(o),s&&s(o)}}function oS(i,t){return I.useMemo(()=>nI(i,t),[i,t])}function iI(i){return i&&"setState"in i?$a.findDOMNode(i):i??null}const yd=ct.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:s,onExiting:o,onExited:l,addEndListener:h,children:d,childRef:p,...g},_)=>{const v=I.useRef(null),b=oS(v,p),M=ut=>{b(iI(ut))},B=ut=>k=>{ut&&v.current&&ut(v.current,k)},H=I.useCallback(B(i),[i]),O=I.useCallback(B(t),[t]),et=I.useCallback(B(e),[e]),ot=I.useCallback(B(s),[s]),W=I.useCallback(B(o),[o]),st=I.useCallback(B(l),[l]),at=I.useCallback(B(h),[h]);return A.jsx(ss,{ref:_,...g,onEnter:H,onEntered:et,onEntering:O,onExit:ot,onExited:st,onExiting:W,addEndListener:at,nodeRef:v,children:typeof d=="function"?(ut,k)=>d(ut,{...k,ref:M}):ct.cloneElement(d,{ref:M})})});yd.displayName="TransitionWrapper";const rI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function sI(i,t){const e=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=t[e],o=rI[i];return s+parseInt(Xr(t,o[0]),10)+parseInt(Xr(t,o[1]),10)}const aI={[Us]:"collapse",[gc]:"collapsing",[ki]:"collapsing",[Kr]:"collapse show"},ly=ct.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:s,onExiting:o,className:l,children:h,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:_=!1,unmountOnExit:v=!1,appear:b=!1,getDimensionValue:M=sI,...B},H)=>{const O=typeof d=="function"?d():d,et=I.useMemo(()=>ec(ut=>{ut.style[O]="0"},i),[O,i]),ot=I.useMemo(()=>ec(ut=>{const k=`scroll${O[0].toUpperCase()}${O.slice(1)}`;ut.style[O]=`${ut[k]}px`},t),[O,t]),W=I.useMemo(()=>ec(ut=>{ut.style[O]=null},e),[O,e]),st=I.useMemo(()=>ec(ut=>{ut.style[O]=`${M(O,ut)}px`,aS(ut)},s),[s,M,O]),at=I.useMemo(()=>ec(ut=>{ut.style[O]=null},o),[O,o]);return A.jsx(yd,{ref:H,addEndListener:oy,...B,"aria-expanded":B.role?p:null,onEnter:et,onEntering:ot,onEntered:W,onExit:st,onExiting:at,childRef:Hl(h),in:p,timeout:g,mountOnEnter:_,unmountOnExit:v,appear:b,children:(ut,k)=>ct.cloneElement(h,{...k,className:Dt(l,h.props.className,aI[ut],O==="width"&&"collapse-horizontal")})})});ly.displayName="Collapse";function lS(i,t){return Array.isArray(i)?i.includes(t):i===t}const Vc=I.createContext({});Vc.displayName="AccordionContext";const uy=I.forwardRef(({as:i="div",bsPrefix:t,className:e,children:s,eventKey:o,...l},h)=>{const{activeEventKey:d}=I.useContext(Vc);return t=Ut(t,"accordion-collapse"),A.jsx(ly,{ref:h,in:lS(d,o),...l,className:Dt(e,t),children:A.jsx(i,{children:I.Children.only(s)})})});uy.displayName="AccordionCollapse";const vd=I.createContext({eventKey:""});vd.displayName="AccordionItemContext";const uS=I.forwardRef(({as:i="div",bsPrefix:t,className:e,onEnter:s,onEntering:o,onEntered:l,onExit:h,onExiting:d,onExited:p,...g},_)=>{t=Ut(t,"accordion-body");const{eventKey:v}=I.useContext(vd);return A.jsx(uy,{eventKey:v,onEnter:s,onEntering:o,onEntered:l,onExit:h,onExiting:d,onExited:p,children:A.jsx(i,{ref:_,...g,className:Dt(e,t)})})});uS.displayName="AccordionBody";function oI(i,t){const{activeEventKey:e,onSelect:s,alwaysOpen:o}=I.useContext(Vc);return l=>{let h=i===e?null:i;o&&(Array.isArray(e)?e.includes(i)?h=e.filter(d=>d!==i):h=[...e,i]:h=[i]),s==null||s(h,l),t==null||t(l)}}const cy=I.forwardRef(({as:i="button",bsPrefix:t,className:e,onClick:s,...o},l)=>{t=Ut(t,"accordion-button");const{eventKey:h}=I.useContext(vd),d=oI(h,s),{activeEventKey:p}=I.useContext(Vc);return i==="button"&&(o.type="button"),A.jsx(i,{ref:l,onClick:d,...o,"aria-expanded":Array.isArray(p)?p.includes(h):h===p,className:Dt(e,t,!lS(p,h)&&"collapsed")})});cy.displayName="AccordionButton";const cS=I.forwardRef(({as:i="h2","aria-controls":t,bsPrefix:e,className:s,children:o,onClick:l,...h},d)=>(e=Ut(e,"accordion-header"),A.jsx(i,{ref:d,...h,className:Dt(s,e),children:A.jsx(cy,{onClick:l,"aria-controls":t,children:o})})));cS.displayName="AccordionHeader";const hS=I.forwardRef(({as:i="div",bsPrefix:t,className:e,eventKey:s,...o},l)=>{t=Ut(t,"accordion-item");const h=I.useMemo(()=>({eventKey:s}),[s]);return A.jsx(vd.Provider,{value:h,children:A.jsx(i,{ref:l,...o,className:Dt(e,t)})})});hS.displayName="AccordionItem";const fS=I.forwardRef((i,t)=>{const{as:e="div",activeKey:s,bsPrefix:o,className:l,onSelect:h,flush:d,alwaysOpen:p,...g}=ay(i,{activeKey:"onSelect"}),_=Ut(o,"accordion"),v=I.useMemo(()=>({activeEventKey:s,onSelect:h,alwaysOpen:p}),[s,h,p]);return A.jsx(Vc.Provider,{value:v,children:A.jsx(e,{ref:t,...g,className:Dt(l,_,d&&`${_}-flush`)})})});fS.displayName="Accordion";const _f=Object.assign(fS,{Button:cy,Collapse:uy,Item:hS,Header:cS,Body:uS});var dS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XE=ct.createContext&&ct.createContext(dS),lI=["attr","size","title"];function uI(i,t){if(i==null)return{};var e=cI(i,t),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)s=l[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(e[s]=i[s])}return e}function cI(i,t){if(i==null)return{};var e={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function Hf(){return Hf=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},Hf.apply(this,arguments)}function WE(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),e.push.apply(e,s)}return e}function Ff(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(e),!0).forEach(function(s){hI(i,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):WE(Object(e)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(e,s))})}return i}function hI(i,t,e){return t=fI(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function fI(i){var t=dI(i,"string");return typeof t=="symbol"?t:t+""}function dI(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var s=e.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function mS(i){return i&&i.map((t,e)=>ct.createElement(t.tag,Ff({key:e},t.attr),mS(t.child)))}function Pc(i){return t=>ct.createElement(mI,Hf({attr:Ff({},i.attr)},t),mS(i.child))}function mI(i){var t=e=>{var{attr:s,size:o,title:l}=i,h=uI(i,lI),d=o||e.size||"1em",p;return e.className&&(p=e.className),i.className&&(p=(p?p+" ":"")+i.className),ct.createElement("svg",Hf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,h,{className:p,style:Ff(Ff({color:i.color||e.color},e.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ct.createElement("title",null,l),i.children)};return XE!==void 0?ct.createElement(XE.Consumer,null,e=>t(e)):t(dS)}function pI(i){return Pc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(i)}function gI(i){return Pc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(i)}function yI(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}const vI=i=>{switch(i){case"success":return TI;case"info":return SI;case"warning":return bI;case"error":return wI;default:return null}},_I=Array(12).fill(0),EI=({visible:i,className:t})=>ct.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},ct.createElement("div",{className:"sonner-spinner"},_I.map((e,s)=>ct.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),TI=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bI=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SI=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wI=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),AI=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ct.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ct.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),RI=()=>{const[i,t]=ct.useState(document.hidden);return ct.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),i};let vg=1;class CI{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:s,...o}=t,l=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:vg++,h=this.toasts.find(p=>p.id===l),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),h?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...t,id:l,title:s}),{...p,...t,id:l,dismissible:d,title:s}):p):this.addToast({title:s,...o,dismissible:d,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let l=s!==void 0,h;const d=o.then(async g=>{if(h=["resolve",g],ct.isValidElement(g))l=!1,this.create({id:s,type:"default",message:g});else if(xI(g)&&!g.ok){l=!1;const v=typeof e.error=="function"?await e.error(`HTTP error! status: ${g.status}`):e.error,b=typeof e.description=="function"?await e.description(`HTTP error! status: ${g.status}`):e.description,B=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:b,...B})}else if(g instanceof Error){l=!1;const v=typeof e.error=="function"?await e.error(g):e.error,b=typeof e.description=="function"?await e.description(g):e.description,B=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:b,...B})}else if(e.success!==void 0){l=!1;const v=typeof e.success=="function"?await e.success(g):e.success,b=typeof e.description=="function"?await e.description(g):e.description,B=typeof v=="object"&&!ct.isValidElement(v)?v:{message:v};this.create({id:s,type:"success",description:b,...B})}}).catch(async g=>{if(h=["reject",g],e.error!==void 0){l=!1;const _=typeof e.error=="function"?await e.error(g):e.error,v=typeof e.description=="function"?await e.description(g):e.description,M=typeof _=="object"&&!ct.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:v,...M})}}).finally(()=>{l&&(this.dismiss(s),s=void 0),e.finally==null||e.finally.call(e)}),p=()=>new Promise((g,_)=>d.then(()=>h[0]==="reject"?_(h[1]):g(h[1])).catch(_));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(t,e)=>{const s=(e==null?void 0:e.id)||vg++;return this.create({jsx:t(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Kn=new CI,II=(i,t)=>{const e=(t==null?void 0:t.id)||vg++;return Kn.addToast({title:i,...t,id:e}),e},xI=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",OI=II,NI=()=>Kn.toasts,DI=()=>Kn.getActiveToasts(),ar=Object.assign(OI,{success:Kn.success,info:Kn.info,warning:Kn.warning,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading},{getHistory:NI,getToasts:DI});yI("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ef(i){return i.label!==void 0}const MI=3,kI="24px",VI="16px",ZE=4e3,PI=356,LI=14,UI=45,jI=200;function er(...i){return i.filter(Boolean).join(" ")}function BI(i){const[t,e]=i.split("-"),s=[];return t&&s.push(t),e&&s.push(e),s}const zI=i=>{var t,e,s,o,l,h,d,p,g;const{invert:_,toast:v,unstyled:b,interacting:M,setHeights:B,visibleToasts:H,heights:O,index:et,toasts:ot,expanded:W,removeToast:st,defaultRichColors:at,closeButton:ut,style:k,cancelButtonStyle:R,actionButtonStyle:C,className:N="",descriptionClassName:P="",duration:U,position:x,gap:kt,expandByDefault:jt,classNames:F,icons:lt,closeButtonAriaLabel:dt="Close toast"}=i,[It,V]=ct.useState(null),[Y,rt]=ct.useState(null),[Z,ft]=ct.useState(!1),[Tt,pt]=ct.useState(!1),[le,qt]=ct.useState(!1),[Ae,Ne]=ct.useState(!1),[_n,un]=ct.useState(!1),[In,en]=ct.useState(0),[ee,oi]=ct.useState(0),ve=ct.useRef(v.duration||U||ZE),os=ct.useRef(null),cn=ct.useRef(null),Ui=et===0,Si=et+1<=H,Ge=v.type,xn=v.dismissible!==!1,ji=v.className||"",ls=v.descriptionClassName||"",_t=ct.useMemo(()=>O.findIndex(wt=>wt.toastId===v.id)||0,[O,v.id]),Ht=ct.useMemo(()=>{var wt;return(wt=v.closeButton)!=null?wt:ut},[v.closeButton,ut]),Ke=ct.useMemo(()=>v.duration||U||ZE,[v.duration,U]),Le=ct.useRef(0),wi=ct.useRef(0),Eo=ct.useRef(0),Un=ct.useRef(null),[mr,pr]=x.split("-"),jn=ct.useMemo(()=>O.reduce((wt,_e,ye)=>ye>=_t?wt:wt+_e.height,0),[O,_t]),gr=RI(),yr=v.invert||_,vr=Ge==="loading";wi.current=ct.useMemo(()=>_t*kt+jn,[_t,jn]),ct.useEffect(()=>{ve.current=Ke},[Ke]),ct.useEffect(()=>{ft(!0)},[]),ct.useEffect(()=>{const wt=cn.current;if(wt){const _e=wt.getBoundingClientRect().height;return oi(_e),B(ye=>[{toastId:v.id,height:_e,position:v.position},...ye]),()=>B(ye=>ye.filter(Ue=>Ue.toastId!==v.id))}},[B,v.id]),ct.useLayoutEffect(()=>{if(!Z)return;const wt=cn.current,_e=wt.style.height;wt.style.height="auto";const ye=wt.getBoundingClientRect().height;wt.style.height=_e,oi(ye),B(Ue=>Ue.find(Re=>Re.toastId===v.id)?Ue.map(Re=>Re.toastId===v.id?{...Re,height:ye}:Re):[{toastId:v.id,height:ye,position:v.position},...Ue])},[Z,v.title,v.description,B,v.id,v.jsx,v.action,v.cancel]);const Bn=ct.useCallback(()=>{pt(!0),en(wi.current),B(wt=>wt.filter(_e=>_e.toastId!==v.id)),setTimeout(()=>{st(v)},jI)},[v,st,B,wi]);ct.useEffect(()=>{if(v.promise&&Ge==="loading"||v.duration===1/0||v.type==="loading")return;let wt;return W||M||gr?(()=>{if(Eo.current<Le.current){const Ue=new Date().getTime()-Le.current;ve.current=ve.current-Ue}Eo.current=new Date().getTime()})():(()=>{ve.current!==1/0&&(Le.current=new Date().getTime(),wt=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Bn()},ve.current))})(),()=>clearTimeout(wt)},[W,M,v,Ge,gr,Bn]),ct.useEffect(()=>{v.delete&&(Bn(),v.onDismiss==null||v.onDismiss.call(v,v))},[Bn,v.delete]);function ga(){var wt;if(lt!=null&&lt.loading){var _e;return ct.createElement("div",{className:er(F==null?void 0:F.loader,v==null||(_e=v.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":Ge==="loading"},lt.loading)}return ct.createElement(EI,{className:er(F==null?void 0:F.loader,v==null||(wt=v.classNames)==null?void 0:wt.loader),visible:Ge==="loading"})}const Ai=v.icon||(lt==null?void 0:lt[Ge])||vI(Ge);var li,us;return ct.createElement("li",{tabIndex:0,ref:cn,className:er(N,ji,F==null?void 0:F.toast,v==null||(t=v.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[Ge],v==null||(e=v.classNames)==null?void 0:e[Ge]),"data-sonner-toast":"","data-rich-colors":(li=v.richColors)!=null?li:at,"data-styled":!(v.jsx||v.unstyled||b),"data-mounted":Z,"data-promise":!!v.promise,"data-swiped":_n,"data-removed":Tt,"data-visible":Si,"data-y-position":mr,"data-x-position":pr,"data-index":et,"data-front":Ui,"data-swiping":le,"data-dismissible":xn,"data-type":Ge,"data-invert":yr,"data-swipe-out":Ae,"data-swipe-direction":Y,"data-expanded":!!(W||jt&&Z),style:{"--index":et,"--toasts-before":et,"--z-index":ot.length-et,"--offset":`${Tt?In:wi.current}px`,"--initial-height":jt?"auto":`${ee}px`,...k,...v.style},onDragEnd:()=>{qt(!1),V(null),Un.current=null},onPointerDown:wt=>{vr||!xn||(os.current=new Date,en(wi.current),wt.target.setPointerCapture(wt.pointerId),wt.target.tagName!=="BUTTON"&&(qt(!0),Un.current={x:wt.clientX,y:wt.clientY}))},onPointerUp:()=>{var wt,_e,ye;if(Ae||!xn)return;Un.current=null;const Ue=Number(((wt=cn.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yn=Number(((_e=cn.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Re=new Date().getTime()-((ye=os.current)==null?void 0:ye.getTime()),Gt=It==="x"?Ue:Yn,Ee=Math.abs(Gt)/Re;if(Math.abs(Gt)>=UI||Ee>.11){en(wi.current),v.onDismiss==null||v.onDismiss.call(v,v),rt(It==="x"?Ue>0?"right":"left":Yn>0?"down":"up"),Bn(),Ne(!0);return}else{var ne,Te;(ne=cn.current)==null||ne.style.setProperty("--swipe-amount-x","0px"),(Te=cn.current)==null||Te.style.setProperty("--swipe-amount-y","0px")}un(!1),qt(!1),V(null)},onPointerMove:wt=>{var _e,ye,Ue;if(!Un.current||!xn||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;const Re=wt.clientY-Un.current.y,Gt=wt.clientX-Un.current.x;var Ee;const ne=(Ee=i.swipeDirections)!=null?Ee:BI(x);!It&&(Math.abs(Gt)>1||Math.abs(Re)>1)&&V(Math.abs(Gt)>Math.abs(Re)?"x":"y");let Te={x:0,y:0};const cs=Ri=>1/(1.5+Math.abs(Ri)/20);if(It==="y"){if(ne.includes("top")||ne.includes("bottom"))if(ne.includes("top")&&Re<0||ne.includes("bottom")&&Re>0)Te.y=Re;else{const Ri=Re*cs(Re);Te.y=Math.abs(Ri)<Math.abs(Re)?Ri:Re}}else if(It==="x"&&(ne.includes("left")||ne.includes("right")))if(ne.includes("left")&&Gt<0||ne.includes("right")&&Gt>0)Te.x=Gt;else{const Ri=Gt*cs(Gt);Te.x=Math.abs(Ri)<Math.abs(Gt)?Ri:Gt}(Math.abs(Te.x)>0||Math.abs(Te.y)>0)&&un(!0),(ye=cn.current)==null||ye.style.setProperty("--swipe-amount-x",`${Te.x}px`),(Ue=cn.current)==null||Ue.style.setProperty("--swipe-amount-y",`${Te.y}px`)}},Ht&&!v.jsx&&Ge!=="loading"?ct.createElement("button",{"aria-label":dt,"data-disabled":vr,"data-close-button":!0,onClick:vr||!xn?()=>{}:()=>{Bn(),v.onDismiss==null||v.onDismiss.call(v,v)},className:er(F==null?void 0:F.closeButton,v==null||(s=v.classNames)==null?void 0:s.closeButton)},(us=lt==null?void 0:lt.close)!=null?us:AI):null,(Ge||v.icon||v.promise)&&v.icon!==null&&((lt==null?void 0:lt[Ge])!==null||v.icon)?ct.createElement("div",{"data-icon":"",className:er(F==null?void 0:F.icon,v==null||(o=v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||ga():null,v.type!=="loading"?Ai:null):null,ct.createElement("div",{"data-content":"",className:er(F==null?void 0:F.content,v==null||(l=v.classNames)==null?void 0:l.content)},ct.createElement("div",{"data-title":"",className:er(F==null?void 0:F.title,v==null||(h=v.classNames)==null?void 0:h.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?ct.createElement("div",{"data-description":"",className:er(P,ls,F==null?void 0:F.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),ct.isValidElement(v.cancel)?v.cancel:v.cancel&&Ef(v.cancel)?ct.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||R,onClick:wt=>{Ef(v.cancel)&&xn&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,wt),Bn())},className:er(F==null?void 0:F.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,ct.isValidElement(v.action)?v.action:v.action&&Ef(v.action)?ct.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||C,onClick:wt=>{Ef(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,wt),!wt.defaultPrevented&&Bn())},className:er(F==null?void 0:F.actionButton,v==null||(g=v.classNames)==null?void 0:g.actionButton)},v.action.label):null)};function JE(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function HI(i,t){const e={};return[i,t].forEach((s,o)=>{const l=o===1,h=l?"--mobile-offset":"--offset",d=l?VI:kI;function p(g){["top","right","bottom","left"].forEach(_=>{e[`${h}-${_}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?e[`${h}-${g}`]=d:e[`${h}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):p(d)}),e}const Lc=ct.forwardRef(function(t,e){const{invert:s,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:h,closeButton:d,className:p,offset:g,mobileOffset:_,theme:v="light",richColors:b,duration:M,style:B,visibleToasts:H=MI,toastOptions:O,dir:et=JE(),gap:ot=LI,icons:W,containerAriaLabel:st="Notifications"}=t,[at,ut]=ct.useState([]),k=ct.useMemo(()=>Array.from(new Set([o].concat(at.filter(Y=>Y.position).map(Y=>Y.position)))),[at,o]),[R,C]=ct.useState([]),[N,P]=ct.useState(!1),[U,x]=ct.useState(!1),[kt,jt]=ct.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=ct.useRef(null),lt=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),dt=ct.useRef(null),It=ct.useRef(!1),V=ct.useCallback(Y=>{ut(rt=>{var Z;return(Z=rt.find(ft=>ft.id===Y.id))!=null&&Z.delete||Kn.dismiss(Y.id),rt.filter(({id:ft})=>ft!==Y.id)})},[]);return ct.useEffect(()=>Kn.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{ut(rt=>rt.map(Z=>Z.id===Y.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{$a.flushSync(()=>{ut(rt=>{const Z=rt.findIndex(ft=>ft.id===Y.id);return Z!==-1?[...rt.slice(0,Z),{...rt[Z],...Y},...rt.slice(Z+1)]:[Y,...rt]})})})}),[at]),ct.useEffect(()=>{if(v!=="system"){jt(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?jt("dark"):jt("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:rt})=>{jt(rt?"dark":"light")})}catch{Y.addListener(({matches:Z})=>{try{jt(Z?"dark":"light")}catch(ft){console.error(ft)}})}},[v]),ct.useEffect(()=>{at.length<=1&&P(!1)},[at]),ct.useEffect(()=>{const Y=rt=>{var Z;if(l.every(pt=>rt[pt]||rt.code===pt)){var Tt;P(!0),(Tt=F.current)==null||Tt.focus()}rt.code==="Escape"&&(document.activeElement===F.current||(Z=F.current)!=null&&Z.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[l]),ct.useEffect(()=>{if(F.current)return()=>{dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null,It.current=!1)}},[F.current]),ct.createElement("section",{ref:e,"aria-label":`${st} ${lt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((Y,rt)=>{var Z;const[ft,Tt]=Y.split("-");return at.length?ct.createElement("ol",{key:Y,dir:et==="auto"?JE():et,tabIndex:-1,ref:F,className:p,"data-sonner-toaster":!0,"data-sonner-theme":kt,"data-y-position":ft,"data-x-position":Tt,style:{"--front-toast-height":`${((Z=R[0])==null?void 0:Z.height)||0}px`,"--width":`${PI}px`,"--gap":`${ot}px`,...B,...HI(g,_)},onBlur:pt=>{It.current&&!pt.currentTarget.contains(pt.relatedTarget)&&(It.current=!1,dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null))},onFocus:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||It.current||(It.current=!0,dt.current=pt.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{U||P(!1)},onDragEnd:()=>P(!1),onPointerDown:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||x(!0)},onPointerUp:()=>x(!1)},at.filter(pt=>!pt.position&&rt===0||pt.position===Y).map((pt,le)=>{var qt,Ae;return ct.createElement(zI,{key:pt.id,icons:W,index:le,toast:pt,defaultRichColors:b,duration:(qt=O==null?void 0:O.duration)!=null?qt:M,className:O==null?void 0:O.className,descriptionClassName:O==null?void 0:O.descriptionClassName,invert:s,visibleToasts:H,closeButton:(Ae=O==null?void 0:O.closeButton)!=null?Ae:d,interacting:U,position:Y,style:O==null?void 0:O.style,unstyled:O==null?void 0:O.unstyled,classNames:O==null?void 0:O.classNames,cancelButtonStyle:O==null?void 0:O.cancelButtonStyle,actionButtonStyle:O==null?void 0:O.actionButtonStyle,closeButtonAriaLabel:O==null?void 0:O.closeButtonAriaLabel,removeToast:V,toasts:at.filter(Ne=>Ne.position==pt.position),heights:R.filter(Ne=>Ne.position==pt.position),setHeights:C,expandByDefault:h,gap:ot,expanded:N,swipeDirections:t.swipeDirections})})):null}))}),pS=I.createContext({gameMode:"",setGameMode:()=>console.log("Failed to provide setGameMode.")}),ql=()=>I.useContext(pS),gS=I.createContext({currentUser:null,loading:!0}),Uc=()=>I.useContext(gS),Pe=Object.freeze({PRACTICE:"practice",CLASSIC:"classic",ROYALE:"royale"});function FI({togglePlayWordle:i,className:t=""}){const{gameMode:e,setGameMode:s}=ql(),{currentUser:o}=Uc(),[l,h]=I.useState(e),d=I.useRef(null),[p,g]=I.useState(!1);return I.useEffect(()=>{e!==l&&h(e)},[e]),I.useEffect(()=>{const _=v=>{d.current&&!d.current.contains(v.target)&&g(!1)};return document.addEventListener("mousedown",v=>_(v)),()=>document.addEventListener("mousedown",v=>_(v))},[]),A.jsxs(A.Fragment,{children:[A.jsx(Lc,{richColors:!0,position:"top-center"}),A.jsxs("div",{className:`game-mode-selector ${t}`,children:[A.jsx("div",{className:"play-btn flex-center",onClick:i,children:A.jsx(gI,{})}),A.jsx(_f,{activeKey:"true",className:"game-mode",ref:d,children:A.jsxs(_f.Item,{eventKey:String(p),style:{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},children:[A.jsx(_f.Header,{onClick:()=>{g(!p)},children:A.jsx("span",{className:"current-mode",children:l.toUpperCase()})}),A.jsx(_f.Body,{onExited:()=>{s(l)},children:A.jsx("ol",{children:Object.keys(Pe).map((_,v)=>Pe[_]===e?null:A.jsx("li",{className:`selector-list ${v+1===Object.keys(Pe).length&&"last"}`,onClick:()=>{o||Pe[_]===Pe.PRACTICE?(g(!1),h(Pe[_])):ar.warning("Log in to play.")},children:A.jsx("span",{className:"mode",children:Pe[_].toUpperCase()})},v))})})]})})]})]})}const qI=()=>{};var tT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},GI=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const o=i[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[e++];t[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[e++],h=i[e++],d=i[e++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[e++],h=i[e++];t[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return t.join("")},vS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=l>>2,v=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,M=g&63;p||(M=64,h||(b=64)),s.push(e[_],e[v],e[b],e[M])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(yS(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):GI(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=e[i.charAt(o++)],d=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const v=o<i.length?e[i.charAt(o)]:64;if(++o,l==null||d==null||g==null||v==null)throw new KI;const b=l<<2|d>>4;if(s.push(b),g!==64){const M=d<<4&240|g>>2;if(s.push(M),v!==64){const B=g<<6&192|v;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class KI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QI=function(i){const t=yS(i);return vS.encodeByteArray(t,!0)},qf=function(i){return QI(i).replace(/\./g,"")},_S=function(i){try{return vS.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=()=>$I().__FIREBASE_DEFAULTS__,XI=()=>{if(typeof process>"u"||typeof tT>"u")return;const i=tT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},WI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&_S(i[1]);return t&&JSON.parse(t)},_d=()=>{try{return qI()||YI()||XI()||WI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ES=i=>{var t,e;return(e=(t=_d())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},ZI=i=>{const t=ES(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},TS=()=>{var i;return(i=_d())===null||i===void 0?void 0:i.config},bS=i=>{var t;return(t=_d())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i){return i.endsWith(".cloudworkstations.dev")}async function SS(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[qf(JSON.stringify(e)),qf(JSON.stringify(h)),""].join(".")}const uc={};function e2(){const i={prod:[],emulator:[]};for(const t of Object.keys(uc))uc[t]?i.emulator.push(t):i.prod.push(t);return i}function n2(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let eT=!1;function wS(i,t){if(typeof window>"u"||typeof document>"u"||!Gl(window.location.host)||uc[i]===t||uc[i]||eT)return;uc[i]=t;function e(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=e2().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,M){b.setAttribute("width","24"),b.setAttribute("id",M),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{eT=!0,h()},b}function _(b,M){b.setAttribute("id",M),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=n2(s),M=e("text"),B=document.getElementById(M)||document.createElement("span"),H=e("learnmore"),O=document.getElementById(H)||document.createElement("a"),et=e("preprendIcon"),ot=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const W=b.element;d(W),_(O,H);const st=g();p(ot,et),W.append(ot,B,O,st),document.body.appendChild(W)}l?(B.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function r2(){var i;const t=(i=_d())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function o2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l2(){const i=Rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function u2(){return!r2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c2(){try{return typeof indexedDB=="object"}catch{return!1}}function h2(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="FirebaseError";class as extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=f2,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],h=l?d2(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new as(o,d,s)}}function d2(i,t){return i.replace(m2,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const m2=/\{\$([^}]+)}/g;function p2(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function so(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const l=i[o],h=t[o];if(nT(l)&&nT(h)){if(!so(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function nT(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(i){const t=[];for(const[e,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ic(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function rc(i){const t=i.indexOf("?");if(!t)return"";const e=i.indexOf("#",t);return i.substring(t,e>0?e:void 0)}function g2(i,t){const e=new y2(i,t);return e.subscribe.bind(e)}class y2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");v2(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=Wp),o.error===void 0&&(o.error=Wp),o.complete===void 0&&(o.complete=Wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v2(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(i){return i&&i._delegate?i._delegate:i}class ao{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new JI;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(T2(t))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(t=Ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ka){return this.instances.has(t)}getOptions(t=Ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(t,e){var s;const o=this.normalizeInstanceIdentifier(e),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&t(h,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:E2(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ka){return this.component?this.component.multipleInstances?t:Ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E2(i){return i===Ka?void 0:i}function T2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new _2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})($t||($t={}));const S2={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},w2=$t.INFO,A2={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},R2=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=A2[t];if(o)console[o](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hy{constructor(t){this.name=t,this._logLevel=w2,this._logHandler=R2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?S2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const C2=(i,t)=>t.some(e=>i instanceof e);let iT,rT;function I2(){return iT||(iT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x2(){return rT||(rT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AS=new WeakMap,_g=new WeakMap,RS=new WeakMap,Zp=new WeakMap,fy=new WeakMap;function O2(i){const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{e(ta(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&AS.set(e,i)}).catch(()=>{}),fy.set(t,i),t}function N2(i){if(_g.has(i))return;const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{e(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});_g.set(i,t)}let Eg={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return _g.get(i);if(t==="objectStoreNames")return i.objectStoreNames||RS.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ta(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function D2(i){Eg=i(Eg)}function M2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call(Jp(this),t,...e);return RS.set(s,t.sort?t.sort():[t]),ta(s)}:x2().includes(i)?function(...t){return i.apply(Jp(this),t),ta(AS.get(this))}:function(...t){return ta(i.apply(Jp(this),t))}}function k2(i){return typeof i=="function"?M2(i):(i instanceof IDBTransaction&&N2(i),C2(i,I2())?new Proxy(i,Eg):i)}function ta(i){if(i instanceof IDBRequest)return O2(i);if(Zp.has(i))return Zp.get(i);const t=k2(i);return t!==i&&(Zp.set(i,t),fy.set(t,i)),t}const Jp=i=>fy.get(i);function V2(i,t,{blocked:e,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,t),d=ta(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ta(h.result),p.oldVersion,p.newVersion,ta(h.transaction),p)}),e&&h.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const P2=["get","getKey","getAll","getAllKeys","count"],L2=["put","add","delete","clear"],tg=new Map;function sT(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(tg.get(t))return tg.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=L2.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||P2.includes(e)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return tg.set(t,l),l}D2(i=>({...i,get:(t,e,s)=>sT(t,e)||i.get(t,e,s),has:(t,e)=>!!sT(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(j2(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function j2(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Tg="@firebase/app",aT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new hy("@firebase/app"),B2="@firebase/app-compat",z2="@firebase/analytics-compat",H2="@firebase/analytics",F2="@firebase/app-check-compat",q2="@firebase/app-check",G2="@firebase/auth",K2="@firebase/auth-compat",Q2="@firebase/database",$2="@firebase/data-connect",Y2="@firebase/database-compat",X2="@firebase/functions",W2="@firebase/functions-compat",Z2="@firebase/installations",J2="@firebase/installations-compat",tx="@firebase/messaging",ex="@firebase/messaging-compat",nx="@firebase/performance",ix="@firebase/performance-compat",rx="@firebase/remote-config",sx="@firebase/remote-config-compat",ax="@firebase/storage",ox="@firebase/storage-compat",lx="@firebase/firestore",ux="@firebase/ai",cx="@firebase/firestore-compat",hx="firebase",fx="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="[DEFAULT]",dx={[Tg]:"fire-core",[B2]:"fire-core-compat",[H2]:"fire-analytics",[z2]:"fire-analytics-compat",[q2]:"fire-app-check",[F2]:"fire-app-check-compat",[G2]:"fire-auth",[K2]:"fire-auth-compat",[Q2]:"fire-rtdb",[$2]:"fire-data-connect",[Y2]:"fire-rtdb-compat",[X2]:"fire-fn",[W2]:"fire-fn-compat",[Z2]:"fire-iid",[J2]:"fire-iid-compat",[tx]:"fire-fcm",[ex]:"fire-fcm-compat",[nx]:"fire-perf",[ix]:"fire-perf-compat",[rx]:"fire-rc",[sx]:"fire-rc-compat",[ax]:"fire-gcs",[ox]:"fire-gcs-compat",[lx]:"fire-fst",[cx]:"fire-fst-compat",[ux]:"fire-vertex","fire-js":"fire-js",[hx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,mx=new Map,Sg=new Map;function oT(i,t){try{i.container.addComponent(t)}catch(e){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Ml(i){const t=i.name;if(Sg.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;Sg.set(t,i);for(const e of Gf.values())oT(e,i);for(const e of mx.values())oT(e,i);return!0}function dy(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function bi(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new jc("app","Firebase",px);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=fx;function CS(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:bg,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw ea.create("bad-app-name",{appName:String(o)});if(e||(e=TS()),!e)throw ea.create("no-options");const l=Gf.get(o);if(l){if(so(e,l.options)&&so(s,l.config))return l;throw ea.create("duplicate-app",{appName:o})}const h=new b2(o);for(const p of Sg.values())h.addComponent(p);const d=new gx(e,s,h);return Gf.set(o,d),d}function IS(i=bg){const t=Gf.get(i);if(!t&&i===bg&&TS())return CS();if(!t)throw ea.create("no-app",{appName:i});return t}function na(i,t,e){var s;let o=(s=dx[i])!==null&&s!==void 0?s:i;e&&(o+=`-${e}`);const l=o.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${t}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}Ml(new ao(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="firebase-heartbeat-database",vx=1,yc="firebase-heartbeat-store";let eg=null;function xS(){return eg||(eg=V2(yx,vx,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(yc)}catch(e){console.warn(e)}}}}).catch(i=>{throw ea.create("idb-open",{originalErrorMessage:i.message})})),eg}async function _x(i){try{const e=(await xS()).transaction(yc),s=await e.objectStore(yc).get(OS(i));return await e.done,s}catch(t){if(t instanceof as)ts.warn(t.message);else{const e=ea.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ts.warn(e.message)}}}async function lT(i,t){try{const s=(await xS()).transaction(yc,"readwrite");await s.objectStore(yc).put(t,OS(i)),await s.done}catch(e){if(e instanceof as)ts.warn(e.message);else{const s=ea.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ts.warn(s.message)}}}function OS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=1024,Tx=30;class bx{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new wx(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=uT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>Tx){const h=Ax(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ts.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uT(),{heartbeatsToSend:s,unsentEntries:o}=Sx(this._heartbeatsCache.heartbeats),l=qf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ts.warn(e),""}}}function uT(){return new Date().toISOString().substring(0,10)}function Sx(i,t=Ex){const e=[];let s=i.slice();for(const o of i){const l=e.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),cT(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),cT(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class wx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c2()?h2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await _x(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return lT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return lT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function cT(i){return qf(JSON.stringify({version:2,heartbeats:i})).length}function Ax(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(i){Ml(new ao("platform-logger",t=>new U2(t),"PRIVATE")),Ml(new ao("heartbeat",t=>new bx(t),"PRIVATE")),na(Tg,aT,i),na(Tg,aT,"esm2017"),na("fire-js","")}Rx("");var hT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ia,NS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,R){function C(){}C.prototype=R.prototype,k.D=R.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(N,P,U){for(var x=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)x[kt-2]=arguments[kt];return R.prototype[P].apply(N,x)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,R,C){C||(C=0);var N=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)N[P]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(P=0;16>P;++P)N[P]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=k.g[0],C=k.g[1],P=k.g[2];var U=k.g[3],x=R+(U^C&(P^U))+N[0]+3614090360&4294967295;R=C+(x<<7&4294967295|x>>>25),x=U+(P^R&(C^P))+N[1]+3905402710&4294967295,U=R+(x<<12&4294967295|x>>>20),x=P+(C^U&(R^C))+N[2]+606105819&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(R^P&(U^R))+N[3]+3250441966&4294967295,C=P+(x<<22&4294967295|x>>>10),x=R+(U^C&(P^U))+N[4]+4118548399&4294967295,R=C+(x<<7&4294967295|x>>>25),x=U+(P^R&(C^P))+N[5]+1200080426&4294967295,U=R+(x<<12&4294967295|x>>>20),x=P+(C^U&(R^C))+N[6]+2821735955&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(R^P&(U^R))+N[7]+4249261313&4294967295,C=P+(x<<22&4294967295|x>>>10),x=R+(U^C&(P^U))+N[8]+1770035416&4294967295,R=C+(x<<7&4294967295|x>>>25),x=U+(P^R&(C^P))+N[9]+2336552879&4294967295,U=R+(x<<12&4294967295|x>>>20),x=P+(C^U&(R^C))+N[10]+4294925233&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(R^P&(U^R))+N[11]+2304563134&4294967295,C=P+(x<<22&4294967295|x>>>10),x=R+(U^C&(P^U))+N[12]+1804603682&4294967295,R=C+(x<<7&4294967295|x>>>25),x=U+(P^R&(C^P))+N[13]+4254626195&4294967295,U=R+(x<<12&4294967295|x>>>20),x=P+(C^U&(R^C))+N[14]+2792965006&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(R^P&(U^R))+N[15]+1236535329&4294967295,C=P+(x<<22&4294967295|x>>>10),x=R+(P^U&(C^P))+N[1]+4129170786&4294967295,R=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(R^C))+N[6]+3225465664&4294967295,U=R+(x<<9&4294967295|x>>>23),x=P+(R^C&(U^R))+N[11]+643717713&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^R&(P^U))+N[0]+3921069994&4294967295,C=P+(x<<20&4294967295|x>>>12),x=R+(P^U&(C^P))+N[5]+3593408605&4294967295,R=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(R^C))+N[10]+38016083&4294967295,U=R+(x<<9&4294967295|x>>>23),x=P+(R^C&(U^R))+N[15]+3634488961&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^R&(P^U))+N[4]+3889429448&4294967295,C=P+(x<<20&4294967295|x>>>12),x=R+(P^U&(C^P))+N[9]+568446438&4294967295,R=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(R^C))+N[14]+3275163606&4294967295,U=R+(x<<9&4294967295|x>>>23),x=P+(R^C&(U^R))+N[3]+4107603335&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^R&(P^U))+N[8]+1163531501&4294967295,C=P+(x<<20&4294967295|x>>>12),x=R+(P^U&(C^P))+N[13]+2850285829&4294967295,R=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(R^C))+N[2]+4243563512&4294967295,U=R+(x<<9&4294967295|x>>>23),x=P+(R^C&(U^R))+N[7]+1735328473&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^R&(P^U))+N[12]+2368359562&4294967295,C=P+(x<<20&4294967295|x>>>12),x=R+(C^P^U)+N[5]+4294588738&4294967295,R=C+(x<<4&4294967295|x>>>28),x=U+(R^C^P)+N[8]+2272392833&4294967295,U=R+(x<<11&4294967295|x>>>21),x=P+(U^R^C)+N[11]+1839030562&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^R)+N[14]+4259657740&4294967295,C=P+(x<<23&4294967295|x>>>9),x=R+(C^P^U)+N[1]+2763975236&4294967295,R=C+(x<<4&4294967295|x>>>28),x=U+(R^C^P)+N[4]+1272893353&4294967295,U=R+(x<<11&4294967295|x>>>21),x=P+(U^R^C)+N[7]+4139469664&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^R)+N[10]+3200236656&4294967295,C=P+(x<<23&4294967295|x>>>9),x=R+(C^P^U)+N[13]+681279174&4294967295,R=C+(x<<4&4294967295|x>>>28),x=U+(R^C^P)+N[0]+3936430074&4294967295,U=R+(x<<11&4294967295|x>>>21),x=P+(U^R^C)+N[3]+3572445317&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^R)+N[6]+76029189&4294967295,C=P+(x<<23&4294967295|x>>>9),x=R+(C^P^U)+N[9]+3654602809&4294967295,R=C+(x<<4&4294967295|x>>>28),x=U+(R^C^P)+N[12]+3873151461&4294967295,U=R+(x<<11&4294967295|x>>>21),x=P+(U^R^C)+N[15]+530742520&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^R)+N[2]+3299628645&4294967295,C=P+(x<<23&4294967295|x>>>9),x=R+(P^(C|~U))+N[0]+4096336452&4294967295,R=C+(x<<6&4294967295|x>>>26),x=U+(C^(R|~P))+N[7]+1126891415&4294967295,U=R+(x<<10&4294967295|x>>>22),x=P+(R^(U|~C))+N[14]+2878612391&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~R))+N[5]+4237533241&4294967295,C=P+(x<<21&4294967295|x>>>11),x=R+(P^(C|~U))+N[12]+1700485571&4294967295,R=C+(x<<6&4294967295|x>>>26),x=U+(C^(R|~P))+N[3]+2399980690&4294967295,U=R+(x<<10&4294967295|x>>>22),x=P+(R^(U|~C))+N[10]+4293915773&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~R))+N[1]+2240044497&4294967295,C=P+(x<<21&4294967295|x>>>11),x=R+(P^(C|~U))+N[8]+1873313359&4294967295,R=C+(x<<6&4294967295|x>>>26),x=U+(C^(R|~P))+N[15]+4264355552&4294967295,U=R+(x<<10&4294967295|x>>>22),x=P+(R^(U|~C))+N[6]+2734768916&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~R))+N[13]+1309151649&4294967295,C=P+(x<<21&4294967295|x>>>11),x=R+(P^(C|~U))+N[4]+4149444226&4294967295,R=C+(x<<6&4294967295|x>>>26),x=U+(C^(R|~P))+N[11]+3174756917&4294967295,U=R+(x<<10&4294967295|x>>>22),x=P+(R^(U|~C))+N[2]+718787259&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~R))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+U&4294967295}s.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var C=R-this.blockSize,N=this.B,P=this.h,U=0;U<R;){if(P==0)for(;U<=C;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<R;)if(N[P++]=k.charCodeAt(U++),P==this.blockSize){o(this,N),P=0;break}}else for(;U<R;)if(N[P++]=k[U++],P==this.blockSize){o(this,N),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var C=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=C&255,C/=256;for(this.u(k),k=Array(16),R=C=0;4>R;++R)for(var N=0;32>N;N+=8)k[C++]=this.g[R]>>>N&255;return k};function l(k,R){var C=d;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=R(k)}function h(k,R){this.h=R;for(var C=[],N=!0,P=k.length-1;0<=P;P--){var U=k[P]|0;N&&U==R||(C[P]=U,N=!1)}this.g=C}var d={};function p(k){return-128<=k&&128>k?l(k,function(R){return new h([R|0],0>R?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return O(g(-k));for(var R=[],C=1,N=0;k>=C;N++)R[N]=k/C|0,C*=4294967296;return new h(R,0)}function _(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return O(_(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),N=v,P=0;P<k.length;P+=8){var U=Math.min(8,k.length-P),x=parseInt(k.substring(P,P+U),R);8>U?(U=g(Math.pow(R,U)),N=N.j(U).add(g(x))):(N=N.j(C),N=N.add(g(x)))}return N}var v=p(0),b=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(H(this))return-O(this).m();for(var k=0,R=1,C=0;C<this.g.length;C++){var N=this.i(C);k+=(0<=N?N:4294967296+N)*R,R*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(B(this))return"0";if(H(this))return"-"+O(this).toString(k);for(var R=g(Math.pow(k,6)),C=this,N="";;){var P=st(C,R).g;C=et(C,P.j(R));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=P,B(C))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function B(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function H(k){return k.h==-1}i.l=function(k){return k=et(this,k),H(k)?-1:B(k)?0:1};function O(k){for(var R=k.g.length,C=[],N=0;N<R;N++)C[N]=~k.g[N];return new h(C,~k.h).add(b)}i.abs=function(){return H(this)?O(this):this},i.add=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0,P=0;P<=R;P++){var U=N+(this.i(P)&65535)+(k.i(P)&65535),x=(U>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);N=x>>>16,U&=65535,x&=65535,C[P]=x<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function et(k,R){return k.add(O(R))}i.j=function(k){if(B(this)||B(k))return v;if(H(this))return H(k)?O(this).j(O(k)):O(O(this).j(k));if(H(k))return O(this.j(O(k)));if(0>this.l(M)&&0>k.l(M))return g(this.m()*k.m());for(var R=this.g.length+k.g.length,C=[],N=0;N<2*R;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<k.g.length;P++){var U=this.i(N)>>>16,x=this.i(N)&65535,kt=k.i(P)>>>16,jt=k.i(P)&65535;C[2*N+2*P]+=x*jt,ot(C,2*N+2*P),C[2*N+2*P+1]+=U*jt,ot(C,2*N+2*P+1),C[2*N+2*P+1]+=x*kt,ot(C,2*N+2*P+1),C[2*N+2*P+2]+=U*kt,ot(C,2*N+2*P+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new h(C,0)};function ot(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function W(k,R){this.g=k,this.h=R}function st(k,R){if(B(R))throw Error("division by zero");if(B(k))return new W(v,v);if(H(k))return R=st(O(k),R),new W(O(R.g),O(R.h));if(H(R))return R=st(k,O(R)),new W(O(R.g),R.h);if(30<k.g.length){if(H(k)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,N=R;0>=N.l(k);)C=at(C),N=at(N);var P=ut(C,1),U=ut(N,1);for(N=ut(N,2),C=ut(C,2);!B(N);){var x=U.add(N);0>=x.l(k)&&(P=P.add(C),U=x),N=ut(N,1),C=ut(C,1)}return R=et(k,P.j(R)),new W(P,R)}for(P=v;0<=k.l(R);){for(C=Math.max(1,Math.floor(k.m()/R.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=g(C),x=U.j(R);H(x)||0<x.l(k);)C-=N,U=g(C),x=U.j(R);B(U)&&(U=b),P=P.add(U),k=et(k,x)}return new W(P,k)}i.A=function(k){return st(this,k).h},i.and=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)&k.i(N);return new h(C,this.h&k.h)},i.or=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)|k.i(N);return new h(C,this.h|k.h)},i.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)^k.i(N);return new h(C,this.h^k.h)};function at(k){for(var R=k.g.length+1,C=[],N=0;N<R;N++)C[N]=k.i(N)<<1|k.i(N-1)>>>31;return new h(C,k.h)}function ut(k,R){var C=R>>5;R%=32;for(var N=k.g.length-C,P=[],U=0;U<N;U++)P[U]=0<R?k.i(U+C)>>>R|k.i(U+C+1)<<32-R:k.i(U+C);return new h(P,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,NS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,ia=h}).apply(typeof hT<"u"?hT:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DS,sc,MS,Nf,wg,kS,VS,PS;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=e(this);function o(c,y){if(y)t:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in E))break t;E=E[q]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&t(E,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var E=0,w=!1,q={next:function(){if(!w&&E<c.length){var X=E++;return{value:y(X,c[X]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,E){return c.call.apply(c.bind,arguments)}function v(c,y,E){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function b(c,y,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,b.apply(null,arguments)}function M(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function B(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(w,q,X){for(var mt=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)mt[Wt-2]=arguments[Wt];return y.prototype[q].apply(w,mt)}}function H(c){const y=c.length;if(0<y){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function O(c,y){for(let E=1;E<arguments.length;E++){const w=arguments[E];if(p(w)){const q=c.length||0,X=w.length||0;c.length=q+X;for(let mt=0;mt<X;mt++)c[q+mt]=w[mt]}else c.push(w)}}class et{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ot(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function st(c){return st[" "](c),c}st[" "]=function(){};var at=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ut(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function k(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function R(c){const y={};for(const E in c)y[E]=c[E];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let E,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(E in w)c[E]=w[E];for(let X=0;X<C.length;X++)E=C[X],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function P(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function U(c){d.setTimeout(()=>{throw c},0)}function x(){var c=It;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class kt{constructor(){this.h=this.g=null}add(y,E){const w=jt.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var jt=new et(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,dt=!1,It=new kt,V=()=>{const c=d.Promise.resolve(void 0);lt=()=>{c.then(Y)}};var Y=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(E){U(E)}var y=jt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}dt=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return c}();function Tt(c,y){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(at){t:{try{st(y.nodeName);var q=!0;break t}catch{}q=!1}q||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Tt.aa.h.call(this)}}B(Tt,Z);var pt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Ae(c,y,E,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=q,this.key=++qt,this.da=this.fa=!1}function Ne(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _n(c){this.src=c,this.g={},this.h=0}_n.prototype.add=function(c,y,E,w,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var mt=In(c,y,w,q);return-1<mt?(y=c[mt],E||(y.fa=!1)):(y=new Ae(y,this.src,X,!!w,q),y.fa=E,c.push(y)),y};function un(c,y){var E=y.type;if(E in c.g){var w=c.g[E],q=Array.prototype.indexOf.call(w,y,void 0),X;(X=0<=q)&&Array.prototype.splice.call(w,q,1),X&&(Ne(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function In(c,y,E,w){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==y&&X.capture==!!E&&X.ha==w)return q}return-1}var en="closure_lm_"+(1e6*Math.random()|0),ee={};function oi(c,y,E,w,q){if(Array.isArray(y)){for(var X=0;X<y.length;X++)oi(c,y[X],E,w,q);return null}return E=ls(E),c&&c[le]?c.K(y,E,g(w)?!!w.capture:!1,q):ve(c,y,E,!1,w,q)}function ve(c,y,E,w,q,X){if(!y)throw Error("Invalid event type");var mt=g(q)?!!q.capture:!!q,Wt=xn(c);if(Wt||(c[en]=Wt=new _n(c)),E=Wt.add(y,E,w,mt,X),E.proxy)return E;if(w=os(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)ft||(q=mt),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(Si(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function os(){function c(E){return y.call(c.src,c.listener,E)}const y=Ge;return c}function cn(c,y,E,w,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)cn(c,y[X],E,w,q);else w=g(w)?!!w.capture:!!w,E=ls(E),c&&c[le]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],E=In(X,E,w,q),-1<E&&(Ne(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=xn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=In(y,E,w,q)),(E=-1<c?y[c]:null)&&Ui(E))}function Ui(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[le])un(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(Si(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=xn(y))?(un(E,c),E.h==0&&(E.src=null,y[en]=null)):Ne(c)}}}function Si(c){return c in ee?ee[c]:ee[c]="on"+c}function Ge(c,y){if(c.da)c=!0;else{y=new Tt(y,this);var E=c.listener,w=c.ha||c.src;c.fa&&Ui(c),c=E.call(w,y)}return c}function xn(c){return c=c[en],c instanceof _n?c:null}var ji="__closure_events_fn_"+(1e9*Math.random()>>>0);function ls(c){return typeof c=="function"?c:(c[ji]||(c[ji]=function(y){return c.handleEvent(y)}),c[ji])}function _t(){rt.call(this),this.i=new _n(this),this.M=this,this.F=null}B(_t,rt),_t.prototype[le]=!0,_t.prototype.removeEventListener=function(c,y,E,w){cn(this,c,y,E,w)};function Ht(c,y){var E,w=c.F;if(w)for(E=[];w;w=w.F)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new Z(y,c);else if(y instanceof Z)y.target=y.target||c;else{var q=y;y=new Z(w,c),N(y,q)}if(q=!0,E)for(var X=E.length-1;0<=X;X--){var mt=y.g=E[X];q=Ke(mt,w,!0,y)&&q}if(mt=y.g=c,q=Ke(mt,w,!0,y)&&q,q=Ke(mt,w,!1,y)&&q,E)for(X=0;X<E.length;X++)mt=y.g=E[X],q=Ke(mt,w,!1,y)&&q}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],w=0;w<E.length;w++)Ne(E[w]);delete c.g[y],c.h--}}this.F=null},_t.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},_t.prototype.L=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function Ke(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,X=0;X<y.length;++X){var mt=y[X];if(mt&&!mt.da&&mt.capture==E){var Wt=mt.listener,Qe=mt.ha||mt.src;mt.fa&&un(c.i,mt),q=Wt.call(Qe,w)!==!1&&q}}return q&&!w.defaultPrevented}function Le(c,y,E){if(typeof c=="function")E&&(c=b(c,E));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function wi(c){c.g=Le(()=>{c.g=null,c.i&&(c.i=!1,wi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Eo extends rt{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Un(c){rt.call(this),this.h=c,this.g={}}B(Un,rt);var mr=[];function pr(c){ut(c.g,function(y,E){this.g.hasOwnProperty(E)&&Ui(y)},c),c.g={}}Un.prototype.N=function(){Un.aa.N.call(this),pr(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=d.JSON.stringify,gr=d.JSON.parse,yr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function vr(){}vr.prototype.h=null;function Bn(c){return c.h||(c.h=c.i())}function ga(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){Z.call(this,"d")}B(li,Z);function us(){Z.call(this,"c")}B(us,Z);var wt={},_e=null;function ye(){return _e=_e||new _t}wt.La="serverreachability";function Ue(c){Z.call(this,wt.La,c)}B(Ue,Z);function Yn(c){const y=ye();Ht(y,new Ue(y))}wt.STAT_EVENT="statevent";function Re(c,y){Z.call(this,wt.STAT_EVENT,c),this.stat=y}B(Re,Z);function Gt(c){const y=ye();Ht(y,new Re(y,c))}wt.Ma="timingevent";function Ee(c,y){Z.call(this,wt.Ma,c),this.size=y}B(Ee,Z);function ne(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Te(){this.g=!0}Te.prototype.xa=function(){this.g=!1};function cs(c,y,E,w,q,X){c.info(function(){if(c.g)if(X)for(var mt="",Wt=X.split("&"),Qe=0;Qe<Wt.length;Qe++){var Zt=Wt[Qe].split("=");if(1<Zt.length){var rn=Zt[0];Zt=Zt[1];var $e=rn.split("_");mt=2<=$e.length&&$e[1]=="type"?mt+(rn+"="+Zt+"&"):mt+(rn+"=redacted&")}}else mt=null;else mt=X;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+E+`
`+mt})}function Ri(c,y,E,w,q,X,mt){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+E+`
`+X+" "+mt})}function _r(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ya(c,E)+(w?" "+w:"")})}function Xc(c,y){c.info(function(){return"TIMEOUT: "+y})}Te.prototype.info=function(){};function ya(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var w=E[c];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var mt=1;mt<q.length;mt++)q[mt]=""}}}}return jn(E)}catch{return y}}var hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Er={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bi;function zi(){}B(zi,vr),zi.prototype.g=function(){return new XMLHttpRequest},zi.prototype.i=function(){return{}},Bi=new zi;function On(c,y,E,w){this.j=c,this.i=y,this.l=E,this.R=w||1,this.U=new Un(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var tu={},To={};function Ci(c,y,E){c.L=1,c.v=ba(Xn(y)),c.m=E,c.P=!0,Tr(c,null)}function Tr(c,y){c.F=Date.now(),va(c),c.A=Xn(c.v);var E=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),au(E.i,"t",w),c.C=0,E=c.j.J,c.h=new De,c.g=fh(c.j,E?y:null,!c.m),0<c.O&&(c.M=new Eo(b(c.Y,c,c.g),c.O)),y=c.U,E=c.g,w=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(mr[0]=q.toString()),q=mr);for(var X=0;X<q.length;X++){var mt=oi(E,q[X],w||y.handleEvent,!1,y.h||y);if(!mt)break;y.g[mt.key]=mt}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Yn(),cs(c.i,c.u,c.A,c.l,c.R,c.m)}On.prototype.ca=function(c){c=c.target;const y=this.M;y&&fi(c)==3?y.j():this.Y(c)},On.prototype.Y=function(c){try{if(c==this.g)t:{const $e=fi(this.g);var y=this.g.Ba();const xr=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||rh(this.g)))){this.J||$e!=4||y==7||(y==8||0>=xr?Yn(3):Yn(2)),fs(this);var E=this.g.Z();this.X=E;e:if(Wc(this)){var w=rh(this.g);c="";var q=w.length,X=fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),Hi(this);var mt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(X&&y==q-1)});w.length=0,this.h.g+=c,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=E==200,Ri(this.i,this.u,this.A,this.l,this.R,$e,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Wt,Qe=this.g;if((Wt=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Wt)){var Zt=Wt;break e}}Zt=null}if(E=Zt)_r(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,E);else{this.o=!1,this.s=3,Gt(12),hn(this),Hi(this);break t}}if(this.P){E=!0;let fn;for(;!this.J&&this.C<mt.length;)if(fn=Zc(this,mt),fn==To){$e==4&&(this.s=4,Gt(14),E=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==tu){this.s=4,Gt(15),_r(this.i,this.l,mt,"[Invalid Chunk]"),E=!1;break}else _r(this.i,this.l,fn,null),_a(this,fn);if(Wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||mt.length!=0||this.h.h||(this.s=1,Gt(16),E=!1),this.o=this.o&&E,!E)_r(this.i,this.l,mt,"[Invalid Chunked Response]"),hn(this),Hi(this);else if(0<mt.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Oa(rn),rn.M=!0,Gt(11))}}else _r(this.i,this.l,mt,null),_a(this,mt);$e==4&&hn(this),this.o&&!this.J&&($e==4?uh(this.j,this):(this.o=!1,va(this)))}else Qd(this.g),E==400&&0<mt.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),hn(this),Hi(this)}}}catch{}finally{}};function Wc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Zc(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?To:(E=Number(y.substring(E,w)),isNaN(E)?tu:(w+=1,w+E>y.length?To:(y=y.slice(w,w+E),c.C=w+E,y)))}On.prototype.cancel=function(){this.J=!0,hn(this)};function va(c){c.S=Date.now()+c.I,Jc(c,c.I)}function Jc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ne(b(c.ba,c),y)}function fs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}On.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Xc(this.i,this.A),this.L!=2&&(Yn(),Gt(17)),hn(this),this.s=2,Hi(this)):Jc(this,this.S-c)};function Hi(c){c.j.G==0||c.J||uh(c.j,c)}function hn(c){fs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,pr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _a(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||eu(E.h,c))){if(!c.K&&eu(E.h,c)&&E.G==3){try{var w=E.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Mo(E),No(E);else break t;hu(E),Gt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=ne(b(E.Za,E),6e3));if(1>=So(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ir(E,11)}else if((c.K||E.g==c)&&Mo(E),!ot(y))for(q=E.Da.g.parse(y),y=0;y<q.length;y++){let Zt=q[y];if(E.T=Zt[0],Zt=Zt[1],E.G==2)if(Zt[0]=="c"){E.K=Zt[1],E.ia=Zt[2];const rn=Zt[3];rn!=null&&(E.la=rn,E.j.info("VER="+E.la));const $e=Zt[4];$e!=null&&(E.Aa=$e,E.j.info("SVER="+E.Aa));const xr=Zt[5];xr!=null&&typeof xr=="number"&&0<xr&&(w=1.5*xr,E.L=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const fn=c.g;if(fn){const Yi=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var X=w.h;X.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(wo(X,X.h),X.h=null))}if(w.D){const du=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;du&&(w.ya=du,he(w.I,w.D,du))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),w=E;var mt=c;if(w.qa=hh(w,w.J?w.ia:null,w.W),mt.K){Nn(w.h,mt);var Wt=mt,Qe=w.L;Qe&&(Wt.I=Qe),Wt.B&&(fs(Wt),va(Wt)),w.g=mt}else oh(w);0<E.i.length&&Do(E)}else Zt[0]!="stop"&&Zt[0]!="close"||Ir(E,7);else E.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Ir(E,7):uu(E):Zt[0]!="noop"&&E.l&&E.l.ta(Zt),E.v=0)}}Yn(4)}catch{}}var th=class{constructor(c,y){this.g=c,this.map=y}};function br(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function So(c){return c.h?1:c.g?c.g.size:0}function eu(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function wo(c,y){c.g?c.g.add(y):c.h=y}function Nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}br.prototype.cancel=function(){if(this.i=nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return H(c.i)}function Fd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],E=c.length,w=0;w<E;w++)y.push(c[w]);return y}y=[],E=0;for(w in c)y[E++]=c[w];return y}function Ao(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const w in c)y[E++]=w;return y}}}function iu(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Ao(c),w=Fd(c),q=w.length,X=0;X<q;X++)y.call(void 0,w[X],E&&E[X],c)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qd(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var w=c[E].indexOf("="),q=null;if(0<=w){var X=c[E].substring(0,w);q=c[E].substring(w+1)}else X=c[E];y(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function je(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof je){this.h=c.h,Ta(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.s),this.l=c.l;var y=c.i,E=new wr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Sr(this,E),this.m=c.m}else c&&(y=String(c).match(Ea))?(this.h=!1,Ta(this,y[1]||"",!0),this.o=ui(y[2]||""),this.g=ui(y[3]||"",!0),ds(this,y[4]),this.l=ui(y[5]||"",!0),Sr(this,y[6]||"",!0),this.m=ui(y[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}je.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Sa(y,ru,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Sa(y,ru,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Sa(E,E.charAt(0)=="/"?Gd:su,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Sa(E,Ro)),c.join("")};function Xn(c){return new je(c)}function Ta(c,y,E){c.j=E?ui(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Sr(c,y,E){y instanceof wr?(c.i=y,nh(c.i,c.h)):(E||(y=Sa(y,Kd)),c.i=new wr(y,c.h))}function he(c,y,E){c.i.set(y,E)}function ba(c){return he(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ui(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sa(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,eh),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function eh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ru=/[#\/\?@]/g,su=/[#\?:]/g,Gd=/[#\?]/g,Kd=/[#\?@]/g,Ro=/#/g;function wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ci(c){c.g||(c.g=new Map,c.h=0,c.i&&qd(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=wr.prototype,i.add=function(c,y){ci(this),this.i=null,c=Fi(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Ar(c,y){ci(c),y=Fi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Rr(c,y){return ci(c),y=Fi(c,y),c.g.has(y)}i.forEach=function(c,y){ci(this),this.g.forEach(function(E,w){E.forEach(function(q){c.call(y,q,w,this)},this)},this)},i.na=function(){ci(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let w=0;w<y.length;w++){const q=c[w];for(let X=0;X<q.length;X++)E.push(y[w])}return E},i.V=function(c){ci(this);let y=[];if(typeof c=="string")Rr(this,c)&&(y=y.concat(this.g.get(Fi(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},i.set=function(c,y){return ci(this),this.i=null,c=Fi(this,c),Rr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function au(c,y,E){Ar(c,y),0<E.length&&(c.i=null,c.g.set(Fi(c,y),H(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var w=y[E];const X=encodeURIComponent(String(w)),mt=this.V(w);for(w=0;w<mt.length;w++){var q=X;mt[w]!==""&&(q+="="+encodeURIComponent(String(mt[w]))),c.push(q)}}return this.i=c.join("&")};function Fi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function nh(c,y){y&&!c.j&&(ci(c),c.i=null,c.g.forEach(function(E,w){var q=w.toLowerCase();w!=q&&(Ar(this,w),au(this,q,E))},c)),c.j=y}function wa(c,y){const E=new Te;if(d.Image){const w=new Image;w.onload=M(hi,E,"TestLoadImage: loaded",!0,y,w),w.onerror=M(hi,E,"TestLoadImage: error",!1,y,w),w.onabort=M(hi,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=M(hi,E,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Ii(c,y){const E=new Te,w=new AbortController,q=setTimeout(()=>{w.abort(),hi(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(X=>{clearTimeout(q),X.ok?hi(E,"TestPingServer: ok",!0,y):hi(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),hi(E,"TestPingServer: error",!1,y)})}function hi(c,y,E,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(E)}catch{}}function Aa(){this.g=new yr}function qi(c,y,E){const w=E||"";try{iu(c,function(q,X){let mt=q;g(q)&&(mt=jn(q)),y.push(w+X+"="+encodeURIComponent(mt))})}catch(q){throw y.push(w+"type="+encodeURIComponent("_badmap")),q}}function ms(c){this.l=c.Ub||null,this.j=c.eb||!1}B(ms,vr),ms.prototype.g=function(){return new Cr(this.l,this.j)},ms.prototype.i=function(c){return function(){return c}}({});function Cr(c,y){_t.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Cr,_t),i=Cr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ki(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ou(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ou(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Gi(this):Ki(this),this.readyState==3&&ou(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Gi(this))},i.Qa=function(c){this.g&&(this.response=c,Gi(this))},i.ga=function(){this.g&&Gi(this)};function Gi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ki(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Ki(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function lu(c){let y="";return ut(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function nn(c,y,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=lu(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):he(c,y,E))}function se(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(se,_t);var Co=/^https?$/i,Ra=["POST","PUT"];i=se.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bi.g(),this.v=this.o?Bn(this.o):Bn(Bi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){ih(this,X);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)E.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())E.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ra,y,void 0))||w||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,mt]of E)this.g.setRequestHeader(X,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ca(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){ih(this,X)}};function ih(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Io(c),Qi(c)}function Io(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),Qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),se.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?xo(this):this.bb())},i.bb=function(){xo(this)};function xo(c){if(c.h&&typeof h<"u"&&(!c.v[1]||fi(c)!=4||c.Z()!=2)){if(c.u&&fi(c)==4)Le(c.Ea,0,c);else if(Ht(c,"readystatechange"),fi(c)==4){c.h=!1;try{const mt=c.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var w;if(w=mt===0){var q=String(c.D).match(Ea)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),w=!Co.test(q?q.toLowerCase():"")}E=w}if(E)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var X=2<fi(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Io(c)}}finally{Qi(c)}}}}function Qi(c,y){if(c.g){Ca(c);const E=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ht(c,"ready");try{E.onreadystatechange=w}catch{}}}function Ca(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function fi(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),gr(y)}};function rh(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qd(c){const y={};c=(c.g&&2<=fi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ot(c[w]))continue;var E=P(c[w]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=y[q]||[];y[q]=X,X.push(E)}k(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Oo(c){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new br(c&&c.concurrentRequestLimit),this.Da=new Aa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Oo.prototype,i.la=8,i.G=1,i.connect=function(c,y,E,w){Gt(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.I=hh(this,null,this.W),Do(this)};function uu(c){if(sh(c),c.G==3){var y=c.U++,E=Xn(c.I);if(he(E,"SID",c.K),he(E,"RID",y),he(E,"TYPE","terminate"),xa(c,E),y=new On(c,c.j,y),y.L=2,y.v=ba(Xn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=fh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),va(y)}ch(c)}function No(c){c.g&&(Oa(c),c.g.cancel(),c.g=null)}function sh(c){No(c),c.u&&(d.clearTimeout(c.u),c.u=null),Mo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Do(c){if(!bo(c.h)&&!c.s){c.s=!0;var y=c.Ga;lt||V(),dt||(lt(),dt=!0),It.add(y,c),c.B=0}}function $d(c,y){return So(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ne(b(c.Ga,c,y),fu(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new On(this,this.j,c);let X=this.o;if(this.S&&(X?(X=R(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=ah(this,q,y),E=Xn(this.I),he(E,"RID",c),he(E,"CVER",22),this.D&&he(E,"X-HTTP-Session-Id",this.D),xa(this,E),X&&(this.O?y="headers="+encodeURIComponent(String(lu(X)))+"&"+y:this.m&&nn(E,this.m,X)),wo(this.h,q),this.Ua&&he(E,"TYPE","init"),this.P?(he(E,"$req",y),he(E,"SID","null"),q.T=!0,Ci(q,E,null)):Ci(q,E,y),this.G=2}}else this.G==3&&(c?cu(this,c):this.i.length==0||bo(this.h)||cu(this))};function cu(c,y){var E;y?E=y.l:E=c.U++;const w=Xn(c.I);he(w,"SID",c.K),he(w,"RID",E),he(w,"AID",c.T),xa(c,w),c.m&&c.o&&nn(w,c.m,c.o),E=new On(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ah(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wo(c.h,E),Ci(E,w,y)}function xa(c,y){c.H&&ut(c.H,function(E,w){he(y,w,E)}),c.l&&iu({},function(E,w){he(y,w,E)})}function ah(c,y,E){E=Math.min(c.i.length,E);var w=c.l?b(c.l.Na,c.l,c):null;t:{var q=c.i;let X=-1;for(;;){const mt=["count="+E];X==-1?0<E?(X=q[0].g,mt.push("ofs="+X)):X=0:mt.push("ofs="+X);let Wt=!0;for(let Qe=0;Qe<E;Qe++){let Zt=q[Qe].g;const rn=q[Qe].map;if(Zt-=X,0>Zt)X=Math.max(0,q[Qe].g-100),Wt=!1;else try{qi(rn,mt,"req"+Zt+"_")}catch{w&&w(rn)}}if(Wt){w=mt.join("&");break t}}}return c=c.i.splice(0,E),y.D=c,w}function oh(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;lt||V(),dt||(lt(),dt=!0),It.add(y,c),c.v=0}}function hu(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ne(b(c.Fa,c),fu(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,lh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ne(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),No(this),lh(this))};function Oa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function lh(c){c.g=new On(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Xn(c.qa);he(y,"RID","rpc"),he(y,"SID",c.K),he(y,"AID",c.T),he(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&he(y,"TO",c.ja),he(y,"TYPE","xmlhttp"),xa(c,y),c.m&&c.o&&nn(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=ba(Xn(y)),E.m=null,E.P=!0,Tr(E,c)}i.Za=function(){this.C!=null&&(this.C=null,No(this),hu(this),Gt(19))};function Mo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function uh(c,y){var E=null;if(c.g==y){Mo(c),Oa(c),c.g=null;var w=2}else if(eu(c.h,y))E=y.D,Nn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;w=ye(),Ht(w,new Ee(w,E)),Do(c)}else oh(c);else if(q=y.s,q==3||q==0&&0<y.X||!(w==1&&$d(c,y)||w==2&&hu(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),q){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function fu(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function Ir(c,y){if(c.j.info("Error code "+y),y==2){var E=b(c.fb,c),w=c.Xa;const q=!w;w=new je(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ta(w,"https"),ba(w),q?wa(w.toString(),E):Ii(w.toString(),E)}else Gt(2);c.G=0,c.l&&c.l.sa(y),ch(c),sh(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function ch(c){if(c.G=0,c.ka=[],c.l){const y=nu(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ka,y),O(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function hh(c,y,E){var w=E instanceof je?Xn(E):new je(E);if(w.g!="")y&&(w.g=y+"."+w.g),ds(w,w.s);else{var q=d.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var X=new je(null);w&&Ta(X,w),y&&(X.g=y),q&&ds(X,q),E&&(X.l=E),w=X}return E=c.D,y=c.ya,E&&y&&he(w,E,y),he(w,"VER",c.la),xa(c,w),w}function fh(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new se(new ms({eb:E})):new se(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}i=dh.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ko(){}ko.prototype.g=function(c,y){return new Dn(c,y)};function Dn(c,y){_t.call(this),this.g=new Oo(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ot(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ot(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new $i(this)}B(Dn,_t),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){uu(this.g)},Dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=jn(c),c=E);y.i.push(new th(y.Ya++,c)),y.G==3&&Do(y)},Dn.prototype.N=function(){this.g.l=null,delete this.j,uu(this.g),delete this.g,Dn.aa.N.call(this)};function mh(c){li.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const E in y){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}B(mh,li);function ph(){us.call(this),this.status=1}B(ph,us);function $i(c){this.g=c}B($i,dh),$i.prototype.ua=function(){Ht(this.g,"a")},$i.prototype.ta=function(c){Ht(this.g,new mh(c))},$i.prototype.sa=function(c){Ht(this.g,new ph)},$i.prototype.ra=function(){Ht(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,PS=function(){return new ko},VS=function(){return ye()},kS=wt,wg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Nf=hs,Er.COMPLETE="complete",MS=Er,ga.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",_t.prototype.listen=_t.prototype.K,sc=ga,se.prototype.listenOnce=se.prototype.L,se.prototype.getLastError=se.prototype.Ka,se.prototype.getLastErrorCode=se.prototype.Ba,se.prototype.getStatus=se.prototype.Z,se.prototype.getResponseJson=se.prototype.Oa,se.prototype.getResponseText=se.prototype.oa,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Ha,DS=se}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const fT="@firebase/firestore",dT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new hy("@firebase/firestore");function hl(){return oo.logLevel}function yt(i,...t){if(oo.logLevel<=$t.DEBUG){const e=t.map(my);oo.debug(`Firestore (${Ql}): ${i}`,...e)}}function es(i,...t){if(oo.logLevel<=$t.ERROR){const e=t.map(my);oo.error(`Firestore (${Ql}): ${i}`,...e)}}function kl(i,...t){if(oo.logLevel<=$t.WARN){const e=t.map(my);oo.warn(`Firestore (${Ql}): ${i}`,...e)}}function my(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,LS(i,s,e)}function LS(i,t,e){let s=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw es(s),new Error(s)}function oe(i,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,i||LS(t,o,s)}function Vt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends as{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Cx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(wn.UNAUTHENTICATED))}shutdown(){}}class Ix{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class xx{constructor(t){this.t=t,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){oe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let l=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ra,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ra)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(oe(typeof s.accessToken=="string",31837,{l:s}),new US(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return oe(t===null||typeof t=="string",2055,{h:t}),new wn(t)}}class Ox{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nx{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new Ox(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dx{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){oe(this.o===void 0,3512);const s=l=>{l.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,yt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const o=l=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(oe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new mT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Mx(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<e&&(s+=t.charAt(o[l]%62))}return s}}function zt(i,t){return i<t?-1:i>t?1:0}function Ag(i,t){let e=0;for(;e<i.length&&e<t.length;){const s=i.codePointAt(e),o=t.codePointAt(e);if(s!==o){if(s<128&&o<128)return zt(s,o);{const l=jS(),h=kx(l.encode(pT(i,e)),l.encode(pT(t,e)));return h!==0?h:zt(s,o)}}e+=s>65535?2:1}return zt(i.length,t.length)}function pT(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function kx(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return zt(i[e],t[e]);return zt(i.length,t.length)}function Vl(i,t,e){return i.length===t.length&&i.every((s,o)=>e(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=-62135596800,yT=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(t){return Je.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*yT);return new Je(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new St(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new St(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<gT)throw new St(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yT}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-gT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static fromTimestamp(t){return new Mt(t)}static min(){return new Mt(new Je(0,0))}static max(){return new Mt(new Je(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__name__";class nr{constructor(t,e,s){e===void 0?e=0:e>t.length&&Nt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Nt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return nr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof nr?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const l=nr.compareSegments(t.get(o),e.get(o));if(l!==0)return l}return zt(t.length,e.length)}static compareSegments(t,e){const s=nr.isNumericId(t),o=nr.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?nr.extractNumericId(t).compare(nr.extractNumericId(e)):Ag(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ia.fromString(t.substring(4,t.length-2))}}class Oe extends nr{construct(t,e,s){return new Oe(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new St(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(o=>o.length>0))}return new Oe(e)}static emptyPath(){return new Oe([])}}const Vx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends nr{construct(t,e,s){return new yn(t,e,s)}static isValidIdentifier(t){return Vx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vT}static keyField(){return new yn([vT])}static fromServerFormat(t){const e=[];let s="",o=0;const l=()=>{if(s.length===0)throw new St(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new St(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new St(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new St(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yn(e)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(Oe.fromString(t))}static fromName(t){return new Rt(Oe.fromString(t).popFirst(5))}static empty(){return new Rt(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new Oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=-1;function Px(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Mt.fromTimestamp(s===1e9?new Je(e+1,0):new Je(e,s));return new aa(o,Rt.empty(),t)}function Lx(i){return new aa(i.readTime,i.key,vc)}class aa{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new aa(Mt.min(),Rt.empty(),vc)}static max(){return new aa(Mt.max(),Rt.empty(),vc)}}function Ux(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Rt.comparator(i.documentKey,t.documentKey),e!==0?e:zt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(i){if(i.code!==ht.FAILED_PRECONDITION||i.message!==jx)throw i;yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):it.reject(e)}static resolve(t){return new it((e,s)=>{e(t)})}static reject(t){return new it((e,s)=>{s(t)})}static waitFor(t){return new it((e,s)=>{let o=0,l=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&e()},p=>s(p))}),h=!0,l===o&&e()})}static or(t){let e=it.resolve(!1);for(const s of t)e=e.next(o=>o?it.resolve(o):s());return e}static forEach(t,e){const s=[];return t.forEach((o,l)=>{s.push(e.call(this,o,l))}),this.waitFor(s)}static mapArray(t,e){return new it((s,o)=>{const l=t.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;e(t[g]).next(_=>{h[g]=_,++d,d===l&&s(h)},_=>o(_))}})}static doWhile(t,e){return new it((s,o)=>{const l=()=>{t()===!0?e().next(()=>{l()},o):s()};l()})}}function zx(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Yl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Ed.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=-1;function Td(i){return i==null}function Kf(i){return i===0&&1/i==-1/0}function Hx(i){return typeof i=="number"&&Number.isInteger(i)&&!Kf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="";function Fx(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=_T(t)),t=qx(i.get(e),t);return _T(t)}function qx(i,t){let e=t;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":e+="";break;case zS:e+="";break;default:e+=l}}return e}function _T(i){return i+zS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function fa(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function HS(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t,e){this.comparator=t,this.root=e||gn.EMPTY}insert(t,e){return new we(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(t){return new we(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bf(this.root,t,this.comparator,!1)}getReverseIterator(){return new bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bf(this.root,t,this.comparator,!0)}}class bf{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gn{constructor(t,e,s,o,l){this.key=t,this.value=e,this.color=s??gn.RED,this.left=o??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,l){return new gn(t??this.key,e??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const l=s(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,s),null):l===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Nt(27949);return t+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(t,e,s,o,l){return this}insert(t,e,s){return new gn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.comparator=t,this.data=new we(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new TT(this.data.getIterator())}getIteratorFrom(t){return new TT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new tn(this.comparator);return e.data=t,e}}class TT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.fields=t,t.sort(yn.comparator)}static empty(){return new si([])}unionWith(t){let e=new tn(yn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new si(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Vl(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new FS("Invalid base64 string: "+l):l}}(t);return new vn(e)}static fromUint8Array(t){const e=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(t);return new vn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const Gx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(i){if(oe(!!i,39018),typeof i=="string"){let t=0;const e=Gx.exec(i);if(oe(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ve(i.seconds),nanos:Ve(i.nanos)}}function Ve(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function la(i){return typeof i=="string"?vn.fromBase64String(i):vn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="server_timestamp",GS="__type__",KS="__previous_value__",QS="__local_write_time__";function gy(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[GS])===null||e===void 0?void 0:e.stringValue)===qS}function bd(i){const t=i.mapValue.fields[KS];return gy(t)?bd(t):t}function _c(i){const t=oa(i.mapValue.fields[QS].timestampValue);return new Je(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,e,s,o,l,h,d,p,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Qf="(default)";class Ec{constructor(t,e){this.projectId=t,this.database=e||Qf}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(t){return t instanceof Ec&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="__type__",Qx="__max__",Sf={mapValue:{}},YS="__vector__",$f="value";function ua(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?gy(i)?4:Yx(i)?9007199254740991:$x(i)?10:11:Nt(28295,{value:i})}function fr(i,t){if(i===t)return!0;const e=ua(i);if(e!==ua(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return _c(i).isEqual(_c(t));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=oa(o.timestampValue),d=oa(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,l){return la(o.bytesValue).isEqual(la(l.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,l){return Ve(o.geoPointValue.latitude)===Ve(l.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(l.geoPointValue.longitude)}(i,t);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ve(o.integerValue)===Ve(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Ve(o.doubleValue),d=Ve(l.doubleValue);return h===d?Kf(h)===Kf(d):isNaN(h)&&isNaN(d)}return!1}(i,t);case 9:return Vl(i.arrayValue.values||[],t.arrayValue.values||[],fr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(ET(h)!==ET(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!fr(h[p],d[p])))return!1;return!0}(i,t);default:return Nt(52216,{left:i})}}function Tc(i,t){return(i.values||[]).find(e=>fr(e,t))!==void 0}function Pl(i,t){if(i===t)return 0;const e=ua(i),s=ua(t);if(e!==s)return zt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(i.booleanValue,t.booleanValue);case 2:return function(l,h){const d=Ve(l.integerValue||l.doubleValue),p=Ve(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,t);case 3:return bT(i.timestampValue,t.timestampValue);case 4:return bT(_c(i),_c(t));case 5:return Ag(i.stringValue,t.stringValue);case 6:return function(l,h){const d=la(l),p=la(h);return d.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=zt(d[g],p[g]);if(_!==0)return _}return zt(d.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(l,h){const d=zt(Ve(l.latitude),Ve(h.latitude));return d!==0?d:zt(Ve(l.longitude),Ve(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return ST(i.arrayValue,t.arrayValue);case 10:return function(l,h){var d,p,g,_;const v=l.fields||{},b=h.fields||{},M=(d=v[$f])===null||d===void 0?void 0:d.arrayValue,B=(p=b[$f])===null||p===void 0?void 0:p.arrayValue,H=zt(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((_=B==null?void 0:B.values)===null||_===void 0?void 0:_.length)||0);return H!==0?H:ST(M,B)}(i.mapValue,t.mapValue);case 11:return function(l,h){if(l===Sf.mapValue&&h===Sf.mapValue)return 0;if(l===Sf.mapValue)return 1;if(h===Sf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let v=0;v<p.length&&v<_.length;++v){const b=Ag(p[v],_[v]);if(b!==0)return b;const M=Pl(d[p[v]],g[_[v]]);if(M!==0)return M}return zt(p.length,_.length)}(i.mapValue,t.mapValue);default:throw Nt(23264,{Pe:e})}}function bT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return zt(i,t);const e=oa(i),s=oa(t),o=zt(e.seconds,s.seconds);return o!==0?o:zt(e.nanos,s.nanos)}function ST(i,t){const e=i.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const l=Pl(e[o],s[o]);if(l)return l}return zt(e.length,s.length)}function Ll(i){return Rg(i)}function Rg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const s=oa(e);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return la(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return Rt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let s="[",o=!0;for(const l of e.values||[])o?o=!1:s+=",",s+=Rg(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(e){const s=Object.keys(e.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Rg(e.fields[h])}`;return o+"}"}(i.mapValue):Nt(61005,{value:i})}function Df(i){switch(ua(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bd(i);return t?16+Df(t):16;case 5:return 2*i.stringValue.length;case 6:return la(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Df(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return fa(s.fields,(l,h)=>{o+=l.length+Df(h)}),o}(i.mapValue);default:throw Nt(13486,{value:i})}}function Cg(i){return!!i&&"integerValue"in i}function yy(i){return!!i&&"arrayValue"in i}function wT(i){return!!i&&"nullValue"in i}function AT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Mf(i){return!!i&&"mapValue"in i}function $x(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[$S])===null||e===void 0?void 0:e.stringValue)===YS}function cc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return fa(i.mapValue.fields,(e,s)=>t.mapValue.fields[e]=cc(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=cc(i.arrayValue.values[e]);return t}return Object.assign({},i)}function Yx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Qx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Mf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=cc(e)}setAll(t){let e=yn.emptyPath(),s={},o=[];t.forEach((h,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=d.popLast()}h?s[d.lastSegment()]=cc(h):o.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,s,o)}delete(t){const e=this.field(t.popLast());Mf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return fr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];Mf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){fa(e,(o,l)=>t[o]=l);for(const o of s)delete t[o]}clone(){return new $n(cc(this.value))}}function XS(i){const t=[];return fa(i.fields,(e,s)=>{const o=new yn([e]);if(Mf(s)){const l=XS(s.mapValue).fields;if(l.length===0)t.push(o);else for(const h of l)t.push(o.child(h))}else t.push(o)}),new si(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,e,s,o,l,h,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(t){return new An(t,0,Mt.min(),Mt.min(),Mt.min(),$n.empty(),0)}static newFoundDocument(t,e,s,o){return new An(t,1,e,Mt.min(),s,o,0)}static newNoDocument(t,e){return new An(t,2,e,Mt.min(),Mt.min(),$n.empty(),0)}static newUnknownDocument(t,e){return new An(t,3,e,Mt.min(),Mt.min(),$n.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof An&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,e){this.position=t,this.inclusive=e}}function RT(i,t,e){let s=0;for(let o=0;o<i.position.length;o++){const l=t[o],h=i.position[o];if(l.field.isKeyField()?s=Rt.comparator(Rt.fromName(h.referenceValue),e.key):s=Pl(h,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function CT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!fr(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t,e="asc"){this.field=t,this.dir=e}}function Xx(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{}class Ze extends WS{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new Zx(t,e,s):e==="array-contains"?new eO(t,s):e==="in"?new nO(t,s):e==="not-in"?new iO(t,s):e==="array-contains-any"?new rO(t,s):new Ze(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new Jx(t,s):new tO(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Pl(e,this.value)):e!==null&&ua(this.value)===ua(e)&&this.matchesComparison(Pl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends WS{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new dr(t,e)}matches(t){return ZS(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ZS(i){return i.op==="and"}function JS(i){return Wx(i)&&ZS(i)}function Wx(i){for(const t of i.filters)if(t instanceof dr)return!1;return!0}function Ig(i){if(i instanceof Ze)return i.field.canonicalString()+i.op.toString()+Ll(i.value);if(JS(i))return i.filters.map(t=>Ig(t)).join(",");{const t=i.filters.map(e=>Ig(e)).join(",");return`${i.op}(${t})`}}function t1(i,t){return i instanceof Ze?function(s,o){return o instanceof Ze&&s.op===o.op&&s.field.isEqual(o.field)&&fr(s.value,o.value)}(i,t):i instanceof dr?function(s,o){return o instanceof dr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&t1(h,o.filters[d]),!0):!1}(i,t):void Nt(19439)}function e1(i){return i instanceof Ze?function(e){return`${e.field.canonicalString()} ${e.op} ${Ll(e.value)}`}(i):i instanceof dr?function(e){return e.op.toString()+" {"+e.getFilters().map(e1).join(" ,")+"}"}(i):"Filter"}class Zx extends Ze{constructor(t,e,s){super(t,e,s),this.key=Rt.fromName(s.referenceValue)}matches(t){const e=Rt.comparator(t.key,this.key);return this.matchesComparison(e)}}class Jx extends Ze{constructor(t,e){super(t,"in",e),this.keys=n1("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class tO extends Ze{constructor(t,e){super(t,"not-in",e),this.keys=n1("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function n1(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>Rt.fromName(s.referenceValue))}class eO extends Ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return yy(e)&&Tc(e.arrayValue,this.value)}}class nO extends Ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Tc(this.value.arrayValue,e)}}class iO extends Ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Tc(this.value.arrayValue,e)}}class rO extends Ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!yy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Tc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t,e=null,s=[],o=[],l=null,h=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.Ie=null}}function IT(i,t=null,e=[],s=[],o=null,l=null,h=null){return new sO(i,t,e,s,o,l,h)}function vy(i){const t=Vt(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>Ig(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Td(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>Ll(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>Ll(s)).join(",")),t.Ie=e}return t.Ie}function _y(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!Xx(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!t1(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!CT(i.startAt,t.startAt)&&CT(i.endAt,t.endAt)}function xg(i){return Rt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,e=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function aO(i,t,e,s,o,l,h,d){return new Sd(i,t,e,s,o,l,h,d)}function Ey(i){return new Sd(i)}function xT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function oO(i){return i.collectionGroup!==null}function hc(i){const t=Vt(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new tn(yn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Xf(l,s))}),e.has(yn.keyField().canonicalString())||t.Ee.push(new Xf(yn.keyField(),s))}return t.Ee}function or(i){const t=Vt(i);return t.de||(t.de=lO(t,hc(i))),t.de}function lO(i,t){if(i.limitType==="F")return IT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Xf(o.field,l)});const e=i.endAt?new Yf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Yf(i.startAt.position,i.startAt.inclusive):null;return IT(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function Og(i,t,e){return new Sd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function wd(i,t){return _y(or(i),or(t))&&i.limitType===t.limitType}function i1(i){return`${vy(or(i))}|lt:${i.limitType}`}function fl(i){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(o=>e1(o)).join(", ")}]`),Td(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(o=>Ll(o)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(o=>Ll(o)).join(",")),`Target(${s})`}(or(i))}; limitType=${i.limitType})`}function Ad(i,t){return t.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Rt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,t)&&function(s,o){for(const l of hc(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=RT(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,hc(s),o)||s.endAt&&!function(h,d,p){const g=RT(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,hc(s),o))}(i,t)}function uO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function r1(i){return(t,e)=>{let s=!1;for(const o of hc(i)){const l=cO(o,t,e);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function cO(i,t,e){const s=i.field.isKeyField()?Rt.comparator(t.key,e.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Pl(p,g):Nt(42886)}(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Nt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){fa(this.inner,(e,s)=>{for(const[o,l]of s)t(o,l)})}isEmpty(){return HS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new we(Rt.comparator);function ns(){return hO}const s1=new we(Rt.comparator);function ac(...i){let t=s1;for(const e of i)t=t.insert(e.key,e);return t}function a1(i){let t=s1;return i.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function Ya(){return fc()}function o1(){return fc()}function fc(){return new yo(i=>i.toString(),(i,t)=>i.isEqual(t))}const fO=new we(Rt.comparator),dO=new tn(Rt.comparator);function Yt(...i){let t=dO;for(const e of i)t=t.add(e);return t}const mO=new tn(zt);function pO(){return mO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(t)?"-0":t}}function l1(i){return{integerValue:""+i}}function gO(i,t){return Hx(t)?l1(t):Ty(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this._=void 0}}function yO(i,t,e){return i instanceof Wf?function(o,l){const h={fields:{[GS]:{stringValue:qS},[QS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&gy(l)&&(l=bd(l)),l&&(h.fields[KS]=l),{mapValue:h}}(e,t):i instanceof bc?c1(i,t):i instanceof Sc?h1(i,t):function(o,l){const h=u1(o,l),d=OT(h)+OT(o.Re);return Cg(h)&&Cg(o.Re)?l1(d):Ty(o.serializer,d)}(i,t)}function vO(i,t,e){return i instanceof bc?c1(i,t):i instanceof Sc?h1(i,t):e}function u1(i,t){return i instanceof Zf?function(s){return Cg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class Wf extends Rd{}class bc extends Rd{constructor(t){super(),this.elements=t}}function c1(i,t){const e=f1(t);for(const s of i.elements)e.some(o=>fr(o,s))||e.push(s);return{arrayValue:{values:e}}}class Sc extends Rd{constructor(t){super(),this.elements=t}}function h1(i,t){let e=f1(t);for(const s of i.elements)e=e.filter(o=>!fr(o,s));return{arrayValue:{values:e}}}class Zf extends Rd{constructor(t,e){super(),this.serializer=t,this.Re=e}}function OT(i){return Ve(i.integerValue||i.doubleValue)}function f1(i){return yy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function _O(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof bc&&o instanceof bc||s instanceof Sc&&o instanceof Sc?Vl(s.elements,o.elements,fr):s instanceof Zf&&o instanceof Zf?fr(s.Re,o.Re):s instanceof Wf&&o instanceof Wf}(i.transform,t.transform)}class EO{constructor(t,e){this.version=t,this.transformResults=e}}class lr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new lr}static exists(t){return new lr(void 0,t)}static updateTime(t){return new lr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}let Cd=class{};function d1(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new p1(i.key,lr.none()):new zc(i.key,i.data,lr.none());{const e=i.data,s=$n.empty();let o=new tn(yn.comparator);for(let l of t.fields)if(!o.has(l)){let h=e.field(l);h===null&&l.length>1&&(l=l.popLast(),h=e.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new da(i.key,s,new si(o.toArray()),lr.none())}}function TO(i,t,e){i instanceof zc?function(o,l,h){const d=o.value.clone(),p=DT(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,t,e):i instanceof da?function(o,l,h){if(!kf(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=DT(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(m1(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,t,e):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function dc(i,t,e,s){return i instanceof zc?function(l,h,d,p){if(!kf(l.precondition,h))return d;const g=l.value.clone(),_=MT(l.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,e,s):i instanceof da?function(l,h,d,p){if(!kf(l.precondition,h))return d;const g=MT(l.fieldTransforms,p,h),_=h.data;return _.setAll(m1(l)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(i,t,e,s):function(l,h,d){return kf(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,t,e)}function bO(i,t){let e=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),l=u1(s.transform,o||null);l!=null&&(e===null&&(e=$n.empty()),e.set(s.field,l))}return e||null}function NT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Vl(s,o,(l,h)=>_O(l,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class zc extends Cd{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class da extends Cd{constructor(t,e,s,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function m1(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}}),t}function DT(i,t,e){const s=new Map;oe(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let o=0;o<e.length;o++){const l=i[o],h=l.transform,d=t.data.field(l.field);s.set(l.field,vO(h,d,e[o]))}return s}function MT(i,t,e){const s=new Map;for(const o of i){const l=o.transform,h=e.data.field(o.field);s.set(o.field,yO(l,h,t))}return s}class p1 extends Cd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends Cd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&TO(l,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=dc(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=dc(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=o1();return this.mutations.forEach(o=>{const l=t.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=e.has(o.key)?null:d;const p=d1(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Mt.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Yt())}isEqual(t){return this.batchId===t.batchId&&Vl(this.mutations,t.mutations,(e,s)=>NT(e,s))&&Vl(this.baseMutations,t.baseMutations,(e,s)=>NT(e,s))}}class by{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){oe(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return fO}();const l=t.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new by(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,te;function CO(i){switch(i){case ht.OK:return Nt(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Nt(15467,{code:i})}}function g1(i){if(i===void 0)return es("GRPC error has no .code"),ht.UNKNOWN;switch(i){case He.OK:return ht.OK;case He.CANCELLED:return ht.CANCELLED;case He.UNKNOWN:return ht.UNKNOWN;case He.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case He.INTERNAL:return ht.INTERNAL;case He.UNAVAILABLE:return ht.UNAVAILABLE;case He.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case He.NOT_FOUND:return ht.NOT_FOUND;case He.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case He.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case He.ABORTED:return ht.ABORTED;case He.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case He.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case He.DATA_LOSS:return ht.DATA_LOSS;default:return Nt(39323,{code:i})}}(te=He||(He={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new ia([4294967295,4294967295],0);function kT(i){const t=jS().encode(i),e=new NS;return e.update(t),new Uint8Array(e.digest())}function VT(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ia([e,s],0),new ia([o,l],0)]}class Sy{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new oc(`Invalid padding: ${e}`);if(s<0)throw new oc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new oc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=ia.fromNumber(this.pe)}we(t,e,s){let o=t.add(e.multiply(ia.fromNumber(s)));return o.compare(IO)===1&&(o=new ia([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=kT(t),[s,o]=VT(e);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);if(!this.be(h))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),h=new Sy(l,o,e);return s.forEach(d=>h.insert(d)),h}insert(t){if(this.pe===0)return;const e=kT(t),[s,o]=VT(e);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);this.Se(h)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,e,s,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Hc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Id(Mt.min(),o,new we(zt),ns(),Yt())}}class Hc{constructor(t,e,s,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Hc(s,e,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,e,s,o){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=o}}class y1{constructor(t,e){this.targetId=t,this.Ce=e}}class v1{constructor(t,e,s=vn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class PT{constructor(){this.Fe=0,this.Me=LT(),this.xe=vn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Yt(),e=Yt(),s=Yt();return this.Me.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Nt(38017,{changeType:l})}}),new Hc(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=LT()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,oe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xO{constructor(t){this.ze=t,this.je=new Map,this.He=ns(),this.Je=wf(),this.Ye=wf(),this.Ze=new we(zt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:Nt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,o)=>{this.it(o)&&e(o)})}ot(t){const e=t.targetId,s=t.Ce.count,o=this._t(e);if(o){const l=o.target;if(xg(l))if(s===0){const h=new Rt(l.path);this.tt(e,h,An.newNoDocument(h,Mt.min()))}else oe(s===1,20013,{expectedCount:s});else{const h=this.ut(e);if(h!==s){const d=this.ct(t),p=d?this.lt(d,t,h):1;if(p!==0){this.st(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=e;let h,d;try{h=la(s).toUint8Array()}catch(p){if(p instanceof FS)return kl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Sy(h,o,l)}catch(p){return kl(p instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let o=0;return s.forEach(l=>{const h=this.ze.Pt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,l,null),o++)}),o}It(t){const e=new Map;this.je.forEach((l,h)=>{const d=this._t(h);if(d){if(l.current&&xg(d.target)){const p=new Rt(d.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,An.newNoDocument(p,t))}l.Le&&(e.set(h,l.qe()),l.Qe())}});let s=Yt();this.Ye.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,h)=>h.setReadTime(t));const o=new Id(t,e,this.Ze,this.He,s);return this.He=ns(),this.Je=wf(),this.Ye=wf(),this.Ze=new we(zt),o}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,e)?o.$e(e,1):o.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new PT,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new tn(zt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new tn(zt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||yt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new PT),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function wf(){return new we(Rt.comparator)}function LT(){return new we(Rt.comparator)}const OO={asc:"ASCENDING",desc:"DESCENDING"},NO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DO={and:"AND",or:"OR"};class MO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ng(i,t){return i.useProto3Json||Td(t)?t:{value:t}}function Jf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _1(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function kO(i,t){return Jf(i,t.toTimestamp())}function ur(i){return oe(!!i,49232),Mt.fromTimestamp(function(e){const s=oa(e);return new Je(s.seconds,s.nanos)}(i))}function wy(i,t){return Dg(i,t).canonicalString()}function Dg(i,t){const e=function(o){return new Oe(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?e:e.child(t)}function E1(i){const t=Oe.fromString(i);return oe(A1(t),10190,{key:t.toString()}),t}function Mg(i,t){return wy(i.databaseId,t.path)}function ng(i,t){const e=E1(t);if(e.get(1)!==i.databaseId.projectId)throw new St(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new St(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Rt(b1(e))}function T1(i,t){return wy(i.databaseId,t)}function VO(i){const t=E1(i);return t.length===4?Oe.emptyPath():b1(t)}function kg(i){return new Oe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function b1(i){return oe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function UT(i,t,e){return{name:Mg(i,t),fields:e.value.mapValue.fields}}function PO(i,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Nt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(oe(_===void 0||typeof _=="string",58123),vn.fromBase64String(_||"")):(oe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),vn.fromUint8Array(_||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const _=g.code===void 0?ht.UNKNOWN:g1(g.code);return new St(_,g.message||"")}(h);e=new v1(s,o,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ng(i,s.document.name),l=ur(s.document.updateTime),h=s.document.createTime?ur(s.document.createTime):Mt.min(),d=new $n({mapValue:{fields:s.document.fields}}),p=An.newFoundDocument(o,l,h,d),g=s.targetIds||[],_=s.removedTargetIds||[];e=new Vf(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ng(i,s.document),l=s.readTime?ur(s.readTime):Mt.min(),h=An.newNoDocument(o,l),d=s.removedTargetIds||[];e=new Vf([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ng(i,s.document),l=s.removedTargetIds||[];e=new Vf([],l,o,null)}else{if(!("filter"in t))return Nt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new RO(o,l),d=s.targetId;e=new y1(d,h)}}return e}function LO(i,t){let e;if(t instanceof zc)e={update:UT(i,t.key,t.value)};else if(t instanceof p1)e={delete:Mg(i,t.key)};else if(t instanceof da)e={update:UT(i,t.key,t.data),updateMask:KO(t.fieldMask)};else{if(!(t instanceof SO))return Nt(16599,{ft:t.type});e={verify:Mg(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Wf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Sc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Zf)return{fieldPath:h.field.canonicalString(),increment:d.Re};throw Nt(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:kO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Nt(27497)}(i,t.precondition)),e}function UO(i,t){return i&&i.length>0?(oe(t!==void 0,14353),i.map(e=>function(o,l){let h=o.updateTime?ur(o.updateTime):ur(l);return h.isEqual(Mt.min())&&(h=ur(l)),new EO(h,o.transformResults||[])}(e,t))):[]}function jO(i,t){return{documents:[T1(i,t.path)]}}function BO(i,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=T1(i,o);const l=function(g){if(g.length!==0)return w1(dr.create(g,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:dl(b.field),direction:FO(b.dir)}}(_))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const d=Ng(i,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:o}}function zO(i){let t=VO(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){oe(s===1,65062);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let l=[];e.where&&(l=function(v){const b=S1(v);return b instanceof dr&&JS(b)?b.getFilters():[b]}(e.where));let h=[];e.orderBy&&(h=function(v){return v.map(b=>function(B){return new Xf(ml(B.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(b))}(e.orderBy));let d=null;e.limit&&(d=function(v){let b;return b=typeof v=="object"?v.value:v,Td(b)?null:b}(e.limit));let p=null;e.startAt&&(p=function(v){const b=!!v.before,M=v.values||[];return new Yf(M,b)}(e.startAt));let g=null;return e.endAt&&(g=function(v){const b=!v.before,M=v.values||[];return new Yf(M,b)}(e.endAt)),aO(t,o,h,l,d,"F",p,g)}function HO(i,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function S1(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=ml(e.unaryFilter.field);return Ze.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ml(e.unaryFilter.field);return Ze.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ml(e.unaryFilter.field);return Ze.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ml(e.unaryFilter.field);return Ze.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(i):i.fieldFilter!==void 0?function(e){return Ze.create(ml(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return dr.create(e.compositeFilter.filters.map(s=>S1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(e.compositeFilter.op))}(i):Nt(30097,{filter:i})}function FO(i){return OO[i]}function qO(i){return NO[i]}function GO(i){return DO[i]}function dl(i){return{fieldPath:i.canonicalString()}}function ml(i){return yn.fromServerFormat(i.fieldPath)}function w1(i){return i instanceof Ze?function(e){if(e.op==="=="){if(AT(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NAN"}};if(wT(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(AT(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NAN"}};if(wT(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(e.field),op:qO(e.op),value:e.value}}}(i):i instanceof dr?function(e){const s=e.getFilters().map(o=>w1(o));return s.length===1?s[0]:{compositeFilter:{op:GO(e.op),filters:s}}}(i):Nt(54877,{filter:i})}function KO(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function A1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,e,s,o,l=Mt.min(),h=Mt.min(),d=vn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t){this.wt=t}}function $O(i){const t=zO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Og(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.Cn=new XO}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(aa.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(aa.min())}updateCollectionGroup(t,e,s){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class XO{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new tn(Oe.comparator),l=!o.has(s);return this.index[e]=o.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new tn(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R1=41943040;class Qn{static withCacheSize(t){return new Qn(t,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(R1,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ul(0)}static lr(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="LruGarbageCollector",WO=1048576;function zT([i,t],[e,s]){const o=zt(i,e);return o===0?zt(t,s):o}class ZO{constructor(t){this.Er=t,this.buffer=new tn(zT),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();zT(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class JO{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){yt(BT,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Yl(e)?yt(BT,"Ignoring IndexedDB error during garbage collection: ",e):await $l(e)}await this.mr(3e5)})}}class tN{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return it.resolve(Ed.le);const s=new ZO(e);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(jT)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jT):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,o,l,h,d,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,h=Date.now(),this.nthSequenceNumber(t,o))).next(v=>(s=v,d=Date.now(),this.removeTargets(t,s,e))).next(v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(v=>(g=Date.now(),hl()<=$t.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:v})))}}function eN(i,t){return new tN(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.changes=new yo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,An.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?it.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(s!==null&&dc(s.mutation,o,si.empty(),Je.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Yt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Yt()){const o=Ya();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,s).next(l=>{let h=ac();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const s=Ya();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Yt()))}populateOverlays(t,e,s){const o=[];return s.forEach(l=>{e.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((h,d)=>{e.set(h,d)})})}computeViews(t,e,s,o){let l=ns();const h=fc(),d=function(){return fc()}();return e.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof da)?l=l.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),dc(_.mutation,g,_.mutation.getFieldMask(),Je.now())):h.set(g.key,si.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((g,_)=>h.set(g,_)),e.forEach((g,_)=>{var v;return d.set(g,new iN(_,(v=h.get(g))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(t,e){const s=fc();let o=new we((h,d)=>h-d),l=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=e.get(p);if(g===null)return;let _=s.get(p)||si.empty();_=d.applyToLocalView(g,_),s.set(p,_);const v=(o.get(d.batchId)||Yt()).add(p);o=o.insert(d.batchId,v)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,v=o1();_.forEach(b=>{if(!l.has(b)){const M=d1(e.get(b),s.get(b));M!==null&&v.set(b,M),l=l.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,v))}return it.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,o){return function(h){return Rt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):oO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-l.size):it.resolve(Ya());let d=vc,p=l;return h.next(g=>it.forEach(g,(_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(_)?it.resolve():this.remoteDocumentCache.getEntry(t,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(t,g,l)).next(()=>this.computeViews(t,p,g,Yt())).next(_=>({batchId:d,changes:a1(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Rt(e)).next(s=>{let o=ac();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const l=e.collectionGroup;let h=ac();return this.indexManager.getCollectionParents(t,l).next(d=>it.forEach(d,p=>{const g=function(v,b){return new Sd(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(_=>{_.forEach((v,b)=>{h=h.insert(v,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,o))).next(h=>{l.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,An.newInvalidDocument(_)))});let d=ac();return h.forEach((p,g)=>{const _=l.get(p);_!==void 0&&dc(_.mutation,g,si.empty(),Je.now()),Ad(e,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return it.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:ur(o.createTime)}}(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(o){return{name:o.name,query:$O(o.bundledQuery),readTime:ur(o.readTime)}}(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.overlays=new we(Rt.comparator),this.Qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Ya();return it.forEach(e,o=>this.getOverlay(t,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((o,l)=>{this.St(t,e,l)}),it.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),it.resolve()}getOverlaysForCollection(t,e,s){const o=Ya(),l=e.length+1,h=new Rt(e.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let l=new we((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=Ya(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ya(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return it.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new AO(e,s));let l=this.Qr.get(e);l===void 0&&(l=Yt(),this.Qr.set(e,l)),this.Qr.set(e,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.$r=new tn(ln.Ur),this.Kr=new tn(ln.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new ln(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new ln(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new Rt(new Oe([])),s=new ln(e,t),o=new ln(e,t+1),l=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),l.push(h.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Rt(new Oe([])),s=new ln(e,t),o=new ln(e,t+1);let l=Yt();return this.Kr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(t){const e=new ln(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class ln{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Rt.comparator(t.key,e.key)||zt(t.Zr,e.Zr)}static Wr(t,e){return zt(t.Zr,e.Zr)||Rt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new tn(ln.Ur)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new wO(l,e,s,o);this.mutationQueue.push(h);for(const d of o)this.Xr=this.Xr.add(new ln(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(h)}lookupMutationBatch(t,e){return it.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ti(s),l=o<0?0:o;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?py:this.nr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new ln(e,0),o=new ln(e,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,o],h=>{const d=this.ei(h.Zr);l.push(d)}),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new tn(zt);return e.forEach(o=>{const l=new ln(o,0),h=new ln(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,h],d=>{s=s.add(d.Zr)})}),it.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let l=s;Rt.isDocumentKey(l)||(l=l.child(""));const h=new ln(new Rt(l),0);let d=new tn(zt);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Zr)),!0)},h),it.resolve(this.ni(d))}ni(t){const e=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){oe(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return it.forEach(e.mutations,o=>{const l=new ln(o.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new ln(e,0),o=this.Xr.firstAfterOrEqual(s);return it.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t){this.ii=t,this.docs=function(){return new we(Rt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),l=o?o.size:0,h=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return it.resolve(s?s.document.mutableCopy():An.newInvalidDocument(e))}getEntries(t,e){let s=ns();return e.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():An.newInvalidDocument(o))}),it.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let l=ns();const h=e.path,d=new Rt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||Ux(Lx(_),s)<=0||(o.has(_.key)||Ad(e,_))&&(l=l.insert(_.key,_.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,e,s,o){Nt(9500)}si(t,e){return it.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new cN(this)}getSize(t){return it.resolve(this.size)}}class cN extends nN{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?e.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),it.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t){this.persistence=t,this.oi=new yo(e=>vy(e),_y),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this._i=0,this.ai=new Ay,this.targetCount=0,this.ui=Ul.cr()}forEachTarget(t,e){return this.oi.forEach((s,o)=>e(o)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),it.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Ul(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Tr(e),it.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,s){let o=0;const l=[];return this.oi.forEach((h,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.oi.delete(h),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),it.waitFor(l).next(()=>o)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return it.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),it.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(h=>{l.push(o.markPotentiallyOrphaned(t,h))}),it.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return it.resolve(s)}containsKey(t,e){return it.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,e){this.ci={},this.overlays={},this.li=new Ed(0),this.hi=!1,this.hi=!0,this.Pi=new oN,this.referenceDelegate=t(this),this.Ti=new hN(this),this.indexManager=new YO,this.remoteDocumentCache=function(o){return new uN(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new QO(e),this.Ei=new sN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new aN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new lN(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){yt("MemoryPersistence","Starting transaction:",t);const o=new fN(this.li.next());return this.referenceDelegate.di(),s(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(t,e){return it.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class fN extends Bx{constructor(t){super(),this.currentSequenceNumber=t}}class Ry{constructor(t){this.persistence=t,this.Vi=new Ay,this.mi=null}static fi(t){return new Ry(t)}get gi(){if(this.mi)return this.mi;throw Nt(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),it.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.gi,s=>{const o=Rt.fromPath(s);return this.pi(t,o).next(l=>{l||e.removeEntry(o,Mt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return it.or([()=>it.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class td{constructor(t,e){this.persistence=t,this.yi=new yo(s=>Fx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=eN(this,e)}static fi(t,e){return new td(t,e)}di(){}Ai(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(o=>s+o))}br(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return it.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(l=>l?it.resolve():e(o)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(t,h=>this.Dr(t,h,e).next(d=>{d||(s++,l.removeEntry(h,Mt.min()))})).next(()=>l.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),it.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Df(t.data.value)),e}Dr(t,e,s){return it.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.yi.get(e);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.ds=s,this.As=o}static Rs(t,e){let s=Yt(),o=Yt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Cy(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return u2()?8:zx(Rn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,o){const l={result:null};return this.ws(t,e).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.bs(t,e,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new dN;return this.Ss(t,e,h).next(d=>{if(l.result=d,this.fs)return this.Ds(t,e,h,d.size)})}).next(()=>l.result)}Ds(t,e,s,o){return s.documentReadCount<this.gs?(hl()<=$t.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",fl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),it.resolve()):(hl()<=$t.DEBUG&&yt("QueryEngine","Query:",fl(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(hl()<=$t.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",fl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,or(e))):it.resolve())}ws(t,e){if(xT(e))return it.resolve(null);let s=or(e);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=Og(e,null,"F"),s=or(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const h=Yt(...l);return this.ys.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.vs(e,d);return this.Cs(e,g,h,p.readTime)?this.ws(t,Og(e,null,"F")):this.Fs(t,g,e,p)}))})))}bs(t,e,s,o){return xT(e)||o.isEqual(Mt.min())?it.resolve(null):this.ys.getDocuments(t,s).next(l=>{const h=this.vs(e,l);return this.Cs(e,h,s,o)?it.resolve(null):(hl()<=$t.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fl(e)),this.Fs(t,h,e,Px(o,vc)).next(d=>d))})}vs(t,e){let s=new tn(r1(t));return e.forEach((o,l)=>{Ad(t,l)&&(s=s.add(l))}),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(t,e,s){return hl()<=$t.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",fl(e)),this.ys.getDocumentsMatchingQuery(t,e,aa.min(),s)}Fs(t,e,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(l=>(e.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="LocalStore",pN=3e8;class gN{constructor(t,e,s,o){this.persistence=t,this.Ms=e,this.serializer=o,this.xs=new we(zt),this.Os=new yo(l=>vy(l),_y),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function yN(i,t,e,s){return new gN(i,t,e,s)}async function I1(i,t){const e=Vt(i);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=Yt();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return e.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:d}))})})}function vN(i,t){const e=Vt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),l=e.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const v=g.batch,b=v.keys();let M=it.resolve();return b.forEach(B=>{M=M.next(()=>_.getEntry(p,B)).next(H=>{const O=g.docVersions.get(B);oe(O!==null,48541),H.version.compareTo(O)<0&&(v.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),_.addEntry(H)))})}),M.next(()=>d.mutationQueue.removeMutationBatch(p,v))}(e,s,t,l).next(()=>l.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Yt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>e.localDocuments.getDocuments(s,o))})}function x1(i){const t=Vt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function _N(i,t){const e=Vt(i),s=t.snapshotVersion;let o=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=e.Bs.newChangeBuffer({trackRemovals:!0});o=e.xs;const d=[];t.targetChanges.forEach((_,v)=>{const b=o.get(v);if(!b)return;d.push(e.Ti.removeMatchingKeys(l,_.removedDocuments,v).next(()=>e.Ti.addMatchingKeys(l,_.addedDocuments,v)));let M=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?M=M.withResumeToken(vn.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,s)),o=o.insert(v,M),function(H,O,et){return H.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=pN?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(b,M,_)&&d.push(e.Ti.updateTargetData(l,M))});let p=ns(),g=Yt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(EN(l,h,t.documentUpdates).next(_=>{p=_.qs,g=_.Qs})),!s.isEqual(Mt.min())){const _=e.Ti.getLastRemoteSnapshotVersion(l).next(v=>e.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return it.waitFor(d).next(()=>h.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(e.xs=o,l))}function EN(i,t,e){let s=Yt(),o=Yt();return e.forEach(l=>s=s.add(l)),t.getEntries(i,s).next(l=>{let h=ns();return e.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Mt.min())?(t.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(d,p)):yt(Iy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function TN(i,t){const e=Vt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=py),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function bN(i,t){const e=Vt(i);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return e.Ti.getTargetData(s,t).next(l=>l?(o=l,it.resolve(o)):e.Ti.allocateTargetId(s).next(h=>(o=new Js(t,h,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=e.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function Vg(i,t,e){const s=Vt(i),o=s.xs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Yl(h))throw h;yt(Iy,`Failed to update sequence numbers for target ${t}: ${h}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function HT(i,t,e){const s=Vt(i);let o=Mt.min(),l=Yt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const v=Vt(p),b=v.Os.get(_);return b!==void 0?it.resolve(v.xs.get(b)):v.Ti.getTargetData(g,_)}(s,h,or(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,t,e?o:Mt.min(),e?l:Yt())).next(d=>(SN(s,uO(t),d),{documents:d,$s:l})))}function SN(i,t,e){let s=i.Ns.get(t)||Mt.min();e.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Ns.set(t,s)}class FT{constructor(){this.activeTargetIds=pO()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wN{constructor(){this.xo=new FT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new FT,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="ConnectivityMonitor";class GT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){yt(qT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){yt(qT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=null;function Pg(){return Af===null?Af=function(){return 268435456+Math.round(2147483648*Math.random())}():Af++,"0x"+Af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="RestConnection",RN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CN{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Qf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,e,s,o,l){const h=Pg(),d=this.jo(t,e.toUriEncodedString());yt(ig,`Sending RPC '${t}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,l);const{host:g}=new URL(d),_=Gl(g);return this.Jo(t,d,p,s,_).then(v=>(yt(ig,`Received RPC '${t}' ${h}: `,v),v),v=>{throw kl(ig,`RPC '${t}' ${h} failed with error: `,v,"url: ",d,"request:",s),v})}Yo(t,e,s,o,l,h){return this.zo(t,e,s,o,l)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ql}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),s&&s.headers.forEach((o,l)=>t[l]=o)}jo(t,e){const s=RN[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class xN extends CN{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,l){const h=Pg();return new Promise((d,p)=>{const g=new DS;g.setWithCredentials(!0),g.listenOnce(MS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Nf.NO_ERROR:const v=g.getResponseJson();yt(bn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(v)),d(v);break;case Nf.TIMEOUT:yt(bn,`RPC '${t}' ${h} timed out`),p(new St(ht.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const b=g.getStatus();if(yt(bn,`RPC '${t}' ${h} failed with status:`,b,"response text:",g.getResponseText()),b>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const B=M==null?void 0:M.error;if(B&&B.status&&B.message){const H=function(et){const ot=et.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(ot)>=0?ot:ht.UNKNOWN}(B.status);p(new St(H,B.message))}else p(new St(ht.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new St(ht.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{h_:t,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{yt(bn,`RPC '${t}' ${h} completed.`)}});const _=JSON.stringify(o);yt(bn,`RPC '${t}' ${h} sending request:`,o),g.send(e,"POST",_,s,15)})}I_(t,e,s){const o=Pg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=PS(),d=VS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const _=l.join("");yt(bn,`Creating RPC '${t}' stream ${o}: ${_}`,p);const v=h.createWebChannel(_,p);this.E_(v);let b=!1,M=!1;const B=new IN({Zo:O=>{M?yt(bn,`Not sending because RPC '${t}' stream ${o} is closed:`,O):(b||(yt(bn,`Opening RPC '${t}' stream ${o} transport.`),v.open(),b=!0),yt(bn,`RPC '${t}' stream ${o} sending:`,O),v.send(O))},Xo:()=>v.close()}),H=(O,et,ot)=>{O.listen(et,W=>{try{ot(W)}catch(st){setTimeout(()=>{throw st},0)}})};return H(v,sc.EventType.OPEN,()=>{M||(yt(bn,`RPC '${t}' stream ${o} transport opened.`),B.__())}),H(v,sc.EventType.CLOSE,()=>{M||(M=!0,yt(bn,`RPC '${t}' stream ${o} transport closed`),B.u_(),this.d_(v))}),H(v,sc.EventType.ERROR,O=>{M||(M=!0,kl(bn,`RPC '${t}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),B.u_(new St(ht.UNAVAILABLE,"The operation could not be completed")))}),H(v,sc.EventType.MESSAGE,O=>{var et;if(!M){const ot=O.data[0];oe(!!ot,16349);const W=ot,st=(W==null?void 0:W.error)||((et=W[0])===null||et===void 0?void 0:et.error);if(st){yt(bn,`RPC '${t}' stream ${o} received error:`,st);const at=st.status;let ut=function(C){const N=He[C];if(N!==void 0)return g1(N)}(at),k=st.message;ut===void 0&&(ut=ht.INTERNAL,k="Unknown error status: "+at+" with message "+st.message),M=!0,B.u_(new St(ut,k)),v.close()}else yt(bn,`RPC '${t}' stream ${o} received:`,ot),B.c_(ot)}}),H(d,kS.STAT_EVENT,O=>{O.stat===wg.PROXY?yt(bn,`RPC '${t}' stream ${o} detected buffering proxy`):O.stat===wg.NOPROXY&&yt(bn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.a_()},0),B}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(i){return new MO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,e,s=1e3,o=1.5,l=6e4){this.xi=t,this.timerId=e,this.A_=s,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,e-s);o>0&&yt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="PersistentStream";class N1{constructor(t,e,s,o,l,h,d,p){this.xi=t,this.S_=s,this.D_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new O1(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===ht.RESOURCE_EXHAUSTED?(es(e.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===e&&this.z_(s,o)},s=>{t(()=>{const o=new St(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,e){const s=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return yt(KT,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(yt(KT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ON extends N1{constructor(t,e,s,o,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,h),this.serializer=l}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=PO(this.serializer,t),s=function(l){if(!("targetChange"in l))return Mt.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Mt.min():h.readTime?ur(h.readTime):Mt.min()}(t);return this.listener.Y_(e,s)}Z_(t){const e={};e.database=kg(this.serializer),e.addTarget=function(l,h){let d;const p=h.target;if(d=xg(p)?{documents:jO(l,p)}:{query:BO(l,p).gt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=_1(l,h.resumeToken);const g=Ng(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Mt.min())>0){d.readTime=Jf(l,h.snapshotVersion.toTimestamp());const g=Ng(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=HO(this.serializer,t);s&&(e.labels=s),this.Q_(e)}X_(t){const e={};e.database=kg(this.serializer),e.removeTarget=t,this.Q_(e)}}class NN extends N1{constructor(t,e,s,o,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,h),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return oe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,oe(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){oe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=UO(t.writeResults,t.commitTime),s=ur(t.commitTime);return this.listener.ra(s,e)}ia(){const t={};t.database=kg(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>LO(this.serializer,s))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{}class MN extends DN{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new St(ht.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.zo(t,Dg(e,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new St(ht.UNKNOWN,l.toString())})}Yo(t,e,s,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Yo(t,Dg(e,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new St(ht.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class kN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(es(e),this.ua=!1):yt("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class VN{constructor(t,e,s,o,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(h=>{s.enqueueAndForget(async()=>{vo(this)&&(yt(lo,"Restarting streams for network reachability change."),await async function(p){const g=Vt(p);g.da.add(4),await Fc(g),g.Va.set("Unknown"),g.da.delete(4),await Od(g)}(this))})}),this.Va=new kN(s,o)}}async function Od(i){if(vo(i))for(const t of i.Aa)await t(!0)}async function Fc(i){for(const t of i.Aa)await t(!1)}function D1(i,t){const e=Vt(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),Dy(e)?Ny(e):Xl(e).N_()&&Oy(e,t))}function xy(i,t){const e=Vt(i),s=Xl(e);e.Ea.delete(t),s.N_()&&M1(e,t),e.Ea.size===0&&(s.N_()?s.k_():vo(e)&&e.Va.set("Unknown"))}function Oy(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Xl(i).Z_(t)}function M1(i,t){i.ma.Ke(t),Xl(i).X_(t)}function Ny(i){i.ma=new xO({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),Xl(i).start(),i.Va.ca()}function Dy(i){return vo(i)&&!Xl(i).O_()&&i.Ea.size>0}function vo(i){return Vt(i).da.size===0}function k1(i){i.ma=void 0}async function PN(i){i.Va.set("Online")}async function LN(i){i.Ea.forEach((t,e)=>{Oy(i,t)})}async function UN(i,t){k1(i),Dy(i)?(i.Va.Pa(t),Ny(i)):i.Va.set("Unknown")}async function jN(i,t,e){if(i.Va.set("Online"),t instanceof v1&&t.state===2&&t.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ea.delete(d),o.ma.removeTarget(d))}(i,t)}catch(s){yt(lo,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ed(i,s)}else if(t instanceof Vf?i.ma.Xe(t):t instanceof y1?i.ma.ot(t):i.ma.nt(t),!e.isEqual(Mt.min()))try{const s=await x1(i.localStore);e.compareTo(s)>=0&&await function(l,h){const d=l.ma.It(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ea.get(g);_&&l.Ea.set(g,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const _=l.Ea.get(p);if(!_)return;l.Ea.set(p,_.withResumeToken(vn.EMPTY_BYTE_STRING,_.snapshotVersion)),M1(l,p);const v=new Js(_.target,p,g,_.sequenceNumber);Oy(l,v)}),l.remoteSyncer.applyRemoteEvent(d)}(i,e)}catch(s){yt(lo,"Failed to raise snapshot:",s),await ed(i,s)}}async function ed(i,t,e){if(!Yl(t))throw t;i.da.add(1),await Fc(i),i.Va.set("Offline"),e||(e=()=>x1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{yt(lo,"Retrying IndexedDB access"),await e(),i.da.delete(1),await Od(i)})}function V1(i,t){return t().catch(e=>ed(i,e,t))}async function Nd(i){const t=Vt(i),e=ca(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:py;for(;BN(t);)try{const o=await TN(t.localStore,s);if(o===null){t.Ia.length===0&&e.k_();break}s=o.batchId,zN(t,o)}catch(o){await ed(t,o)}P1(t)&&L1(t)}function BN(i){return vo(i)&&i.Ia.length<10}function zN(i,t){i.Ia.push(t);const e=ca(i);e.N_()&&e.ea&&e.ta(t.mutations)}function P1(i){return vo(i)&&!ca(i).O_()&&i.Ia.length>0}function L1(i){ca(i).start()}async function HN(i){ca(i).ia()}async function FN(i){const t=ca(i);for(const e of i.Ia)t.ta(e.mutations)}async function qN(i,t,e){const s=i.Ia.shift(),o=by.from(s,t,e);await V1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Nd(i)}async function GN(i,t){t&&ca(i).ea&&await async function(s,o){if(function(h){return CO(h)&&h!==ht.ABORTED}(o.code)){const l=s.Ia.shift();ca(s).L_(),await V1(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Nd(s)}}(i,t),P1(i)&&L1(i)}async function QT(i,t){const e=Vt(i);e.asyncQueue.verifyOperationInProgress(),yt(lo,"RemoteStore received new credentials");const s=vo(e);e.da.add(3),await Fc(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Od(e)}async function KN(i,t){const e=Vt(i);t?(e.da.delete(2),await Od(e)):t||(e.da.add(2),await Fc(e),e.Va.set("Unknown"))}function Xl(i){return i.fa||(i.fa=function(e,s,o){const l=Vt(e);return l.oa(),new ON(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{e_:PN.bind(null,i),n_:LN.bind(null,i),i_:UN.bind(null,i),Y_:jN.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),Dy(i)?Ny(i):i.Va.set("Unknown")):(await i.fa.stop(),k1(i))})),i.fa}function ca(i){return i.ga||(i.ga=function(e,s,o){const l=Vt(e);return l.oa(),new NN(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:HN.bind(null,i),i_:GN.bind(null,i),na:FN.bind(null,i),ra:qN.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await Nd(i)):(await i.ga.stop(),i.Ia.length>0&&(yt(lo,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(t,e,s,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,l){const h=Date.now()+s,d=new My(t,e,h,o,l);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(i,t){if(es("AsyncQueue",`${t}: ${i}`),Yl(i))return new St(ht.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{static emptySet(t){return new yl(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||Rt.comparator(e.key,s.key):(e,s)=>Rt.comparator(e.key,s.key),this.keyedMap=ac(),this.sortedSet=new we(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof yl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new yl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.pa=new we(Rt.comparator)}track(t){const e=t.doc.key,s=this.pa.get(e);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(e,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(e):t.type===1&&s.type===2?this.pa=this.pa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):Nt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,s)=>{t.push(s)}),t}}class jl{constructor(t,e,s,o,l,h,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,l){const h=[];return e.forEach(d=>{h.push({type:0,doc:d})}),new jl(t,e,yl.emptySet(e),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class $N{constructor(){this.queries=YT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Vt(e),l=o.queries;o.queries=YT(),l.forEach((h,d)=>{for(const p of d.Sa)p.onError(s)})})(this,new St(ht.ABORTED,"Firestore shutting down"))}}function YT(){return new yo(i=>i1(i),wd)}async function YN(i,t){const e=Vt(i);let s=3;const o=t.query;let l=e.queries.get(o);l?!l.Da()&&t.va()&&(s=2):(l=new QN,s=t.va()?0:1);try{switch(s){case 0:l.ba=await e.onListen(o,!0);break;case 1:l.ba=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const d=ky(h,`Initialization of query '${fl(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,l),l.Sa.push(t),t.Fa(e.onlineState),l.ba&&t.Ma(l.ba)&&Vy(e)}async function XN(i,t){const e=Vt(i),s=t.query;let o=3;const l=e.queries.get(s);if(l){const h=l.Sa.indexOf(t);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=t.va()?0:1:!l.Da()&&t.va()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function WN(i,t){const e=Vt(i);let s=!1;for(const o of t){const l=o.query,h=e.queries.get(l);if(h){for(const d of h.Sa)d.Ma(o)&&(s=!0);h.ba=o}}s&&Vy(e)}function ZN(i,t,e){const s=Vt(i),o=s.queries.get(t);if(o)for(const l of o.Sa)l.onError(e);s.queries.delete(t)}function Vy(i){i.Ca.forEach(t=>{t.next()})}var Lg,XT;(XT=Lg||(Lg={})).xa="default",XT.Cache="cache";class JN{constructor(t,e,s){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new jl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const s=e!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=jl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t){this.key=t}}class j1{constructor(t){this.key=t}}class tD{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Yt(),this.mutatedKeys=Yt(),this.Za=r1(t),this.Xa=new yl(this.Za)}get eu(){return this.Ha}tu(t,e){const s=e?e.nu:new $T,o=e?e.Xa:this.Xa;let l=e?e.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((_,v)=>{const b=o.get(_),M=Ad(this.query,v)?v:null,B=!!b&&this.mutatedKeys.has(b.key),H=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let O=!1;b&&M?b.data.isEqual(M.data)?B!==H&&(s.track({type:3,doc:M}),O=!0):this.ru(b,M)||(s.track({type:2,doc:M}),O=!0,(p&&this.Za(M,p)>0||g&&this.Za(M,g)<0)&&(d=!0)):!b&&M?(s.track({type:0,doc:M}),O=!0):b&&!M&&(s.track({type:1,doc:b}),O=!0,(p||g)&&(d=!0)),O&&(M?(h=h.add(M),l=H?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{Xa:h,nu:s,Cs:d,mutatedKeys:l}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const l=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const h=t.nu.wa();h.sort((_,v)=>function(M,B){const H=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Vt:O})}};return H(M)-H(B)}(_.type,v.type)||this.Za(_.doc,v.doc)),this.iu(s),o=o!=null&&o;const d=e&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new jl(this.query,t.Xa,l,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new $T,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Yt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const e=[];return t.forEach(s=>{this.Ya.has(s)||e.push(new j1(s))}),this.Ya.forEach(s=>{t.has(s)||e.push(new U1(s))}),e}au(t){this.Ha=t.$s,this.Ya=Yt();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return jl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Py="SyncEngine";class eD{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class nD{constructor(t){this.key=t,this.cu=!1}}class iD{constructor(t,e,s,o,l,h){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new yo(d=>i1(d),wd),this.Pu=new Map,this.Tu=new Set,this.Iu=new we(Rt.comparator),this.Eu=new Map,this.du=new Ay,this.Au={},this.Ru=new Map,this.Vu=Ul.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function rD(i,t,e=!0){const s=G1(i);let o;const l=s.hu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await B1(s,t,e,!0),o}async function sD(i,t){const e=G1(i);await B1(e,t,!0,!1)}async function B1(i,t,e,s){const o=await bN(i.localStore,or(t)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,e);let d;return s&&(d=await aD(i,t,l,h==="current",o.resumeToken)),i.isPrimaryClient&&e&&D1(i.remoteStore,o),d}async function aD(i,t,e,s,o){i.fu=(v,b,M)=>async function(H,O,et,ot){let W=O.view.tu(et);W.Cs&&(W=await HT(H.localStore,O.query,!1).then(({documents:k})=>O.view.tu(k,W)));const st=ot&&ot.targetChanges.get(O.targetId),at=ot&&ot.targetMismatches.get(O.targetId)!=null,ut=O.view.applyChanges(W,H.isPrimaryClient,st,at);return ZT(H,O.targetId,ut.ou),ut.snapshot}(i,v,b,M);const l=await HT(i.localStore,t,!0),h=new tD(t,l.$s),d=h.tu(l.documents),p=Hc.createSynthesizedTargetChangeForCurrentChange(e,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);ZT(i,e,g.ou);const _=new eD(t,e,h);return i.hu.set(t,_),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),g.snapshot}async function oD(i,t,e){const s=Vt(i),o=s.hu.get(t),l=s.Pu.get(o.targetId);if(l.length>1)return s.Pu.set(o.targetId,l.filter(h=>!wd(h,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),e&&xy(s.remoteStore,o.targetId),Ug(s,o.targetId)}).catch($l)):(Ug(s,o.targetId),await Vg(s.localStore,o.targetId,!0))}async function lD(i,t){const e=Vt(i),s=e.hu.get(t),o=e.Pu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),xy(e.remoteStore,s.targetId))}async function uD(i,t,e){const s=gD(i);try{const o=await function(h,d){const p=Vt(h),g=Je.now(),_=d.reduce((M,B)=>M.add(B.key),Yt());let v,b;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let B=ns(),H=Yt();return p.Bs.getEntries(M,_).next(O=>{B=O,B.forEach((et,ot)=>{ot.isValidDocument()||(H=H.add(et))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,B)).next(O=>{v=O;const et=[];for(const ot of d){const W=bO(ot,v.get(ot.key).overlayedDocument);W!=null&&et.push(new da(ot.key,W,XS(W.value.mapValue),lr.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,et,d)}).next(O=>{b=O;const et=O.applyToLocalDocumentSet(v,H);return p.documentOverlayCache.saveOverlays(M,O.batchId,et)})}).then(()=>({batchId:b.batchId,changes:a1(v)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Au[h.currentUser.toKey()];g||(g=new we(zt)),g=g.insert(d,p),h.Au[h.currentUser.toKey()]=g}(s,o.batchId,e),await qc(s,o.changes),await Nd(s.remoteStore)}catch(o){const l=ky(o,"Failed to persist write");e.reject(l)}}async function z1(i,t){const e=Vt(i);try{const s=await _N(e.localStore,t);t.targetChanges.forEach((o,l)=>{const h=e.Eu.get(l);h&&(oe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?oe(h.cu,14607):o.removedDocuments.size>0&&(oe(h.cu,42227),h.cu=!1))}),await qc(e,s,t)}catch(s){await $l(s)}}function WT(i,t,e){const s=Vt(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.hu.forEach((l,h)=>{const d=h.view.Fa(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Vt(h);p.onlineState=d;let g=!1;p.queries.forEach((_,v)=>{for(const b of v.Sa)b.Fa(d)&&(g=!0)}),g&&Vy(p)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function cD(i,t,e){const s=Vt(i);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Eu.get(t),l=o&&o.key;if(l){let h=new we(Rt.comparator);h=h.insert(l,An.newNoDocument(l,Mt.min()));const d=Yt().add(l),p=new Id(Mt.min(),new Map,new we(zt),h,d);await z1(s,p),s.Iu=s.Iu.remove(l),s.Eu.delete(t),Ly(s)}else await Vg(s.localStore,t,!1).then(()=>Ug(s,t,e)).catch($l)}async function hD(i,t){const e=Vt(i),s=t.batch.batchId;try{const o=await vN(e.localStore,t);F1(e,s,null),H1(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await qc(e,o)}catch(o){await $l(o)}}async function fD(i,t,e){const s=Vt(i);try{const o=await function(h,d){const p=Vt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(v=>(oe(v!==null,37113),_=v.keys(),p.mutationQueue.removeMutationBatch(g,v))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,t);F1(s,t,e),H1(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await qc(s,o)}catch(o){await $l(o)}}function H1(i,t){(i.Ru.get(t)||[]).forEach(e=>{e.resolve()}),i.Ru.delete(t)}function F1(i,t,e){const s=Vt(i);let o=s.Au[s.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function Ug(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Pu.get(t))i.hu.delete(s),e&&i.lu.gu(s,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(s=>{i.du.containsKey(s)||q1(i,s)})}function q1(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(xy(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),Ly(i))}function ZT(i,t,e){for(const s of e)s instanceof U1?(i.du.addReference(s.key,t),dD(i,s)):s instanceof j1?(yt(Py,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,t),i.du.containsKey(s.key)||q1(i,s.key)):Nt(19791,{pu:s})}function dD(i,t){const e=t.key,s=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(s)||(yt(Py,"New document in limbo: "+e),i.Tu.add(s),Ly(i))}function Ly(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new Rt(Oe.fromString(t)),s=i.Vu.next();i.Eu.set(s,new nD(e)),i.Iu=i.Iu.insert(e,s),D1(i.remoteStore,new Js(or(Ey(e.path)),s,"TargetPurposeLimboResolution",Ed.le))}}async function qc(i,t,e){const s=Vt(i),o=[],l=[],h=[];s.hu.isEmpty()||(s.hu.forEach((d,p)=>{h.push(s.fu(p,t,e).then(g=>{var _;if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:(_=e==null?void 0:e.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Cy.Rs(p.targetId,g);l.push(v)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(p,g){const _=Vt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>it.forEach(g,b=>it.forEach(b.ds,M=>_.persistence.referenceDelegate.addReference(v,b.targetId,M)).next(()=>it.forEach(b.As,M=>_.persistence.referenceDelegate.removeReference(v,b.targetId,M)))))}catch(v){if(!Yl(v))throw v;yt(Iy,"Failed to update sequence numbers: "+v)}for(const v of g){const b=v.targetId;if(!v.fromCache){const M=_.xs.get(b),B=M.snapshotVersion,H=M.withLastLimboFreeSnapshotVersion(B);_.xs=_.xs.insert(b,H)}}}(s.localStore,l))}async function mD(i,t){const e=Vt(i);if(!e.currentUser.isEqual(t)){yt(Py,"User change. New user:",t.toKey());const s=await I1(e.localStore,t);e.currentUser=t,function(l,h){l.Ru.forEach(d=>{d.forEach(p=>{p.reject(new St(ht.CANCELLED,h))})}),l.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await qc(e,s.ks)}}function pD(i,t){const e=Vt(i),s=e.Eu.get(t);if(s&&s.cu)return Yt().add(s.key);{let o=Yt();const l=e.Pu.get(t);if(!l)return o;for(const h of l){const d=e.hu.get(h);o=o.unionWith(d.view.eu)}return o}}function G1(i){const t=Vt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=z1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cD.bind(null,t),t.lu.Y_=WN.bind(null,t.eventManager),t.lu.gu=ZN.bind(null,t.eventManager),t}function gD(i){const t=Vt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fD.bind(null,t),t}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return yN(this.persistence,new mN,t.initialUser,this.serializer)}Su(t){return new C1(Ry.fi,this.serializer)}bu(t){return new wN}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class yD extends nd{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){oe(this.persistence.referenceDelegate instanceof td,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new JO(s,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new C1(s=>td.fi(s,e),this.serializer)}}class jg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>WT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mD.bind(null,this.syncEngine),await KN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new $N}()}createDatastore(t){const e=xd(t.databaseInfo.databaseId),s=function(l){return new xN(l)}(t.databaseInfo);return function(l,h,d,p){return new MN(l,h,d,p)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,o,l,h,d){return new VN(s,o,l,h,d)}(this.localStore,this.datastore,t.asyncQueue,e=>WT(this.syncEngine,e,0),function(){return GT.C()?new GT:new AN}())}createSyncEngine(t,e){return function(o,l,h,d,p,g,_){const v=new iD(o,l,h,d,p,g);return _&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const l=Vt(o);yt(lo,"RemoteStore shutting down."),l.da.add(5),await Fc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):es("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="FirestoreClient";class _D{constructor(t,e,s,o,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=wn.UNAUTHENTICATED,this.clientId=BS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{yt(ha,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(yt(ha,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=ky(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function sg(i,t){i.asyncQueue.verifyOperationInProgress(),yt(ha,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await I1(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function JT(i,t){i.asyncQueue.verifyOperationInProgress();const e=await ED(i);yt(ha,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(s=>QT(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>QT(t.remoteStore,o)),i._onlineComponents=t}async function ED(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){yt(ha,"Using user provided OfflineComponentProvider");try{await sg(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===ht.FAILED_PRECONDITION||o.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;kl("Error using user provided cache. Falling back to memory cache: "+e),await sg(i,new nd)}}else yt(ha,"Using default OfflineComponentProvider"),await sg(i,new yD(void 0));return i._offlineComponents}async function K1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(yt(ha,"Using user provided OnlineComponentProvider"),await JT(i,i._uninitializedComponentsProvider._online)):(yt(ha,"Using default OnlineComponentProvider"),await JT(i,new jg))),i._onlineComponents}function TD(i){return K1(i).then(t=>t.syncEngine)}async function bD(i){const t=await K1(i),e=t.eventManager;return e.onListen=rD.bind(null,t.syncEngine),e.onUnlisten=oD.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=sD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=lD.bind(null,t.syncEngine),e}function SD(i,t,e={}){const s=new ra;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const _=new vD({next:b=>{_.xu(),h.enqueueAndForget(()=>XN(l,v));const M=b.docs.has(d);!M&&b.fromCache?g.reject(new St(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&b.fromCache&&p&&p.source==="server"?g.reject(new St(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new JN(Ey(d.path),_,{includeMetadataChanges:!0,Qa:!0});return YN(l,v)}(await bD(i),i.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(i,t,e){if(!e)throw new St(ht.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function AD(i,t,e,s){if(t===!0&&s===!0)throw new St(ht.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function eb(i){if(!Rt.isDocumentKey(i))throw new St(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Uy(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Nt(12329,{type:typeof i})}function uo(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new St(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Uy(i);throw new St(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="firestore.googleapis.com",nb=!0;class ib{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new St(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$1,this.ssl=nb}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:nb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=R1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WO)throw new St(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q1((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new St(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new St(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new St(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jy{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ib({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ib(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Cx;switch(s.type){case"firstParty":return new Nx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new St(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=tb.get(e);s&&(yt("ComponentProvider","Removing Datastore"),tb.delete(e),s.terminate())}(this),Promise.resolve()}}function RD(i,t,e,s={}){var o;i=uo(i,jy);const l=Gl(t),h=i._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${e}`;l&&(SS(`https://${p}`),wS("Firestore",!0)),h.host!==$1&&h.host!==p&&kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:s});if(!so(g,d)&&(i._setSettings(g),s.mockUserToken)){let _,v;if(typeof s.mockUserToken=="string")_=s.mockUserToken,v=wn.MOCK_USER;else{_=t2(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new St(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new wn(b)}i._authCredentials=new Ix(new US(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CD=class Y1{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Y1(this.firestore,t,this._query)}};class ai{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ai(this.firestore,t,this._key)}}class wc extends CD{constructor(t,e,s){super(t,e,Ey(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ai(this.firestore,null,new Rt(t))}withConverter(t){return new wc(this.firestore,t,this._path)}}function co(i,t,...e){if(i=Cn(i),arguments.length===1&&(t=BS.newId()),wD("doc","path",t),i instanceof jy){const s=Oe.fromString(t,...e);return eb(s),new ai(i,null,new Rt(s))}{if(!(i instanceof ai||i instanceof wc))throw new St(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Oe.fromString(t,...e));return eb(s),new ai(i.firestore,i instanceof wc?i.converter:null,new Rt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="AsyncQueue";class sb{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new O1(this,"async_queue_retry"),this.rc=()=>{const s=rg();s&&yt(rb,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const e=rg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=rg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new ra;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Yl(t))throw t;yt(rb,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,es("INTERNAL UNHANDLED ERROR: ",ab(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=e,e}enqueueAfterDelay(t,e,s){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const o=My.createAndSchedule(this,t,e,s,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&Nt(47125,{cc:ab(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function ab(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Dd extends jy{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new sb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new sb(t),this._firestoreClient=void 0,await t}}}function ID(i,t){const e=typeof i=="object"?i:IS(),s=typeof i=="string"?i:Qf,o=dy(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=ZI("firestore");l&&RD(o,...l)}return o}function X1(i){if(i._terminated)throw new St(ht.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||xD(i),i._firestoreClient}function xD(i){var t,e,s;const o=i._freezeSettings(),l=function(d,p,g,_){return new Kx(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Q1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new _D(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bl(vn.fromBase64String(t))}catch(e){throw new St(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Bl(vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new St(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new St(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new St(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=/^__.*__$/;class ND{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new da(t,this.data,this.fieldMask,e,this.fieldTransforms):new zc(t,this.data,e,this.fieldTransforms)}}class W1{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new da(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Z1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ic:i})}}class Fy{constructor(t,e,s,o,l,h){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Fy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return id(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(Z1(this.Ic)&&OD.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class DD{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||xd(t)}bc(t,e,s,o=!1){return new Fy({Ic:t,methodName:e,wc:s,path:yn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function J1(i){const t=i._freezeSettings(),e=xd(i._databaseId);return new DD(i._databaseId,!!t.ignoreUndefinedProperties,e)}function MD(i,t,e,s,o,l={}){const h=i.bc(l.merge||l.mergeFields?2:0,t,e,o);qy("Data must be an object, but it was:",h,s);const d=tw(s,h);let p,g;if(l.merge)p=new si(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const b=Bg(t,v,e);if(!h.contains(b))throw new St(ht.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);nw(_,b)||_.push(b)}p=new si(_),g=h.fieldTransforms.filter(v=>p.covers(v.field))}else p=null,g=h.fieldTransforms;return new ND(new $n(d),p,g)}class kd extends By{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kd}}function kD(i,t,e,s){const o=i.bc(1,t,e);qy("Data must be an object, but it was:",o,s);const l=[],h=$n.empty();fa(s,(p,g)=>{const _=Gy(t,p,e);g=Cn(g);const v=o.mc(_);if(g instanceof kd)l.push(_);else{const b=Vd(g,v);b!=null&&(l.push(_),h.set(_,b))}});const d=new si(l);return new W1(h,d,o.fieldTransforms)}function VD(i,t,e,s,o,l){const h=i.bc(1,t,e),d=[Bg(t,s,e)],p=[o];if(l.length%2!=0)throw new St(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Bg(t,l[b])),p.push(l[b+1]);const g=[],_=$n.empty();for(let b=d.length-1;b>=0;--b)if(!nw(g,d[b])){const M=d[b];let B=p[b];B=Cn(B);const H=h.mc(M);if(B instanceof kd)g.push(M);else{const O=Vd(B,H);O!=null&&(g.push(M),_.set(M,O))}}const v=new si(g);return new W1(_,v,h.fieldTransforms)}function Vd(i,t){if(ew(i=Cn(i)))return qy("Unsupported field value:",t,i),tw(i,t);if(i instanceof By)return function(s,o){if(!Z1(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=Vd(d,o.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,t)}return function(s,o){if((s=Cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Je.fromDate(s);return{timestampValue:Jf(o.serializer,l)}}if(s instanceof Je){const l=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jf(o.serializer,l)}}if(s instanceof zy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bl)return{bytesValue:_1(o.serializer,s._byteString)};if(s instanceof ai){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:wy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Hy)return function(h,d){return{mapValue:{fields:{[$S]:{stringValue:YS},[$f]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return Ty(d.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Uy(s)}`)}(i,t)}function tw(i,t){const e={};return HS(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fa(i,(s,o)=>{const l=Vd(o,t.Ac(s));l!=null&&(e[s]=l)}),{mapValue:{fields:e}}}function ew(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Je||i instanceof zy||i instanceof Bl||i instanceof ai||i instanceof By||i instanceof Hy)}function qy(i,t,e){if(!ew(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const s=Uy(e);throw s==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+s)}}function Bg(i,t,e){if((t=Cn(t))instanceof Md)return t._internalPath;if(typeof t=="string")return Gy(i,t);throw id("Field path arguments must be of type string or ",i,!1,void 0,e)}const PD=new RegExp("[~\\*/\\[\\]]");function Gy(i,t,e){if(t.search(PD)>=0)throw id(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Md(...t.split("."))._internalPath}catch{throw id(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function id(i,t,e,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new St(ht.INVALID_ARGUMENT,d+i+p)}function nw(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,e,s,o,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ai(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(rw("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class LD extends iw{data(){return super.data()}}function rw(i,t){return typeof t=="string"?Gy(i,t):t instanceof Md?t._internalPath:t._delegate._internalPath}class UD{convertValue(t,e="none"){switch(ua(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(la(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Nt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return fa(t,(o,l)=>{s[o]=this.convertValue(l,e)}),s}convertVectorValue(t){var e,s,o;const l=(o=(s=(e=t.fields)===null||e===void 0?void 0:e[$f].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Ve(h.doubleValue));return new Hy(l)}convertGeoPoint(t){return new zy(Ve(t.latitude),Ve(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=bd(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(_c(t));default:return null}}convertTimestamp(t){const e=oa(t);return new Je(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Oe.fromString(t);oe(A1(s),9688,{name:t});const o=new Ec(s.get(1),s.get(3)),l=new Rt(s.popFirst(5));return o.isEqual(e)||es(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(i,t,e){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sw extends iw{constructor(t,e,s,o,l,h){super(t,e,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new zD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(rw("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class zD extends sw{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(i){i=uo(i,ai);const t=uo(i.firestore,Dd);return SD(X1(t),i._key).then(e=>GD(t,i,e))}class HD extends UD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ai(this.firestore,null,e)}}function FD(i,t,e){i=uo(i,ai);const s=uo(i.firestore,Dd),o=jD(i.converter,t);return aw(s,[MD(J1(s),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,lr.none())])}function qD(i,t,e,...s){i=uo(i,ai);const o=uo(i.firestore,Dd),l=J1(o);let h;return h=typeof(t=Cn(t))=="string"||t instanceof Md?VD(l,"updateDoc",i._key,t,e,s):kD(l,"updateDoc",i._key,t),aw(o,[h.toMutation(i._key,lr.exists(!0))])}function aw(i,t){return function(s,o){const l=new ra;return s.asyncQueue.enqueueAndForget(async()=>uD(await TD(s),o,l)),l.promise}(X1(i),t)}function GD(i,t,e){const s=e.docs.get(t._key),o=new HD(i);return new sw(i,o,t._key,s,new BD(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Ql=o})(Kl),Ml(new ao("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new Dd(new xx(s.getProvider("auth-internal")),new Dx(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new St(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(g.options.projectId,_)}(h,o),h);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),na(fT,dT,t),na(fT,dT,"esm2017")})();var KD="firebase",QD="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(KD,QD,"app");function Ky(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(e[s[o]]=i[s[o]]);return e}function ow(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $D=ow,lw=new jc("auth","Firebase",ow());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new hy("@firebase/auth");function YD(i,...t){rd.logLevel<=$t.WARN&&rd.warn(`Auth (${Kl}): ${i}`,...t)}function Pf(i,...t){rd.logLevel<=$t.ERROR&&rd.error(`Auth (${Kl}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(i,...t){throw Qy(i,...t)}function cr(i,...t){return Qy(i,...t)}function uw(i,t,e){const s=Object.assign(Object.assign({},$D()),{[t]:e});return new jc("auth","Firebase",s).create(t,{appName:i.name})}function Zr(i){return uw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qy(i,...t){if(typeof i!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(e,...s)}return lw.create(i,...t)}function xt(i,t,...e){if(!i)throw Qy(t,...e)}function $r(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Pf(t),new Error(t)}function is(i,t){i||$r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function XD(){return ob()==="http:"||ob()==="https:"}function ob(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XD()||a2()||"connection"in navigator)?navigator.onLine:!0}function ZD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,e){this.shortDelay=t,this.longDelay=e,is(e>t,"Short delay should be less than long delay!"),this.isMobile=i2()||o2()}get(){return WD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(i,t){is(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eM=new Gc(3e4,6e4);function ma(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function pa(i,t,e,s,o={}){return hw(i,o,async()=>{let l={},h={};s&&(t==="GET"?h=s:l={body:JSON.stringify(s)});const d=Bc(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},l);return s2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Gl(i.emulatorConfig.host)&&(g.credentials="include"),cw.fetch()(await fw(i,i.config.apiHost,e,d),g)})}async function hw(i,t,e){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},JD),t);try{const o=new iM(i),l=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Rf(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rf(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Rf(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Rf(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw uw(i,_,g);Pi(i,_)}}catch(o){if(o instanceof as)throw o;Pi(i,"network-request-failed",{message:String(o)})}}async function Kc(i,t,e,s,o={}){const l=await pa(i,t,e,s,o);return"mfaPendingCredential"in l&&Pi(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function fw(i,t,e,s){const o=`${t}${e}?${s}`,l=i,h=l.config.emulator?$y(i.config,o):`${i.config.apiScheme}://${o}`;return tM.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function nM(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(cr(this.auth,"network-request-failed")),eM.get())})}}function Rf(i,t,e){const s={appName:i.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=cr(i,t,s);return o.customData._tokenResponse=e,o}function lb(i){return i!==void 0&&i.enterprise!==void 0}class rM{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return nM(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sM(i,t){return pa(i,"GET","/v2/recaptchaConfig",ma(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(i,t){return pa(i,"POST","/v1/accounts:delete",t)}async function sd(i,t){return pa(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oM(i,t=!1){const e=Cn(i),s=await e.getIdToken(t),o=Yy(s);xt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:mc(ag(o.auth_time)),issuedAtTime:mc(ag(o.iat)),expirationTime:mc(ag(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ag(i){return Number(i)*1e3}function Yy(i){const[t,e,s]=i.split(".");if(t===void 0||e===void 0||s===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const o=_S(e);return o?JSON.parse(o):(Pf("Failed to decode base64 JWT payload"),null)}catch(o){return Pf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ub(i){const t=Yy(i);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(i,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof as&&lM(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function lM({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(i){var t;const e=i.auth,s=await i.getIdToken(),o=await Rc(i,sd(e,{idToken:s}));xt(o==null?void 0:o.users.length,e,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?dw(l.providerUserInfo):[],d=hM(i.providerData,h),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?g:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Hg(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(i,v)}async function cM(i){const t=Cn(i);await ad(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hM(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function dw(i){return i.map(t=>{var{providerId:e}=t,s=Ky(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(i,t){const e=await hw(i,{},async()=>{const s=Bc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=await fw(i,o,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return i.emulatorConfig&&Gl(i.emulatorConfig.host)&&(p.credentials="include"),cw.fetch()(h,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function dM(i,t){return pa(i,"POST","/v2/accounts:revokeToken",ma(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ub(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const e=ub(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:l}=await fM(t,e);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:l}=e,h=new vl;return s&&(xt(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(xt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),l&&(xt(typeof l=="number","internal-error",{appName:t}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(i,t){xt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Vi{constructor(t){var{uid:e,auth:s,stsTokenManager:o}=t,l=Ky(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await Rc(this,this.stsTokenManager.getToken(this.auth,t));return xt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return oM(this,t)}reload(){return cM(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Vi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await ad(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(Zr(this.auth));const t=await this.getIdToken();return await Rc(this,aM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,o,l,h,d,p,g,_;const v=(s=e.displayName)!==null&&s!==void 0?s:void 0,b=(o=e.email)!==null&&o!==void 0?o:void 0,M=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,B=(h=e.photoURL)!==null&&h!==void 0?h:void 0,H=(d=e.tenantId)!==null&&d!==void 0?d:void 0,O=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,et=(g=e.createdAt)!==null&&g!==void 0?g:void 0,ot=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:W,emailVerified:st,isAnonymous:at,providerData:ut,stsTokenManager:k}=e;xt(W&&k,t,"internal-error");const R=vl.fromJSON(this.name,k);xt(typeof W=="string",t,"internal-error"),Ps(v,t.name),Ps(b,t.name),xt(typeof st=="boolean",t,"internal-error"),xt(typeof at=="boolean",t,"internal-error"),Ps(M,t.name),Ps(B,t.name),Ps(H,t.name),Ps(O,t.name),Ps(et,t.name),Ps(ot,t.name);const C=new Vi({uid:W,auth:t,email:b,emailVerified:st,displayName:v,isAnonymous:at,photoURL:B,phoneNumber:M,tenantId:H,stsTokenManager:R,createdAt:et,lastLoginAt:ot});return ut&&Array.isArray(ut)&&(C.providerData=ut.map(N=>Object.assign({},N))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(t,e,s=!1){const o=new vl;o.updateFromServerResponse(e);const l=new Vi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await ad(l),l}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];xt(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?dw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new vl;d.updateFromIdToken(s);const p=new Vi({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Hg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;function Yr(i){is(i instanceof Function,"Expected a class definition");let t=cb.get(i);return t?(is(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,cb.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}mw.type="NONE";const hb=mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(i,t,e){return`firebase:${i}:${t}:${e}`}class _l{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Lf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Lf("persistence",o.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await sd(this.auth,{idToken:t}).catch(()=>{});return e?Vi._fromGetAccountInfoResponse(this.auth,e,t):null}return Vi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new _l(Yr(hb),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Yr(hb);const h=Lf(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=await g._get(h);if(_){let v;if(typeof _=="string"){const b=await sd(t,{idToken:_}).catch(()=>{});if(!b)break;v=await Vi._fromGetAccountInfoResponse(t,b,_)}else v=Vi._fromJSON(t,_);g!==l&&(d=v),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new _l(l,t,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new _l(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ew(t))return"Blackberry";if(Tw(t))return"Webos";if(gw(t))return"Safari";if((t.includes("chrome/")||yw(t))&&!t.includes("edge/"))return"Chrome";if(_w(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function pw(i=Rn()){return/firefox\//i.test(i)}function gw(i=Rn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yw(i=Rn()){return/crios\//i.test(i)}function vw(i=Rn()){return/iemobile/i.test(i)}function _w(i=Rn()){return/android/i.test(i)}function Ew(i=Rn()){return/blackberry/i.test(i)}function Tw(i=Rn()){return/webos/i.test(i)}function Xy(i=Rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function mM(i=Rn()){var t;return Xy(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function pM(){return l2()&&document.documentMode===10}function bw(i=Rn()){return Xy(i)||_w(i)||Tw(i)||Ew(i)||/windows phone/i.test(i)||vw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(i,t=[]){let e;switch(i){case"Browser":e=fb(Rn());break;case"Worker":e=`${fb(Rn())}-${i}`;break;default:e=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Kl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((h,d)=>{try{const p=t(l);h(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(i,t={}){return pa(i,"GET","/v2/passwordPolicy",ma(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=6;class _M{constructor(t){var e,s,o,l;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=h.minPasswordLength)!==null&&e!==void 0?e:vM,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new db(this),this.idTokenSubscription=new db(this),this.beforeStateQueue=new gM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Yr(e)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await _l.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await sd(this,{idToken:t}),s=await Vi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(bi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await ad(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(bi(this.app))return Promise.reject(Zr(this));const e=t?Cn(t):null;return e&&xt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return bi(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yM(this),e=new _M(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jc("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await dM(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Yr(t)||this._popupRedirectResolver;xt(e,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Yr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(e);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Sw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&YD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _o(i){return Cn(i)}class db{constructor(t){this.auth=t,this.observer=null,this.addObserver=g2(e=>this.observer=e)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TM(i){Pd=i}function ww(i){return Pd.loadJS(i)}function bM(){return Pd.recaptchaEnterpriseScript}function SM(){return Pd.gapiScript}function wM(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class AM{constructor(){this.enterprise=new RM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class RM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const CM="recaptcha-enterprise",Aw="NO_RECAPTCHA";class IM{constructor(t){this.type=CM,this.auth=_o(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{sM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new rM(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,h,d){const p=window.grecaptcha;lb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(g=>{h(g)}).catch(()=>{h(Aw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AM().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(d=>{if(!e&&lb(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=bM();p.length!==0&&(p+=d),ww(p).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function mb(i,t,e,s=!1,o=!1){const l=new IM(i);let h;if(o)h=Aw;else try{h=await l.verify(e)}catch{h=await l.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Fg(i,t,e,s,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await mb(i,t,e,e==="getOobCode");return s(i,h)}else return s(i,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await mb(i,t,e,e==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(i,t){const e=dy(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),l=e.getOptions();if(so(l,t??{}))return o;Pi(o,"already-initialized")}return e.initialize({options:t})}function OM(i,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(Yr);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function NM(i,t,e){const s=_o(i);xt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,l=Rw(t),{host:h,port:d}=DM(t),p=d===null?"":`:${d}`,g={url:`${l}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xt(so(g,s.config.emulator)&&so(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Gl(h)?(SS(`${l}//${h}${p}`),wS("Auth",!0)):MM()}function Rw(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function DM(i){const t=Rw(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:pb(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:pb(h)}}}function pb(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function MM(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return $r("not implemented")}_getIdTokenResponse(t){return $r("not implemented")}_linkToIdToken(t,e){return $r("not implemented")}_getReauthenticationResolver(t){return $r("not implemented")}}async function kM(i,t){return pa(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(i,t){return Kc(i,"POST","/v1/accounts:signInWithPassword",ma(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(i,t){return Kc(i,"POST","/v1/accounts:signInWithEmailLink",ma(i,t))}async function LM(i,t){return Kc(i,"POST","/v1/accounts:signInWithEmailLink",ma(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Wy{constructor(t,e,s,o=null){super("password",s),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Cc(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new Cc(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fg(t,e,"signInWithPassword",VM);case"emailLink":return PM(t,{email:this._email,oobCode:this._password});default:Pi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fg(t,s,"signUpPassword",kM);case"emailLink":return LM(t,{idToken:e,email:this._email,oobCode:this._password});default:Pi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(i,t){return Kc(i,"POST","/v1/accounts:signInWithIdp",ma(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="http://localhost";class ho extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ho(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Pi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=e,l=Ky(e,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ho(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return El(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,El(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,El(t,e)}buildRequest(){const t={requestUri:UM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Bc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BM(i){const t=ic(rc(i)).link,e=t?ic(rc(t)).deep_link_id:null,s=ic(rc(i)).deep_link_id;return(s?ic(rc(s)).link:null)||s||e||t||i}class Zy{constructor(t){var e,s,o,l,h,d;const p=ic(rc(t)),g=(e=p.apiKey)!==null&&e!==void 0?e:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,v=jM((o=p.mode)!==null&&o!==void 0?o:null);xt(g&&_&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=BM(t);try{return new Zy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.providerId=Wl.PROVIDER_ID}static credential(t,e){return Cc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=Zy.parseLink(e);return xt(s,"argument-error"),Cc._fromEmailAndCode(t,s.code,s.tenantId)}}Wl.PROVIDER_ID="password";Wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Cw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Qc{constructor(){super("facebook.com")}static credential(t){return ho._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Qc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ho._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return Bs.credential(e,s)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Qc{constructor(){super("github.com")}static credential(t){return ho._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Qc{constructor(){super("twitter.com")}static credential(t,e){return ho._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Hs.credential(e,s)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(i,t){return Kc(i,"POST","/v1/accounts:signUp",ma(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const l=await Vi._fromIdTokenResponse(t,s,o),h=gb(s);return new fo({user:l,providerId:h,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=gb(s);return new fo({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function gb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends as{constructor(t,e,s,o){var l;super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,od.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new od(t,e,s,o)}}function Iw(i,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(i,l,t,s):l})}async function HM(i,t,e=!1){const s=await Rc(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return fo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(i,t,e=!1){const{auth:s}=i;if(bi(s.app))return Promise.reject(Zr(s));const o="reauthenticate";try{const l=await Rc(i,Iw(s,o,t,i),e);xt(l.idToken,s,"internal-error");const h=Yy(l.idToken);xt(h,s,"internal-error");const{sub:d}=h;return xt(i.uid===d,s,"user-mismatch"),fo._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Pi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(i,t,e=!1){if(bi(i.app))return Promise.reject(Zr(i));const s="signIn",o=await Iw(i,s,t),l=await fo._fromIdTokenResponse(i,s,o);return e||await i._updateCurrentUser(l.user),l}async function qM(i,t){return xw(_o(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(i){const t=_o(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GM(i,t,e){if(bi(i.app))return Promise.reject(Zr(i));const s=_o(i),h=await Fg(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zM).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Ow(i),p}),d=await fo._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function KM(i,t,e){return bi(i.app)?Promise.reject(Zr(i)):qM(Cn(i),Wl.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ow(i),s})}function QM(i,t,e,s){return Cn(i).onIdTokenChanged(t,e,s)}function $M(i,t,e){return Cn(i).beforeAuthStateChanged(t,e)}function YM(i,t,e,s){return Cn(i).onAuthStateChanged(t,e,s)}function XM(i){return Cn(i).signOut()}const ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=1e3,ZM=10;class Dw extends Nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!e&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);pM()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ZM):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},WM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Dw.type="LOCAL";const JM=Dw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw extends Nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Mw.type="SESSION";const kw=Mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Ld(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:l}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(e.origin,l)),p=await t4(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(i="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=Jy("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(v){const b=v;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function n4(i){hr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function i4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r4(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function s4(){return Vw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firebaseLocalStorageDb",a4=1,ud="firebaseLocalStorage",Lw="fbase_key";class $c{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Ud(i,t){return i.transaction([ud],t?"readwrite":"readonly").objectStore(ud)}function o4(){const i=indexedDB.deleteDatabase(Pw);return new $c(i).toPromise()}function qg(){const i=indexedDB.open(Pw,a4);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(ud,{keyPath:Lw})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(ud)?t(s):(s.close(),await o4(),t(await qg()))})})}async function yb(i,t,e){const s=Ud(i,!0).put({[Lw]:t,value:e});return new $c(s).toPromise()}async function l4(i,t){const e=Ud(i,!1).get(t),s=await new $c(e).toPromise();return s===void 0?null:s.value}function vb(i,t){const e=Ud(i,!0).delete(t);return new $c(e).toPromise()}const u4=800,c4=3;class Uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>c4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ld._getInstance(s4()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await i4(),!this.activeServiceWorker)return;this.sender=new e4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||r4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qg();return await yb(t,ld,"1"),await vb(t,ld),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>yb(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>l4(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>vb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=Ud(o,!1).getAll();return new $c(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uw.type="LOCAL";const h4=Uw;new Gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(i,t){return t?Yr(t):(xt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends Wy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return El(t,this._buildIdpRequest())}_linkToIdToken(t,e){return El(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return El(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function d4(i){return xw(i.auth,new tv(i),i.bypassAuthState)}function m4(i){const{auth:t,user:e}=i;return xt(e,t,"internal-error"),FM(e,new tv(i),i.bypassAuthState)}async function p4(i){const{auth:t,user:e}=i;return xt(e,t,"internal-error"),HM(e,new tv(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,e,s,o,l=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return d4;case"linkViaPopup":case"linkViaRedirect":return p4;case"reauthViaPopup":case"reauthViaRedirect":return m4;default:Pi(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new Gc(2e3,1e4);class gl extends jw{constructor(t,e,s,o,l){super(t,e,o,l),this.provider=s,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=Jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,g4.get())};t()}}gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="pendingRedirect",Uf=new Map;class v4 extends jw{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Uf.get(this.auth._key());if(!t){try{const s=await _4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Uf.set(this.auth._key(),t)}return this.bypassAuthState||Uf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _4(i,t){const e=b4(t),s=T4(i);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function E4(i,t){Uf.set(i._key(),t)}function T4(i){return Yr(i._redirectPersistence)}function b4(i){return Lf(y4,i.config.apiKey,i.name)}async function S4(i,t,e=!1){if(bi(i.app))return Promise.reject(Zr(i));const s=_o(i),o=f4(s,t),h=await new v4(s,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=10*60*1e3;class A4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!R4(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!Bw(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(cr(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=w4&&this.cachedEventUids.clear(),this.cachedEventUids.has(_b(t))}saveEventToCache(t){this.cachedEventUids.add(_b(t)),this.lastProcessedEventTime=Date.now()}}function _b(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function Bw({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function R4(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(i,t={}){return pa(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x4=/^https?/;async function O4(i){if(i.config.emulator)return;const{authorizedDomains:t}=await C4(i);for(const e of t)try{if(N4(e))return}catch{}Pi(i,"unauthorized-domain")}function N4(i){const t=zg(),{protocol:e,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===s}if(!x4.test(e))return!1;if(I4.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new Gc(3e4,6e4);function Eb(){const i=hr().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function M4(i){return new Promise((t,e)=>{var s,o,l;function h(){Eb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Eb(),e(cr(i,"network-request-failed"))},timeout:D4.get()})}if(!((o=(s=hr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((l=hr().gapi)===null||l===void 0)&&l.load)h();else{const d=wM("iframefcb");return hr()[d]=()=>{gapi.load?h():e(cr(i,"network-request-failed"))},ww(`${SM()}?onload=${d}`).catch(p=>e(p))}}).catch(t=>{throw jf=null,t})}let jf=null;function k4(i){return jf=jf||M4(i),jf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new Gc(5e3,15e3),P4="__/auth/iframe",L4="emulator/auth/iframe",U4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B4(i){const t=i.config;xt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?$y(t,L4):`https://${i.config.authDomain}/${P4}`,s={apiKey:t.apiKey,appName:i.name,v:Kl},o=j4.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${Bc(s).slice(1)}`}async function z4(i){const t=await k4(i),e=hr().gapi;return xt(e,i,"internal-error"),t.open({where:document.body,url:B4(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U4,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=cr(i,"network-request-failed"),d=hr().setTimeout(()=>{l(h)},V4.get());function p(){hr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F4=500,q4=600,G4="_blank",K4="http://localhost";class Tb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q4(i,t,e,s=F4,o=q4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},H4),{width:s.toString(),height:o.toString(),top:l,left:h}),g=Rn().toLowerCase();e&&(d=yw(g)?G4:e),pw(g)&&(t=t||K4,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[M,B])=>`${b}${M}=${B},`,"");if(mM(g)&&d!=="_self")return $4(t||"",d),new Tb(null);const v=window.open(t||"",d,_);xt(v,i,"popup-blocked");try{v.focus()}catch{}return new Tb(v)}function $4(i,t){const e=document.createElement("a");e.href=i,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="__/auth/handler",X4="emulator/auth/handler",W4=encodeURIComponent("fac");async function bb(i,t,e,s,o,l){xt(i.config.authDomain,i,"auth-domain-config-required"),xt(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:s,v:Kl,eventId:o};if(t instanceof Cw){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",p2(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,v]of Object.entries({}))h[_]=v}if(t instanceof Qc){const _=t.getScopes().filter(v=>v!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),g=p?`#${W4}=${encodeURIComponent(p)}`:"";return`${Z4(i)}?${Bc(d).slice(1)}${g}`}function Z4({config:i}){return i.emulator?$y(i,X4):`https://${i.authDomain}/${Y4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="webStorageSupport";class J4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kw,this._completeRedirectFn=S4,this._overrideRedirectResult=E4}async _openPopup(t,e,s,o){var l;is((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await bb(t,e,s,zg(),o);return Q4(t,h,Jy())}async _openRedirect(t,e,s,o){await this._originValidation(t);const l=await bb(t,e,s,zg(),o);return n4(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:l}=this.eventManagers[e];return o?Promise.resolve(o):(is(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await z4(t),s=new A4(t);return e.register("authEvent",o=>(xt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(og,{type:og},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[og];h!==void 0&&e(!!h),Pi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=O4(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return bw()||gw()||Xy()}}const tk=J4;var Sb="@firebase/auth",wb="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ik(i){Ml(new ao("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;xt(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sw(i)},g=new EM(s,o,l,p);return OM(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Ml(new ao("auth-internal",t=>{const e=_o(t.getProvider("auth").getImmediate());return(s=>new ek(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(Sb,wb,nk(i)),na(Sb,wb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=5*60,sk=bS("authIdTokenMaxAge")||rk;let Ab=null;const ak=i=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>sk)return;const o=e==null?void 0:e.token;Ab!==o&&(Ab=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ok(i=IS()){const t=dy(i,"auth");if(t.isInitialized())return t.getImmediate();const e=xM(i,{popupRedirectResolver:tk,persistence:[h4,JM,kw]}),s=bS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=ak(l.toString());$M(e,h,()=>h(e.currentUser)),QM(e,d=>h(d))}}const o=ES("auth");return o&&NM(e,`http://${o}`),e}function lk(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}TM({loadJS(i){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const l=cr("internal-error");l.customData=o,e(l)},s.type="text/javascript",s.charset="UTF-8",lk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ik("Browser");const uk={apiKey:"AIzaSyBozVVinEK5nlXi4xR7_ZE_2tQeSMwN8Us",authDomain:"login-auth-366ba.firebaseapp.com",projectId:"login-auth-366ba",storageBucket:"login-auth-366ba.firebasestorage.app",messagingSenderId:"559443453077",appId:"1:559443453077:web:c5689dced0e72da81ce79c"},ck=CS(uk),Ic=ok(),mo=ID(ck);function hk({togglePlayWordle:i,darkMode:t}){return A.jsx("div",{className:"homepage flex-center",children:A.jsx(FI,{togglePlayWordle:i,className:t})})}const fk=["as","disabled"];function dk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function mk(i){return!i||i.trim()==="#"}function ev({tagName:i,disabled:t,href:e,target:s,rel:o,role:l,onClick:h,tabIndex:d=0,type:p}){i||(e!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:t},g];const _=b=>{if((t||i==="a"&&mk(e))&&b.preventDefault(),t){b.stopPropagation();return}h==null||h(b)},v=b=>{b.key===" "&&(b.preventDefault(),_(b))};return i==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:d,href:e,target:i==="a"?s:void 0,"aria-disabled":t||void 0,rel:i==="a"?o:void 0,onClick:_,onKeyDown:v},g]}const zw=I.forwardRef((i,t)=>{let{as:e,disabled:s}=i,o=dk(i,fk);const[l,{tagName:h}]=ev(Object.assign({tagName:e,disabled:s},o));return A.jsx(h,Object.assign({},o,l,{ref:t}))});zw.displayName="Button";const Li=I.forwardRef(({as:i,bsPrefix:t,variant:e="primary",size:s,active:o=!1,disabled:l=!1,className:h,...d},p)=>{const g=Ut(t,"btn"),[_,{tagName:v}]=ev({tagName:i,disabled:l,...d}),b=v;return A.jsx(b,{..._,...d,ref:p,disabled:l,className:Dt(h,g,o&&"active",e&&`${g}-${e}`,s&&`${g}-${s}`,d.href&&l&&"disabled")})});Li.displayName="Button";const pk={type:Wr.string,tooltip:Wr.bool,as:Wr.elementType},jd=I.forwardRef(({as:i="div",className:t,type:e="valid",tooltip:s=!1,...o},l)=>A.jsx(i,{...o,ref:l,className:Dt(t,`${e}-${s?"tooltip":"feedback"}`)}));jd.displayName="Feedback";jd.propTypes=pk;const rs=I.createContext({}),nv=I.forwardRef(({id:i,bsPrefix:t,className:e,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:h="input",...d},p)=>{const{controlId:g}=I.useContext(rs);return t=Ut(t,"form-check-input"),A.jsx(h,{...d,ref:p,type:s,id:i||g,className:Dt(e,t,o&&"is-valid",l&&"is-invalid")})});nv.displayName="FormCheckInput";const cd=I.forwardRef(({bsPrefix:i,className:t,htmlFor:e,...s},o)=>{const{controlId:l}=I.useContext(rs);return i=Ut(i,"form-check-label"),A.jsx("label",{...s,ref:o,htmlFor:e||l,className:Dt(t,i)})});cd.displayName="FormCheckLabel";function gk(i,t){return I.Children.toArray(i).some(e=>I.isValidElement(e)&&e.type===t)}const Hw=I.forwardRef(({id:i,bsPrefix:t,bsSwitchPrefix:e,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:_,className:v,style:b,title:M="",type:B="checkbox",label:H,children:O,as:et="input",...ot},W)=>{t=Ut(t,"form-check"),e=Ut(e,"form-switch");const{controlId:st}=I.useContext(rs),at=I.useMemo(()=>({controlId:i||st}),[st,i]),ut=!O&&H!=null&&H!==!1||gk(O,cd),k=A.jsx(nv,{...ot,type:B==="switch"?"checkbox":B,ref:W,isValid:h,isInvalid:d,disabled:l,as:et});return A.jsx(rs.Provider,{value:at,children:A.jsx("div",{style:b,className:Dt(v,ut&&t,s&&`${t}-inline`,o&&`${t}-reverse`,B==="switch"&&e),children:O||A.jsxs(A.Fragment,{children:[k,ut&&A.jsx(cd,{title:M,children:H}),g&&A.jsx(jd,{type:_,tooltip:p,children:g})]})})})});Hw.displayName="FormCheck";const hd=Object.assign(Hw,{Input:nv,Label:cd}),Fw=I.forwardRef(({bsPrefix:i,type:t,size:e,htmlSize:s,id:o,className:l,isValid:h=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:_="input",...v},b)=>{const{controlId:M}=I.useContext(rs);return i=Ut(i,"form-control"),A.jsx(_,{...v,type:t,size:s,ref:b,readOnly:g,id:o||M,className:Dt(l,p?`${i}-plaintext`:i,e&&`${i}-${e}`,t==="color"&&`${i}-color`,h&&"is-valid",d&&"is-invalid")})});Fw.displayName="FormControl";const yk=Object.assign(Fw,{Feedback:jd}),qw=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Ut(t,"form-floating"),A.jsx(e,{ref:o,className:Dt(i,t),...s})));qw.displayName="FormFloating";const iv=I.forwardRef(({controlId:i,as:t="div",...e},s)=>{const o=I.useMemo(()=>({controlId:i}),[i]);return A.jsx(rs.Provider,{value:o,children:A.jsx(t,{...e,ref:s})})});iv.displayName="FormGroup";function vk({as:i,bsPrefix:t,className:e,...s}){t=Ut(t,"col");const o=VC(),l=PC(),h=[],d=[];return o.forEach(p=>{const g=s[p];delete s[p];let _,v,b;typeof g=="object"&&g!=null?{span:_,offset:v,order:b}=g:_=g;const M=p!==l?`-${p}`:"";_&&h.push(_===!0?`${t}${M}`:`${t}${M}-${_}`),b!=null&&d.push(`order${M}-${b}`),v!=null&&d.push(`offset${M}-${v}`)}),[{...s,className:Dt(e,...h,...d)},{as:i,bsPrefix:t,spans:h}]}const Gw=I.forwardRef((i,t)=>{const[{className:e,...s},{as:o="div",bsPrefix:l,spans:h}]=vk(i);return A.jsx(o,{...s,ref:t,className:Dt(e,!h.length&&l)})});Gw.displayName="Col";const Kw=I.forwardRef(({as:i="label",bsPrefix:t,column:e=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...h},d)=>{const{controlId:p}=I.useContext(rs);t=Ut(t,"form-label");let g="col-form-label";typeof e=="string"&&(g=`${g} ${g}-${e}`);const _=Dt(o,t,s&&"visually-hidden",e&&g);return l=l||p,e?A.jsx(Gw,{ref:d,as:"label",className:_,htmlFor:l,...h}):A.jsx(i,{ref:d,className:_,htmlFor:l,...h})});Kw.displayName="FormLabel";const Qw=I.forwardRef(({bsPrefix:i,className:t,id:e,...s},o)=>{const{controlId:l}=I.useContext(rs);return i=Ut(i,"form-range"),A.jsx("input",{...s,type:"range",ref:o,className:Dt(t,i),id:e||l})});Qw.displayName="FormRange";const $w=I.forwardRef(({bsPrefix:i,size:t,htmlSize:e,className:s,isValid:o=!1,isInvalid:l=!1,id:h,...d},p)=>{const{controlId:g}=I.useContext(rs);return i=Ut(i,"form-select"),A.jsx("select",{...d,size:e,ref:p,className:Dt(s,i,t&&`${i}-${t}`,o&&"is-valid",l&&"is-invalid"),id:h||g})});$w.displayName="FormSelect";const Yw=I.forwardRef(({bsPrefix:i,className:t,as:e="small",muted:s,...o},l)=>(i=Ut(i,"form-text"),A.jsx(e,{...o,ref:l,className:Dt(t,i,s&&"text-muted")})));Yw.displayName="FormText";const Xw=I.forwardRef((i,t)=>A.jsx(hd,{...i,ref:t,type:"switch"}));Xw.displayName="Switch";const _k=Object.assign(Xw,{Input:hd.Input,Label:hd.Label}),Ww=I.forwardRef(({bsPrefix:i,className:t,children:e,controlId:s,label:o,...l},h)=>(i=Ut(i,"form-floating"),A.jsxs(iv,{ref:h,className:Dt(t,i),controlId:s,...l,children:[e,A.jsx("label",{htmlFor:s,children:o})]})));Ww.displayName="FloatingLabel";const Ek={_ref:Wr.any,validated:Wr.bool,as:Wr.elementType},rv=I.forwardRef(({className:i,validated:t,as:e="form",...s},o)=>A.jsx(e,{...s,ref:o,className:Dt(i,t&&"was-validated")}));rv.displayName="Form";rv.propTypes=Ek;const Fe=Object.assign(rv,{Group:iv,Control:yk,Floating:qw,Check:hd,Switch:_k,Label:Kw,Text:Yw,Range:Qw,Select:$w,FloatingLabel:Ww});var Cf;function Rb(i){if((!Cf&&Cf!==0||i)&&Fl){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Cf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Cf}function Tk(){return I.useState(null)}function bk(i){const t=I.useRef(i);return I.useEffect(()=>{t.current=i},[i]),t}function zl(i){const t=bk(i);return I.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function Sk(i){const t=I.useRef(i);return t.current=i,t}function wk(i){const t=Sk(i);I.useEffect(()=>()=>t.current(),[])}function lg(i){i===void 0&&(i=gd());try{var t=i.activeElement;return!t||!t.nodeName?null:t}catch{return i.body}}function Cb(i,t){if(i.contains)return i.contains(t);if(i.compareDocumentPosition)return i===t||!!(i.compareDocumentPosition(t)&16)}function Ak(){const i=I.useRef(!0),t=I.useRef(()=>i.current);return I.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function Rk(i){const t=I.useRef(i);return t.current=i,t}function Ck(i){const t=Rk(i);I.useEffect(()=>()=>t.current(),[])}function Ik(i){const t=I.useRef(null);return I.useEffect(()=>{t.current=i}),t.current}function xk(i){const t=I.useRef(i);return I.useEffect(()=>{t.current=i},[i]),t}function Qr(i){const t=xk(i);return I.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const Ok="data-rr-ui-",Nk="rrUi";function Bd(i){return`${Ok}${i}`}function Dk(i){return`${Nk}${i}`}function Mk(i=document){const t=i.defaultView;return Math.abs(t.innerWidth-i.documentElement.clientWidth)}const Ib=Bd("modal-open");class sv{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:s=!1}={}){this.handleContainerOverflow=e,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Mk(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(e[s]=`${parseInt(Xr(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(Ib,""),Xr(o,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(Ib),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Zw=I.createContext(Fl?window:void 0);Zw.Provider;function av(){return I.useContext(Zw)}const ug=(i,t)=>Fl?i==null?(t||gd()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function kk(i,t){const e=av(),[s,o]=I.useState(()=>ug(i,e==null?void 0:e.document));if(!s){const l=ug(i);l&&o(l)}return I.useEffect(()=>{},[t,s]),I.useEffect(()=>{const l=ug(i);l!==s&&o(l)},[i,s]),s}const xb=i=>!i||typeof i=="function"?i:t=>{i.current=t};function Vk(i,t){const e=xb(i),s=xb(t);return o=>{e&&e(o),s&&s(o)}}function zd(i,t){return I.useMemo(()=>Vk(i,t),[i,t])}const Pk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Lk=typeof document<"u",Ob=Lk||Pk?I.useLayoutEffect:I.useEffect;function Uk({children:i,in:t,onExited:e,mountOnEnter:s,unmountOnExit:o}){const l=I.useRef(null),h=I.useRef(t),d=Qr(e);I.useEffect(()=>{t?h.current=!0:d(l.current)},[t,d]);const p=zd(l,Hl(i)),g=I.cloneElement(i,{ref:p});return t?g:o||!h.current&&s?null:g}const jk=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Bk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function zk(i){let{onEnter:t,onEntering:e,onEntered:s,onExit:o,onExiting:l,onExited:h,addEndListener:d,children:p}=i,g=Bk(i,jk);const _=I.useRef(null),v=zd(_,Hl(p)),b=st=>at=>{st&&_.current&&st(_.current,at)},M=I.useCallback(b(t),[t]),B=I.useCallback(b(e),[e]),H=I.useCallback(b(s),[s]),O=I.useCallback(b(o),[o]),et=I.useCallback(b(l),[l]),ot=I.useCallback(b(h),[h]),W=I.useCallback(b(d),[d]);return Object.assign({},g,{nodeRef:_},t&&{onEnter:M},e&&{onEntering:B},s&&{onEntered:H},o&&{onExit:O},l&&{onExiting:et},h&&{onExited:ot},d&&{addEndListener:W},{children:typeof p=="function"?(st,at)=>p(st,Object.assign({},at,{ref:v})):I.cloneElement(p,{ref:v})})}const Hk=["component"];function Fk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}const qk=I.forwardRef((i,t)=>{let{component:e}=i,s=Fk(i,Hk);const o=zk(s);return A.jsx(e,Object.assign({ref:t},o))});function Gk({in:i,onTransition:t}){const e=I.useRef(null),s=I.useRef(!0),o=Qr(t);return Ob(()=>{if(!e.current)return;let l=!1;return o({in:i,element:e.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),Ob(()=>(s.current=!1,()=>{s.current=!0}),[]),e}function Kk({children:i,in:t,onExited:e,onEntered:s,transition:o}){const[l,h]=I.useState(!t);t&&l&&h(!1);const d=Gk({in:!!t,onTransition:g=>{const _=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),e==null||e(g.element)))};Promise.resolve(o(g)).then(_,v=>{throw g.in||h(!0),v})}}),p=zd(d,Hl(i));return l&&!t?null:I.cloneElement(i,{ref:p})}function Nb(i,t,e){return i?A.jsx(qk,Object.assign({},e,{component:i})):t?A.jsx(Kk,Object.assign({},e,{transition:t})):A.jsx(Uk,Object.assign({},e))}const Qk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function $k(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}let cg;function Yk(i){return cg||(cg=new sv({ownerDocument:i==null?void 0:i.document})),cg}function Xk(i){const t=av(),e=i||Yk(t),s=I.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>e.add(s.current),remove:()=>e.remove(s.current),isTopModal:()=>e.isTopModal(s.current),setDialogRef:I.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:I.useCallback(o=>{s.current.backdrop=o},[])})}const Jw=I.forwardRef((i,t)=>{let{show:e=!1,role:s="dialog",className:o,style:l,children:h,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:_,transition:v,runTransition:b,backdropTransition:M,runBackdropTransition:B,autoFocus:H=!0,enforceFocus:O=!0,restoreFocus:et=!0,restoreFocusOptions:ot,renderDialog:W,renderBackdrop:st=ee=>A.jsx("div",Object.assign({},ee)),manager:at,container:ut,onShow:k,onHide:R=()=>{},onExit:C,onExited:N,onExiting:P,onEnter:U,onEntering:x,onEntered:kt}=i,jt=$k(i,Qk);const F=av(),lt=kk(ut),dt=Xk(at),It=Ak(),V=Ik(e),[Y,rt]=I.useState(!e),Z=I.useRef(null);I.useImperativeHandle(t,()=>dt,[dt]),Fl&&!V&&e&&(Z.current=lg(F==null?void 0:F.document)),e&&Y&&rt(!1);const ft=Qr(()=>{if(dt.add(),Ne.current=zf(document,"keydown",qt),Ae.current=zf(document,"focus",()=>setTimeout(pt),!0),k&&k(),H){var ee,oi;const ve=lg((ee=(oi=dt.dialog)==null?void 0:oi.ownerDocument)!=null?ee:F==null?void 0:F.document);dt.dialog&&ve&&!Cb(dt.dialog,ve)&&(Z.current=ve,dt.dialog.focus())}}),Tt=Qr(()=>{if(dt.remove(),Ne.current==null||Ne.current(),Ae.current==null||Ae.current(),et){var ee;(ee=Z.current)==null||ee.focus==null||ee.focus(ot),Z.current=null}});I.useEffect(()=>{!e||!lt||ft()},[e,lt,ft]),I.useEffect(()=>{Y&&Tt()},[Y,Tt]),Ck(()=>{Tt()});const pt=Qr(()=>{if(!O||!It()||!dt.isTopModal())return;const ee=lg(F==null?void 0:F.document);dt.dialog&&ee&&!Cb(dt.dialog,ee)&&dt.dialog.focus()}),le=Qr(ee=>{ee.target===ee.currentTarget&&(g==null||g(ee),d===!0&&R())}),qt=Qr(ee=>{p&&WC(ee)&&dt.isTopModal()&&(_==null||_(ee),ee.defaultPrevented||R())}),Ae=I.useRef(),Ne=I.useRef(),_n=(...ee)=>{rt(!0),N==null||N(...ee)};if(!lt)return null;const un=Object.assign({role:s,ref:dt.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},jt,{style:l,className:o,tabIndex:-1});let In=W?W(un):A.jsx("div",Object.assign({},un,{children:I.cloneElement(h,{role:"document"})}));In=Nb(v,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:C,onExiting:P,onExited:_n,onEnter:U,onEntering:x,onEntered:kt,children:In});let en=null;return d&&(en=st({ref:dt.setBackdropRef,onClick:le}),en=Nb(M,B,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:en})),A.jsx(A.Fragment,{children:$a.createPortal(A.jsxs(A.Fragment,{children:[en,In]}),lt)})});Jw.displayName="Modal";const tA=Object.assign(Jw,{Manager:sv});function Wk(i,t){return i.classList?i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function Zk(i,t){i.classList?i.classList.add(t):Wk(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}var Jk=Function.prototype.bind.call(Function.prototype.call,[].slice);function Qa(i,t){return Jk(i.querySelectorAll(t))}function Db(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function tV(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=Db(i.className,t):i.setAttribute("class",Db(i.className&&i.className.baseVal||"",t))}const cl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class eA extends sv{adjustAndStore(t,e,s){const o=e.style[t];e.dataset[t]=o,Xr(e,{[t]:`${parseFloat(Xr(e,t))+s}px`})}restore(t,e){const s=e.dataset[t];s!==void 0&&(delete e.dataset[t],Xr(e,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(Zk(e,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Qa(e,cl.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,t.scrollBarWidth)),Qa(e,cl.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-t.scrollBarWidth)),Qa(e,cl.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();tV(e,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Qa(e,cl.FIXED_CONTENT).forEach(l=>this.restore(s,l)),Qa(e,cl.STICKY_CONTENT).forEach(l=>this.restore(o,l)),Qa(e,cl.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let hg;function nA(i){return hg||(hg=new eA(i)),hg}const eV={[ki]:"show",[Kr]:"show"},Hd=I.forwardRef(({className:i,children:t,transitionClasses:e={},onEnter:s,...o},l)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=I.useCallback((p,g)=>{aS(p),s==null||s(p,g)},[s]);return A.jsx(yd,{ref:l,addEndListener:oy,...h,onEnter:d,childRef:Hl(t),children:(p,g)=>I.cloneElement(t,{...g,className:Dt("fade",i,t.props.className,eV[p],e[p])})})});Hd.displayName="Fade";const iA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Ut(t,"modal-body"),A.jsx(e,{ref:o,className:Dt(i,t),...s})));iA.displayName="ModalBody";const ov=I.createContext({onHide(){}}),lv=I.forwardRef(({bsPrefix:i,className:t,contentClassName:e,centered:s,size:o,fullscreen:l,children:h,scrollable:d,...p},g)=>{i=Ut(i,"modal");const _=`${i}-dialog`,v=typeof l=="string"?`${i}-fullscreen-${l}`:`${i}-fullscreen`;return A.jsx("div",{...p,ref:g,className:Dt(_,t,o&&`${i}-${o}`,s&&`${_}-centered`,d&&`${_}-scrollable`,l&&v),children:A.jsx("div",{className:Dt(`${i}-content`,e),children:h})})});lv.displayName="ModalDialog";const rA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Ut(t,"modal-footer"),A.jsx(e,{ref:o,className:Dt(i,t),...s})));rA.displayName="ModalFooter";const nV={"aria-label":Wr.string,onClick:Wr.func,variant:Wr.oneOf(["white"])},uv=I.forwardRef(({className:i,variant:t,"aria-label":e="Close",...s},o)=>A.jsx("button",{ref:o,type:"button",className:Dt("btn-close",t&&`btn-close-${t}`,i),"aria-label":e,...s}));uv.displayName="CloseButton";uv.propTypes=nV;const cv=I.forwardRef(({closeLabel:i="Close",closeVariant:t,closeButton:e=!1,onHide:s,children:o,...l},h)=>{const d=I.useContext(ov),p=zl(()=>{d==null||d.onHide(),s==null||s()});return A.jsxs("div",{ref:h,...l,children:[o,e&&A.jsx(uv,{"aria-label":i,variant:t,onClick:p})]})});cv.displayName="AbstractModalHeader";const sA=I.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:s=!1,...o},l)=>(i=Ut(i,"modal-header"),A.jsx(cv,{ref:l,...o,className:Dt(t,i),closeLabel:e,closeButton:s})));sA.displayName="ModalHeader";const aA=i=>I.forwardRef((t,e)=>A.jsx("div",{...t,ref:e,className:Dt(t.className,i)})),iV=aA("h4"),oA=I.forwardRef(({className:i,bsPrefix:t,as:e=iV,...s},o)=>(t=Ut(t,"modal-title"),A.jsx(e,{ref:o,className:Dt(i,t),...s})));oA.displayName="ModalTitle";function rV(i){return A.jsx(Hd,{...i,timeout:null})}function sV(i){return A.jsx(Hd,{...i,timeout:null})}const lA=I.forwardRef(({bsPrefix:i,className:t,style:e,dialogClassName:s,contentClassName:o,children:l,dialogAs:h=lv,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":_,show:v=!1,animation:b=!0,backdrop:M=!0,keyboard:B=!0,onEscapeKeyDown:H,onShow:O,onHide:et,container:ot,autoFocus:W=!0,enforceFocus:st=!0,restoreFocus:at=!0,restoreFocusOptions:ut,onEntered:k,onExit:R,onExiting:C,onEnter:N,onEntering:P,onExited:U,backdropClassName:x,manager:kt,...jt},F)=>{const[lt,dt]=I.useState({}),[It,V]=I.useState(!1),Y=I.useRef(!1),rt=I.useRef(!1),Z=I.useRef(null),[ft,Tt]=Tk(),pt=oS(F,Tt),le=zl(et),qt=LC();i=Ut(i,"modal");const Ae=I.useMemo(()=>({onHide:le}),[le]);function Ne(){return kt||nA({isRTL:qt})}function _n(_t){if(!Fl)return;const Ht=Ne().getScrollbarWidth()>0,Ke=_t.scrollHeight>gd(_t).documentElement.clientHeight;dt({paddingRight:Ht&&!Ke?Rb():void 0,paddingLeft:!Ht&&Ke?Rb():void 0})}const un=zl(()=>{ft&&_n(ft.dialog)});wk(()=>{yg(window,"resize",un),Z.current==null||Z.current()});const In=()=>{Y.current=!0},en=_t=>{Y.current&&ft&&_t.target===ft.dialog&&(rt.current=!0),Y.current=!1},ee=()=>{V(!0),Z.current=sS(ft.dialog,()=>{V(!1)})},oi=_t=>{_t.target===_t.currentTarget&&ee()},ve=_t=>{if(M==="static"){oi(_t);return}if(rt.current||_t.target!==_t.currentTarget){rt.current=!1;return}et==null||et()},os=_t=>{B?H==null||H(_t):(_t.preventDefault(),M==="static"&&ee())},cn=(_t,Ht)=>{_t&&_n(_t),N==null||N(_t,Ht)},Ui=_t=>{Z.current==null||Z.current(),R==null||R(_t)},Si=(_t,Ht)=>{P==null||P(_t,Ht),rS(window,"resize",un)},Ge=_t=>{_t&&(_t.style.display=""),U==null||U(_t),yg(window,"resize",un)},xn=I.useCallback(_t=>A.jsx("div",{..._t,className:Dt(`${i}-backdrop`,x,!b&&"show")}),[b,x,i]),ji={...e,...lt};ji.display="block";const ls=_t=>A.jsx("div",{role:"dialog",..._t,style:ji,className:Dt(t,i,It&&`${i}-static`,!b&&"show"),onClick:M?ve:void 0,onMouseUp:en,"data-bs-theme":d,"aria-label":_,"aria-labelledby":p,"aria-describedby":g,children:A.jsx(h,{...jt,onMouseDown:In,className:s,contentClassName:o,children:l})});return A.jsx(ov.Provider,{value:Ae,children:A.jsx(tA,{show:v,ref:pt,backdrop:M,container:ot,keyboard:!0,autoFocus:W,enforceFocus:st,restoreFocus:at,restoreFocusOptions:ut,onEscapeKeyDown:os,onShow:O,onHide:et,onEnter:cn,onEntering:Si,onEntered:k,onExit:Ui,onExiting:C,onExited:Ge,manager:Ne(),transition:b?rV:void 0,backdropTransition:b?sV:void 0,renderBackdrop:xn,renderDialog:ls})})});lA.displayName="Modal";const qe=Object.assign(lA,{Body:iA,Header:sA,Title:oA,Footer:rA,Dialog:lv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Ln=I.forwardRef(({bsPrefix:i,fluid:t=!1,as:e="div",className:s,...o},l)=>{const h=Ut(i,"container"),d=typeof t=="string"?`-${t}`:"-fluid";return A.jsx(e,{ref:l,...o,className:Dt(s,t?`${h}${d}`:h)})});Ln.displayName="Container";function aV({logInOpen:i,toggleLogIn:t,toggleSignUp:e}){const[s,o]=I.useState(""),[l,h]=I.useState(""),d=async p=>{p.preventDefault();try{await KM(Ic,s,l),console.log("User logged in."),ar.success("Logged in."),t()}catch(g){console.log(g.message),ar.error(g.message)}};return A.jsxs(A.Fragment,{children:[A.jsx(Lc,{richColors:!0,position:"top-center"}),A.jsxs(qe,{show:i,onHide:t,children:[A.jsx(qe.Header,{closeButton:!0,children:A.jsx(Ln,{className:"flex-center",children:A.jsx(qe.Title,{children:"Log in"})})}),A.jsx(qe.Body,{children:A.jsxs(Fe,{onSubmit:p=>d(p),children:[A.jsxs(Fe.Group,{className:"mb-3",controlId:"email-input",children:[A.jsx(Fe.Label,{children:"Email"}),A.jsx(Fe.Control,{autoFocus:!0,required:!0,type:"text",value:s,onChange:p=>o(p.target.value)})]}),A.jsxs(Fe.Group,{className:"mb-3",controlId:"password-input",children:[A.jsx(Fe.Label,{children:"Password"}),A.jsx(Fe.Control,{required:!0,type:"password",value:l,onChange:p=>h(p.target.value)})]}),A.jsx(Li,{variant:"primary",type:"submit",children:"Log in"})]})}),A.jsxs(qe.Footer,{className:"flex-center",children:[A.jsx(Ln,{className:"flex-center",children:A.jsx("h5",{children:"OR"})}),A.jsx(Ln,{className:"flex-center",children:A.jsx(Li,{variant:"primary",onClick:()=>{t(),e()},children:"Sign up"})})]})]})]})}function oV({signUpOpen:i,toggleSignUp:t}){const[e,s]=I.useState(""),[o,l]=I.useState(""),[h,d]=I.useState(""),[p,g]=I.useState(""),_=async v=>{if(v.preventDefault(),h!==p)console.log("Passwords dont match!"),ar.warning("Passwords don't match!");else if(h.length<6)console.log("Password needs to be at least 6 characters long!"),ar.warning("Password is too short - at least 6 characters.");else try{await GM(Ic,o,h);const b=Ic.currentUser;await FD(co(mo,"Users",b.uid),{email:b.email,nickname:e,statistics:{gameModes:{classic:{dailyStreak:0,gamesPlayed:0,gamesGuessed:new Array(6).fill(0),playedToday:!1,finishedToday:!1,currentState:{guesses:new Array(6).fill(null).map(()=>({word:"",colors:["black","black","black","black","black"]})),keyColors:{},rowIndex:0}},royale:{dailyStreak:0,gamesPlayed:0,gamesGuessed:new Array(5).fill(0),playedToday:!1,finishedToday:!1,currentState:{roundStates:new Array(5).fill(null).map(()=>({guesses:new Array(6).fill(null).map(()=>({word:"",colors:["black","black","black","black","black"]})),keyColors:{},rowIndex:0})),gameRound:0}}}},achievements:[]}),ar.success("Signed up."),console.log("User registered successfully."),t()}catch(b){console.log(b.message),ar.error(b.message)}};return A.jsxs(A.Fragment,{children:[A.jsx(Lc,{richColors:!0,position:"top-center"}),A.jsxs(qe,{show:i,onHide:t,backdrop:"static",children:[A.jsx(qe.Header,{closeButton:!0,children:A.jsx(Ln,{className:"flex-center",children:A.jsx(qe.Title,{children:"Sign up"})})}),A.jsx(qe.Body,{children:A.jsxs(Fe,{onSubmit:_,children:[A.jsxs(Fe.Group,{className:"mb-3",controlId:"nickname-input",children:[A.jsx(Fe.Label,{children:"Nickname"}),A.jsx(Fe.Control,{required:!0,type:"text",autoFocus:!0,value:e,onChange:v=>s(v.target.value),placeholder:"example123"})]}),A.jsxs(Fe.Group,{required:!0,className:"mb-3",controlId:"email-input",children:[A.jsx(Fe.Label,{children:"Email address"}),A.jsx(Fe.Control,{required:!0,type:"email",value:o,onChange:v=>l(v.target.value),placeholder:"name@example.com"})]}),A.jsxs(Fe.Group,{className:"mb-3",controlId:"password-input",children:[A.jsx(Fe.Label,{children:"Password"}),A.jsx(Fe.Control,{required:!0,type:"password",value:h,onChange:v=>d(v.target.value),placeholder:"PasswordExample123?!"})]}),A.jsxs(Fe.Group,{className:"mb-3",controlId:"repeat-password-input",children:[A.jsx(Fe.Label,{children:"Repeat password"}),A.jsx(Fe.Control,{required:!0,type:"password",value:p,onChange:v=>g(v.target.value),placeholder:"PasswordExample123?!"})]}),A.jsx(Li,{variant:"primary",type:"submit",children:"Sign up"})]})}),A.jsxs(qe.Footer,{className:"flex-center",children:[A.jsx(Ln,{className:"flex-center",children:A.jsx("h5",{children:"OR"})}),A.jsx(Ln,{className:"flex-center",children:A.jsx(Li,{variant:"primary",onClick:()=>{console.log("Hello"),t()},children:"Continue with Google"})})]})]})]})}function pl(i=!1){const[t,e]=I.useState(i),s=I.useCallback(()=>{e(o=>!o)},[]);return[t,s]}function lV(){const[,i]=I.useReducer(t=>t+1,0);return i}const hv=I.createContext(null);hv.displayName="NavContext";const fd=I.createContext(null),fv=(i,t=null)=>i!=null?String(i):t||null,uA=I.createContext(null),uV=["as","active","eventKey"];function cV(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function cA({key:i,onClick:t,active:e,id:s,role:o,disabled:l}){const h=I.useContext(fd),d=I.useContext(hv),p=I.useContext(uA);let g=e;const _={role:o};if(d){!o&&d.role==="tablist"&&(_.role="tab");const v=d.getControllerId(i??null),b=d.getControlledId(i??null);_[Bd("event-key")]=i,_.id=v||s,g=e==null&&i!=null?d.activeKey===i:e,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(_["aria-controls"]=b)}return _.role==="tab"&&(_["aria-selected"]=g,g||(_.tabIndex=-1),l&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=Qr(v=>{l||(t==null||t(v),i!=null&&h&&!v.isPropagationStopped()&&h(i,v))}),[_,{isActive:g}]}const hA=I.forwardRef((i,t)=>{let{as:e=zw,active:s,eventKey:o}=i,l=cV(i,uV);const[h,d]=cA(Object.assign({key:fv(o,l.href),active:s},l));return h[Bd("active")]=d.isActive,A.jsx(e,Object.assign({},l,h,{ref:t}))});hA.displayName="NavItem";const hV=["as","onSelect","activeKey","role","onKeyDown"];function fV(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}const Mb=()=>{},kb=Bd("event-key"),fA=I.forwardRef((i,t)=>{let{as:e="div",onSelect:s,activeKey:o,role:l,onKeyDown:h}=i,d=fV(i,hV);const p=lV(),g=I.useRef(!1),_=I.useContext(fd),v=I.useContext(uA);let b,M;v&&(l=l||"tablist",o=v.activeKey,b=v.getControlledId,M=v.getControllerId);const B=I.useRef(null),H=W=>{const st=B.current;if(!st)return null;const at=Qa(st,`[${kb}]:not([aria-disabled=true])`),ut=st.querySelector("[aria-selected=true]");if(!ut||ut!==document.activeElement)return null;const k=at.indexOf(ut);if(k===-1)return null;let R=k+W;return R>=at.length&&(R=0),R<0&&(R=at.length-1),at[R]},O=(W,st)=>{W!=null&&(s==null||s(W,st),_==null||_(W,st))},et=W=>{if(h==null||h(W),!v)return;let st;switch(W.key){case"ArrowLeft":case"ArrowUp":st=H(-1);break;case"ArrowRight":case"ArrowDown":st=H(1);break;default:return}st&&(W.preventDefault(),O(st.dataset[Dk("EventKey")]||null,W),g.current=!0,p())};I.useEffect(()=>{if(B.current&&g.current){const W=B.current.querySelector(`[${kb}][aria-selected=true]`);W==null||W.focus()}g.current=!1});const ot=zd(t,B);return A.jsx(fd.Provider,{value:O,children:A.jsx(hv.Provider,{value:{role:l,activeKey:fv(o),getControlledId:b||Mb,getControllerId:M||Mb},children:A.jsx(e,Object.assign({},d,{onKeyDown:et,ref:ot,role:l}))})})});fA.displayName="Nav";const dV=Object.assign(fA,{Item:hA}),Zl=I.createContext(null);Zl.displayName="NavbarContext";const dA=I.createContext(null);dA.displayName="CardHeaderContext";const mA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Ut(t,"nav-item"),A.jsx(e,{ref:o,className:Dt(i,t),...s})));mA.displayName="NavItem";const mV=["onKeyDown"];function pV(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function gV(i){return!i||i.trim()==="#"}const pA=I.forwardRef((i,t)=>{let{onKeyDown:e}=i,s=pV(i,mV);const[o]=ev(Object.assign({tagName:"a"},s)),l=Qr(h=>{o.onKeyDown(h),e==null||e(h)});return gV(s.href)||s.role==="button"?A.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:l})):A.jsx("a",Object.assign({ref:t},s,{onKeyDown:e}))});pA.displayName="Anchor";const gA=I.forwardRef(({bsPrefix:i,className:t,as:e=pA,active:s,eventKey:o,disabled:l=!1,...h},d)=>{i=Ut(i,"nav-link");const[p,g]=cA({key:fv(o,h.href),active:s,disabled:l,...h});return A.jsx(e,{...h,...p,ref:d,disabled:l,className:Dt(t,i,l&&"disabled",g.isActive&&"active")})});gA.displayName="NavLink";const yA=I.forwardRef((i,t)=>{const{as:e="div",bsPrefix:s,variant:o,fill:l=!1,justify:h=!1,navbar:d,navbarScroll:p,className:g,activeKey:_,...v}=ay(i,{activeKey:"onSelect"}),b=Ut(s,"nav");let M,B,H=!1;const O=I.useContext(Zl),et=I.useContext(dA);return O?(M=O.bsPrefix,H=d??!0):et&&({cardHeaderBsPrefix:B}=et),A.jsx(dV,{as:e,ref:t,activeKey:_,className:Dt(g,{[b]:!H,[`${M}-nav`]:H,[`${M}-nav-scroll`]:H&&p,[`${B}-${o}`]:!!B,[`${b}-${o}`]:!!o,[`${b}-fill`]:l,[`${b}-justified`]:h}),...v})});yA.displayName="Nav";const yV=Object.assign(yA,{Item:mA,Link:gA}),vA=I.forwardRef(({bsPrefix:i,className:t,as:e,...s},o)=>{i=Ut(i,"navbar-brand");const l=e||(s.href?"a":"span");return A.jsx(l,{...s,ref:o,className:Dt(t,i)})});vA.displayName="NavbarBrand";const _A=I.forwardRef(({children:i,bsPrefix:t,...e},s)=>{t=Ut(t,"navbar-collapse");const o=I.useContext(Zl);return A.jsx(ly,{in:!!(o&&o.expanded),...e,children:A.jsx("div",{ref:s,className:t,children:i})})});_A.displayName="NavbarCollapse";const EA=I.forwardRef(({bsPrefix:i,className:t,children:e,label:s="Toggle navigation",as:o="button",onClick:l,...h},d)=>{i=Ut(i,"navbar-toggler");const{onToggle:p,expanded:g}=I.useContext(Zl)||{},_=zl(v=>{l&&l(v),p&&p()});return o==="button"&&(h.type="button"),A.jsx(o,{...h,ref:d,onClick:_,"aria-label":s,className:Dt(t,i,!g&&"collapsed"),children:e||A.jsx("span",{className:`${i}-icon`})})});EA.displayName="NavbarToggle";const vV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",_V=typeof document<"u",EV=_V||vV?I.useLayoutEffect:I.useEffect,Gg=new WeakMap,Vb=(i,t)=>{if(!i||!t)return;const e=Gg.get(t)||new Map;Gg.set(t,e);let s=e.get(i);return s||(s=t.matchMedia(i),s.refCount=0,e.set(s.media,s)),s};function TV(i,t=typeof window>"u"?void 0:window){const e=Vb(i,t),[s,o]=I.useState(()=>e?e.matches:!1);return EV(()=>{let l=Vb(i,t);if(!l)return o(!1);let h=Gg.get(t);const d=()=>{o(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&(h==null||h.delete(l.media)),l=void 0}},[i]),s}function bV(i){const t=Object.keys(i);function e(d,p){return d===p?p:d?`${d} and ${p}`:p}function s(d){return t[Math.min(t.indexOf(d)+1,t.length-1)]}function o(d){const p=s(d);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(d){let p=i[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(d,p,g){let _;typeof d=="object"?(_=d,g=p,p=!0):(p=p||!0,_={[d]:p});let v=I.useMemo(()=>Object.entries(_).reduce((b,[M,B])=>((B==="up"||B===!0)&&(b=e(b,l(M))),(B==="down"||B===!0)&&(b=e(b,o(M))),b),""),[JSON.stringify(_)]);return TV(v,g)}return h}const SV=bV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),TA=I.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Ut(t,"offcanvas-body"),A.jsx(e,{ref:o,className:Dt(i,t),...s})));TA.displayName="OffcanvasBody";const wV={[ki]:"show",[Kr]:"show"},bA=I.forwardRef(({bsPrefix:i,className:t,children:e,in:s=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:h=!1,...d},p)=>(i=Ut(i,"offcanvas"),A.jsx(yd,{ref:p,addEndListener:oy,in:s,mountOnEnter:o,unmountOnExit:l,appear:h,...d,childRef:Hl(e),children:(g,_)=>I.cloneElement(e,{..._,className:Dt(t,e.props.className,(g===ki||g===gc)&&`${i}-toggling`,wV[g])})})));bA.displayName="OffcanvasToggling";const SA=I.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:s=!1,...o},l)=>(i=Ut(i,"offcanvas-header"),A.jsx(cv,{ref:l,...o,className:Dt(t,i),closeLabel:e,closeButton:s})));SA.displayName="OffcanvasHeader";const AV=aA("h5"),wA=I.forwardRef(({className:i,bsPrefix:t,as:e=AV,...s},o)=>(t=Ut(t,"offcanvas-title"),A.jsx(e,{ref:o,className:Dt(i,t),...s})));wA.displayName="OffcanvasTitle";function RV(i){return A.jsx(bA,{...i})}function CV(i){return A.jsx(Hd,{...i})}const AA=I.forwardRef(({bsPrefix:i,className:t,children:e,"aria-labelledby":s,placement:o="start",responsive:l,show:h=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:_,onShow:v,onHide:b,container:M,autoFocus:B=!0,enforceFocus:H=!0,restoreFocus:O=!0,restoreFocusOptions:et,onEntered:ot,onExit:W,onExiting:st,onEnter:at,onEntering:ut,onExited:k,backdropClassName:R,manager:C,renderStaticNode:N=!1,...P},U)=>{const x=I.useRef();i=Ut(i,"offcanvas");const[kt,jt]=I.useState(!1),F=zl(b),lt=SV(l||"xs","up");I.useEffect(()=>{jt(l?h&&!lt:h)},[h,l,lt]);const dt=I.useMemo(()=>({onHide:F}),[F]);function It(){return C||(g?(x.current||(x.current=new eA({handleContainerOverflow:!1})),x.current):nA())}const V=(ft,...Tt)=>{ft&&(ft.style.visibility="visible"),at==null||at(ft,...Tt)},Y=(ft,...Tt)=>{ft&&(ft.style.visibility=""),k==null||k(...Tt)},rt=I.useCallback(ft=>A.jsx("div",{...ft,className:Dt(`${i}-backdrop`,R)}),[R,i]),Z=ft=>A.jsx("div",{...ft,...P,className:Dt(t,l?`${i}-${l}`:i,`${i}-${o}`),"aria-labelledby":s,children:e});return A.jsxs(A.Fragment,{children:[!kt&&(l||N)&&Z({}),A.jsx(ov.Provider,{value:dt,children:A.jsx(tA,{show:kt,ref:U,backdrop:d,container:M,keyboard:p,autoFocus:B,enforceFocus:H&&!g,restoreFocus:O,restoreFocusOptions:et,onEscapeKeyDown:_,onShow:v,onHide:F,onEnter:V,onEntering:ut,onEntered:ot,onExit:W,onExiting:st,onExited:Y,manager:It(),transition:RV,backdropTransition:CV,renderBackdrop:rt,renderDialog:Z})})]})});AA.displayName="Offcanvas";const IV=Object.assign(AA,{Body:TA,Header:SA,Title:wA}),RA=I.forwardRef(({onHide:i,...t},e)=>{const s=I.useContext(Zl),o=zl(()=>{s==null||s.onToggle==null||s.onToggle(),i==null||i()});return A.jsx(IV,{ref:e,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});RA.displayName="NavbarOffcanvas";const CA=I.forwardRef(({className:i,bsPrefix:t,as:e="span",...s},o)=>(t=Ut(t,"navbar-text"),A.jsx(e,{ref:o,className:Dt(i,t),...s})));CA.displayName="NavbarText";const IA=I.forwardRef((i,t)=>{const{bsPrefix:e,expand:s=!0,variant:o="light",bg:l,fixed:h,sticky:d,className:p,as:g="nav",expanded:_,onToggle:v,onSelect:b,collapseOnSelect:M=!1,...B}=ay(i,{expanded:"onToggle"}),H=Ut(e,"navbar"),O=I.useCallback((...W)=>{b==null||b(...W),M&&_&&(v==null||v(!1))},[b,M,_,v]);B.role===void 0&&g!=="nav"&&(B.role="navigation");let et=`${H}-expand`;typeof s=="string"&&(et=`${et}-${s}`);const ot=I.useMemo(()=>({onToggle:()=>v==null?void 0:v(!_),bsPrefix:H,expanded:!!_,expand:s}),[H,_,s,v]);return A.jsx(Zl.Provider,{value:ot,children:A.jsx(fd.Provider,{value:O,children:A.jsx(g,{ref:t,...B,className:Dt(p,H,s&&et,o&&`${H}-${o}`,l&&`bg-${l}`,d&&`sticky-${d}`,h&&`fixed-${h}`)})})})});IA.displayName="Navbar";const If=Object.assign(IA,{Brand:vA,Collapse:_A,Offcanvas:RA,Text:CA,Toggle:EA});function xV({darkMode:i,toggleDarkMode:t}){return A.jsx(A.Fragment,{children:A.jsxs("div",{className:"dark-mode-button flex-center",children:[A.jsx("input",{type:"checkbox",id:"dark-mode-input",className:"dark-mode-input",onClick:t}),A.jsxs("label",{htmlFor:"dark-mode-input",className:`dark-mode-label ${i}`,children:[A.jsx("div",{className:"night",children:"night"}),A.jsx("div",{className:"day",children:"day"})]})]})})}function OV(i){return Pc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M135.19 390.14a28.79 28.79 0 0 0 21.68 9.86h246.26A29 29 0 0 0 432 371.13V140.87A29 29 0 0 0 403.13 112H156.87a28.84 28.84 0 0 0-21.67 9.84L46.33 256l88.86 134.11z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336.67 192.33 206.66 322.34m130.01 0L206.66 192.33m130.01 0L206.66 322.34m130.01 0L206.66 192.33"},child:[]}]})(i)}function NV(i){return Pc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"28",d:"M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296"},child:[]},{tag:"circle",attr:{cx:"250",cy:"348",r:"20"},child:[]}]})(i)}function DV(i){return Pc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 496H72a24 24 0 0 1-24-24V328a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v144a24 24 0 0 1-24 24zm224 0h-32a24 24 0 0 1-24-24V232a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v240a24 24 0 0 1-24 24zm112 0h-32a24 24 0 0 1-24-24V120a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v352a24 24 0 0 1-24 24zm-224 0h-32a24 24 0 0 1-24-24V40a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v432a24 24 0 0 1-24 24z"},child:[]}]})(i)}function MV({darkMode:i,toggleDarkMode:t,toggleLogIn:e,playWordle:s,togglePlayWordle:o,toggleStats:l}){const{currentUser:h}=Uc(),{setGameMode:d}=ql(),p=async()=>{try{await XM(Ic),window.location.reload()}catch(g){console.error("Error signing out:",g.message),ar.error(g.message)}};return A.jsxs(A.Fragment,{children:[A.jsx(Lc,{richColors:!0,position:"top-center"}),A.jsx(If,{className:i,children:A.jsxs(Ln,{children:[A.jsx(If.Brand,{className:"nav-brand",onClick:()=>s&&o(),children:"Wordle"}),A.jsx(If.Toggle,{"aria-controls":"basic-navbar-nav"}),A.jsx(If.Collapse,{id:"basic-navbar-nav",children:A.jsxs(yV,{className:"me-auto",children:[A.jsx(Ln,{className:"stats flex-center",children:A.jsx(DV,{size:"50%",className:"stats-icon",onClick:()=>{d(Pe.CLASSIC),l()}})}),A.jsx(Ln,{className:"info flex-center",children:A.jsx(NV,{size:"60%",className:"info-icon"})}),h?A.jsx(Ln,{className:"button flex-center",children:A.jsx(Li,{variant:"primary",onClick:p,style:{fontSize:"12px",width:"60px"},children:"Log out"})}):A.jsx(Ln,{className:"button flex-center",children:A.jsx(Li,{variant:"primary",onClick:e,style:{fontSize:"12px",width:"60px"},children:"Log in"})}),A.jsx(xV,{toggleDarkMode:t})]})})]})})]})}const dv=I.createContext({handleKeyClick:()=>console.warn("KeyBoardContext: No handleKeyClick provider found!")}),kV=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["ENTER","Z","X","C","V","B","N","M","BACKSPACE"]];function VV({className:i,keyColors:t}){const{handleKeyClick:e}=I.useContext(dv);return A.jsx("div",{className:`keyboard ${i}`,children:kV.map((s,o)=>A.jsx(PV,{keyboardRow:s,index:o,handleKeyClick:e,keyColors:t},o))})}function PV({keyboardRow:i,index:t,keyColors:e}){const s=`keyboard-row ${t+1}`;return A.jsx("div",{className:s,children:i.map((o,l)=>A.jsx(LV,{keyboardKey:o,keyColors:e},l))})}function LV({keyboardKey:i,keyColors:t}){const{handleKeyClick:e}=I.useContext(dv),o=`keyboard-key ${i.length>1?i.toLowerCase():"key-letter"} ${t.get(i)}`,l=i==="BACKSPACE"?null:i;return A.jsxs("button",{className:o,onClick:e,id:i,children:[i==="BACKSPACE"&&A.jsx(OV,{className:"backspace-img"}),l]})}function UV({guesses:i,className:t,wordLength:e,highLight:s}){return A.jsx("div",{className:`wordle-board ${t}`,children:i.map((o,l)=>A.jsx(jV,{guess:o,wordLength:e,highLight:l===s-1?"highlight":""},l))})}function jV({guess:i,wordLength:t,highLight:e}){const s=[];for(let o=0;o<t;o++){let l=i.word[o],h=`tile ${i.colors[o]}`,d=`letter ${i.colors[o]}`;s.push(A.jsx("div",{className:h+" "+e,style:{"--index":o},children:A.jsxs("div",{className:"tile-inner",style:{"--index":o},children:[A.jsx("div",{className:"letter black",style:{"--index":o},children:A.jsx("span",{children:l})}),A.jsx("div",{className:d,style:{"--index":o},children:A.jsx("span",{children:l})})]})},o))}return A.jsx(A.Fragment,{children:s})}const xA=I.createContext({userData:null,isLoading:!0}),Yc=()=>I.useContext(xA);function mv({darkMode:i,solution:t,wordSet:e,gameResult:s,setGameResult:o,rowIndex:l,numOfGuesses:h,wordLength:d,highLight:p,guesses:g,setGuesses:_,keyColors:v,setKeyColors:b,baseColors:M}){const{userData:B}=Yc(),{gameMode:H}=ql(),O=I.useRef({word:"",colors:M}),et=I.useRef(!0),ot=R=>new Promise(C=>setTimeout(C,R)),W=(R,C)=>{setTimeout(()=>{v.get(R)!=="green"&&b(N=>{const P=new Map(N);return P.set(R,C),P})},1700)},st=R=>{const C=[...g];C[l.current]={...R},_(C)},at=async()=>{const R=new Array(d).fill(void 0),C=new Map,N=[];let P=0;const U=new Map;t.forEach(x=>U.has(x)?U.set(x,U.get(x)+1):U.set(x,1)),O.current.word.split("").forEach((x,kt)=>{x===t[kt]?(R[kt]="green",C.set(x,"green"),P++,U.set(x,U.get(x)-1)):N.push(kt)}),N.forEach(x=>{const kt=O.current.word[x];U.get(kt)&&t.includes(kt)?(R[x]="orange",U.set(kt,U.get(kt)-1),!C.has(kt)&&C.set(kt,"orange")):(R[x]="grey",!C.has(kt)&&C.set(kt,"grey"))}),C.forEach((x,kt)=>{W(kt,x)}),O.current={word:O.current.word,colors:R},st(O.current),await ot(1700),P===d&&(await ot(1e3),o("guessed"))},ut=R=>{k(R.target.id)},k=async R=>{(H==="practice"||H!=="practice"&&!(B!=null&&B.statistics.gameModes[H].finishedToday))&&!s&&et.current&&(R==="ENTER"?O.current.word.length===d?e.current.has(O.current.word.toLowerCase())?(et.current=!1,await at(),l.current++,O.current={word:"",colors:M},et.current=!0,!s&&l.current>=h&&(o("failed"),l.current++)):ar.warning("Not in the word bank."):ar.warning("Too short."):l.current<h&&(R==="BACKSPACE"&&O.current.word.length>0?(O.current.word=O.current.word.slice(0,-1),st(O.current)):/[A-Z]/.test(R)&&R.length===1&&O.current.word.length<d&&(O.current.word=O.current.word+R,st(O.current))))};return I.useEffect(()=>{const R=C=>{k(C.key.toUpperCase())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[g]),A.jsxs(A.Fragment,{children:[A.jsx(Lc,{richColors:!0,position:"top-center"}),A.jsx("h3",{className:`game-mode ${i}`,children:H}),A.jsx(UV,{guesses:g,className:i,wordLength:d,highLight:p}),A.jsx(dv.Provider,{value:{handleKeyClick:ut},children:A.jsx(VV,{className:i,keyColors:v})})]})}function pv({showDialog:i,setGameResult:t,toggleRestart:e,togglePlayWordle:s,solution:o}){const{gameMode:l}=ql();return A.jsx(A.Fragment,{children:A.jsxs(qe,{show:i,onHide:()=>t(""),backdrop:"static",children:[A.jsx(qe.Header,{closeButton:!0,children:A.jsx(Ln,{className:"flex-center",children:A.jsx(qe.Title,{children:A.jsx("h1",{children:o})})})}),A.jsx(qe.Body,{}),A.jsx(qe.Footer,{className:"flex-center",children:A.jsxs(Ln,{children:[A.jsx(Li,{onClick:()=>{t(""),s()},children:"Go home"}),l===Pe.PRACTICE&&A.jsx(Li,{onClick:()=>{t(""),e()},children:"Play again"})]})})]})})}function BV({darkMode:i,togglePlayWordle:t,wordLength:e,numOfGuesses:s,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,rowIndex:p,baseColors:g,gameResult:_,setGameResult:v,mutateUserData:b}){const{userData:M}=Yc(),[B,H]=I.useState([]),O=I.useRef([]),et=I.useRef(new Set);return I.useEffect(()=>{(async()=>{try{p.current=0;let W=await Ac(co(mo,"wordleWords","wordBank")),st=W.data();et.current=new Set(st.allWords),W=await Ac(co(mo,"wordleWords","dailyWords")),st=W.data();const at=st.classicWord;H(at.toUpperCase().split("")),O.current=at.toUpperCase().split(""),console.log(O.current.join(""))}catch(W){console.error(W)}})()},[]),I.useEffect(()=>{_&&(async()=>{const W={...M};W.statistics.gameModes.classic.finishedToday=!0,W.statistics.gameModes.classic.gamesPlayed++,W.statistics.gameModes.classic.dailyStreak++,_==="guessed"&&W.statistics.gameModes.classic.gamesGuessed[p.current-1]++;try{await b(W)}catch(st){console.error(st)}})()},[_]),A.jsxs(A.Fragment,{children:[A.jsx(mv,{darkMode:i,solution:B,wordSet:et,rowIndex:p,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,baseColors:g,gameResult:_,setGameResult:v,wordLength:e,numOfGuesses:s}),A.jsx(pv,{showDialog:_,setGameResult:v,togglePlayWordle:t})]})}function zV({darkMode:i,togglePlayWordle:t,wordLength:e,numOfGuesses:s,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,rowIndex:p,baseColors:g,gameRound:_,gameResult:v,setGameResult:b,mutateUserData:M}){const{userData:B}=Yc(),H=I.useRef([]),[O,et]=I.useState([]),[ot,W]=pl(!1),st=I.useRef(new Set),[at,ut]=I.useState(!1);I.useEffect(()=>{(async()=>{try{let C=await Ac(co(mo,"wordleWords","wordBank")),N=C.data();st.current=new Set(N.allWords),C=await Ac(co(mo,"wordleWords","dailyWords")),N=C.data(),H.current=N.royaleWords,et(H.current[_.current-1].toUpperCase().split("")),H.current.forEach(P=>console.log(P))}catch(C){console.error(C)}})()},[]),I.useEffect(()=>{v&&(v!=="failed"&&_.current<s-1?k()?ut(!0):(et(H.current[_.current].toUpperCase().split("")),_.current++,b(""),p.current=0,d(new Map),l(new Array(6).fill({word:"",colors:g})),W()):ut(!0))},[v]),I.useEffect(()=>{at&&(async()=>{const C={...B};C.statistics.gameModes.royale.finishedToday=!0,C.statistics.gameModes.royale.gamesPlayed++,C.statistics.gameModes.royale.dailyStreak++,v==="guessed"&&C.statistics.gameModes.royale.gamesGuessed[_.current-1]++;try{M(C)}catch(N){console.error(N)}})()},[at]);const k=()=>_.current+p.current>s;return A.jsxs(A.Fragment,{children:[A.jsx(mv,{darkMode:i,solution:O,wordSet:st,rowIndex:p,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,gameResult:v,setGameResult:b,wordLength:e,numOfGuesses:s,highLight:s-_.current,baseColors:g},ot),A.jsx(pv,{showDialog:at,setGameResult:b,toggleRestart:W,togglePlayWordle:t,solution:O})]})}const HV="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function FV({darkMode:i,togglePlayWordle:t,wordLength:e,numOfGuesses:s,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,rowIndex:p,baseColors:g,toggleRestart:_}){const[v,b]=I.useState([]),M=I.useRef([]),B=I.useRef(new Set),[H,O]=I.useState("");return I.useEffect(()=>{(async()=>{try{p.current=0;const st=[...(await(await fetch(HV)).json()).words];st.forEach(ut=>B.current.add(ut));const at=st[Math.floor(Math.random()*(st.length-1))];b(at.toUpperCase().split("")),M.current=at.toUpperCase().split(""),console.log(M.current.join(""))}catch(ot){console.error(ot)}})()},[]),A.jsxs(A.Fragment,{children:[A.jsx(mv,{darkMode:i,solution:v,wordSet:B,rowIndex:p,gameResult:H,setGameResult:O,wordLength:e,numOfGuesses:s,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,baseColors:g}),A.jsx(pv,{showDialog:H,setGameResult:O,toggleRestart:_,togglePlayWordle:t,solution:v})]})}var Jl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},po=typeof window>"u"||"Deno"in globalThis;function Pn(){}function qV(i,t){return typeof i=="function"?i(t):i}function Kg(i){return typeof i=="number"&&i>=0&&i!==1/0}function OA(i,t){return Math.max(i+(t||0)-Date.now(),0)}function sa(i,t){return typeof i=="function"?i(t):i}function Ti(i,t){return typeof i=="function"?i(t):i}function Pb(i,t){const{type:e="all",exact:s,fetchStatus:o,predicate:l,queryKey:h,stale:d}=i;if(h){if(s){if(t.queryHash!==gv(h,t.options))return!1}else if(!xc(t.queryKey,h))return!1}if(e!=="all"){const p=t.isActive();if(e==="active"&&!p||e==="inactive"&&p)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||o&&o!==t.state.fetchStatus||l&&!l(t))}function Lb(i,t){const{exact:e,status:s,predicate:o,mutationKey:l}=i;if(l){if(!t.options.mutationKey)return!1;if(e){if(go(t.options.mutationKey)!==go(l))return!1}else if(!xc(t.options.mutationKey,l))return!1}return!(s&&t.state.status!==s||o&&!o(t))}function gv(i,t){return((t==null?void 0:t.queryKeyHashFn)||go)(i)}function go(i){return JSON.stringify(i,(t,e)=>Qg(e)?Object.keys(e).sort().reduce((s,o)=>(s[o]=e[o],s),{}):e)}function xc(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?Object.keys(t).every(e=>xc(i[e],t[e])):!1}function NA(i,t){if(i===t)return i;const e=Ub(i)&&Ub(t);if(e||Qg(i)&&Qg(t)){const s=e?i:Object.keys(i),o=s.length,l=e?t:Object.keys(t),h=l.length,d=e?[]:{},p=new Set(s);let g=0;for(let _=0;_<h;_++){const v=e?_:l[_];(!e&&p.has(v)||e)&&i[v]===void 0&&t[v]===void 0?(d[v]=void 0,g++):(d[v]=NA(i[v],t[v]),d[v]===i[v]&&i[v]!==void 0&&g++)}return o===h&&g===o?i:d}return t}function dd(i,t){if(!t||Object.keys(i).length!==Object.keys(t).length)return!1;for(const e in i)if(i[e]!==t[e])return!1;return!0}function Ub(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function Qg(i){if(!jb(i))return!1;const t=i.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!jb(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function jb(i){return Object.prototype.toString.call(i)==="[object Object]"}function GV(i){return new Promise(t=>{setTimeout(t,i)})}function $g(i,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(i,t):e.structuralSharing!==!1?NA(i,t):t}function KV(i,t,e=0){const s=[...i,t];return e&&s.length>e?s.slice(1):s}function QV(i,t,e=0){const s=[t,...i];return e&&s.length>e?s.slice(0,-1):s}var yv=Symbol();function DA(i,t){return!i.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!i.queryFn||i.queryFn===yv?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}function MA(i,t){return typeof i=="function"?i(...t):!!i}var Xa,Fs,Tl,Gb,$V=(Gb=class extends Jl{constructor(){super();bt(this,Xa);bt(this,Fs);bt(this,Tl);gt(this,Tl,t=>{if(!po&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){L(this,Fs)||this.setEventListener(L(this,Tl))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,Fs))==null||t.call(this),gt(this,Fs,void 0))}setEventListener(t){var e;gt(this,Tl,t),(e=L(this,Fs))==null||e.call(this),gt(this,Fs,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){L(this,Xa)!==t&&(gt(this,Xa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof L(this,Xa)=="boolean"?L(this,Xa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Xa=new WeakMap,Fs=new WeakMap,Tl=new WeakMap,Gb),vv=new $V,bl,qs,Sl,Kb,YV=(Kb=class extends Jl{constructor(){super();bt(this,bl,!0);bt(this,qs);bt(this,Sl);gt(this,Sl,t=>{if(!po&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}})}onSubscribe(){L(this,qs)||this.setEventListener(L(this,Sl))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,qs))==null||t.call(this),gt(this,qs,void 0))}setEventListener(t){var e;gt(this,Sl,t),(e=L(this,qs))==null||e.call(this),gt(this,qs,t(this.setOnline.bind(this)))}setOnline(t){L(this,bl)!==t&&(gt(this,bl,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return L(this,bl)}},bl=new WeakMap,qs=new WeakMap,Sl=new WeakMap,Kb),md=new YV;function Yg(){let i,t;const e=new Promise((o,l)=>{i=o,t=l});e.status="pending",e.catch(()=>{});function s(o){Object.assign(e,o),delete e.resolve,delete e.reject}return e.resolve=o=>{s({status:"fulfilled",value:o}),i(o)},e.reject=o=>{s({status:"rejected",reason:o}),t(o)},e}function XV(i){return Math.min(1e3*2**i,3e4)}function kA(i){return(i??"online")==="online"?md.isOnline():!0}var VA=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function fg(i){return i instanceof VA}function PA(i){let t=!1,e=0,s=!1,o;const l=Yg(),h=H=>{var O;s||(b(new VA(H)),(O=i.abort)==null||O.call(i))},d=()=>{t=!0},p=()=>{t=!1},g=()=>vv.isFocused()&&(i.networkMode==="always"||md.isOnline())&&i.canRun(),_=()=>kA(i.networkMode)&&i.canRun(),v=H=>{var O;s||(s=!0,(O=i.onSuccess)==null||O.call(i,H),o==null||o(),l.resolve(H))},b=H=>{var O;s||(s=!0,(O=i.onError)==null||O.call(i,H),o==null||o(),l.reject(H))},M=()=>new Promise(H=>{var O;o=et=>{(s||g())&&H(et)},(O=i.onPause)==null||O.call(i)}).then(()=>{var H;o=void 0,s||(H=i.onContinue)==null||H.call(i)}),B=()=>{if(s)return;let H;const O=e===0?i.initialPromise:void 0;try{H=O??i.fn()}catch(et){H=Promise.reject(et)}Promise.resolve(H).then(v).catch(et=>{var ut;if(s)return;const ot=i.retry??(po?0:3),W=i.retryDelay??XV,st=typeof W=="function"?W(e,et):W,at=ot===!0||typeof ot=="number"&&e<ot||typeof ot=="function"&&ot(e,et);if(t||!at){b(et);return}e++,(ut=i.onFail)==null||ut.call(i,e,et),GV(st).then(()=>g()?void 0:M()).then(()=>{t?b(et):B()})})};return{promise:l,cancel:h,continue:()=>(o==null||o(),l),cancelRetry:d,continueRetry:p,canStart:_,start:()=>(_()?B():M().then(B),l)}}var WV=i=>setTimeout(i,0);function ZV(){let i=[],t=0,e=d=>{d()},s=d=>{d()},o=WV;const l=d=>{t?i.push(d):o(()=>{e(d)})},h=()=>{const d=i;i=[],d.length&&o(()=>{s(()=>{d.forEach(p=>{e(p)})})})};return{batch:d=>{let p;t++;try{p=d()}finally{t--,t||h()}return p},batchCalls:d=>(...p)=>{l(()=>{d(...p)})},schedule:l,setNotifyFunction:d=>{e=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{o=d}}}var We=ZV(),Wa,Qb,LA=(Qb=class{constructor(){bt(this,Wa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kg(this.gcTime)&&gt(this,Wa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(po?1/0:5*60*1e3))}clearGcTimeout(){L(this,Wa)&&(clearTimeout(L(this,Wa)),gt(this,Wa,void 0))}},Wa=new WeakMap,Qb),wl,Za,Ei,Ja,Sn,Oc,to,Di,Fr,$b,JV=($b=class extends LA{constructor(t){super();bt(this,Di);bt(this,wl);bt(this,Za);bt(this,Ei);bt(this,Ja);bt(this,Sn);bt(this,Oc);bt(this,to);gt(this,to,!1),gt(this,Oc,t.defaultOptions),this.setOptions(t.options),this.observers=[],gt(this,Ja,t.client),gt(this,Ei,L(this,Ja).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,gt(this,wl,tP(this.options)),this.state=t.state??L(this,wl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=L(this,Sn))==null?void 0:t.promise}setOptions(t){this.options={...L(this,Oc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,Ei).remove(this)}setData(t,e){const s=$g(this.state.data,t,this.options);return Lt(this,Di,Fr).call(this,{data:s,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),s}setState(t,e){Lt(this,Di,Fr).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var s,o;const e=(s=L(this,Sn))==null?void 0:s.promise;return(o=L(this,Sn))==null||o.cancel(t),e?e.then(Pn).catch(Pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,wl))}isActive(){return this.observers.some(t=>Ti(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>sa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!OA(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=L(this,Sn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=L(this,Sn))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),L(this,Ei).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(L(this,Sn)&&(L(this,to)?L(this,Sn).cancel({revert:!0}):L(this,Sn).cancelRetry()),this.scheduleGc()),L(this,Ei).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Di,Fr).call(this,{type:"invalidate"})}fetch(t,e){var g,_,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(L(this,Sn))return L(this,Sn).continueRetry(),L(this,Sn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(M=>M.options.queryFn);b&&this.setOptions(b.options)}const s=new AbortController,o=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(gt(this,to,!0),s.signal)})},l=()=>{const b=DA(this.options,e),B=(()=>{const H={client:L(this,Ja),queryKey:this.queryKey,meta:this.meta};return o(H),H})();return gt(this,to,!1),this.options.persister?this.options.persister(b,B,this):b(B)},d=(()=>{const b={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:L(this,Ja),state:this.state,fetchFn:l};return o(b),b})();(g=this.options.behavior)==null||g.onFetch(d,this),gt(this,Za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=d.fetchOptions)==null?void 0:_.meta))&&Lt(this,Di,Fr).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta});const p=b=>{var M,B,H,O;fg(b)&&b.silent||Lt(this,Di,Fr).call(this,{type:"error",error:b}),fg(b)||((B=(M=L(this,Ei).config).onError)==null||B.call(M,b,this),(O=(H=L(this,Ei).config).onSettled)==null||O.call(H,this.state.data,b,this)),this.scheduleGc()};return gt(this,Sn,PA({initialPromise:e==null?void 0:e.initialPromise,fn:d.fetchFn,abort:s.abort.bind(s),onSuccess:b=>{var M,B,H,O;if(b===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(et){p(et);return}(B=(M=L(this,Ei).config).onSuccess)==null||B.call(M,b,this),(O=(H=L(this,Ei).config).onSettled)==null||O.call(H,b,this.state.error,this),this.scheduleGc()},onError:p,onFail:(b,M)=>{Lt(this,Di,Fr).call(this,{type:"failed",failureCount:b,error:M})},onPause:()=>{Lt(this,Di,Fr).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Di,Fr).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),L(this,Sn).start()}},wl=new WeakMap,Za=new WeakMap,Ei=new WeakMap,Ja=new WeakMap,Sn=new WeakMap,Oc=new WeakMap,to=new WeakMap,Di=new WeakSet,Fr=function(t){const e=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...UA(s.data,this.options),fetchMeta:t.meta??null};case"success":return gt(this,Za,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return fg(o)&&o.revert&&L(this,Za)?{...L(this,Za),fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=e(this.state),We.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),L(this,Ei).notify({query:this,type:"updated",action:t})})},$b);function UA(i,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kA(t.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function tP(i){const t=typeof i.initialData=="function"?i.initialData():i.initialData,e=t!==void 0,s=e?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var ir,Yb,eP=(Yb=class extends Jl{constructor(t={}){super();bt(this,ir);this.config=t,gt(this,ir,new Map)}build(t,e,s){const o=e.queryKey,l=e.queryHash??gv(o,e);let h=this.get(l);return h||(h=new JV({client:t,queryKey:o,queryHash:l,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(o)}),this.add(h)),h}add(t){L(this,ir).has(t.queryHash)||(L(this,ir).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=L(this,ir).get(t.queryHash);e&&(t.destroy(),e===t&&L(this,ir).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){We.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return L(this,ir).get(t)}getAll(){return[...L(this,ir).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(s=>Pb(e,s))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(s=>Pb(t,s)):e}notify(t){We.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){We.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){We.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ir=new WeakMap,Yb),rr,kn,eo,sr,Ls,Xb,nP=(Xb=class extends LA{constructor(t){super();bt(this,sr);bt(this,rr);bt(this,kn);bt(this,eo);this.mutationId=t.mutationId,gt(this,kn,t.mutationCache),gt(this,rr,[]),this.state=t.state||jA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,rr).includes(t)||(L(this,rr).push(t),this.clearGcTimeout(),L(this,kn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){gt(this,rr,L(this,rr).filter(e=>e!==t)),this.scheduleGc(),L(this,kn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,rr).length||(this.state.status==="pending"?this.scheduleGc():L(this,kn).remove(this))}continue(){var t;return((t=L(this,eo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,h,d,p,g,_,v,b,M,B,H,O,et,ot,W,st,at,ut,k,R;const e=()=>{Lt(this,sr,Ls).call(this,{type:"continue"})};gt(this,eo,PA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,N)=>{Lt(this,sr,Ls).call(this,{type:"failed",failureCount:C,error:N})},onPause:()=>{Lt(this,sr,Ls).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,kn).canRun(this)}));const s=this.state.status==="pending",o=!L(this,eo).canStart();try{if(s)e();else{Lt(this,sr,Ls).call(this,{type:"pending",variables:t,isPaused:o}),await((h=(l=L(this,kn).config).onMutate)==null?void 0:h.call(l,t,this));const N=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,t));N!==this.state.context&&Lt(this,sr,Ls).call(this,{type:"pending",context:N,variables:t,isPaused:o})}const C=await L(this,eo).start();return await((_=(g=L(this,kn).config).onSuccess)==null?void 0:_.call(g,C,t,this.state.context,this)),await((b=(v=this.options).onSuccess)==null?void 0:b.call(v,C,t,this.state.context)),await((B=(M=L(this,kn).config).onSettled)==null?void 0:B.call(M,C,null,this.state.variables,this.state.context,this)),await((O=(H=this.options).onSettled)==null?void 0:O.call(H,C,null,t,this.state.context)),Lt(this,sr,Ls).call(this,{type:"success",data:C}),C}catch(C){try{throw await((ot=(et=L(this,kn).config).onError)==null?void 0:ot.call(et,C,t,this.state.context,this)),await((st=(W=this.options).onError)==null?void 0:st.call(W,C,t,this.state.context)),await((ut=(at=L(this,kn).config).onSettled)==null?void 0:ut.call(at,void 0,C,this.state.variables,this.state.context,this)),await((R=(k=this.options).onSettled)==null?void 0:R.call(k,void 0,C,t,this.state.context)),C}finally{Lt(this,sr,Ls).call(this,{type:"error",error:C})}}finally{L(this,kn).runNext(this)}}},rr=new WeakMap,kn=new WeakMap,eo=new WeakMap,sr=new WeakSet,Ls=function(t){const e=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),We.batch(()=>{L(this,rr).forEach(s=>{s.onMutationUpdate(t)}),L(this,kn).notify({mutation:this,type:"updated",action:t})})},Xb);function jA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,Mi,Nc,Wb,iP=(Wb=class extends Jl{constructor(t={}){super();bt(this,qr);bt(this,Mi);bt(this,Nc);this.config=t,gt(this,qr,new Set),gt(this,Mi,new Map),gt(this,Nc,0)}build(t,e,s){const o=new nP({mutationCache:this,mutationId:++yf(this,Nc)._,options:t.defaultMutationOptions(e),state:s});return this.add(o),o}add(t){L(this,qr).add(t);const e=xf(t);if(typeof e=="string"){const s=L(this,Mi).get(e);s?s.push(t):L(this,Mi).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(L(this,qr).delete(t)){const e=xf(t);if(typeof e=="string"){const s=L(this,Mi).get(e);if(s)if(s.length>1){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}else s[0]===t&&L(this,Mi).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=xf(t);if(typeof e=="string"){const s=L(this,Mi).get(e),o=s==null?void 0:s.find(l=>l.state.status==="pending");return!o||o===t}else return!0}runNext(t){var s;const e=xf(t);if(typeof e=="string"){const o=(s=L(this,Mi).get(e))==null?void 0:s.find(l=>l!==t&&l.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){We.batch(()=>{L(this,qr).forEach(t=>{this.notify({type:"removed",mutation:t})}),L(this,qr).clear(),L(this,Mi).clear()})}getAll(){return Array.from(L(this,qr))}find(t){const e={exact:!0,...t};return this.getAll().find(s=>Lb(e,s))}findAll(t={}){return this.getAll().filter(e=>Lb(t,e))}notify(t){We.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return We.batch(()=>Promise.all(t.map(e=>e.continue().catch(Pn))))}},qr=new WeakMap,Mi=new WeakMap,Nc=new WeakMap,Wb);function xf(i){var t;return(t=i.options.scope)==null?void 0:t.id}function Bb(i){return{onFetch:(t,e)=>{var _,v,b,M,B;const s=t.options,o=(b=(v=(_=t.fetchOptions)==null?void 0:_.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,l=((M=t.state.data)==null?void 0:M.pages)||[],h=((B=t.state.data)==null?void 0:B.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const g=async()=>{let H=!1;const O=W=>{Object.defineProperty(W,"signal",{enumerable:!0,get:()=>(t.signal.aborted?H=!0:t.signal.addEventListener("abort",()=>{H=!0}),t.signal)})},et=DA(t.options,t.fetchOptions),ot=async(W,st,at)=>{if(H)return Promise.reject();if(st==null&&W.pages.length)return Promise.resolve(W);const k=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:st,direction:at?"backward":"forward",meta:t.options.meta};return O(P),P})(),R=await et(k),{maxPages:C}=t.options,N=at?QV:KV;return{pages:N(W.pages,R,C),pageParams:N(W.pageParams,st,C)}};if(o&&l.length){const W=o==="backward",st=W?rP:zb,at={pages:l,pageParams:h},ut=st(s,at);d=await ot(at,ut,W)}else{const W=i??l.length;do{const st=p===0?h[0]??s.initialPageParam:zb(s,d);if(p>0&&st==null)break;d=await ot(d,st),p++}while(p<W)}return d};t.options.persister?t.fetchFn=()=>{var H,O;return(O=(H=t.options).persister)==null?void 0:O.call(H,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=g}}}function zb(i,{pages:t,pageParams:e}){const s=t.length-1;return t.length>0?i.getNextPageParam(t[s],t,e[s],e):void 0}function rP(i,{pages:t,pageParams:e}){var s;return t.length>0?(s=i.getPreviousPageParam)==null?void 0:s.call(i,t[0],t,e[0],e):void 0}var xe,Gs,Ks,Al,Rl,Qs,Cl,Il,Zb,sP=(Zb=class{constructor(i={}){bt(this,xe);bt(this,Gs);bt(this,Ks);bt(this,Al);bt(this,Rl);bt(this,Qs);bt(this,Cl);bt(this,Il);gt(this,xe,i.queryCache||new eP),gt(this,Gs,i.mutationCache||new iP),gt(this,Ks,i.defaultOptions||{}),gt(this,Al,new Map),gt(this,Rl,new Map),gt(this,Qs,0)}mount(){yf(this,Qs)._++,L(this,Qs)===1&&(gt(this,Cl,vv.subscribe(async i=>{i&&(await this.resumePausedMutations(),L(this,xe).onFocus())})),gt(this,Il,md.subscribe(async i=>{i&&(await this.resumePausedMutations(),L(this,xe).onOnline())})))}unmount(){var i,t;yf(this,Qs)._--,L(this,Qs)===0&&((i=L(this,Cl))==null||i.call(this),gt(this,Cl,void 0),(t=L(this,Il))==null||t.call(this),gt(this,Il,void 0))}isFetching(i){return L(this,xe).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return L(this,Gs).findAll({...i,status:"pending"}).length}getQueryData(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=L(this,xe).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(i){const t=this.defaultQueryOptions(i),e=L(this,xe).build(this,t),s=e.state.data;return s===void 0?this.fetchQuery(i):(i.revalidateIfStale&&e.isStaleByTime(sa(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(i){return L(this,xe).findAll(i).map(({queryKey:t,state:e})=>{const s=e.data;return[t,s]})}setQueryData(i,t,e){const s=this.defaultQueryOptions({queryKey:i}),o=L(this,xe).get(s.queryHash),l=o==null?void 0:o.state.data,h=qV(t,l);if(h!==void 0)return L(this,xe).build(this,s).setData(h,{...e,manual:!0})}setQueriesData(i,t,e){return We.batch(()=>L(this,xe).findAll(i).map(({queryKey:s})=>[s,this.setQueryData(s,t,e)]))}getQueryState(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=L(this,xe).get(t.queryHash))==null?void 0:e.state}removeQueries(i){const t=L(this,xe);We.batch(()=>{t.findAll(i).forEach(e=>{t.remove(e)})})}resetQueries(i,t){const e=L(this,xe);return We.batch(()=>(e.findAll(i).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...i},t)))}cancelQueries(i,t={}){const e={revert:!0,...t},s=We.batch(()=>L(this,xe).findAll(i).map(o=>o.cancel(e)));return Promise.all(s).then(Pn).catch(Pn)}invalidateQueries(i,t={}){return We.batch(()=>(L(this,xe).findAll(i).forEach(e=>{e.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},t)))}refetchQueries(i,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},s=We.batch(()=>L(this,xe).findAll(i).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,e);return e.throwOnError||(l=l.catch(Pn)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(Pn)}fetchQuery(i){const t=this.defaultQueryOptions(i);t.retry===void 0&&(t.retry=!1);const e=L(this,xe).build(this,t);return e.isStaleByTime(sa(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Pn).catch(Pn)}fetchInfiniteQuery(i){return i.behavior=Bb(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Pn).catch(Pn)}ensureInfiniteQueryData(i){return i.behavior=Bb(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return md.isOnline()?L(this,Gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,xe)}getMutationCache(){return L(this,Gs)}getDefaultOptions(){return L(this,Ks)}setDefaultOptions(i){gt(this,Ks,i)}setQueryDefaults(i,t){L(this,Al).set(go(i),{queryKey:i,defaultOptions:t})}getQueryDefaults(i){const t=[...L(this,Al).values()],e={};return t.forEach(s=>{xc(i,s.queryKey)&&Object.assign(e,s.defaultOptions)}),e}setMutationDefaults(i,t){L(this,Rl).set(go(i),{mutationKey:i,defaultOptions:t})}getMutationDefaults(i){const t=[...L(this,Rl).values()],e={};return t.forEach(s=>{xc(i,s.mutationKey)&&Object.assign(e,s.defaultOptions)}),e}defaultQueryOptions(i){if(i._defaulted)return i;const t={...L(this,Ks).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return t.queryHash||(t.queryHash=gv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===yv&&(t.enabled=!1),t}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...L(this,Ks).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){L(this,xe).clear(),L(this,Gs).clear()}},xe=new WeakMap,Gs=new WeakMap,Ks=new WeakMap,Al=new WeakMap,Rl=new WeakMap,Qs=new WeakMap,Cl=new WeakMap,Il=new WeakMap,Zb),qn,Xt,Dc,Vn,no,xl,$s,Ys,Mc,Ol,Nl,io,ro,Xs,Dl,ae,lc,Xg,Wg,Zg,Jg,ty,ey,ny,BA,Jb,aP=(Jb=class extends Jl{constructor(t,e){super();bt(this,ae);bt(this,qn);bt(this,Xt);bt(this,Dc);bt(this,Vn);bt(this,no);bt(this,xl);bt(this,$s);bt(this,Ys);bt(this,Mc);bt(this,Ol);bt(this,Nl);bt(this,io);bt(this,ro);bt(this,Xs);bt(this,Dl,new Set);this.options=e,gt(this,qn,t),gt(this,Ys,null),gt(this,$s,Yg()),this.options.experimental_prefetchInRender||L(this,$s).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Xt).addObserver(this),Hb(L(this,Xt),this.options)?Lt(this,ae,lc).call(this):this.updateResult(),Lt(this,ae,Jg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return iy(L(this,Xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return iy(L(this,Xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Lt(this,ae,ty).call(this),Lt(this,ae,ey).call(this),L(this,Xt).removeObserver(this)}setOptions(t){const e=this.options,s=L(this,Xt);if(this.options=L(this,qn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ti(this.options.enabled,L(this,Xt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Lt(this,ae,ny).call(this),L(this,Xt).setOptions(this.options),e._defaulted&&!dd(this.options,e)&&L(this,qn).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Xt),observer:this});const o=this.hasListeners();o&&Fb(L(this,Xt),s,this.options,e)&&Lt(this,ae,lc).call(this),this.updateResult(),o&&(L(this,Xt)!==s||Ti(this.options.enabled,L(this,Xt))!==Ti(e.enabled,L(this,Xt))||sa(this.options.staleTime,L(this,Xt))!==sa(e.staleTime,L(this,Xt)))&&Lt(this,ae,Xg).call(this);const l=Lt(this,ae,Wg).call(this);o&&(L(this,Xt)!==s||Ti(this.options.enabled,L(this,Xt))!==Ti(e.enabled,L(this,Xt))||l!==L(this,Xs))&&Lt(this,ae,Zg).call(this,l)}getOptimisticResult(t){const e=L(this,qn).getQueryCache().build(L(this,qn),t),s=this.createResult(e,t);return lP(this,s)&&(gt(this,Vn,s),gt(this,xl,this.options),gt(this,no,L(this,Xt).state)),s}getCurrentResult(){return L(this,Vn)}trackResult(t,e){return new Proxy(t,{get:(s,o)=>(this.trackProp(o),e==null||e(o),Reflect.get(s,o))})}trackProp(t){L(this,Dl).add(t)}getCurrentQuery(){return L(this,Xt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=L(this,qn).defaultQueryOptions(t),s=L(this,qn).getQueryCache().build(L(this,qn),e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return Lt(this,ae,lc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,Vn)))}createResult(t,e){var C;const s=L(this,Xt),o=this.options,l=L(this,Vn),h=L(this,no),d=L(this,xl),g=t!==s?t.state:L(this,Dc),{state:_}=t;let v={..._},b=!1,M;if(e._optimisticResults){const N=this.hasListeners(),P=!N&&Hb(t,e),U=N&&Fb(t,s,e,o);(P||U)&&(v={...v,...UA(_.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:B,errorUpdatedAt:H,status:O}=v;M=v.data;let et=!1;if(e.placeholderData!==void 0&&M===void 0&&O==="pending"){let N;l!=null&&l.isPlaceholderData&&e.placeholderData===(d==null?void 0:d.placeholderData)?(N=l.data,et=!0):N=typeof e.placeholderData=="function"?e.placeholderData((C=L(this,Nl))==null?void 0:C.state.data,L(this,Nl)):e.placeholderData,N!==void 0&&(O="success",M=$g(l==null?void 0:l.data,N,e),b=!0)}if(e.select&&M!==void 0&&!et)if(l&&M===(h==null?void 0:h.data)&&e.select===L(this,Mc))M=L(this,Ol);else try{gt(this,Mc,e.select),M=e.select(M),M=$g(l==null?void 0:l.data,M,e),gt(this,Ol,M),gt(this,Ys,null)}catch(N){gt(this,Ys,N)}L(this,Ys)&&(B=L(this,Ys),M=L(this,Ol),H=Date.now(),O="error");const ot=v.fetchStatus==="fetching",W=O==="pending",st=O==="error",at=W&&ot,ut=M!==void 0,R={status:O,fetchStatus:v.fetchStatus,isPending:W,isSuccess:O==="success",isError:st,isInitialLoading:at,isLoading:at,data:M,dataUpdatedAt:v.dataUpdatedAt,error:B,errorUpdatedAt:H,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:ot,isRefetching:ot&&!W,isLoadingError:st&&!ut,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:st&&ut,isStale:_v(t,e),refetch:this.refetch,promise:L(this,$s),isEnabled:Ti(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const N=x=>{R.status==="error"?x.reject(R.error):R.data!==void 0&&x.resolve(R.data)},P=()=>{const x=gt(this,$s,R.promise=Yg());N(x)},U=L(this,$s);switch(U.status){case"pending":t.queryHash===s.queryHash&&N(U);break;case"fulfilled":(R.status==="error"||R.data!==U.value)&&P();break;case"rejected":(R.status!=="error"||R.error!==U.reason)&&P();break}}return R}updateResult(){const t=L(this,Vn),e=this.createResult(L(this,Xt),this.options);if(gt(this,no,L(this,Xt).state),gt(this,xl,this.options),L(this,no).data!==void 0&&gt(this,Nl,L(this,Xt)),dd(e,t))return;gt(this,Vn,e);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!L(this,Dl).size)return!0;const h=new Set(l??L(this,Dl));return this.options.throwOnError&&h.add("error"),Object.keys(L(this,Vn)).some(d=>{const p=d;return L(this,Vn)[p]!==t[p]&&h.has(p)})};Lt(this,ae,BA).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Lt(this,ae,Jg).call(this)}},qn=new WeakMap,Xt=new WeakMap,Dc=new WeakMap,Vn=new WeakMap,no=new WeakMap,xl=new WeakMap,$s=new WeakMap,Ys=new WeakMap,Mc=new WeakMap,Ol=new WeakMap,Nl=new WeakMap,io=new WeakMap,ro=new WeakMap,Xs=new WeakMap,Dl=new WeakMap,ae=new WeakSet,lc=function(t){Lt(this,ae,ny).call(this);let e=L(this,Xt).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Pn)),e},Xg=function(){Lt(this,ae,ty).call(this);const t=sa(this.options.staleTime,L(this,Xt));if(po||L(this,Vn).isStale||!Kg(t))return;const s=OA(L(this,Vn).dataUpdatedAt,t)+1;gt(this,io,setTimeout(()=>{L(this,Vn).isStale||this.updateResult()},s))},Wg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Xt)):this.options.refetchInterval)??!1},Zg=function(t){Lt(this,ae,ey).call(this),gt(this,Xs,t),!(po||Ti(this.options.enabled,L(this,Xt))===!1||!Kg(L(this,Xs))||L(this,Xs)===0)&&gt(this,ro,setInterval(()=>{(this.options.refetchIntervalInBackground||vv.isFocused())&&Lt(this,ae,lc).call(this)},L(this,Xs)))},Jg=function(){Lt(this,ae,Xg).call(this),Lt(this,ae,Zg).call(this,Lt(this,ae,Wg).call(this))},ty=function(){L(this,io)&&(clearTimeout(L(this,io)),gt(this,io,void 0))},ey=function(){L(this,ro)&&(clearInterval(L(this,ro)),gt(this,ro,void 0))},ny=function(){const t=L(this,qn).getQueryCache().build(L(this,qn),this.options);if(t===L(this,Xt))return;const e=L(this,Xt);gt(this,Xt,t),gt(this,Dc,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},BA=function(t){We.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(L(this,Vn))}),L(this,qn).getQueryCache().notify({query:L(this,Xt),type:"observerResultsUpdated"})})},Jb);function oP(i,t){return Ti(t.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&t.retryOnMount===!1)}function Hb(i,t){return oP(i,t)||i.state.data!==void 0&&iy(i,t,t.refetchOnMount)}function iy(i,t,e){if(Ti(t.enabled,i)!==!1&&sa(t.staleTime,i)!=="static"){const s=typeof e=="function"?e(i):e;return s==="always"||s!==!1&&_v(i,t)}return!1}function Fb(i,t,e,s){return(i!==t||Ti(s.enabled,i)===!1)&&(!e.suspense||i.state.status!=="error")&&_v(i,e)}function _v(i,t){return Ti(t.enabled,i)!==!1&&i.isStaleByTime(sa(t.staleTime,i))}function lP(i,t){return!dd(i.getCurrentResult(),t)}var Ws,Zs,Gn,Gr,Jr,Bf,ry,tS,uP=(tS=class extends Jl{constructor(e,s){super();bt(this,Jr);bt(this,Ws);bt(this,Zs);bt(this,Gn);bt(this,Gr);gt(this,Ws,e),this.setOptions(s),this.bindMethods(),Lt(this,Jr,Bf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var o;const s=this.options;this.options=L(this,Ws).defaultMutationOptions(e),dd(this.options,s)||L(this,Ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,Gn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&go(s.mutationKey)!==go(this.options.mutationKey)?this.reset():((o=L(this,Gn))==null?void 0:o.state.status)==="pending"&&L(this,Gn).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=L(this,Gn))==null||e.removeObserver(this)}onMutationUpdate(e){Lt(this,Jr,Bf).call(this),Lt(this,Jr,ry).call(this,e)}getCurrentResult(){return L(this,Zs)}reset(){var e;(e=L(this,Gn))==null||e.removeObserver(this),gt(this,Gn,void 0),Lt(this,Jr,Bf).call(this),Lt(this,Jr,ry).call(this)}mutate(e,s){var o;return gt(this,Gr,s),(o=L(this,Gn))==null||o.removeObserver(this),gt(this,Gn,L(this,Ws).getMutationCache().build(L(this,Ws),this.options)),L(this,Gn).addObserver(this),L(this,Gn).execute(e)}},Ws=new WeakMap,Zs=new WeakMap,Gn=new WeakMap,Gr=new WeakMap,Jr=new WeakSet,Bf=function(){var s;const e=((s=L(this,Gn))==null?void 0:s.state)??jA();gt(this,Zs,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},ry=function(e){We.batch(()=>{var s,o,l,h,d,p,g,_;if(L(this,Gr)&&this.hasListeners()){const v=L(this,Zs).variables,b=L(this,Zs).context;(e==null?void 0:e.type)==="success"?((o=(s=L(this,Gr)).onSuccess)==null||o.call(s,e.data,v,b),(h=(l=L(this,Gr)).onSettled)==null||h.call(l,e.data,null,v,b)):(e==null?void 0:e.type)==="error"&&((p=(d=L(this,Gr)).onError)==null||p.call(d,e.error,v,b),(_=(g=L(this,Gr)).onSettled)==null||_.call(g,void 0,e.error,v,b))}this.listeners.forEach(v=>{v(L(this,Zs))})})},tS),zA=I.createContext(void 0),Ev=i=>{const t=I.useContext(zA);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},cP=({client:i,children:t})=>(I.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),A.jsx(zA.Provider,{value:i,children:t})),HA=I.createContext(!1),hP=()=>I.useContext(HA);HA.Provider;function fP(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var dP=I.createContext(fP()),mP=()=>I.useContext(dP),pP=(i,t)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(t.isReset()||(i.retryOnMount=!1))},gP=i=>{I.useEffect(()=>{i.clearReset()},[i])},yP=({result:i,errorResetBoundary:t,throwOnError:e,query:s,suspense:o})=>i.isError&&!t.isReset()&&!i.isFetching&&s&&(o&&i.data===void 0||MA(e,[i.error,s])),vP=i=>{if(i.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),e=i.staleTime;i.staleTime=typeof e=="function"?(...s)=>t(e(...s)):t(e),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},_P=(i,t)=>i.isLoading&&i.isFetching&&!t,EP=(i,t)=>(i==null?void 0:i.suspense)&&t.isPending,qb=(i,t,e)=>t.fetchOptimistic(i).catch(()=>{e.clearReset()});function TP(i,t,e){var v,b,M,B,H;const s=hP(),o=mP(),l=Ev(),h=l.defaultQueryOptions(i);(b=(v=l.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||b.call(v,h),h._optimisticResults=s?"isRestoring":"optimistic",vP(h),pP(h,o),gP(o);const d=!l.getQueryCache().get(h.queryHash),[p]=I.useState(()=>new t(l,h)),g=p.getOptimisticResult(h),_=!s&&i.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(O=>{const et=_?p.subscribe(We.batchCalls(O)):Pn;return p.updateResult(),et},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),I.useEffect(()=>{p.setOptions(h)},[h,p]),EP(h,g))throw qb(h,p,o);if(yP({result:g,errorResetBoundary:o,throwOnError:h.throwOnError,query:l.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw g.error;if((B=(M=l.getDefaultOptions().queries)==null?void 0:M._experimental_afterQuery)==null||B.call(M,h,g),h.experimental_prefetchInRender&&!po&&_P(g,s)){const O=d?qb(h,p,o):(H=l.getQueryCache().get(h.queryHash))==null?void 0:H.promise;O==null||O.catch(Pn).finally(()=>{p.updateResult()})}return h.notifyOnChangeProps?g:p.trackResult(g)}function FA(i,t){return TP(i,aP)}function bP(i,t){const e=Ev(),[s]=I.useState(()=>new uP(e,i));I.useEffect(()=>{s.setOptions(i)},[s,i]);const o=I.useSyncExternalStore(I.useCallback(h=>s.subscribe(We.batchCalls(h)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),l=I.useCallback((h,d)=>{s.mutate(h,d).catch(Pn)},[s]);if(o.error&&MA(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}async function qA(i){const t=co(mo,"Users",i),e=await Ac(t);if(!e.exists())throw new Error(`User "${i}" has no existing document.`);return console.log("User data fetched."),e.data()}async function SP(i,t){const e=co(mo,"Users",i);await qD(e,t),console.log("User data updated.")}const Of=["black","black","black","black","black"];function wP(i){const{currentUser:t}=Uc(),{userData:e}=Yc(),{gameMode:s}=ql(),[o,l]=I.useState(new Array(6).fill({word:"",colors:Of})),[h,d]=I.useState(new Map),p=I.useRef(0),g=I.useRef(1),[_,v]=I.useState(""),b=I.useRef(!1),M=Ev(),{mutateAsync:B}=bP({mutationFn:async H=>SP(t.uid,H),onSuccess:()=>{M.invalidateQueries({queryKey:["user",t==null?void 0:t.uid]})}});return I.useEffect(()=>{const H=()=>{const O=e==null?void 0:e.statistics.gameModes[s];s===Pe.ROYALE?(l([...O.currentState.roundStates[O.currentState.gameRound-1].guesses]),d(new Map(Object.entries(O.currentState.roundStates[O.currentState.gameRound-1].keyColors))),p.current=O.currentState.roundStates[O.currentState.gameRound-1].rowIndex,g.current=O.currentState.gameRound):(l([...O.currentState.guesses]),d(new Map(Object.entries(O.currentState.keyColors))),p.current=O.currentState.rowIndex),console.log("Game state loaded.")};s!==Pe.PRACTICE&&H()},[]),I.useEffect(()=>{s==="royale"&&(()=>{l(e==null?void 0:e.statistics.gameModes.royale.currentState.roundStates[g.current-1].guesses),d(new Map(Object.entries(e==null?void 0:e.statistics.gameModes.royale.currentState.roundStates[g.current-1].keyColors)))})()},[g.current]),I.useEffect(()=>{const H=async()=>{const O={...e};s===Pe.CLASSIC?(O.statistics.gameModes.classic.playedToday=!0,O.statistics.gameModes.classic.currentState.guesses=o,O.statistics.gameModes.classic.currentState.keyColors=Object.fromEntries(h),O.statistics.gameModes.classic.currentState.rowIndex=p.current):(O.statistics.gameModes.royale.playedToday=!0,O.statistics.gameModes.royale.currentState.roundStates[g.current-1].guesses=o,O.statistics.gameModes.royale.currentState.roundStates[g.current-1].keyColors=Object.fromEntries(h),O.statistics.gameModes.royale.currentState.roundStates[g.current-1].rowIndex=p.current,O.statistics.gameModes.royale.currentState.gameRound=g.current);try{await B(O)}catch(et){console.log(et.message)}};s!=="practice"&&o[0].word!==""&&e&&!(e!=null&&e.statistics.gameModes[s].finishedToday)&&H()},[h]),A.jsxs(A.Fragment,{children:[s===Pe.CLASSIC&&A.jsx(BV,{...i,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,rowIndex:p,baseColors:Of,dailyStreak:b,gameResult:_,setGameResult:v,mutateUserData:B}),s===Pe.ROYALE&&A.jsx(zV,{...i,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,rowIndex:p,gameRound:g,baseColors:Of,gameResult:_,setGameResult:v,mutateUserData:B}),s===Pe.PRACTICE&&A.jsx(FV,{...i,guesses:o,setGuesses:l,keyColors:h,setKeyColors:d,rowIndex:p,baseColors:Of})]})}const GA=I.forwardRef(({bsPrefix:i,size:t,vertical:e=!1,className:s,role:o="group",as:l="div",...h},d)=>{const p=Ut(i,"btn-group");let g=p;return e&&(g=`${p}-vertical`),A.jsx(l,{...h,ref:d,role:o,className:Dt(s,g,t&&`${p}-${t}`)})});GA.displayName="ButtonGroup";function ri({children:i,gameModeData:t}){return A.jsx("div",{className:"stats-window",children:i})}function AP({children:i}){return A.jsx("div",{className:"stats-container",children:i})}function RP({value:i,category:t}){return A.jsxs("div",{className:"stat-unit flex-center",children:[A.jsx("span",{className:"unit-value",children:i}),A.jsx("span",{className:"unit-category",children:t})]})}function CP({value:i,label:t}){return A.jsx("div",{className:"stat-index flex-center",children:A.jsxs("div",{children:[A.jsx("span",{className:"index-value",children:i}),A.jsx("span",{className:"index-label",children:t})]})})}function IP({gamesPlayed:i}){return A.jsxs("div",{className:"stats-lock flex-center",children:[A.jsx(pI,{className:"lock-svg"}),A.jsx("div",{className:"lock-message",children:typeof i=="number"?`Play ${5-i} more ${5-i===1?"game.":"games."}`:"Log in to see your stats."})]})}ri.Container=AP;ri.Unit=RP;ri.Index=CP;ri.StatLock=IP;const KA=I.createContext({data:[10,2,5,13,5],categories:[]});function pc({children:i,data:t,categories:e}){return A.jsx(KA,{value:{data:t,categories:e},children:A.jsx("div",{className:"bar-chart flex-center",children:A.jsx("div",{className:"chart",children:i})})})}function xP({axis:i="show",layout:t="horizontal"}){const{data:e,categories:s}=I.useContext(KA);return A.jsx("div",{className:"graph",children:e.map((o,l)=>A.jsxs("div",{className:`bar b-${l+1}`,style:{width:`${o!==0?o/Math.max(...e)*100:2}%`,height:"100%"},children:[A.jsx("span",{className:"category",children:s.length===e.length?s[l]:`category ${l+1}`}),A.jsx("span",{className:`value v-${l+1}`,children:o||""})]},l))})}function OP({children:i}){return A.jsx("div",{className:"header",children:A.jsx("h2",{children:i})})}pc.Header=OP;pc.Graph=xP;function NP({statsOpen:i,toggleStats:t}){const{gameMode:e,setGameMode:s}=ql(),{userData:o,isLoading:l}=Yc(),h=()=>{const p=o==null?void 0:o.statistics.gameModes[e].gamesGuessed.reduce((g,_,v)=>g+_*(v+1));return Math.round(p/(o==null?void 0:o.statistics.gameModes[e].gamesPlayed)*10)/10},d=()=>Math.round((o==null?void 0:o.statistics.gameModes[e].gamesGuessed.reduce((p,g)=>p+g))/(o==null?void 0:o.statistics.gameModes[e].gamesPlayed)*100);return A.jsx(A.Fragment,{children:e!==Pe.PRACTICE&&A.jsxs(qe,{show:i,onHide:t,children:[A.jsx(qe.Header,{closeButton:!0,children:A.jsx(Ln,{className:"flex-center",children:A.jsx(qe.Title,{children:e})})}),A.jsxs(qe.Body,{children:[A.jsx("div",{className:"c-1 flex-center",children:A.jsxs(GA,{className:"me-2","aria-label":"First group",children:[A.jsx(Li,{onClick:()=>{s(Pe.CLASSIC)},children:"Classic"}),A.jsx(Li,{onClick:()=>{s(Pe.ROYALE)},children:"Royale"})]})}),A.jsxs(ri,{gameModeData:o==null?void 0:o.statistics.gameModes[e],children:[A.jsx(ri.Container,{children:A.jsx(ri.Index,{value:h(),label:"index"})}),A.jsxs(ri.Container,{children:[A.jsx(ri.Unit,{value:o==null?void 0:o.statistics.gameModes[e].gamesPlayed,category:"Games played"}),A.jsx(ri.Unit,{value:d()+"%",category:"Win rate"}),A.jsx(ri.Unit,{value:o==null?void 0:o.statistics.gameModes[e].dailyStreak,category:"Daily streak"})]}),A.jsx(ri.Container,{children:A.jsxs(pc,{data:e==="classic"?o==null?void 0:o.statistics.gameModes[e].gamesGuessed:o==null?void 0:o.statistics.gameModes[e].gamesGuessed.toReversed(),categories:e===Pe.CLASSIC?[1,2,3,4,5,6]:[5,4,3,2,1],children:[A.jsx(pc.Header,{children:e===Pe.CLASSIC?"GUESS DISTRIBUTION":"ROUND DISTRIBUTION"}),A.jsx(pc.Graph,{axis:"show",layout:"vertical"})]})}),(o==null?void 0:o.statistics.gameModes[e].gamesPlayed)<5&&A.jsx(ri.StatLock,{gamesPlayed:o==null?void 0:o.statistics.gameModes[e].gamesPlayed})]})]}),A.jsx(qe.Footer,{className:"flex-center"})]})})}function DP(){const[i,t]=RC(!0),[e,s]=pl(!1),[o,l]=pl(!1),[h,d]=pl(!1),[p,g]=pl(!1),{currentUser:_,loading:v}=Uc(),{data:b,isLoading:M}=FA({queryKey:["user",_==null?void 0:_.uid],queryFn:({queryKey:O})=>{const[,et]=O;return qA(et)},enabled:!!_&&!v}),[B,H]=pl(!1);return document.querySelector("body").classList=`${i}`,A.jsxs(A.Fragment,{children:[A.jsx(MV,{darkMode:i,toggleDarkMode:t,toggleLogIn:l,playWordle:e,togglePlayWordle:s,toggleStats:g}),A.jsx("main",{className:`flex-center ${i}`,children:e?A.jsx(wP,{darkMode:i,togglePlayWordle:s,wordLength:5,numOfGuesses:6,toggleRestart:H},B):A.jsx(A.Fragment,{children:A.jsx(hk,{togglePlayWordle:s,darkMode:i})})}),A.jsx(aV,{logInOpen:o,toggleLogIn:l,toggleSignUp:d}),A.jsx(oV,{signUpOpen:h,toggleSignUp:d}),A.jsx(NP,{statsOpen:p,toggleStats:g})]})}const MP=()=>A.jsx("div",{className:"wordle-loader",children:[...Array(5)].map((i,t)=>A.jsx("div",{className:"tile",style:{animationDelay:`${t*.15}s`}},t))});function kP({children:i}){const[t,e]=I.useState(null),[s,o]=I.useState(!0);I.useEffect(()=>{const h=YM(Ic,d=>{e(d),o(!1)});return()=>h()},[]);const l={currentUser:t,loading:s};return A.jsx(gS.Provider,{value:l,children:s?A.jsxs("div",{children:[A.jsx("h1",{children:"Loading Wordle..."}),A.jsx(MP,{})]}):i})}function VP({children:i}){const{currentUser:t,loading:e}=Uc(),{data:s,isLoading:o}=FA({queryKey:["user",t==null?void 0:t.uid],queryFn:({queryKey:h})=>{const[,d]=h;return qA(d)},enabled:!!t&&!e}),l={userData:s,isLoading:o};return A.jsx(xA.Provider,{value:l,children:i})}function PP({children:i}){const[t,e]=I.useState(Pe.PRACTICE),s={gameMode:t,setGameMode:e};return A.jsx(pS.Provider,{value:s,children:i})}const LP=new sP;AC.createRoot(document.getElementById("root")).render(A.jsx(I.StrictMode,{children:A.jsx(kP,{children:A.jsx(cP,{client:LP,children:A.jsx(VP,{children:A.jsx(PP,{children:A.jsx(DP,{})})})})})}));
