(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function Bu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $p={exports:{}},au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function wR(){if(D0)return au;D0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,l){var f=null;if(l!==void 0&&(f=""+l),o.key!==void 0&&(f=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:l}}return au.Fragment=t,au.jsx=e,au.jsxs=e,au}var M0;function SR(){return M0||(M0=1,$p.exports=wR()),$p.exports}var N=SR(),Gp={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function AR(){if(k0)return Lt;k0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,H={};function L(V,K,st){this.props=V,this.context=K,this.refs=H,this.updater=st||D}L.prototype.isReactComponent={},L.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},L.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function J(){}J.prototype=L.prototype;function nt(V,K,st){this.props=V,this.context=K,this.refs=H,this.updater=st||D}var X=nt.prototype=new J;X.constructor=nt,U(X,L.prototype),X.isPureReactComponent=!0;var rt=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function x(V,K,st,Z,ft,gt){return st=gt.ref,{$$typeof:r,type:V,key:K,ref:st!==void 0?st:null,props:gt}}function A(V,K){return x(V.type,K,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function M(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return K[st]})}var O=/\/+/g;function k(V,K){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):K.toString(36)}function C(){}function xt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Tt(V,K,st,Z,ft){var gt=typeof V;(gt==="undefined"||gt==="boolean")&&(V=null);var pt=!1;if(V===null)pt=!0;else switch(gt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(V.$$typeof){case r:case t:pt=!0;break;case y:return pt=V._init,Tt(pt(V._payload),K,st,Z,ft)}}if(pt)return ft=ft(V),pt=Z===""?"."+k(V,0):Z,rt(ft)?(st="",pt!=null&&(st=pt.replace(O,"$&/")+"/"),Tt(ft,K,st,"",function(fe){return fe})):ft!=null&&(I(ft)&&(ft=A(ft,st+(ft.key==null||V&&V.key===ft.key?"":(""+ft.key).replace(O,"$&/")+"/")+pt)),K.push(ft)),1;pt=0;var Gt=Z===""?".":Z+":";if(rt(V))for(var Mt=0;Mt<V.length;Mt++)Z=V[Mt],gt=Gt+k(Z,Mt),pt+=Tt(Z,K,st,gt,ft);else if(Mt=b(V),typeof Mt=="function")for(V=Mt.call(V),Mt=0;!(Z=V.next()).done;)Z=Z.value,gt=Gt+k(Z,Mt++),pt+=Tt(Z,K,st,gt,ft);else if(gt==="object"){if(typeof V.then=="function")return Tt(xt(V),K,st,Z,ft);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return pt}function B(V,K,st){if(V==null)return V;var Z=[],ft=0;return Tt(V,Z,"","",function(gt){return K.call(st,gt,ft++)}),Z}function at(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var ht=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function yt(){}return Lt.Children={map:B,forEach:function(V,K,st){B(V,function(){K.apply(this,arguments)},st)},count:function(V){var K=0;return B(V,function(){K++}),K},toArray:function(V){return B(V,function(K){return K})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Lt.Component=L,Lt.Fragment=e,Lt.Profiler=o,Lt.PureComponent=nt,Lt.StrictMode=s,Lt.Suspense=m,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return tt.H.useMemoCache(V)}},Lt.cache=function(V){return function(){return V.apply(null,arguments)}},Lt.cloneElement=function(V,K,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Z=U({},V.props),ft=V.key,gt=void 0;if(K!=null)for(pt in K.ref!==void 0&&(gt=void 0),K.key!==void 0&&(ft=""+K.key),K)!W.call(K,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&K.ref===void 0||(Z[pt]=K[pt]);var pt=arguments.length-2;if(pt===1)Z.children=st;else if(1<pt){for(var Gt=Array(pt),Mt=0;Mt<pt;Mt++)Gt[Mt]=arguments[Mt+2];Z.children=Gt}return x(V.type,ft,void 0,void 0,gt,Z)},Lt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Lt.createElement=function(V,K,st){var Z,ft={},gt=null;if(K!=null)for(Z in K.key!==void 0&&(gt=""+K.key),K)W.call(K,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ft[Z]=K[Z]);var pt=arguments.length-2;if(pt===1)ft.children=st;else if(1<pt){for(var Gt=Array(pt),Mt=0;Mt<pt;Mt++)Gt[Mt]=arguments[Mt+2];ft.children=Gt}if(V&&V.defaultProps)for(Z in pt=V.defaultProps,pt)ft[Z]===void 0&&(ft[Z]=pt[Z]);return x(V,gt,void 0,void 0,null,ft)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(V){return{$$typeof:d,render:V}},Lt.isValidElement=I,Lt.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:at}},Lt.memo=function(V,K){return{$$typeof:g,type:V,compare:K===void 0?null:K}},Lt.startTransition=function(V){var K=tt.T,st={};tt.T=st;try{var Z=V(),ft=tt.S;ft!==null&&ft(st,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(yt,ht)}catch(gt){ht(gt)}finally{tt.T=K}},Lt.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Lt.use=function(V){return tt.H.use(V)},Lt.useActionState=function(V,K,st){return tt.H.useActionState(V,K,st)},Lt.useCallback=function(V,K){return tt.H.useCallback(V,K)},Lt.useContext=function(V){return tt.H.useContext(V)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(V,K){return tt.H.useDeferredValue(V,K)},Lt.useEffect=function(V,K,st){var Z=tt.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(V,K)},Lt.useId=function(){return tt.H.useId()},Lt.useImperativeHandle=function(V,K,st){return tt.H.useImperativeHandle(V,K,st)},Lt.useInsertionEffect=function(V,K){return tt.H.useInsertionEffect(V,K)},Lt.useLayoutEffect=function(V,K){return tt.H.useLayoutEffect(V,K)},Lt.useMemo=function(V,K){return tt.H.useMemo(V,K)},Lt.useOptimistic=function(V,K){return tt.H.useOptimistic(V,K)},Lt.useReducer=function(V,K,st){return tt.H.useReducer(V,K,st)},Lt.useRef=function(V){return tt.H.useRef(V)},Lt.useState=function(V){return tt.H.useState(V)},Lt.useSyncExternalStore=function(V,K,st){return tt.H.useSyncExternalStore(V,K,st)},Lt.useTransition=function(){return tt.H.useTransition()},Lt.version="19.1.0",Lt}var V0;function ng(){return V0||(V0=1,Gp.exports=AR()),Gp.exports}var R=ng();const ut=Bu(R);var Kp={exports:{}},ou={},Yp={exports:{}},Qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function RR(){return P0||(P0=1,function(r){function t(B,at){var ht=B.length;B.push(at);t:for(;0<ht;){var yt=ht-1>>>1,V=B[yt];if(0<o(V,at))B[yt]=at,B[ht]=V,ht=yt;else break t}}function e(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var at=B[0],ht=B.pop();if(ht!==at){B[0]=ht;t:for(var yt=0,V=B.length,K=V>>>1;yt<K;){var st=2*(yt+1)-1,Z=B[st],ft=st+1,gt=B[ft];if(0>o(Z,ht))ft<V&&0>o(gt,Z)?(B[yt]=gt,B[ft]=ht,yt=ft):(B[yt]=Z,B[st]=ht,yt=st);else if(ft<V&&0>o(gt,ht))B[yt]=gt,B[ft]=ht,yt=ft;else break t}}return at}function o(B,at){var ht=B.sortIndex-at.sortIndex;return ht!==0?ht:B.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var f=Date,d=f.now();r.unstable_now=function(){return f.now()-d}}var m=[],g=[],y=1,_=null,b=3,D=!1,U=!1,H=!1,L=!1,J=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function rt(B){for(var at=e(g);at!==null;){if(at.callback===null)s(g);else if(at.startTime<=B)s(g),at.sortIndex=at.expirationTime,t(m,at);else break;at=e(g)}}function tt(B){if(H=!1,rt(B),!U)if(e(m)!==null)U=!0,W||(W=!0,k());else{var at=e(g);at!==null&&Tt(tt,at.startTime-B)}}var W=!1,x=-1,A=5,I=-1;function M(){return L?!0:!(r.unstable_now()-I<A)}function O(){if(L=!1,W){var B=r.unstable_now();I=B;var at=!0;try{t:{U=!1,H&&(H=!1,nt(x),x=-1),D=!0;var ht=b;try{e:{for(rt(B),_=e(m);_!==null&&!(_.expirationTime>B&&M());){var yt=_.callback;if(typeof yt=="function"){_.callback=null,b=_.priorityLevel;var V=yt(_.expirationTime<=B);if(B=r.unstable_now(),typeof V=="function"){_.callback=V,rt(B),at=!0;break e}_===e(m)&&s(m),rt(B)}else s(m);_=e(m)}if(_!==null)at=!0;else{var K=e(g);K!==null&&Tt(tt,K.startTime-B),at=!1}}break t}finally{_=null,b=ht,D=!1}at=void 0}}finally{at?k():W=!1}}}var k;if(typeof X=="function")k=function(){X(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,xt=C.port2;C.port1.onmessage=O,k=function(){xt.postMessage(null)}}else k=function(){J(O,0)};function Tt(B,at){x=J(function(){B(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(B){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var ht=b;b=at;try{return B()}finally{b=ht}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(B,at){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ht=b;b=B;try{return at()}finally{b=ht}},r.unstable_scheduleCallback=function(B,at,ht){var yt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?yt+ht:yt):ht=yt,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ht+V,B={id:y++,callback:at,priorityLevel:B,startTime:ht,expirationTime:V,sortIndex:-1},ht>yt?(B.sortIndex=ht,t(g,B),e(m)===null&&B===e(g)&&(H?(nt(x),x=-1):H=!0,Tt(tt,ht-yt))):(B.sortIndex=V,t(m,B),U||D||(U=!0,W||(W=!0,k()))),B},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(B){var at=b;return function(){var ht=b;b=at;try{return B.apply(this,arguments)}finally{b=ht}}}}(Qp)),Qp}var L0;function CR(){return L0||(L0=1,Yp.exports=RR()),Yp.exports}var Xp={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function IR(){if(U0)return mn;U0=1;var r=ng();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,y)},mn.flushSync=function(m){var g=f.T,y=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=y,s.d.f()}},mn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},mn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},mn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:D}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},mn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},mn.requestFormReset=function(m){s.d.r(m)},mn.unstable_batchedUpdates=function(m,g){return m(g)},mn.useFormState=function(m,g,y){return f.H.useFormState(m,g,y)},mn.useFormStatus=function(){return f.H.useHostTransitionStatus()},mn.version="19.1.0",mn}var j0;function ZT(){if(j0)return Xp.exports;j0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Xp.exports=IR(),Xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function xR(){if(B0)return ou;B0=1;var r=CR(),t=ng(),e=ZT();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function m(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,u=i;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return d(h),n;if(p===u)return d(h),i;p=p.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=p;else{for(var T=!1,w=h.child;w;){if(w===a){T=!0,a=h,u=p;break}if(w===u){T=!0,u=h,a=p;break}w=w.sibling}if(!T){for(w=p.child;w;){if(w===a){T=!0,a=p,u=h;break}if(w===u){T=!0,u=p,a=h;break}w=w.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),X=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function xt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case L:return"Profiler";case H:return"StrictMode";case tt:return"Suspense";case W:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case X:return(n.displayName||"Context")+".Provider";case nt:return(n._context.displayName||"Context")+".Consumer";case rt:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return i=n.displayName||null,i!==null?i:xt(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return xt(n(i))}catch{}}return null}var Tt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},yt=[],V=-1;function K(n){return{current:n}}function st(n){0>V||(n.current=yt[V],yt[V]=null,V--)}function Z(n,i){V++,yt[V]=n.current,n.current=i}var ft=K(null),gt=K(null),pt=K(null),Gt=K(null);function Mt(n,i){switch(Z(pt,i),Z(gt,n),Z(ft,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?a0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=a0(i),n=o0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}st(ft),Z(ft,n)}function fe(){st(ft),st(gt),st(pt)}function ye(n){n.memoizedState!==null&&Z(Gt,n);var i=ft.current,a=o0(i,n.type);i!==a&&(Z(gt,n),Z(ft,a))}function Ne(n){gt.current===n&&(st(ft),st(gt)),Gt.current===n&&(st(Gt),eu._currentValue=ht)}var Be=Object.prototype.hasOwnProperty,Qe=r.unstable_scheduleCallback,De=r.unstable_cancelCallback,Kt=r.unstable_shouldYield,Tn=r.unstable_requestPaint,ue=r.unstable_now,Ar=r.unstable_getCurrentPriorityLevel,ze=r.unstable_ImmediatePriority,Xe=r.unstable_UserBlockingPriority,dn=r.unstable_NormalPriority,Te=r.unstable_LowPriority,We=r.unstable_IdlePriority,Rn=r.log,fr=r.unstable_setDisableYieldValue,_t=null,Pt=null;function be(n){if(typeof Rn=="function"&&fr(n),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(_t,n)}catch{}}var Me=Math.clz32?Math.clz32:Cn,hr=Math.log,Ua=Math.LN2;function Cn(n){return n>>>=0,n===0?32:31-(hr(n)/Ua|0)|0}var Jr=256,ti=4194304;function In(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ei(n,i,a){var u=n.pendingLanes;if(u===0)return 0;var h=0,p=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?h=In(u):(T&=w,T!==0?h=In(T):a||(a=w&~n,a!==0&&(h=In(a))))):(w=u&~p,w!==0?h=In(w):T!==0?h=In(T):a||(a=u&~n,a!==0&&(h=In(a)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:h}function ni(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ri(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(){var n=Jr;return Jr<<=1,(Jr&4194048)===0&&(Jr=256),n}function zs(){var n=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),n}function dr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Kn(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $i(n,i,a,u,h,p){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,P=n.expirationTimes,$=n.hiddenUpdates;for(a=T&~a;0<a;){var et=31-Me(a),ot=1<<et;w[et]=0,P[et]=-1;var G=$[et];if(G!==null)for($[et]=null,et=0;et<G.length;et++){var Y=G[et];Y!==null&&(Y.lane&=-536870913)}a&=~ot}u!==0&&wt(n,u,0),p!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=p&~(T&~i))}function wt(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-Me(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194090}function pe(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var u=31-Me(a),h=1<<u;h&i|n[u]&i&&(n[u]|=i),a&=~h}}function de(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ke(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ln(){var n=at.p;return n!==0?n:(n=window.event,n===void 0?32:R0(n.type))}function we(n,i){var a=at.p;try{return at.p=n,i()}finally{at.p=a}}var zt=Math.random().toString(36).slice(2),me="__reactFiber$"+zt,Zt="__reactProps$"+zt,ge="__reactContainer$"+zt,Gi="__reactEvents$"+zt,pr="__reactListeners$"+zt,ii="__reactHandles$"+zt,rc="__reactResources$"+zt,Hs="__reactMarker$"+zt;function Ki(n){delete n[me],delete n[Zt],delete n[Gi],delete n[pr],delete n[ii]}function si(n){var i=n[me];if(i)return i;for(var a=n.parentNode;a;){if(i=a[ge]||a[me]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=f0(n);n!==null;){if(a=n[me])return a;n=f0(n)}return i}n=a,a=n.parentNode}return null}function Rr(n){if(n=n[me]||n[ge]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Cr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function bn(n){var i=n[rc];return i||(i=n[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ce(n){n[Hs]=!0}var ol=new Set,ja={};function mr(n,i){ai(n,i),ai(n+"Capture",i)}function ai(n,i){for(ja[n]=i,n=0;n<i.length;n++)ol.add(i[n])}var ic=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sc={},qs={};function ac(n){return Be.call(qs,n)?!0:Be.call(sc,n)?!1:ic.test(n)?qs[n]=!0:(sc[n]=!0,!1)}function Yi(n,i,a){if(ac(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Ir(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function sn(n,i,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+u)}}var Fs,oc;function oi(n){if(Fs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Fs=i&&i[1]||"",oc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+n+oc}var Ba=!1;function za(n,i){if(!n||Ba)return"";Ba=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(Y){var G=Y}Reflect.construct(n,[],ot)}else{try{ot.call()}catch(Y){G=Y}n.call(ot.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ot=n())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],w=p[1];if(T&&w){var P=T.split(`
`),$=w.split(`
`);for(h=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(u===P.length||h===$.length)for(u=P.length-1,h=$.length-1;1<=u&&0<=h&&P[u]!==$[h];)h--;for(;1<=u&&0<=h;u--,h--)if(P[u]!==$[h]){if(u!==1||h!==1)do if(u--,h--,0>h||P[u]!==$[h]){var et=`
`+P[u].replace(" at new "," at ");return n.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",n.displayName)),et}while(1<=u&&0<=h);break}}}finally{Ba=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?oi(a):""}function ll(n){switch(n.tag){case 26:case 27:case 5:return oi(n.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return za(n.type,!1);case 11:return za(n.type.render,!1);case 1:return za(n.type,!0);case 31:return oi("Activity");default:return""}}function Ha(n){try{var i="";do i+=ll(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function wn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ul(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qh(n){var i=ul(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,p.call(this,T)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function qa(n){n._valueTracker||(n._valueTracker=Qh(n))}function cl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return n&&(u=ul(n)?n.checked?"true":"false":n.value),n=u,n!==a?(i.setValue(n),!0):!1}function $s(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Xh=/[\n"\\]/g;function Ve(n){return n.replace(Xh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Un(n,i,a,u,h,p,T,w){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+wn(i)):n.value!==""+wn(i)&&(n.value=""+wn(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?Qi(n,T,wn(i)):a!=null?Qi(n,T,wn(a)):u!=null&&n.removeAttribute("value"),h==null&&p!=null&&(n.defaultChecked=!!p),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+wn(w):n.removeAttribute("name")}function Gs(n,i,a,u,h,p,T,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;a=a!=null?""+wn(a):"",i=i!=null?""+wn(i):a,w||i===n.value||(n.value=i),n.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Qi(n,i,a){i==="number"&&$s(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function li(n,i,a,u){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&u&&(n[a].defaultSelected=!0)}else{for(a=""+wn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function se(n,i,a){if(i!=null&&(i=""+wn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+wn(a):""}function Ks(n,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(Tt(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=wn(i),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Yn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lc(n,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,a):typeof a!="number"||a===0||Ys.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function fl(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&a[h]!==u&&lc(n,h,u)}else for(var p in i)i.hasOwnProperty(p)&&lc(n,p,i[p])}function hl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(n){return Zh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ui=null;function Qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ci=null,fi=null;function dl(n){var i=Rr(n);if(i&&(n=i.stateNode)){var a=n[Zt]||null;t:switch(n=i.stateNode,i.type){case"input":if(Un(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ve(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==n&&u.form===n.form){var h=u[Zt]||null;if(!h)throw Error(s(90));Un(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===n.form&&cl(u)}break t;case"textarea":se(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&li(n,!!a.multiple,i,!1)}}}var xr=!1;function uc(n,i,a){if(xr)return n(i,a);xr=!0;try{var u=n(i);return u}finally{if(xr=!1,(ci!==null||fi!==null)&&(nf(),ci&&(i=ci,n=fi,fi=ci=null,dl(i),n)))for(i=0;i<n.length;i++)dl(n[i])}}function Qs(n,i){var a=n.stateNode;if(a===null)return null;var u=a[Zt]||null;if(u===null)return null;a=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(gr)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Xn=!1}var Or=null,Xi=null,hi=null;function pl(){if(hi)return hi;var n,i=Xi,a=i.length,u,h="value"in Or?Or.value:Or.textContent,p=h.length;for(n=0;n<a&&i[n]===h[n];n++);var T=a-n;for(u=1;u<=T&&i[a-u]===h[p-u];u++);return hi=h.slice(n,1<u?1-u:void 0)}function Nr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Dr(){return!0}function ml(){return!1}function Ze(n){function i(a,u,h,p,T){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Dr:ml,this.isPropagationStopped=ml,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),i}var ee={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=Ze(ee),Ws=y({},ee,{view:0,detail:0}),cc=Ze(Ws),Ga,Ka,Mr,Zs=y({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Mr&&(Mr&&n.type==="mousemove"?(Ga=n.screenX-Mr.screenX,Ka=n.screenY-Mr.screenY):Ka=Ga=0,Mr=n),Ga)},movementY:function(n){return"movementY"in n?n.movementY:Ka}}),Wn=Ze(Zs),fc=y({},Zs,{dataTransfer:0}),Jh=Ze(fc),Js=y({},Ws,{relatedTarget:0}),Ya=Ze(Js),gl=y({},ee,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=Ze(gl),hc=y({},ee,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xa=Ze(hc),td=y({},ee,{data:0}),vl=Ze(td),ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=pc[n])?!!i[n]:!1}function ea(){return yl}var mc=y({},Ws,{key:function(n){if(n.key){var i=ta[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Nr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?dc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(n){return n.type==="keypress"?Nr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Nr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Wa=Ze(mc),gc=y({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Ze(gc),di=y({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),vc=Ze(di),yc=y({},ee,{propertyName:0,elapsedTime:0,pseudoElement:0}),_c=Ze(yc),Ec=y({},Zs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=Ze(Ec),Sn=y({},ee,{newState:0,oldState:0}),Tc=Ze(Sn),bc=[9,13,27,32],kr=gr&&"CompositionEvent"in window,c=null;gr&&"documentMode"in document&&(c=document.documentMode);var v=gr&&"TextEvent"in window&&!c,E=gr&&(!kr||c&&8<c&&11>=c),S=" ",q=!1;function Q(n,i){switch(n){case"keyup":return bc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Yt=!1;function He(n,i){switch(n){case"compositionend":return dt(i);case"keypress":return i.which!==32?null:(q=!0,S);case"textInput":return n=i.data,n===S&&q?null:n;default:return null}}function Qt(n,i){if(Yt)return n==="compositionend"||!kr&&Q(n,i)?(n=pl(),hi=Xi=Or=null,Yt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var Je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qe(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Je[n.type]:i==="textarea"}function pi(n,i,a,u){ci?fi?fi.push(u):fi=[u]:ci=u,i=uf(i,"onChange"),0<i.length&&(a=new $a("onChange","change",null,a,u),n.push({event:a,listeners:i}))}var an=null,Vr=null;function El(n){e0(n,0)}function wc(n){var i=Cr(n);if(cl(i))return n}function bv(n,i){if(n==="change")return i}var wv=!1;if(gr){var ed;if(gr){var nd="oninput"in document;if(!nd){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),nd=typeof Sv.oninput=="function"}ed=nd}else ed=!1;wv=ed&&(!document.documentMode||9<document.documentMode)}function Av(){an&&(an.detachEvent("onpropertychange",Rv),Vr=an=null)}function Rv(n){if(n.propertyName==="value"&&wc(Vr)){var i=[];pi(i,Vr,n,Qn(n)),uc(El,i)}}function JS(n,i,a){n==="focusin"?(Av(),an=i,Vr=a,an.attachEvent("onpropertychange",Rv)):n==="focusout"&&Av()}function tA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return wc(Vr)}function eA(n,i){if(n==="click")return wc(i)}function nA(n,i){if(n==="input"||n==="change")return wc(i)}function rA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var jn=typeof Object.is=="function"?Object.is:rA;function Tl(n,i){if(jn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!Be.call(i,h)||!jn(n[h],i[h]))return!1}return!0}function Cv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Iv(n,i){var a=Cv(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=i&&u>=i)return{node:a,offset:i-n};n=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Cv(a)}}function xv(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?xv(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ov(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=$s(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=$s(n.document)}return i}function rd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var iA=gr&&"documentMode"in document&&11>=document.documentMode,Ja=null,id=null,bl=null,sd=!1;function Nv(n,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sd||Ja==null||Ja!==$s(u)||(u=Ja,"selectionStart"in u&&rd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bl&&Tl(bl,u)||(bl=u,u=uf(id,"onSelect"),0<u.length&&(i=new $a("onSelect","select",null,i,a),n.push({event:i,listeners:u}),i.target=Ja)))}function na(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var to={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},ad={},Dv={};gr&&(Dv=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function ra(n){if(ad[n])return ad[n];if(!to[n])return n;var i=to[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Dv)return ad[n]=i[a];return n}var Mv=ra("animationend"),kv=ra("animationiteration"),Vv=ra("animationstart"),sA=ra("transitionrun"),aA=ra("transitionstart"),oA=ra("transitioncancel"),Pv=ra("transitionend"),Lv=new Map,od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");od.push("scrollEnd");function vr(n,i){Lv.set(n,i),mr(i,[n])}var Uv=new WeakMap;function Zn(n,i){if(typeof n=="object"&&n!==null){var a=Uv.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Ha(i)},Uv.set(n,i),i)}return{value:n,source:i,stack:Ha(i)}}var Jn=[],eo=0,ld=0;function Sc(){for(var n=eo,i=ld=eo=0;i<n;){var a=Jn[i];Jn[i++]=null;var u=Jn[i];Jn[i++]=null;var h=Jn[i];Jn[i++]=null;var p=Jn[i];if(Jn[i++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}p!==0&&jv(a,h,p)}}function Ac(n,i,a,u){Jn[eo++]=n,Jn[eo++]=i,Jn[eo++]=a,Jn[eo++]=u,ld|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function ud(n,i,a,u){return Ac(n,i,a,u),Rc(n)}function no(n,i){return Ac(n,null,null,i),Rc(n)}function jv(n,i,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var h=!1,p=n.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(h=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,h&&i!==null&&(h=31-Me(a),n=p.hiddenUpdates,u=n[h],u===null?n[h]=[i]:u.push(i),i.lane=a|536870912),p):null}function Rc(n){if(50<Kl)throw Kl=0,mp=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ro={};function lA(n,i,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(n,i,a,u){return new lA(n,i,a,u)}function cd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function mi(n,i){var a=n.alternate;return a===null?(a=Bn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Bv(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Cc(n,i,a,u,h,p){var T=0;if(u=n,typeof n=="function")cd(n)&&(T=1);else if(typeof n=="string")T=cR(n,a,ft.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case I:return n=Bn(31,a,i,h),n.elementType=I,n.lanes=p,n;case U:return ia(a.children,h,p,i);case H:T=8,h|=24;break;case L:return n=Bn(12,a,i,h|2),n.elementType=L,n.lanes=p,n;case tt:return n=Bn(13,a,i,h),n.elementType=tt,n.lanes=p,n;case W:return n=Bn(19,a,i,h),n.elementType=W,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:case X:T=10;break t;case nt:T=9;break t;case rt:T=11;break t;case x:T=14;break t;case A:T=16,u=null;break t}T=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=Bn(T,a,i,h),i.elementType=n,i.type=u,i.lanes=p,i}function ia(n,i,a,u){return n=Bn(7,n,u,i),n.lanes=a,n}function fd(n,i,a){return n=Bn(6,n,null,i),n.lanes=a,n}function hd(n,i,a){return i=Bn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var io=[],so=0,Ic=null,xc=0,tr=[],er=0,sa=null,gi=1,vi="";function aa(n,i){io[so++]=xc,io[so++]=Ic,Ic=n,xc=i}function zv(n,i,a){tr[er++]=gi,tr[er++]=vi,tr[er++]=sa,sa=n;var u=gi;n=vi;var h=32-Me(u)-1;u&=~(1<<h),a+=1;var p=32-Me(i)+h;if(30<p){var T=h-h%5;p=(u&(1<<T)-1).toString(32),u>>=T,h-=T,gi=1<<32-Me(i)+h|a<<h|u,vi=p+n}else gi=1<<p|a<<h|u,vi=n}function dd(n){n.return!==null&&(aa(n,1),zv(n,1,0))}function pd(n){for(;n===Ic;)Ic=io[--so],io[so]=null,xc=io[--so],io[so]=null;for(;n===sa;)sa=tr[--er],tr[er]=null,vi=tr[--er],tr[er]=null,gi=tr[--er],tr[er]=null}var An=null,Se=null,te=!1,oa=null,Pr=!1,md=Error(s(519));function la(n){var i=Error(s(418,""));throw Al(Zn(i,n)),md}function Hv(n){var i=n.stateNode,a=n.type,u=n.memoizedProps;switch(i[me]=n,i[Zt]=u,a){case"dialog":qt("cancel",i),qt("close",i);break;case"iframe":case"object":case"embed":qt("load",i);break;case"video":case"audio":for(a=0;a<Ql.length;a++)qt(Ql[a],i);break;case"source":qt("error",i);break;case"img":case"image":case"link":qt("error",i),qt("load",i);break;case"details":qt("toggle",i);break;case"input":qt("invalid",i),Gs(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),qa(i);break;case"select":qt("invalid",i);break;case"textarea":qt("invalid",i),Ks(i,u.value,u.defaultValue,u.children),qa(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||s0(i.textContent,a)?(u.popover!=null&&(qt("beforetoggle",i),qt("toggle",i)),u.onScroll!=null&&qt("scroll",i),u.onScrollEnd!=null&&qt("scrollend",i),u.onClick!=null&&(i.onclick=cf),i=!0):i=!1,i||la(n)}function qv(n){for(An=n.return;An;)switch(An.tag){case 5:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:An=An.return}}function wl(n){if(n!==An)return!1;if(!te)return qv(n),te=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Np(n.type,n.memoizedProps)),a=!a),a&&Se&&la(n),qv(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Se=_r(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Se=null}}else i===27?(i=Se,hs(n.type)?(n=Vp,Vp=null,Se=n):Se=i):Se=An?_r(n.stateNode.nextSibling):null;return!0}function Sl(){Se=An=null,te=!1}function Fv(){var n=oa;return n!==null&&(Dn===null?Dn=n:Dn.push.apply(Dn,n),oa=null),n}function Al(n){oa===null?oa=[n]:oa.push(n)}var gd=K(null),ua=null,yi=null;function Wi(n,i,a){Z(gd,i._currentValue),i._currentValue=a}function _i(n){n._currentValue=gd.current,st(gd)}function vd(n,i,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===a)break;n=n.return}}function yd(n,i,a,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var p=h.dependencies;if(p!==null){var T=h.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=h;for(var P=0;P<i.length;P++)if(w.context===i[P]){p.lanes|=a,w=p.alternate,w!==null&&(w.lanes|=a),vd(p.return,a,n),u||(T=null);break t}p=w.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),vd(T,a,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Rl(n,i,a,u){n=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=h.type;jn(h.pendingProps.value,T.value)||(n!==null?n.push(w):n=[w])}}else if(h===Gt.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(eu):n=[eu])}h=h.return}n!==null&&yd(i,n,a,u),i.flags|=262144}function Oc(n){for(n=n.firstContext;n!==null;){if(!jn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ca(n){ua=n,yi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function pn(n){return $v(ua,n)}function Nc(n,i){return ua===null&&ca(n),$v(n,i)}function $v(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},yi===null){if(n===null)throw Error(s(308));yi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else yi=yi.next=i;return a}var uA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},cA=r.unstable_scheduleCallback,fA=r.unstable_NormalPriority,Fe={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new uA,data:new Map,refCount:0}}function Cl(n){n.refCount--,n.refCount===0&&cA(fA,function(){n.controller.abort()})}var Il=null,Ed=0,ao=0,oo=null;function hA(n,i){if(Il===null){var a=Il=[];Ed=0,ao=bp(),oo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Ed++,i.then(Gv,Gv),i}function Gv(){if(--Ed===0&&Il!==null){oo!==null&&(oo.status="fulfilled");var n=Il;Il=null,ao=0,oo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function dA(n,i){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var Kv=B.S;B.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&hA(n,i),Kv!==null&&Kv(n,i)};var fa=K(null);function Td(){var n=fa.current;return n!==null?n:he.pooledCache}function Dc(n,i){i===null?Z(fa,fa.current):Z(fa,i.pool)}function Yv(){var n=Td();return n===null?null:{parent:Fe._currentValue,pool:n}}var xl=Error(s(460)),Qv=Error(s(474)),Mc=Error(s(542)),bd={then:function(){}};function Xv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function kc(){}function Wv(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(kc,kc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Jv(n),n;default:if(typeof i.status=="string")i.then(kc,kc);else{if(n=he,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Jv(n),n}throw Ol=i,xl}}var Ol=null;function Zv(){if(Ol===null)throw Error(s(459));var n=Ol;return Ol=null,n}function Jv(n){if(n===xl||n===Mc)throw Error(s(483))}var Zi=!1;function wd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ji(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ts(n,i,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(re&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=Rc(n),jv(n,null,a),i}return Ac(n,u,i,a),Rc(n)}function Nl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,pe(n,a)}}function Ad(n,i){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?h=p=i:p=p.next=i}else h=p=i;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Rd=!1;function Dl(){if(Rd){var n=oo;if(n!==null)throw n}}function Ml(n,i,a,u){Rd=!1;var h=n.updateQueue;Zi=!1;var p=h.firstBaseUpdate,T=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var P=w,$=P.next;P.next=null,T===null?p=$:T.next=$,T=P;var et=n.alternate;et!==null&&(et=et.updateQueue,w=et.lastBaseUpdate,w!==T&&(w===null?et.firstBaseUpdate=$:w.next=$,et.lastBaseUpdate=P))}if(p!==null){var ot=h.baseState;T=0,et=$=P=null,w=p;do{var G=w.lane&-536870913,Y=G!==w.lane;if(Y?(Xt&G)===G:(u&G)===G){G!==0&&G===ao&&(Rd=!0),et!==null&&(et=et.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Ot=n,St=w;G=i;var le=a;switch(St.tag){case 1:if(Ot=St.payload,typeof Ot=="function"){ot=Ot.call(le,ot,G);break t}ot=Ot;break t;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=St.payload,G=typeof Ot=="function"?Ot.call(le,ot,G):Ot,G==null)break t;ot=y({},ot,G);break t;case 2:Zi=!0}}G=w.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},et===null?($=et=Y,P=ot):et=et.next=Y,T|=G;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);et===null&&(P=ot),h.baseState=P,h.firstBaseUpdate=$,h.lastBaseUpdate=et,p===null&&(h.shared.lanes=0),ls|=T,n.lanes=T,n.memoizedState=ot}}function ty(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function ey(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)ty(a[n],i)}var lo=K(null),Vc=K(0);function ny(n,i){n=Ri,Z(Vc,n),Z(lo,i),Ri=n|i.baseLanes}function Cd(){Z(Vc,Ri),Z(lo,lo.current)}function Id(){Ri=Vc.current,st(lo),st(Vc)}var es=0,Ut=null,ae=null,Pe=null,Pc=!1,uo=!1,ha=!1,Lc=0,kl=0,co=null,pA=0;function Ie(){throw Error(s(321))}function xd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!jn(n[a],i[a]))return!1;return!0}function Od(n,i,a,u,h,p){return es=p,Ut=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=n===null||n.memoizedState===null?jy:By,ha=!1,p=a(u,h),ha=!1,uo&&(p=iy(i,a,u,h)),ry(n),p}function ry(n){B.H=qc;var i=ae!==null&&ae.next!==null;if(es=0,Pe=ae=Ut=null,Pc=!1,kl=0,co=null,i)throw Error(s(300));n===null||tn||(n=n.dependencies,n!==null&&Oc(n)&&(tn=!0))}function iy(n,i,a,u){Ut=n;var h=0;do{if(uo&&(co=null),kl=0,uo=!1,25<=h)throw Error(s(301));if(h+=1,Pe=ae=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}B.H=TA,p=i(a,u)}while(uo);return p}function mA(){var n=B.H,i=n.useState()[0];return i=typeof i.then=="function"?Vl(i):i,n=n.useState()[0],(ae!==null?ae.memoizedState:null)!==n&&(Ut.flags|=1024),i}function Nd(){var n=Lc!==0;return Lc=0,n}function Dd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Md(n){if(Pc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Pc=!1}es=0,Pe=ae=Ut=null,uo=!1,kl=Lc=0,co=null}function On(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Ut.memoizedState=Pe=n:Pe=Pe.next=n,Pe}function Le(){if(ae===null){var n=Ut.alternate;n=n!==null?n.memoizedState:null}else n=ae.next;var i=Pe===null?Ut.memoizedState:Pe.next;if(i!==null)Pe=i,ae=n;else{if(n===null)throw Ut.alternate===null?Error(s(467)):Error(s(310));ae=n,n={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Pe===null?Ut.memoizedState=Pe=n:Pe=Pe.next=n}return Pe}function kd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(n){var i=kl;return kl+=1,co===null&&(co=[]),n=Wv(co,n,i),i=Ut,(Pe===null?i.memoizedState:Pe.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?jy:By),n}function Uc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Vl(n);if(n.$$typeof===X)return pn(n)}throw Error(s(438,String(n)))}function Vd(n){var i=null,a=Ut.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=Ut.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=kd(),Ut.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),u=0;u<n;u++)a[u]=M;return i.index++,a}function Ei(n,i){return typeof i=="function"?i(n):i}function jc(n){var i=Le();return Pd(i,ae,n)}function Pd(n,i,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=n.baseQueue,p=u.pending;if(p!==null){if(h!==null){var T=h.next;h.next=p.next,p.next=T}i.baseQueue=h=p,u.pending=null}if(p=n.baseState,h===null)n.memoizedState=p;else{i=h.next;var w=T=null,P=null,$=i,et=!1;do{var ot=$.lane&-536870913;if(ot!==$.lane?(Xt&ot)===ot:(es&ot)===ot){var G=$.revertLane;if(G===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ot===ao&&(et=!0);else if((es&G)===G){$=$.next,G===ao&&(et=!0);continue}else ot={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(w=P=ot,T=p):P=P.next=ot,Ut.lanes|=G,ls|=G;ot=$.action,ha&&a(p,ot),p=$.hasEagerState?$.eagerState:a(p,ot)}else G={lane:ot,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(w=P=G,T=p):P=P.next=G,Ut.lanes|=ot,ls|=ot;$=$.next}while($!==null&&$!==i);if(P===null?T=p:P.next=w,!jn(p,n.memoizedState)&&(tn=!0,et&&(a=oo,a!==null)))throw a;n.memoizedState=p,n.baseState=T,n.baseQueue=P,u.lastRenderedState=p}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Ld(n){var i=Le(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,h=a.pending,p=i.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do p=n(p,T.action),T=T.next;while(T!==h);jn(p,i.memoizedState)||(tn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,u]}function sy(n,i,a){var u=Ut,h=Le(),p=te;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!jn((ae||h).memoizedState,a);T&&(h.memoizedState=a,tn=!0),h=h.queue;var w=ly.bind(null,u,h,n);if(Pl(2048,8,w,[n]),h.getSnapshot!==i||T||Pe!==null&&Pe.memoizedState.tag&1){if(u.flags|=2048,fo(9,Bc(),oy.bind(null,u,h,a,i),null),he===null)throw Error(s(349));p||(es&124)!==0||ay(u,i,a)}return a}function ay(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ut.updateQueue,i===null?(i=kd(),Ut.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function oy(n,i,a,u){i.value=a,i.getSnapshot=u,uy(i)&&cy(n)}function ly(n,i,a){return a(function(){uy(i)&&cy(n)})}function uy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!jn(n,a)}catch{return!0}}function cy(n){var i=no(n,2);i!==null&&$n(i,n,2)}function Ud(n){var i=On();if(typeof n=="function"){var a=n;if(n=a(),ha){be(!0);try{a()}finally{be(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:n},i}function fy(n,i,a,u){return n.baseState=a,Pd(n,ae,typeof u=="function"?u:Ei)}function gA(n,i,a,u,h){if(Hc(n))throw Error(s(485));if(n=i.action,n!==null){var p={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};B.T!==null?a(!0):p.isTransition=!1,u(p),a=i.pending,a===null?(p.next=i.pending=p,hy(i,p)):(p.next=a.next,i.pending=a.next=p)}}function hy(n,i){var a=i.action,u=i.payload,h=n.state;if(i.isTransition){var p=B.T,T={};B.T=T;try{var w=a(h,u),P=B.S;P!==null&&P(T,w),dy(n,i,w)}catch($){jd(n,i,$)}finally{B.T=p}}else try{p=a(h,u),dy(n,i,p)}catch($){jd(n,i,$)}}function dy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){py(n,i,u)},function(u){return jd(n,i,u)}):py(n,i,a)}function py(n,i,a){i.status="fulfilled",i.value=a,my(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,hy(n,a)))}function jd(n,i,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,my(i),i=i.next;while(i!==u)}n.action=null}function my(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function gy(n,i){return i}function vy(n,i){if(te){var a=he.formState;if(a!==null){t:{var u=Ut;if(te){if(Se){e:{for(var h=Se,p=Pr;h.nodeType!==8;){if(!p){h=null;break e}if(h=_r(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Se=_r(h.nextSibling),u=h.data==="F!";break t}}la(u)}u=!1}u&&(i=a[0])}}return a=On(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:i},a.queue=u,a=Py.bind(null,Ut,u),u.dispatch=a,u=Ud(!1),p=Fd.bind(null,Ut,!1,u.queue),u=On(),h={state:i,dispatch:null,action:n,pending:null},u.queue=h,a=gA.bind(null,Ut,h,p,a),h.dispatch=a,u.memoizedState=n,[i,a,!1]}function yy(n){var i=Le();return _y(i,ae,n)}function _y(n,i,a){if(i=Pd(n,i,gy)[0],n=jc(Ei)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Vl(i)}catch(T){throw T===xl?Mc:T}else u=i;i=Le();var h=i.queue,p=h.dispatch;return a!==i.memoizedState&&(Ut.flags|=2048,fo(9,Bc(),vA.bind(null,h,a),null)),[u,p,n]}function vA(n,i){n.action=i}function Ey(n){var i=Le(),a=ae;if(a!==null)return _y(i,a,n);Le(),i=i.memoizedState,a=Le();var u=a.queue.dispatch;return a.memoizedState=n,[i,u,!1]}function fo(n,i,a,u){return n={tag:n,create:a,deps:u,inst:i,next:null},i=Ut.updateQueue,i===null&&(i=kd(),Ut.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,i.lastEffect=n),n}function Bc(){return{destroy:void 0,resource:void 0}}function Ty(){return Le().memoizedState}function zc(n,i,a,u){var h=On();u=u===void 0?null:u,Ut.flags|=n,h.memoizedState=fo(1|i,Bc(),a,u)}function Pl(n,i,a,u){var h=Le();u=u===void 0?null:u;var p=h.memoizedState.inst;ae!==null&&u!==null&&xd(u,ae.memoizedState.deps)?h.memoizedState=fo(i,p,a,u):(Ut.flags|=n,h.memoizedState=fo(1|i,p,a,u))}function by(n,i){zc(8390656,8,n,i)}function wy(n,i){Pl(2048,8,n,i)}function Sy(n,i){return Pl(4,2,n,i)}function Ay(n,i){return Pl(4,4,n,i)}function Ry(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Cy(n,i,a){a=a!=null?a.concat([n]):null,Pl(4,4,Ry.bind(null,i,n),a)}function Bd(){}function Iy(n,i){var a=Le();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&xd(i,u[1])?u[0]:(a.memoizedState=[n,i],n)}function xy(n,i){var a=Le();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&xd(i,u[1]))return u[0];if(u=n(),ha){be(!0);try{n()}finally{be(!1)}}return a.memoizedState=[u,i],u}function zd(n,i,a){return a===void 0||(es&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=D_(),Ut.lanes|=n,ls|=n,a)}function Oy(n,i,a,u){return jn(a,i)?a:lo.current!==null?(n=zd(n,a,u),jn(n,i)||(tn=!0),n):(es&42)===0?(tn=!0,n.memoizedState=a):(n=D_(),Ut.lanes|=n,ls|=n,i)}function Ny(n,i,a,u,h){var p=at.p;at.p=p!==0&&8>p?p:8;var T=B.T,w={};B.T=w,Fd(n,!1,i,a);try{var P=h(),$=B.S;if($!==null&&$(w,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var et=dA(P,u);Ll(n,i,et,Fn(n))}else Ll(n,i,u,Fn(n))}catch(ot){Ll(n,i,{then:function(){},status:"rejected",reason:ot},Fn())}finally{at.p=p,B.T=T}}function yA(){}function Hd(n,i,a,u){if(n.tag!==5)throw Error(s(476));var h=Dy(n).queue;Ny(n,h,i,ht,a===null?yA:function(){return My(n),a(u)})}function Dy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function My(n){var i=Dy(n).next.queue;Ll(n,i,{},Fn())}function qd(){return pn(eu)}function ky(){return Le().memoizedState}function Vy(){return Le().memoizedState}function _A(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Fn();n=Ji(a);var u=ts(i,n,a);u!==null&&($n(u,i,a),Nl(u,i,a)),i={cache:_d()},n.payload=i;return}i=i.return}}function EA(n,i,a){var u=Fn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Hc(n)?Ly(i,a):(a=ud(n,i,a,u),a!==null&&($n(a,n,u),Uy(a,i,u)))}function Py(n,i,a){var u=Fn();Ll(n,i,a,u)}function Ll(n,i,a,u){var h={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hc(n))Ly(i,h);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var T=i.lastRenderedState,w=p(T,a);if(h.hasEagerState=!0,h.eagerState=w,jn(w,T))return Ac(n,i,h,0),he===null&&Sc(),!1}catch{}finally{}if(a=ud(n,i,h,u),a!==null)return $n(a,n,u),Uy(a,i,u),!0}return!1}function Fd(n,i,a,u){if(u={lane:2,revertLane:bp(),action:u,hasEagerState:!1,eagerState:null,next:null},Hc(n)){if(i)throw Error(s(479))}else i=ud(n,a,u,2),i!==null&&$n(i,n,2)}function Hc(n){var i=n.alternate;return n===Ut||i!==null&&i===Ut}function Ly(n,i){uo=Pc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Uy(n,i,a){if((a&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,pe(n,a)}}var qc={readContext:pn,use:Uc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie},jy={readContext:pn,use:Uc,useCallback:function(n,i){return On().memoizedState=[n,i===void 0?null:i],n},useContext:pn,useEffect:by,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,zc(4194308,4,Ry.bind(null,i,n),a)},useLayoutEffect:function(n,i){return zc(4194308,4,n,i)},useInsertionEffect:function(n,i){zc(4,2,n,i)},useMemo:function(n,i){var a=On();i=i===void 0?null:i;var u=n();if(ha){be(!0);try{n()}finally{be(!1)}}return a.memoizedState=[u,i],u},useReducer:function(n,i,a){var u=On();if(a!==void 0){var h=a(i);if(ha){be(!0);try{a(i)}finally{be(!1)}}}else h=i;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=EA.bind(null,Ut,n),[u.memoizedState,n]},useRef:function(n){var i=On();return n={current:n},i.memoizedState=n},useState:function(n){n=Ud(n);var i=n.queue,a=Py.bind(null,Ut,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Bd,useDeferredValue:function(n,i){var a=On();return zd(a,n,i)},useTransition:function(){var n=Ud(!1);return n=Ny.bind(null,Ut,n.queue,!0,!1),On().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var u=Ut,h=On();if(te){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),he===null)throw Error(s(349));(Xt&124)!==0||ay(u,i,a)}h.memoizedState=a;var p={value:a,getSnapshot:i};return h.queue=p,by(ly.bind(null,u,p,n),[n]),u.flags|=2048,fo(9,Bc(),oy.bind(null,u,p,a,i),null),a},useId:function(){var n=On(),i=he.identifierPrefix;if(te){var a=vi,u=gi;a=(u&~(1<<32-Me(u)-1)).toString(32)+a,i=""+i+"R"+a,a=Lc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=pA++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:qd,useFormState:vy,useActionState:vy,useOptimistic:function(n){var i=On();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Fd.bind(null,Ut,!0,a),a.dispatch=i,[n,i]},useMemoCache:Vd,useCacheRefresh:function(){return On().memoizedState=_A.bind(null,Ut)}},By={readContext:pn,use:Uc,useCallback:Iy,useContext:pn,useEffect:wy,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:xy,useReducer:jc,useRef:Ty,useState:function(){return jc(Ei)},useDebugValue:Bd,useDeferredValue:function(n,i){var a=Le();return Oy(a,ae.memoizedState,n,i)},useTransition:function(){var n=jc(Ei)[0],i=Le().memoizedState;return[typeof n=="boolean"?n:Vl(n),i]},useSyncExternalStore:sy,useId:ky,useHostTransitionStatus:qd,useFormState:yy,useActionState:yy,useOptimistic:function(n,i){var a=Le();return fy(a,ae,n,i)},useMemoCache:Vd,useCacheRefresh:Vy},TA={readContext:pn,use:Uc,useCallback:Iy,useContext:pn,useEffect:wy,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:xy,useReducer:Ld,useRef:Ty,useState:function(){return Ld(Ei)},useDebugValue:Bd,useDeferredValue:function(n,i){var a=Le();return ae===null?zd(a,n,i):Oy(a,ae.memoizedState,n,i)},useTransition:function(){var n=Ld(Ei)[0],i=Le().memoizedState;return[typeof n=="boolean"?n:Vl(n),i]},useSyncExternalStore:sy,useId:ky,useHostTransitionStatus:qd,useFormState:Ey,useActionState:Ey,useOptimistic:function(n,i){var a=Le();return ae!==null?fy(a,ae,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:Vy},ho=null,Ul=0;function Fc(n){var i=Ul;return Ul+=1,ho===null&&(ho=[]),Wv(ho,n,i)}function jl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function $c(n,i){throw i.$$typeof===_?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function zy(n){var i=n._init;return i(n._payload)}function Hy(n){function i(z,j){if(n){var F=z.deletions;F===null?(z.deletions=[j],z.flags|=16):F.push(j)}}function a(z,j){if(!n)return null;for(;j!==null;)i(z,j),j=j.sibling;return null}function u(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function h(z,j){return z=mi(z,j),z.index=0,z.sibling=null,z}function p(z,j,F){return z.index=F,n?(F=z.alternate,F!==null?(F=F.index,F<j?(z.flags|=67108866,j):F):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function T(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function w(z,j,F,it){return j===null||j.tag!==6?(j=fd(F,z.mode,it),j.return=z,j):(j=h(j,F),j.return=z,j)}function P(z,j,F,it){var vt=F.type;return vt===U?et(z,j,F.props.children,it,F.key):j!==null&&(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&zy(vt)===j.type)?(j=h(j,F.props),jl(j,F),j.return=z,j):(j=Cc(F.type,F.key,F.props,null,z.mode,it),jl(j,F),j.return=z,j)}function $(z,j,F,it){return j===null||j.tag!==4||j.stateNode.containerInfo!==F.containerInfo||j.stateNode.implementation!==F.implementation?(j=hd(F,z.mode,it),j.return=z,j):(j=h(j,F.children||[]),j.return=z,j)}function et(z,j,F,it,vt){return j===null||j.tag!==7?(j=ia(F,z.mode,it,vt),j.return=z,j):(j=h(j,F),j.return=z,j)}function ot(z,j,F){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=fd(""+j,z.mode,F),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return F=Cc(j.type,j.key,j.props,null,z.mode,F),jl(F,j),F.return=z,F;case D:return j=hd(j,z.mode,F),j.return=z,j;case A:var it=j._init;return j=it(j._payload),ot(z,j,F)}if(Tt(j)||k(j))return j=ia(j,z.mode,F,null),j.return=z,j;if(typeof j.then=="function")return ot(z,Fc(j),F);if(j.$$typeof===X)return ot(z,Nc(z,j),F);$c(z,j)}return null}function G(z,j,F,it){var vt=j!==null?j.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return vt!==null?null:w(z,j,""+F,it);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return F.key===vt?P(z,j,F,it):null;case D:return F.key===vt?$(z,j,F,it):null;case A:return vt=F._init,F=vt(F._payload),G(z,j,F,it)}if(Tt(F)||k(F))return vt!==null?null:et(z,j,F,it,null);if(typeof F.then=="function")return G(z,j,Fc(F),it);if(F.$$typeof===X)return G(z,j,Nc(z,F),it);$c(z,F)}return null}function Y(z,j,F,it,vt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return z=z.get(F)||null,w(j,z,""+it,vt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case b:return z=z.get(it.key===null?F:it.key)||null,P(j,z,it,vt);case D:return z=z.get(it.key===null?F:it.key)||null,$(j,z,it,vt);case A:var Bt=it._init;return it=Bt(it._payload),Y(z,j,F,it,vt)}if(Tt(it)||k(it))return z=z.get(F)||null,et(j,z,it,vt,null);if(typeof it.then=="function")return Y(z,j,F,Fc(it),vt);if(it.$$typeof===X)return Y(z,j,F,Nc(j,it),vt);$c(j,it)}return null}function Ot(z,j,F,it){for(var vt=null,Bt=null,Et=j,Ct=j=0,nn=null;Et!==null&&Ct<F.length;Ct++){Et.index>Ct?(nn=Et,Et=null):nn=Et.sibling;var Jt=G(z,Et,F[Ct],it);if(Jt===null){Et===null&&(Et=nn);break}n&&Et&&Jt.alternate===null&&i(z,Et),j=p(Jt,j,Ct),Bt===null?vt=Jt:Bt.sibling=Jt,Bt=Jt,Et=nn}if(Ct===F.length)return a(z,Et),te&&aa(z,Ct),vt;if(Et===null){for(;Ct<F.length;Ct++)Et=ot(z,F[Ct],it),Et!==null&&(j=p(Et,j,Ct),Bt===null?vt=Et:Bt.sibling=Et,Bt=Et);return te&&aa(z,Ct),vt}for(Et=u(Et);Ct<F.length;Ct++)nn=Y(Et,z,Ct,F[Ct],it),nn!==null&&(n&&nn.alternate!==null&&Et.delete(nn.key===null?Ct:nn.key),j=p(nn,j,Ct),Bt===null?vt=nn:Bt.sibling=nn,Bt=nn);return n&&Et.forEach(function(vs){return i(z,vs)}),te&&aa(z,Ct),vt}function St(z,j,F,it){if(F==null)throw Error(s(151));for(var vt=null,Bt=null,Et=j,Ct=j=0,nn=null,Jt=F.next();Et!==null&&!Jt.done;Ct++,Jt=F.next()){Et.index>Ct?(nn=Et,Et=null):nn=Et.sibling;var vs=G(z,Et,Jt.value,it);if(vs===null){Et===null&&(Et=nn);break}n&&Et&&vs.alternate===null&&i(z,Et),j=p(vs,j,Ct),Bt===null?vt=vs:Bt.sibling=vs,Bt=vs,Et=nn}if(Jt.done)return a(z,Et),te&&aa(z,Ct),vt;if(Et===null){for(;!Jt.done;Ct++,Jt=F.next())Jt=ot(z,Jt.value,it),Jt!==null&&(j=p(Jt,j,Ct),Bt===null?vt=Jt:Bt.sibling=Jt,Bt=Jt);return te&&aa(z,Ct),vt}for(Et=u(Et);!Jt.done;Ct++,Jt=F.next())Jt=Y(Et,z,Ct,Jt.value,it),Jt!==null&&(n&&Jt.alternate!==null&&Et.delete(Jt.key===null?Ct:Jt.key),j=p(Jt,j,Ct),Bt===null?vt=Jt:Bt.sibling=Jt,Bt=Jt);return n&&Et.forEach(function(bR){return i(z,bR)}),te&&aa(z,Ct),vt}function le(z,j,F,it){if(typeof F=="object"&&F!==null&&F.type===U&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case b:t:{for(var vt=F.key;j!==null;){if(j.key===vt){if(vt=F.type,vt===U){if(j.tag===7){a(z,j.sibling),it=h(j,F.props.children),it.return=z,z=it;break t}}else if(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&zy(vt)===j.type){a(z,j.sibling),it=h(j,F.props),jl(it,F),it.return=z,z=it;break t}a(z,j);break}else i(z,j);j=j.sibling}F.type===U?(it=ia(F.props.children,z.mode,it,F.key),it.return=z,z=it):(it=Cc(F.type,F.key,F.props,null,z.mode,it),jl(it,F),it.return=z,z=it)}return T(z);case D:t:{for(vt=F.key;j!==null;){if(j.key===vt)if(j.tag===4&&j.stateNode.containerInfo===F.containerInfo&&j.stateNode.implementation===F.implementation){a(z,j.sibling),it=h(j,F.children||[]),it.return=z,z=it;break t}else{a(z,j);break}else i(z,j);j=j.sibling}it=hd(F,z.mode,it),it.return=z,z=it}return T(z);case A:return vt=F._init,F=vt(F._payload),le(z,j,F,it)}if(Tt(F))return Ot(z,j,F,it);if(k(F)){if(vt=k(F),typeof vt!="function")throw Error(s(150));return F=vt.call(F),St(z,j,F,it)}if(typeof F.then=="function")return le(z,j,Fc(F),it);if(F.$$typeof===X)return le(z,j,Nc(z,F),it);$c(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,j!==null&&j.tag===6?(a(z,j.sibling),it=h(j,F),it.return=z,z=it):(a(z,j),it=fd(F,z.mode,it),it.return=z,z=it),T(z)):a(z,j)}return function(z,j,F,it){try{Ul=0;var vt=le(z,j,F,it);return ho=null,vt}catch(Et){if(Et===xl||Et===Mc)throw Et;var Bt=Bn(29,Et,null,z.mode);return Bt.lanes=it,Bt.return=z,Bt}finally{}}}var po=Hy(!0),qy=Hy(!1),nr=K(null),Lr=null;function ns(n){var i=n.alternate;Z($e,$e.current&1),Z(nr,n),Lr===null&&(i===null||lo.current!==null||i.memoizedState!==null)&&(Lr=n)}function Fy(n){if(n.tag===22){if(Z($e,$e.current),Z(nr,n),Lr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Lr=n)}}else rs()}function rs(){Z($e,$e.current),Z(nr,nr.current)}function Ti(n){st(nr),Lr===n&&(Lr=null),st($e)}var $e=K(0);function Gc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||kp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function $d(n,i,a,u){i=n.memoizedState,a=a(u,i),a=a==null?i:y({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Gd={enqueueSetState:function(n,i,a){n=n._reactInternals;var u=Fn(),h=Ji(u);h.payload=i,a!=null&&(h.callback=a),i=ts(n,h,u),i!==null&&($n(i,n,u),Nl(i,n,u))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var u=Fn(),h=Ji(u);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ts(n,h,u),i!==null&&($n(i,n,u),Nl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Fn(),u=Ji(a);u.tag=2,i!=null&&(u.callback=i),i=ts(n,u,a),i!==null&&($n(i,n,a),Nl(i,n,a))}};function $y(n,i,a,u,h,p,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,T):i.prototype&&i.prototype.isPureReactComponent?!Tl(a,u)||!Tl(h,p):!0}function Gy(n,i,a,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==n&&Gd.enqueueReplaceState(i,i.state,null)}function da(n,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(n=n.defaultProps){a===i&&(a=y({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Kc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ky(n){Kc(n)}function Yy(n){console.error(n)}function Qy(n){Kc(n)}function Yc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Xy(n,i,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kd(n,i,a){return a=Ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Yc(n,i)},a}function Wy(n){return n=Ji(n),n.tag=3,n}function Zy(n,i,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;n.payload=function(){return h(p)},n.callback=function(){Xy(i,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Xy(i,a,u),typeof h!="function"&&(us===null?us=new Set([this]):us.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function bA(n,i,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Rl(i,a,h,!0),a=nr.current,a!==null){switch(a.tag){case 13:return Lr===null?vp():a.alternate===null&&Ae===0&&(Ae=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===bd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),_p(n,u,h)),!1;case 22:return a.flags|=65536,u===bd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),_p(n,u,h)),!1}throw Error(s(435,a.tag))}return _p(n,u,h),vp(),!1}if(te)return i=nr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==md&&(n=Error(s(422),{cause:u}),Al(Zn(n,a)))):(u!==md&&(i=Error(s(423),{cause:u}),Al(Zn(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=Zn(u,a),h=Kd(n.stateNode,u,h),Ad(n,h),Ae!==4&&(Ae=2)),!1;var p=Error(s(520),{cause:u});if(p=Zn(p,a),Gl===null?Gl=[p]:Gl.push(p),Ae!==4&&(Ae=2),i===null)return!0;u=Zn(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Kd(a.stateNode,u,n),Ad(a,n),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(us===null||!us.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wy(h),Zy(h,n,a,u),Ad(a,h),!1}a=a.return}while(a!==null);return!1}var Jy=Error(s(461)),tn=!1;function on(n,i,a,u){i.child=n===null?qy(i,null,a,u):po(i,n.child,a,u)}function t_(n,i,a,u,h){a=a.render;var p=i.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ca(i),u=Od(n,i,a,T,p,h),w=Nd(),n!==null&&!tn?(Dd(n,i,h),bi(n,i,h)):(te&&w&&dd(i),i.flags|=1,on(n,i,u,h),i.child)}function e_(n,i,a,u,h){if(n===null){var p=a.type;return typeof p=="function"&&!cd(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,n_(n,i,p,u,h)):(n=Cc(a.type,null,u,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!ep(n,h)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:Tl,a(T,u)&&n.ref===i.ref)return bi(n,i,h)}return i.flags|=1,n=mi(p,u),n.ref=i.ref,n.return=i,i.child=n}function n_(n,i,a,u,h){if(n!==null){var p=n.memoizedProps;if(Tl(p,u)&&n.ref===i.ref)if(tn=!1,i.pendingProps=u=p,ep(n,h))(n.flags&131072)!==0&&(tn=!0);else return i.lanes=n.lanes,bi(n,i,h)}return Yd(n,i,a,u,h)}function r_(n,i,a){var u=i.pendingProps,h=u.children,p=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,n!==null){for(h=i.child=n.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return i_(n,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Dc(i,p!==null?p.cachePool:null),p!==null?ny(i,p):Cd(),Fy(i);else return i.lanes=i.childLanes=536870912,i_(n,i,p!==null?p.baseLanes|a:a,a)}else p!==null?(Dc(i,p.cachePool),ny(i,p),rs(),i.memoizedState=null):(n!==null&&Dc(i,null),Cd(),rs());return on(n,i,h,a),i.child}function i_(n,i,a,u){var h=Td();return h=h===null?null:{parent:Fe._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&Dc(i,null),Cd(),Fy(i),n!==null&&Rl(n,i,u,!0),null}function Qc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Yd(n,i,a,u,h){return ca(i),a=Od(n,i,a,u,void 0,h),u=Nd(),n!==null&&!tn?(Dd(n,i,h),bi(n,i,h)):(te&&u&&dd(i),i.flags|=1,on(n,i,a,h),i.child)}function s_(n,i,a,u,h,p){return ca(i),i.updateQueue=null,a=iy(i,u,a,h),ry(n),u=Nd(),n!==null&&!tn?(Dd(n,i,p),bi(n,i,p)):(te&&u&&dd(i),i.flags|=1,on(n,i,a,p),i.child)}function a_(n,i,a,u,h){if(ca(i),i.stateNode===null){var p=ro,T=a.contextType;typeof T=="object"&&T!==null&&(p=pn(T)),p=new a(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Gd,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},wd(i),T=a.contextType,p.context=typeof T=="object"&&T!==null?pn(T):ro,p.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&($d(i,a,T,u),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Gd.enqueueReplaceState(p,p.state,null),Ml(i,u,p,h),Dl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){p=i.stateNode;var w=i.memoizedProps,P=da(a,w);p.props=P;var $=p.context,et=a.contextType;T=ro,typeof et=="object"&&et!==null&&(T=pn(et));var ot=a.getDerivedStateFromProps;et=typeof ot=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,et||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||$!==T)&&Gy(i,p,u,T),Zi=!1;var G=i.memoizedState;p.state=G,Ml(i,u,p,h),Dl(),$=i.memoizedState,w||G!==$||Zi?(typeof ot=="function"&&($d(i,a,ot,u),$=i.memoizedState),(P=Zi||$y(i,a,P,u,G,$,T))?(et||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=$),p.props=u,p.state=$,p.context=T,u=P):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Sd(n,i),T=i.memoizedProps,et=da(a,T),p.props=et,ot=i.pendingProps,G=p.context,$=a.contextType,P=ro,typeof $=="object"&&$!==null&&(P=pn($)),w=a.getDerivedStateFromProps,($=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ot||G!==P)&&Gy(i,p,u,P),Zi=!1,G=i.memoizedState,p.state=G,Ml(i,u,p,h),Dl();var Y=i.memoizedState;T!==ot||G!==Y||Zi||n!==null&&n.dependencies!==null&&Oc(n.dependencies)?(typeof w=="function"&&($d(i,a,w,u),Y=i.memoizedState),(et=Zi||$y(i,a,et,u,G,Y,P)||n!==null&&n.dependencies!==null&&Oc(n.dependencies))?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Y,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Y,P)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Y),p.props=u,p.state=Y,p.context=P,u=et):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),u=!1)}return p=u,Qc(n,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&u?(i.child=po(i,n.child,null,h),i.child=po(i,null,a,h)):on(n,i,a,h),i.memoizedState=p.state,n=i.child):n=bi(n,i,h),n}function o_(n,i,a,u){return Sl(),i.flags|=256,on(n,i,a,u),i.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xd(n){return{baseLanes:n,cachePool:Yv()}}function Wd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=rr),n}function l_(n,i,a){var u=i.pendingProps,h=!1,p=(i.flags&128)!==0,T;if((T=p)||(T=n!==null&&n.memoizedState===null?!1:($e.current&2)!==0),T&&(h=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(te){if(h?ns(i):rs(),te){var w=Se,P;if(P=w){t:{for(P=w,w=Pr;P.nodeType!==8;){if(!w){w=null;break t}if(P=_r(P.nextSibling),P===null){w=null;break t}}w=P}w!==null?(i.memoizedState={dehydrated:w,treeContext:sa!==null?{id:gi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},P=Bn(18,null,null,0),P.stateNode=w,P.return=i,i.child=P,An=i,Se=null,P=!0):P=!1}P||la(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return kp(w)?i.lanes=32:i.lanes=536870912,null;Ti(i)}return w=u.children,u=u.fallback,h?(rs(),h=i.mode,w=Xc({mode:"hidden",children:w},h),u=ia(u,h,a,null),w.return=i,u.return=i,w.sibling=u,i.child=w,h=i.child,h.memoizedState=Xd(a),h.childLanes=Wd(n,T,a),i.memoizedState=Qd,u):(ns(i),Zd(i,w))}if(P=n.memoizedState,P!==null&&(w=P.dehydrated,w!==null)){if(p)i.flags&256?(ns(i),i.flags&=-257,i=Jd(n,i,a)):i.memoizedState!==null?(rs(),i.child=n.child,i.flags|=128,i=null):(rs(),h=u.fallback,w=i.mode,u=Xc({mode:"visible",children:u.children},w),h=ia(h,w,a,null),h.flags|=2,u.return=i,h.return=i,u.sibling=h,i.child=u,po(i,n.child,null,a),u=i.child,u.memoizedState=Xd(a),u.childLanes=Wd(n,T,a),i.memoizedState=Qd,i=h);else if(ns(i),kp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var $=T.dgst;T=$,u=Error(s(419)),u.stack="",u.digest=T,Al({value:u,source:null,stack:null}),i=Jd(n,i,a)}else if(tn||Rl(n,i,a,!1),T=(a&n.childLanes)!==0,tn||T){if(T=he,T!==null&&(u=a&-a,u=(u&42)!==0?1:de(u),u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,no(n,u),$n(T,n,u),Jy;w.data==="$?"||vp(),i=Jd(n,i,a)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=P.treeContext,Se=_r(w.nextSibling),An=i,te=!0,oa=null,Pr=!1,n!==null&&(tr[er++]=gi,tr[er++]=vi,tr[er++]=sa,gi=n.id,vi=n.overflow,sa=i),i=Zd(i,u.children),i.flags|=4096);return i}return h?(rs(),h=u.fallback,w=i.mode,P=n.child,$=P.sibling,u=mi(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,$!==null?h=mi($,h):(h=ia(h,w,a,null),h.flags|=2),h.return=i,u.return=i,u.sibling=h,i.child=u,u=h,h=i.child,w=n.child.memoizedState,w===null?w=Xd(a):(P=w.cachePool,P!==null?($=Fe._currentValue,P=P.parent!==$?{parent:$,pool:$}:P):P=Yv(),w={baseLanes:w.baseLanes|a,cachePool:P}),h.memoizedState=w,h.childLanes=Wd(n,T,a),i.memoizedState=Qd,u):(ns(i),a=n.child,n=a.sibling,a=mi(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=a,i.memoizedState=null,a)}function Zd(n,i){return i=Xc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Xc(n,i){return n=Bn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Jd(n,i,a){return po(i,n.child,null,a),n=Zd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function u_(n,i,a){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),vd(n.return,i,a)}function tp(n,i,a,u,h){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=h)}function c_(n,i,a){var u=i.pendingProps,h=u.revealOrder,p=u.tail;if(on(n,i,u.children,a),u=$e.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&u_(n,a,i);else if(n.tag===19)u_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Z($e,u),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&Gc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),tp(i,!1,h,a,p);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Gc(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}tp(i,!0,a,null,p);break;case"together":tp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bi(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ls|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Rl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=mi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=mi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function ep(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Oc(n)))}function wA(n,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Wi(i,Fe,n.memoizedState.cache),Sl();break;case 27:case 5:ye(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Wi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?l_(n,i,a):(ns(i),n=bi(n,i,a),n!==null?n.sibling:null);ns(i);break;case 19:var h=(n.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Rl(n,i,a,!1),u=(a&i.childLanes)!==0),h){if(u)return c_(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z($e,$e.current),u)break;return null;case 22:case 23:return i.lanes=0,r_(n,i,a);case 24:Wi(i,Fe,n.memoizedState.cache)}return bi(n,i,a)}function f_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)tn=!0;else{if(!ep(n,a)&&(i.flags&128)===0)return tn=!1,wA(n,i,a);tn=(n.flags&131072)!==0}else tn=!1,te&&(i.flags&1048576)!==0&&zv(i,xc,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var u=i.elementType,h=u._init;if(u=h(u._payload),i.type=u,typeof u=="function")cd(u)?(n=da(u,n),i.tag=1,i=a_(null,i,u,n,a)):(i.tag=0,i=Yd(null,i,u,n,a));else{if(u!=null){if(h=u.$$typeof,h===rt){i.tag=11,i=t_(null,i,u,n,a);break t}else if(h===x){i.tag=14,i=e_(null,i,u,n,a);break t}}throw i=xt(u)||u,Error(s(306,i,""))}}return i;case 0:return Yd(n,i,i.type,i.pendingProps,a);case 1:return u=i.type,h=da(u,i.pendingProps),a_(n,i,u,h,a);case 3:t:{if(Mt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));u=i.pendingProps;var p=i.memoizedState;h=p.element,Sd(n,i),Ml(i,u,null,a);var T=i.memoizedState;if(u=T.cache,Wi(i,Fe,u),u!==p.cache&&yd(i,[Fe],a,!0),Dl(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=o_(n,i,u,a);break t}else if(u!==h){h=Zn(Error(s(424)),i),Al(h),i=o_(n,i,u,a);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Se=_r(n.firstChild),An=i,te=!0,oa=null,Pr=!0,a=qy(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Sl(),u===h){i=bi(n,i,a);break t}on(n,i,u,a)}i=i.child}return i;case 26:return Qc(n,i),n===null?(a=m0(i.type,null,i.pendingProps,null))?i.memoizedState=a:te||(a=i.type,n=i.pendingProps,u=ff(pt.current).createElement(a),u[me]=i,u[Zt]=n,un(u,a,n),Ce(u),i.stateNode=u):i.memoizedState=m0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ye(i),n===null&&te&&(u=i.stateNode=h0(i.type,i.pendingProps,pt.current),An=i,Pr=!0,h=Se,hs(i.type)?(Vp=h,Se=_r(u.firstChild)):Se=h),on(n,i,i.pendingProps.children,a),Qc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&te&&((h=u=Se)&&(u=WA(u,i.type,i.pendingProps,Pr),u!==null?(i.stateNode=u,An=i,Se=_r(u.firstChild),Pr=!1,h=!0):h=!1),h||la(i)),ye(i),h=i.type,p=i.pendingProps,T=n!==null?n.memoizedProps:null,u=p.children,Np(h,p)?u=null:T!==null&&Np(h,T)&&(i.flags|=32),i.memoizedState!==null&&(h=Od(n,i,mA,null,null,a),eu._currentValue=h),Qc(n,i),on(n,i,u,a),i.child;case 6:return n===null&&te&&((n=a=Se)&&(a=ZA(a,i.pendingProps,Pr),a!==null?(i.stateNode=a,An=i,Se=null,n=!0):n=!1),n||la(i)),null;case 13:return l_(n,i,a);case 4:return Mt(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=po(i,null,u,a):on(n,i,u,a),i.child;case 11:return t_(n,i,i.type,i.pendingProps,a);case 7:return on(n,i,i.pendingProps,a),i.child;case 8:return on(n,i,i.pendingProps.children,a),i.child;case 12:return on(n,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Wi(i,i.type,u.value),on(n,i,u.children,a),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,ca(i),h=pn(h),u=u(h),i.flags|=1,on(n,i,u,a),i.child;case 14:return e_(n,i,i.type,i.pendingProps,a);case 15:return n_(n,i,i.type,i.pendingProps,a);case 19:return c_(n,i,a);case 31:return u=i.pendingProps,a=i.mode,u={mode:u.mode,children:u.children},n===null?(a=Xc(u,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=mi(n.child,u),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return r_(n,i,a);case 24:return ca(i),u=pn(Fe),n===null?(h=Td(),h===null&&(h=he,p=_d(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),i.memoizedState={parent:u,cache:h},wd(i),Wi(i,Fe,h)):((n.lanes&a)!==0&&(Sd(n,i),Ml(i,null,null,a),Dl()),h=n.memoizedState,p=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Wi(i,Fe,u)):(u=p.cache,Wi(i,Fe,u),u!==h.cache&&yd(i,[Fe],a,!0))),on(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function wi(n){n.flags|=4}function h_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!E0(i)){if(i=nr.current,i!==null&&((Xt&4194048)===Xt?Lr!==null:(Xt&62914560)!==Xt&&(Xt&536870912)===0||i!==Lr))throw Ol=bd,Qv;n.flags|=8192}}function Wc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?zs():536870912,n.lanes|=i,yo|=i)}function Bl(n,i){if(!te)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function _e(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=a,i}function SA(n,i,a){var u=i.pendingProps;switch(pd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(i),null;case 1:return _e(i),null;case 3:return a=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),_i(Fe),fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(wl(i)?wi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fv())),_e(i),null;case 26:return a=i.memoizedState,n===null?(wi(i),a!==null?(_e(i),h_(i,a)):(_e(i),i.flags&=-16777217)):a?a!==n.memoizedState?(wi(i),_e(i),h_(i,a)):(_e(i),i.flags&=-16777217):(n.memoizedProps!==u&&wi(i),_e(i),i.flags&=-16777217),null;case 27:Ne(i),a=pt.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&wi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return _e(i),null}n=ft.current,wl(i)?Hv(i):(n=h0(h,u,a),i.stateNode=n,wi(i))}return _e(i),null;case 5:if(Ne(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&wi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return _e(i),null}if(n=ft.current,wl(i))Hv(i);else{switch(h=ff(pt.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?h.createElement(a,{is:u.is}):h.createElement(a)}}n[me]=i,n[Zt]=u;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;t:switch(un(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&wi(i)}}return _e(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&wi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=pt.current,wl(i)){if(n=i.stateNode,a=i.memoizedProps,u=null,h=An,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[me]=i,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||s0(n.nodeValue,a)),n||la(i)}else n=ff(n).createTextNode(u),n[me]=i,i.stateNode=n}return _e(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=wl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[me]=i}else Sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_e(i),h=!1}else h=Fv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ti(i),i):(Ti(i),null)}if(Ti(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Wc(i,i.updateQueue),_e(i),null;case 4:return fe(),n===null&&Rp(i.stateNode.containerInfo),_e(i),null;case 10:return _i(i.type),_e(i),null;case 19:if(st($e),h=i.memoizedState,h===null)return _e(i),null;if(u=(i.flags&128)!==0,p=h.rendering,p===null)if(u)Bl(h,!1);else{if(Ae!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=Gc(n),p!==null){for(i.flags|=128,Bl(h,!1),n=p.updateQueue,i.updateQueue=n,Wc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Bv(a,n),a=a.sibling;return Z($e,$e.current&1|2),i.child}n=n.sibling}h.tail!==null&&ue()>tf&&(i.flags|=128,u=!0,Bl(h,!1),i.lanes=4194304)}else{if(!u)if(n=Gc(p),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Wc(i,n),Bl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!te)return _e(i),null}else 2*ue()-h.renderingStartTime>tf&&a!==536870912&&(i.flags|=128,u=!0,Bl(h,!1),i.lanes=4194304);h.isBackwards?(p.sibling=i.child,i.child=p):(n=h.last,n!==null?n.sibling=p:i.child=p,h.last=p)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=ue(),i.sibling=null,n=$e.current,Z($e,u?n&1|2:n&1),i):(_e(i),null);case 22:case 23:return Ti(i),Id(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(_e(i),i.subtreeFlags&6&&(i.flags|=8192)):_e(i),a=i.updateQueue,a!==null&&Wc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),n!==null&&st(fa),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),_i(Fe),_e(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function AA(n,i){switch(pd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return _i(Fe),fe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ne(i),null;case 13:if(Ti(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Sl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return st($e),null;case 4:return fe(),null;case 10:return _i(i.type),null;case 22:case 23:return Ti(i),Id(),n!==null&&st(fa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return _i(Fe),null;case 25:return null;default:return null}}function d_(n,i){switch(pd(i),i.tag){case 3:_i(Fe),fe();break;case 26:case 27:case 5:Ne(i);break;case 4:fe();break;case 13:Ti(i);break;case 19:st($e);break;case 10:_i(i.type);break;case 22:case 23:Ti(i),Id(),n!==null&&st(fa);break;case 24:_i(Fe)}}function zl(n,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&n)===n){u=void 0;var p=a.create,T=a.inst;u=p(),T.destroy=u}a=a.next}while(a!==h)}}catch(w){ce(i,i.return,w)}}function is(n,i,a){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&n)===n){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,h=i;var P=a,$=w;try{$()}catch(et){ce(h,P,et)}}}u=u.next}while(u!==p)}}catch(et){ce(i,i.return,et)}}function p_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{ey(i,a)}catch(u){ce(n,n.return,u)}}}function m_(n,i,a){a.props=da(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){ce(n,i,u)}}function Hl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(h){ce(n,i,h)}}function Ur(n,i){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){ce(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ce(n,i,h)}else a.current=null}function g_(n){var i=n.type,a=n.memoizedProps,u=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){ce(n,n.return,h)}}function np(n,i,a){try{var u=n.stateNode;GA(u,n.type,a,i),u[Zt]=i}catch(h){ce(n,n.return,h)}}function v_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&hs(n.type)||n.tag===4}function rp(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||v_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&hs(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ip(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=cf));else if(u!==4&&(u===27&&hs(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(ip(n,i,a),n=n.sibling;n!==null;)ip(n,i,a),n=n.sibling}function Zc(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(u!==4&&(u===27&&hs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Zc(n,i,a),n=n.sibling;n!==null;)Zc(n,i,a),n=n.sibling}function y_(n){var i=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);un(i,u,a),i[me]=n,i[Zt]=a}catch(p){ce(n,n.return,p)}}var Si=!1,xe=!1,sp=!1,__=typeof WeakSet=="function"?WeakSet:Set,en=null;function RA(n,i){if(n=n.containerInfo,xp=vf,n=Ov(n),rd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var T=0,w=-1,P=-1,$=0,et=0,ot=n,G=null;e:for(;;){for(var Y;ot!==a||h!==0&&ot.nodeType!==3||(w=T+h),ot!==p||u!==0&&ot.nodeType!==3||(P=T+u),ot.nodeType===3&&(T+=ot.nodeValue.length),(Y=ot.firstChild)!==null;)G=ot,ot=Y;for(;;){if(ot===n)break e;if(G===a&&++$===h&&(w=T),G===p&&++et===u&&(P=T),(Y=ot.nextSibling)!==null)break;ot=G,G=ot.parentNode}ot=Y}a=w===-1||P===-1?null:{start:w,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Op={focusedElem:n,selectionRange:a},vf=!1,en=i;en!==null;)if(i=en,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,en=n;else for(;en!==null;){switch(i=en,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=i,h=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var Ot=da(a.type,h,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(Ot,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(St){ce(a,a.return,St)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Mp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Mp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,en=n;break}en=i.return}}function E_(n,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ss(n,a),u&4&&zl(5,a);break;case 1:if(ss(n,a),u&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(T){ce(a,a.return,T)}else{var h=da(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){ce(a,a.return,T)}}u&64&&p_(a),u&512&&Hl(a,a.return);break;case 3:if(ss(n,a),u&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ey(n,i)}catch(T){ce(a,a.return,T)}}break;case 27:i===null&&u&4&&y_(a);case 26:case 5:ss(n,a),i===null&&u&4&&g_(a),u&512&&Hl(a,a.return);break;case 12:ss(n,a);break;case 13:ss(n,a),u&4&&w_(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=VA.bind(null,a),JA(n,a))));break;case 22:if(u=a.memoizedState!==null||Si,!u){i=i!==null&&i.memoizedState!==null||xe,h=Si;var p=xe;Si=u,(xe=i)&&!p?as(n,a,(a.subtreeFlags&8772)!==0):ss(n,a),Si=h,xe=p}break;case 30:break;default:ss(n,a)}}function T_(n){var i=n.alternate;i!==null&&(n.alternate=null,T_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ki(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ve=null,Nn=!1;function Ai(n,i,a){for(a=a.child;a!==null;)b_(n,i,a),a=a.sibling}function b_(n,i,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(_t,a)}catch{}switch(a.tag){case 26:xe||Ur(a,i),Ai(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||Ur(a,i);var u=ve,h=Nn;hs(a.type)&&(ve=a.stateNode,Nn=!1),Ai(n,i,a),Wl(a.stateNode),ve=u,Nn=h;break;case 5:xe||Ur(a,i);case 6:if(u=ve,h=Nn,ve=null,Ai(n,i,a),ve=u,Nn=h,ve!==null)if(Nn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(a.stateNode)}catch(p){ce(a,i,p)}else try{ve.removeChild(a.stateNode)}catch(p){ce(a,i,p)}break;case 18:ve!==null&&(Nn?(n=ve,c0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),su(n)):c0(ve,a.stateNode));break;case 4:u=ve,h=Nn,ve=a.stateNode.containerInfo,Nn=!0,Ai(n,i,a),ve=u,Nn=h;break;case 0:case 11:case 14:case 15:xe||is(2,a,i),xe||is(4,a,i),Ai(n,i,a);break;case 1:xe||(Ur(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&m_(a,i,u)),Ai(n,i,a);break;case 21:Ai(n,i,a);break;case 22:xe=(u=xe)||a.memoizedState!==null,Ai(n,i,a),xe=u;break;default:Ai(n,i,a)}}function w_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{su(n)}catch(a){ce(i,i.return,a)}}function CA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new __),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new __),i;default:throw Error(s(435,n.tag))}}function ap(n,i){var a=CA(n);i.forEach(function(u){var h=PA.bind(null,n,u);a.has(u)||(a.add(u),u.then(h,h))})}function zn(n,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],p=n,T=i,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(hs(w.type)){ve=w.stateNode,Nn=!1;break t}break;case 5:ve=w.stateNode,Nn=!1;break t;case 3:case 4:ve=w.stateNode.containerInfo,Nn=!0;break t}w=w.return}if(ve===null)throw Error(s(160));b_(p,T,h),ve=null,Nn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)S_(i,n),i=i.sibling}var yr=null;function S_(n,i){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zn(i,n),Hn(n),u&4&&(is(3,n,n.return),zl(3,n),is(5,n,n.return));break;case 1:zn(i,n),Hn(n),u&512&&(xe||a===null||Ur(a,a.return)),u&64&&Si&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=yr;if(zn(i,n),Hn(n),u&512&&(xe||a===null||Ur(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){t:{u=n.type,a=n.memoizedProps,h=h.ownerDocument||h;e:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Hs]||p[me]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),un(p,u,a),p[me]=n,Ce(p),u=p;break t;case"link":var T=y0("link","href",h).get(u+(a.href||""));if(T){for(var w=0;w<T.length;w++)if(p=T[w],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(w,1);break e}}p=h.createElement(u),un(p,u,a),h.head.appendChild(p);break;case"meta":if(T=y0("meta","content",h).get(u+(a.content||""))){for(w=0;w<T.length;w++)if(p=T[w],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(w,1);break e}}p=h.createElement(u),un(p,u,a),h.head.appendChild(p);break;default:throw Error(s(468,u))}p[me]=n,Ce(p),u=p}n.stateNode=u}else _0(h,n.type,n.stateNode);else n.stateNode=v0(h,u,n.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?_0(h,n.type,n.stateNode):v0(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&np(n,n.memoizedProps,a.memoizedProps)}break;case 27:zn(i,n),Hn(n),u&512&&(xe||a===null||Ur(a,a.return)),a!==null&&u&4&&np(n,n.memoizedProps,a.memoizedProps);break;case 5:if(zn(i,n),Hn(n),u&512&&(xe||a===null||Ur(a,a.return)),n.flags&32){h=n.stateNode;try{Yn(h,"")}catch(Y){ce(n,n.return,Y)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,np(n,h,a!==null?a.memoizedProps:h)),u&1024&&(sp=!0);break;case 6:if(zn(i,n),Hn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(Y){ce(n,n.return,Y)}}break;case 3:if(pf=null,h=yr,yr=hf(i.containerInfo),zn(i,n),yr=h,Hn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{su(i.containerInfo)}catch(Y){ce(n,n.return,Y)}sp&&(sp=!1,A_(n));break;case 4:u=yr,yr=hf(n.stateNode.containerInfo),zn(i,n),Hn(n),yr=u;break;case 12:zn(i,n),Hn(n);break;case 13:zn(i,n),Hn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hp=ue()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ap(n,u)));break;case 22:h=n.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,$=Si,et=xe;if(Si=$||h,xe=et||P,zn(i,n),xe=et,Si=$,Hn(n),u&8192)t:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||P||Si||xe||pa(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){P=a=i;try{if(p=P.stateNode,h)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=P.stateNode;var ot=P.memoizedProps.style,G=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){ce(P,P.return,Y)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch(Y){ce(P,P.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,ap(n,a))));break;case 19:zn(i,n),Hn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ap(n,u)));break;case 30:break;case 21:break;default:zn(i,n),Hn(n)}}function Hn(n){var i=n.flags;if(i&2){try{for(var a,u=n.return;u!==null;){if(v_(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,p=rp(n);Zc(n,p,h);break;case 5:var T=a.stateNode;a.flags&32&&(Yn(T,""),a.flags&=-33);var w=rp(n);Zc(n,w,T);break;case 3:case 4:var P=a.stateNode.containerInfo,$=rp(n);ip(n,$,P);break;default:throw Error(s(161))}}catch(et){ce(n,n.return,et)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function A_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;A_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ss(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)E_(n,i.alternate,i),i=i.sibling}function pa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:is(4,i,i.return),pa(i);break;case 1:Ur(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&m_(i,i.return,a),pa(i);break;case 27:Wl(i.stateNode);case 26:case 5:Ur(i,i.return),pa(i);break;case 22:i.memoizedState===null&&pa(i);break;case 30:pa(i);break;default:pa(i)}n=n.sibling}}function as(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=n,p=i,T=p.flags;switch(p.tag){case 0:case 11:case 15:as(h,p,a),zl(4,p);break;case 1:if(as(h,p,a),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){ce(u,u.return,$)}if(u=p,h=u.updateQueue,h!==null){var w=u.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)ty(P[h],w)}catch($){ce(u,u.return,$)}}a&&T&64&&p_(p),Hl(p,p.return);break;case 27:y_(p);case 26:case 5:as(h,p,a),a&&u===null&&T&4&&g_(p),Hl(p,p.return);break;case 12:as(h,p,a);break;case 13:as(h,p,a),a&&T&4&&w_(h,p);break;case 22:p.memoizedState===null&&as(h,p,a),Hl(p,p.return);break;case 30:break;default:as(h,p,a)}i=i.sibling}}function op(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Cl(a))}function lp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Cl(n))}function jr(n,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)R_(n,i,a,u),i=i.sibling}function R_(n,i,a,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:jr(n,i,a,u),h&2048&&zl(9,i);break;case 1:jr(n,i,a,u);break;case 3:jr(n,i,a,u),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Cl(n)));break;case 12:if(h&2048){jr(n,i,a,u),n=i.stateNode;try{var p=i.memoizedProps,T=p.id,w=p.onPostCommit;typeof w=="function"&&w(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(P){ce(i,i.return,P)}}else jr(n,i,a,u);break;case 13:jr(n,i,a,u);break;case 23:break;case 22:p=i.stateNode,T=i.alternate,i.memoizedState!==null?p._visibility&2?jr(n,i,a,u):ql(n,i):p._visibility&2?jr(n,i,a,u):(p._visibility|=2,mo(n,i,a,u,(i.subtreeFlags&10256)!==0)),h&2048&&op(T,i);break;case 24:jr(n,i,a,u),h&2048&&lp(i.alternate,i);break;default:jr(n,i,a,u)}}function mo(n,i,a,u,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,T=i,w=a,P=u,$=T.flags;switch(T.tag){case 0:case 11:case 15:mo(p,T,w,P,h),zl(8,T);break;case 23:break;case 22:var et=T.stateNode;T.memoizedState!==null?et._visibility&2?mo(p,T,w,P,h):ql(p,T):(et._visibility|=2,mo(p,T,w,P,h)),h&&$&2048&&op(T.alternate,T);break;case 24:mo(p,T,w,P,h),h&&$&2048&&lp(T.alternate,T);break;default:mo(p,T,w,P,h)}i=i.sibling}}function ql(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,u=i,h=u.flags;switch(u.tag){case 22:ql(a,u),h&2048&&op(u.alternate,u);break;case 24:ql(a,u),h&2048&&lp(u.alternate,u);break;default:ql(a,u)}i=i.sibling}}var Fl=8192;function go(n){if(n.subtreeFlags&Fl)for(n=n.child;n!==null;)C_(n),n=n.sibling}function C_(n){switch(n.tag){case 26:go(n),n.flags&Fl&&n.memoizedState!==null&&hR(yr,n.memoizedState,n.memoizedProps);break;case 5:go(n);break;case 3:case 4:var i=yr;yr=hf(n.stateNode.containerInfo),go(n),yr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Fl,Fl=16777216,go(n),Fl=i):go(n));break;default:go(n)}}function I_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function $l(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];en=u,O_(u,n)}I_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)x_(n),n=n.sibling}function x_(n){switch(n.tag){case 0:case 11:case 15:$l(n),n.flags&2048&&is(9,n,n.return);break;case 3:$l(n);break;case 12:$l(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Jc(n)):$l(n);break;default:$l(n)}}function Jc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];en=u,O_(u,n)}I_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:is(8,i,i.return),Jc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(i));break;default:Jc(i)}n=n.sibling}}function O_(n,i){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:is(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,en=u;else t:for(a=n;en!==null;){u=en;var h=u.sibling,p=u.return;if(T_(u),u===a){en=null;break t}if(h!==null){h.return=p,en=h;break t}en=p}}}var IA={getCacheForType:function(n){var i=pn(Fe),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},xA=typeof WeakMap=="function"?WeakMap:Map,re=0,he=null,Ht=null,Xt=0,ie=0,qn=null,os=!1,vo=!1,up=!1,Ri=0,Ae=0,ls=0,ma=0,cp=0,rr=0,yo=0,Gl=null,Dn=null,fp=!1,hp=0,tf=1/0,ef=null,us=null,ln=0,cs=null,_o=null,Eo=0,dp=0,pp=null,N_=null,Kl=0,mp=null;function Fn(){if((re&2)!==0&&Xt!==0)return Xt&-Xt;if(B.T!==null){var n=ao;return n!==0?n:bp()}return Ln()}function D_(){rr===0&&(rr=(Xt&536870912)===0||te?xn():536870912);var n=nr.current;return n!==null&&(n.flags|=32),rr}function $n(n,i,a){(n===he&&(ie===2||ie===9)||n.cancelPendingCommit!==null)&&(To(n,0),fs(n,Xt,rr,!1)),Kn(n,a),((re&2)===0||n!==he)&&(n===he&&((re&2)===0&&(ma|=a),Ae===4&&fs(n,Xt,rr,!1)),Br(n))}function M_(n,i,a){if((re&6)!==0)throw Error(s(327));var u=!a&&(i&124)===0&&(i&n.expiredLanes)===0||ni(n,i),h=u?DA(n,i):yp(n,i,!0),p=u;do{if(h===0){vo&&!u&&fs(n,i,0,!1);break}else{if(a=n.current.alternate,p&&!OA(a)){h=yp(n,i,!1),p=!1;continue}if(h===2){if(p=i,n.errorRecoveryDisabledLanes&p)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var w=n;h=Gl;var P=w.current.memoizedState.isDehydrated;if(P&&(To(w,T).flags|=256),T=yp(w,T,!1),T!==2){if(up&&!P){w.errorRecoveryDisabledLanes|=p,ma|=p,h=4;break t}p=Dn,Dn=h,p!==null&&(Dn===null?Dn=p:Dn.push.apply(Dn,p))}h=T}if(p=!1,h!==2)continue}}if(h===1){To(n,0),fs(n,i,0,!0);break}t:{switch(u=n,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:fs(u,i,rr,!os);break t;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=hp+300-ue(),10<h)){if(fs(u,i,rr,!os),ei(u,0,!0)!==0)break t;u.timeoutHandle=l0(k_.bind(null,u,a,Dn,ef,fp,i,rr,ma,yo,os,p,2,-0,0),h);break t}k_(u,a,Dn,ef,fp,i,rr,ma,yo,os,p,0,-0,0)}}break}while(!0);Br(n)}function k_(n,i,a,u,h,p,T,w,P,$,et,ot,G,Y){if(n.timeoutHandle=-1,ot=i.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(tu={stylesheets:null,count:0,unsuspend:fR},C_(i),ot=dR(),ot!==null)){n.cancelPendingCommit=ot(z_.bind(null,n,i,p,a,u,h,T,w,P,et,1,G,Y)),fs(n,p,T,!$);return}z_(n,i,p,a,u,h,T,w,P)}function OA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],p=h.getSnapshot;h=h.value;try{if(!jn(p(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fs(n,i,a,u){i&=~cp,i&=~ma,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var h=i;0<h;){var p=31-Me(h),T=1<<p;u[p]=-1,h&=~T}a!==0&&wt(n,a,i)}function nf(){return(re&6)===0?(Yl(0),!1):!0}function gp(){if(Ht!==null){if(ie===0)var n=Ht.return;else n=Ht,yi=ua=null,Md(n),ho=null,Ul=0,n=Ht;for(;n!==null;)d_(n.alternate,n),n=n.return;Ht=null}}function To(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,YA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),gp(),he=n,Ht=a=mi(n.current,null),Xt=i,ie=0,qn=null,os=!1,vo=ni(n,i),up=!1,yo=rr=cp=ma=ls=Ae=0,Dn=Gl=null,fp=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var h=31-Me(u),p=1<<h;i|=n[h],u&=~p}return Ri=i,Sc(),a}function V_(n,i){Ut=null,B.H=qc,i===xl||i===Mc?(i=Zv(),ie=3):i===Qv?(i=Zv(),ie=4):ie=i===Jy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qn=i,Ht===null&&(Ae=1,Yc(n,Zn(i,n.current)))}function P_(){var n=B.H;return B.H=qc,n===null?qc:n}function L_(){var n=B.A;return B.A=IA,n}function vp(){Ae=4,os||(Xt&4194048)!==Xt&&nr.current!==null||(vo=!0),(ls&134217727)===0&&(ma&134217727)===0||he===null||fs(he,Xt,rr,!1)}function yp(n,i,a){var u=re;re|=2;var h=P_(),p=L_();(he!==n||Xt!==i)&&(ef=null,To(n,i)),i=!1;var T=Ae;t:do try{if(ie!==0&&Ht!==null){var w=Ht,P=qn;switch(ie){case 8:gp(),T=6;break t;case 3:case 2:case 9:case 6:nr.current===null&&(i=!0);var $=ie;if(ie=0,qn=null,bo(n,w,P,$),a&&vo){T=0;break t}break;default:$=ie,ie=0,qn=null,bo(n,w,P,$)}}NA(),T=Ae;break}catch(et){V_(n,et)}while(!0);return i&&n.shellSuspendCounter++,yi=ua=null,re=u,B.H=h,B.A=p,Ht===null&&(he=null,Xt=0,Sc()),T}function NA(){for(;Ht!==null;)U_(Ht)}function DA(n,i){var a=re;re|=2;var u=P_(),h=L_();he!==n||Xt!==i?(ef=null,tf=ue()+500,To(n,i)):vo=ni(n,i);t:do try{if(ie!==0&&Ht!==null){i=Ht;var p=qn;e:switch(ie){case 1:ie=0,qn=null,bo(n,i,p,1);break;case 2:case 9:if(Xv(p)){ie=0,qn=null,j_(i);break}i=function(){ie!==2&&ie!==9||he!==n||(ie=7),Br(n)},p.then(i,i);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:Xv(p)?(ie=0,qn=null,j_(i)):(ie=0,qn=null,bo(n,i,p,7));break;case 5:var T=null;switch(Ht.tag){case 26:T=Ht.memoizedState;case 5:case 27:var w=Ht;if(!T||E0(T)){ie=0,qn=null;var P=w.sibling;if(P!==null)Ht=P;else{var $=w.return;$!==null?(Ht=$,rf($)):Ht=null}break e}}ie=0,qn=null,bo(n,i,p,5);break;case 6:ie=0,qn=null,bo(n,i,p,6);break;case 8:gp(),Ae=6;break t;default:throw Error(s(462))}}MA();break}catch(et){V_(n,et)}while(!0);return yi=ua=null,B.H=u,B.A=h,re=a,Ht!==null?0:(he=null,Xt=0,Sc(),Ae)}function MA(){for(;Ht!==null&&!Kt();)U_(Ht)}function U_(n){var i=f_(n.alternate,n,Ri);n.memoizedProps=n.pendingProps,i===null?rf(n):Ht=i}function j_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=s_(a,i,i.pendingProps,i.type,void 0,Xt);break;case 11:i=s_(a,i,i.pendingProps,i.type.render,i.ref,Xt);break;case 5:Md(i);default:d_(a,i),i=Ht=Bv(i,Ri),i=f_(a,i,Ri)}n.memoizedProps=n.pendingProps,i===null?rf(n):Ht=i}function bo(n,i,a,u){yi=ua=null,Md(i),ho=null,Ul=0;var h=i.return;try{if(bA(n,h,i,a,Xt)){Ae=1,Yc(n,Zn(a,n.current)),Ht=null;return}}catch(p){if(h!==null)throw Ht=h,p;Ae=1,Yc(n,Zn(a,n.current)),Ht=null;return}i.flags&32768?(te||u===1?n=!0:vo||(Xt&536870912)!==0?n=!1:(os=n=!0,(u===2||u===9||u===3||u===6)&&(u=nr.current,u!==null&&u.tag===13&&(u.flags|=16384))),B_(i,n)):rf(i)}function rf(n){var i=n;do{if((i.flags&32768)!==0){B_(i,os);return}n=i.return;var a=SA(i.alternate,i,Ri);if(a!==null){Ht=a;return}if(i=i.sibling,i!==null){Ht=i;return}Ht=i=n}while(i!==null);Ae===0&&(Ae=5)}function B_(n,i){do{var a=AA(n.alternate,n);if(a!==null){a.flags&=32767,Ht=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ht=n;return}Ht=n=a}while(n!==null);Ae=6,Ht=null}function z_(n,i,a,u,h,p,T,w,P){n.cancelPendingCommit=null;do sf();while(ln!==0);if((re&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=ld,$i(n,a,p,T,w,P),n===he&&(Ht=he=null,Xt=0),_o=i,cs=n,Eo=a,dp=p,pp=h,N_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,LA(dn,function(){return G_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,h=at.p,at.p=2,T=re,re|=4;try{RA(n,i,a)}finally{re=T,at.p=h,B.T=u}}ln=1,H_(),q_(),F_()}}function H_(){if(ln===1){ln=0;var n=cs,i=_o,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var u=at.p;at.p=2;var h=re;re|=4;try{S_(i,n);var p=Op,T=Ov(n.containerInfo),w=p.focusedElem,P=p.selectionRange;if(T!==w&&w&&w.ownerDocument&&xv(w.ownerDocument.documentElement,w)){if(P!==null&&rd(w)){var $=P.start,et=P.end;if(et===void 0&&(et=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(et,w.value.length);else{var ot=w.ownerDocument||document,G=ot&&ot.defaultView||window;if(G.getSelection){var Y=G.getSelection(),Ot=w.textContent.length,St=Math.min(P.start,Ot),le=P.end===void 0?St:Math.min(P.end,Ot);!Y.extend&&St>le&&(T=le,le=St,St=T);var z=Iv(w,St),j=Iv(w,le);if(z&&j&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var F=ot.createRange();F.setStart(z.node,z.offset),Y.removeAllRanges(),St>le?(Y.addRange(F),Y.extend(j.node,j.offset)):(F.setEnd(j.node,j.offset),Y.addRange(F))}}}}for(ot=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&ot.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ot.length;w++){var it=ot[w];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}vf=!!xp,Op=xp=null}finally{re=h,at.p=u,B.T=a}}n.current=i,ln=2}}function q_(){if(ln===2){ln=0;var n=cs,i=_o,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var u=at.p;at.p=2;var h=re;re|=4;try{E_(n,i.alternate,i)}finally{re=h,at.p=u,B.T=a}}ln=3}}function F_(){if(ln===4||ln===3){ln=0,Tn();var n=cs,i=_o,a=Eo,u=N_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ln=5:(ln=0,_o=cs=null,$_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(us=null),ke(a),i=i.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(_t,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=B.T,h=at.p,at.p=2,B.T=null;try{for(var p=n.onRecoverableError,T=0;T<u.length;T++){var w=u[T];p(w.value,{componentStack:w.stack})}}finally{B.T=i,at.p=h}}(Eo&3)!==0&&sf(),Br(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===mp?Kl++:(Kl=0,mp=n):Kl=0,Yl(0)}}function $_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Cl(i)))}function sf(n){return H_(),q_(),F_(),G_()}function G_(){if(ln!==5)return!1;var n=cs,i=dp;dp=0;var a=ke(Eo),u=B.T,h=at.p;try{at.p=32>a?32:a,B.T=null,a=pp,pp=null;var p=cs,T=Eo;if(ln=0,_o=cs=null,Eo=0,(re&6)!==0)throw Error(s(331));var w=re;if(re|=4,x_(p.current),R_(p,p.current,T,a),re=w,Yl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(_t,p)}catch{}return!0}finally{at.p=h,B.T=u,$_(n,i)}}function K_(n,i,a){i=Zn(a,i),i=Kd(n.stateNode,i,2),n=ts(n,i,2),n!==null&&(Kn(n,2),Br(n))}function ce(n,i,a){if(n.tag===3)K_(n,n,a);else for(;i!==null;){if(i.tag===3){K_(i,n,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(us===null||!us.has(u))){n=Zn(a,n),a=Wy(2),u=ts(i,a,2),u!==null&&(Zy(a,u,i,n),Kn(u,2),Br(u));break}}i=i.return}}function _p(n,i,a){var u=n.pingCache;if(u===null){u=n.pingCache=new xA;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(a)||(up=!0,h.add(a),n=kA.bind(null,n,i,a),i.then(n,n))}function kA(n,i,a){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,he===n&&(Xt&a)===a&&(Ae===4||Ae===3&&(Xt&62914560)===Xt&&300>ue()-hp?(re&2)===0&&To(n,0):cp|=a,yo===Xt&&(yo=0)),Br(n)}function Y_(n,i){i===0&&(i=zs()),n=no(n,i),n!==null&&(Kn(n,i),Br(n))}function VA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Y_(n,a)}function PA(n,i){var a=0;switch(n.tag){case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Y_(n,a)}function LA(n,i){return Qe(n,i)}var af=null,wo=null,Ep=!1,of=!1,Tp=!1,ga=0;function Br(n){n!==wo&&n.next===null&&(wo===null?af=wo=n:wo=wo.next=n),of=!0,Ep||(Ep=!0,jA())}function Yl(n,i){if(!Tp&&of){Tp=!0;do for(var a=!1,u=af;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var T=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-Me(42|n)+1)-1,p&=h&~(T&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Z_(u,p))}else p=Xt,p=ei(u,u===he?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ni(u,p)||(a=!0,Z_(u,p));u=u.next}while(a);Tp=!1}}function UA(){Q_()}function Q_(){of=Ep=!1;var n=0;ga!==0&&(KA()&&(n=ga),ga=0);for(var i=ue(),a=null,u=af;u!==null;){var h=u.next,p=X_(u,i);p===0?(u.next=null,a===null?af=h:a.next=h,h===null&&(wo=a)):(a=u,(n!==0||(p&3)!==0)&&(of=!0)),u=h}Yl(n)}function X_(n,i){for(var a=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var T=31-Me(p),w=1<<T,P=h[T];P===-1?((w&a)===0||(w&u)!==0)&&(h[T]=ri(w,i)):P<=i&&(n.expiredLanes|=w),p&=~w}if(i=he,a=Xt,a=ei(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===i&&(ie===2||ie===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&De(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ni(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(u!==null&&De(u),ke(a)){case 2:case 8:a=Xe;break;case 32:a=dn;break;case 268435456:a=We;break;default:a=dn}return u=W_.bind(null,n),a=Qe(a,u),n.callbackPriority=i,n.callbackNode=a,i}return u!==null&&u!==null&&De(u),n.callbackPriority=2,n.callbackNode=null,2}function W_(n,i){if(ln!==0&&ln!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(sf()&&n.callbackNode!==a)return null;var u=Xt;return u=ei(n,n===he?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(M_(n,u,i),X_(n,ue()),n.callbackNode!=null&&n.callbackNode===a?W_.bind(null,n):null)}function Z_(n,i){if(sf())return null;M_(n,i,!0)}function jA(){QA(function(){(re&6)!==0?Qe(ze,UA):Q_()})}function bp(){return ga===0&&(ga=xn()),ga}function J_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Fa(""+n)}function t0(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function BA(n,i,a,u,h){if(i==="submit"&&a&&a.stateNode===h){var p=J_((h[Zt]||null).action),T=u.submitter;T&&(i=(i=T[Zt]||null)?J_(i.formAction):T.getAttribute("formAction"),i!==null&&(p=i,T=null));var w=new $a("action","action",null,u,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ga!==0){var P=T?t0(h,T):new FormData(h);Hd(a,{pending:!0,data:P,method:h.method,action:p},null,P)}}else typeof p=="function"&&(w.preventDefault(),P=T?t0(h,T):new FormData(h),Hd(a,{pending:!0,data:P,method:h.method,action:p},p,P))},currentTarget:h}]})}}for(var wp=0;wp<od.length;wp++){var Sp=od[wp],zA=Sp.toLowerCase(),HA=Sp[0].toUpperCase()+Sp.slice(1);vr(zA,"on"+HA)}vr(Mv,"onAnimationEnd"),vr(kv,"onAnimationIteration"),vr(Vv,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(sA,"onTransitionRun"),vr(aA,"onTransitionStart"),vr(oA,"onTransitionCancel"),vr(Pv,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function e0(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],h=u.event;u=u.listeners;t:{var p=void 0;if(i)for(var T=u.length-1;0<=T;T--){var w=u[T],P=w.instance,$=w.currentTarget;if(w=w.listener,P!==p&&h.isPropagationStopped())break t;p=w,h.currentTarget=$;try{p(h)}catch(et){Kc(et)}h.currentTarget=null,p=P}else for(T=0;T<u.length;T++){if(w=u[T],P=w.instance,$=w.currentTarget,w=w.listener,P!==p&&h.isPropagationStopped())break t;p=w,h.currentTarget=$;try{p(h)}catch(et){Kc(et)}h.currentTarget=null,p=P}}}}function qt(n,i){var a=i[Gi];a===void 0&&(a=i[Gi]=new Set);var u=n+"__bubble";a.has(u)||(n0(i,n,2,!1),a.add(u))}function Ap(n,i,a){var u=0;i&&(u|=4),n0(a,n,u,i)}var lf="_reactListening"+Math.random().toString(36).slice(2);function Rp(n){if(!n[lf]){n[lf]=!0,ol.forEach(function(a){a!=="selectionchange"&&(qA.has(a)||Ap(a,!1,n),Ap(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[lf]||(i[lf]=!0,Ap("selectionchange",!1,i))}}function n0(n,i,a,u){switch(R0(i)){case 2:var h=gR;break;case 8:h=vR;break;default:h=Bp}a=h.bind(null,i,a,n),h=void 0,!Xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function Cp(n,i,a,u,h){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===h)break;if(T===4)for(T=u.return;T!==null;){var P=T.tag;if((P===3||P===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;w!==null;){if(T=si(w),T===null)return;if(P=T.tag,P===5||P===6||P===26||P===27){u=p=T;continue t}w=w.parentNode}}u=u.return}uc(function(){var $=p,et=Qn(a),ot=[];t:{var G=Lv.get(n);if(G!==void 0){var Y=$a,Ot=n;switch(n){case"keypress":if(Nr(a)===0)break t;case"keydown":case"keyup":Y=Wa;break;case"focusin":Ot="focus",Y=Ya;break;case"focusout":Ot="blur",Y=Ya;break;case"beforeblur":case"afterblur":Y=Ya;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=vc;break;case Mv:case kv:case Vv:Y=Qa;break;case Pv:Y=_c;break;case"scroll":case"scrollend":Y=cc;break;case"wheel":Y=Za;break;case"copy":case"cut":case"paste":Y=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=_l;break;case"toggle":case"beforetoggle":Y=Tc}var St=(i&4)!==0,le=!St&&(n==="scroll"||n==="scrollend"),z=St?G!==null?G+"Capture":null:G;St=[];for(var j=$,F;j!==null;){var it=j;if(F=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||F===null||z===null||(it=Qs(j,z),it!=null&&St.push(Xl(j,it,F))),le)break;j=j.return}0<St.length&&(G=new Y(G,Ot,null,a,et),ot.push({event:G,listeners:St}))}}if((i&7)===0){t:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&a!==ui&&(Ot=a.relatedTarget||a.fromElement)&&(si(Ot)||Ot[ge]))break t;if((Y||G)&&(G=et.window===et?et:(G=et.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(Ot=a.relatedTarget||a.toElement,Y=$,Ot=Ot?si(Ot):null,Ot!==null&&(le=l(Ot),St=Ot.tag,Ot!==le||St!==5&&St!==27&&St!==6)&&(Ot=null)):(Y=null,Ot=$),Y!==Ot)){if(St=Wn,it="onMouseLeave",z="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(St=_l,it="onPointerLeave",z="onPointerEnter",j="pointer"),le=Y==null?G:Cr(Y),F=Ot==null?G:Cr(Ot),G=new St(it,j+"leave",Y,a,et),G.target=le,G.relatedTarget=F,it=null,si(et)===$&&(St=new St(z,j+"enter",Ot,a,et),St.target=F,St.relatedTarget=le,it=St),le=it,Y&&Ot)e:{for(St=Y,z=Ot,j=0,F=St;F;F=So(F))j++;for(F=0,it=z;it;it=So(it))F++;for(;0<j-F;)St=So(St),j--;for(;0<F-j;)z=So(z),F--;for(;j--;){if(St===z||z!==null&&St===z.alternate)break e;St=So(St),z=So(z)}St=null}else St=null;Y!==null&&r0(ot,G,Y,St,!1),Ot!==null&&le!==null&&r0(ot,le,Ot,St,!0)}}t:{if(G=$?Cr($):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var vt=bv;else if(qe(G))if(wv)vt=nA;else{vt=tA;var Bt=JS}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?$&&hl($.elementType)&&(vt=bv):vt=eA;if(vt&&(vt=vt(n,$))){pi(ot,vt,a,et);break t}Bt&&Bt(n,G,$),n==="focusout"&&$&&G.type==="number"&&$.memoizedProps.value!=null&&Qi(G,"number",G.value)}switch(Bt=$?Cr($):window,n){case"focusin":(qe(Bt)||Bt.contentEditable==="true")&&(Ja=Bt,id=$,bl=null);break;case"focusout":bl=id=Ja=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Nv(ot,a,et);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":Nv(ot,a,et)}var Et;if(kr)t:{switch(n){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Yt?Q(n,a)&&(Ct="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(E&&a.locale!=="ko"&&(Yt||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Yt&&(Et=pl()):(Or=et,Xi="value"in Or?Or.value:Or.textContent,Yt=!0)),Bt=uf($,Ct),0<Bt.length&&(Ct=new vl(Ct,n,null,a,et),ot.push({event:Ct,listeners:Bt}),Et?Ct.data=Et:(Et=dt(a),Et!==null&&(Ct.data=Et)))),(Et=v?He(n,a):Qt(n,a))&&(Ct=uf($,"onBeforeInput"),0<Ct.length&&(Bt=new vl("onBeforeInput","beforeinput",null,a,et),ot.push({event:Bt,listeners:Ct}),Bt.data=Et)),BA(ot,n,$,a,et)}e0(ot,i)})}function Xl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function uf(n,i){for(var a=i+"Capture",u=[];n!==null;){var h=n,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Qs(n,a),h!=null&&u.unshift(Xl(n,h,p)),h=Qs(n,i),h!=null&&u.push(Xl(n,h,p))),n.tag===3)return u;n=n.return}return[]}function So(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function r0(n,i,a,u,h){for(var p=i._reactName,T=[];a!==null&&a!==u;){var w=a,P=w.alternate,$=w.stateNode;if(w=w.tag,P!==null&&P===u)break;w!==5&&w!==26&&w!==27||$===null||(P=$,h?($=Qs(a,p),$!=null&&T.unshift(Xl(a,$,P))):h||($=Qs(a,p),$!=null&&T.push(Xl(a,$,P)))),a=a.return}T.length!==0&&n.push({event:i,listeners:T})}var FA=/\r\n?/g,$A=/\u0000|\uFFFD/g;function i0(n){return(typeof n=="string"?n:""+n).replace(FA,`
`).replace($A,"")}function s0(n,i){return i=i0(i),i0(n)===i}function cf(){}function oe(n,i,a,u,h,p){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Yn(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Yn(n,""+u);break;case"className":Ir(n,"class",u);break;case"tabIndex":Ir(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(n,a,u);break;case"style":fl(n,u,p);break;case"data":if(i!=="object"){Ir(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Fa(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&oe(n,i,"name",h.name,h,null),oe(n,i,"formEncType",h.formEncType,h,null),oe(n,i,"formMethod",h.formMethod,h,null),oe(n,i,"formTarget",h.formTarget,h,null)):(oe(n,i,"encType",h.encType,h,null),oe(n,i,"method",h.method,h,null),oe(n,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Fa(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=cf);break;case"onScroll":u!=null&&qt("scroll",n);break;case"onScrollEnd":u!=null&&qt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Fa(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":qt("beforetoggle",n),qt("toggle",n),Yi(n,"popover",u);break;case"xlinkActuate":sn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":sn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":sn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":sn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":sn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":sn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":sn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":sn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":sn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yi(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wh.get(a)||a,Yi(n,a,u))}}function Ip(n,i,a,u,h,p){switch(a){case"style":fl(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Yn(n,u):(typeof u=="number"||typeof u=="bigint")&&Yn(n,""+u);break;case"onScroll":u!=null&&qt("scroll",n);break;case"onScrollEnd":u!=null&&qt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=cf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ja.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),p=n[Zt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(i,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,u,h);break t}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Yi(n,a,u)}}}function un(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",n),qt("load",n);var u=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:oe(n,i,p,T,a,null)}}h&&oe(n,i,"srcSet",a.srcSet,a,null),u&&oe(n,i,"src",a.src,a,null);return;case"input":qt("invalid",n);var w=p=T=h=null,P=null,$=null;for(u in a)if(a.hasOwnProperty(u)){var et=a[u];if(et!=null)switch(u){case"name":h=et;break;case"type":T=et;break;case"checked":P=et;break;case"defaultChecked":$=et;break;case"value":p=et;break;case"defaultValue":w=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,i));break;default:oe(n,i,u,et,a,null)}}Gs(n,p,w,P,$,T,h,!1),qa(n);return;case"select":qt("invalid",n),u=T=p=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":p=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:oe(n,i,h,w,a,null)}i=p,a=T,n.multiple=!!u,i!=null?li(n,!!u,i,!1):a!=null&&li(n,!!u,a,!0);return;case"textarea":qt("invalid",n),p=h=u=null;for(T in a)if(a.hasOwnProperty(T)&&(w=a[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":h=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:oe(n,i,T,w,a,null)}Ks(n,u,h,p),qa(n);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(u=a[P],u!=null))switch(P){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:oe(n,i,P,u,a,null)}return;case"dialog":qt("beforetoggle",n),qt("toggle",n),qt("cancel",n),qt("close",n);break;case"iframe":case"object":qt("load",n);break;case"video":case"audio":for(u=0;u<Ql.length;u++)qt(Ql[u],n);break;case"image":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"embed":case"source":case"link":qt("error",n),qt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(u=a[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:oe(n,i,$,u,a,null)}return;default:if(hl(i)){for(et in a)a.hasOwnProperty(et)&&(u=a[et],u!==void 0&&Ip(n,i,et,u,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(u=a[w],u!=null&&oe(n,i,w,u,a,null))}function GA(n,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,T=null,w=null,P=null,$=null,et=null;for(Y in a){var ot=a[Y];if(a.hasOwnProperty(Y)&&ot!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":P=ot;default:u.hasOwnProperty(Y)||oe(n,i,Y,null,u,ot)}}for(var G in u){var Y=u[G];if(ot=a[G],u.hasOwnProperty(G)&&(Y!=null||ot!=null))switch(G){case"type":p=Y;break;case"name":h=Y;break;case"checked":$=Y;break;case"defaultChecked":et=Y;break;case"value":T=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ot&&oe(n,i,G,Y,u,ot)}}Un(n,T,w,P,$,et,p,h);return;case"select":Y=T=w=G=null;for(p in a)if(P=a[p],a.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":Y=P;default:u.hasOwnProperty(p)||oe(n,i,p,null,u,P)}for(h in u)if(p=u[h],P=a[h],u.hasOwnProperty(h)&&(p!=null||P!=null))switch(h){case"value":G=p;break;case"defaultValue":w=p;break;case"multiple":T=p;default:p!==P&&oe(n,i,h,p,u,P)}i=w,a=T,u=Y,G!=null?li(n,!!a,G,!1):!!u!=!!a&&(i!=null?li(n,!!a,i,!0):li(n,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:oe(n,i,w,null,u,h)}for(T in u)if(h=u[T],p=a[T],u.hasOwnProperty(T)&&(h!=null||p!=null))switch(T){case"value":G=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&oe(n,i,T,h,u,p)}se(n,G,Y);return;case"option":for(var Ot in a)if(G=a[Ot],a.hasOwnProperty(Ot)&&G!=null&&!u.hasOwnProperty(Ot))switch(Ot){case"selected":n.selected=!1;break;default:oe(n,i,Ot,null,u,G)}for(P in u)if(G=u[P],Y=a[P],u.hasOwnProperty(P)&&G!==Y&&(G!=null||Y!=null))switch(P){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:oe(n,i,P,G,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)G=a[St],a.hasOwnProperty(St)&&G!=null&&!u.hasOwnProperty(St)&&oe(n,i,St,null,u,G);for($ in u)if(G=u[$],Y=a[$],u.hasOwnProperty($)&&G!==Y&&(G!=null||Y!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:oe(n,i,$,G,u,Y)}return;default:if(hl(i)){for(var le in a)G=a[le],a.hasOwnProperty(le)&&G!==void 0&&!u.hasOwnProperty(le)&&Ip(n,i,le,void 0,u,G);for(et in u)G=u[et],Y=a[et],!u.hasOwnProperty(et)||G===Y||G===void 0&&Y===void 0||Ip(n,i,et,G,u,Y);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!u.hasOwnProperty(z)&&oe(n,i,z,null,u,G);for(ot in u)G=u[ot],Y=a[ot],!u.hasOwnProperty(ot)||G===Y||G==null&&Y==null||oe(n,i,ot,G,u,Y)}var xp=null,Op=null;function ff(n){return n.nodeType===9?n:n.ownerDocument}function a0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Np(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dp=null;function KA(){var n=window.event;return n&&n.type==="popstate"?n===Dp?!1:(Dp=n,!0):(Dp=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,u0=typeof Promise=="function"?Promise:void 0,QA=typeof queueMicrotask=="function"?queueMicrotask:typeof u0<"u"?function(n){return u0.resolve(null).then(n).catch(XA)}:l0;function XA(n){setTimeout(function(){throw n})}function hs(n){return n==="head"}function c0(n,i){var a=i,u=0,h=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<u&&8>u){a=u;var T=n.ownerDocument;if(a&1&&Wl(T.documentElement),a&2&&Wl(T.body),a&4)for(a=T.head,Wl(a),T=a.firstChild;T;){var w=T.nextSibling,P=T.nodeName;T[Hs]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=w}}if(h===0){n.removeChild(p),su(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:u=a.charCodeAt(0)-48;else u=0;a=p}while(a);su(i)}function Mp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mp(a),Ki(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function WA(n,i,a,u){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Hs])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=_r(n.nextSibling),n===null)break}return null}function ZA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=_r(n.nextSibling),n===null))return null;return n}function kp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function JA(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function _r(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Vp=null;function f0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function h0(n,i,a){switch(i=ff(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Wl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ki(n)}var ir=new Map,d0=new Set;function hf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ci=at.d;at.d={f:tR,r:eR,D:nR,C:rR,L:iR,m:sR,X:oR,S:aR,M:lR};function tR(){var n=Ci.f(),i=nf();return n||i}function eR(n){var i=Rr(n);i!==null&&i.tag===5&&i.type==="form"?My(i):Ci.r(n)}var Ao=typeof document>"u"?null:document;function p0(n,i,a){var u=Ao;if(u&&typeof i=="string"&&i){var h=Ve(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),d0.has(h)||(d0.add(h),n={rel:n,crossOrigin:a,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),un(i,"link",n),Ce(i),u.head.appendChild(i)))}}function nR(n){Ci.D(n),p0("dns-prefetch",n,null)}function rR(n,i){Ci.C(n,i),p0("preconnect",n,i)}function iR(n,i,a){Ci.L(n,i,a);var u=Ao;if(u&&n&&i){var h='link[rel="preload"][as="'+Ve(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ve(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ve(a.imageSizes)+'"]')):h+='[href="'+Ve(n)+'"]';var p=h;switch(i){case"style":p=Ro(n);break;case"script":p=Co(n)}ir.has(p)||(n=y({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),ir.set(p,n),u.querySelector(h)!==null||i==="style"&&u.querySelector(Zl(p))||i==="script"&&u.querySelector(Jl(p))||(i=u.createElement("link"),un(i,"link",n),Ce(i),u.head.appendChild(i)))}}function sR(n,i){Ci.m(n,i);var a=Ao;if(a&&n){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ve(u)+'"][href="'+Ve(n)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Co(n)}if(!ir.has(p)&&(n=y({rel:"modulepreload",href:n},i),ir.set(p,n),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(p)))return}u=a.createElement("link"),un(u,"link",n),Ce(u),a.head.appendChild(u)}}}function aR(n,i,a){Ci.S(n,i,a);var u=Ao;if(u&&n){var h=bn(u).hoistableStyles,p=Ro(n);i=i||"default";var T=h.get(p);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(Zl(p)))w.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},a),(a=ir.get(p))&&Pp(n,a);var P=T=u.createElement("link");Ce(P),un(P,"link",n),P._p=new Promise(function($,et){P.onload=$,P.onerror=et}),P.addEventListener("load",function(){w.loading|=1}),P.addEventListener("error",function(){w.loading|=2}),w.loading|=4,df(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:w},h.set(p,T)}}}function oR(n,i){Ci.X(n,i);var a=Ao;if(a&&n){var u=bn(a).hoistableScripts,h=Co(n),p=u.get(h);p||(p=a.querySelector(Jl(h)),p||(n=y({src:n,async:!0},i),(i=ir.get(h))&&Lp(n,i),p=a.createElement("script"),Ce(p),un(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function lR(n,i){Ci.M(n,i);var a=Ao;if(a&&n){var u=bn(a).hoistableScripts,h=Co(n),p=u.get(h);p||(p=a.querySelector(Jl(h)),p||(n=y({src:n,async:!0,type:"module"},i),(i=ir.get(h))&&Lp(n,i),p=a.createElement("script"),Ce(p),un(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function m0(n,i,a,u){var h=(h=pt.current)?hf(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ro(a.href),a=bn(h).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ro(a.href);var p=bn(h).hoistableStyles,T=p.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,T),(p=h.querySelector(Zl(n)))&&!p._p&&(T.instance=p,T.state.loading=5),ir.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ir.set(n,a),p||uR(h,n,a,T.state))),i&&u===null)throw Error(s(528,""));return T}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Co(a),a=bn(h).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ro(n){return'href="'+Ve(n)+'"'}function Zl(n){return'link[rel="stylesheet"]['+n+"]"}function g0(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function uR(n,i,a,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),un(i,"link",a),Ce(i),n.head.appendChild(i))}function Co(n){return'[src="'+Ve(n)+'"]'}function Jl(n){return"script[async]"+n}function v0(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Ve(a.href)+'"]');if(u)return i.instance=u,Ce(u),u;var h=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ce(u),un(u,"style",h),df(u,a.precedence,n),i.instance=u;case"stylesheet":h=Ro(a.href);var p=n.querySelector(Zl(h));if(p)return i.state.loading|=4,i.instance=p,Ce(p),p;u=g0(a),(h=ir.get(h))&&Pp(u,h),p=(n.ownerDocument||n).createElement("link"),Ce(p);var T=p;return T._p=new Promise(function(w,P){T.onload=w,T.onerror=P}),un(p,"link",u),i.state.loading|=4,df(p,a.precedence,n),i.instance=p;case"script":return p=Co(a.src),(h=n.querySelector(Jl(p)))?(i.instance=h,Ce(h),h):(u=a,(h=ir.get(p))&&(u=y({},a),Lp(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),Ce(h),un(h,"link",u),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,df(u,a.precedence,n));return i.instance}function df(n,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===i)p=w;else if(p!==h)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Pp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Lp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var pf=null;function y0(n,i,a){if(pf===null){var u=new Map,h=pf=new Map;h.set(a,u)}else h=pf,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var p=a[h];if(!(p[Hs]||p[me]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(i)||"";T=n+T;var w=u.get(T);w?w.push(p):u.set(T,[p])}}return u}function _0(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function cR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function E0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var tu=null;function fR(){}function hR(n,i,a){if(tu===null)throw Error(s(475));var u=tu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ro(a.href),p=n.querySelector(Zl(h));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=mf.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=p,Ce(p);return}p=n.ownerDocument||n,a=g0(a),(h=ir.get(h))&&Pp(a,h),p=p.createElement("link"),Ce(p);var T=p;T._p=new Promise(function(w,P){T.onload=w,T.onerror=P}),un(p,"link",a),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=mf.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function dR(){if(tu===null)throw Error(s(475));var n=tu;return n.stylesheets&&n.count===0&&Up(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Up(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function mf(){if(this.count--,this.count===0){if(this.stylesheets)Up(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var gf=null;function Up(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,gf=new Map,i.forEach(pR,n),gf=null,mf.call(n))}function pR(n,i){if(!(i.state.loading&4)){var a=gf.get(n);if(a)var u=a.get(null);else{a=new Map,gf.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var T=h[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}h=i.instance,T=h.getAttribute("data-precedence"),p=a.get(T)||u,p===u&&a.set(null,h),a.set(T,h),this.count++,u=mf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var eu={$$typeof:X,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function mR(n,i,a,u,h,p,T,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function T0(n,i,a,u,h,p,T,w,P,$,et,ot){return n=new mR(n,i,a,T,w,P,$,ot),i=1,p===!0&&(i|=24),p=Bn(3,null,null,i),n.current=p,p.stateNode=n,i=_d(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:i},wd(p),n}function b0(n){return n?(n=ro,n):ro}function w0(n,i,a,u,h,p){h=b0(h),u.context===null?u.context=h:u.pendingContext=h,u=Ji(i),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=ts(n,u,i),a!==null&&($n(a,n,i),Nl(a,n,i))}function S0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function jp(n,i){S0(n,i),(n=n.alternate)&&S0(n,i)}function A0(n){if(n.tag===13){var i=no(n,67108864);i!==null&&$n(i,n,67108864),jp(n,67108864)}}var vf=!0;function gR(n,i,a,u){var h=B.T;B.T=null;var p=at.p;try{at.p=2,Bp(n,i,a,u)}finally{at.p=p,B.T=h}}function vR(n,i,a,u){var h=B.T;B.T=null;var p=at.p;try{at.p=8,Bp(n,i,a,u)}finally{at.p=p,B.T=h}}function Bp(n,i,a,u){if(vf){var h=zp(u);if(h===null)Cp(n,i,u,yf,a),C0(n,u);else if(_R(h,n,i,a,u))u.stopPropagation();else if(C0(n,u),i&4&&-1<yR.indexOf(n)){for(;h!==null;){var p=Rr(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=In(p.pendingLanes);if(T!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var P=1<<31-Me(T);w.entanglements[1]|=P,T&=~P}Br(p),(re&6)===0&&(tf=ue()+500,Yl(0))}}break;case 13:w=no(p,2),w!==null&&$n(w,p,2),nf(),jp(p,2)}if(p=zp(u),p===null&&Cp(n,i,u,yf,a),p===h)break;h=p}h!==null&&u.stopPropagation()}else Cp(n,i,u,null,a)}}function zp(n){return n=Qn(n),Hp(n)}var yf=null;function Hp(n){if(yf=null,n=si(n),n!==null){var i=l(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=f(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return yf=n,null}function R0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ar()){case ze:return 2;case Xe:return 8;case dn:case Te:return 32;case We:return 268435456;default:return 32}default:return 32}}var qp=!1,ds=null,ps=null,ms=null,nu=new Map,ru=new Map,gs=[],yR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C0(n,i){switch(n){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":nu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(i.pointerId)}}function iu(n,i,a,u,h,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},i!==null&&(i=Rr(i),i!==null&&A0(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function _R(n,i,a,u,h){switch(i){case"focusin":return ds=iu(ds,n,i,a,u,h),!0;case"dragenter":return ps=iu(ps,n,i,a,u,h),!0;case"mouseover":return ms=iu(ms,n,i,a,u,h),!0;case"pointerover":var p=h.pointerId;return nu.set(p,iu(nu.get(p)||null,n,i,a,u,h)),!0;case"gotpointercapture":return p=h.pointerId,ru.set(p,iu(ru.get(p)||null,n,i,a,u,h)),!0}return!1}function I0(n){var i=si(n.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){n.blockedOn=i,we(n.priority,function(){if(a.tag===13){var u=Fn();u=de(u);var h=no(a,u);h!==null&&$n(h,a,u),jp(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _f(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=zp(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);ui=u,a.target.dispatchEvent(u),ui=null}else return i=Rr(a),i!==null&&A0(i),n.blockedOn=a,!1;i.shift()}return!0}function x0(n,i,a){_f(n)&&a.delete(i)}function ER(){qp=!1,ds!==null&&_f(ds)&&(ds=null),ps!==null&&_f(ps)&&(ps=null),ms!==null&&_f(ms)&&(ms=null),nu.forEach(x0),ru.forEach(x0)}function Ef(n,i){n.blockedOn===i&&(n.blockedOn=null,qp||(qp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ER)))}var Tf=null;function O0(n){Tf!==n&&(Tf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tf===n&&(Tf=null);for(var i=0;i<n.length;i+=3){var a=n[i],u=n[i+1],h=n[i+2];if(typeof u!="function"){if(Hp(u||a)===null)continue;break}var p=Rr(a);p!==null&&(n.splice(i,3),i-=3,Hd(p,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function su(n){function i(P){return Ef(P,n)}ds!==null&&Ef(ds,n),ps!==null&&Ef(ps,n),ms!==null&&Ef(ms,n),nu.forEach(i),ru.forEach(i);for(var a=0;a<gs.length;a++){var u=gs[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<gs.length&&(a=gs[0],a.blockedOn===null);)I0(a),a.blockedOn===null&&gs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],p=a[u+1],T=h[Zt]||null;if(typeof p=="function")T||O0(a);else if(T){var w=null;if(p&&p.hasAttribute("formAction")){if(h=p,T=p[Zt]||null)w=T.formAction;else if(Hp(h)!==null)continue}else w=T.action;typeof w=="function"?a[u+1]=w:(a.splice(u,3),u-=3),O0(a)}}}function Fp(n){this._internalRoot=n}bf.prototype.render=Fp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=Fn();w0(a,u,n,i,null,null)},bf.prototype.unmount=Fp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;w0(n.current,2,null,n,null,null),nf(),i[ge]=null}};function bf(n){this._internalRoot=n}bf.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ln();n={blockedOn:null,target:n,priority:i};for(var a=0;a<gs.length&&i!==0&&i<gs[a].priority;a++);gs.splice(a,0,n),a===0&&I0(n)}};var N0=t.version;if(N0!=="19.1.0")throw Error(s(527,N0,"19.1.0"));at.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var TR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{_t=wf.inject(TR),Pt=wf}catch{}}return ou.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,u="",h=Ky,p=Yy,T=Qy,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=T0(n,1,!1,null,null,a,u,h,p,T,w,null),n[ge]=i.current,Rp(n),new Fp(i)},ou.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var u=!1,h="",p=Ky,T=Yy,w=Qy,P=null,$=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks),a.formState!==void 0&&($=a.formState)),i=T0(n,1,!0,i,a??null,u,h,p,T,w,P,$),i.context=b0(null),a=i.current,u=Fn(),u=de(u),h=Ji(u),h.callback=null,ts(a,h,u),a=u,i.current.lanes=a,Kn(i,a),Br(i),n[ge]=i.current,Rp(n),new bf(i)},ou.version="19.1.0",ou}var z0;function OR(){if(z0)return Kp.exports;z0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Kp.exports=xR(),Kp.exports}var NR=OR();const Th=R.createContext({handleKeyClick:()=>console.warn("KeyBoardContext: No handleKeyClick provider found!")}),DR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.7071%2015.2938C11.3166%2014.9033%2011.3166%2014.2701%2011.7071%2013.8796L13.5839%2012.0027L11.7079%2010.1267C11.3174%209.73617%2011.3174%209.103%2011.7079%208.71248C12.0984%208.32195%2012.7316%208.32195%2013.1221%208.71248L14.9982%2010.5885L16.8796%208.70702C17.2702%208.3165%2017.9033%208.3165%2018.2938%208.70702C18.6844%209.09755%2018.6844%209.73071%2018.2938%2010.1212L16.4124%2012.0027L18.293%2013.8833C18.6835%2014.2739%2018.6835%2014.907%2018.293%2015.2975C17.9025%2015.6881%2017.2693%2015.6881%2016.8788%2015.2975L14.9982%2013.4169L13.1213%2015.2938C12.7308%2015.6843%2012.0976%2015.6843%2011.7071%2015.2938Z'%20fill='%230F0F0F'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5.6131%205.14653C6.18186%204.42266%207.05148%204%207.97206%204H20C21.6568%204%2023%205.34315%2023%207V17C23%2018.6569%2021.6568%2020%2020%2020H7.97206C7.05148%2020%206.18186%2019.5773%205.6131%2018.8535L1.68453%2013.8535C0.829805%2012.7656%200.829807%2011.2344%201.68453%2010.1465L5.6131%205.14653ZM7.97206%206C7.6652%206%207.37533%206.14089%207.18574%206.38218L3.25717%2011.3822C2.97226%2011.7448%202.97226%2012.2552%203.25717%2012.6178L7.18574%2017.6178C7.37533%2017.8591%207.6652%2018%207.97206%2018H20C20.5523%2018%2021%2017.5523%2021%2017V7C21%206.44772%2020.5523%206%2020%206H7.97206Z'%20fill='%230F0F0F'/%3e%3c/svg%3e",MR=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["ENTER","Z","X","C","V","B","N","M","BACKSPACE"]];function kR(r,t){const{handleKeyClick:e}=R.useContext(Th),[s,o]=R.useState(new Map),l=(f,d)=>{setTimeout(()=>{s.get(f)!=="green"&&o(m=>{const g=new Map(m);return g.set(f,d),g})},1700)};return R.useImperativeHandle(t,()=>({udpateKeyColor:l})),N.jsx("div",{className:`keyboard ${r.darkMode}`,children:MR.map((f,d)=>N.jsx(PR,{keyboardRow:f,index:d,handleKeyClick:e,keyColors:s},d))})}const VR=R.forwardRef(kR);function PR({keyboardRow:r,index:t,keyColors:e}){const{handleKeyClick:s}=R.useContext(Th),o=`keyboard-row ${t+1}`;return N.jsx("div",{className:o,children:r.map((l,f)=>N.jsx(LR,{keyboardKey:l,keyColors:e},f))})}function LR({keyboardKey:r,keyColors:t}){const{handleKeyClick:e}=R.useContext(Th),o=`keyboard-key ${r.length>1?r.toLowerCase():"key-letter"} ${t.get(r)}`,l=r==="BACKSPACE"?null:r;return N.jsxs("button",{className:o,onClick:e,id:r,children:[r==="BACKSPACE"&&N.jsx("img",{className:"backspace-img",src:DR,alt:"backspace.svg"}),l]})}var UR=ZT();const ya=Bu(UR);function jR(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}const BR=r=>{switch(r){case"success":return qR;case"info":return $R;case"warning":return FR;case"error":return GR;default:return null}},zR=Array(12).fill(0),HR=({visible:r,className:t})=>ut.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":r},ut.createElement("div",{className:"sonner-spinner"},zR.map((e,s)=>ut.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),qR=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FR=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$R=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),GR=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KR=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ut.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ut.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),YR=()=>{const[r,t]=ut.useState(document.hidden);return ut.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),r};let bm=1;class QR{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:s,...o}=t,l=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:bm++,f=this.toasts.find(m=>m.id===l),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),f?this.toasts=this.toasts.map(m=>m.id===l?(this.publish({...m,...t,id:l,title:s}),{...m,...t,id:l,dismissible:d,title:s}):m):this.addToast({title:s,...o,dismissible:d,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let l=s!==void 0,f;const d=o.then(async g=>{if(f=["resolve",g],ut.isValidElement(g))l=!1,this.create({id:s,type:"default",message:g});else if(WR(g)&&!g.ok){l=!1;const _=typeof e.error=="function"?await e.error(`HTTP error! status: ${g.status}`):e.error,b=typeof e.description=="function"?await e.description(`HTTP error! status: ${g.status}`):e.description,U=typeof _=="object"&&!ut.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:b,...U})}else if(g instanceof Error){l=!1;const _=typeof e.error=="function"?await e.error(g):e.error,b=typeof e.description=="function"?await e.description(g):e.description,U=typeof _=="object"&&!ut.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:b,...U})}else if(e.success!==void 0){l=!1;const _=typeof e.success=="function"?await e.success(g):e.success,b=typeof e.description=="function"?await e.description(g):e.description,U=typeof _=="object"&&!ut.isValidElement(_)?_:{message:_};this.create({id:s,type:"success",description:b,...U})}}).catch(async g=>{if(f=["reject",g],e.error!==void 0){l=!1;const y=typeof e.error=="function"?await e.error(g):e.error,_=typeof e.description=="function"?await e.description(g):e.description,D=typeof y=="object"&&!ut.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:_,...D})}}).finally(()=>{l&&(this.dismiss(s),s=void 0),e.finally==null||e.finally.call(e)}),m=()=>new Promise((g,y)=>d.then(()=>f[0]==="reject"?y(f[1]):g(f[1])).catch(y));return typeof s!="string"&&typeof s!="number"?{unwrap:m}:Object.assign(s,{unwrap:m})},this.custom=(t,e)=>{const s=(e==null?void 0:e.id)||bm++;return this.create({jsx:t(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Mn=new QR,XR=(r,t)=>{const e=(t==null?void 0:t.id)||bm++;return Mn.addToast({title:r,...t,id:e}),e},WR=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",ZR=XR,JR=()=>Mn.toasts,tC=()=>Mn.getActiveToasts(),_a=Object.assign(ZR,{success:Mn.success,info:Mn.info,warning:Mn.warning,error:Mn.error,custom:Mn.custom,message:Mn.message,promise:Mn.promise,dismiss:Mn.dismiss,loading:Mn.loading},{getHistory:JR,getToasts:tC});jR("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Sf(r){return r.label!==void 0}const eC=3,nC="24px",rC="16px",H0=4e3,iC=356,sC=14,aC=45,oC=200;function zr(...r){return r.filter(Boolean).join(" ")}function lC(r){const[t,e]=r.split("-"),s=[];return t&&s.push(t),e&&s.push(e),s}const uC=r=>{var t,e,s,o,l,f,d,m,g;const{invert:y,toast:_,unstyled:b,interacting:D,setHeights:U,visibleToasts:H,heights:L,index:J,toasts:nt,expanded:X,removeToast:rt,defaultRichColors:tt,closeButton:W,style:x,cancelButtonStyle:A,actionButtonStyle:I,className:M="",descriptionClassName:O="",duration:k,position:C,gap:xt,expandByDefault:Tt,classNames:B,icons:at,closeButtonAriaLabel:ht="Close toast"}=r,[yt,V]=ut.useState(null),[K,st]=ut.useState(null),[Z,ft]=ut.useState(!1),[gt,pt]=ut.useState(!1),[Gt,Mt]=ut.useState(!1),[fe,ye]=ut.useState(!1),[Ne,Be]=ut.useState(!1),[Qe,De]=ut.useState(0),[Kt,Tn]=ut.useState(0),ue=ut.useRef(_.duration||k||H0),Ar=ut.useRef(null),ze=ut.useRef(null),Xe=J===0,dn=J+1<=H,Te=_.type,We=_.dismissible!==!1,Rn=_.className||"",fr=_.descriptionClassName||"",_t=ut.useMemo(()=>L.findIndex(wt=>wt.toastId===_.id)||0,[L,_.id]),Pt=ut.useMemo(()=>{var wt;return(wt=_.closeButton)!=null?wt:W},[_.closeButton,W]),be=ut.useMemo(()=>_.duration||k||H0,[_.duration,k]),Me=ut.useRef(0),hr=ut.useRef(0),Ua=ut.useRef(0),Cn=ut.useRef(null),[Jr,ti]=C.split("-"),In=ut.useMemo(()=>L.reduce((wt,pe,de)=>de>=_t?wt:wt+pe.height,0),[L,_t]),ei=YR(),ni=_.invert||y,ri=Te==="loading";hr.current=ut.useMemo(()=>_t*xt+In,[_t,In]),ut.useEffect(()=>{ue.current=be},[be]),ut.useEffect(()=>{ft(!0)},[]),ut.useEffect(()=>{const wt=ze.current;if(wt){const pe=wt.getBoundingClientRect().height;return Tn(pe),U(de=>[{toastId:_.id,height:pe,position:_.position},...de]),()=>U(de=>de.filter(ke=>ke.toastId!==_.id))}},[U,_.id]),ut.useLayoutEffect(()=>{if(!Z)return;const wt=ze.current,pe=wt.style.height;wt.style.height="auto";const de=wt.getBoundingClientRect().height;wt.style.height=pe,Tn(de),U(ke=>ke.find(we=>we.toastId===_.id)?ke.map(we=>we.toastId===_.id?{...we,height:de}:we):[{toastId:_.id,height:de,position:_.position},...ke])},[Z,_.title,_.description,U,_.id,_.jsx,_.action,_.cancel]);const xn=ut.useCallback(()=>{pt(!0),De(hr.current),U(wt=>wt.filter(pe=>pe.toastId!==_.id)),setTimeout(()=>{rt(_)},oC)},[_,rt,U,hr]);ut.useEffect(()=>{if(_.promise&&Te==="loading"||_.duration===1/0||_.type==="loading")return;let wt;return X||D||ei?(()=>{if(Ua.current<Me.current){const ke=new Date().getTime()-Me.current;ue.current=ue.current-ke}Ua.current=new Date().getTime()})():(()=>{ue.current!==1/0&&(Me.current=new Date().getTime(),wt=setTimeout(()=>{_.onAutoClose==null||_.onAutoClose.call(_,_),xn()},ue.current))})(),()=>clearTimeout(wt)},[X,D,_,Te,ei,xn]),ut.useEffect(()=>{_.delete&&(xn(),_.onDismiss==null||_.onDismiss.call(_,_))},[xn,_.delete]);function zs(){var wt;if(at!=null&&at.loading){var pe;return ut.createElement("div",{className:zr(B==null?void 0:B.loader,_==null||(pe=_.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":Te==="loading"},at.loading)}return ut.createElement(HR,{className:zr(B==null?void 0:B.loader,_==null||(wt=_.classNames)==null?void 0:wt.loader),visible:Te==="loading"})}const dr=_.icon||(at==null?void 0:at[Te])||BR(Te);var Kn,$i;return ut.createElement("li",{tabIndex:0,ref:ze,className:zr(M,Rn,B==null?void 0:B.toast,_==null||(t=_.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[Te],_==null||(e=_.classNames)==null?void 0:e[Te]),"data-sonner-toast":"","data-rich-colors":(Kn=_.richColors)!=null?Kn:tt,"data-styled":!(_.jsx||_.unstyled||b),"data-mounted":Z,"data-promise":!!_.promise,"data-swiped":Ne,"data-removed":gt,"data-visible":dn,"data-y-position":Jr,"data-x-position":ti,"data-index":J,"data-front":Xe,"data-swiping":Gt,"data-dismissible":We,"data-type":Te,"data-invert":ni,"data-swipe-out":fe,"data-swipe-direction":K,"data-expanded":!!(X||Tt&&Z),style:{"--index":J,"--toasts-before":J,"--z-index":nt.length-J,"--offset":`${gt?Qe:hr.current}px`,"--initial-height":Tt?"auto":`${Kt}px`,...x,..._.style},onDragEnd:()=>{Mt(!1),V(null),Cn.current=null},onPointerDown:wt=>{ri||!We||(Ar.current=new Date,De(hr.current),wt.target.setPointerCapture(wt.pointerId),wt.target.tagName!=="BUTTON"&&(Mt(!0),Cn.current={x:wt.clientX,y:wt.clientY}))},onPointerUp:()=>{var wt,pe,de;if(fe||!We)return;Cn.current=null;const ke=Number(((wt=ze.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ln=Number(((pe=ze.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),we=new Date().getTime()-((de=Ar.current)==null?void 0:de.getTime()),zt=yt==="x"?ke:Ln,me=Math.abs(zt)/we;if(Math.abs(zt)>=aC||me>.11){De(hr.current),_.onDismiss==null||_.onDismiss.call(_,_),st(yt==="x"?ke>0?"right":"left":Ln>0?"down":"up"),xn(),ye(!0);return}else{var Zt,ge;(Zt=ze.current)==null||Zt.style.setProperty("--swipe-amount-x","0px"),(ge=ze.current)==null||ge.style.setProperty("--swipe-amount-y","0px")}Be(!1),Mt(!1),V(null)},onPointerMove:wt=>{var pe,de,ke;if(!Cn.current||!We||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;const we=wt.clientY-Cn.current.y,zt=wt.clientX-Cn.current.x;var me;const Zt=(me=r.swipeDirections)!=null?me:lC(C);!yt&&(Math.abs(zt)>1||Math.abs(we)>1)&&V(Math.abs(zt)>Math.abs(we)?"x":"y");let ge={x:0,y:0};const Gi=pr=>1/(1.5+Math.abs(pr)/20);if(yt==="y"){if(Zt.includes("top")||Zt.includes("bottom"))if(Zt.includes("top")&&we<0||Zt.includes("bottom")&&we>0)ge.y=we;else{const pr=we*Gi(we);ge.y=Math.abs(pr)<Math.abs(we)?pr:we}}else if(yt==="x"&&(Zt.includes("left")||Zt.includes("right")))if(Zt.includes("left")&&zt<0||Zt.includes("right")&&zt>0)ge.x=zt;else{const pr=zt*Gi(zt);ge.x=Math.abs(pr)<Math.abs(zt)?pr:zt}(Math.abs(ge.x)>0||Math.abs(ge.y)>0)&&Be(!0),(de=ze.current)==null||de.style.setProperty("--swipe-amount-x",`${ge.x}px`),(ke=ze.current)==null||ke.style.setProperty("--swipe-amount-y",`${ge.y}px`)}},Pt&&!_.jsx&&Te!=="loading"?ut.createElement("button",{"aria-label":ht,"data-disabled":ri,"data-close-button":!0,onClick:ri||!We?()=>{}:()=>{xn(),_.onDismiss==null||_.onDismiss.call(_,_)},className:zr(B==null?void 0:B.closeButton,_==null||(s=_.classNames)==null?void 0:s.closeButton)},($i=at==null?void 0:at.close)!=null?$i:KR):null,(Te||_.icon||_.promise)&&_.icon!==null&&((at==null?void 0:at[Te])!==null||_.icon)?ut.createElement("div",{"data-icon":"",className:zr(B==null?void 0:B.icon,_==null||(o=_.classNames)==null?void 0:o.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||zs():null,_.type!=="loading"?dr:null):null,ut.createElement("div",{"data-content":"",className:zr(B==null?void 0:B.content,_==null||(l=_.classNames)==null?void 0:l.content)},ut.createElement("div",{"data-title":"",className:zr(B==null?void 0:B.title,_==null||(f=_.classNames)==null?void 0:f.title)},_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title),_.description?ut.createElement("div",{"data-description":"",className:zr(O,fr,B==null?void 0:B.description,_==null||(d=_.classNames)==null?void 0:d.description)},typeof _.description=="function"?_.description():_.description):null),ut.isValidElement(_.cancel)?_.cancel:_.cancel&&Sf(_.cancel)?ut.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||A,onClick:wt=>{Sf(_.cancel)&&We&&(_.cancel.onClick==null||_.cancel.onClick.call(_.cancel,wt),xn())},className:zr(B==null?void 0:B.cancelButton,_==null||(m=_.classNames)==null?void 0:m.cancelButton)},_.cancel.label):null,ut.isValidElement(_.action)?_.action:_.action&&Sf(_.action)?ut.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||I,onClick:wt=>{Sf(_.action)&&(_.action.onClick==null||_.action.onClick.call(_.action,wt),!wt.defaultPrevented&&xn())},className:zr(B==null?void 0:B.actionButton,_==null||(g=_.classNames)==null?void 0:g.actionButton)},_.action.label):null)};function q0(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function cC(r,t){const e={};return[r,t].forEach((s,o)=>{const l=o===1,f=l?"--mobile-offset":"--offset",d=l?rC:nC;function m(g){["top","right","bottom","left"].forEach(y=>{e[`${f}-${y}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?m(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?e[`${f}-${g}`]=d:e[`${f}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):m(d)}),e}const rg=ut.forwardRef(function(t,e){const{invert:s,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:f,closeButton:d,className:m,offset:g,mobileOffset:y,theme:_="light",richColors:b,duration:D,style:U,visibleToasts:H=eC,toastOptions:L,dir:J=q0(),gap:nt=sC,icons:X,containerAriaLabel:rt="Notifications"}=t,[tt,W]=ut.useState([]),x=ut.useMemo(()=>Array.from(new Set([o].concat(tt.filter(K=>K.position).map(K=>K.position)))),[tt,o]),[A,I]=ut.useState([]),[M,O]=ut.useState(!1),[k,C]=ut.useState(!1),[xt,Tt]=ut.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=ut.useRef(null),at=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ht=ut.useRef(null),yt=ut.useRef(!1),V=ut.useCallback(K=>{W(st=>{var Z;return(Z=st.find(ft=>ft.id===K.id))!=null&&Z.delete||Mn.dismiss(K.id),st.filter(({id:ft})=>ft!==K.id)})},[]);return ut.useEffect(()=>Mn.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{W(st=>st.map(Z=>Z.id===K.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{ya.flushSync(()=>{W(st=>{const Z=st.findIndex(ft=>ft.id===K.id);return Z!==-1?[...st.slice(0,Z),{...st[Z],...K},...st.slice(Z+1)]:[K,...st]})})})}),[tt]),ut.useEffect(()=>{if(_!=="system"){Tt(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Tt("dark"):Tt("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:st})=>{Tt(st?"dark":"light")})}catch{K.addListener(({matches:Z})=>{try{Tt(Z?"dark":"light")}catch(ft){console.error(ft)}})}},[_]),ut.useEffect(()=>{tt.length<=1&&O(!1)},[tt]),ut.useEffect(()=>{const K=st=>{var Z;if(l.every(pt=>st[pt]||st.code===pt)){var gt;O(!0),(gt=B.current)==null||gt.focus()}st.code==="Escape"&&(document.activeElement===B.current||(Z=B.current)!=null&&Z.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[l]),ut.useEffect(()=>{if(B.current)return()=>{ht.current&&(ht.current.focus({preventScroll:!0}),ht.current=null,yt.current=!1)}},[B.current]),ut.createElement("section",{ref:e,"aria-label":`${rt} ${at}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((K,st)=>{var Z;const[ft,gt]=K.split("-");return tt.length?ut.createElement("ol",{key:K,dir:J==="auto"?q0():J,tabIndex:-1,ref:B,className:m,"data-sonner-toaster":!0,"data-sonner-theme":xt,"data-y-position":ft,"data-x-position":gt,style:{"--front-toast-height":`${((Z=A[0])==null?void 0:Z.height)||0}px`,"--width":`${iC}px`,"--gap":`${nt}px`,...U,...cC(g,y)},onBlur:pt=>{yt.current&&!pt.currentTarget.contains(pt.relatedTarget)&&(yt.current=!1,ht.current&&(ht.current.focus({preventScroll:!0}),ht.current=null))},onFocus:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||yt.current||(yt.current=!0,ht.current=pt.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{k||O(!1)},onDragEnd:()=>O(!1),onPointerDown:pt=>{pt.target instanceof HTMLElement&&pt.target.dataset.dismissible==="false"||C(!0)},onPointerUp:()=>C(!1)},tt.filter(pt=>!pt.position&&st===0||pt.position===K).map((pt,Gt)=>{var Mt,fe;return ut.createElement(uC,{key:pt.id,icons:X,index:Gt,toast:pt,defaultRichColors:b,duration:(Mt=L==null?void 0:L.duration)!=null?Mt:D,className:L==null?void 0:L.className,descriptionClassName:L==null?void 0:L.descriptionClassName,invert:s,visibleToasts:H,closeButton:(fe=L==null?void 0:L.closeButton)!=null?fe:d,interacting:k,position:K,style:L==null?void 0:L.style,unstyled:L==null?void 0:L.unstyled,classNames:L==null?void 0:L.classNames,cancelButtonStyle:L==null?void 0:L.cancelButtonStyle,actionButtonStyle:L==null?void 0:L.actionButtonStyle,closeButtonAriaLabel:L==null?void 0:L.closeButtonAriaLabel,removeToast:V,toasts:tt.filter(ye=>ye.position==pt.position),heights:A.filter(ye=>ye.position==pt.position),setHeights:I,expandByDefault:f,gap:nt,expanded:M,swipeDirections:t.swipeDirections})})):null}))});var Wp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var F0;function fC(){return F0||(F0=1,function(r){(function(){var t={}.hasOwnProperty;function e(){for(var l="",f=0;f<arguments.length;f++){var d=arguments[f];d&&(l=o(l,s(d)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return e.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var f="";for(var d in l)t.call(l,d)&&l[d]&&(f=o(f,d));return f}function o(l,f){return f?l?l+" "+f:l+f:l}r.exports?(e.default=e,r.exports=e):window.classNames=e})()}(Wp)),Wp.exports}var hC=fC();const bt=Bu(hC);function wm(){return wm=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},wm.apply(null,arguments)}function JT(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)!==-1)continue;e[s]=r[s]}return e}function $0(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function dC(r){var t=pC(r,"string");return typeof t=="symbol"?t:String(t)}function pC(r,t){if(typeof r!="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var s=e.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function mC(r,t,e){var s=R.useRef(r!==void 0),o=R.useState(t),l=o[0],f=o[1],d=r!==void 0,m=s.current;return s.current=d,!d&&m&&l!==t&&f(t),[d?r:l,R.useCallback(function(g){for(var y=arguments.length,_=new Array(y>1?y-1:0),b=1;b<y;b++)_[b-1]=arguments[b];e&&e.apply(void 0,[g].concat(_)),f(g)},[e])]}function bh(r,t){return Object.keys(t).reduce(function(e,s){var o,l=e,f=l[$0(s)],d=l[s],m=JT(l,[$0(s),s].map(dC)),g=t[s],y=mC(d,f,r[g]),_=y[0],b=y[1];return wm({},m,(o={},o[s]=_,o[g]=b,o))},r)}function Sm(r,t){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},Sm(r,t)}function gC(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,Sm(r,t)}const vC=["xxl","xl","lg","md","sm","xs"],yC="xs",zu=R.createContext({prefixes:{},breakpoints:vC,minBreakpoint:yC}),{Consumer:xV,Provider:OV}=zu;function Dt(r,t){const{prefixes:e}=R.useContext(zu);return r||e[t]||t}function _C(){const{breakpoints:r}=R.useContext(zu);return r}function EC(){const{minBreakpoint:r}=R.useContext(zu);return r}function tb(){const{dir:r}=R.useContext(zu);return r==="rtl"}function Hu(r){return r&&r.ownerDocument||document}function TC(r){var t=Hu(r);return t&&t.defaultView||window}function bC(r,t){return TC(r).getComputedStyle(r,t)}var wC=/([A-Z])/g;function SC(r){return r.replace(wC,"-$1").toLowerCase()}var AC=/^ms-/;function Af(r){return SC(r).replace(AC,"-ms-")}var RC=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function CC(r){return!!(r&&RC.test(r))}function Di(r,t){var e="",s="";if(typeof t=="string")return r.style.getPropertyValue(Af(t))||bC(r).getPropertyValue(Af(t));Object.keys(t).forEach(function(o){var l=t[o];!l&&l!==0?r.style.removeProperty(Af(o)):CC(o)?s+=o+"("+l+") ":e+=Af(o)+": "+l+";"}),s&&(e+="transform: "+s+";"),r.style.cssText+=";"+e}var Zp={exports:{}},Jp,G0;function IC(){if(G0)return Jp;G0=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jp=r,Jp}var tm,K0;function xC(){if(K0)return tm;K0=1;var r=IC();function t(){}function e(){}return e.resetWarningCache=t,tm=function(){function s(f,d,m,g,y,_){if(_!==r){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},tm}var Y0;function OC(){return Y0||(Y0=1,Zp.exports=xC()()),Zp.exports}var NC=OC();const Mi=Bu(NC),Q0={disabled:!1},eb=ut.createContext(null);var DC=function(t){return t.scrollTop},cu="unmounted",_s="exited",Er="entering",xi="entered",Au="exiting",qi=function(r){gC(t,r);function t(s,o){var l;l=r.call(this,s,o)||this;var f=o,d=f&&!f.isMounting?s.enter:s.appear,m;return l.appearStatus=null,s.in?d?(m=_s,l.appearStatus=Er):m=xi:s.unmountOnExit||s.mountOnEnter?m=cu:m=_s,l.state={status:m},l.nextCallback=null,l}t.getDerivedStateFromProps=function(o,l){var f=o.in;return f&&l.status===cu?{status:_s}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(o){var l=null;if(o!==this.props){var f=this.state.status;this.props.in?f!==Er&&f!==xi&&(l=Er):(f===Er||f===xi)&&(l=Au)}this.updateStatus(!1,l)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o=this.props.timeout,l,f,d;return l=f=d=o,o!=null&&typeof o!="number"&&(l=o.exit,f=o.enter,d=o.appear!==void 0?o.appear:f),{exit:l,enter:f,appear:d}},e.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===Er){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:ya.findDOMNode(this);f&&DC(f)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_s&&this.setState({status:cu})},e.performEnter=function(o){var l=this,f=this.props.enter,d=this.context?this.context.isMounting:o,m=this.props.nodeRef?[d]:[ya.findDOMNode(this),d],g=m[0],y=m[1],_=this.getTimeouts(),b=d?_.appear:_.enter;if(!o&&!f||Q0.disabled){this.safeSetState({status:xi},function(){l.props.onEntered(g)});return}this.props.onEnter(g,y),this.safeSetState({status:Er},function(){l.props.onEntering(g,y),l.onTransitionEnd(b,function(){l.safeSetState({status:xi},function(){l.props.onEntered(g,y)})})})},e.performExit=function(){var o=this,l=this.props.exit,f=this.getTimeouts(),d=this.props.nodeRef?void 0:ya.findDOMNode(this);if(!l||Q0.disabled){this.safeSetState({status:_s},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Au},function(){o.props.onExiting(d),o.onTransitionEnd(f.exit,function(){o.safeSetState({status:_s},function(){o.props.onExited(d)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},e.setNextCallback=function(o){var l=this,f=!0;return this.nextCallback=function(d){f&&(f=!1,l.nextCallback=null,o(d))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},e.onTransitionEnd=function(o,l){this.setNextCallback(l);var f=this.props.nodeRef?this.props.nodeRef.current:ya.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!f||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],g=m[0],y=m[1];this.props.addEndListener(g,y)}o!=null&&setTimeout(this.nextCallback,o)},e.render=function(){var o=this.state.status;if(o===cu)return null;var l=this.props,f=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=JT(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ut.createElement(eb.Provider,{value:null},typeof f=="function"?f(o,d):ut.cloneElement(ut.Children.only(f),d))},t}(ut.Component);qi.contextType=eb;qi.propTypes={};function Io(){}qi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Io,onEntering:Io,onEntered:Io,onExit:Io,onExiting:Io,onExited:Io};qi.UNMOUNTED=cu;qi.EXITED=_s;qi.ENTERING=Er;qi.ENTERED=xi;qi.EXITING=Au;function MC(r){return r.code==="Escape"||r.keyCode===27}function kC(){const r=R.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function Wo(r){if(!r||typeof r=="function")return null;const{major:t}=kC();return t>=19?r.props.ref:r.ref}const Zo=!!(typeof window<"u"&&window.document&&window.document.createElement);var Am=!1,Rm=!1;try{var em={get passive(){return Am=!0},get once(){return Rm=Am=!0}};Zo&&(window.addEventListener("test",em,em),window.removeEventListener("test",em,!0))}catch{}function ig(r,t,e,s){if(s&&typeof s!="boolean"&&!Rm){var o=s.once,l=s.capture,f=e;!Rm&&o&&(f=e.__once||function d(m){this.removeEventListener(t,d,l),e.call(this,m)},e.__once=f),r.addEventListener(t,f,Am?s:l)}r.addEventListener(t,e,s)}function Cm(r,t,e,s){var o=s&&typeof s!="boolean"?s.capture:s;r.removeEventListener(t,e,o),e.__once&&r.removeEventListener(t,e.__once,o)}function Ss(r,t,e,s){return ig(r,t,e,s),function(){Cm(r,t,e,s)}}function VC(r,t,e,s){if(s===void 0&&(s=!0),r){var o=document.createEvent("HTMLEvents");o.initEvent(t,e,s),r.dispatchEvent(o)}}function PC(r){var t=Di(r,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function LC(r,t,e){e===void 0&&(e=5);var s=!1,o=setTimeout(function(){s||VC(r,"transitionend",!0)},t+e),l=Ss(r,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function nb(r,t,e,s){e==null&&(e=PC(r)||0);var o=LC(r,e,s),l=Ss(r,"transitionend",t);return function(){o(),l()}}function X0(r,t){const e=Di(r,t)||"",s=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*s}function sg(r,t){const e=X0(r,"transitionDuration"),s=X0(r,"transitionDelay"),o=nb(r,l=>{l.target===r&&(o(),t(l))},e+s)}function lu(...r){return r.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...o){t.apply(this,o),e.apply(this,o)}},null)}function rb(r){r.offsetHeight}const W0=r=>!r||typeof r=="function"?r:t=>{r.current=t};function UC(r,t){const e=W0(r),s=W0(t);return o=>{e&&e(o),s&&s(o)}}function wh(r,t){return R.useMemo(()=>UC(r,t),[r,t])}function jC(r){return r&&"setState"in r?ya.findDOMNode(r):r??null}const Sh=ut.forwardRef(({onEnter:r,onEntering:t,onEntered:e,onExit:s,onExiting:o,onExited:l,addEndListener:f,children:d,childRef:m,...g},y)=>{const _=R.useRef(null),b=wh(_,m),D=W=>{b(jC(W))},U=W=>x=>{W&&_.current&&W(_.current,x)},H=R.useCallback(U(r),[r]),L=R.useCallback(U(t),[t]),J=R.useCallback(U(e),[e]),nt=R.useCallback(U(s),[s]),X=R.useCallback(U(o),[o]),rt=R.useCallback(U(l),[l]),tt=R.useCallback(U(f),[f]);return N.jsx(qi,{ref:y,...g,onEnter:H,onEntered:J,onEntering:L,onExit:nt,onExited:rt,onExiting:X,addEndListener:tt,nodeRef:_,children:typeof d=="function"?(W,x)=>d(W,{...x,ref:D}):ut.cloneElement(d,{ref:D})})});Sh.displayName="TransitionWrapper";const BC={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function zC(r,t){const e=`offset${r[0].toUpperCase()}${r.slice(1)}`,s=t[e],o=BC[r];return s+parseInt(Di(t,o[0]),10)+parseInt(Di(t,o[1]),10)}const HC={[_s]:"collapse",[Au]:"collapsing",[Er]:"collapsing",[xi]:"collapse show"},ag=ut.forwardRef(({onEnter:r,onEntering:t,onEntered:e,onExit:s,onExiting:o,className:l,children:f,dimension:d="height",in:m=!1,timeout:g=300,mountOnEnter:y=!1,unmountOnExit:_=!1,appear:b=!1,getDimensionValue:D=zC,...U},H)=>{const L=typeof d=="function"?d():d,J=R.useMemo(()=>lu(W=>{W.style[L]="0"},r),[L,r]),nt=R.useMemo(()=>lu(W=>{const x=`scroll${L[0].toUpperCase()}${L.slice(1)}`;W.style[L]=`${W[x]}px`},t),[L,t]),X=R.useMemo(()=>lu(W=>{W.style[L]=null},e),[L,e]),rt=R.useMemo(()=>lu(W=>{W.style[L]=`${D(L,W)}px`,rb(W)},s),[s,D,L]),tt=R.useMemo(()=>lu(W=>{W.style[L]=null},o),[L,o]);return N.jsx(Sh,{ref:H,addEndListener:sg,...U,"aria-expanded":U.role?m:null,onEnter:J,onEntering:nt,onEntered:X,onExit:rt,onExiting:tt,childRef:Wo(f),in:m,timeout:g,mountOnEnter:y,unmountOnExit:_,appear:b,children:(W,x)=>ut.cloneElement(f,{...x,className:bt(l,f.props.className,HC[W],L==="width"&&"collapse-horizontal")})})});ag.displayName="Collapse";function ib(r,t){return Array.isArray(r)?r.includes(t):r===t}const qu=R.createContext({});qu.displayName="AccordionContext";const og=R.forwardRef(({as:r="div",bsPrefix:t,className:e,children:s,eventKey:o,...l},f)=>{const{activeEventKey:d}=R.useContext(qu);return t=Dt(t,"accordion-collapse"),N.jsx(ag,{ref:f,in:ib(d,o),...l,className:bt(e,t),children:N.jsx(r,{children:R.Children.only(s)})})});og.displayName="AccordionCollapse";const Ah=R.createContext({eventKey:""});Ah.displayName="AccordionItemContext";const sb=R.forwardRef(({as:r="div",bsPrefix:t,className:e,onEnter:s,onEntering:o,onEntered:l,onExit:f,onExiting:d,onExited:m,...g},y)=>{t=Dt(t,"accordion-body");const{eventKey:_}=R.useContext(Ah);return N.jsx(og,{eventKey:_,onEnter:s,onEntering:o,onEntered:l,onExit:f,onExiting:d,onExited:m,children:N.jsx(r,{ref:y,...g,className:bt(e,t)})})});sb.displayName="AccordionBody";function qC(r,t){const{activeEventKey:e,onSelect:s,alwaysOpen:o}=R.useContext(qu);return l=>{let f=r===e?null:r;o&&(Array.isArray(e)?e.includes(r)?f=e.filter(d=>d!==r):f=[...e,r]:f=[r]),s==null||s(f,l),t==null||t(l)}}const lg=R.forwardRef(({as:r="button",bsPrefix:t,className:e,onClick:s,...o},l)=>{t=Dt(t,"accordion-button");const{eventKey:f}=R.useContext(Ah),d=qC(f,s),{activeEventKey:m}=R.useContext(qu);return r==="button"&&(o.type="button"),N.jsx(r,{ref:l,onClick:d,...o,"aria-expanded":Array.isArray(m)?m.includes(f):f===m,className:bt(e,t,!ib(m,f)&&"collapsed")})});lg.displayName="AccordionButton";const ab=R.forwardRef(({as:r="h2","aria-controls":t,bsPrefix:e,className:s,children:o,onClick:l,...f},d)=>(e=Dt(e,"accordion-header"),N.jsx(r,{ref:d,...f,className:bt(s,e),children:N.jsx(lg,{onClick:l,"aria-controls":t,children:o})})));ab.displayName="AccordionHeader";const ob=R.forwardRef(({as:r="div",bsPrefix:t,className:e,eventKey:s,...o},l)=>{t=Dt(t,"accordion-item");const f=R.useMemo(()=>({eventKey:s}),[s]);return N.jsx(Ah.Provider,{value:f,children:N.jsx(r,{ref:l,...o,className:bt(e,t)})})});ob.displayName="AccordionItem";const lb=R.forwardRef((r,t)=>{const{as:e="div",activeKey:s,bsPrefix:o,className:l,onSelect:f,flush:d,alwaysOpen:m,...g}=bh(r,{activeKey:"onSelect"}),y=Dt(o,"accordion"),_=R.useMemo(()=>({activeEventKey:s,onSelect:f,alwaysOpen:m}),[s,f,m]);return N.jsx(qu.Provider,{value:_,children:N.jsx(e,{ref:t,...g,className:bt(l,y,d&&`${y}-flush`)})})});lb.displayName="Accordion";const Rf=Object.assign(lb,{Button:lg,Collapse:og,Item:ob,Header:ab,Body:sb});function FC(r){const t=R.useRef(r);return R.useEffect(()=>{t.current=r},[r]),t}function wa(r){const t=FC(r);return R.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const ub=r=>R.forwardRef((t,e)=>N.jsx("div",{...t,ref:e,className:bt(t.className,r)}));function $C(){return R.useState(null)}function GC(r){const t=R.useRef(r);return R.useEffect(()=>{t.current=r},[r]),t}function _n(r){const t=GC(r);return R.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function KC(r,t,e,s=!1){const o=_n(e);R.useEffect(()=>{const l=typeof r=="function"?r():r;return l.addEventListener(t,o,s),()=>l.removeEventListener(t,o,s)},[r])}function cb(){const r=R.useRef(!0),t=R.useRef(()=>r.current);return R.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),t.current}function fb(r){const t=R.useRef(null);return R.useEffect(()=>{t.current=r}),t.current}const YC=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",QC=typeof document<"u",Z0=QC||YC?R.useLayoutEffect:R.useEffect,XC=["as","disabled"];function WC(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function ZC(r){return!r||r.trim()==="#"}function ug({tagName:r,disabled:t,href:e,target:s,rel:o,role:l,onClick:f,tabIndex:d=0,type:m}){r||(e!=null||s!=null||o!=null?r="a":r="button");const g={tagName:r};if(r==="button")return[{type:m||"button",disabled:t},g];const y=b=>{if((t||r==="a"&&ZC(e))&&b.preventDefault(),t){b.stopPropagation();return}f==null||f(b)},_=b=>{b.key===" "&&(b.preventDefault(),y(b))};return r==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:d,href:e,target:r==="a"?s:void 0,"aria-disabled":t||void 0,rel:r==="a"?o:void 0,onClick:y,onKeyDown:_},g]}const cg=R.forwardRef((r,t)=>{let{as:e,disabled:s}=r,o=WC(r,XC);const[l,{tagName:f}]=ug(Object.assign({tagName:e,disabled:s},o));return N.jsx(f,Object.assign({},o,l,{ref:t}))});cg.displayName="Button";const JC=["onKeyDown"];function t2(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function e2(r){return!r||r.trim()==="#"}const fg=R.forwardRef((r,t)=>{let{onKeyDown:e}=r,s=t2(r,JC);const[o]=ug(Object.assign({tagName:"a"},s)),l=_n(f=>{o.onKeyDown(f),e==null||e(f)});return e2(s.href)||s.role==="button"?N.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:l})):N.jsx("a",Object.assign({ref:t},s,{onKeyDown:e}))});fg.displayName="Anchor";const n2={[Er]:"show",[xi]:"show"},Rh=R.forwardRef(({className:r,children:t,transitionClasses:e={},onEnter:s,...o},l)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=R.useCallback((m,g)=>{rb(m),s==null||s(m,g)},[s]);return N.jsx(Sh,{ref:l,addEndListener:sg,...f,onEnter:d,childRef:Wo(t),children:(m,g)=>R.cloneElement(t,{...g,className:bt("fade",r,t.props.className,n2[m],e[m])})})});Rh.displayName="Fade";const r2={"aria-label":Mi.string,onClick:Mi.func,variant:Mi.oneOf(["white"])},hg=R.forwardRef(({className:r,variant:t,"aria-label":e="Close",...s},o)=>N.jsx("button",{ref:o,type:"button",className:bt("btn-close",t&&`btn-close-${t}`,r),"aria-label":e,...s}));hg.displayName="CloseButton";hg.propTypes=r2;const Pi=R.forwardRef(({as:r,bsPrefix:t,variant:e="primary",size:s,active:o=!1,disabled:l=!1,className:f,...d},m)=>{const g=Dt(t,"btn"),[y,{tagName:_}]=ug({tagName:r,disabled:l,...d}),b=_;return N.jsx(b,{...y,...d,ref:m,disabled:l,className:bt(f,g,o&&"active",e&&`${g}-${e}`,s&&`${g}-${s}`,d.href&&l&&"disabled")})});Pi.displayName="Button";const hb=R.createContext(null);hb.displayName="CardHeaderContext";function i2(r){const t=R.useRef(r);return t.current=r,t}function s2(r){const t=i2(r);R.useEffect(()=>()=>t.current(),[])}function a2(r,t){return R.Children.toArray(r).some(e=>R.isValidElement(e)&&e.type===t)}function o2({as:r,bsPrefix:t,className:e,...s}){t=Dt(t,"col");const o=_C(),l=EC(),f=[],d=[];return o.forEach(m=>{const g=s[m];delete s[m];let y,_,b;typeof g=="object"&&g!=null?{span:y,offset:_,order:b}=g:y=g;const D=m!==l?`-${m}`:"";y&&f.push(y===!0?`${t}${D}`:`${t}${D}-${y}`),b!=null&&d.push(`order${D}-${b}`),_!=null&&d.push(`offset${D}-${_}`)}),[{...s,className:bt(e,...f,...d)},{as:r,bsPrefix:t,spans:f}]}const db=R.forwardRef((r,t)=>{const[{className:e,...s},{as:o="div",bsPrefix:l,spans:f}]=o2(r);return N.jsx(o,{...s,ref:t,className:bt(e,!f.length&&l)})});db.displayName="Col";const sr=R.forwardRef(({bsPrefix:r,fluid:t=!1,as:e="div",className:s,...o},l)=>{const f=Dt(r,"container"),d=typeof t=="string"?`-${t}`:"-fluid";return N.jsx(e,{ref:l,...o,className:bt(s,t?`${f}${d}`:f)})});sr.displayName="Container";var l2=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ii(r,t){return l2(r.querySelectorAll(t))}function u2(r,t,e){const s=R.useRef(r!==void 0),[o,l]=R.useState(t),f=r!==void 0,d=s.current;return s.current=f,!f&&d&&o!==t&&l(t),[f?r:o,R.useCallback((...m)=>{const[g,...y]=m;let _=e==null?void 0:e(g,...y);return l(g),_},[e])]}function pb(){const[,r]=R.useReducer(t=>t+1,0);return r}const Ch=R.createContext(null);var J0=Object.prototype.hasOwnProperty;function tE(r,t,e){for(e of r.keys())if(gu(e,t))return e}function gu(r,t){var e,s,o;if(r===t)return!0;if(r&&t&&(e=r.constructor)===t.constructor){if(e===Date)return r.getTime()===t.getTime();if(e===RegExp)return r.toString()===t.toString();if(e===Array){if((s=r.length)===t.length)for(;s--&&gu(r[s],t[s]););return s===-1}if(e===Set){if(r.size!==t.size)return!1;for(s of r)if(o=s,o&&typeof o=="object"&&(o=tE(t,o),!o)||!t.has(o))return!1;return!0}if(e===Map){if(r.size!==t.size)return!1;for(s of r)if(o=s[0],o&&typeof o=="object"&&(o=tE(t,o),!o)||!gu(s[1],t.get(o)))return!1;return!0}if(e===ArrayBuffer)r=new Uint8Array(r),t=new Uint8Array(t);else if(e===DataView){if((s=r.byteLength)===t.byteLength)for(;s--&&r.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(r)){if((s=r.byteLength)===t.byteLength)for(;s--&&r[s]===t[s];);return s===-1}if(!e||typeof r=="object"){s=0;for(e in r)if(J0.call(r,e)&&++s&&!J0.call(t,e)||!(e in t)||!gu(r[e],t[e]))return!1;return Object.keys(t).length===s}}return r!==r&&t!==t}function c2(r){const t=cb();return[r[0],R.useCallback(e=>{if(t())return r[1](e)},[t,r[1]])]}var Vn="top",ur="bottom",cr="right",Pn="left",dg="auto",Fu=[Vn,ur,cr,Pn],jo="start",Ru="end",f2="clippingParents",mb="viewport",uu="popper",h2="reference",eE=Fu.reduce(function(r,t){return r.concat([t+"-"+jo,t+"-"+Ru])},[]),gb=[].concat(Fu,[dg]).reduce(function(r,t){return r.concat([t,t+"-"+jo,t+"-"+Ru])},[]),d2="beforeRead",p2="read",m2="afterRead",g2="beforeMain",v2="main",y2="afterMain",_2="beforeWrite",E2="write",T2="afterWrite",b2=[d2,p2,m2,g2,v2,y2,_2,E2,T2];function $r(r){return r.split("-")[0]}function Gn(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var t=r.ownerDocument;return t&&t.defaultView||window}return r}function Sa(r){var t=Gn(r).Element;return r instanceof t||r instanceof Element}function Gr(r){var t=Gn(r).HTMLElement;return r instanceof t||r instanceof HTMLElement}function pg(r){if(typeof ShadowRoot>"u")return!1;var t=Gn(r).ShadowRoot;return r instanceof t||r instanceof ShadowRoot}var ba=Math.max,Yf=Math.min,Bo=Math.round;function Im(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function vb(){return!/^((?!chrome|android).)*safari/i.test(Im())}function zo(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var s=r.getBoundingClientRect(),o=1,l=1;t&&Gr(r)&&(o=r.offsetWidth>0&&Bo(s.width)/r.offsetWidth||1,l=r.offsetHeight>0&&Bo(s.height)/r.offsetHeight||1);var f=Sa(r)?Gn(r):window,d=f.visualViewport,m=!vb()&&e,g=(s.left+(m&&d?d.offsetLeft:0))/o,y=(s.top+(m&&d?d.offsetTop:0))/l,_=s.width/o,b=s.height/l;return{width:_,height:b,top:y,right:g+_,bottom:y+b,left:g,x:g,y}}function mg(r){var t=zo(r),e=r.offsetWidth,s=r.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:r.offsetLeft,y:r.offsetTop,width:e,height:s}}function yb(r,t){var e=t.getRootNode&&t.getRootNode();if(r.contains(t))return!0;if(e&&pg(e)){var s=t;do{if(s&&r.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ns(r){return r?(r.nodeName||"").toLowerCase():null}function Li(r){return Gn(r).getComputedStyle(r)}function w2(r){return["table","td","th"].indexOf(Ns(r))>=0}function Us(r){return((Sa(r)?r.ownerDocument:r.document)||window.document).documentElement}function Ih(r){return Ns(r)==="html"?r:r.assignedSlot||r.parentNode||(pg(r)?r.host:null)||Us(r)}function nE(r){return!Gr(r)||Li(r).position==="fixed"?null:r.offsetParent}function S2(r){var t=/firefox/i.test(Im()),e=/Trident/i.test(Im());if(e&&Gr(r)){var s=Li(r);if(s.position==="fixed")return null}var o=Ih(r);for(pg(o)&&(o=o.host);Gr(o)&&["html","body"].indexOf(Ns(o))<0;){var l=Li(o);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||t&&l.willChange==="filter"||t&&l.filter&&l.filter!=="none")return o;o=o.parentNode}return null}function $u(r){for(var t=Gn(r),e=nE(r);e&&w2(e)&&Li(e).position==="static";)e=nE(e);return e&&(Ns(e)==="html"||Ns(e)==="body"&&Li(e).position==="static")?t:e||S2(r)||t}function gg(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function vu(r,t,e){return ba(r,Yf(t,e))}function A2(r,t,e){var s=vu(r,t,e);return s>e?e:s}function _b(){return{top:0,right:0,bottom:0,left:0}}function Eb(r){return Object.assign({},_b(),r)}function Tb(r,t){return t.reduce(function(e,s){return e[s]=r,e},{})}var R2=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Eb(typeof t!="number"?t:Tb(t,Fu))};function C2(r){var t,e=r.state,s=r.name,o=r.options,l=e.elements.arrow,f=e.modifiersData.popperOffsets,d=$r(e.placement),m=gg(d),g=[Pn,cr].indexOf(d)>=0,y=g?"height":"width";if(!(!l||!f)){var _=R2(o.padding,e),b=mg(l),D=m==="y"?Vn:Pn,U=m==="y"?ur:cr,H=e.rects.reference[y]+e.rects.reference[m]-f[m]-e.rects.popper[y],L=f[m]-e.rects.reference[m],J=$u(l),nt=J?m==="y"?J.clientHeight||0:J.clientWidth||0:0,X=H/2-L/2,rt=_[D],tt=nt-b[y]-_[U],W=nt/2-b[y]/2+X,x=vu(rt,W,tt),A=m;e.modifiersData[s]=(t={},t[A]=x,t.centerOffset=x-W,t)}}function I2(r){var t=r.state,e=r.options,s=e.element,o=s===void 0?"[data-popper-arrow]":s;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||yb(t.elements.popper,o)&&(t.elements.arrow=o))}const x2={name:"arrow",enabled:!0,phase:"main",fn:C2,effect:I2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ho(r){return r.split("-")[1]}var O2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function N2(r,t){var e=r.x,s=r.y,o=t.devicePixelRatio||1;return{x:Bo(e*o)/o||0,y:Bo(s*o)/o||0}}function rE(r){var t,e=r.popper,s=r.popperRect,o=r.placement,l=r.variation,f=r.offsets,d=r.position,m=r.gpuAcceleration,g=r.adaptive,y=r.roundOffsets,_=r.isFixed,b=f.x,D=b===void 0?0:b,U=f.y,H=U===void 0?0:U,L=typeof y=="function"?y({x:D,y:H}):{x:D,y:H};D=L.x,H=L.y;var J=f.hasOwnProperty("x"),nt=f.hasOwnProperty("y"),X=Pn,rt=Vn,tt=window;if(g){var W=$u(e),x="clientHeight",A="clientWidth";if(W===Gn(e)&&(W=Us(e),Li(W).position!=="static"&&d==="absolute"&&(x="scrollHeight",A="scrollWidth")),W=W,o===Vn||(o===Pn||o===cr)&&l===Ru){rt=ur;var I=_&&W===tt&&tt.visualViewport?tt.visualViewport.height:W[x];H-=I-s.height,H*=m?1:-1}if(o===Pn||(o===Vn||o===ur)&&l===Ru){X=cr;var M=_&&W===tt&&tt.visualViewport?tt.visualViewport.width:W[A];D-=M-s.width,D*=m?1:-1}}var O=Object.assign({position:d},g&&O2),k=y===!0?N2({x:D,y:H},Gn(e)):{x:D,y:H};if(D=k.x,H=k.y,m){var C;return Object.assign({},O,(C={},C[rt]=nt?"0":"",C[X]=J?"0":"",C.transform=(tt.devicePixelRatio||1)<=1?"translate("+D+"px, "+H+"px)":"translate3d("+D+"px, "+H+"px, 0)",C))}return Object.assign({},O,(t={},t[rt]=nt?H+"px":"",t[X]=J?D+"px":"",t.transform="",t))}function D2(r){var t=r.state,e=r.options,s=e.gpuAcceleration,o=s===void 0?!0:s,l=e.adaptive,f=l===void 0?!0:l,d=e.roundOffsets,m=d===void 0?!0:d,g={placement:$r(t.placement),variation:Ho(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,rE(Object.assign({},g,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:f,roundOffsets:m})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,rE(Object.assign({},g,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const M2={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:D2,data:{}};var Cf={passive:!0};function k2(r){var t=r.state,e=r.instance,s=r.options,o=s.scroll,l=o===void 0?!0:o,f=s.resize,d=f===void 0?!0:f,m=Gn(t.elements.popper),g=[].concat(t.scrollParents.reference,t.scrollParents.popper);return l&&g.forEach(function(y){y.addEventListener("scroll",e.update,Cf)}),d&&m.addEventListener("resize",e.update,Cf),function(){l&&g.forEach(function(y){y.removeEventListener("scroll",e.update,Cf)}),d&&m.removeEventListener("resize",e.update,Cf)}}const V2={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:k2,data:{}};var P2={left:"right",right:"left",bottom:"top",top:"bottom"};function Lf(r){return r.replace(/left|right|bottom|top/g,function(t){return P2[t]})}var L2={start:"end",end:"start"};function iE(r){return r.replace(/start|end/g,function(t){return L2[t]})}function vg(r){var t=Gn(r),e=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:e,scrollTop:s}}function yg(r){return zo(Us(r)).left+vg(r).scrollLeft}function U2(r,t){var e=Gn(r),s=Us(r),o=e.visualViewport,l=s.clientWidth,f=s.clientHeight,d=0,m=0;if(o){l=o.width,f=o.height;var g=vb();(g||!g&&t==="fixed")&&(d=o.offsetLeft,m=o.offsetTop)}return{width:l,height:f,x:d+yg(r),y:m}}function j2(r){var t,e=Us(r),s=vg(r),o=(t=r.ownerDocument)==null?void 0:t.body,l=ba(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),f=ba(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),d=-s.scrollLeft+yg(r),m=-s.scrollTop;return Li(o||e).direction==="rtl"&&(d+=ba(e.clientWidth,o?o.clientWidth:0)-l),{width:l,height:f,x:d,y:m}}function _g(r){var t=Li(r),e=t.overflow,s=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+o+s)}function bb(r){return["html","body","#document"].indexOf(Ns(r))>=0?r.ownerDocument.body:Gr(r)&&_g(r)?r:bb(Ih(r))}function yu(r,t){var e;t===void 0&&(t=[]);var s=bb(r),o=s===((e=r.ownerDocument)==null?void 0:e.body),l=Gn(s),f=o?[l].concat(l.visualViewport||[],_g(s)?s:[]):s,d=t.concat(f);return o?d:d.concat(yu(Ih(f)))}function xm(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function B2(r,t){var e=zo(r,!1,t==="fixed");return e.top=e.top+r.clientTop,e.left=e.left+r.clientLeft,e.bottom=e.top+r.clientHeight,e.right=e.left+r.clientWidth,e.width=r.clientWidth,e.height=r.clientHeight,e.x=e.left,e.y=e.top,e}function sE(r,t,e){return t===mb?xm(U2(r,e)):Sa(t)?B2(t,e):xm(j2(Us(r)))}function z2(r){var t=yu(Ih(r)),e=["absolute","fixed"].indexOf(Li(r).position)>=0,s=e&&Gr(r)?$u(r):r;return Sa(s)?t.filter(function(o){return Sa(o)&&yb(o,s)&&Ns(o)!=="body"}):[]}function H2(r,t,e,s){var o=t==="clippingParents"?z2(r):[].concat(t),l=[].concat(o,[e]),f=l[0],d=l.reduce(function(m,g){var y=sE(r,g,s);return m.top=ba(y.top,m.top),m.right=Yf(y.right,m.right),m.bottom=Yf(y.bottom,m.bottom),m.left=ba(y.left,m.left),m},sE(r,f,s));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function wb(r){var t=r.reference,e=r.element,s=r.placement,o=s?$r(s):null,l=s?Ho(s):null,f=t.x+t.width/2-e.width/2,d=t.y+t.height/2-e.height/2,m;switch(o){case Vn:m={x:f,y:t.y-e.height};break;case ur:m={x:f,y:t.y+t.height};break;case cr:m={x:t.x+t.width,y:d};break;case Pn:m={x:t.x-e.width,y:d};break;default:m={x:t.x,y:t.y}}var g=o?gg(o):null;if(g!=null){var y=g==="y"?"height":"width";switch(l){case jo:m[g]=m[g]-(t[y]/2-e[y]/2);break;case Ru:m[g]=m[g]+(t[y]/2-e[y]/2);break}}return m}function Cu(r,t){t===void 0&&(t={});var e=t,s=e.placement,o=s===void 0?r.placement:s,l=e.strategy,f=l===void 0?r.strategy:l,d=e.boundary,m=d===void 0?f2:d,g=e.rootBoundary,y=g===void 0?mb:g,_=e.elementContext,b=_===void 0?uu:_,D=e.altBoundary,U=D===void 0?!1:D,H=e.padding,L=H===void 0?0:H,J=Eb(typeof L!="number"?L:Tb(L,Fu)),nt=b===uu?h2:uu,X=r.rects.popper,rt=r.elements[U?nt:b],tt=H2(Sa(rt)?rt:rt.contextElement||Us(r.elements.popper),m,y,f),W=zo(r.elements.reference),x=wb({reference:W,element:X,placement:o}),A=xm(Object.assign({},X,x)),I=b===uu?A:W,M={top:tt.top-I.top+J.top,bottom:I.bottom-tt.bottom+J.bottom,left:tt.left-I.left+J.left,right:I.right-tt.right+J.right},O=r.modifiersData.offset;if(b===uu&&O){var k=O[o];Object.keys(M).forEach(function(C){var xt=[cr,ur].indexOf(C)>=0?1:-1,Tt=[Vn,ur].indexOf(C)>=0?"y":"x";M[C]+=k[Tt]*xt})}return M}function q2(r,t){t===void 0&&(t={});var e=t,s=e.placement,o=e.boundary,l=e.rootBoundary,f=e.padding,d=e.flipVariations,m=e.allowedAutoPlacements,g=m===void 0?gb:m,y=Ho(s),_=y?d?eE:eE.filter(function(U){return Ho(U)===y}):Fu,b=_.filter(function(U){return g.indexOf(U)>=0});b.length===0&&(b=_);var D=b.reduce(function(U,H){return U[H]=Cu(r,{placement:H,boundary:o,rootBoundary:l,padding:f})[$r(H)],U},{});return Object.keys(D).sort(function(U,H){return D[U]-D[H]})}function F2(r){if($r(r)===dg)return[];var t=Lf(r);return[iE(r),t,iE(t)]}function $2(r){var t=r.state,e=r.options,s=r.name;if(!t.modifiersData[s]._skip){for(var o=e.mainAxis,l=o===void 0?!0:o,f=e.altAxis,d=f===void 0?!0:f,m=e.fallbackPlacements,g=e.padding,y=e.boundary,_=e.rootBoundary,b=e.altBoundary,D=e.flipVariations,U=D===void 0?!0:D,H=e.allowedAutoPlacements,L=t.options.placement,J=$r(L),nt=J===L,X=m||(nt||!U?[Lf(L)]:F2(L)),rt=[L].concat(X).reduce(function(ft,gt){return ft.concat($r(gt)===dg?q2(t,{placement:gt,boundary:y,rootBoundary:_,padding:g,flipVariations:U,allowedAutoPlacements:H}):gt)},[]),tt=t.rects.reference,W=t.rects.popper,x=new Map,A=!0,I=rt[0],M=0;M<rt.length;M++){var O=rt[M],k=$r(O),C=Ho(O)===jo,xt=[Vn,ur].indexOf(k)>=0,Tt=xt?"width":"height",B=Cu(t,{placement:O,boundary:y,rootBoundary:_,altBoundary:b,padding:g}),at=xt?C?cr:Pn:C?ur:Vn;tt[Tt]>W[Tt]&&(at=Lf(at));var ht=Lf(at),yt=[];if(l&&yt.push(B[k]<=0),d&&yt.push(B[at]<=0,B[ht]<=0),yt.every(function(ft){return ft})){I=O,A=!1;break}x.set(O,yt)}if(A)for(var V=U?3:1,K=function(gt){var pt=rt.find(function(Gt){var Mt=x.get(Gt);if(Mt)return Mt.slice(0,gt).every(function(fe){return fe})});if(pt)return I=pt,"break"},st=V;st>0;st--){var Z=K(st);if(Z==="break")break}t.placement!==I&&(t.modifiersData[s]._skip=!0,t.placement=I,t.reset=!0)}}const G2={name:"flip",enabled:!0,phase:"main",fn:$2,requiresIfExists:["offset"],data:{_skip:!1}};function aE(r,t,e){return e===void 0&&(e={x:0,y:0}),{top:r.top-t.height-e.y,right:r.right-t.width+e.x,bottom:r.bottom-t.height+e.y,left:r.left-t.width-e.x}}function oE(r){return[Vn,cr,ur,Pn].some(function(t){return r[t]>=0})}function K2(r){var t=r.state,e=r.name,s=t.rects.reference,o=t.rects.popper,l=t.modifiersData.preventOverflow,f=Cu(t,{elementContext:"reference"}),d=Cu(t,{altBoundary:!0}),m=aE(f,s),g=aE(d,o,l),y=oE(m),_=oE(g);t.modifiersData[e]={referenceClippingOffsets:m,popperEscapeOffsets:g,isReferenceHidden:y,hasPopperEscaped:_},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":_})}const Y2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:K2};function Q2(r,t,e){var s=$r(r),o=[Pn,Vn].indexOf(s)>=0?-1:1,l=typeof e=="function"?e(Object.assign({},t,{placement:r})):e,f=l[0],d=l[1];return f=f||0,d=(d||0)*o,[Pn,cr].indexOf(s)>=0?{x:d,y:f}:{x:f,y:d}}function X2(r){var t=r.state,e=r.options,s=r.name,o=e.offset,l=o===void 0?[0,0]:o,f=gb.reduce(function(y,_){return y[_]=Q2(_,t.rects,l),y},{}),d=f[t.placement],m=d.x,g=d.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=m,t.modifiersData.popperOffsets.y+=g),t.modifiersData[s]=f}const W2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:X2};function Z2(r){var t=r.state,e=r.name;t.modifiersData[e]=wb({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const J2={name:"popperOffsets",enabled:!0,phase:"read",fn:Z2,data:{}};function tI(r){return r==="x"?"y":"x"}function eI(r){var t=r.state,e=r.options,s=r.name,o=e.mainAxis,l=o===void 0?!0:o,f=e.altAxis,d=f===void 0?!1:f,m=e.boundary,g=e.rootBoundary,y=e.altBoundary,_=e.padding,b=e.tether,D=b===void 0?!0:b,U=e.tetherOffset,H=U===void 0?0:U,L=Cu(t,{boundary:m,rootBoundary:g,padding:_,altBoundary:y}),J=$r(t.placement),nt=Ho(t.placement),X=!nt,rt=gg(J),tt=tI(rt),W=t.modifiersData.popperOffsets,x=t.rects.reference,A=t.rects.popper,I=typeof H=="function"?H(Object.assign({},t.rects,{placement:t.placement})):H,M=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(W){if(l){var C,xt=rt==="y"?Vn:Pn,Tt=rt==="y"?ur:cr,B=rt==="y"?"height":"width",at=W[rt],ht=at+L[xt],yt=at-L[Tt],V=D?-A[B]/2:0,K=nt===jo?x[B]:A[B],st=nt===jo?-A[B]:-x[B],Z=t.elements.arrow,ft=D&&Z?mg(Z):{width:0,height:0},gt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:_b(),pt=gt[xt],Gt=gt[Tt],Mt=vu(0,x[B],ft[B]),fe=X?x[B]/2-V-Mt-pt-M.mainAxis:K-Mt-pt-M.mainAxis,ye=X?-x[B]/2+V+Mt+Gt+M.mainAxis:st+Mt+Gt+M.mainAxis,Ne=t.elements.arrow&&$u(t.elements.arrow),Be=Ne?rt==="y"?Ne.clientTop||0:Ne.clientLeft||0:0,Qe=(C=O==null?void 0:O[rt])!=null?C:0,De=at+fe-Qe-Be,Kt=at+ye-Qe,Tn=vu(D?Yf(ht,De):ht,at,D?ba(yt,Kt):yt);W[rt]=Tn,k[rt]=Tn-at}if(d){var ue,Ar=rt==="x"?Vn:Pn,ze=rt==="x"?ur:cr,Xe=W[tt],dn=tt==="y"?"height":"width",Te=Xe+L[Ar],We=Xe-L[ze],Rn=[Vn,Pn].indexOf(J)!==-1,fr=(ue=O==null?void 0:O[tt])!=null?ue:0,_t=Rn?Te:Xe-x[dn]-A[dn]-fr+M.altAxis,Pt=Rn?Xe+x[dn]+A[dn]-fr-M.altAxis:We,be=D&&Rn?A2(_t,Xe,Pt):vu(D?_t:Te,Xe,D?Pt:We);W[tt]=be,k[tt]=be-Xe}t.modifiersData[s]=k}}const nI={name:"preventOverflow",enabled:!0,phase:"main",fn:eI,requiresIfExists:["offset"]};function rI(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function iI(r){return r===Gn(r)||!Gr(r)?vg(r):rI(r)}function sI(r){var t=r.getBoundingClientRect(),e=Bo(t.width)/r.offsetWidth||1,s=Bo(t.height)/r.offsetHeight||1;return e!==1||s!==1}function aI(r,t,e){e===void 0&&(e=!1);var s=Gr(t),o=Gr(t)&&sI(t),l=Us(t),f=zo(r,o,e),d={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(s||!s&&!e)&&((Ns(t)!=="body"||_g(l))&&(d=iI(t)),Gr(t)?(m=zo(t,!0),m.x+=t.clientLeft,m.y+=t.clientTop):l&&(m.x=yg(l))),{x:f.left+d.scrollLeft-m.x,y:f.top+d.scrollTop-m.y,width:f.width,height:f.height}}function oI(r){var t=new Map,e=new Set,s=[];r.forEach(function(l){t.set(l.name,l)});function o(l){e.add(l.name);var f=[].concat(l.requires||[],l.requiresIfExists||[]);f.forEach(function(d){if(!e.has(d)){var m=t.get(d);m&&o(m)}}),s.push(l)}return r.forEach(function(l){e.has(l.name)||o(l)}),s}function lI(r){var t=oI(r);return b2.reduce(function(e,s){return e.concat(t.filter(function(o){return o.phase===s}))},[])}function uI(r){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(r())})})),t}}function cI(r){var t=r.reduce(function(e,s){var o=e[s.name];return e[s.name]=o?Object.assign({},o,s,{options:Object.assign({},o.options,s.options),data:Object.assign({},o.data,s.data)}):s,e},{});return Object.keys(t).map(function(e){return t[e]})}var lE={placement:"bottom",modifiers:[],strategy:"absolute"};function uE(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function fI(r){r===void 0&&(r={});var t=r,e=t.defaultModifiers,s=e===void 0?[]:e,o=t.defaultOptions,l=o===void 0?lE:o;return function(d,m,g){g===void 0&&(g=l);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},lE,l),modifiersData:{},elements:{reference:d,popper:m},attributes:{},styles:{}},_=[],b=!1,D={state:y,setOptions:function(J){var nt=typeof J=="function"?J(y.options):J;H(),y.options=Object.assign({},l,y.options,nt),y.scrollParents={reference:Sa(d)?yu(d):d.contextElement?yu(d.contextElement):[],popper:yu(m)};var X=lI(cI([].concat(s,y.options.modifiers)));return y.orderedModifiers=X.filter(function(rt){return rt.enabled}),U(),D.update()},forceUpdate:function(){if(!b){var J=y.elements,nt=J.reference,X=J.popper;if(uE(nt,X)){y.rects={reference:aI(nt,$u(X),y.options.strategy==="fixed"),popper:mg(X)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(M){return y.modifiersData[M.name]=Object.assign({},M.data)});for(var rt=0;rt<y.orderedModifiers.length;rt++){if(y.reset===!0){y.reset=!1,rt=-1;continue}var tt=y.orderedModifiers[rt],W=tt.fn,x=tt.options,A=x===void 0?{}:x,I=tt.name;typeof W=="function"&&(y=W({state:y,options:A,name:I,instance:D})||y)}}}},update:uI(function(){return new Promise(function(L){D.forceUpdate(),L(y)})}),destroy:function(){H(),b=!0}};if(!uE(d,m))return D;D.setOptions(g).then(function(L){!b&&g.onFirstUpdate&&g.onFirstUpdate(L)});function U(){y.orderedModifiers.forEach(function(L){var J=L.name,nt=L.options,X=nt===void 0?{}:nt,rt=L.effect;if(typeof rt=="function"){var tt=rt({state:y,name:J,instance:D,options:X}),W=function(){};_.push(tt||W)}})}function H(){_.forEach(function(L){return L()}),_=[]}return D}}const hI=fI({defaultModifiers:[Y2,J2,M2,V2,W2,G2,nI,x2]}),dI=["enabled","placement","strategy","modifiers"];function pI(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}const mI={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},gI={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:r})=>()=>{const{reference:t,popper:e}=r.elements;if("removeAttribute"in t){const s=(t.getAttribute("aria-describedby")||"").split(",").filter(o=>o.trim()!==e.id);s.length?t.setAttribute("aria-describedby",s.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:r})=>{var t;const{popper:e,reference:s}=r.elements,o=(t=e.getAttribute("role"))==null?void 0:t.toLowerCase();if(e.id&&o==="tooltip"&&"setAttribute"in s){const l=s.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(e.id)!==-1)return;s.setAttribute("aria-describedby",l?`${l},${e.id}`:e.id)}}},vI=[];function yI(r,t,e={}){let{enabled:s=!0,placement:o="bottom",strategy:l="absolute",modifiers:f=vI}=e,d=pI(e,dI);const m=R.useRef(f),g=R.useRef(),y=R.useCallback(()=>{var L;(L=g.current)==null||L.update()},[]),_=R.useCallback(()=>{var L;(L=g.current)==null||L.forceUpdate()},[]),[b,D]=c2(R.useState({placement:o,update:y,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),U=R.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:L})=>{const J={},nt={};Object.keys(L.elements).forEach(X=>{J[X]=L.styles[X],nt[X]=L.attributes[X]}),D({state:L,styles:J,attributes:nt,update:y,forceUpdate:_,placement:L.placement})}}),[y,_,D]),H=R.useMemo(()=>(gu(m.current,f)||(m.current=f),m.current),[f]);return R.useEffect(()=>{!g.current||!s||g.current.setOptions({placement:o,strategy:l,modifiers:[...H,U,mI]})},[l,o,U,s,H]),R.useEffect(()=>{if(!(!s||r==null||t==null))return g.current=hI(r,t,Object.assign({},d,{placement:o,strategy:l,modifiers:[...H,gI,U]})),()=>{g.current!=null&&(g.current.destroy(),g.current=void 0,D(L=>Object.assign({},L,{attributes:{},styles:{popper:{}}})))}},[s,r,t]),b}function Qf(r,t){if(r.contains)return r.contains(t);if(r.compareDocumentPosition)return r===t||!!(r.compareDocumentPosition(t)&16)}var nm,cE;function _I(){if(cE)return nm;cE=1;var r=function(){};return nm=r,nm}var EI=_I();const TI=Bu(EI),fE=()=>{};function bI(r){return r.button===0}function wI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}const rm=r=>r&&("current"in r?r.current:r),hE={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function SI(r,t=fE,{disabled:e,clickTrigger:s="click"}={}){const o=R.useRef(!1),l=R.useRef(!1),f=R.useCallback(g=>{const y=rm(r);TI(!!y,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!y||wI(g)||!bI(g)||!!Qf(y,g.target)||l.current,l.current=!1},[r]),d=_n(g=>{const y=rm(r);y&&Qf(y,g.target)?l.current=!0:l.current=!1}),m=_n(g=>{o.current||t(g)});R.useEffect(()=>{var g,y;if(e||r==null)return;const _=Hu(rm(r)),b=_.defaultView||window;let D=(g=b.event)!=null?g:(y=b.parent)==null?void 0:y.event,U=null;hE[s]&&(U=Ss(_,hE[s],d,!0));const H=Ss(_,s,f,!0),L=Ss(_,s,nt=>{if(nt===D){D=void 0;return}m(nt)});let J=[];return"ontouchstart"in _.documentElement&&(J=[].slice.call(_.body.children).map(nt=>Ss(nt,"mousemove",fE))),()=>{U==null||U(),H(),L(),J.forEach(nt=>nt())}},[r,e,s,f,d,m])}function AI(r){const t={};return Array.isArray(r)?(r==null||r.forEach(e=>{t[e.name]=e}),t):r||t}function RI(r={}){return Array.isArray(r)?r:Object.keys(r).map(t=>(r[t].name=t,r[t]))}function CI({enabled:r,enableEvents:t,placement:e,flip:s,offset:o,fixed:l,containerPadding:f,arrowElement:d,popperConfig:m={}}){var g,y,_,b,D;const U=AI(m.modifiers);return Object.assign({},m,{placement:e,enabled:r,strategy:l?"fixed":m.strategy,modifiers:RI(Object.assign({},U,{eventListeners:{enabled:t,options:(g=U.eventListeners)==null?void 0:g.options},preventOverflow:Object.assign({},U.preventOverflow,{options:f?Object.assign({padding:f},(y=U.preventOverflow)==null?void 0:y.options):(_=U.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:o},(b=U.offset)==null?void 0:b.options)},arrow:Object.assign({},U.arrow,{enabled:!!d,options:Object.assign({},(D=U.arrow)==null?void 0:D.options,{element:d})}),flip:Object.assign({enabled:!!s},U.flip)}))})}const II=["children","usePopper"];function xI(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}const OI=()=>{};function Sb(r={}){const t=R.useContext(Ch),[e,s]=$C(),o=R.useRef(!1),{flip:l,offset:f,rootCloseEvent:d,fixed:m=!1,placement:g,popperConfig:y={},enableEventListeners:_=!0,usePopper:b=!!t}=r,D=(t==null?void 0:t.show)==null?!!r.show:t.show;D&&!o.current&&(o.current=!0);const U=W=>{t==null||t.toggle(!1,W)},{placement:H,setMenu:L,menuElement:J,toggleElement:nt}=t||{},X=yI(nt,J,CI({placement:g||H||"bottom-start",enabled:b,enableEvents:_??D,offset:f,flip:l,fixed:m,arrowElement:e,popperConfig:y})),rt=Object.assign({ref:L||OI,"aria-labelledby":nt==null?void 0:nt.id},X.attributes.popper,{style:X.styles.popper}),tt={show:D,placement:H,hasShown:o.current,toggle:t==null?void 0:t.toggle,popper:b?X:null,arrowProps:b?Object.assign({ref:s},X.attributes.arrow,{style:X.styles.arrow}):{}};return SI(J,U,{clickTrigger:d,disabled:!D}),[rt,tt]}function Ab(r){let{children:t,usePopper:e=!0}=r,s=xI(r,II);const[o,l]=Sb(Object.assign({},s,{usePopper:e}));return N.jsx(N.Fragment,{children:t(o,l)})}Ab.displayName="DropdownMenu";const Rb={prefix:String(Math.round(Math.random()*1e10)),current:0},Cb=ut.createContext(Rb),NI=ut.createContext(!1);let im=new WeakMap;function DI(r=!1){let t=R.useContext(Cb),e=R.useRef(null);if(e.current===null&&!r){var s,o;let l=(o=ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||o===void 0||(s=o.ReactCurrentOwner)===null||s===void 0?void 0:s.current;if(l){let f=im.get(l);f==null?im.set(l,{id:t.current,state:l.memoizedState}):l.memoizedState!==f.state&&(t.current=f.id,im.delete(l))}e.current=++t.current}return e.current}function MI(r){let t=R.useContext(Cb),e=DI(!!r),s=`react-aria${t.prefix}`;return r||`${s}-${e}`}function kI(r){let t=ut.useId(),[e]=R.useState(jI()),s=e?"react-aria":`react-aria${Rb.prefix}`;return r||`${s}-${t}`}const VI=typeof ut.useId=="function"?kI:MI;function PI(){return!1}function LI(){return!0}function UI(r){return()=>{}}function jI(){return typeof ut.useSyncExternalStore=="function"?ut.useSyncExternalStore(UI,PI,LI):R.useContext(NI)}const Ib=r=>{var t;return((t=r.getAttribute("role"))==null?void 0:t.toLowerCase())==="menu"},dE=()=>{};function xb(){const r=VI(),{show:t=!1,toggle:e=dE,setToggle:s,menuElement:o}=R.useContext(Ch)||{},l=R.useCallback(d=>{e(!t,d)},[t,e]),f={id:r,ref:s||dE,onClick:l,"aria-expanded":!!t};return o&&Ib(o)&&(f["aria-haspopup"]=!0),[f,{show:t,toggle:e}]}function Ob({children:r}){const[t,e]=xb();return N.jsx(N.Fragment,{children:r(t,e)})}Ob.displayName="DropdownToggle";const Aa=R.createContext(null),Iu=(r,t=null)=>r!=null?String(r):t||null,xh=R.createContext(null);xh.displayName="NavContext";const BI="data-rr-ui-",zI="rrUi";function Jo(r){return`${BI}${r}`}function HI(r){return`${zI}${r}`}const qI=["eventKey","disabled","onClick","active","as"];function FI(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function Nb({key:r,href:t,active:e,disabled:s,onClick:o}){const l=R.useContext(Aa),f=R.useContext(xh),{activeKey:d}=f||{},m=Iu(r,t),g=e==null&&r!=null?Iu(d)===m:e;return[{onClick:_n(_=>{s||(o==null||o(_),l&&!_.isPropagationStopped()&&l(m,_))}),"aria-disabled":s||void 0,"aria-selected":g,[Jo("dropdown-item")]:""},{isActive:g}]}const Db=R.forwardRef((r,t)=>{let{eventKey:e,disabled:s,onClick:o,active:l,as:f=cg}=r,d=FI(r,qI);const[m]=Nb({key:e,href:d.href,disabled:s,onClick:o,active:l});return N.jsx(f,Object.assign({},d,{ref:t},m))});Db.displayName="DropdownItem";const Mb=R.createContext(Zo?window:void 0);Mb.Provider;function Oh(){return R.useContext(Mb)}function pE(){const r=pb(),t=R.useRef(null),e=R.useCallback(s=>{t.current=s,r()},[r]);return[t,e]}function Gu({defaultShow:r,show:t,onSelect:e,onToggle:s,itemSelector:o=`* [${Jo("dropdown-item")}]`,focusFirstItemOnShow:l,placement:f="bottom-start",children:d}){const m=Oh(),[g,y]=u2(t,r,s),[_,b]=pE(),D=_.current,[U,H]=pE(),L=U.current,J=fb(g),nt=R.useRef(null),X=R.useRef(!1),rt=R.useContext(Aa),tt=R.useCallback((O,k,C=k==null?void 0:k.type)=>{y(O,{originalEvent:k,source:C})},[y]),W=_n((O,k)=>{e==null||e(O,k),tt(!1,k,"select"),k.isPropagationStopped()||rt==null||rt(O,k)}),x=R.useMemo(()=>({toggle:tt,placement:f,show:g,menuElement:D,toggleElement:L,setMenu:b,setToggle:H}),[tt,f,g,D,L,b,H]);D&&J&&!g&&(X.current=D.contains(D.ownerDocument.activeElement));const A=_n(()=>{L&&L.focus&&L.focus()}),I=_n(()=>{const O=nt.current;let k=l;if(k==null&&(k=_.current&&Ib(_.current)?"keyboard":!1),k===!1||k==="keyboard"&&!/^key.+$/.test(O))return;const C=Ii(_.current,o)[0];C&&C.focus&&C.focus()});R.useEffect(()=>{g?I():X.current&&(X.current=!1,A())},[g,X,A,I]),R.useEffect(()=>{nt.current=null});const M=(O,k)=>{if(!_.current)return null;const C=Ii(_.current,o);let xt=C.indexOf(O)+k;return xt=Math.max(0,Math.min(xt,C.length)),C[xt]};return KC(R.useCallback(()=>m.document,[m]),"keydown",O=>{var k,C;const{key:xt}=O,Tt=O.target,B=(k=_.current)==null?void 0:k.contains(Tt),at=(C=U.current)==null?void 0:C.contains(Tt);if(/input|textarea/i.test(Tt.tagName)&&(xt===" "||xt!=="Escape"&&B||xt==="Escape"&&Tt.type==="search")||!B&&!at||xt==="Tab"&&(!_.current||!g))return;nt.current=O.type;const yt={originalEvent:O,source:O.type};switch(xt){case"ArrowUp":{const V=M(Tt,-1);V&&V.focus&&V.focus(),O.preventDefault();return}case"ArrowDown":if(O.preventDefault(),!g)y(!0,yt);else{const V=M(Tt,1);V&&V.focus&&V.focus()}return;case"Tab":ig(Tt.ownerDocument,"keyup",V=>{var K;(V.key==="Tab"&&!V.target||!((K=_.current)!=null&&K.contains(V.target)))&&y(!1,yt)},{once:!0});break;case"Escape":xt==="Escape"&&(O.preventDefault(),O.stopPropagation()),y(!1,yt);break}}),N.jsx(Aa.Provider,{value:W,children:N.jsx(Ch.Provider,{value:x,children:d})})}Gu.displayName="Dropdown";Gu.Menu=Ab;Gu.Toggle=Ob;Gu.Item=Db;const Eg=R.createContext({});Eg.displayName="DropdownContext";const kb=R.forwardRef(({className:r,bsPrefix:t,as:e="hr",role:s="separator",...o},l)=>(t=Dt(t,"dropdown-divider"),N.jsx(e,{ref:l,className:bt(r,t),role:s,...o})));kb.displayName="DropdownDivider";const Vb=R.forwardRef(({className:r,bsPrefix:t,as:e="div",role:s="heading",...o},l)=>(t=Dt(t,"dropdown-header"),N.jsx(e,{ref:l,className:bt(r,t),role:s,...o})));Vb.displayName="DropdownHeader";const Pb=R.forwardRef(({bsPrefix:r,className:t,eventKey:e,disabled:s=!1,onClick:o,active:l,as:f=fg,...d},m)=>{const g=Dt(r,"dropdown-item"),[y,_]=Nb({key:e,href:d.href,disabled:s,onClick:o,active:l});return N.jsx(f,{...d,...y,ref:m,className:bt(t,g,_.isActive&&"active",s&&"disabled")})});Pb.displayName="DropdownItem";const Lb=R.forwardRef(({className:r,bsPrefix:t,as:e="span",...s},o)=>(t=Dt(t,"dropdown-item-text"),N.jsx(e,{ref:o,className:bt(r,t),...s})));Lb.displayName="DropdownItemText";const $I=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",GI=typeof document<"u",Ub=GI||$I?R.useLayoutEffect:R.useEffect,Tg=R.createContext(null);Tg.displayName="InputGroupContext";const Da=R.createContext(null);Da.displayName="NavbarContext";function jb(r,t){return r}function Bb(r,t,e){const s=e?"top-end":"top-start",o=e?"top-start":"top-end",l=e?"bottom-end":"bottom-start",f=e?"bottom-start":"bottom-end",d=e?"right-start":"left-start",m=e?"right-end":"left-end",g=e?"left-start":"right-start",y=e?"left-end":"right-end";let _=r?f:l;return t==="up"?_=r?o:s:t==="end"?_=r?y:g:t==="start"?_=r?m:d:t==="down-centered"?_="bottom":t==="up-centered"&&(_="top"),_}const zb=R.forwardRef(({bsPrefix:r,className:t,align:e,rootCloseEvent:s,flip:o=!0,show:l,renderOnMount:f,as:d="div",popperConfig:m,variant:g,...y},_)=>{let b=!1;const D=R.useContext(Da),U=Dt(r,"dropdown-menu"),{align:H,drop:L,isRTL:J}=R.useContext(Eg);e=e||H;const nt=R.useContext(Tg),X=[];if(e)if(typeof e=="object"){const O=Object.keys(e);if(O.length){const k=O[0],C=e[k];b=C==="start",X.push(`${U}-${k}-${C}`)}}else e==="end"&&(b=!0);const rt=Bb(b,L,J),[tt,{hasShown:W,popper:x,show:A,toggle:I}]=Sb({flip:o,rootCloseEvent:s,show:l,usePopper:!D&&X.length===0,offset:[0,2],popperConfig:m,placement:rt});if(tt.ref=wh(jb(_),tt.ref),Ub(()=>{A&&(x==null||x.update())},[A]),!W&&!f&&!nt)return null;typeof d!="string"&&(tt.show=A,tt.close=()=>I==null?void 0:I(!1),tt.align=e);let M=y.style;return x!=null&&x.placement&&(M={...y.style,...tt.style},y["x-placement"]=x.placement),N.jsx(d,{...y,...tt,style:M,...(X.length||D)&&{"data-bs-popper":"static"},className:bt(t,U,A&&"show",b&&`${U}-end`,g&&`${U}-${g}`,...X)})});zb.displayName="DropdownMenu";const Hb=R.forwardRef(({bsPrefix:r,split:t,className:e,childBsPrefix:s,as:o=Pi,...l},f)=>{const d=Dt(r,"dropdown-toggle"),m=R.useContext(Ch);s!==void 0&&(l.bsPrefix=s);const[g]=xb();return g.ref=wh(g.ref,jb(f)),N.jsx(o,{className:bt(e,d,t&&`${d}-split`,(m==null?void 0:m.show)&&"show"),...g,...l})});Hb.displayName="DropdownToggle";const qb=R.forwardRef((r,t)=>{const{bsPrefix:e,drop:s="down",show:o,className:l,align:f="start",onSelect:d,onToggle:m,focusFirstItemOnShow:g,as:y="div",navbar:_,autoClose:b=!0,...D}=bh(r,{show:"onToggle"}),U=R.useContext(Tg),H=Dt(e,"dropdown"),L=tb(),J=x=>b===!1?x==="click":b==="inside"?x!=="rootClose":b==="outside"?x!=="select":!0,nt=wa((x,A)=>{var I;!((I=A.originalEvent)==null||(I=I.target)==null)&&I.classList.contains("dropdown-toggle")&&A.source==="mousedown"||(A.originalEvent.currentTarget===document&&(A.source!=="keydown"||A.originalEvent.key==="Escape")&&(A.source="rootClose"),J(A.source)&&(m==null||m(x,A)))}),rt=Bb(f==="end",s,L),tt=R.useMemo(()=>({align:f,drop:s,isRTL:L}),[f,s,L]),W={down:H,"down-centered":`${H}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return N.jsx(Eg.Provider,{value:tt,children:N.jsx(Gu,{placement:rt,show:o,onSelect:d,onToggle:nt,focusFirstItemOnShow:g,itemSelector:`.${H}-item:not(.disabled):not(:disabled)`,children:U?D.children:N.jsx(y,{...D,ref:t,className:bt(l,o&&"show",W[s])})})})});qb.displayName="Dropdown";const Ea=Object.assign(qb,{Toggle:Hb,Menu:zb,Item:Pb,ItemText:Lb,Divider:kb,Header:Vb}),KI={type:Mi.string,tooltip:Mi.bool,as:Mi.elementType},Nh=R.forwardRef(({as:r="div",className:t,type:e="valid",tooltip:s=!1,...o},l)=>N.jsx(r,{...o,ref:l,className:bt(t,`${e}-${s?"tooltip":"feedback"}`)}));Nh.displayName="Feedback";Nh.propTypes=KI;const Ui=R.createContext({}),bg=R.forwardRef(({id:r,bsPrefix:t,className:e,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:f="input",...d},m)=>{const{controlId:g}=R.useContext(Ui);return t=Dt(t,"form-check-input"),N.jsx(f,{...d,ref:m,type:s,id:r||g,className:bt(e,t,o&&"is-valid",l&&"is-invalid")})});bg.displayName="FormCheckInput";const Xf=R.forwardRef(({bsPrefix:r,className:t,htmlFor:e,...s},o)=>{const{controlId:l}=R.useContext(Ui);return r=Dt(r,"form-check-label"),N.jsx("label",{...s,ref:o,htmlFor:e||l,className:bt(t,r)})});Xf.displayName="FormCheckLabel";const Fb=R.forwardRef(({id:r,bsPrefix:t,bsSwitchPrefix:e,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:f=!1,isInvalid:d=!1,feedbackTooltip:m=!1,feedback:g,feedbackType:y,className:_,style:b,title:D="",type:U="checkbox",label:H,children:L,as:J="input",...nt},X)=>{t=Dt(t,"form-check"),e=Dt(e,"form-switch");const{controlId:rt}=R.useContext(Ui),tt=R.useMemo(()=>({controlId:r||rt}),[rt,r]),W=!L&&H!=null&&H!==!1||a2(L,Xf),x=N.jsx(bg,{...nt,type:U==="switch"?"checkbox":U,ref:X,isValid:f,isInvalid:d,disabled:l,as:J});return N.jsx(Ui.Provider,{value:tt,children:N.jsx("div",{style:b,className:bt(_,W&&t,s&&`${t}-inline`,o&&`${t}-reverse`,U==="switch"&&e),children:L||N.jsxs(N.Fragment,{children:[x,W&&N.jsx(Xf,{title:D,children:H}),g&&N.jsx(Nh,{type:y,tooltip:m,children:g})]})})})});Fb.displayName="FormCheck";const Wf=Object.assign(Fb,{Input:bg,Label:Xf}),$b=R.forwardRef(({bsPrefix:r,type:t,size:e,htmlSize:s,id:o,className:l,isValid:f=!1,isInvalid:d=!1,plaintext:m,readOnly:g,as:y="input",..._},b)=>{const{controlId:D}=R.useContext(Ui);return r=Dt(r,"form-control"),N.jsx(y,{..._,type:t,size:s,ref:b,readOnly:g,id:o||D,className:bt(l,m?`${r}-plaintext`:r,e&&`${r}-${e}`,t==="color"&&`${r}-color`,f&&"is-valid",d&&"is-invalid")})});$b.displayName="FormControl";const YI=Object.assign($b,{Feedback:Nh}),Gb=R.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=Dt(t,"form-floating"),N.jsx(e,{ref:o,className:bt(r,t),...s})));Gb.displayName="FormFloating";const wg=R.forwardRef(({controlId:r,as:t="div",...e},s)=>{const o=R.useMemo(()=>({controlId:r}),[r]);return N.jsx(Ui.Provider,{value:o,children:N.jsx(t,{...e,ref:s})})});wg.displayName="FormGroup";const Kb=R.forwardRef(({as:r="label",bsPrefix:t,column:e=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...f},d)=>{const{controlId:m}=R.useContext(Ui);t=Dt(t,"form-label");let g="col-form-label";typeof e=="string"&&(g=`${g} ${g}-${e}`);const y=bt(o,t,s&&"visually-hidden",e&&g);return l=l||m,e?N.jsx(db,{ref:d,as:"label",className:y,htmlFor:l,...f}):N.jsx(r,{ref:d,className:y,htmlFor:l,...f})});Kb.displayName="FormLabel";const Yb=R.forwardRef(({bsPrefix:r,className:t,id:e,...s},o)=>{const{controlId:l}=R.useContext(Ui);return r=Dt(r,"form-range"),N.jsx("input",{...s,type:"range",ref:o,className:bt(t,r),id:e||l})});Yb.displayName="FormRange";const Qb=R.forwardRef(({bsPrefix:r,size:t,htmlSize:e,className:s,isValid:o=!1,isInvalid:l=!1,id:f,...d},m)=>{const{controlId:g}=R.useContext(Ui);return r=Dt(r,"form-select"),N.jsx("select",{...d,size:e,ref:m,className:bt(s,r,t&&`${r}-${t}`,o&&"is-valid",l&&"is-invalid"),id:f||g})});Qb.displayName="FormSelect";const Xb=R.forwardRef(({bsPrefix:r,className:t,as:e="small",muted:s,...o},l)=>(r=Dt(r,"form-text"),N.jsx(e,{...o,ref:l,className:bt(t,r,s&&"text-muted")})));Xb.displayName="FormText";const Wb=R.forwardRef((r,t)=>N.jsx(Wf,{...r,ref:t,type:"switch"}));Wb.displayName="Switch";const QI=Object.assign(Wb,{Input:Wf.Input,Label:Wf.Label}),Zb=R.forwardRef(({bsPrefix:r,className:t,children:e,controlId:s,label:o,...l},f)=>(r=Dt(r,"form-floating"),N.jsxs(wg,{ref:f,className:bt(t,r),controlId:s,...l,children:[e,N.jsx("label",{htmlFor:s,children:o})]})));Zb.displayName="FloatingLabel";const XI={_ref:Mi.any,validated:Mi.bool,as:Mi.elementType},Sg=R.forwardRef(({className:r,validated:t,as:e="form",...s},o)=>N.jsx(e,{...s,ref:o,className:bt(r,t&&"was-validated")}));Sg.displayName="Form";Sg.propTypes=XI;const je=Object.assign(Sg,{Group:wg,Control:YI,Floating:Gb,Check:Wf,Switch:QI,Label:Kb,Text:Xb,Range:Yb,Select:Qb,FloatingLabel:Zb}),mE=r=>!r||typeof r=="function"?r:t=>{r.current=t};function WI(r,t){const e=mE(r),s=mE(t);return o=>{e&&e(o),s&&s(o)}}function Dh(r,t){return R.useMemo(()=>WI(r,t),[r,t])}const Jb=R.createContext(null),ZI=["as","active","eventKey"];function JI(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function t1({key:r,onClick:t,active:e,id:s,role:o,disabled:l}){const f=R.useContext(Aa),d=R.useContext(xh),m=R.useContext(Jb);let g=e;const y={role:o};if(d){!o&&d.role==="tablist"&&(y.role="tab");const _=d.getControllerId(r??null),b=d.getControlledId(r??null);y[Jo("event-key")]=r,y.id=_||s,g=e==null&&r!=null?d.activeKey===r:e,(g||!(m!=null&&m.unmountOnExit)&&!(m!=null&&m.mountOnEnter))&&(y["aria-controls"]=b)}return y.role==="tab"&&(y["aria-selected"]=g,g||(y.tabIndex=-1),l&&(y.tabIndex=-1,y["aria-disabled"]=!0)),y.onClick=_n(_=>{l||(t==null||t(_),r!=null&&f&&!_.isPropagationStopped()&&f(r,_))}),[y,{isActive:g}]}const e1=R.forwardRef((r,t)=>{let{as:e=cg,active:s,eventKey:o}=r,l=JI(r,ZI);const[f,d]=t1(Object.assign({key:Iu(o,l.href),active:s},l));return f[Jo("active")]=d.isActive,N.jsx(e,Object.assign({},l,f,{ref:t}))});e1.displayName="NavItem";const tx=["as","onSelect","activeKey","role","onKeyDown"];function ex(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}const gE=()=>{},vE=Jo("event-key"),n1=R.forwardRef((r,t)=>{let{as:e="div",onSelect:s,activeKey:o,role:l,onKeyDown:f}=r,d=ex(r,tx);const m=pb(),g=R.useRef(!1),y=R.useContext(Aa),_=R.useContext(Jb);let b,D;_&&(l=l||"tablist",o=_.activeKey,b=_.getControlledId,D=_.getControllerId);const U=R.useRef(null),H=X=>{const rt=U.current;if(!rt)return null;const tt=Ii(rt,`[${vE}]:not([aria-disabled=true])`),W=rt.querySelector("[aria-selected=true]");if(!W||W!==document.activeElement)return null;const x=tt.indexOf(W);if(x===-1)return null;let A=x+X;return A>=tt.length&&(A=0),A<0&&(A=tt.length-1),tt[A]},L=(X,rt)=>{X!=null&&(s==null||s(X,rt),y==null||y(X,rt))},J=X=>{if(f==null||f(X),!_)return;let rt;switch(X.key){case"ArrowLeft":case"ArrowUp":rt=H(-1);break;case"ArrowRight":case"ArrowDown":rt=H(1);break;default:return}rt&&(X.preventDefault(),L(rt.dataset[HI("EventKey")]||null,X),g.current=!0,m())};R.useEffect(()=>{if(U.current&&g.current){const X=U.current.querySelector(`[${vE}][aria-selected=true]`);X==null||X.focus()}g.current=!1});const nt=Dh(t,U);return N.jsx(Aa.Provider,{value:L,children:N.jsx(xh.Provider,{value:{role:l,activeKey:Iu(o),getControlledId:b||gE,getControllerId:D||gE},children:N.jsx(e,Object.assign({},d,{onKeyDown:J,ref:nt,role:l}))})})});n1.displayName="Nav";const nx=Object.assign(n1,{Item:e1});var If;function yE(r){if((!If&&If!==0||r)&&Zo){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),If=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return If}function rx(){return R.useState(null)}function sm(r){r===void 0&&(r=Hu());try{var t=r.activeElement;return!t||!t.nodeName?null:t}catch{return r.body}}function ix(r){const t=R.useRef(r);return t.current=r,t}function sx(r){const t=ix(r);R.useEffect(()=>()=>t.current(),[])}function ax(r=document){const t=r.defaultView;return Math.abs(t.innerWidth-r.documentElement.clientWidth)}const _E=Jo("modal-open");class Ag{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:s=!1}={}){this.handleContainerOverflow=e,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return ax(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(e[s]=`${parseInt(Di(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(_E,""),Di(o,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(_E),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const am=(r,t)=>Zo?r==null?(t||Hu()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function ox(r,t){const e=Oh(),[s,o]=R.useState(()=>am(r,e==null?void 0:e.document));if(!s){const l=am(r);l&&o(l)}return R.useEffect(()=>{},[t,s]),R.useEffect(()=>{const l=am(r);l!==s&&o(l)},[r,s]),s}function lx({children:r,in:t,onExited:e,mountOnEnter:s,unmountOnExit:o}){const l=R.useRef(null),f=R.useRef(t),d=_n(e);R.useEffect(()=>{t?f.current=!0:d(l.current)},[t,d]);const m=Dh(l,Wo(r)),g=R.cloneElement(r,{ref:m});return t?g:o||!f.current&&s?null:g}const ux=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function cx(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function fx(r){let{onEnter:t,onEntering:e,onEntered:s,onExit:o,onExiting:l,onExited:f,addEndListener:d,children:m}=r,g=cx(r,ux);const y=R.useRef(null),_=Dh(y,Wo(m)),b=rt=>tt=>{rt&&y.current&&rt(y.current,tt)},D=R.useCallback(b(t),[t]),U=R.useCallback(b(e),[e]),H=R.useCallback(b(s),[s]),L=R.useCallback(b(o),[o]),J=R.useCallback(b(l),[l]),nt=R.useCallback(b(f),[f]),X=R.useCallback(b(d),[d]);return Object.assign({},g,{nodeRef:y},t&&{onEnter:D},e&&{onEntering:U},s&&{onEntered:H},o&&{onExit:L},l&&{onExiting:J},f&&{onExited:nt},d&&{addEndListener:X},{children:typeof m=="function"?(rt,tt)=>m(rt,Object.assign({},tt,{ref:_})):R.cloneElement(m,{ref:_})})}const hx=["component"];function dx(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}const px=R.forwardRef((r,t)=>{let{component:e}=r,s=dx(r,hx);const o=fx(s);return N.jsx(e,Object.assign({ref:t},o))});function mx({in:r,onTransition:t}){const e=R.useRef(null),s=R.useRef(!0),o=_n(t);return Z0(()=>{if(!e.current)return;let l=!1;return o({in:r,element:e.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[r,o]),Z0(()=>(s.current=!1,()=>{s.current=!0}),[]),e}function gx({children:r,in:t,onExited:e,onEntered:s,transition:o}){const[l,f]=R.useState(!t);t&&l&&f(!1);const d=mx({in:!!t,onTransition:g=>{const y=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(f(!0),e==null||e(g.element)))};Promise.resolve(o(g)).then(y,_=>{throw g.in||f(!0),_})}}),m=Dh(d,Wo(r));return l&&!t?null:R.cloneElement(r,{ref:m})}function EE(r,t,e){return r?N.jsx(px,Object.assign({},e,{component:r})):t?N.jsx(gx,Object.assign({},e,{transition:t})):N.jsx(lx,Object.assign({},e))}const vx=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function yx(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}let om;function _x(r){return om||(om=new Ag({ownerDocument:r==null?void 0:r.document})),om}function Ex(r){const t=Oh(),e=r||_x(t),s=R.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>e.add(s.current),remove:()=>e.remove(s.current),isTopModal:()=>e.isTopModal(s.current),setDialogRef:R.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:R.useCallback(o=>{s.current.backdrop=o},[])})}const r1=R.forwardRef((r,t)=>{let{show:e=!1,role:s="dialog",className:o,style:l,children:f,backdrop:d=!0,keyboard:m=!0,onBackdropClick:g,onEscapeKeyDown:y,transition:_,runTransition:b,backdropTransition:D,runBackdropTransition:U,autoFocus:H=!0,enforceFocus:L=!0,restoreFocus:J=!0,restoreFocusOptions:nt,renderDialog:X,renderBackdrop:rt=Kt=>N.jsx("div",Object.assign({},Kt)),manager:tt,container:W,onShow:x,onHide:A=()=>{},onExit:I,onExited:M,onExiting:O,onEnter:k,onEntering:C,onEntered:xt}=r,Tt=yx(r,vx);const B=Oh(),at=ox(W),ht=Ex(tt),yt=cb(),V=fb(e),[K,st]=R.useState(!e),Z=R.useRef(null);R.useImperativeHandle(t,()=>ht,[ht]),Zo&&!V&&e&&(Z.current=sm(B==null?void 0:B.document)),e&&K&&st(!1);const ft=_n(()=>{if(ht.add(),ye.current=Ss(document,"keydown",Mt),fe.current=Ss(document,"focus",()=>setTimeout(pt),!0),x&&x(),H){var Kt,Tn;const ue=sm((Kt=(Tn=ht.dialog)==null?void 0:Tn.ownerDocument)!=null?Kt:B==null?void 0:B.document);ht.dialog&&ue&&!Qf(ht.dialog,ue)&&(Z.current=ue,ht.dialog.focus())}}),gt=_n(()=>{if(ht.remove(),ye.current==null||ye.current(),fe.current==null||fe.current(),J){var Kt;(Kt=Z.current)==null||Kt.focus==null||Kt.focus(nt),Z.current=null}});R.useEffect(()=>{!e||!at||ft()},[e,at,ft]),R.useEffect(()=>{K&&gt()},[K,gt]),sx(()=>{gt()});const pt=_n(()=>{if(!L||!yt()||!ht.isTopModal())return;const Kt=sm(B==null?void 0:B.document);ht.dialog&&Kt&&!Qf(ht.dialog,Kt)&&ht.dialog.focus()}),Gt=_n(Kt=>{Kt.target===Kt.currentTarget&&(g==null||g(Kt),d===!0&&A())}),Mt=_n(Kt=>{m&&MC(Kt)&&ht.isTopModal()&&(y==null||y(Kt),Kt.defaultPrevented||A())}),fe=R.useRef(),ye=R.useRef(),Ne=(...Kt)=>{st(!0),M==null||M(...Kt)};if(!at)return null;const Be=Object.assign({role:s,ref:ht.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Tt,{style:l,className:o,tabIndex:-1});let Qe=X?X(Be):N.jsx("div",Object.assign({},Be,{children:R.cloneElement(f,{role:"document"})}));Qe=EE(_,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:I,onExiting:O,onExited:Ne,onEnter:k,onEntering:C,onEntered:xt,children:Qe});let De=null;return d&&(De=rt({ref:ht.setBackdropRef,onClick:Gt}),De=EE(D,U,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:De})),N.jsx(N.Fragment,{children:ya.createPortal(N.jsxs(N.Fragment,{children:[De,Qe]}),at)})});r1.displayName="Modal";const i1=Object.assign(r1,{Manager:Ag});function Tx(r,t){return r.classList?r.classList.contains(t):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+t+" ")!==-1}function bx(r,t){r.classList?r.classList.add(t):Tx(r,t)||(typeof r.className=="string"?r.className=r.className+" "+t:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+t))}function TE(r,t){return r.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function wx(r,t){r.classList?r.classList.remove(t):typeof r.className=="string"?r.className=TE(r.className,t):r.setAttribute("class",TE(r.className&&r.className.baseVal||"",t))}const xo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class s1 extends Ag{adjustAndStore(t,e,s){const o=e.style[t];e.dataset[t]=o,Di(e,{[t]:`${parseFloat(Di(e,t))+s}px`})}restore(t,e){const s=e.dataset[t];s!==void 0&&(delete e.dataset[t],Di(e,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(bx(e,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ii(e,xo.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,t.scrollBarWidth)),Ii(e,xo.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-t.scrollBarWidth)),Ii(e,xo.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();wx(e,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ii(e,xo.FIXED_CONTENT).forEach(l=>this.restore(s,l)),Ii(e,xo.STICKY_CONTENT).forEach(l=>this.restore(o,l)),Ii(e,xo.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let lm;function a1(r){return lm||(lm=new s1(r)),lm}const o1=R.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=Dt(t,"modal-body"),N.jsx(e,{ref:o,className:bt(r,t),...s})));o1.displayName="ModalBody";const Rg=R.createContext({onHide(){}}),Cg=R.forwardRef(({bsPrefix:r,className:t,contentClassName:e,centered:s,size:o,fullscreen:l,children:f,scrollable:d,...m},g)=>{r=Dt(r,"modal");const y=`${r}-dialog`,_=typeof l=="string"?`${r}-fullscreen-${l}`:`${r}-fullscreen`;return N.jsx("div",{...m,ref:g,className:bt(y,t,o&&`${r}-${o}`,s&&`${y}-centered`,d&&`${y}-scrollable`,l&&_),children:N.jsx("div",{className:bt(`${r}-content`,e),children:f})})});Cg.displayName="ModalDialog";const l1=R.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=Dt(t,"modal-footer"),N.jsx(e,{ref:o,className:bt(r,t),...s})));l1.displayName="ModalFooter";const Ig=R.forwardRef(({closeLabel:r="Close",closeVariant:t,closeButton:e=!1,onHide:s,children:o,...l},f)=>{const d=R.useContext(Rg),m=wa(()=>{d==null||d.onHide(),s==null||s()});return N.jsxs("div",{ref:f,...l,children:[o,e&&N.jsx(hg,{"aria-label":r,variant:t,onClick:m})]})});Ig.displayName="AbstractModalHeader";const u1=R.forwardRef(({bsPrefix:r,className:t,closeLabel:e="Close",closeButton:s=!1,...o},l)=>(r=Dt(r,"modal-header"),N.jsx(Ig,{ref:l,...o,className:bt(t,r),closeLabel:e,closeButton:s})));u1.displayName="ModalHeader";const Sx=ub("h4"),c1=R.forwardRef(({className:r,bsPrefix:t,as:e=Sx,...s},o)=>(t=Dt(t,"modal-title"),N.jsx(e,{ref:o,className:bt(r,t),...s})));c1.displayName="ModalTitle";function Ax(r){return N.jsx(Rh,{...r,timeout:null})}function Rx(r){return N.jsx(Rh,{...r,timeout:null})}const f1=R.forwardRef(({bsPrefix:r,className:t,style:e,dialogClassName:s,contentClassName:o,children:l,dialogAs:f=Cg,"data-bs-theme":d,"aria-labelledby":m,"aria-describedby":g,"aria-label":y,show:_=!1,animation:b=!0,backdrop:D=!0,keyboard:U=!0,onEscapeKeyDown:H,onShow:L,onHide:J,container:nt,autoFocus:X=!0,enforceFocus:rt=!0,restoreFocus:tt=!0,restoreFocusOptions:W,onEntered:x,onExit:A,onExiting:I,onEnter:M,onEntering:O,onExited:k,backdropClassName:C,manager:xt,...Tt},B)=>{const[at,ht]=R.useState({}),[yt,V]=R.useState(!1),K=R.useRef(!1),st=R.useRef(!1),Z=R.useRef(null),[ft,gt]=rx(),pt=wh(B,gt),Gt=wa(J),Mt=tb();r=Dt(r,"modal");const fe=R.useMemo(()=>({onHide:Gt}),[Gt]);function ye(){return xt||a1({isRTL:Mt})}function Ne(_t){if(!Zo)return;const Pt=ye().getScrollbarWidth()>0,be=_t.scrollHeight>Hu(_t).documentElement.clientHeight;ht({paddingRight:Pt&&!be?yE():void 0,paddingLeft:!Pt&&be?yE():void 0})}const Be=wa(()=>{ft&&Ne(ft.dialog)});s2(()=>{Cm(window,"resize",Be),Z.current==null||Z.current()});const Qe=()=>{K.current=!0},De=_t=>{K.current&&ft&&_t.target===ft.dialog&&(st.current=!0),K.current=!1},Kt=()=>{V(!0),Z.current=nb(ft.dialog,()=>{V(!1)})},Tn=_t=>{_t.target===_t.currentTarget&&Kt()},ue=_t=>{if(D==="static"){Tn(_t);return}if(st.current||_t.target!==_t.currentTarget){st.current=!1;return}J==null||J()},Ar=_t=>{U?H==null||H(_t):(_t.preventDefault(),D==="static"&&Kt())},ze=(_t,Pt)=>{_t&&Ne(_t),M==null||M(_t,Pt)},Xe=_t=>{Z.current==null||Z.current(),A==null||A(_t)},dn=(_t,Pt)=>{O==null||O(_t,Pt),ig(window,"resize",Be)},Te=_t=>{_t&&(_t.style.display=""),k==null||k(_t),Cm(window,"resize",Be)},We=R.useCallback(_t=>N.jsx("div",{..._t,className:bt(`${r}-backdrop`,C,!b&&"show")}),[b,C,r]),Rn={...e,...at};Rn.display="block";const fr=_t=>N.jsx("div",{role:"dialog",..._t,style:Rn,className:bt(t,r,yt&&`${r}-static`,!b&&"show"),onClick:D?ue:void 0,onMouseUp:De,"data-bs-theme":d,"aria-label":y,"aria-labelledby":m,"aria-describedby":g,children:N.jsx(f,{...Tt,onMouseDown:Qe,className:s,contentClassName:o,children:l})});return N.jsx(Rg.Provider,{value:fe,children:N.jsx(i1,{show:_,ref:pt,backdrop:D,container:nt,keyboard:!0,autoFocus:X,enforceFocus:rt,restoreFocus:tt,restoreFocusOptions:W,onEscapeKeyDown:Ar,onShow:L,onHide:J,onEnter:ze,onEntering:dn,onEntered:x,onExit:Xe,onExiting:I,onExited:Te,manager:ye(),transition:b?Ax:void 0,backdropTransition:b?Rx:void 0,renderBackdrop:We,renderDialog:fr})})});f1.displayName="Modal";const qr=Object.assign(f1,{Body:o1,Header:u1,Title:c1,Footer:l1,Dialog:Cg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),h1=R.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=Dt(t,"nav-item"),N.jsx(e,{ref:o,className:bt(r,t),...s})));h1.displayName="NavItem";const xg=R.forwardRef(({bsPrefix:r,className:t,as:e=fg,active:s,eventKey:o,disabled:l=!1,...f},d)=>{r=Dt(r,"nav-link");const[m,g]=t1({key:Iu(o,f.href),active:s,disabled:l,...f});return N.jsx(e,{...f,...m,ref:d,disabled:l,className:bt(t,r,l&&"disabled",g.isActive&&"active")})});xg.displayName="NavLink";const d1=R.forwardRef((r,t)=>{const{as:e="div",bsPrefix:s,variant:o,fill:l=!1,justify:f=!1,navbar:d,navbarScroll:m,className:g,activeKey:y,..._}=bh(r,{activeKey:"onSelect"}),b=Dt(s,"nav");let D,U,H=!1;const L=R.useContext(Da),J=R.useContext(hb);return L?(D=L.bsPrefix,H=d??!0):J&&({cardHeaderBsPrefix:U}=J),N.jsx(nx,{as:e,ref:t,activeKey:y,className:bt(g,{[b]:!H,[`${D}-nav`]:H,[`${D}-nav-scroll`]:H&&m,[`${U}-${o}`]:!!U,[`${b}-${o}`]:!!o,[`${b}-fill`]:l,[`${b}-justified`]:f}),..._})});d1.displayName="Nav";const Cx=Object.assign(d1,{Item:h1,Link:xg}),p1=R.forwardRef(({bsPrefix:r,className:t,as:e,...s},o)=>{r=Dt(r,"navbar-brand");const l=e||(s.href?"a":"span");return N.jsx(l,{...s,ref:o,className:bt(t,r)})});p1.displayName="NavbarBrand";const m1=R.forwardRef(({children:r,bsPrefix:t,...e},s)=>{t=Dt(t,"navbar-collapse");const o=R.useContext(Da);return N.jsx(ag,{in:!!(o&&o.expanded),...e,children:N.jsx("div",{ref:s,className:t,children:r})})});m1.displayName="NavbarCollapse";const g1=R.forwardRef(({bsPrefix:r,className:t,children:e,label:s="Toggle navigation",as:o="button",onClick:l,...f},d)=>{r=Dt(r,"navbar-toggler");const{onToggle:m,expanded:g}=R.useContext(Da)||{},y=wa(_=>{l&&l(_),m&&m()});return o==="button"&&(f.type="button"),N.jsx(o,{...f,ref:d,onClick:y,"aria-label":s,className:bt(t,r,!g&&"collapsed"),children:e||N.jsx("span",{className:`${r}-icon`})})});g1.displayName="NavbarToggle";const Om=new WeakMap,bE=(r,t)=>{if(!r||!t)return;const e=Om.get(t)||new Map;Om.set(t,e);let s=e.get(r);return s||(s=t.matchMedia(r),s.refCount=0,e.set(s.media,s)),s};function Ix(r,t=typeof window>"u"?void 0:window){const e=bE(r,t),[s,o]=R.useState(()=>e?e.matches:!1);return Ub(()=>{let l=bE(r,t);if(!l)return o(!1);let f=Om.get(t);const d=()=>{o(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&(f==null||f.delete(l.media)),l=void 0}},[r]),s}function xx(r){const t=Object.keys(r);function e(d,m){return d===m?m:d?`${d} and ${m}`:m}function s(d){return t[Math.min(t.indexOf(d)+1,t.length-1)]}function o(d){const m=s(d);let g=r[m];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(d){let m=r[d];return typeof m=="number"&&(m=`${m}px`),`(min-width: ${m})`}function f(d,m,g){let y;typeof d=="object"?(y=d,g=m,m=!0):(m=m||!0,y={[d]:m});let _=R.useMemo(()=>Object.entries(y).reduce((b,[D,U])=>((U==="up"||U===!0)&&(b=e(b,l(D))),(U==="down"||U===!0)&&(b=e(b,o(D))),b),""),[JSON.stringify(y)]);return Ix(_,g)}return f}const Ox=xx({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),v1=R.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=Dt(t,"offcanvas-body"),N.jsx(e,{ref:o,className:bt(r,t),...s})));v1.displayName="OffcanvasBody";const Nx={[Er]:"show",[xi]:"show"},y1=R.forwardRef(({bsPrefix:r,className:t,children:e,in:s=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:f=!1,...d},m)=>(r=Dt(r,"offcanvas"),N.jsx(Sh,{ref:m,addEndListener:sg,in:s,mountOnEnter:o,unmountOnExit:l,appear:f,...d,childRef:Wo(e),children:(g,y)=>R.cloneElement(e,{...y,className:bt(t,e.props.className,(g===Er||g===Au)&&`${r}-toggling`,Nx[g])})})));y1.displayName="OffcanvasToggling";const _1=R.forwardRef(({bsPrefix:r,className:t,closeLabel:e="Close",closeButton:s=!1,...o},l)=>(r=Dt(r,"offcanvas-header"),N.jsx(Ig,{ref:l,...o,className:bt(t,r),closeLabel:e,closeButton:s})));_1.displayName="OffcanvasHeader";const Dx=ub("h5"),E1=R.forwardRef(({className:r,bsPrefix:t,as:e=Dx,...s},o)=>(t=Dt(t,"offcanvas-title"),N.jsx(e,{ref:o,className:bt(r,t),...s})));E1.displayName="OffcanvasTitle";function Mx(r){return N.jsx(y1,{...r})}function kx(r){return N.jsx(Rh,{...r})}const T1=R.forwardRef(({bsPrefix:r,className:t,children:e,"aria-labelledby":s,placement:o="start",responsive:l,show:f=!1,backdrop:d=!0,keyboard:m=!0,scroll:g=!1,onEscapeKeyDown:y,onShow:_,onHide:b,container:D,autoFocus:U=!0,enforceFocus:H=!0,restoreFocus:L=!0,restoreFocusOptions:J,onEntered:nt,onExit:X,onExiting:rt,onEnter:tt,onEntering:W,onExited:x,backdropClassName:A,manager:I,renderStaticNode:M=!1,...O},k)=>{const C=R.useRef();r=Dt(r,"offcanvas");const[xt,Tt]=R.useState(!1),B=wa(b),at=Ox(l||"xs","up");R.useEffect(()=>{Tt(l?f&&!at:f)},[f,l,at]);const ht=R.useMemo(()=>({onHide:B}),[B]);function yt(){return I||(g?(C.current||(C.current=new s1({handleContainerOverflow:!1})),C.current):a1())}const V=(ft,...gt)=>{ft&&(ft.style.visibility="visible"),tt==null||tt(ft,...gt)},K=(ft,...gt)=>{ft&&(ft.style.visibility=""),x==null||x(...gt)},st=R.useCallback(ft=>N.jsx("div",{...ft,className:bt(`${r}-backdrop`,A)}),[A,r]),Z=ft=>N.jsx("div",{...ft,...O,className:bt(t,l?`${r}-${l}`:r,`${r}-${o}`),"aria-labelledby":s,children:e});return N.jsxs(N.Fragment,{children:[!xt&&(l||M)&&Z({}),N.jsx(Rg.Provider,{value:ht,children:N.jsx(i1,{show:xt,ref:k,backdrop:d,container:D,keyboard:m,autoFocus:U,enforceFocus:H&&!g,restoreFocus:L,restoreFocusOptions:J,onEscapeKeyDown:y,onShow:_,onHide:B,onEnter:V,onEntering:W,onEntered:nt,onExit:X,onExiting:rt,onExited:K,manager:yt(),transition:Mx,backdropTransition:kx,renderBackdrop:st,renderDialog:Z})})]})});T1.displayName="Offcanvas";const Vx=Object.assign(T1,{Body:v1,Header:_1,Title:E1}),b1=R.forwardRef(({onHide:r,...t},e)=>{const s=R.useContext(Da),o=wa(()=>{s==null||s.onToggle==null||s.onToggle(),r==null||r()});return N.jsx(Vx,{ref:e,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});b1.displayName="NavbarOffcanvas";const w1=R.forwardRef(({className:r,bsPrefix:t,as:e="span",...s},o)=>(t=Dt(t,"navbar-text"),N.jsx(e,{ref:o,className:bt(r,t),...s})));w1.displayName="NavbarText";const S1=R.forwardRef((r,t)=>{const{bsPrefix:e,expand:s=!0,variant:o="light",bg:l,fixed:f,sticky:d,className:m,as:g="nav",expanded:y,onToggle:_,onSelect:b,collapseOnSelect:D=!1,...U}=bh(r,{expanded:"onToggle"}),H=Dt(e,"navbar"),L=R.useCallback((...X)=>{b==null||b(...X),D&&y&&(_==null||_(!1))},[b,D,y,_]);U.role===void 0&&g!=="nav"&&(U.role="navigation");let J=`${H}-expand`;typeof s=="string"&&(J=`${J}-${s}`);const nt=R.useMemo(()=>({onToggle:()=>_==null?void 0:_(!y),bsPrefix:H,expanded:!!y,expand:s}),[H,y,s,_]);return N.jsx(Da.Provider,{value:nt,children:N.jsx(Aa.Provider,{value:L,children:N.jsx(g,{ref:t,...U,className:bt(m,H,s&&J,o&&`${H}-${o}`,l&&`bg-${l}`,d&&`sticky-${d}`,f&&`fixed-${f}`)})})})});S1.displayName="Navbar";const xf=Object.assign(S1,{Brand:p1,Collapse:m1,Offcanvas:b1,Text:w1,Toggle:g1}),A1=R.forwardRef(({id:r,title:t,children:e,bsPrefix:s,className:o,rootCloseEvent:l,menuRole:f,disabled:d,active:m,renderMenuOnMount:g,menuVariant:y,..._},b)=>{const D=Dt(void 0,"nav-item");return N.jsxs(Ea,{ref:b,..._,className:bt(o,D),children:[N.jsx(Ea.Toggle,{id:r,eventKey:null,active:m,disabled:d,childBsPrefix:s,as:xg,children:t}),N.jsx(Ea.Menu,{role:f,renderOnMount:g,rootCloseEvent:l,variant:y,children:e})]})});A1.displayName="NavDropdown";const Of=Object.assign(A1,{Item:Ea.Item,ItemText:Ea.ItemText,Divider:Ea.Divider,Header:Ea.Header}),Uf=5,um=6,cm=["black","black","black","black","black"];function Og({darkMode:r,userData:t,setUserData:e,gameMode:s,solution:o,wordSet:l,isGameOver:f,toggleIsGameOver:d,toggleRestart:m}){const g=R.useRef(["",cm]),[y,_]=R.useState(new Array(um).fill(["",cm])),b=R.useRef(0),[D,U]=R.useState(null),H=R.useRef(!0),L=R.useRef(null),J=W=>new Promise(x=>setTimeout(x,W)),nt=W=>{const x=[...y];x[b.current]=W,_(x)},X=()=>{const W=new Array(5).fill(void 0),x=new Map,A=[];let I=0;const M=new Map;o.forEach(O=>M.has(O)?M.set(O,M.get(O)+1):M.set(O,1)),g.current[0].split("").forEach((O,k)=>{O===o[k]?(W[k]="green",x.set(O,"green"),I++,M.set(O,M.get(O)-1)):A.push(k)}),A.forEach(O=>{const k=g.current[0][O];M.get(k)&&o.includes(k)?(W[O]="orange",M.set(k,M.get(k)-1),!x.has(k)&&x.set(k,"orange")):(W[O]="grey",!x.has(k)&&x.set(k,"grey"))}),x.forEach((O,k)=>{var C;(C=L.current)==null||C.udpateKeyColor(k,O)}),I===Uf&&(b.current===0&&U("Sigma Guess!"),b.current===1&&U("Giga Chad!"),b.current===2&&U("You got that Worlde rizz!"),b.current===3&&U("Crocodilo bombardiro approves!"),b.current===4&&U("You understood the assignment!"),b.current===5&&U("Last brain cell activated!?%"),d()),g.current=[g.current[0],W],nt(g.current)},rt=W=>{tt(W.target.id)},tt=async W=>{!f&&H.current&&(W==="ENTER"&&g.current[0].length===Uf?l.current.has(g.current[0])?(H.current=!1,X(),await J(1700),b.current++,g.current=["",cm],H.current=!0,!f&&b.current>=um&&(d(),b.current++,U(N.jsx(wE,{message:`Did you even try? (${o.join("")})`}))),console.log(b.current)):_a.warning("Not in the word bank."):b.current<um&&(W==="BACKSPACE"&&g.current[0].length>0?(g.current[0]=g.current[0].slice(0,-1),nt(g.current)):/[A-Z]/.test(W)&&W.length===1&&g.current[0].length<Uf&&(g.current[0]=g.current[0]+W,nt(g.current))))};return R.useEffect(()=>{const W=x=>{tt(x.key.toUpperCase())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[y]),N.jsxs(N.Fragment,{children:[N.jsx(rg,{richColors:!0,position:"top-center"}),t&&N.jsx("h1",{className:`nickname-paragraph ${r}`,children:t.get("nickname")}),t&&N.jsx("p",{className:`paragraph ${r}`,children:"is playing"}),N.jsx("h3",{className:`game-mode ${r}`,children:s}),f&&N.jsx(wE,{message:D,darkMode:r}),N.jsx("div",{className:"wordle-board",children:y.map((W,x)=>N.jsx(Px,{guess:W,darkMode:r},x))}),f?N.jsx(Pi,{variant:"primary",onClick:()=>{m(),d()},children:"Play again"}):N.jsx(Th.Provider,{value:{handleKeyClick:rt},children:N.jsx(VR,{darkMode:r,ref:L})})]})}function Px({guess:r,darkMode:t}){const e=[];for(let s=0;s<Uf;s++){let o=r[0][s],l=`tile ${r[1][s]}`,f=`letter ${r[1][s]} ${t}`;e.push(N.jsx("div",{className:l,style:{"--index":s},children:N.jsxs("div",{className:"tile-inner",style:{"--index":s},children:[N.jsx("div",{className:`letter black ${t}`,style:{"--index":s},children:N.jsx("span",{children:o})}),N.jsx("div",{className:f,style:{"--index":s},children:N.jsx("span",{children:o})})]})},s))}return N.jsx(N.Fragment,{children:e})}function wE({message:r,darkMode:t}){return N.jsx("div",{className:`message ${t}`,children:r})}const Lx=(r=!0)=>{const t=R.useRef(r),[e,s]=R.useState(t.current?"dark":"light"),o=R.useCallback(()=>{t.current=!t.current,s(t.current?"dark":"light")},[]);return[e,o]};var R1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},SE=ut.createContext&&ut.createContext(R1),Ux=["attr","size","title"];function jx(r,t){if(r==null)return{};var e=Bx(r,t),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)s=l[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(e[s]=r[s])}return e}function Bx(r,t){if(r==null)return{};var e={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function Zf(){return Zf=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Zf.apply(this,arguments)}function AE(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,s)}return e}function Jf(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(e),!0).forEach(function(s){zx(r,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):AE(Object(e)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(e,s))})}return r}function zx(r,t,e){return t=Hx(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Hx(r){var t=qx(r,"string");return typeof t=="symbol"?t:t+""}function qx(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var s=e.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function C1(r){return r&&r.map((t,e)=>ut.createElement(t.tag,Jf({key:e},t.attr),C1(t.child)))}function Ng(r){return t=>ut.createElement(Fx,Zf({attr:Jf({},r.attr)},t),C1(r.child))}function Fx(r){var t=e=>{var{attr:s,size:o,title:l}=r,f=jx(r,Ux),d=o||e.size||"1em",m;return e.className&&(m=e.className),r.className&&(m=(m?m+" ":"")+r.className),ut.createElement("svg",Zf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,f,{className:m,style:Jf(Jf({color:r.color||e.color},e.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ut.createElement("title",null,l),r.children)};return SE!==void 0?ut.createElement(SE.Consumer,null,e=>t(e)):t(R1)}function $x(r){return Ng({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(r)}const Gx=["practice","classic","royale"];function Kx({togglePlayWordle:r,gameMode:t,setGameMode:e,className:s=""}){const[o,l]=R.useState(Gx),[f,d]=R.useState(t),m=R.useRef(null),[g,y]=R.useState(!1);return R.useEffect(()=>{const _=b=>{m.current&&!m.current.contains(b.target)&&y(!1)};return document.addEventListener("mousedown",b=>_(b)),()=>document.addEventListener("mousedown",b=>_(b))},[]),N.jsxs("div",{className:`game-mode-selector ${s}`,children:[N.jsx("div",{className:"play-btn flex-center",onClick:r,children:N.jsx($x,{})}),N.jsx(Rf,{activeKey:"true",className:"game-mode",ref:m,children:N.jsxs(Rf.Item,{eventKey:String(g),style:{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},children:[N.jsx(Rf.Header,{onClick:()=>{y(!g)},children:N.jsx("span",{className:"current-mode",children:f.toUpperCase()})}),N.jsx(Rf.Body,{onExited:()=>e(f),children:N.jsx("ol",{children:o.map((_,b)=>_===t?null:N.jsx("li",{onClick:()=>{y(!1),d(_)},children:N.jsx("span",{className:"mode",children:_.toUpperCase()})},b))})})]})})]})}function Yx({togglePlayWordle:r,gameMode:t,setGameMode:e,darkMode:s}){return N.jsx("div",{className:"homepage flex-center",children:N.jsx(Kx,{togglePlayWordle:r,gameMode:t,setGameMode:e,className:s})})}const Qx=()=>{};var RE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=function(r){const t=[];let e=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},Xx=function(r){const t=[];let e=0,s=0;for(;e<r.length;){const o=r[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[e++];t[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[e++],f=r[e++],d=r[e++],m=((o&7)<<18|(l&63)<<12|(f&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=r[e++],f=r[e++];t[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|f&63)}}return t.join("")},x1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],f=o+1<r.length,d=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,D=g&63;m||(D=64,f||(b=64)),s.push(e[y],e[_],e[b],e[D])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(I1(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Xx(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=e[r.charAt(o++)],d=o<r.length?e[r.charAt(o)]:0;++o;const g=o<r.length?e[r.charAt(o)]:64;++o;const _=o<r.length?e[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||_==null)throw new Wx;const b=l<<2|d>>4;if(s.push(b),g!==64){const D=d<<4&240|g>>2;if(s.push(D),_!==64){const U=g<<6&192|_;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Wx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zx=function(r){const t=I1(r);return x1.encodeByteArray(t,!0)},th=function(r){return Zx(r).replace(/\./g,"")},O1=function(r){try{return x1.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=()=>Jx().__FIREBASE_DEFAULTS__,eO=()=>{if(typeof process>"u"||typeof RE>"u")return;const r=RE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},nO=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&O1(r[1]);return t&&JSON.parse(t)},Mh=()=>{try{return Qx()||tO()||eO()||nO()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},N1=r=>{var t,e;return(e=(t=Mh())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[r]},rO=r=>{const t=N1(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},D1=()=>{var r;return(r=Mh())===null||r===void 0?void 0:r.config},M1=r=>{var t;return(t=Mh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(r){return r.endsWith(".cloudworkstations.dev")}async function k1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[th(JSON.stringify(e)),th(JSON.stringify(f)),""].join(".")}const _u={};function aO(){const r={prod:[],emulator:[]};for(const t of Object.keys(_u))_u[t]?r.emulator.push(t):r.prod.push(t);return r}function oO(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let CE=!1;function V1(r,t){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||_u[r]===t||_u[r]||CE)return;_u[r]=t;function e(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=aO().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{CE=!0,f()},b}function y(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=oO(s),D=e("text"),U=document.getElementById(D)||document.createElement("span"),H=e("learnmore"),L=document.getElementById(H)||document.createElement("a"),J=e("preprendIcon"),nt=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;d(X),y(L,H);const rt=g();m(nt,J),X.append(nt,U,L,rt),document.body.appendChild(X)}l?(U.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function uO(){var r;const t=(r=Mh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fO(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function hO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dO(){const r=En();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pO(){return!uO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mO(){try{return typeof indexedDB=="object"}catch{return!1}}function gO(){return new Promise((r,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="FirebaseError";class Fi extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=vO,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ku.prototype.create)}}class Ku{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],f=l?yO(l,s):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new Fi(o,d,s)}}function yO(r,t){return r.replace(_O,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const _O=/\{\$([^}]+)}/g;function EO(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ra(r,t){if(r===t)return!0;const e=Object.keys(r),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const l=r[o],f=t[o];if(IE(l)&&IE(f)){if(!Ra(l,f))return!1}else if(l!==f)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function IE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(r){const t=[];for(const[e,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function fu(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function hu(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function TO(r,t){const e=new bO(r,t);return e.subscribe.bind(e)}class bO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");wO(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wO(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(r){return r&&r._delegate?r._delegate:r}class Ca{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new iO;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RO(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&f.resolve(o)}return o}onInit(t,e){var s;const o=this.normalizeInstanceIdentifier(e),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(o,l);const f=this.instances.get(o);return f&&t(f,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:AO(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AO(r){return r===va?void 0:r}function RO(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new SO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ft||(Ft={}));const IO={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},xO=Ft.INFO,OO={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},NO=(r,t,...e)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=OO[t];if(o)console[o](`[${s}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dg{constructor(t){this.name=t,this._logLevel=xO,this._logHandler=NO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?IO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const DO=(r,t)=>t.some(e=>r instanceof e);let xE,OE;function MO(){return xE||(xE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kO(){return OE||(OE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,Nm=new WeakMap,L1=new WeakMap,hm=new WeakMap,Mg=new WeakMap;function VO(r){const t=new Promise((e,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",f)},l=()=>{e(Rs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&P1.set(e,r)}).catch(()=>{}),Mg.set(t,r),t}function PO(r){if(Nm.has(r))return;const t=new Promise((e,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",f),r.removeEventListener("abort",f)},l=()=>{e(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",f),r.addEventListener("abort",f)});Nm.set(r,t)}let Dm={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return Nm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||L1.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Rs(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function LO(r){Dm=r(Dm)}function UO(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=r.call(dm(this),t,...e);return L1.set(s,t.sort?t.sort():[t]),Rs(s)}:kO().includes(r)?function(...t){return r.apply(dm(this),t),Rs(P1.get(this))}:function(...t){return Rs(r.apply(dm(this),t))}}function jO(r){return typeof r=="function"?UO(r):(r instanceof IDBTransaction&&PO(r),DO(r,MO())?new Proxy(r,Dm):r)}function Rs(r){if(r instanceof IDBRequest)return VO(r);if(hm.has(r))return hm.get(r);const t=jO(r);return t!==r&&(hm.set(r,t),Mg.set(t,r)),t}const dm=r=>Mg.get(r);function BO(r,t,{blocked:e,upgrade:s,blocking:o,terminated:l}={}){const f=indexedDB.open(r,t),d=Rs(f);return s&&f.addEventListener("upgradeneeded",m=>{s(Rs(f.result),m.oldVersion,m.newVersion,Rs(f.transaction),m)}),e&&f.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const zO=["get","getKey","getAll","getAllKeys","count"],HO=["put","add","delete","clear"],pm=new Map;function NE(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(pm.get(t))return pm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=HO.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zO.includes(e)))return;const l=async function(f,...d){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&m.done]))[0]};return pm.set(t,l),l}LO(r=>({...r,get:(t,e,s)=>NE(t,e)||r.get(t,e,s),has:(t,e)=>!!NE(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(FO(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function FO(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Mm="@firebase/app",DE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Dg("@firebase/app"),$O="@firebase/app-compat",GO="@firebase/analytics-compat",KO="@firebase/analytics",YO="@firebase/app-check-compat",QO="@firebase/app-check",XO="@firebase/auth",WO="@firebase/auth-compat",ZO="@firebase/database",JO="@firebase/data-connect",tN="@firebase/database-compat",eN="@firebase/functions",nN="@firebase/functions-compat",rN="@firebase/installations",iN="@firebase/installations-compat",sN="@firebase/messaging",aN="@firebase/messaging-compat",oN="@firebase/performance",lN="@firebase/performance-compat",uN="@firebase/remote-config",cN="@firebase/remote-config-compat",fN="@firebase/storage",hN="@firebase/storage-compat",dN="@firebase/firestore",pN="@firebase/ai",mN="@firebase/firestore-compat",gN="firebase",vN="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",yN={[Mm]:"fire-core",[$O]:"fire-core-compat",[KO]:"fire-analytics",[GO]:"fire-analytics-compat",[QO]:"fire-app-check",[YO]:"fire-app-check-compat",[XO]:"fire-auth",[WO]:"fire-auth-compat",[ZO]:"fire-rtdb",[JO]:"fire-data-connect",[tN]:"fire-rtdb-compat",[eN]:"fire-fn",[nN]:"fire-fn-compat",[rN]:"fire-iid",[iN]:"fire-iid-compat",[sN]:"fire-fcm",[aN]:"fire-fcm-compat",[oN]:"fire-perf",[lN]:"fire-perf-compat",[uN]:"fire-rc",[cN]:"fire-rc-compat",[fN]:"fire-gcs",[hN]:"fire-gcs-compat",[dN]:"fire-fst",[mN]:"fire-fst-compat",[pN]:"fire-vertex","fire-js":"fire-js",[gN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,_N=new Map,Vm=new Map;function ME(r,t){try{r.container.addComponent(t)}catch(e){ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function qo(r){const t=r.name;if(Vm.has(t))return ji.debug(`There were multiple attempts to register component ${t}.`),!1;Vm.set(t,r);for(const e of eh.values())ME(e,r);for(const e of _N.values())ME(e,r);return!0}function kg(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function ar(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Ku("app","Firebase",EN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=vN;function U1(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:km,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Cs.create("bad-app-name",{appName:String(o)});if(e||(e=D1()),!e)throw Cs.create("no-options");const l=eh.get(o);if(l){if(Ra(e,l.options)&&Ra(s,l.config))return l;throw Cs.create("duplicate-app",{appName:o})}const f=new CO(o);for(const m of Vm.values())f.addComponent(m);const d=new TN(e,s,f);return eh.set(o,d),d}function j1(r=km){const t=eh.get(r);if(!t&&r===km&&D1())return U1();if(!t)throw Cs.create("no-app",{appName:r});return t}function Is(r,t,e){var s;let o=(s=yN[r])!==null&&s!==void 0?s:r;e&&(o+=`-${e}`);const l=o.match(/\s|\//),f=t.match(/\s|\//);if(l||f){const d=[`Unable to register library "${o}" with version "${t}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&f&&d.push("and"),f&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ji.warn(d.join(" "));return}qo(new Ca(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="firebase-heartbeat-database",wN=1,xu="firebase-heartbeat-store";let mm=null;function B1(){return mm||(mm=BO(bN,wN,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xu)}catch(e){console.warn(e)}}}}).catch(r=>{throw Cs.create("idb-open",{originalErrorMessage:r.message})})),mm}async function SN(r){try{const e=(await B1()).transaction(xu),s=await e.objectStore(xu).get(z1(r));return await e.done,s}catch(t){if(t instanceof Fi)ji.warn(t.message);else{const e=Cs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ji.warn(e.message)}}}async function kE(r,t){try{const s=(await B1()).transaction(xu,"readwrite");await s.objectStore(xu).put(t,z1(r)),await s.done}catch(e){if(e instanceof Fi)ji.warn(e.message);else{const s=Cs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ji.warn(s.message)}}}function z1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1024,RN=30;class CN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new xN(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=VE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(f=>f.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>RN){const f=ON(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ji.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=VE(),{heartbeatsToSend:s,unsentEntries:o}=IN(this._heartbeatsCache.heartbeats),l=th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ji.warn(e),""}}}function VE(){return new Date().toISOString().substring(0,10)}function IN(r,t=AN){const e=[];let s=r.slice();for(const o of r){const l=e.find(f=>f.agent===o.agent);if(l){if(l.dates.push(o.date),PE(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),PE(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class xN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mO()?gO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await SN(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return kE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return kE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function PE(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function ON(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let s=1;s<r.length;s++)r[s].date<e&&(e=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(r){qo(new Ca("platform-logger",t=>new qO(t),"PRIVATE")),qo(new Ca("heartbeat",t=>new CN(t),"PRIVATE")),Is(Mm,DE,r),Is(Mm,DE,"esm2017"),Is("fire-js","")}NN("");function Vg(r,t){var e={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(e[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(e[s[o]]=r[s[o]]);return e}function H1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DN=H1,q1=new Ku("auth","Firebase",H1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Dg("@firebase/auth");function MN(r,...t){nh.logLevel<=Ft.WARN&&nh.warn(`Auth (${el}): ${r}`,...t)}function jf(r,...t){nh.logLevel<=Ft.ERROR&&nh.error(`Auth (${el}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,...t){throw Pg(r,...t)}function Kr(r,...t){return Pg(r,...t)}function F1(r,t,e){const s=Object.assign(Object.assign({},DN()),{[t]:e});return new Ku("auth","Firebase",s).create(t,{appName:r.name})}function ki(r){return F1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pg(r,...t){if(typeof r!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(e,...s)}return q1.create(r,...t)}function It(r,t,...e){if(!r)throw Pg(t,...e)}function Oi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jf(t),new Error(t)}function Bi(r,t){r||Oi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function kN(){return LE()==="http:"||LE()==="https:"}function LE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kN()||fO()||"connection"in navigator)?navigator.onLine:!0}function PN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Bi(e>t,"Short delay should be less than long delay!"),this.isMobile=lO()||hO()}get(){return VN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(r,t){Bi(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jN=new Qu(3e4,6e4);function js(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Bs(r,t,e,s,o={}){return G1(r,o,async()=>{let l={},f={};s&&(t==="GET"?f=s:l={body:JSON.stringify(s)});const d=Yu(Object.assign({key:r.config.apiKey},f)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:m},l);return cO()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&tl(r.emulatorConfig.host)&&(g.credentials="include"),$1.fetch()(await K1(r,r.config.apiHost,e,d),g)})}async function G1(r,t,e){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},LN),t);try{const o=new zN(r),l=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const f=await l.json();if("needConfirmation"in f)throw Nf(r,"account-exists-with-different-credential",f);if(l.ok&&!("errorMessage"in f))return f;{const d=l.ok?f.errorMessage:f.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nf(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Nf(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw Nf(r,"user-disabled",f);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw F1(r,y,g);Sr(r,y)}}catch(o){if(o instanceof Fi)throw o;Sr(r,"network-request-failed",{message:String(o)})}}async function Xu(r,t,e,s,o={}){const l=await Bs(r,t,e,s,o);return"mfaPendingCredential"in l&&Sr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function K1(r,t,e,s){const o=`${t}${e}?${s}`,l=r,f=l.config.emulator?Lg(r.config,o):`${r.config.apiScheme}://${o}`;return UN.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(f).toString():f}function BN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Kr(this.auth,"network-request-failed")),jN.get())})}}function Nf(r,t,e){const s={appName:r.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=Kr(r,t,s);return o.customData._tokenResponse=e,o}function UE(r){return r!==void 0&&r.enterprise!==void 0}class HN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return BN(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qN(r,t){return Bs(r,"GET","/v2/recaptchaConfig",js(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(r,t){return Bs(r,"POST","/v1/accounts:delete",t)}async function rh(r,t){return Bs(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $N(r,t=!1){const e=wr(r),s=await e.getIdToken(t),o=Ug(s);It(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,f=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Eu(gm(o.auth_time)),issuedAtTime:Eu(gm(o.iat)),expirationTime:Eu(gm(o.exp)),signInProvider:f||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function gm(r){return Number(r)*1e3}function Ug(r){const[t,e,s]=r.split(".");if(t===void 0||e===void 0||s===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const o=O1(e);return o?JSON.parse(o):(jf("Failed to decode base64 JWT payload"),null)}catch(o){return jf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function jE(r){const t=Ug(r);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(r,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Fi&&GN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function GN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(r){var t;const e=r.auth,s=await r.getIdToken(),o=await Ou(r,rh(e,{idToken:s}));It(o==null?void 0:o.users.length,e,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const f=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?Y1(l.providerUserInfo):[],d=QN(r.providerData,f),m=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Lm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function YN(r){const t=wr(r);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QN(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function Y1(r){return r.map(t=>{var{providerId:e}=t,s=Vg(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(r,t){const e=await G1(r,{},async()=>{const s=Yu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,f=await K1(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return r.emulatorConfig&&tl(r.emulatorConfig.host)&&(m.credentials="include"),$1.fetch()(f,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function WN(r,t){return Bs(r,"POST","/v2/accounts:revokeToken",js(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):jE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){It(t.length!==0,"internal-error");const e=jE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:l}=await XN(t,e);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:l}=e,f=new Vo;return s&&(It(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(It(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),l&&(It(typeof l=="number","internal-error",{appName:t}),f.expirationTime=l),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(r,t){It(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Tr{constructor(t){var{uid:e,auth:s,stsTokenManager:o}=t,l=Vg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Lm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await Ou(this,this.stsTokenManager.getToken(this.auth,t));return It(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return $N(this,t)}reload(){return YN(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Tr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(ki(this.auth));const t=await this.getIdToken();return await Ou(this,FN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,o,l,f,d,m,g,y;const _=(s=e.displayName)!==null&&s!==void 0?s:void 0,b=(o=e.email)!==null&&o!==void 0?o:void 0,D=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,U=(f=e.photoURL)!==null&&f!==void 0?f:void 0,H=(d=e.tenantId)!==null&&d!==void 0?d:void 0,L=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,J=(g=e.createdAt)!==null&&g!==void 0?g:void 0,nt=(y=e.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:X,emailVerified:rt,isAnonymous:tt,providerData:W,stsTokenManager:x}=e;It(X&&x,t,"internal-error");const A=Vo.fromJSON(this.name,x);It(typeof X=="string",t,"internal-error"),ys(_,t.name),ys(b,t.name),It(typeof rt=="boolean",t,"internal-error"),It(typeof tt=="boolean",t,"internal-error"),ys(D,t.name),ys(U,t.name),ys(H,t.name),ys(L,t.name),ys(J,t.name),ys(nt,t.name);const I=new Tr({uid:X,auth:t,email:b,emailVerified:rt,displayName:_,isAnonymous:tt,photoURL:U,phoneNumber:D,tenantId:H,stsTokenManager:A,createdAt:J,lastLoginAt:nt});return W&&Array.isArray(W)&&(I.providerData=W.map(M=>Object.assign({},M))),L&&(I._redirectEventId=L),I}static async _fromIdTokenResponse(t,e,s=!1){const o=new Vo;o.updateFromServerResponse(e);const l=new Tr({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await ih(l),l}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];It(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Y1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Vo;d.updateFromIdToken(s);const m=new Tr({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;function Ni(r){Bi(r instanceof Function,"Expected a class definition");let t=BE.get(r);return t?(Bi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,BE.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Q1.type="NONE";const zE=Q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(r,t,e){return`firebase:${r}:${t}:${e}`}class Po{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Bf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Bf("persistence",o.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await rh(this.auth,{idToken:t}).catch(()=>{});return e?Tr._fromGetAccountInfoResponse(this.auth,e,t):null}return Tr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Po(Ni(zE),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Ni(zE);const f=Bf(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const y=await g._get(f);if(y){let _;if(typeof y=="string"){const b=await rh(t,{idToken:y}).catch(()=>{});if(!b)break;_=await Tr._fromGetAccountInfoResponse(t,b,y)}else _=Tr._fromJSON(t,y);g!==l&&(d=_),l=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Po(l,t,s):(l=m[0],d&&await l._set(f,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(f)}catch{}})),new Po(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(J1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(X1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ew(t))return"Blackberry";if(nw(t))return"Webos";if(W1(t))return"Safari";if((t.includes("chrome/")||Z1(t))&&!t.includes("edge/"))return"Chrome";if(tw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function X1(r=En()){return/firefox\//i.test(r)}function W1(r=En()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Z1(r=En()){return/crios\//i.test(r)}function J1(r=En()){return/iemobile/i.test(r)}function tw(r=En()){return/android/i.test(r)}function ew(r=En()){return/blackberry/i.test(r)}function nw(r=En()){return/webos/i.test(r)}function jg(r=En()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ZN(r=En()){var t;return jg(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function JN(){return dO()&&document.documentMode===10}function rw(r=En()){return jg(r)||tw(r)||nw(r)||ew(r)||/windows phone/i.test(r)||J1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(r,t=[]){let e;switch(r){case"Browser":e=HE(En());break;case"Worker":e=`${HE(En())}-${r}`;break;default:e=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${el}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((f,d)=>{try{const m=t(l);f(m)}catch(m){d(m)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r,t={}){return Bs(r,"GET","/v2/passwordPolicy",js(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=6;class rD{constructor(t){var e,s,o,l;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=f.minPasswordLength)!==null&&e!==void 0?e:nD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,o,l,f,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qE(this),this.idTokenSubscription=new qE(this),this.beforeStateQueue=new tD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ni(e)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await Po.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await rh(this,{idToken:t}),s=await Tr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ar(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===d)&&(m!=null&&m.user)&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ar(this.app))return Promise.reject(ki(this));const e=t?wr(t):null;return e&&It(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ar(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eD(this),e=new rD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ku("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await WN(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ni(t)||this._popupRedirectResolver;It(e,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Ni(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(d,this,"internal-error"),d.then(()=>{f||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,s,o);return()=>{f=!0,m()}}else{const m=t.addObserver(e);return()=>{f=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&MN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ma(r){return wr(r)}class qE{constructor(t){this.auth=t,this.observer=null,this.addObserver=TO(e=>this.observer=e)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sD(r){kh=r}function sw(r){return kh.loadJS(r)}function aD(){return kh.recaptchaEnterpriseScript}function oD(){return kh.gapiScript}function lD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class uD{constructor(){this.enterprise=new cD}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class cD{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const fD="recaptcha-enterprise",aw="NO_RECAPTCHA";class hD{constructor(t){this.type=fD,this.auth=Ma(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(f,d)=>{qN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new HN(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,f(g.siteKey)}}).catch(m=>{d(m)})})}function o(l,f,d){const m=window.grecaptcha;UE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(g=>{f(g)}).catch(()=>{f(aw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uD().execute("siteKey",{action:"verify"}):new Promise((l,f)=>{s(this.auth).then(d=>{if(!e&&UE(window.grecaptcha))o(d,l,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=aD();m.length!==0&&(m+=d),sw(m).then(()=>{o(d,l,f)}).catch(g=>{f(g)})}}).catch(d=>{f(d)})})}}async function FE(r,t,e,s=!1,o=!1){const l=new hD(r);let f;if(o)f=aw;else try{f=await l.verify(e)}catch{f=await l.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Um(r,t,e,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await FE(r,t,e,e==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await FE(r,t,e,e==="getOobCode");return s(r,d)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(r,t){const e=kg(r,"auth");if(e.isInitialized()){const o=e.getImmediate(),l=e.getOptions();if(Ra(l,t??{}))return o;Sr(o,"already-initialized")}return e.initialize({options:t})}function pD(r,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(Ni);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function mD(r,t,e){const s=Ma(r);It(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,l=ow(t),{host:f,port:d}=gD(t),m=d===null?"":`:${d}`,g={url:`${l}//${f}${m}/`},y=Object.freeze({host:f,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){It(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),It(Ra(g,s.config.emulator)&&Ra(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,tl(f)?(k1(`${l}//${f}${m}`),V1("Auth",!0)):vD()}function ow(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function gD(r){const t=ow(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:$E(s.substr(l.length+1))}}else{const[l,f]=s.split(":");return{host:l,port:$E(f)}}}function $E(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function vD(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Oi("not implemented")}_getIdTokenResponse(t){return Oi("not implemented")}_linkToIdToken(t,e){return Oi("not implemented")}_getReauthenticationResolver(t){return Oi("not implemented")}}async function yD(r,t){return Bs(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(r,t){return Xu(r,"POST","/v1/accounts:signInWithPassword",js(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(r,t){return Xu(r,"POST","/v1/accounts:signInWithEmailLink",js(r,t))}async function TD(r,t){return Xu(r,"POST","/v1/accounts:signInWithEmailLink",js(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Bg{constructor(t,e,s,o=null){super("password",s),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Nu(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new Nu(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(t,e,"signInWithPassword",_D);case"emailLink":return ED(t,{email:this._email,oobCode:this._password});default:Sr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(t,s,"signUpPassword",yD);case"emailLink":return TD(t,{idToken:e,email:this._email,oobCode:this._password});default:Sr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(r,t){return Xu(r,"POST","/v1/accounts:signInWithIdp",js(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="http://localhost";class Ia extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Sr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=e,l=Vg(e,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ia(s,o);return f.idToken=l.idToken||void 0,f.accessToken=l.accessToken||void 0,f.secret=l.secret,f.nonce=l.nonce,f.pendingToken=l.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return Lo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Lo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Lo(t,e)}buildRequest(){const t={requestUri:bD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Yu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SD(r){const t=fu(hu(r)).link,e=t?fu(hu(t)).deep_link_id:null,s=fu(hu(r)).deep_link_id;return(s?fu(hu(s)).link:null)||s||e||t||r}class zg{constructor(t){var e,s,o,l,f,d;const m=fu(hu(t)),g=(e=m.apiKey)!==null&&e!==void 0?e:null,y=(s=m.oobCode)!==null&&s!==void 0?s:null,_=wD((o=m.mode)!==null&&o!==void 0?o:null);It(g&&y&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(f=m.lang)!==null&&f!==void 0?f:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=SD(t);try{return new zg(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(t,e){return Nu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=zg.parseLink(e);return It(s,"argument-error"),Nu._fromEmailAndCode(t,s.code,s.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends lw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Wu{constructor(){super("facebook.com")}static credential(t){return Ia._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Es.credential(t.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ia._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ts.credentialFromTaggedObject(t)}static credentialFromError(t){return Ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return Ts.credential(e,s)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Wu{constructor(){super("github.com")}static credential(t){return Ia._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bs.credential(t.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Wu{constructor(){super("twitter.com")}static credential(t,e){return Ia._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return ws.credential(e,s)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(r,t){return Xu(r,"POST","/v1/accounts:signUp",js(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const l=await Tr._fromIdTokenResponse(t,s,o),f=GE(s);return new xa({user:l,providerId:f,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=GE(s);return new xa({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function GE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Fi{constructor(t,e,s,o){var l;super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new sh(t,e,s,o)}}function uw(r,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(r,l,t,s):l})}async function RD(r,t,e=!1){const s=await Ou(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return xa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(r,t,e=!1){const{auth:s}=r;if(ar(s.app))return Promise.reject(ki(s));const o="reauthenticate";try{const l=await Ou(r,uw(s,o,t,r),e);It(l.idToken,s,"internal-error");const f=Ug(l.idToken);It(f,s,"internal-error");const{sub:d}=f;return It(r.uid===d,s,"user-mismatch"),xa._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Sr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(r,t,e=!1){if(ar(r.app))return Promise.reject(ki(r));const s="signIn",o=await uw(r,s,t),l=await xa._fromIdTokenResponse(r,s,o);return e||await r._updateCurrentUser(l.user),l}async function ID(r,t){return cw(Ma(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(r){const t=Ma(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function xD(r,t,e){if(ar(r.app))return Promise.reject(ki(r));const s=Ma(r),f=await Um(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&fw(r),m}),d=await xa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(d.user),d}function OD(r,t,e){return ar(r.app)?Promise.reject(ki(r)):ID(wr(r),nl.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fw(r),s})}function ND(r,t,e,s){return wr(r).onIdTokenChanged(t,e,s)}function DD(r,t,e){return wr(r).beforeAuthStateChanged(t,e)}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1e3,kD=10;class dw extends hw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,d,m)=>{this.notifyListeners(f,m)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!e&&this.localCache[s]===f||this.notifyListeners(s,f)},l=this.storage.getItem(s);JN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,kD):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}dw.type="LOCAL";const VD=dw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends hw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}pw.type="SESSION";const mw=pw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Vh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:l}=e.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(f).map(async g=>g(e.origin,l)),m=await PD(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(r="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,f;return new Promise((d,m)=>{const g=Hg("",20);o.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(_){const b=_;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function UD(r){Yr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function jD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zD(){return gw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="firebaseLocalStorageDb",HD=1,oh="firebaseLocalStorage",yw="fbase_key";class Zu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Ph(r,t){return r.transaction([oh],t?"readwrite":"readonly").objectStore(oh)}function qD(){const r=indexedDB.deleteDatabase(vw);return new Zu(r).toPromise()}function jm(){const r=indexedDB.open(vw,HD);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(oh,{keyPath:yw})}catch(o){e(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(oh)?t(s):(s.close(),await qD(),t(await jm()))})})}async function KE(r,t,e){const s=Ph(r,!0).put({[yw]:t,value:e});return new Zu(s).toPromise()}async function FD(r,t){const e=Ph(r,!1).get(t),s=await new Zu(e).toPromise();return s===void 0?null:s.value}function YE(r,t){const e=Ph(r,!0).delete(t);return new Zu(e).toPromise()}const $D=800,GD=3;class _w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>GD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(zD()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await jD(),!this.activeServiceWorker)return;this.sender=new LD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jm();return await KE(t,ah,"1"),await YE(t,ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>KE(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>FD(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>YE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=Ph(o,!1).getAll();return new Zu(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_w.type="LOCAL";const KD=_w;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(r,t){return t?Ni(t):(It(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends Bg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Lo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Lo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Lo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function QD(r){return cw(r.auth,new qg(r),r.bypassAuthState)}function XD(r){const{auth:t,user:e}=r;return It(e,t,"internal-error"),CD(e,new qg(r),r.bypassAuthState)}async function WD(r){const{auth:t,user:e}=r;return It(e,t,"internal-error"),RD(e,new qg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,e,s,o,l=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:l,error:f,type:d}=t;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QD;case"linkViaPopup":case"linkViaRedirect":return WD;case"reauthViaPopup":case"reauthViaRedirect":return XD;default:Sr(this.auth,"internal-error")}}resolve(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new Qu(2e3,1e4);class ko extends Ew{constructor(t,e,s,o,l){super(t,e,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const t=Hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZD.get())};t()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="pendingRedirect",zf=new Map;class t4 extends Ew{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=zf.get(this.auth._key());if(!t){try{const s=await e4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}zf.set(this.auth._key(),t)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e4(r,t){const e=i4(t),s=r4(r);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function n4(r,t){zf.set(r._key(),t)}function r4(r){return Ni(r._redirectPersistence)}function i4(r){return Bf(JD,r.config.apiKey,r.name)}async function s4(r,t,e=!1){if(ar(r.app))return Promise.reject(ki(r));const s=Ma(r),o=YD(s,t),f=await new t4(s,o,e).execute();return f&&!e&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=10*60*1e3;class o4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!l4(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!Tw(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(Kr(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=a4&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(t))}saveEventToCache(t){this.cachedEventUids.add(QE(t)),this.lastProcessedEventTime=Date.now()}}function QE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Tw({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function l4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(r,t={}){return Bs(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f4=/^https?/;async function h4(r){if(r.config.emulator)return;const{authorizedDomains:t}=await u4(r);for(const e of t)try{if(d4(e))return}catch{}Sr(r,"unauthorized-domain")}function d4(r){const t=Pm(),{protocol:e,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===s}if(!f4.test(e))return!1;if(c4.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Qu(3e4,6e4);function XE(){const r=Yr().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function m4(r){return new Promise((t,e)=>{var s,o,l;function f(){XE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{XE(),e(Kr(r,"network-request-failed"))},timeout:p4.get()})}if(!((o=(s=Yr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((l=Yr().gapi)===null||l===void 0)&&l.load)f();else{const d=lD("iframefcb");return Yr()[d]=()=>{gapi.load?f():e(Kr(r,"network-request-failed"))},sw(`${oD()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw Hf=null,t})}let Hf=null;function g4(r){return Hf=Hf||m4(r),Hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new Qu(5e3,15e3),y4="__/auth/iframe",_4="emulator/auth/iframe",E4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b4(r){const t=r.config;It(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?Lg(t,_4):`https://${r.config.authDomain}/${y4}`,s={apiKey:t.apiKey,appName:r.name,v:el},o=T4.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${Yu(s).slice(1)}`}async function w4(r){const t=await g4(r),e=Yr().gapi;return It(e,r,"internal-error"),t.open({where:document.body,url:b4(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E4,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const f=Kr(r,"network-request-failed"),d=Yr().setTimeout(()=>{l(f)},v4.get());function m(){Yr().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{l(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A4=500,R4=600,C4="_blank",I4="http://localhost";class WE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x4(r,t,e,s=A4,o=R4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},S4),{width:s.toString(),height:o.toString(),top:l,left:f}),g=En().toLowerCase();e&&(d=Z1(g)?C4:e),X1(g)&&(t=t||I4,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[D,U])=>`${b}${D}=${U},`,"");if(ZN(g)&&d!=="_self")return O4(t||"",d),new WE(null);const _=window.open(t||"",d,y);It(_,r,"popup-blocked");try{_.focus()}catch{}return new WE(_)}function O4(r,t){const e=document.createElement("a");e.href=r,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="__/auth/handler",D4="emulator/auth/handler",M4=encodeURIComponent("fac");async function ZE(r,t,e,s,o,l){It(r.config.authDomain,r,"auth-domain-config-required"),It(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:s,v:el,eventId:o};if(t instanceof lw){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",EO(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))f[y]=_}if(t instanceof Wu){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(f.scopes=y.join(","))}r.tenantId&&(f.tid=r.tenantId);const d=f;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await r._getAppCheckToken(),g=m?`#${M4}=${encodeURIComponent(m)}`:"";return`${k4(r)}?${Yu(d).slice(1)}${g}`}function k4({config:r}){return r.emulator?Lg(r,D4):`https://${r.authDomain}/${N4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class V4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mw,this._completeRedirectFn=s4,this._overrideRedirectResult=n4}async _openPopup(t,e,s,o){var l;Bi((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const f=await ZE(t,e,s,Pm(),o);return x4(t,f,Hg())}async _openRedirect(t,e,s,o){await this._originValidation(t);const l=await ZE(t,e,s,Pm(),o);return UD(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:l}=this.eventManagers[e];return o?Promise.resolve(o):(Bi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await w4(t),s=new o4(t);return e.register("authEvent",o=>(It(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(vm,{type:vm},o=>{var l;const f=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[vm];f!==void 0&&e(!!f),Sr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=h4(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return rw()||W1()||jg()}}const P4=V4;var JE="@firebase/auth",tT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j4(r){qo(new Ca("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=s.options;It(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iw(r)},g=new iD(s,o,l,m);return pD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),qo(new Ca("auth-internal",t=>{const e=Ma(t.getProvider("auth").getImmediate());return(s=>new L4(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(JE,tT,U4(r)),Is(JE,tT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=5*60,z4=M1("authIdTokenMaxAge")||B4;let eT=null;const H4=r=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>z4)return;const o=e==null?void 0:e.token;eT!==o&&(eT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function q4(r=j1()){const t=kg(r,"auth");if(t.isInitialized())return t.getImmediate();const e=dD(r,{popupRedirectResolver:P4,persistence:[KD,VD,mw]}),s=M1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const f=H4(l.toString());DD(e,f,()=>f(e.currentUser)),ND(e,d=>f(d))}}const o=N1("auth");return o&&mD(e,`http://${o}`),e}function F4(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}sD({loadJS(r){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const l=Kr("internal-error");l.customData=o,e(l)},s.type="text/javascript",s.charset="UTF-8",F4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j4("Browser");var $4="firebase",G4="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is($4,G4,"app");var nT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,bw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,A){function I(){}I.prototype=A.prototype,x.D=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(M,O,k){for(var C=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)C[xt-2]=arguments[xt];return A.prototype[O].apply(M,C)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,I){I||(I=0);var M=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)M[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;16>O;++O)M[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],O=x.g[2];var k=x.g[3],C=A+(k^I&(O^k))+M[0]+3614090360&4294967295;A=I+(C<<7&4294967295|C>>>25),C=k+(O^A&(I^O))+M[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(I^k&(A^I))+M[2]+606105819&4294967295,O=k+(C<<17&4294967295|C>>>15),C=I+(A^O&(k^A))+M[3]+3250441966&4294967295,I=O+(C<<22&4294967295|C>>>10),C=A+(k^I&(O^k))+M[4]+4118548399&4294967295,A=I+(C<<7&4294967295|C>>>25),C=k+(O^A&(I^O))+M[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(I^k&(A^I))+M[6]+2821735955&4294967295,O=k+(C<<17&4294967295|C>>>15),C=I+(A^O&(k^A))+M[7]+4249261313&4294967295,I=O+(C<<22&4294967295|C>>>10),C=A+(k^I&(O^k))+M[8]+1770035416&4294967295,A=I+(C<<7&4294967295|C>>>25),C=k+(O^A&(I^O))+M[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(I^k&(A^I))+M[10]+4294925233&4294967295,O=k+(C<<17&4294967295|C>>>15),C=I+(A^O&(k^A))+M[11]+2304563134&4294967295,I=O+(C<<22&4294967295|C>>>10),C=A+(k^I&(O^k))+M[12]+1804603682&4294967295,A=I+(C<<7&4294967295|C>>>25),C=k+(O^A&(I^O))+M[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(I^k&(A^I))+M[14]+2792965006&4294967295,O=k+(C<<17&4294967295|C>>>15),C=I+(A^O&(k^A))+M[15]+1236535329&4294967295,I=O+(C<<22&4294967295|C>>>10),C=A+(O^k&(I^O))+M[1]+4129170786&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^O&(A^I))+M[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^I&(k^A))+M[11]+643717713&4294967295,O=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(O^k))+M[0]+3921069994&4294967295,I=O+(C<<20&4294967295|C>>>12),C=A+(O^k&(I^O))+M[5]+3593408605&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^O&(A^I))+M[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^I&(k^A))+M[15]+3634488961&4294967295,O=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(O^k))+M[4]+3889429448&4294967295,I=O+(C<<20&4294967295|C>>>12),C=A+(O^k&(I^O))+M[9]+568446438&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^O&(A^I))+M[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^I&(k^A))+M[3]+4107603335&4294967295,O=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(O^k))+M[8]+1163531501&4294967295,I=O+(C<<20&4294967295|C>>>12),C=A+(O^k&(I^O))+M[13]+2850285829&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^O&(A^I))+M[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^I&(k^A))+M[7]+1735328473&4294967295,O=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(O^k))+M[12]+2368359562&4294967295,I=O+(C<<20&4294967295|C>>>12),C=A+(I^O^k)+M[5]+4294588738&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^O)+M[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^I)+M[11]+1839030562&4294967295,O=k+(C<<16&4294967295|C>>>16),C=I+(O^k^A)+M[14]+4259657740&4294967295,I=O+(C<<23&4294967295|C>>>9),C=A+(I^O^k)+M[1]+2763975236&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^O)+M[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^I)+M[7]+4139469664&4294967295,O=k+(C<<16&4294967295|C>>>16),C=I+(O^k^A)+M[10]+3200236656&4294967295,I=O+(C<<23&4294967295|C>>>9),C=A+(I^O^k)+M[13]+681279174&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^O)+M[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^I)+M[3]+3572445317&4294967295,O=k+(C<<16&4294967295|C>>>16),C=I+(O^k^A)+M[6]+76029189&4294967295,I=O+(C<<23&4294967295|C>>>9),C=A+(I^O^k)+M[9]+3654602809&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^O)+M[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^I)+M[15]+530742520&4294967295,O=k+(C<<16&4294967295|C>>>16),C=I+(O^k^A)+M[2]+3299628645&4294967295,I=O+(C<<23&4294967295|C>>>9),C=A+(O^(I|~k))+M[0]+4096336452&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~O))+M[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~I))+M[14]+2878612391&4294967295,O=k+(C<<15&4294967295|C>>>17),C=I+(k^(O|~A))+M[5]+4237533241&4294967295,I=O+(C<<21&4294967295|C>>>11),C=A+(O^(I|~k))+M[12]+1700485571&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~O))+M[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~I))+M[10]+4293915773&4294967295,O=k+(C<<15&4294967295|C>>>17),C=I+(k^(O|~A))+M[1]+2240044497&4294967295,I=O+(C<<21&4294967295|C>>>11),C=A+(O^(I|~k))+M[8]+1873313359&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~O))+M[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~I))+M[6]+2734768916&4294967295,O=k+(C<<15&4294967295|C>>>17),C=I+(k^(O|~A))+M[13]+1309151649&4294967295,I=O+(C<<21&4294967295|C>>>11),C=A+(O^(I|~k))+M[4]+4149444226&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~O))+M[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~I))+M[2]+718787259&4294967295,O=k+(C<<15&4294967295|C>>>17),C=I+(k^(O|~A))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var I=A-this.blockSize,M=this.B,O=this.h,k=0;k<A;){if(O==0)for(;k<=I;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<A;)if(M[O++]=x.charCodeAt(k++),O==this.blockSize){o(this,M),O=0;break}}else for(;k<A;)if(M[O++]=x[k++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=A},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var I=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=I&255,I/=256;for(this.u(x),x=Array(16),A=I=0;4>A;++A)for(var M=0;32>M;M+=8)x[I++]=this.g[A]>>>M&255;return x};function l(x,A){var I=d;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function f(x,A){this.h=A;for(var I=[],M=!0,O=x.length-1;0<=O;O--){var k=x[O]|0;M&&k==A||(I[O]=k,M=!1)}this.g=I}var d={};function m(x){return-128<=x&&128>x?l(x,function(A){return new f([A|0],0>A?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return _;if(0>x)return L(g(-x));for(var A=[],I=1,M=0;x>=I;M++)A[M]=x/I|0,I*=4294967296;return new f(A,0)}function y(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return L(y(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(A,8)),M=_,O=0;O<x.length;O+=8){var k=Math.min(8,x.length-O),C=parseInt(x.substring(O,O+k),A);8>k?(k=g(Math.pow(A,k)),M=M.j(k).add(g(C))):(M=M.j(I),M=M.add(g(C)))}return M}var _=m(0),b=m(1),D=m(16777216);r=f.prototype,r.m=function(){if(H(this))return-L(this).m();for(var x=0,A=1,I=0;I<this.g.length;I++){var M=this.i(I);x+=(0<=M?M:4294967296+M)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(U(this))return"0";if(H(this))return"-"+L(this).toString(x);for(var A=g(Math.pow(x,6)),I=this,M="";;){var O=rt(I,A).g;I=J(I,O.j(A));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=O,U(I))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function U(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function H(x){return x.h==-1}r.l=function(x){return x=J(this,x),H(x)?-1:U(x)?0:1};function L(x){for(var A=x.g.length,I=[],M=0;M<A;M++)I[M]=~x.g[M];return new f(I,~x.h).add(b)}r.abs=function(){return H(this)?L(this):this},r.add=function(x){for(var A=Math.max(this.g.length,x.g.length),I=[],M=0,O=0;O<=A;O++){var k=M+(this.i(O)&65535)+(x.i(O)&65535),C=(k>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);M=C>>>16,k&=65535,C&=65535,I[O]=C<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function J(x,A){return x.add(L(A))}r.j=function(x){if(U(this)||U(x))return _;if(H(this))return H(x)?L(this).j(L(x)):L(L(this).j(x));if(H(x))return L(this.j(L(x)));if(0>this.l(D)&&0>x.l(D))return g(this.m()*x.m());for(var A=this.g.length+x.g.length,I=[],M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<x.g.length;O++){var k=this.i(M)>>>16,C=this.i(M)&65535,xt=x.i(O)>>>16,Tt=x.i(O)&65535;I[2*M+2*O]+=C*Tt,nt(I,2*M+2*O),I[2*M+2*O+1]+=k*Tt,nt(I,2*M+2*O+1),I[2*M+2*O+1]+=C*xt,nt(I,2*M+2*O+1),I[2*M+2*O+2]+=k*xt,nt(I,2*M+2*O+2)}for(M=0;M<A;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=A;M<2*A;M++)I[M]=0;return new f(I,0)};function nt(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function X(x,A){this.g=x,this.h=A}function rt(x,A){if(U(A))throw Error("division by zero");if(U(x))return new X(_,_);if(H(x))return A=rt(L(x),A),new X(L(A.g),L(A.h));if(H(A))return A=rt(x,L(A)),new X(L(A.g),A.h);if(30<x.g.length){if(H(x)||H(A))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=A;0>=M.l(x);)I=tt(I),M=tt(M);var O=W(I,1),k=W(M,1);for(M=W(M,2),I=W(I,2);!U(M);){var C=k.add(M);0>=C.l(x)&&(O=O.add(I),k=C),M=W(M,1),I=W(I,1)}return A=J(x,O.j(A)),new X(O,A)}for(O=_;0<=x.l(A);){for(I=Math.max(1,Math.floor(x.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=g(I),C=k.j(A);H(C)||0<C.l(x);)I-=M,k=g(I),C=k.j(A);U(k)&&(k=b),O=O.add(k),x=J(x,C)}return new X(O,x)}r.A=function(x){return rt(this,x).h},r.and=function(x){for(var A=Math.max(this.g.length,x.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)&x.i(M);return new f(I,this.h&x.h)},r.or=function(x){for(var A=Math.max(this.g.length,x.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)|x.i(M);return new f(I,this.h|x.h)},r.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)^x.i(M);return new f(I,this.h^x.h)};function tt(x){for(var A=x.g.length+1,I=[],M=0;M<A;M++)I[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(I,x.h)}function W(x,A){var I=A>>5;A%=32;for(var M=x.g.length-I,O=[],k=0;k<M;k++)O[k]=0<A?x.i(k+I)>>>A|x.i(k+I+1)<<32-A:x.i(k+I);return new f(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,bw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=y,xs=f}).apply(typeof nT<"u"?nT:typeof self<"u"?self:typeof window<"u"?window:{});var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ww,du,Sw,qf,Bm,Aw,Rw,Cw;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,E){return c==Array.prototype||c==Object.prototype||(c[v]=E.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Df=="object"&&Df];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=e(this);function o(c,v){if(v)t:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in E))break t;E=E[q]}c=c[c.length-1],S=E[c],v=v(S),v!=S&&v!=null&&t(E,c,{configurable:!0,writable:!0,value:v})}}function l(c,v){c instanceof String&&(c+="");var E=0,S=!1,q={next:function(){if(!S&&E<c.length){var Q=E++;return{value:v(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function m(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function g(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function y(c,v,E){return c.call.apply(c.bind,arguments)}function _(c,v,E){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(v,q)}}return function(){return c.apply(v,arguments)}}function b(c,v,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function D(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function U(c,v){function E(){}E.prototype=v.prototype,c.aa=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(S,q,Q){for(var dt=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)dt[Yt-2]=arguments[Yt];return v.prototype[q].apply(S,dt)}}function H(c){const v=c.length;if(0<v){const E=Array(v);for(let S=0;S<v;S++)E[S]=c[S];return E}return[]}function L(c,v){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(m(S)){const q=c.length||0,Q=S.length||0;c.length=q+Q;for(let dt=0;dt<Q;dt++)c[q+dt]=S[dt]}else c.push(S)}}class J{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function nt(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function rt(c){return rt[" "](c),c}rt[" "]=function(){};var tt=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function W(c,v,E){for(const S in c)v.call(E,c[S],S,c)}function x(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function A(c){const v={};for(const E in c)v[E]=c[E];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,v){let E,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(E in S)c[E]=S[E];for(let Q=0;Q<I.length;Q++)E=I[Q],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function O(c){var v=1;c=c.split(":");const E=[];for(;0<v&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function k(c){d.setTimeout(()=>{throw c},0)}function C(){var c=yt;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class xt{constructor(){this.h=this.g=null}add(v,E){const S=Tt.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var Tt=new J(()=>new B,c=>c.reset());class B{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ht=!1,yt=new xt,V=()=>{const c=d.Promise.resolve(void 0);at=()=>{c.then(K)}};var K=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(E){k(E)}var v=Tt;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}ht=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return c}();function gt(c,v){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(tt){t:{try{rt(v.nodeName);var q=!0;break t}catch{}q=!1}q||(v=null)}}else E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&gt.aa.h.call(this)}}U(gt,Z);var pt={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function fe(c,v,E,S,q){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=q,this.key=++Mt,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ne(c){this.src=c,this.g={},this.h=0}Ne.prototype.add=function(c,v,E,S,q){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var dt=Qe(c,v,S,q);return-1<dt?(v=c[dt],E||(v.fa=!1)):(v=new fe(v,this.src,Q,!!S,q),v.fa=E,c.push(v)),v};function Be(c,v){var E=v.type;if(E in c.g){var S=c.g[E],q=Array.prototype.indexOf.call(S,v,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(S,q,1),Q&&(ye(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Qe(c,v,E,S){for(var q=0;q<c.length;++q){var Q=c[q];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==S)return q}return-1}var De="closure_lm_"+(1e6*Math.random()|0),Kt={};function Tn(c,v,E,S,q){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Tn(c,v[Q],E,S,q);return null}return E=fr(E),c&&c[Gt]?c.K(v,E,g(S)?!!S.capture:!1,q):ue(c,v,E,!1,S,q)}function ue(c,v,E,S,q,Q){if(!v)throw Error("Invalid event type");var dt=g(q)?!!q.capture:!!q,Yt=We(c);if(Yt||(c[De]=Yt=new Ne(c)),E=Yt.add(v,E,S,dt,Q),E.proxy)return E;if(S=Ar(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)ft||(q=dt),q===void 0&&(q=!1),c.addEventListener(v.toString(),S,q);else if(c.attachEvent)c.attachEvent(dn(v.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ar(){function c(E){return v.call(c.src,c.listener,E)}const v=Te;return c}function ze(c,v,E,S,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)ze(c,v[Q],E,S,q);else S=g(S)?!!S.capture:!!S,E=fr(E),c&&c[Gt]?(c=c.i,v=String(v).toString(),v in c.g&&(Q=c.g[v],E=Qe(Q,E,S,q),-1<E&&(ye(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete c.g[v],c.h--)))):c&&(c=We(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Qe(v,E,S,q)),(E=-1<c?v[c]:null)&&Xe(E))}function Xe(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Gt])Be(v.i,c);else{var E=c.type,S=c.proxy;v.removeEventListener?v.removeEventListener(E,S,c.capture):v.detachEvent?v.detachEvent(dn(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=We(v))?(Be(E,c),E.h==0&&(E.src=null,v[De]=null)):ye(c)}}}function dn(c){return c in Kt?Kt[c]:Kt[c]="on"+c}function Te(c,v){if(c.da)c=!0;else{v=new gt(v,this);var E=c.listener,S=c.ha||c.src;c.fa&&Xe(c),c=E.call(S,v)}return c}function We(c){return c=c[De],c instanceof Ne?c:null}var Rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function fr(c){return typeof c=="function"?c:(c[Rn]||(c[Rn]=function(v){return c.handleEvent(v)}),c[Rn])}function _t(){st.call(this),this.i=new Ne(this),this.M=this,this.F=null}U(_t,st),_t.prototype[Gt]=!0,_t.prototype.removeEventListener=function(c,v,E,S){ze(this,c,v,E,S)};function Pt(c,v){var E,S=c.F;if(S)for(E=[];S;S=S.F)E.push(S);if(c=c.M,S=v.type||v,typeof v=="string")v=new Z(v,c);else if(v instanceof Z)v.target=v.target||c;else{var q=v;v=new Z(S,c),M(v,q)}if(q=!0,E)for(var Q=E.length-1;0<=Q;Q--){var dt=v.g=E[Q];q=be(dt,S,!0,v)&&q}if(dt=v.g=c,q=be(dt,S,!0,v)&&q,q=be(dt,S,!1,v)&&q,E)for(Q=0;Q<E.length;Q++)dt=v.g=E[Q],q=be(dt,S,!1,v)&&q}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var E=c.g[v],S=0;S<E.length;S++)ye(E[S]);delete c.g[v],c.h--}}this.F=null},_t.prototype.K=function(c,v,E,S){return this.i.add(String(c),v,!1,E,S)},_t.prototype.L=function(c,v,E,S){return this.i.add(String(c),v,!0,E,S)};function be(c,v,E,S){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Q=0;Q<v.length;++Q){var dt=v[Q];if(dt&&!dt.da&&dt.capture==E){var Yt=dt.listener,He=dt.ha||dt.src;dt.fa&&Be(c.i,dt),q=Yt.call(He,S)!==!1&&q}}return q&&!S.defaultPrevented}function Me(c,v,E){if(typeof c=="function")E&&(c=b(c,E));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(c,v||0)}function hr(c){c.g=Me(()=>{c.g=null,c.i&&(c.i=!1,hr(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Ua extends st{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cn(c){st.call(this),this.h=c,this.g={}}U(Cn,st);var Jr=[];function ti(c){W(c.g,function(v,E){this.g.hasOwnProperty(E)&&Xe(v)},c),c.g={}}Cn.prototype.N=function(){Cn.aa.N.call(this),ti(this)},Cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=d.JSON.stringify,ei=d.JSON.parse,ni=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ri(){}ri.prototype.h=null;function xn(c){return c.h||(c.h=c.i())}function zs(){}var dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){Z.call(this,"d")}U(Kn,Z);function $i(){Z.call(this,"c")}U($i,Z);var wt={},pe=null;function de(){return pe=pe||new _t}wt.La="serverreachability";function ke(c){Z.call(this,wt.La,c)}U(ke,Z);function Ln(c){const v=de();Pt(v,new ke(v))}wt.STAT_EVENT="statevent";function we(c,v){Z.call(this,wt.STAT_EVENT,c),this.stat=v}U(we,Z);function zt(c){const v=de();Pt(v,new we(v,c))}wt.Ma="timingevent";function me(c,v){Z.call(this,wt.Ma,c),this.size=v}U(me,Z);function Zt(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},v)}function ge(){this.g=!0}ge.prototype.xa=function(){this.g=!1};function Gi(c,v,E,S,q,Q){c.info(function(){if(c.g)if(Q)for(var dt="",Yt=Q.split("&"),He=0;He<Yt.length;He++){var Qt=Yt[He].split("=");if(1<Qt.length){var Je=Qt[0];Qt=Qt[1];var qe=Je.split("_");dt=2<=qe.length&&qe[1]=="type"?dt+(Je+"="+Qt+"&"):dt+(Je+"=redacted&")}}else dt=null;else dt=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+E+`
`+dt})}function pr(c,v,E,S,q,Q,dt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+E+`
`+Q+" "+dt})}function ii(c,v,E,S){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Hs(c,E)+(S?" "+S:"")})}function rc(c,v){c.info(function(){return"TIMEOUT: "+v})}ge.prototype.info=function(){};function Hs(c,v){if(!c.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var S=E[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var dt=1;dt<q.length;dt++)q[dt]=""}}}}return In(E)}catch{return v}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rr;function Cr(){}U(Cr,ri),Cr.prototype.g=function(){return new XMLHttpRequest},Cr.prototype.i=function(){return{}},Rr=new Cr;function bn(c,v,E,S){this.j=c,this.i=v,this.l=E,this.R=S||1,this.U=new Cn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ce}function Ce(){this.i=null,this.g="",this.h=!1}var ol={},ja={};function mr(c,v,E){c.L=1,c.v=Ks(Un(v)),c.m=E,c.P=!0,ai(c,null)}function ai(c,v){c.F=Date.now(),qs(c),c.A=Un(c.v);var E=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),dl(E.i,"t",S),c.C=0,E=c.j.J,c.h=new Ce,c.g=_c(c.j,E?v:null,!c.m),0<c.O&&(c.M=new Ua(b(c.Y,c,c.g),c.O)),v=c.U,E=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Jr[0]=q.toString()),q=Jr);for(var Q=0;Q<q.length;Q++){var dt=Tn(E,q[Q],S||v.handleEvent,!1,v.h||v);if(!dt)break;v.g[dt.key]=dt}v=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),Ln(),Gi(c.i,c.u,c.A,c.l,c.R,c.m)}bn.prototype.ca=function(c){c=c.target;const v=this.M;v&&Wn(c)==3?v.j():this.Y(c)},bn.prototype.Y=function(c){try{if(c==this.g)t:{const qe=Wn(this.g);var v=this.g.Ba();const pi=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||fc(this.g)))){this.J||qe!=4||v==7||(v==8||0>=pi?Ln(3):Ln(2)),Yi(this);var E=this.g.Z();this.X=E;e:if(ic(this)){var S=fc(this.g);c="";var q=S.length,Q=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Ir(this);var dt="";break e}this.h.i=new d.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,c+=this.h.i.decode(S[v],{stream:!(Q&&v==q-1)});S.length=0,this.h.g+=c,this.C=0,dt=this.h.g}else dt=this.g.oa();if(this.o=E==200,pr(this.i,this.u,this.A,this.l,this.R,qe,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Yt,He=this.g;if((Yt=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Yt)){var Qt=Yt;break e}}Qt=null}if(E=Qt)ii(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fs(this,E);else{this.o=!1,this.s=3,zt(12),sn(this),Ir(this);break t}}if(this.P){E=!0;let an;for(;!this.J&&this.C<dt.length;)if(an=sc(this,dt),an==ja){qe==4&&(this.s=4,zt(14),E=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(an==ol){this.s=4,zt(15),ii(this.i,this.l,dt,"[Invalid Chunk]"),E=!1;break}else ii(this.i,this.l,an,null),Fs(this,an);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||dt.length!=0||this.h.h||(this.s=1,zt(16),E=!1),this.o=this.o&&E,!E)ii(this.i,this.l,dt,"[Invalid Chunked Response]"),sn(this),Ir(this);else if(0<dt.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+dt.length),ea(Je),Je.M=!0,zt(11))}}else ii(this.i,this.l,dt,null),Fs(this,dt);qe==4&&sn(this),this.o&&!this.J&&(qe==4?gc(this.j,this):(this.o=!1,qs(this)))}else Jh(this.g),E==400&&0<dt.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),sn(this),Ir(this)}}}catch{}finally{}};function ic(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function sc(c,v){var E=c.C,S=v.indexOf(`
`,E);return S==-1?ja:(E=Number(v.substring(E,S)),isNaN(E)?ol:(S+=1,S+E>v.length?ja:(v=v.slice(S,S+E),c.C=S+E,v)))}bn.prototype.cancel=function(){this.J=!0,sn(this)};function qs(c){c.S=Date.now()+c.I,ac(c,c.I)}function ac(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Zt(b(c.ba,c),v)}function Yi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(rc(this.i,this.A),this.L!=2&&(Ln(),zt(17)),sn(this),this.s=2,Ir(this)):ac(this,this.S-c)};function Ir(c){c.j.G==0||c.J||gc(c.j,c)}function sn(c){Yi(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,ti(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function Fs(c,v){try{var E=c.j;if(E.G!=0&&(E.g==c||ll(E.h,c))){if(!c.K&&ll(E.h,c)&&E.G==3){try{var S=E.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Wa(E),Qa(E);else break t;yl(E),zt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Zt(b(E.Za,E),6e3));if(1>=za(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else di(E,11)}else if((c.K||E.g==c)&&Wa(E),!nt(v))for(q=E.Da.g.parse(v),v=0;v<q.length;v++){let Qt=q[v];if(E.T=Qt[0],Qt=Qt[1],E.G==2)if(Qt[0]=="c"){E.K=Qt[1],E.ia=Qt[2];const Je=Qt[3];Je!=null&&(E.la=Je,E.j.info("VER="+E.la));const qe=Qt[4];qe!=null&&(E.Aa=qe,E.j.info("SVER="+E.Aa));const pi=Qt[5];pi!=null&&typeof pi=="number"&&0<pi&&(S=1.5*pi,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const an=c.g;if(an){const Vr=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var Q=S.h;Q.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ha(Q,Q.h),Q.h=null))}if(S.D){const El=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(S.ya=El,se(S.I,S.D,El))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var dt=c;if(S.qa=yc(S,S.J?S.ia:null,S.W),dt.K){wn(S.h,dt);var Yt=dt,He=S.L;He&&(Yt.I=He),Yt.B&&(Yi(Yt),qs(Yt)),S.g=dt}else pc(S);0<E.i.length&&Xa(E)}else Qt[0]!="stop"&&Qt[0]!="close"||di(E,7);else E.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?di(E,7):gl(E):Qt[0]!="noop"&&E.l&&E.l.ta(Qt),E.v=0)}}Ln(4)}catch{}}var oc=class{constructor(c,v){this.g=c,this.map=v}};function oi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ba(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function za(c){return c.h?1:c.g?c.g.size:0}function ll(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Ha(c,v){c.g?c.g.add(v):c.h=v}function wn(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}oi.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ul(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.D);return v}return H(c.i)}function Qh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var v=[],E=c.length,S=0;S<E;S++)v.push(c[S]);return v}v=[],E=0;for(S in c)v[E++]=c[S];return v}function qa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var v=[];c=c.length;for(var E=0;E<c;E++)v.push(E);return v}v=[],E=0;for(const S in c)v[E++]=S;return v}}}function cl(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var E=qa(c),S=Qh(c),q=S.length,Q=0;Q<q;Q++)v.call(void 0,S[Q],E&&E[Q],c)}var $s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xh(c,v){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var S=c[E].indexOf("="),q=null;if(0<=S){var Q=c[E].substring(0,S);q=c[E].substring(S+1)}else Q=c[E];v(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ve(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ve){this.h=c.h,Gs(this,c.j),this.o=c.o,this.g=c.g,Qi(this,c.s),this.l=c.l;var v=c.i,E=new ui;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),li(this,E),this.m=c.m}else c&&(v=String(c).match($s))?(this.h=!1,Gs(this,v[1]||"",!0),this.o=Yn(v[2]||""),this.g=Yn(v[3]||"",!0),Qi(this,v[4]),this.l=Yn(v[5]||"",!0),li(this,v[6]||"",!0),this.m=Yn(v[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}Ve.prototype.toString=function(){var c=[],v=this.j;v&&c.push(Ys(v,fl,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Ys(v,fl,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ys(E,E.charAt(0)=="/"?Wh:hl,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ys(E,Fa)),c.join("")};function Un(c){return new Ve(c)}function Gs(c,v,E){c.j=E?Yn(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Qi(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function li(c,v,E){v instanceof ui?(c.i=v,uc(c.i,c.h)):(E||(v=Ys(v,Zh)),c.i=new ui(v,c.h))}function se(c,v,E){c.i.set(v,E)}function Ks(c){return se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Yn(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ys(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,lc),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fl=/[#\/\?@]/g,hl=/[#\?:]/g,Wh=/[#\?]/g,Zh=/[#\?@]/g,Fa=/#/g;function ui(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Qn(c){c.g||(c.g=new Map,c.h=0,c.i&&Xh(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}r=ui.prototype,r.add=function(c,v){Qn(this),this.i=null,c=xr(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function ci(c,v){Qn(c),v=xr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function fi(c,v){return Qn(c),v=xr(c,v),c.g.has(v)}r.forEach=function(c,v){Qn(this),this.g.forEach(function(E,S){E.forEach(function(q){c.call(v,q,S,this)},this)},this)},r.na=function(){Qn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let S=0;S<v.length;S++){const q=c[S];for(let Q=0;Q<q.length;Q++)E.push(v[S])}return E},r.V=function(c){Qn(this);let v=[];if(typeof c=="string")fi(this,c)&&(v=v.concat(this.g.get(xr(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)v=v.concat(c[E])}return v},r.set=function(c,v){return Qn(this),this.i=null,c=xr(this,c),fi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},r.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function dl(c,v,E){ci(c,v),0<E.length&&(c.i=null,c.g.set(xr(c,v),H(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var S=v[E];const Q=encodeURIComponent(String(S)),dt=this.V(S);for(S=0;S<dt.length;S++){var q=Q;dt[S]!==""&&(q+="="+encodeURIComponent(String(dt[S]))),c.push(q)}}return this.i=c.join("&")};function xr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function uc(c,v){v&&!c.j&&(Qn(c),c.i=null,c.g.forEach(function(E,S){var q=S.toLowerCase();S!=q&&(ci(this,S),dl(this,q,E))},c)),c.j=v}function Qs(c,v){const E=new ge;if(d.Image){const S=new Image;S.onload=D(Xn,E,"TestLoadImage: loaded",!0,v,S),S.onerror=D(Xn,E,"TestLoadImage: error",!1,v,S),S.onabort=D(Xn,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=D(Xn,E,"TestLoadImage: timeout",!1,v,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else v(!1)}function gr(c,v){const E=new ge,S=new AbortController,q=setTimeout(()=>{S.abort(),Xn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?Xn(E,"TestPingServer: ok",!0,v):Xn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Xn(E,"TestPingServer: error",!1,v)})}function Xn(c,v,E,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(E)}catch{}}function Xs(){this.g=new ni}function Or(c,v,E){const S=E||"";try{cl(c,function(q,Q){let dt=q;g(q)&&(dt=In(q)),v.push(S+Q+"="+encodeURIComponent(dt))})}catch(q){throw v.push(S+"type="+encodeURIComponent("_badmap")),q}}function Xi(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Xi,ri),Xi.prototype.g=function(){return new hi(this.l,this.j)},Xi.prototype.i=function(c){return function(){return c}}({});function hi(c,v){_t.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(hi,_t),r=hi.prototype,r.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,Dr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function pl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Nr(this):Dr(this),this.readyState==3&&pl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Nr(this))},r.Qa=function(c){this.g&&(this.response=c,Nr(this))},r.ga=function(){this.g&&Nr(this)};function Nr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Dr(c)}r.setRequestHeader=function(c,v){this.u.append(c,v)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function Dr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ml(c){let v="";return W(c,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function Ze(c,v,E){t:{for(S in E){var S=!1;break t}S=!0}S||(E=ml(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):se(c,v,E))}function ee(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(ee,_t);var $a=/^https?$/i,Ws=["POST","PUT"];r=ee.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rr.g(),this.v=this.o?xn(this.o):xn(Rr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(Q){cc(this,Q);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)E.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())E.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ws,v,void 0))||S||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,dt]of E)this.g.setRequestHeader(Q,dt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){cc(this,Q)}};function cc(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,Ga(c),Mr(c)}function Ga(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),Mr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mr(this,!0)),ee.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},r.bb=function(){Ka(this)};function Ka(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)Me(c.Ea,0,c);else if(Pt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const dt=c.Z();t:switch(dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var S;if(S=dt===0){var q=String(c.D).match($s)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),S=!$a.test(q?q.toLowerCase():"")}E=S}if(E)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var Q=2<Wn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ga(c)}}finally{Mr(c)}}}}function Mr(c,v){if(c.g){Zs(c);const E=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Pt(c,"ready");try{E.onreadystatechange=S}catch{}}}function Zs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),ei(v)}};function fc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jh(c){const v={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(nt(c[S]))continue;var E=O(c[S]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[q]||[];v[q]=Q,Q.push(E)}x(v,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function Ya(c){this.Aa=0,this.i=[],this.j=new ge,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,c),this.cb=Js("retryDelaySeedMs",1e4,c),this.Wa=Js("forwardChannelMaxRetries",2,c),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(c&&c.concurrentRequestLimit),this.Da=new Xs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ya.prototype,r.la=8,r.G=1,r.connect=function(c,v,E,S){zt(0),this.W=c,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=yc(this,null,this.W),Xa(this)};function gl(c){if(hc(c),c.G==3){var v=c.U++,E=Un(c.I);if(se(E,"SID",c.K),se(E,"RID",v),se(E,"TYPE","terminate"),ta(c,E),v=new bn(c,c.j,v),v.L=2,v.v=Ks(Un(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=_c(v.j,null),v.g.ea(v.v)),v.F=Date.now(),qs(v)}vc(c)}function Qa(c){c.g&&(ea(c),c.g.cancel(),c.g=null)}function hc(c){Qa(c),c.u&&(d.clearTimeout(c.u),c.u=null),Wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Xa(c){if(!Ba(c.h)&&!c.s){c.s=!0;var v=c.Ga;at||V(),ht||(at(),ht=!0),yt.add(v,c),c.B=0}}function td(c,v){return za(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Zt(b(c.Ga,c,v),_l(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new bn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=A(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=dc(this,q,v),E=Un(this.I),se(E,"RID",c),se(E,"CVER",22),this.D&&se(E,"X-HTTP-Session-Id",this.D),ta(this,E),Q&&(this.O?v="headers="+encodeURIComponent(String(ml(Q)))+"&"+v:this.m&&Ze(E,this.m,Q)),Ha(this.h,q),this.Ua&&se(E,"TYPE","init"),this.P?(se(E,"$req",v),se(E,"SID","null"),q.T=!0,mr(q,E,null)):mr(q,E,v),this.G=2}}else this.G==3&&(c?vl(this,c):this.i.length==0||Ba(this.h)||vl(this))};function vl(c,v){var E;v?E=v.l:E=c.U++;const S=Un(c.I);se(S,"SID",c.K),se(S,"RID",E),se(S,"AID",c.T),ta(c,S),c.m&&c.o&&Ze(S,c.m,c.o),E=new bn(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),v&&(c.i=v.D.concat(c.i)),v=dc(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ha(c.h,E),mr(E,S,v)}function ta(c,v){c.H&&W(c.H,function(E,S){se(v,S,E)}),c.l&&cl({},function(E,S){se(v,S,E)})}function dc(c,v,E){E=Math.min(c.i.length,E);var S=c.l?b(c.l.Na,c.l,c):null;t:{var q=c.i;let Q=-1;for(;;){const dt=["count="+E];Q==-1?0<E?(Q=q[0].g,dt.push("ofs="+Q)):Q=0:dt.push("ofs="+Q);let Yt=!0;for(let He=0;He<E;He++){let Qt=q[He].g;const Je=q[He].map;if(Qt-=Q,0>Qt)Q=Math.max(0,q[He].g-100),Yt=!1;else try{Or(Je,dt,"req"+Qt+"_")}catch{S&&S(Je)}}if(Yt){S=dt.join("&");break t}}}return c=c.i.splice(0,E),v.D=c,S}function pc(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;at||V(),ht||(at(),ht=!0),yt.add(v,c),c.v=0}}function yl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Zt(b(c.Fa,c),_l(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,mc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Zt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),Qa(this),mc(this))};function ea(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function mc(c){c.g=new bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=Un(c.qa);se(v,"RID","rpc"),se(v,"SID",c.K),se(v,"AID",c.T),se(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&se(v,"TO",c.ja),se(v,"TYPE","xmlhttp"),ta(c,v),c.m&&c.o&&Ze(v,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Ks(Un(v)),E.m=null,E.P=!0,ai(E,c)}r.Za=function(){this.C!=null&&(this.C=null,Qa(this),yl(this),zt(19))};function Wa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function gc(c,v){var E=null;if(c.g==v){Wa(c),ea(c),c.g=null;var S=2}else if(ll(c.h,v))E=v.D,wn(c.h,v),S=1;else return;if(c.G!=0){if(v.o)if(S==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var q=c.B;S=de(),Pt(S,new me(S,E)),Xa(c)}else pc(c);else if(q=v.s,q==3||q==0&&0<v.X||!(S==1&&td(c,v)||S==2&&yl(c)))switch(E&&0<E.length&&(v=c.h,v.i=v.i.concat(E)),q){case 1:di(c,5);break;case 4:di(c,10);break;case 3:di(c,6);break;default:di(c,2)}}}function _l(c,v){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*v}function di(c,v){if(c.j.info("Error code "+v),v==2){var E=b(c.fb,c),S=c.Xa;const q=!S;S=new Ve(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gs(S,"https"),Ks(S),q?Qs(S.toString(),E):gr(S.toString(),E)}else zt(2);c.G=0,c.l&&c.l.sa(v),vc(c),hc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function vc(c){if(c.G=0,c.ka=[],c.l){const v=ul(c.h);(v.length!=0||c.i.length!=0)&&(L(c.ka,v),L(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function yc(c,v,E){var S=E instanceof Ve?Un(E):new Ve(E);if(S.g!="")v&&(S.g=v+"."+S.g),Qi(S,S.s);else{var q=d.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Q=new Ve(null);S&&Gs(Q,S),v&&(Q.g=v),q&&Qi(Q,q),E&&(Q.l=E),S=Q}return E=c.D,v=c.ya,E&&v&&se(S,E,v),se(S,"VER",c.la),ta(c,S),S}function _c(c,v,E){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new ee(new Xi({eb:E})):new ee(c.pa),v.Ha(c.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ec(){}r=Ec.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Za(){}Za.prototype.g=function(c,v){return new Sn(c,v)};function Sn(c,v){_t.call(this),this.g=new Ya(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!nt(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!nt(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new kr(this)}U(Sn,_t),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){gl(this.g)},Sn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=In(c),c=E);v.i.push(new oc(v.Ya++,c)),v.G==3&&Xa(v)},Sn.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,Sn.aa.N.call(this)};function Tc(c){Kn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){t:{for(const E in v){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}U(Tc,Kn);function bc(){$i.call(this),this.status=1}U(bc,$i);function kr(c){this.g=c}U(kr,Ec),kr.prototype.ua=function(){Pt(this.g,"a")},kr.prototype.ta=function(c){Pt(this.g,new Tc(c))},kr.prototype.sa=function(c){Pt(this.g,new bc)},kr.prototype.ra=function(){Pt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,Cw=function(){return new Za},Rw=function(){return de()},Aw=wt,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,qf=Ki,si.COMPLETE="complete",Sw=si,zs.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",_t.prototype.listen=_t.prototype.K,du=zs,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,ww=ee}).apply(typeof Df<"u"?Df:typeof self<"u"?self:typeof window<"u"?window:{});const rT="@firebase/firestore",iT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Dg("@firebase/firestore");function Oo(){return Oa.logLevel}function mt(r,...t){if(Oa.logLevel<=Ft.DEBUG){const e=t.map(Fg);Oa.debug(`Firestore (${rl}): ${r}`,...e)}}function zi(r,...t){if(Oa.logLevel<=Ft.ERROR){const e=t.map(Fg);Oa.error(`Firestore (${rl}): ${r}`,...e)}}function Fo(r,...t){if(Oa.logLevel<=Ft.WARN){const e=t.map(Fg);Oa.warn(`Firestore (${rl}): ${r}`,...e)}}function Fg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,Iw(r,s,e)}function Iw(r,t,e){let s=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw zi(s),new Error(s)}function ne(r,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,r||Iw(t,o,s)}function Vt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Fi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class K4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(vn.UNAUTHENTICATED))}shutdown(){}}class Y4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Q4{constructor(t){this.t=t,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ne(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let l=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Os,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Os)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ne(typeof s.accessToken=="string",31837,{l:s}),new xw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string",2055,{h:t}),new vn(t)}}class X4{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W4{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new X4(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z4{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ne(this.o===void 0,3512);const s=l=>{l.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.m;return this.m=l.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const o=l=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ne(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new sT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<r;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=J4(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<e&&(s+=t.charAt(o[l]%62))}return s}}function jt(r,t){return r<t?-1:r>t?1:0}function zm(r,t){let e=0;for(;e<r.length&&e<t.length;){const s=r.codePointAt(e),o=t.codePointAt(e);if(s!==o){if(s<128&&o<128)return jt(s,o);{const l=Ow(),f=tM(l.encode(aT(r,e)),l.encode(aT(t,e)));return f!==0?f:jt(s,o)}}e+=s>65535?2:1}return jt(r.length,t.length)}function aT(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function tM(r,t){for(let e=0;e<r.length&&e<t.length;++e)if(r[e]!==t[e])return jt(r[e],t[e]);return jt(r.length,t.length)}function $o(r,t,e){return r.length===t.length&&r.every((s,o)=>e(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=-62135596800,lT=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(t){return Ke.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*lT);return new Ke(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new At(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new At(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<oT)throw new At(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lT}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-oT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{static fromTimestamp(t){return new kt(t)}static min(){return new kt(new Ke(0,0))}static max(){return new kt(new Ke(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__name__";class Hr{constructor(t,e,s){e===void 0?e=0:e>t.length&&Nt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Nt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Hr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Hr?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const l=Hr.compareSegments(t.get(o),e.get(o));if(l!==0)return l}return jt(t.length,e.length)}static compareSegments(t,e){const s=Hr.isNumericId(t),o=Hr.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Hr.extractNumericId(t).compare(Hr.extractNumericId(e)):zm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xs.fromString(t.substring(4,t.length-2))}}class Re extends Hr{construct(t,e,s){return new Re(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new At(ct.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(o=>o.length>0))}return new Re(e)}static emptyPath(){return new Re([])}}const eM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Hr{construct(t,e,s){return new fn(t,e,s)}static isValidIdentifier(t){return eM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uT}static keyField(){return new fn([uT])}static fromServerFormat(t){const e=[];let s="",o=0;const l=()=>{if(s.length===0)throw new At(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let f=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new At(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new At(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(s+=d,o++):(l(),o++)}if(l(),f)throw new At(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fn(e)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(Re.fromString(t))}static fromName(t){return new Rt(Re.fromString(t).popFirst(5))}static empty(){return new Rt(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Re.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new Re(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function nM(r,t){const e=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=kt.fromTimestamp(s===1e9?new Ke(e+1,0):new Ke(e,s));return new Ds(o,Rt.empty(),t)}function rM(r){return new Ds(r.readTime,r.key,Du)}class Ds{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Ds(kt.min(),Rt.empty(),Du)}static max(){return new Ds(kt.max(),Rt.empty(),Du)}}function iM(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=Rt.comparator(r.documentKey,t.documentKey),e!==0?e:jt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(r){if(r.code!==ct.FAILED_PRECONDITION||r.message!==sM)throw r;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(e){return lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.reject(e)}static resolve(t){return new lt((e,s)=>{e(t)})}static reject(t){return new lt((e,s)=>{s(t)})}static waitFor(t){return new lt((e,s)=>{let o=0,l=0,f=!1;t.forEach(d=>{++o,d.next(()=>{++l,f&&l===o&&e()},m=>s(m))}),f=!0,l===o&&e()})}static or(t){let e=lt.resolve(!1);for(const s of t)e=e.next(o=>o?lt.resolve(o):s());return e}static forEach(t,e){const s=[];return t.forEach((o,l)=>{s.push(e.call(this,o,l))}),this.waitFor(s)}static mapArray(t,e){return new lt((s,o)=>{const l=t.length,f=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;e(t[g]).next(y=>{f[g]=y,++d,d===l&&s(f)},y=>o(y))}})}static doWhile(t,e){return new lt((s,o)=>{const l=()=>{t()===!0?e().next(()=>{l()},o):s()};l()})}}function oM(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function sl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Lh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=-1;function Uh(r){return r==null}function lh(r){return r===0&&1/r==-1/0}function lM(r){return typeof r=="number"&&Number.isInteger(r)&&!lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="";function uM(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=cT(t)),t=cM(r.get(e),t);return cT(t)}function cM(r,t){let e=t;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":e+="";break;case Dw:e+="";break;default:e+=l}}return e}function cT(r){return r+Dw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function ka(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function Mw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,e){this.comparator=t,this.root=e||cn.EMPTY}insert(t,e){return new Ee(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mf(this.root,t,this.comparator,!0)}}class Mf{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cn{constructor(t,e,s,o,l){this.key=t,this.value=e,this.color=s??cn.RED,this.left=o??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,l){return new cn(t??this.key,e??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const l=s(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,s),null):l===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Nt(27949);return t+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(t,e,s,o,l){return this}insert(t,e,s){return new cn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new hT(this.data.getIterator())}getIteratorFrom(t){return new hT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ye(this.comparator);return e.data=t,e}}class hT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t){this.fields=t,t.sort(fn.comparator)}static empty(){return new br([])}unionWith(t){let e=new Ye(fn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new br(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $o(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new kw("Invalid base64 string: "+l):l}}(t);return new hn(e)}static fromUint8Array(t){const e=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(t);return new hn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const fM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(r){if(ne(!!r,39018),typeof r=="string"){let t=0;const e=fM.exec(r);if(ne(!!e,46558,{timestamp:r}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Oe(r.seconds),nanos:Oe(r.nanos)}}function Oe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ks(r){return typeof r=="string"?hn.fromBase64String(r):hn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="server_timestamp",Pw="__type__",Lw="__previous_value__",Uw="__local_write_time__";function Gg(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Pw])===null||e===void 0?void 0:e.stringValue)===Vw}function jh(r){const t=r.mapValue.fields[Lw];return Gg(t)?jh(t):t}function Mu(r){const t=Ms(r.mapValue.fields[Uw].timestampValue);return new Ke(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t,e,s,o,l,f,d,m,g,y){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const uh="(default)";class ku{constructor(t,e){this.projectId=t,this.database=e||uh}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database===uh}isEqual(t){return t instanceof ku&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="__type__",dM="__max__",kf={mapValue:{}},Bw="__vector__",ch="value";function Vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gg(r)?4:mM(r)?9007199254740991:pM(r)?10:11:Nt(28295,{value:r})}function Wr(r,t){if(r===t)return!0;const e=Vs(r);if(e!==Vs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Mu(r).isEqual(Mu(t));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=Ms(o.timestampValue),d=Ms(l.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,l){return ks(o.bytesValue).isEqual(ks(l.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,l){return Oe(o.geoPointValue.latitude)===Oe(l.geoPointValue.latitude)&&Oe(o.geoPointValue.longitude)===Oe(l.geoPointValue.longitude)}(r,t);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Oe(o.integerValue)===Oe(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=Oe(o.doubleValue),d=Oe(l.doubleValue);return f===d?lh(f)===lh(d):isNaN(f)&&isNaN(d)}return!1}(r,t);case 9:return $o(r.arrayValue.values||[],t.arrayValue.values||[],Wr);case 10:case 11:return function(o,l){const f=o.mapValue.fields||{},d=l.mapValue.fields||{};if(fT(f)!==fT(d))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(d[m]===void 0||!Wr(f[m],d[m])))return!1;return!0}(r,t);default:return Nt(52216,{left:r})}}function Vu(r,t){return(r.values||[]).find(e=>Wr(e,t))!==void 0}function Go(r,t){if(r===t)return 0;const e=Vs(r),s=Vs(t);if(e!==s)return jt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return function(l,f){const d=Oe(l.integerValue||l.doubleValue),m=Oe(f.integerValue||f.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(r,t);case 3:return dT(r.timestampValue,t.timestampValue);case 4:return dT(Mu(r),Mu(t));case 5:return zm(r.stringValue,t.stringValue);case 6:return function(l,f){const d=ks(l),m=ks(f);return d.compareTo(m)}(r.bytesValue,t.bytesValue);case 7:return function(l,f){const d=l.split("/"),m=f.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=jt(d[g],m[g]);if(y!==0)return y}return jt(d.length,m.length)}(r.referenceValue,t.referenceValue);case 8:return function(l,f){const d=jt(Oe(l.latitude),Oe(f.latitude));return d!==0?d:jt(Oe(l.longitude),Oe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return pT(r.arrayValue,t.arrayValue);case 10:return function(l,f){var d,m,g,y;const _=l.fields||{},b=f.fields||{},D=(d=_[ch])===null||d===void 0?void 0:d.arrayValue,U=(m=b[ch])===null||m===void 0?void 0:m.arrayValue,H=jt(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((y=U==null?void 0:U.values)===null||y===void 0?void 0:y.length)||0);return H!==0?H:pT(D,U)}(r.mapValue,t.mapValue);case 11:return function(l,f){if(l===kf.mapValue&&f===kf.mapValue)return 0;if(l===kf.mapValue)return 1;if(f===kf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=f.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=zm(m[_],y[_]);if(b!==0)return b;const D=Go(d[m[_]],g[y[_]]);if(D!==0)return D}return jt(m.length,y.length)}(r.mapValue,t.mapValue);default:throw Nt(23264,{Pe:e})}}function dT(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const e=Ms(r),s=Ms(t),o=jt(e.seconds,s.seconds);return o!==0?o:jt(e.nanos,s.nanos)}function pT(r,t){const e=r.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const l=Go(e[o],s[o]);if(l)return l}return jt(e.length,s.length)}function Ko(r){return Hm(r)}function Hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const s=Ms(e);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return ks(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return Rt.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let s="[",o=!0;for(const l of e.values||[])o?o=!1:s+=",",s+=Hm(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(e){const s=Object.keys(e.fields||{}).sort();let o="{",l=!0;for(const f of s)l?l=!1:o+=",",o+=`${f}:${Hm(e.fields[f])}`;return o+"}"}(r.mapValue):Nt(61005,{value:r})}function Ff(r){switch(Vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jh(r);return t?16+Ff(t):16;case 5:return 2*r.stringValue.length;case 6:return ks(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Ff(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ka(s.fields,(l,f)=>{o+=l.length+Ff(f)}),o}(r.mapValue);default:throw Nt(13486,{value:r})}}function qm(r){return!!r&&"integerValue"in r}function Kg(r){return!!r&&"arrayValue"in r}function mT(r){return!!r&&"nullValue"in r}function gT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $f(r){return!!r&&"mapValue"in r}function pM(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[jw])===null||e===void 0?void 0:e.stringValue)===Bw}function Tu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ka(r.mapValue.fields,(e,s)=>t.mapValue.fields[e]=Tu(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Tu(r.arrayValue.values[e]);return t}return Object.assign({},r)}function mM(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.value=t}static empty(){return new or({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!$f(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tu(e)}setAll(t){let e=fn.emptyPath(),s={},o=[];t.forEach((f,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,s,o),s={},o=[],e=d.popLast()}f?s[d.lastSegment()]=Tu(f):o.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,s,o)}delete(t){const e=this.field(t.popLast());$f(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Wr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];$f(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){ka(e,(o,l)=>t[o]=l);for(const o of s)delete t[o]}clone(){return new or(Tu(this.value))}}function zw(r){const t=[];return ka(r.fields,(e,s)=>{const o=new fn([e]);if($f(s)){const l=zw(s.mapValue).fields;if(l.length===0)t.push(o);else for(const f of l)t.push(o.child(f))}else t.push(o)}),new br(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,e,s,o,l,f,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=l,this.data=f,this.documentState=d}static newInvalidDocument(t){return new yn(t,0,kt.min(),kt.min(),kt.min(),or.empty(),0)}static newFoundDocument(t,e,s,o){return new yn(t,1,e,kt.min(),s,o,0)}static newNoDocument(t,e){return new yn(t,2,e,kt.min(),kt.min(),or.empty(),0)}static newUnknownDocument(t,e){return new yn(t,3,e,kt.min(),kt.min(),or.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,e){this.position=t,this.inclusive=e}}function vT(r,t,e){let s=0;for(let o=0;o<r.position.length;o++){const l=t[o],f=r.position[o];if(l.field.isKeyField()?s=Rt.comparator(Rt.fromName(f.referenceValue),e.key):s=Go(f,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function yT(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!Wr(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,e="asc"){this.field=t,this.dir=e}}function gM(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{}class Ge extends Hw{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new yM(t,e,s):e==="array-contains"?new TM(t,s):e==="in"?new bM(t,s):e==="not-in"?new wM(t,s):e==="array-contains-any"?new SM(t,s):new Ge(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new _M(t,s):new EM(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Go(e,this.value)):e!==null&&Vs(this.value)===Vs(e)&&this.matchesComparison(Go(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends Hw{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Zr(t,e)}matches(t){return qw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qw(r){return r.op==="and"}function Fw(r){return vM(r)&&qw(r)}function vM(r){for(const t of r.filters)if(t instanceof Zr)return!1;return!0}function Fm(r){if(r instanceof Ge)return r.field.canonicalString()+r.op.toString()+Ko(r.value);if(Fw(r))return r.filters.map(t=>Fm(t)).join(",");{const t=r.filters.map(e=>Fm(e)).join(",");return`${r.op}(${t})`}}function $w(r,t){return r instanceof Ge?function(s,o){return o instanceof Ge&&s.op===o.op&&s.field.isEqual(o.field)&&Wr(s.value,o.value)}(r,t):r instanceof Zr?function(s,o){return o instanceof Zr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,f,d)=>l&&$w(f,o.filters[d]),!0):!1}(r,t):void Nt(19439)}function Gw(r){return r instanceof Ge?function(e){return`${e.field.canonicalString()} ${e.op} ${Ko(e.value)}`}(r):r instanceof Zr?function(e){return e.op.toString()+" {"+e.getFilters().map(Gw).join(" ,")+"}"}(r):"Filter"}class yM extends Ge{constructor(t,e,s){super(t,e,s),this.key=Rt.fromName(s.referenceValue)}matches(t){const e=Rt.comparator(t.key,this.key);return this.matchesComparison(e)}}class _M extends Ge{constructor(t,e){super(t,"in",e),this.keys=Kw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class EM extends Ge{constructor(t,e){super(t,"not-in",e),this.keys=Kw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Kw(r,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>Rt.fromName(s.referenceValue))}class TM extends Ge{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Kg(e)&&Vu(e.arrayValue,this.value)}}class bM extends Ge{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Vu(this.value.arrayValue,e)}}class wM extends Ge{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Vu(this.value.arrayValue,e)}}class SM extends Ge{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Kg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Vu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t,e=null,s=[],o=[],l=null,f=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=f,this.endAt=d,this.Ie=null}}function _T(r,t=null,e=[],s=[],o=null,l=null,f=null){return new AM(r,t,e,s,o,l,f)}function Yg(r){const t=Vt(r);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>Fm(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Uh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>Ko(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>Ko(s)).join(",")),t.Ie=e}return t.Ie}function Qg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!gM(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!$w(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!yT(r.startAt,t.startAt)&&yT(r.endAt,t.endAt)}function $m(r){return Rt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,e=null,s=[],o=[],l=null,f="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=f,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function RM(r,t,e,s,o,l,f,d){return new Bh(r,t,e,s,o,l,f,d)}function Xg(r){return new Bh(r)}function ET(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function CM(r){return r.collectionGroup!==null}function bu(r){const t=Vt(r);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new Ye(fn.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new hh(l,s))}),e.has(fn.keyField().canonicalString())||t.Ee.push(new hh(fn.keyField(),s))}return t.Ee}function Qr(r){const t=Vt(r);return t.de||(t.de=IM(t,bu(r))),t.de}function IM(r,t){if(r.limitType==="F")return _T(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new hh(o.field,l)});const e=r.endAt?new fh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fh(r.startAt.position,r.startAt.inclusive):null;return _T(r.path,r.collectionGroup,t,r.filters,r.limit,e,s)}}function Gm(r,t,e){return new Bh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function zh(r,t){return Qg(Qr(r),Qr(t))&&r.limitType===t.limitType}function Yw(r){return`${Yg(Qr(r))}|lt:${r.limitType}`}function No(r){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(o=>Gw(o)).join(", ")}]`),Uh(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(o=>Ko(o)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(o=>Ko(o)).join(",")),`Target(${s})`}(Qr(r))}; limitType=${r.limitType})`}function Hh(r,t){return t.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Rt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,t)&&function(s,o){for(const l of bu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,d,m){const g=vT(f,d,m);return f.inclusive?g<=0:g<0}(s.startAt,bu(s),o)||s.endAt&&!function(f,d,m){const g=vT(f,d,m);return f.inclusive?g>=0:g>0}(s.endAt,bu(s),o))}(r,t)}function xM(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Qw(r){return(t,e)=>{let s=!1;for(const o of bu(r)){const l=OM(o,t,e);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function OM(r,t,e){const s=r.field.isKeyField()?Rt.comparator(t.key,e.key):function(l,f,d){const m=f.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Go(m,g):Nt(42886)}(r.field,t,e);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Nt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ka(this.inner,(e,s)=>{for(const[o,l]of s)t(o,l)})}isEmpty(){return Mw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new Ee(Rt.comparator);function Hi(){return NM}const Xw=new Ee(Rt.comparator);function pu(...r){let t=Xw;for(const e of r)t=t.insert(e.key,e);return t}function Ww(r){let t=Xw;return r.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function Ta(){return wu()}function Zw(){return wu()}function wu(){return new Va(r=>r.toString(),(r,t)=>r.isEqual(t))}const DM=new Ee(Rt.comparator),MM=new Ye(Rt.comparator);function $t(...r){let t=MM;for(const e of r)t=t.add(e);return t}const kM=new Ye(jt);function VM(){return kM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(t)?"-0":t}}function Jw(r){return{integerValue:""+r}}function PM(r,t){return lM(t)?Jw(t):Wg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function LM(r,t,e){return r instanceof dh?function(o,l){const f={fields:{[Pw]:{stringValue:Vw},[Uw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Gg(l)&&(l=jh(l)),l&&(f.fields[Lw]=l),{mapValue:f}}(e,t):r instanceof Pu?eS(r,t):r instanceof Lu?nS(r,t):function(o,l){const f=tS(o,l),d=TT(f)+TT(o.Re);return qm(f)&&qm(o.Re)?Jw(d):Wg(o.serializer,d)}(r,t)}function UM(r,t,e){return r instanceof Pu?eS(r,t):r instanceof Lu?nS(r,t):e}function tS(r,t){return r instanceof ph?function(s){return qm(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class dh extends qh{}class Pu extends qh{constructor(t){super(),this.elements=t}}function eS(r,t){const e=rS(t);for(const s of r.elements)e.some(o=>Wr(o,s))||e.push(s);return{arrayValue:{values:e}}}class Lu extends qh{constructor(t){super(),this.elements=t}}function nS(r,t){let e=rS(t);for(const s of r.elements)e=e.filter(o=>!Wr(o,s));return{arrayValue:{values:e}}}class ph extends qh{constructor(t,e){super(),this.serializer=t,this.Re=e}}function TT(r){return Oe(r.integerValue||r.doubleValue)}function rS(r){return Kg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function jM(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Pu&&o instanceof Pu||s instanceof Lu&&o instanceof Lu?$o(s.elements,o.elements,Wr):s instanceof ph&&o instanceof ph?Wr(s.Re,o.Re):s instanceof dh&&o instanceof dh}(r.transform,t.transform)}class BM{constructor(t,e){this.version=t,this.transformResults=e}}class Vi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Vi}static exists(t){return new Vi(void 0,t)}static updateTime(t){return new Vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gf(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Fh{}function iS(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new aS(r.key,Vi.none()):new Ju(r.key,r.data,Vi.none());{const e=r.data,s=or.empty();let o=new Ye(fn.comparator);for(let l of t.fields)if(!o.has(l)){let f=e.field(l);f===null&&l.length>1&&(l=l.popLast(),f=e.field(l)),f===null?s.delete(l):s.set(l,f),o=o.add(l)}return new Pa(r.key,s,new br(o.toArray()),Vi.none())}}function zM(r,t,e){r instanceof Ju?function(o,l,f){const d=o.value.clone(),m=wT(o.fieldTransforms,l,f.transformResults);d.setAll(m),l.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(r,t,e):r instanceof Pa?function(o,l,f){if(!Gf(o.precondition,l))return void l.convertToUnknownDocument(f.version);const d=wT(o.fieldTransforms,l,f.transformResults),m=l.data;m.setAll(sS(o)),m.setAll(d),l.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,e):function(o,l,f){l.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,e)}function Su(r,t,e,s){return r instanceof Ju?function(l,f,d,m){if(!Gf(l.precondition,f))return d;const g=l.value.clone(),y=ST(l.fieldTransforms,m,f);return g.setAll(y),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,e,s):r instanceof Pa?function(l,f,d,m){if(!Gf(l.precondition,f))return d;const g=ST(l.fieldTransforms,m,f),y=f.data;return y.setAll(sS(l)),y.setAll(g),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(r,t,e,s):function(l,f,d){return Gf(l.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(r,t,e)}function HM(r,t){let e=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),l=tS(s.transform,o||null);l!=null&&(e===null&&(e=or.empty()),e.set(s.field,l))}return e||null}function bT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&$o(s,o,(l,f)=>jM(l,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ju extends Fh{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pa extends Fh{constructor(t,e,s,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function sS(r){const t=new Map;return r.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=r.data.field(e);t.set(e,s)}}),t}function wT(r,t,e){const s=new Map;ne(r.length===e.length,32656,{Ve:e.length,me:r.length});for(let o=0;o<e.length;o++){const l=r[o],f=l.transform,d=t.data.field(l.field);s.set(l.field,UM(f,d,e[o]))}return s}function ST(r,t,e){const s=new Map;for(const o of r){const l=o.transform,f=e.data.field(o.field);s.set(o.field,LM(l,f,t))}return s}class aS extends Fh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qM extends Fh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&zM(l,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Su(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Su(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=Zw();return this.mutations.forEach(o=>{const l=t.get(o.key),f=l.overlayedDocument;let d=this.applyToLocalView(f,l.mutatedFields);d=e.has(o.key)?null:d;const m=iS(f,d);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(kt.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),$t())}isEqual(t){return this.batchId===t.batchId&&$o(this.mutations,t.mutations,(e,s)=>bT(e,s))&&$o(this.baseMutations,t.baseMutations,(e,s)=>bT(e,s))}}class Zg{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){ne(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return DM}();const l=t.mutations;for(let f=0;f<l.length;f++)o=o.insert(l[f].key,s[f].version);return new Zg(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,Wt;function KM(r){switch(r){case ct.OK:return Nt(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Nt(15467,{code:r})}}function oS(r){if(r===void 0)return zi("GRPC error has no .code"),ct.UNKNOWN;switch(r){case Ue.OK:return ct.OK;case Ue.CANCELLED:return ct.CANCELLED;case Ue.UNKNOWN:return ct.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return ct.INTERNAL;case Ue.UNAVAILABLE:return ct.UNAVAILABLE;case Ue.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case Ue.NOT_FOUND:return ct.NOT_FOUND;case Ue.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case Ue.ABORTED:return ct.ABORTED;case Ue.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case Ue.DATA_LOSS:return ct.DATA_LOSS;default:return Nt(39323,{code:r})}}(Wt=Ue||(Ue={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new xs([4294967295,4294967295],0);function AT(r){const t=Ow().encode(r),e=new bw;return e.update(t),new Uint8Array(e.digest())}function RT(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new xs([e,s],0),new xs([o,l],0)]}class Jg{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new mu(`Invalid padding: ${e}`);if(s<0)throw new mu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new mu(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=xs.fromNumber(this.pe)}we(t,e,s){let o=t.add(e.multiply(xs.fromNumber(s)));return o.compare(YM)===1&&(o=new xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=AT(t),[s,o]=RT(e);for(let l=0;l<this.hashCount;l++){const f=this.we(s,o,l);if(!this.be(f))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),f=new Jg(l,o,e);return s.forEach(d=>f.insert(d)),f}insert(t){if(this.pe===0)return;const e=AT(t),[s,o]=RT(e);for(let l=0;l<this.hashCount;l++){const f=this.we(s,o,l);this.Se(f)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,e,s,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,tc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new $h(kt.min(),o,new Ee(jt),Hi(),$t())}}class tc{constructor(t,e,s,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new tc(s,e,$t(),$t(),$t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t,e,s,o){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=o}}class lS{constructor(t,e){this.targetId=t,this.Ce=e}}class uS{constructor(t,e,s=hn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class CT{constructor(){this.Fe=0,this.Me=IT(),this.xe=hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=$t(),e=$t(),s=$t();return this.Me.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Nt(38017,{changeType:l})}}),new tc(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=IT()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,ne(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class QM{constructor(t){this.ze=t,this.je=new Map,this.He=Hi(),this.Je=Vf(),this.Ye=Vf(),this.Ze=new Ee(jt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:Nt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,o)=>{this.it(o)&&e(o)})}ot(t){const e=t.targetId,s=t.Ce.count,o=this._t(e);if(o){const l=o.target;if($m(l))if(s===0){const f=new Rt(l.path);this.tt(e,f,yn.newNoDocument(f,kt.min()))}else ne(s===1,20013,{expectedCount:s});else{const f=this.ut(e);if(f!==s){const d=this.ct(t),m=d?this.lt(d,t,f):1;if(m!==0){this.st(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=e;let f,d;try{f=ks(s).toUint8Array()}catch(m){if(m instanceof kw)return Fo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Jg(f,o,l)}catch(m){return Fo(m instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let o=0;return s.forEach(l=>{const f=this.ze.Pt(),d=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,l,null),o++)}),o}It(t){const e=new Map;this.je.forEach((l,f)=>{const d=this._t(f);if(d){if(l.current&&$m(d.target)){const m=new Rt(d.target.path);this.Et(m).has(f)||this.dt(f,m)||this.tt(f,m,yn.newNoDocument(m,t))}l.Le&&(e.set(f,l.qe()),l.Qe())}});let s=$t();this.Ye.forEach((l,f)=>{let d=!0;f.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,f)=>f.setReadTime(t));const o=new $h(t,e,this.Ze,this.He,s);return this.He=Hi(),this.Je=Vf(),this.Ye=Vf(),this.Ze=new Ee(jt),o}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,e)?o.$e(e,1):o.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new CT,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Ye(jt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Ye(jt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||mt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new CT),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Vf(){return new Ee(Rt.comparator)}function IT(){return new Ee(Rt.comparator)}const XM={asc:"ASCENDING",desc:"DESCENDING"},WM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZM={and:"AND",or:"OR"};class JM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Km(r,t){return r.useProto3Json||Uh(t)?t:{value:t}}function mh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cS(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function t6(r,t){return mh(r,t.toTimestamp())}function Xr(r){return ne(!!r,49232),kt.fromTimestamp(function(e){const s=Ms(e);return new Ke(s.seconds,s.nanos)}(r))}function tv(r,t){return Ym(r,t).canonicalString()}function Ym(r,t){const e=function(o){return new Re(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?e:e.child(t)}function fS(r){const t=Re.fromString(r);return ne(gS(t),10190,{key:t.toString()}),t}function Qm(r,t){return tv(r.databaseId,t.path)}function ym(r,t){const e=fS(t);if(e.get(1)!==r.databaseId.projectId)throw new At(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new At(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new Rt(dS(e))}function hS(r,t){return tv(r.databaseId,t)}function e6(r){const t=fS(r);return t.length===4?Re.emptyPath():dS(t)}function Xm(r){return new Re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dS(r){return ne(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function xT(r,t,e){return{name:Qm(r,t),fields:e.value.mapValue.fields}}function n6(r,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Nt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(ne(y===void 0||typeof y=="string",58123),hn.fromBase64String(y||"")):(ne(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),hn.fromUint8Array(y||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,d=f&&function(g){const y=g.code===void 0?ct.UNKNOWN:oS(g.code);return new At(y,g.message||"")}(f);e=new uS(s,o,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ym(r,s.document.name),l=Xr(s.document.updateTime),f=s.document.createTime?Xr(s.document.createTime):kt.min(),d=new or({mapValue:{fields:s.document.fields}}),m=yn.newFoundDocument(o,l,f,d),g=s.targetIds||[],y=s.removedTargetIds||[];e=new Kf(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ym(r,s.document),l=s.readTime?Xr(s.readTime):kt.min(),f=yn.newNoDocument(o,l),d=s.removedTargetIds||[];e=new Kf([],d,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ym(r,s.document),l=s.removedTargetIds||[];e=new Kf([],l,o,null)}else{if(!("filter"in t))return Nt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,f=new GM(o,l),d=s.targetId;e=new lS(d,f)}}return e}function r6(r,t){let e;if(t instanceof Ju)e={update:xT(r,t.key,t.value)};else if(t instanceof aS)e={delete:Qm(r,t.key)};else if(t instanceof Pa)e={update:xT(r,t.key,t.data),updateMask:h6(t.fieldMask)};else{if(!(t instanceof qM))return Nt(16599,{ft:t.type});e={verify:Qm(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(l,f){const d=f.transform;if(d instanceof dh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ph)return{fieldPath:f.field.canonicalString(),increment:d.Re};throw Nt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:t6(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Nt(27497)}(r,t.precondition)),e}function i6(r,t){return r&&r.length>0?(ne(t!==void 0,14353),r.map(e=>function(o,l){let f=o.updateTime?Xr(o.updateTime):Xr(l);return f.isEqual(kt.min())&&(f=Xr(l)),new BM(f,o.transformResults||[])}(e,t))):[]}function s6(r,t){return{documents:[hS(r,t.path)]}}function a6(r,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=hS(r,o);const l=function(g){if(g.length!==0)return mS(Zr.create(g,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const f=function(g){if(g.length!==0)return g.map(y=>function(b){return{field:Do(b.field),direction:u6(b.dir)}}(y))}(t.orderBy);f&&(e.structuredQuery.orderBy=f);const d=Km(r,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:o}}function o6(r){let t=e6(r.parent);const e=r.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){ne(s===1,65062);const y=e.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=function(_){const b=pS(_);return b instanceof Zr&&Fw(b)?b.getFilters():[b]}(e.where));let f=[];e.orderBy&&(f=function(_){return _.map(b=>function(U){return new hh(Mo(U.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(b))}(e.orderBy));let d=null;e.limit&&(d=function(_){let b;return b=typeof _=="object"?_.value:_,Uh(b)?null:b}(e.limit));let m=null;e.startAt&&(m=function(_){const b=!!_.before,D=_.values||[];return new fh(D,b)}(e.startAt));let g=null;return e.endAt&&(g=function(_){const b=!_.before,D=_.values||[];return new fh(D,b)}(e.endAt)),RM(t,o,f,l,d,"F",m,g)}function l6(r,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function pS(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Mo(e.unaryFilter.field);return Ge.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Mo(e.unaryFilter.field);return Ge.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Mo(e.unaryFilter.field);return Ge.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Mo(e.unaryFilter.field);return Ge.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(r):r.fieldFilter!==void 0?function(e){return Ge.create(Mo(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return Zr.create(e.compositeFilter.filters.map(s=>pS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(e.compositeFilter.op))}(r):Nt(30097,{filter:r})}function u6(r){return XM[r]}function c6(r){return WM[r]}function f6(r){return ZM[r]}function Do(r){return{fieldPath:r.canonicalString()}}function Mo(r){return fn.fromServerFormat(r.fieldPath)}function mS(r){return r instanceof Ge?function(e){if(e.op==="=="){if(gT(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NAN"}};if(mT(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(gT(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NOT_NAN"}};if(mT(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(e.field),op:c6(e.op),value:e.value}}}(r):r instanceof Zr?function(e){const s=e.getFilters().map(o=>mS(o));return s.length===1?s[0]:{compositeFilter:{op:f6(e.op),filters:s}}}(r):Nt(54877,{filter:r})}function h6(r){const t=[];return r.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function gS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t,e,s,o,l=kt.min(),f=kt.min(),d=hn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new As(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t){this.wt=t}}function p6(r){const t=o6({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.Cn=new g6}addToCollectionParentIndex(t,e){return this.Cn.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return lt.resolve()}deleteFieldIndex(t,e){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,e){return lt.resolve()}getDocumentsMatchingTarget(t,e){return lt.resolve(null)}getIndexType(t,e){return lt.resolve(0)}getFieldIndexes(t,e){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,e){return lt.resolve(Ds.min())}getMinOffsetFromCollectionGroup(t,e){return lt.resolve(Ds.min())}updateCollectionGroup(t,e,s){return lt.resolve()}updateIndexEntries(t,e){return lt.resolve()}}class g6{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Ye(Re.comparator),l=!o.has(s);return this.index[e]=o.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ye(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class kn{static withCacheSize(t){return new kn(t,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(vS,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Yo(0)}static lr(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="LruGarbageCollector",v6=1048576;function DT([r,t],[e,s]){const o=jt(r,e);return o===0?jt(t,s):o}class y6{constructor(t){this.Er=t,this.buffer=new Ye(DT),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();DT(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class _6{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){mt(NT,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){sl(e)?mt(NT,"Ignoring IndexedDB error during garbage collection: ",e):await il(e)}await this.mr(3e5)})}}class E6{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return lt.resolve(Lh.le);const s=new y6(e);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(OT)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OT):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,o,l,f,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,f=Date.now(),this.nthSequenceNumber(t,o))).next(_=>(s=_,d=Date.now(),this.removeTargets(t,s,e))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(_=>(g=Date.now(),Oo()<=Ft.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-y}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:_})))}}function T6(r,t){return new E6(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.changes=new Va(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?lt.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(s!==null&&Su(s.mutation,o,br.empty(),Ke.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,$t()).next(()=>s))}getLocalViewOfDocuments(t,e,s=$t()){const o=Ta();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,s).next(l=>{let f=pu();return l.forEach((d,m)=>{f=f.insert(d,m.overlayedDocument)}),f}))}getOverlayedDocuments(t,e){const s=Ta();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,$t()))}populateOverlays(t,e,s){const o=[];return s.forEach(l=>{e.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((f,d)=>{e.set(f,d)})})}computeViews(t,e,s,o){let l=Hi();const f=wu(),d=function(){return wu()}();return e.forEach((m,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Pa)?l=l.insert(g.key,g):y!==void 0?(f.set(g.key,y.mutation.getFieldMask()),Su(y.mutation,g,y.mutation.getFieldMask(),Ke.now())):f.set(g.key,br.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((g,y)=>f.set(g,y)),e.forEach((g,y)=>{var _;return d.set(g,new w6(y,(_=f.get(g))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(t,e){const s=wu();let o=new Ee((f,d)=>f-d),l=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(f=>{for(const d of f)d.keys().forEach(m=>{const g=e.get(m);if(g===null)return;let y=s.get(m)||br.empty();y=d.applyToLocalView(g,y),s.set(m,y);const _=(o.get(d.batchId)||$t()).add(m);o=o.insert(d.batchId,_)})}).next(()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,_=Zw();y.forEach(b=>{if(!l.has(b)){const D=iS(e.get(b),s.get(b));D!==null&&_.set(b,D),l=l.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,_))}return lt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,o){return function(f){return Rt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):CM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next(l=>{const f=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-l.size):lt.resolve(Ta());let d=Du,m=l;return f.next(g=>lt.forEach(g,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?lt.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(t,g,l)).next(()=>this.computeViews(t,m,g,$t())).next(y=>({batchId:d,changes:Ww(y)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Rt(e)).next(s=>{let o=pu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const l=e.collectionGroup;let f=pu();return this.indexManager.getCollectionParents(t,l).next(d=>lt.forEach(d,m=>{const g=function(_,b){return new Bh(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(y=>{y.forEach((_,b)=>{f=f.insert(_,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,e,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,o))).next(f=>{l.forEach((m,g)=>{const y=g.getKey();f.get(y)===null&&(f=f.insert(y,yn.newInvalidDocument(y)))});let d=pu();return f.forEach((m,g)=>{const y=l.get(m);y!==void 0&&Su(y.mutation,g,br.empty(),Ke.now()),Hh(e,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return lt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:Xr(o.createTime)}}(e)),lt.resolve()}getNamedQuery(t,e){return lt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(o){return{name:o.name,query:p6(o.bundledQuery),readTime:Xr(o.readTime)}}(e)),lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.overlays=new Ee(Rt.comparator),this.Qr=new Map}getOverlay(t,e){return lt.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Ta();return lt.forEach(e,o=>this.getOverlay(t,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((o,l)=>{this.St(t,e,l)}),lt.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),lt.resolve()}getOverlaysForCollection(t,e,s){const o=Ta(),l=e.length+1,f=new Rt(e.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return lt.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let l=new Ee((g,y)=>g-y);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=Ta(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Ta(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=o)););return lt.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new $M(e,s));let l=this.Qr.get(e);l===void 0&&(l=$t(),this.Qr.set(e,l)),this.Qr.set(e,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.$r=new Ye(rn.Ur),this.Kr=new Ye(rn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new rn(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new rn(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new Rt(new Re([])),s=new rn(e,t),o=new rn(e,t+1),l=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),l.push(f.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Rt(new Re([])),s=new rn(e,t),o=new rn(e,t+1);let l=$t();return this.Kr.forEachInRange([s,o],f=>{l=l.add(f.key)}),l}containsKey(t){const e=new rn(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class rn{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Rt.comparator(t.key,e.key)||jt(t.Zr,e.Zr)}static Wr(t,e){return jt(t.Zr,e.Zr)||Rt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Ye(rn.Ur)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new FM(l,e,s,o);this.mutationQueue.push(f);for(const d of o)this.Xr=this.Xr.add(new rn(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return lt.resolve(f)}lookupMutationBatch(t,e){return lt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ti(s),l=o<0?0:o;return lt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?$g:this.nr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new rn(e,0),o=new rn(e,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,o],f=>{const d=this.ei(f.Zr);l.push(d)}),lt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Ye(jt);return e.forEach(o=>{const l=new rn(o,0),f=new rn(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,f],d=>{s=s.add(d.Zr)})}),lt.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let l=s;Rt.isDocumentKey(l)||(l=l.child(""));const f=new rn(new Rt(l),0);let d=new Ye(jt);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Zr)),!0)},f),lt.resolve(this.ni(d))}ni(t){const e=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){ne(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return lt.forEach(e.mutations,o=>{const l=new rn(o.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new rn(e,0),o=this.Xr.firstAfterOrEqual(s);return lt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(t){this.ii=t,this.docs=function(){return new Ee(Rt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),l=o?o.size:0,f=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return lt.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(e))}getEntries(t,e){let s=Hi();return e.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():yn.newInvalidDocument(o))}),lt.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let l=Hi();const f=e.path,d=new Rt(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||iM(rM(y),s)<=0||(o.has(y.key)||Hh(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return lt.resolve(l)}getAllFromCollectionGroup(t,e,s,o){Nt(9500)}si(t,e){return lt.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new O6(this)}getSize(t){return lt.resolve(this.size)}}class O6 extends b6{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?e.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),lt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(t){this.persistence=t,this.oi=new Va(e=>Yg(e),Qg),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this._i=0,this.ai=new ev,this.targetCount=0,this.ui=Yo.cr()}forEachTarget(t,e){return this.oi.forEach((s,o)=>e(o)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),lt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Yo(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.Tr(e),lt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,s){let o=0;const l=[];return this.oi.forEach((f,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.oi.delete(f),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),lt.waitFor(l).next(()=>o)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return lt.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),lt.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(f=>{l.push(o.markPotentiallyOrphaned(t,f))}),lt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return lt.resolve(s)}containsKey(t,e){return lt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t,e){this.ci={},this.overlays={},this.li=new Lh(0),this.hi=!1,this.hi=!0,this.Pi=new C6,this.referenceDelegate=t(this),this.Ti=new N6(this),this.indexManager=new m6,this.remoteDocumentCache=function(o){return new x6(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new d6(e),this.Ei=new A6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new R6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new I6(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){mt("MemoryPersistence","Starting transaction:",t);const o=new D6(this.li.next());return this.referenceDelegate.di(),s(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(t,e){return lt.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class D6 extends aM{constructor(t){super(),this.currentSequenceNumber=t}}class nv{constructor(t){this.persistence=t,this.Vi=new ev,this.mi=null}static fi(t){return new nv(t)}get gi(){if(this.mi)return this.mi;throw Nt(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),lt.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),lt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.gi,s=>{const o=Rt.fromPath(s);return this.pi(t,o).next(l=>{l||e.removeEntry(o,kt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return lt.or([()=>lt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class gh{constructor(t,e){this.persistence=t,this.yi=new Va(s=>uM(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=T6(this,e)}static fi(t,e){return new gh(t,e)}di(){}Ai(t){return lt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(o=>s+o))}br(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return lt.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(l=>l?lt.resolve():e(o)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,e).next(d=>{d||(s++,l.removeEntry(f,kt.min()))})).next(()=>l.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),lt.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),lt.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),lt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ff(t.data.value)),e}Dr(t,e,s){return lt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.yi.get(e);return lt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.ds=s,this.As=o}static Rs(t,e){let s=$t(),o=$t();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new rv(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return pO()?8:oM(En())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,o){const l={result:null};return this.ws(t,e).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.bs(t,e,o,s).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new M6;return this.Ss(t,e,f).next(d=>{if(l.result=d,this.fs)return this.Ds(t,e,f,d.size)})}).next(()=>l.result)}Ds(t,e,s,o){return s.documentReadCount<this.gs?(Oo()<=Ft.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",No(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),lt.resolve()):(Oo()<=Ft.DEBUG&&mt("QueryEngine","Query:",No(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Oo()<=Ft.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",No(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qr(e))):lt.resolve())}ws(t,e){if(ET(e))return lt.resolve(null);let s=Qr(e);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=Gm(e,null,"F"),s=Qr(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const f=$t(...l);return this.ys.getDocuments(t,f).next(d=>this.indexManager.getMinOffset(t,s).next(m=>{const g=this.vs(e,d);return this.Cs(e,g,f,m.readTime)?this.ws(t,Gm(e,null,"F")):this.Fs(t,g,e,m)}))})))}bs(t,e,s,o){return ET(e)||o.isEqual(kt.min())?lt.resolve(null):this.ys.getDocuments(t,s).next(l=>{const f=this.vs(e,l);return this.Cs(e,f,s,o)?lt.resolve(null):(Oo()<=Ft.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(e)),this.Fs(t,f,e,nM(o,Du)).next(d=>d))})}vs(t,e){let s=new Ye(Qw(t));return e.forEach((o,l)=>{Hh(t,l)&&(s=s.add(l))}),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(t,e,s){return Oo()<=Ft.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",No(e)),this.ys.getDocumentsMatchingQuery(t,e,Ds.min(),s)}Fs(t,e,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(l=>(e.forEach(f=>{l=l.insert(f.key,f)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="LocalStore",V6=3e8;class P6{constructor(t,e,s,o){this.persistence=t,this.Ms=e,this.serializer=o,this.xs=new Ee(jt),this.Os=new Va(l=>Yg(l),Qg),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new S6(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function L6(r,t,e,s){return new P6(r,t,e,s)}async function _S(r,t){const e=Vt(r);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(l=>{const f=[],d=[];let m=$t();for(const g of o){f.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(s,m).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:d}))})})}function U6(r,t){const e=Vt(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),l=e.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,y){const _=g.batch,b=_.keys();let D=lt.resolve();return b.forEach(U=>{D=D.next(()=>y.getEntry(m,U)).next(H=>{const L=g.docVersions.get(U);ne(L!==null,48541),H.version.compareTo(L)<0&&(_.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),y.addEntry(H)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(e,s,t,l).next(()=>l.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=$t();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>e.localDocuments.getDocuments(s,o))})}function ES(r){const t=Vt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function j6(r,t){const e=Vt(r),s=t.snapshotVersion;let o=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=e.Bs.newChangeBuffer({trackRemovals:!0});o=e.xs;const d=[];t.targetChanges.forEach((y,_)=>{const b=o.get(_);if(!b)return;d.push(e.Ti.removeMatchingKeys(l,y.removedDocuments,_).next(()=>e.Ti.addMatchingKeys(l,y.addedDocuments,_)));let D=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?D=D.withResumeToken(hn.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):y.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(y.resumeToken,s)),o=o.insert(_,D),function(H,L,J){return H.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=V6?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(b,D,y)&&d.push(e.Ti.updateTargetData(l,D))});let m=Hi(),g=$t();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(B6(l,f,t.documentUpdates).next(y=>{m=y.qs,g=y.Qs})),!s.isEqual(kt.min())){const y=e.Ti.getLastRemoteSnapshotVersion(l).next(_=>e.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(y)}return lt.waitFor(d).next(()=>f.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(e.xs=o,l))}function B6(r,t,e){let s=$t(),o=$t();return e.forEach(l=>s=s.add(l)),t.getEntries(r,s).next(l=>{let f=Hi();return e.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(kt.min())?(t.removeEntry(d,m.readTime),f=f.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),f=f.insert(d,m)):mt(iv,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{qs:f,Qs:o}})}function z6(r,t){const e=Vt(r);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=$g),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function H6(r,t){const e=Vt(r);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return e.Ti.getTargetData(s,t).next(l=>l?(o=l,lt.resolve(o)):e.Ti.allocateTargetId(s).next(f=>(o=new As(t,f,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=e.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function Wm(r,t,e){const s=Vt(r),o=s.xs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!sl(f))throw f;mt(iv,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function MT(r,t,e){const s=Vt(r);let o=kt.min(),l=$t();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,y){const _=Vt(m),b=_.Os.get(y);return b!==void 0?lt.resolve(_.xs.get(b)):_.Ti.getTargetData(g,y)}(s,f,Qr(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,d.targetId).next(m=>{l=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,e?o:kt.min(),e?l:$t())).next(d=>(q6(s,xM(t),d),{documents:d,$s:l})))}function q6(r,t,e){let s=r.Ns.get(t)||kt.min();e.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Ns.set(t,s)}class kT{constructor(){this.activeTargetIds=VM()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class F6{constructor(){this.xo=new kT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new kT,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="ConnectivityMonitor";class PT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){mt(VT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){mt(VT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=null;function Zm(){return Pf===null?Pf=function(){return 268435456+Math.round(2147483648*Math.random())}():Pf++,"0x"+Pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",G6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K6{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,e,s,o,l){const f=Zm(),d=this.jo(t,e.toUriEncodedString());mt(_m,`Sending RPC '${t}' ${f}:`,d,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,l);const{host:g}=new URL(d),y=tl(g);return this.Jo(t,d,m,s,y).then(_=>(mt(_m,`Received RPC '${t}' ${f}: `,_),_),_=>{throw Fo(_m,`RPC '${t}' ${f} failed with error: `,_,"url: ",d,"request:",s),_})}Yo(t,e,s,o,l,f){return this.zo(t,e,s,o,l)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),s&&s.headers.forEach((o,l)=>t[l]=o)}jo(t,e){const s=G6[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class Q6 extends K6{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,l){const f=Zm();return new Promise((d,m)=>{const g=new ww;g.setWithCredentials(!0),g.listenOnce(Sw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case qf.NO_ERROR:const _=g.getResponseJson();mt(gn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(_)),d(_);break;case qf.TIMEOUT:mt(gn,`RPC '${t}' ${f} timed out`),m(new At(ct.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const b=g.getStatus();if(mt(gn,`RPC '${t}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const U=D==null?void 0:D.error;if(U&&U.status&&U.message){const H=function(J){const nt=J.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(nt)>=0?nt:ct.UNKNOWN}(U.status);m(new At(H,U.message))}else m(new At(ct.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new At(ct.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{h_:t,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{mt(gn,`RPC '${t}' ${f} completed.`)}});const y=JSON.stringify(o);mt(gn,`RPC '${t}' ${f} sending request:`,o),g.send(e,"POST",y,s,15)})}I_(t,e,s){const o=Zm(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Cw(),d=Rw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,e,s),m.encodeInitMessageHeaders=!0;const y=l.join("");mt(gn,`Creating RPC '${t}' stream ${o}: ${y}`,m);const _=f.createWebChannel(y,m);this.E_(_);let b=!1,D=!1;const U=new Y6({Zo:L=>{D?mt(gn,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(b||(mt(gn,`Opening RPC '${t}' stream ${o} transport.`),_.open(),b=!0),mt(gn,`RPC '${t}' stream ${o} sending:`,L),_.send(L))},Xo:()=>_.close()}),H=(L,J,nt)=>{L.listen(J,X=>{try{nt(X)}catch(rt){setTimeout(()=>{throw rt},0)}})};return H(_,du.EventType.OPEN,()=>{D||(mt(gn,`RPC '${t}' stream ${o} transport opened.`),U.__())}),H(_,du.EventType.CLOSE,()=>{D||(D=!0,mt(gn,`RPC '${t}' stream ${o} transport closed`),U.u_(),this.d_(_))}),H(_,du.EventType.ERROR,L=>{D||(D=!0,Fo(gn,`RPC '${t}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),U.u_(new At(ct.UNAVAILABLE,"The operation could not be completed")))}),H(_,du.EventType.MESSAGE,L=>{var J;if(!D){const nt=L.data[0];ne(!!nt,16349);const X=nt,rt=(X==null?void 0:X.error)||((J=X[0])===null||J===void 0?void 0:J.error);if(rt){mt(gn,`RPC '${t}' stream ${o} received error:`,rt);const tt=rt.status;let W=function(I){const M=Ue[I];if(M!==void 0)return oS(M)}(tt),x=rt.message;W===void 0&&(W=ct.INTERNAL,x="Unknown error status: "+tt+" with message "+rt.message),D=!0,U.u_(new At(W,x)),_.close()}else mt(gn,`RPC '${t}' stream ${o} received:`,nt),U.c_(nt)}}),H(d,Aw.STAT_EVENT,L=>{L.stat===Bm.PROXY?mt(gn,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===Bm.NOPROXY&&mt(gn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.a_()},0),U}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(r){return new JM(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t,e,s=1e3,o=1.5,l=6e4){this.xi=t,this.timerId=e,this.A_=s,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,e-s);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="PersistentStream";class bS{constructor(t,e,s,o,l,f,d,m){this.xi=t,this.S_=s,this.D_=o,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new TS(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===ct.RESOURCE_EXHAUSTED?(zi(e.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===e&&this.z_(s,o)},s=>{t(()=>{const o=new At(ct.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,e){const s=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return mt(LT,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(mt(LT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X6 extends bS{constructor(t,e,s,o,l,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,f),this.serializer=l}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=n6(this.serializer,t),s=function(l){if(!("targetChange"in l))return kt.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?kt.min():f.readTime?Xr(f.readTime):kt.min()}(t);return this.listener.Y_(e,s)}Z_(t){const e={};e.database=Xm(this.serializer),e.addTarget=function(l,f){let d;const m=f.target;if(d=$m(m)?{documents:s6(l,m)}:{query:a6(l,m).gt},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=cS(l,f.resumeToken);const g=Km(l,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(kt.min())>0){d.readTime=mh(l,f.snapshotVersion.toTimestamp());const g=Km(l,f.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=l6(this.serializer,t);s&&(e.labels=s),this.Q_(e)}X_(t){const e={};e.database=Xm(this.serializer),e.removeTarget=t,this.Q_(e)}}class W6 extends bS{constructor(t,e,s,o,l,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,f),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=i6(t.writeResults,t.commitTime),s=Xr(t.commitTime);return this.listener.ra(s,e)}ia(){const t={};t.database=Xm(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>r6(this.serializer,s))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{}class J6 extends Z6{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new At(ct.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.zo(t,Ym(e,s),o,l,f)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new At(ct.UNKNOWN,l.toString())})}Yo(t,e,s,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Yo(t,Ym(e,s),o,f,d,l)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new At(ct.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class tk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(zi(e),this.ua=!1):mt("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class ek{constructor(t,e,s,o,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(f=>{s.enqueueAndForget(async()=>{La(this)&&(mt(Na,"Restarting streams for network reachability change."),await async function(m){const g=Vt(m);g.da.add(4),await ec(g),g.Va.set("Unknown"),g.da.delete(4),await Kh(g)}(this))})}),this.Va=new tk(s,o)}}async function Kh(r){if(La(r))for(const t of r.Aa)await t(!0)}async function ec(r){for(const t of r.Aa)await t(!1)}function wS(r,t){const e=Vt(r);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),lv(e)?ov(e):al(e).N_()&&av(e,t))}function sv(r,t){const e=Vt(r),s=al(e);e.Ea.delete(t),s.N_()&&SS(e,t),e.Ea.size===0&&(s.N_()?s.k_():La(e)&&e.Va.set("Unknown"))}function av(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kt.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}al(r).Z_(t)}function SS(r,t){r.ma.Ke(t),al(r).X_(t)}function ov(r){r.ma=new QM({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),al(r).start(),r.Va.ca()}function lv(r){return La(r)&&!al(r).O_()&&r.Ea.size>0}function La(r){return Vt(r).da.size===0}function AS(r){r.ma=void 0}async function nk(r){r.Va.set("Online")}async function rk(r){r.Ea.forEach((t,e)=>{av(r,t)})}async function ik(r,t){AS(r),lv(r)?(r.Va.Pa(t),ov(r)):r.Va.set("Unknown")}async function sk(r,t,e){if(r.Va.set("Online"),t instanceof uS&&t.state===2&&t.cause)try{await async function(o,l){const f=l.cause;for(const d of l.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o.Ea.delete(d),o.ma.removeTarget(d))}(r,t)}catch(s){mt(Na,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await vh(r,s)}else if(t instanceof Kf?r.ma.Xe(t):t instanceof lS?r.ma.ot(t):r.ma.nt(t),!e.isEqual(kt.min()))try{const s=await ES(r.localStore);e.compareTo(s)>=0&&await function(l,f){const d=l.ma.It(f);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ea.get(g);y&&l.Ea.set(g,y.withResumeToken(m.resumeToken,f))}}),d.targetMismatches.forEach((m,g)=>{const y=l.Ea.get(m);if(!y)return;l.Ea.set(m,y.withResumeToken(hn.EMPTY_BYTE_STRING,y.snapshotVersion)),SS(l,m);const _=new As(y.target,m,g,y.sequenceNumber);av(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(r,e)}catch(s){mt(Na,"Failed to raise snapshot:",s),await vh(r,s)}}async function vh(r,t,e){if(!sl(t))throw t;r.da.add(1),await ec(r),r.Va.set("Offline"),e||(e=()=>ES(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{mt(Na,"Retrying IndexedDB access"),await e(),r.da.delete(1),await Kh(r)})}function RS(r,t){return t().catch(e=>vh(r,e,t))}async function Yh(r){const t=Vt(r),e=Ps(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:$g;for(;ak(t);)try{const o=await z6(t.localStore,s);if(o===null){t.Ia.length===0&&e.k_();break}s=o.batchId,ok(t,o)}catch(o){await vh(t,o)}CS(t)&&IS(t)}function ak(r){return La(r)&&r.Ia.length<10}function ok(r,t){r.Ia.push(t);const e=Ps(r);e.N_()&&e.ea&&e.ta(t.mutations)}function CS(r){return La(r)&&!Ps(r).O_()&&r.Ia.length>0}function IS(r){Ps(r).start()}async function lk(r){Ps(r).ia()}async function uk(r){const t=Ps(r);for(const e of r.Ia)t.ta(e.mutations)}async function ck(r,t,e){const s=r.Ia.shift(),o=Zg.from(s,t,e);await RS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Yh(r)}async function fk(r,t){t&&Ps(r).ea&&await async function(s,o){if(function(f){return KM(f)&&f!==ct.ABORTED}(o.code)){const l=s.Ia.shift();Ps(s).L_(),await RS(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Yh(s)}}(r,t),CS(r)&&IS(r)}async function UT(r,t){const e=Vt(r);e.asyncQueue.verifyOperationInProgress(),mt(Na,"RemoteStore received new credentials");const s=La(e);e.da.add(3),await ec(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Kh(e)}async function hk(r,t){const e=Vt(r);t?(e.da.delete(2),await Kh(e)):t||(e.da.add(2),await ec(e),e.Va.set("Unknown"))}function al(r){return r.fa||(r.fa=function(e,s,o){const l=Vt(e);return l.oa(),new X6(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{e_:nk.bind(null,r),n_:rk.bind(null,r),i_:ik.bind(null,r),Y_:sk.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),lv(r)?ov(r):r.Va.set("Unknown")):(await r.fa.stop(),AS(r))})),r.fa}function Ps(r){return r.ga||(r.ga=function(e,s,o){const l=Vt(e);return l.oa(),new W6(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:lk.bind(null,r),i_:fk.bind(null,r),na:uk.bind(null,r),ra:ck.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await Yh(r)):(await r.ga.stop(),r.Ia.length>0&&(mt(Na,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t,e,s,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,l){const f=Date.now()+s,d=new uv(t,e,f,o,l);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cv(r,t){if(zi("AsyncQueue",`${t}: ${r}`),sl(r))return new At(ct.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(t){return new Uo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||Rt.comparator(e.key,s.key):(e,s)=>Rt.comparator(e.key,s.key),this.keyedMap=pu(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Uo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Uo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.pa=new Ee(Rt.comparator)}track(t){const e=t.doc.key,s=this.pa.get(e);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(e,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(e):t.type===1&&s.type===2?this.pa=this.pa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):Nt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,s)=>{t.push(s)}),t}}class Qo{constructor(t,e,s,o,l,f,d,m,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,l){const f=[];return e.forEach(d=>{f.push({type:0,doc:d})}),new Qo(t,e,Uo.emptySet(e),f,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class pk{constructor(){this.queries=BT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Vt(e),l=o.queries;o.queries=BT(),l.forEach((f,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new At(ct.ABORTED,"Firestore shutting down"))}}function BT(){return new Va(r=>Yw(r),zh)}async function mk(r,t){const e=Vt(r);let s=3;const o=t.query;let l=e.queries.get(o);l?!l.Da()&&t.va()&&(s=2):(l=new dk,s=t.va()?0:1);try{switch(s){case 0:l.ba=await e.onListen(o,!0);break;case 1:l.ba=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(f){const d=cv(f,`Initialization of query '${No(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,l),l.Sa.push(t),t.Fa(e.onlineState),l.ba&&t.Ma(l.ba)&&fv(e)}async function gk(r,t){const e=Vt(r),s=t.query;let o=3;const l=e.queries.get(s);if(l){const f=l.Sa.indexOf(t);f>=0&&(l.Sa.splice(f,1),l.Sa.length===0?o=t.va()?0:1:!l.Da()&&t.va()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function vk(r,t){const e=Vt(r);let s=!1;for(const o of t){const l=o.query,f=e.queries.get(l);if(f){for(const d of f.Sa)d.Ma(o)&&(s=!0);f.ba=o}}s&&fv(e)}function yk(r,t,e){const s=Vt(r),o=s.queries.get(t);if(o)for(const l of o.Sa)l.onError(e);s.queries.delete(t)}function fv(r){r.Ca.forEach(t=>{t.next()})}var Jm,zT;(zT=Jm||(Jm={})).xa="default",zT.Cache="cache";class _k{constructor(t,e,s){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Qo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const s=e!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.key=t}}class OS{constructor(t){this.key=t}}class Ek{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$t(),this.mutatedKeys=$t(),this.Za=Qw(t),this.Xa=new Uo(this.Za)}get eu(){return this.Ha}tu(t,e){const s=e?e.nu:new jT,o=e?e.Xa:this.Xa;let l=e?e.mutatedKeys:this.mutatedKeys,f=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((y,_)=>{const b=o.get(y),D=Hh(this.query,_)?_:null,U=!!b&&this.mutatedKeys.has(b.key),H=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;b&&D?b.data.isEqual(D.data)?U!==H&&(s.track({type:3,doc:D}),L=!0):this.ru(b,D)||(s.track({type:2,doc:D}),L=!0,(m&&this.Za(D,m)>0||g&&this.Za(D,g)<0)&&(d=!0)):!b&&D?(s.track({type:0,doc:D}),L=!0):b&&!D&&(s.track({type:1,doc:b}),L=!0,(m||g)&&(d=!0)),L&&(D?(f=f.add(D),l=H?l.add(y):l.delete(y)):(f=f.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const y=this.query.limitType==="F"?f.last():f.first();f=f.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{Xa:f,nu:s,Cs:d,mutatedKeys:l}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const l=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((y,_)=>function(D,U){const H=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Vt:L})}};return H(D)-H(U)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(s),o=o!=null&&o;const d=e&&!o?this.su():[],m=this.Ya.size===0&&this.current&&!o?1:0,g=m!==this.Ja;return this.Ja=m,f.length!==0||g?{snapshot:new Qo(this.query,t.Xa,l,f,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new jT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=$t(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const e=[];return t.forEach(s=>{this.Ya.has(s)||e.push(new OS(s))}),this.Ya.forEach(s=>{t.has(s)||e.push(new xS(s))}),e}au(t){this.Ha=t.$s,this.Ya=$t();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Qo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const hv="SyncEngine";class Tk{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class bk{constructor(t){this.key=t,this.cu=!1}}class wk{constructor(t,e,s,o,l,f){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Va(d=>Yw(d),zh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ee(Rt.comparator),this.Eu=new Map,this.du=new ev,this.Au={},this.Ru=new Map,this.Vu=Yo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Sk(r,t,e=!0){const s=PS(r);let o;const l=s.hu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await NS(s,t,e,!0),o}async function Ak(r,t){const e=PS(r);await NS(e,t,!0,!1)}async function NS(r,t,e,s){const o=await H6(r.localStore,Qr(t)),l=o.targetId,f=r.sharedClientState.addLocalQueryTarget(l,e);let d;return s&&(d=await Rk(r,t,l,f==="current",o.resumeToken)),r.isPrimaryClient&&e&&wS(r.remoteStore,o),d}async function Rk(r,t,e,s,o){r.fu=(_,b,D)=>async function(H,L,J,nt){let X=L.view.tu(J);X.Cs&&(X=await MT(H.localStore,L.query,!1).then(({documents:x})=>L.view.tu(x,X)));const rt=nt&&nt.targetChanges.get(L.targetId),tt=nt&&nt.targetMismatches.get(L.targetId)!=null,W=L.view.applyChanges(X,H.isPrimaryClient,rt,tt);return qT(H,L.targetId,W.ou),W.snapshot}(r,_,b,D);const l=await MT(r.localStore,t,!0),f=new Ek(t,l.$s),d=f.tu(l.documents),m=tc.createSynthesizedTargetChangeForCurrentChange(e,s&&r.onlineState!=="Offline",o),g=f.applyChanges(d,r.isPrimaryClient,m);qT(r,e,g.ou);const y=new Tk(t,e,f);return r.hu.set(t,y),r.Pu.has(e)?r.Pu.get(e).push(t):r.Pu.set(e,[t]),g.snapshot}async function Ck(r,t,e){const s=Vt(r),o=s.hu.get(t),l=s.Pu.get(o.targetId);if(l.length>1)return s.Pu.set(o.targetId,l.filter(f=>!zh(f,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),e&&sv(s.remoteStore,o.targetId),tg(s,o.targetId)}).catch(il)):(tg(s,o.targetId),await Wm(s.localStore,o.targetId,!0))}async function Ik(r,t){const e=Vt(r),s=e.hu.get(t),o=e.Pu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),sv(e.remoteStore,s.targetId))}async function xk(r,t,e){const s=Pk(r);try{const o=await function(f,d){const m=Vt(f),g=Ke.now(),y=d.reduce((D,U)=>D.add(U.key),$t());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let U=Hi(),H=$t();return m.Bs.getEntries(D,y).next(L=>{U=L,U.forEach((J,nt)=>{nt.isValidDocument()||(H=H.add(J))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,U)).next(L=>{_=L;const J=[];for(const nt of d){const X=HM(nt,_.get(nt.key).overlayedDocument);X!=null&&J.push(new Pa(nt.key,X,zw(X.value.mapValue),Vi.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,J,d)}).next(L=>{b=L;const J=L.applyToLocalDocumentSet(_,H);return m.documentOverlayCache.saveOverlays(D,L.batchId,J)})}).then(()=>({batchId:b.batchId,changes:Ww(_)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,d,m){let g=f.Au[f.currentUser.toKey()];g||(g=new Ee(jt)),g=g.insert(d,m),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,e),await nc(s,o.changes),await Yh(s.remoteStore)}catch(o){const l=cv(o,"Failed to persist write");e.reject(l)}}async function DS(r,t){const e=Vt(r);try{const s=await j6(e.localStore,t);t.targetChanges.forEach((o,l)=>{const f=e.Eu.get(l);f&&(ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?ne(f.cu,14607):o.removedDocuments.size>0&&(ne(f.cu,42227),f.cu=!1))}),await nc(e,s,t)}catch(s){await il(s)}}function HT(r,t,e){const s=Vt(r);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.hu.forEach((l,f)=>{const d=f.view.Fa(t);d.snapshot&&o.push(d.snapshot)}),function(f,d){const m=Vt(f);m.onlineState=d;let g=!1;m.queries.forEach((y,_)=>{for(const b of _.Sa)b.Fa(d)&&(g=!0)}),g&&fv(m)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Ok(r,t,e){const s=Vt(r);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Eu.get(t),l=o&&o.key;if(l){let f=new Ee(Rt.comparator);f=f.insert(l,yn.newNoDocument(l,kt.min()));const d=$t().add(l),m=new $h(kt.min(),new Map,new Ee(jt),f,d);await DS(s,m),s.Iu=s.Iu.remove(l),s.Eu.delete(t),dv(s)}else await Wm(s.localStore,t,!1).then(()=>tg(s,t,e)).catch(il)}async function Nk(r,t){const e=Vt(r),s=t.batch.batchId;try{const o=await U6(e.localStore,t);kS(e,s,null),MS(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await nc(e,o)}catch(o){await il(o)}}async function Dk(r,t,e){const s=Vt(r);try{const o=await function(f,d){const m=Vt(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next(_=>(ne(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>m.localDocuments.getDocuments(g,y))})}(s.localStore,t);kS(s,t,e),MS(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await nc(s,o)}catch(o){await il(o)}}function MS(r,t){(r.Ru.get(t)||[]).forEach(e=>{e.resolve()}),r.Ru.delete(t)}function kS(r,t,e){const s=Vt(r);let o=s.Au[s.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function tg(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),e&&r.lu.gu(s,e);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||VS(r,s)})}function VS(r,t){r.Tu.delete(t.path.canonicalString());const e=r.Iu.get(t);e!==null&&(sv(r.remoteStore,e),r.Iu=r.Iu.remove(t),r.Eu.delete(e),dv(r))}function qT(r,t,e){for(const s of e)s instanceof xS?(r.du.addReference(s.key,t),Mk(r,s)):s instanceof OS?(mt(hv,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||VS(r,s.key)):Nt(19791,{pu:s})}function Mk(r,t){const e=t.key,s=e.path.canonicalString();r.Iu.get(e)||r.Tu.has(s)||(mt(hv,"New document in limbo: "+e),r.Tu.add(s),dv(r))}function dv(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const e=new Rt(Re.fromString(t)),s=r.Vu.next();r.Eu.set(s,new bk(e)),r.Iu=r.Iu.insert(e,s),wS(r.remoteStore,new As(Qr(Xg(e.path)),s,"TargetPurposeLimboResolution",Lh.le))}}async function nc(r,t,e){const s=Vt(r),o=[],l=[],f=[];s.hu.isEmpty()||(s.hu.forEach((d,m)=>{f.push(s.fu(m,t,e).then(g=>{var y;if((g||e)&&s.isPrimaryClient){const _=g?!g.fromCache:(y=e==null?void 0:e.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){o.push(g);const _=rv.Rs(m.targetId,g);l.push(_)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(m,g){const y=Vt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>lt.forEach(g,b=>lt.forEach(b.ds,D=>y.persistence.referenceDelegate.addReference(_,b.targetId,D)).next(()=>lt.forEach(b.As,D=>y.persistence.referenceDelegate.removeReference(_,b.targetId,D)))))}catch(_){if(!sl(_))throw _;mt(iv,"Failed to update sequence numbers: "+_)}for(const _ of g){const b=_.targetId;if(!_.fromCache){const D=y.xs.get(b),U=D.snapshotVersion,H=D.withLastLimboFreeSnapshotVersion(U);y.xs=y.xs.insert(b,H)}}}(s.localStore,l))}async function kk(r,t){const e=Vt(r);if(!e.currentUser.isEqual(t)){mt(hv,"User change. New user:",t.toKey());const s=await _S(e.localStore,t);e.currentUser=t,function(l,f){l.Ru.forEach(d=>{d.forEach(m=>{m.reject(new At(ct.CANCELLED,f))})}),l.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await nc(e,s.ks)}}function Vk(r,t){const e=Vt(r),s=e.Eu.get(t);if(s&&s.cu)return $t().add(s.key);{let o=$t();const l=e.Pu.get(t);if(!l)return o;for(const f of l){const d=e.hu.get(f);o=o.unionWith(d.view.eu)}return o}}function PS(r){const t=Vt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=DS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ok.bind(null,t),t.lu.Y_=vk.bind(null,t.eventManager),t.lu.gu=yk.bind(null,t.eventManager),t}function Pk(r){const t=Vt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dk.bind(null,t),t}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return L6(this.persistence,new k6,t.initialUser,this.serializer)}Su(t){return new yS(nv.fi,this.serializer)}bu(t){return new F6}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class Lk extends yh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){ne(this.persistence.referenceDelegate instanceof gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _6(s,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new yS(s=>gh.fi(s,e),this.serializer)}}class eg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kk.bind(null,this.syncEngine),await hk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new pk}()}createDatastore(t){const e=Gh(t.databaseInfo.databaseId),s=function(l){return new Q6(l)}(t.databaseInfo);return function(l,f,d,m){return new J6(l,f,d,m)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,o,l,f,d){return new ek(s,o,l,f,d)}(this.localStore,this.datastore,t.asyncQueue,e=>HT(this.syncEngine,e,0),function(){return PT.C()?new PT:new $6}())}createSyncEngine(t,e){return function(o,l,f,d,m,g,y){const _=new wk(o,l,f,d,m,g);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const l=Vt(o);mt(Na,"RemoteStore shutting down."),l.da.add(5),await ec(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}eg.provider={build:()=>new eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):zi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class jk{constructor(t,e,s,o,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=Nw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async f=>{mt(Ls,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(mt(Ls,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=cv(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Tm(r,t){r.asyncQueue.verifyOperationInProgress(),mt(Ls,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let s=e.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await _S(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function FT(r,t){r.asyncQueue.verifyOperationInProgress();const e=await Bk(r);mt(Ls,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener(s=>UT(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>UT(t.remoteStore,o)),r._onlineComponents=t}async function Bk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){mt(Ls,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===ct.FAILED_PRECONDITION||o.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;Fo("Error using user provided cache. Falling back to memory cache: "+e),await Tm(r,new yh)}}else mt(Ls,"Using default OfflineComponentProvider"),await Tm(r,new Lk(void 0));return r._offlineComponents}async function LS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(mt(Ls,"Using user provided OnlineComponentProvider"),await FT(r,r._uninitializedComponentsProvider._online)):(mt(Ls,"Using default OnlineComponentProvider"),await FT(r,new eg))),r._onlineComponents}function zk(r){return LS(r).then(t=>t.syncEngine)}async function Hk(r){const t=await LS(r),e=t.eventManager;return e.onListen=Sk.bind(null,t.syncEngine),e.onUnlisten=Ck.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Ak.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Ik.bind(null,t.syncEngine),e}function qk(r,t,e={}){const s=new Os;return r.asyncQueue.enqueueAndForget(async()=>function(l,f,d,m,g){const y=new Uk({next:b=>{y.xu(),f.enqueueAndForget(()=>gk(l,_));const D=b.docs.has(d);!D&&b.fromCache?g.reject(new At(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&m&&m.source==="server"?g.reject(new At(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new _k(Xg(d.path),y,{includeMetadataChanges:!0,Qa:!0});return mk(l,_)}(await Hk(r),r.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(r,t,e){if(!e)throw new At(ct.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function $k(r,t,e,s){if(t===!0&&s===!0)throw new At(ct.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function GT(r){if(!Rt.isDocumentKey(r))throw new At(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pv(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Nt(12329,{type:typeof r})}function Uu(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new At(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=pv(r);throw new At(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firestore.googleapis.com",KT=!0;class YT{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new At(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jS,this.ssl=KT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:KT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<v6)throw new At(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$k("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=US((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mv{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new K4;switch(s.type){case"firstParty":return new W4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new At(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=$T.get(e);s&&(mt("ComponentProvider","Removing Datastore"),$T.delete(e),s.terminate())}(this),Promise.resolve()}}function Gk(r,t,e,s={}){var o;r=Uu(r,mv);const l=tl(t),f=r._getSettings(),d=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${e}`;l&&(k1(`https://${m}`),V1("Firestore",!0)),f.host!==jS&&f.host!==m&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:m,ssl:l,emulatorOptions:s});if(!Ra(g,d)&&(r._setSettings(g),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=vn.MOCK_USER;else{y=sO(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new At(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new vn(b)}r._authCredentials=new Y4(new xw(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new gv(this.firestore,t,this._query)}}class lr{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new lr(this.firestore,t,this._key)}}class ju extends gv{constructor(t,e,s){super(t,e,Xg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new lr(this.firestore,null,new Rt(t))}withConverter(t){return new ju(this.firestore,t,this._path)}}function BS(r,t,...e){if(r=wr(r),arguments.length===1&&(t=Nw.newId()),Fk("doc","path",t),r instanceof mv){const s=Re.fromString(t,...e);return GT(s),new lr(r,null,new Rt(s))}{if(!(r instanceof lr||r instanceof ju))throw new At(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Re.fromString(t,...e));return GT(s),new lr(r.firestore,r instanceof ju?r.converter:null,new Rt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="AsyncQueue";class XT{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new TS(this,"async_queue_retry"),this.rc=()=>{const s=Em();s&&mt(QT,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const e=Em();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=Em();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new Os;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!sl(t))throw t;mt(QT,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,zi("INTERNAL UNHANDLED ERROR: ",WT(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=e,e}enqueueAfterDelay(t,e,s){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const o=uv.createAndSchedule(this,t,e,s,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&Nt(47125,{cc:WT(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function WT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class vv extends mv{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new XT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new XT(t),this._firestoreClient=void 0,await t}}}function Kk(r,t){const e=typeof r=="object"?r:j1(),s=typeof r=="string"?r:uh,o=kg(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=rO("firestore");l&&Gk(o,...l)}return o}function zS(r){if(r._terminated)throw new At(ct.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Yk(r),r._firestoreClient}function Yk(r){var t,e,s;const o=r._freezeSettings(),l=function(d,m,g,y){return new hM(d,m,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,US(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new jk(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xo(hn.fromBase64String(t))}catch(e){throw new At(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Xo(hn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new At(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new At(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new At(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=/^__.*__$/;class Xk{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Pa(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ju(t,this.data,e,this.fieldTransforms)}}function qS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ic:r})}}class Tv{constructor(t,e,s,o,l,f){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Tv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return _h(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(qS(this.Ic)&&Qk.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class Wk{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Gh(t)}bc(t,e,s,o=!1){return new Tv({Ic:t,methodName:e,wc:s,path:fn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zk(r){const t=r._freezeSettings(),e=Gh(r._databaseId);return new Wk(r._databaseId,!!t.ignoreUndefinedProperties,e)}function Jk(r,t,e,s,o,l={}){const f=r.bc(l.merge||l.mergeFields?2:0,t,e,o);KS("Data must be an object, but it was:",f,s);const d=$S(s,f);let m,g;if(l.merge)m=new br(f.fieldMask),g=f.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=tV(t,_,e);if(!f.contains(b))throw new At(ct.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);nV(y,b)||y.push(b)}m=new br(y),g=f.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,g=f.fieldTransforms;return new Xk(new or(d),m,g)}function FS(r,t){if(GS(r=wr(r)))return KS("Unsupported field value:",t,r),$S(r,t);if(r instanceof HS)return function(s,o){if(!qS(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const l=[];let f=0;for(const d of s){let m=FS(d,o.fc(f));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),f++}return{arrayValue:{values:l}}}(r,t)}return function(s,o){if((s=wr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PM(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ke.fromDate(s);return{timestampValue:mh(o.serializer,l)}}if(s instanceof Ke){const l=new Ke(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mh(o.serializer,l)}}if(s instanceof _v)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xo)return{bytesValue:cS(o.serializer,s._byteString)};if(s instanceof lr){const l=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(l))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:tv(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ev)return function(f,d){return{mapValue:{fields:{[jw]:{stringValue:Bw},[ch]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return Wg(d.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${pv(s)}`)}(r,t)}function $S(r,t){const e={};return Mw(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ka(r,(s,o)=>{const l=FS(o,t.Ac(s));l!=null&&(e[s]=l)}),{mapValue:{fields:e}}}function GS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ke||r instanceof _v||r instanceof Xo||r instanceof lr||r instanceof HS||r instanceof Ev)}function KS(r,t,e){if(!GS(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const s=pv(e);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function tV(r,t,e){if((t=wr(t))instanceof yv)return t._internalPath;if(typeof t=="string")return YS(r,t);throw _h("Field path arguments must be of type string or ",r,!1,void 0,e)}const eV=new RegExp("[~\\*/\\[\\]]");function YS(r,t,e){if(t.search(eV)>=0)throw _h(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new yv(...t.split("."))._internalPath}catch{throw _h(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function _h(r,t,e,s,o){const l=s&&!s.isEmpty(),f=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||f)&&(m+=" (found",l&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new At(ct.INVALID_ARGUMENT,d+r+m)}function nV(r,t){return r.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,e,s,o,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(XS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class rV extends QS{data(){return super.data()}}function XS(r,t){return typeof t=="string"?YS(r,t):t instanceof yv?t._internalPath:t._delegate._internalPath}class iV{convertValue(t,e="none"){switch(Vs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ks(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Nt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return ka(t,(o,l)=>{s[o]=this.convertValue(l,e)}),s}convertVectorValue(t){var e,s,o;const l=(o=(s=(e=t.fields)===null||e===void 0?void 0:e[ch].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Oe(f.doubleValue));return new Ev(l)}convertGeoPoint(t){return new _v(Oe(t.latitude),Oe(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=jh(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Mu(t));default:return null}}convertTimestamp(t){const e=Ms(t);return new Ke(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Re.fromString(t);ne(gS(s),9688,{name:t});const o=new ku(s.get(1),s.get(3)),l=new Rt(s.popFirst(5));return o.isEqual(e)||zi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(r,t,e){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class WS extends QS{constructor(t,e,s,o,l,f){super(t,e,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new oV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(XS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class oV extends WS{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(r){r=Uu(r,lr);const t=Uu(r.firestore,vv);return qk(zS(t),r._key).then(e=>hV(t,r,e))}class uV extends iV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new lr(this.firestore,null,e)}}function cV(r,t,e){r=Uu(r,lr);const s=Uu(r.firestore,vv),o=sV(r.converter,t);return fV(s,[Jk(Zk(s),"setDoc",r._key,o,r.converter!==null,e).toMutation(r._key,Vi.none())])}function fV(r,t){return function(s,o){const l=new Os;return s.asyncQueue.enqueueAndForget(async()=>xk(await zk(s),o,l)),l.promise}(zS(r),t)}function hV(r,t,e){const s=e.docs.get(t._key),o=new uV(r);return new WS(r,o,t._key,s,new aV(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){rl=o})(el),qo(new Ca("firestore",(s,{instanceIdentifier:o,options:l})=>{const f=s.getProvider("app").getImmediate(),d=new vv(new Q4(s.getProvider("auth-internal")),new Z4(f,s.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new At(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(g.options.projectId,y)}(f,o),f);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Is(rT,iT,t),Is(rT,iT,"esm2017")})();const dV={apiKey:"AIzaSyBozVVinEK5nlXi4xR7_ZE_2tQeSMwN8Us",authDomain:"login-auth-366ba.firebaseapp.com",projectId:"login-auth-366ba",storageBucket:"login-auth-366ba.firebasestorage.app",messagingSenderId:"559443453077",appId:"1:559443453077:web:c5689dced0e72da81ce79c"},pV=U1(dV),Eh=q4(),ZS=Kk(pV);function mV({logInOpen:r,toggleLogIn:t,toggleSignUp:e,setUserData:s}){const[o,l]=R.useState(""),[f,d]=R.useState(""),m=async g=>{g.preventDefault();try{await OD(Eh,o,f);const y=Eh.currentUser,_=await lV(BS(ZS,"Users",y.uid));s(_),console.log("User logged in."),_a.success("Logged in."),t()}catch(y){console.log(y.message),_a.warning(y.message)}};return N.jsxs(N.Fragment,{children:[N.jsx(rg,{richColors:!0,position:"top-center"}),N.jsxs(qr,{show:r,onHide:t,children:[N.jsx(qr.Header,{closeButton:!0,children:N.jsx(sr,{className:"flex-center",children:N.jsx(qr.Title,{children:"Log in"})})}),N.jsx(qr.Body,{children:N.jsxs(je,{onSubmit:g=>m(g),children:[N.jsxs(je.Group,{className:"mb-3",controlId:"email-input",children:[N.jsx(je.Label,{children:"Email"}),N.jsx(je.Control,{autoFocus:!0,required:!0,type:"text",value:o,onChange:g=>l(g.target.value)})]}),N.jsxs(je.Group,{className:"mb-3",controlId:"password-input",children:[N.jsx(je.Label,{children:"Password"}),N.jsx(je.Control,{required:!0,type:"password",value:f,onChange:g=>d(g.target.value)})]}),N.jsx(Pi,{variant:"primary",type:"submit",children:"Log in"})]})}),N.jsxs(qr.Footer,{className:"flex-center",children:[N.jsx(sr,{className:"flex-center",children:N.jsx("h5",{children:"OR"})}),N.jsx(sr,{className:"flex-center",children:N.jsx(Pi,{variant:"primary",onClick:()=>{t(),e()},children:"Sign up"})})]})]})]})}function gV({signUpOpen:r,toggleSignUp:t}){const[e,s]=R.useState(""),[o,l]=R.useState(""),[f,d]=R.useState(""),[m,g]=R.useState(""),y=async _=>{if(_.preventDefault(),f!==m){console.log("Passwords dont match!"),_a.warning("Passwords don't match!");return}else if(f.length<6){console.log("Password needs to be at least 6 characters long!"),_a.warning("Password is too short - at least 6 characters.");return}else try{await xD(Eh,o,f);const b=Eh.currentUser;console.log(b),b&&await cV(BS(ZS,"Users",b.uid),{email:b.email,nickname:e,practicePlayed:0,pracitceGuessed:0,classicPlayed:0,classicGuessed:0,royalePlayed:0,royaleScore:0,achievements:[]}),_a.success("Signed up."),console.log("User registered successfully."),t()}catch(b){console.log(b.message),_a(b.message)}};return N.jsxs(N.Fragment,{children:[N.jsx(rg,{richColors:!0,position:"top-center"}),N.jsxs(qr,{show:r,onHide:t,backdrop:"static",children:[N.jsx(qr.Header,{closeButton:!0,children:N.jsx(sr,{className:"flex-center",children:N.jsx(qr.Title,{children:"Sign up"})})}),N.jsx(qr.Body,{children:N.jsxs(je,{onSubmit:y,children:[N.jsxs(je.Group,{className:"mb-3",controlId:"nickname-input",children:[N.jsx(je.Label,{children:"Nickname"}),N.jsx(je.Control,{required:!0,type:"text",autoFocus:!0,value:e,onChange:_=>s(_.target.value),placeholder:"example123"})]}),N.jsxs(je.Group,{required:!0,className:"mb-3",controlId:"email-input",children:[N.jsx(je.Label,{children:"Email address"}),N.jsx(je.Control,{required:!0,type:"email",value:o,onChange:_=>l(_.target.value),placeholder:"name@example.com"})]}),N.jsxs(je.Group,{className:"mb-3",controlId:"password-input",children:[N.jsx(je.Label,{children:"Password"}),N.jsx(je.Control,{required:!0,type:"password",value:f,onChange:_=>d(_.target.value),placeholder:"PasswordExample123?!"})]}),N.jsxs(je.Group,{className:"mb-3",controlId:"repeat-password-input",children:[N.jsx(je.Label,{children:"Repeat password"}),N.jsx(je.Control,{required:!0,type:"password",value:m,onChange:_=>g(_.target.value),placeholder:"PasswordExample123?!"})]}),N.jsx(Pi,{variant:"primary",type:"submit",children:"Sign up"})]})}),N.jsxs(qr.Footer,{className:"flex-center",children:[N.jsx(sr,{className:"flex-center",children:N.jsx("h5",{children:"OR"})}),N.jsx(sr,{className:"flex-center",children:N.jsx(Pi,{variant:"primary",onClick:()=>{console.log("Hello"),t()},children:"Continue with Google"})})]})]})]})}function Fr(r=!1){const[t,e]=R.useState(r),s=R.useCallback(()=>{e(o=>!o)},[]);return[t,s]}function vV({darkMode:r,toggleDarkMode:t}){return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"dark-mode-button flex-center",children:[N.jsx("input",{type:"checkbox",id:"dark-mode-input",className:"dark-mode-input",onClick:t}),N.jsxs("label",{htmlFor:"dark-mode-input",className:`dark-mode-label ${r}`,children:[N.jsx("div",{className:"night",children:"night"}),N.jsx("div",{className:"day",children:"day"})]})]})})}function yV(r){return Ng({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"28",d:"M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296"},child:[]},{tag:"circle",attr:{cx:"250",cy:"348",r:"20"},child:[]}]})(r)}function _V(r){return Ng({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 496H72a24 24 0 0 1-24-24V328a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v144a24 24 0 0 1-24 24zm224 0h-32a24 24 0 0 1-24-24V232a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v240a24 24 0 0 1-24 24zm112 0h-32a24 24 0 0 1-24-24V120a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v352a24 24 0 0 1-24 24zm-224 0h-32a24 24 0 0 1-24-24V40a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v432a24 24 0 0 1-24 24z"},child:[]}]})(r)}function EV({darkMode:r,toggleDarkMode:t,toggleLogIn:e,userData:s,setUserData:o,setGameMode:l,playWordle:f,togglePlayWordle:d}){return N.jsx(xf,{className:`custom-navbar ${r}`,children:N.jsxs(sr,{children:[N.jsx(xf.Brand,{className:`nav-brand ${r}`,onClick:()=>f&&d(),children:"Wordle"}),N.jsx(xf.Toggle,{"aria-controls":"basic-navbar-nav"}),N.jsx(xf.Collapse,{id:"basic-navbar-nav",children:N.jsxs(Cx,{className:"me-auto",children:[N.jsxs(Of,{title:"Mode",id:"basic-nav-dropdown",className:r,children:[N.jsx(Of.Item,{onClick:()=>l("Classic"),children:"Classic"}),N.jsx(Of.Item,{onClick:()=>l("Royale"),children:"Royale"}),N.jsx(Of.Item,{onClick:()=>l("Practice"),children:"Practice"})]}),N.jsx(sr,{className:"stats flex-center",children:N.jsx(_V,{size:"50%",className:`stats-icon ${r}`})}),N.jsx(sr,{className:"info flex-center",children:N.jsx(yV,{size:"60%",className:`info-icon ${r}`})}),s?N.jsx(sr,{className:"button flex-center",children:N.jsx(Pi,{variant:"primary",onClick:()=>o(null),style:{fontSize:"12px",width:"60px"},children:"Log out"})}):N.jsx(sr,{className:"button flex-center",children:N.jsx(Pi,{variant:"primary",onClick:e,style:{fontSize:"12px",width:"60px"},children:"Log in"})}),N.jsx(vV,{darkMode:r,toggleDarkMode:t})]})})]})})}const TV="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function bV({darkMode:r,userData:t,setUserData:e,gameMode:s}){const[o,l]=R.useState([]),f=R.useRef([]),[d,m]=Fr(!1),[g,y]=Fr(!1),_=R.useRef(new Set);return R.useEffect(()=>{(async()=>{try{const H=[...(await(await fetch(TV)).json()).words];H.forEach(J=>_.current.add(J.toUpperCase()));const L=H[Math.floor(Math.random()*(H.length-1))];l(L.toUpperCase().split("")),f.current=L.toUpperCase().split(""),console.log(f.current.join(""))}catch(D){console.error(D)}})()},[g]),N.jsx(Og,{darkMode:r,userData:t,setUserData:e,gameMode:s,solution:o,wordSet:_,isGameOver:d,toggleIsGameOver:m,toggleRestart:y},g)}const wV="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function SV({darkMode:r,userData:t,setUserData:e,gameMode:s}){const o=R.useRef([]),[l,f]=R.useState([]),d=R.useRef(0),[m,g]=Fr(!1),[y,_]=Fr(!1),b=R.useRef(new Set);return R.useEffect(()=>{(async()=>{try{const L=[...(await(await fetch(wV)).json()).words];for(L.forEach(J=>b.current.add(J.toUpperCase()));o.current.length<5;){const J=L[Math.floor(Math.random()*(L.length-1))];o.current=[...o.current,J.toUpperCase().split("")]}f(o.current[0]),console.log("heloooo1: "+o.current[0]),o.current.forEach(J=>console.log(J.join("")))}catch(U){console.error(U)}})()},[]),R.useEffect(()=>{console.log("index: "+d.current),o.current[d.current]&&(d.current++,f(o.current[d.current]))},[y]),N.jsxs(N.Fragment,{children:[N.jsx("div",{style:{color:"white"},children:l}),N.jsx(Og,{darkMode:r,userData:t,setUserData:e,gameMode:s,solution:l,wordSet:b,isGameOver:m,toggleIsGameOver:g,toggleRestart:_},y)]})}const AV="https://raw.githubusercontent.com/Bengor0/wordle-words-API/refs/heads/main/wordle-wordbank.json";function RV({darkMode:r,userData:t,setUserData:e,gameMode:s}){const[o,l]=R.useState([]),f=R.useRef([]),[d,m]=Fr(!1),[g,y]=Fr(!1),_=R.useRef(new Set);return R.useEffect(()=>{(async()=>{try{const H=[...(await(await fetch(AV)).json()).words];H.forEach(J=>_.current.add(J.toUpperCase()));const L=H[Math.floor(Math.random()*(H.length-1))];l(L.toUpperCase().split("")),f.current=L.toUpperCase().split(""),console.log(f.current.join(""))}catch(D){console.error(D)}})()},[g]),N.jsx(Og,{darkMode:r,userData:t,setUserData:e,gameMode:s,solution:o,wordSet:_,isGameOver:d,toggleIsGameOver:m,toggleRestart:y},g)}function CV({darkMode:r,userData:t,setUserData:e,gameMode:s}){return N.jsxs(N.Fragment,{children:[s==="classic"&&N.jsx(bV,{darkMode:r,userData:t,setUserData:e,gameMode:s}),s==="royale"&&N.jsx(SV,{darkMode:r,userData:t,setUserData:e,gameMode:s}),s==="practice"&&N.jsx(RV,{darkMode:r,userData:t,setUserData:e,gameMode:s})]})}function IV(){const[r,t]=Lx(!0),[e,s]=Fr(!1),[o,l]=Fr(!1),[f,d]=Fr(!1);Fr(!1);const[m,g]=R.useState(null),[y,_]=R.useState("practice");return document.querySelector("body").classList=`${r}`,N.jsxs(N.Fragment,{children:[N.jsx(EV,{darkMode:r,toggleDarkMode:t,toggleLogIn:l,userData:m,setUserData:g,setGameMode:_,playWordle:e,togglePlayWordle:s}),N.jsx("main",{className:`flex-center ${r}`,children:e?N.jsx(CV,{darkMode:r,userData:m,setUserData:g,gameMode:y}):N.jsx(Yx,{togglePlayWordle:s,gameMode:y,setGameMode:_,darkMode:r})}),N.jsx(mV,{logInOpen:o,toggleLogIn:l,toggleSignUp:d,setUserData:g}),N.jsx(gV,{signUpOpen:f,toggleSignUp:d,setUserData:g})]})}NR.createRoot(document.getElementById("root")).render(N.jsx(R.StrictMode,{children:N.jsx(IV,{})}));
